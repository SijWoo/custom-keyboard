ARM GAS  /tmp/ccz7EJrf.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fs_fat_entry.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.FS_FAT_EntryAttribSet,"ax",%progbits
  18              		.align	1
  19              		.global	FS_FAT_EntryAttribSet
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	FS_FAT_EntryAttribSet:
  27              	.LVL0:
  28              	.LFB0:
  29              		.file 1 "rtos/uC-FS/FAT/fs_fat_entry.c"
   1:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
   2:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
   3:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                                uC/FS
   4:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                      The Embedded File System
   5:rtos/uC-FS/FAT/fs_fat_entry.c **** *
   6:rtos/uC-FS/FAT/fs_fat_entry.c **** *                         (c) Copyright 2008-2019; Silicon Laboratories Inc.,
   7:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uC-FS/FAT/fs_fat_entry.c **** *
   9:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uC-FS/FAT/fs_fat_entry.c **** *
  11:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  license, you may not use this software.
  15:rtos/uC-FS/FAT/fs_fat_entry.c **** *
  16:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uC-FS/FAT/fs_fat_entry.c **** *
  19:rtos/uC-FS/FAT/fs_fat_entry.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uC-FS/FAT/fs_fat_entry.c **** *
  21:rtos/uC-FS/FAT/fs_fat_entry.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  23:rtos/uC-FS/FAT/fs_fat_entry.c **** */
  24:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  25:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  26:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  27:rtos/uC-FS/FAT/fs_fat_entry.c **** *
  28:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                     FILE SYSTEM FAT MANAGEMENT
  29:rtos/uC-FS/FAT/fs_fat_entry.c **** *
ARM GAS  /tmp/ccz7EJrf.s 			page 2


  30:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                            ENTRY ACCESS
  31:rtos/uC-FS/FAT/fs_fat_entry.c **** *
  32:rtos/uC-FS/FAT/fs_fat_entry.c **** * Filename : fs_fat_entry.c
  33:rtos/uC-FS/FAT/fs_fat_entry.c **** * Version  : v4.07.06
  34:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  35:rtos/uC-FS/FAT/fs_fat_entry.c **** */
  36:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  37:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  38:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  39:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                               MODULE
  40:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  41:rtos/uC-FS/FAT/fs_fat_entry.c **** */
  42:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  43:rtos/uC-FS/FAT/fs_fat_entry.c **** #define  MICRIUM_SOURCE
  44:rtos/uC-FS/FAT/fs_fat_entry.c **** #define  FS_FAT_ENTRY_MODULE
  45:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  46:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  47:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  48:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  49:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                            INCLUDE FILES
  50:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  51:rtos/uC-FS/FAT/fs_fat_entry.c **** */
  52:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  53:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  <lib_mem.h>
  54:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "../Source/fs.h"
  55:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "../Source/fs_buf.h"
  56:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "../Source/fs_entry.h"
  57:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "../Source/fs_file.h"
  58:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "../Source/fs_vol.h"
  59:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "fs_fat.h"
  60:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "fs_fat_entry.h"
  61:rtos/uC-FS/FAT/fs_fat_entry.c **** #include  "fs_fat_journal.h"
  62:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  63:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  64:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  65:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  66:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                               MODULE
  67:rtos/uC-FS/FAT/fs_fat_entry.c **** *
  68:rtos/uC-FS/FAT/fs_fat_entry.c **** * Note(s) : (1) See 'fs_fat.h  MODULE'.
  69:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  70:rtos/uC-FS/FAT/fs_fat_entry.c **** */
  71:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  72:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef   FS_FAT_MODULE_PRESENT                                  /* See Note #1.                    
  73:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  74:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  75:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  76:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  77:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                            LOCAL DEFINES
  78:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  79:rtos/uC-FS/FAT/fs_fat_entry.c **** */
  80:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  81:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  82:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  83:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  84:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                          LOCAL DATA TYPES
  85:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  86:rtos/uC-FS/FAT/fs_fat_entry.c **** */
ARM GAS  /tmp/ccz7EJrf.s 			page 3


  87:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  88:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  89:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  90:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  91:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                           LOCAL CONSTANTS
  92:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  93:rtos/uC-FS/FAT/fs_fat_entry.c **** */
  94:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  95:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  96:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
  97:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
  98:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                            LOCAL TABLES
  99:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 100:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 101:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 102:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 103:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 104:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 105:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                       LOCAL GLOBAL VARIABLES
 106:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 107:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 108:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 109:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 110:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 111:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 112:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                            LOCAL MACRO'S
 113:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 114:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 115:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 116:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 117:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 118:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 119:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                      LOCAL FUNCTION PROTOTYPES
 120:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 121:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 122:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 123:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 124:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 125:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 126:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                     LOCAL CONFIGURATION ERRORS
 127:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 128:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 129:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 130:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 131:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 132:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 133:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 134:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                       SYSTEM DRIVER FUNCTIONS
 135:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 136:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 137:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 138:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 139:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 140:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 141:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                       FS_FAT_EntryAttribSet()
 142:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 143:rtos/uC-FS/FAT/fs_fat_entry.c **** * Description : Set a file or directory's attributes.
ARM GAS  /tmp/ccz7EJrf.s 			page 4


 144:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 145:rtos/uC-FS/FAT/fs_fat_entry.c **** * Argument(s) : p_vol       Pointer to volume on which the entry resides.
 146:rtos/uC-FS/FAT/fs_fat_entry.c **** *               ----------  Argument validated by caller.
 147:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 148:rtos/uC-FS/FAT/fs_fat_entry.c **** *               name_entry  Name of the entry.
 149:rtos/uC-FS/FAT/fs_fat_entry.c **** *               ----------  Argument validated by caller.
 150:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 151:rtos/uC-FS/FAT/fs_fat_entry.c **** *               attrib      Entry attributes to set (see Note #1).
 152:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 153:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 154:rtos/uC-FS/FAT/fs_fat_entry.c **** *               ----------  Argument validated by caller.
 155:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 156:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NONE                      Entry attributes set successfully.
 157:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_BUF_NONE_AVAIL            Buffer not available.
 158:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_DEV                       Device access error.
 159:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_NOT_FOUND           File system entry NOT found
 160:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_FOUND    Entry parent NOT found.
 161:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_DIR      Entry parent NOT a directory.
 162:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NAME_INVALID              Invalid file name or path.
 163:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 164:rtos/uC-FS/FAT/fs_fat_entry.c **** * Return(s)   : none.
 165:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 166:rtos/uC-FS/FAT/fs_fat_entry.c **** * Note(s)     : (1) (a) FAT does NOT support write-only file attributes.  Consequently, it is NOT
 167:rtos/uC-FS/FAT/fs_fat_entry.c **** *                       possible to reset a file's read attribute.
 168:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 169:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   (b) See 'FSEntry_AttribSet() Note #2'.
 170:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 171:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 172:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 173:rtos/uC-FS/FAT/fs_fat_entry.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
 174:rtos/uC-FS/FAT/fs_fat_entry.c **** void  FS_FAT_EntryAttribSet (FS_VOL    *p_vol,
 175:rtos/uC-FS/FAT/fs_fat_entry.c ****                              CPU_CHAR  *name_entry,
 176:rtos/uC-FS/FAT/fs_fat_entry.c ****                              FS_FLAGS   attrib,
 177:rtos/uC-FS/FAT/fs_fat_entry.c ****                              FS_ERR    *p_err)
 178:rtos/uC-FS/FAT/fs_fat_entry.c **** {
  30              		.loc 1 178 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 64
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 178 1 is_stmt 0 view .LVU1
  35 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 20
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 93B0     		sub	sp, sp, #76
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 96
  46 0004 1C46     		mov	r4, r3
 179:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_INT08U         fat_attrib;
  47              		.loc 1 179 5 is_stmt 1 view .LVU2
 180:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_FILE_DATA   entry_data;
  48              		.loc 1 180 5 view .LVU3
 181:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_BUF            *p_buf;
ARM GAS  /tmp/ccz7EJrf.s 			page 5


  49              		.loc 1 181 5 view .LVU4
 182:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 183:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 184:rtos/uC-FS/FAT/fs_fat_entry.c **** #if (FS_CFG_ERR_ARG_CHK_DBG_EN == DEF_ENABLED)                  /* ------------------ VALIDATE ATTR
 185:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_CLR(attrib, FS_ENTRY_ATTRIB_RD) == DEF_YES) {/* See Note #1.                    
  50              		.loc 1 185 5 view .LVU5
  51              		.loc 1 185 8 is_stmt 0 view .LVU6
  52 0006 12F0010F 		tst	r2, #1
  53 000a 04D1     		bne	.L2
 186:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_FILE_INVALID_ATTRIB;
  54              		.loc 1 186 8 is_stmt 1 view .LVU7
  55              		.loc 1 186 15 is_stmt 0 view .LVU8
  56 000c 4FF44973 		mov	r3, #804
  57              	.LVL1:
  58              		.loc 1 186 15 view .LVU9
  59 0010 2380     		strh	r3, [r4]	@ movhi
 187:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
  60              		.loc 1 187 9 is_stmt 1 view .LVU10
  61              	.LVL2:
  62              	.L1:
 188:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 189:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 190:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 191:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 192:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------ FIND DIR ENTR
 193:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryFind( p_vol,
 194:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
 195:rtos/uC-FS/FAT/fs_fat_entry.c ****                          name_entry,
 196:rtos/uC-FS/FAT/fs_fat_entry.c ****                         (FS_FAT_MODE_RD | FS_FAT_MODE_FILE | FS_FAT_MODE_DIR),
 197:rtos/uC-FS/FAT/fs_fat_entry.c ****                          p_err);
 198:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 199:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 200:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 201:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 202:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 203:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 204:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ----------------- UPDATE DIR ENT
 205:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_buf = FSBuf_Get(p_vol);
 206:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 207:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == ((FS_BUF *)0)) {
 208:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 209:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 210:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 211:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 212:rtos/uC-FS/FAT/fs_fat_entry.c ****     fat_attrib = entry_data.Attrib;
 213:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 214:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_SET(attrib, FS_ENTRY_ATTRIB_HIDDEN) == DEF_YES) {
 215:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_SET_08(fat_attrib, FS_FAT_DIRENT_ATTR_HIDDEN);
 216:rtos/uC-FS/FAT/fs_fat_entry.c ****     } else {
 217:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_CLR_08(fat_attrib, FS_FAT_DIRENT_ATTR_HIDDEN);
 218:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 219:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 220:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_SET(attrib, FS_ENTRY_ATTRIB_WR) == DEF_YES) {
 221:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_CLR_08(fat_attrib, FS_FAT_DIRENT_ATTR_READ_ONLY);
 222:rtos/uC-FS/FAT/fs_fat_entry.c ****     } else {
 223:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_SET_08(fat_attrib, FS_FAT_DIRENT_ATTR_READ_ONLY);
 224:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
ARM GAS  /tmp/ccz7EJrf.s 			page 6


 225:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 226:rtos/uC-FS/FAT/fs_fat_entry.c ****     entry_data.Attrib = fat_attrib;
 227:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 228:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryUpdate( p_vol,
 229:rtos/uC-FS/FAT/fs_fat_entry.c ****                            p_buf,
 230:rtos/uC-FS/FAT/fs_fat_entry.c ****                           &entry_data,
 231:rtos/uC-FS/FAT/fs_fat_entry.c ****                            DEF_NO,
 232:rtos/uC-FS/FAT/fs_fat_entry.c ****                            p_err);
 233:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 234:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 235:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 236:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 237:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 238:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef FS_FAT_JOURNAL_MODULE_PRESENT
 239:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_JournalClrReset(p_vol, p_buf, p_err);
 240:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 241:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 242:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 243:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 244:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 245:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 246:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Flush(p_buf, p_err);
 247:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Free(p_buf);
 248:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 249:rtos/uC-FS/FAT/fs_fat_entry.c **** }
  63              		.loc 1 249 1 is_stmt 0 view .LVU11
  64 0012 13B0     		add	sp, sp, #76
  65              	.LCFI2:
  66              		.cfi_remember_state
  67              		.cfi_def_cfa_offset 20
  68              		@ sp needed
  69 0014 F0BD     		pop	{r4, r5, r6, r7, pc}
  70              	.LVL3:
  71              	.L2:
  72              	.LCFI3:
  73              		.cfi_restore_state
  74              		.loc 1 249 1 view .LVU12
  75 0016 0646     		mov	r6, r0
  76 0018 1546     		mov	r5, r2
 193:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
  77              		.loc 1 193 5 is_stmt 1 view .LVU13
  78 001a 0093     		str	r3, [sp]
  79 001c 40F20133 		movw	r3, #769
  80              	.LVL4:
 193:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
  81              		.loc 1 193 5 is_stmt 0 view .LVU14
  82 0020 0A46     		mov	r2, r1
  83              	.LVL5:
 193:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
  84              		.loc 1 193 5 view .LVU15
  85 0022 02A9     		add	r1, sp, #8
  86              	.LVL6:
 193:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
  87              		.loc 1 193 5 view .LVU16
  88 0024 FFF7FEFF 		bl	FS_FAT_LowEntryFind
  89              	.LVL7:
 198:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
ARM GAS  /tmp/ccz7EJrf.s 			page 7


  90              		.loc 1 198 5 is_stmt 1 view .LVU17
 198:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
  91              		.loc 1 198 9 is_stmt 0 view .LVU18
  92 0028 2388     		ldrh	r3, [r4]
 198:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
  93              		.loc 1 198 8 view .LVU19
  94 002a 002B     		cmp	r3, #0
  95 002c F1D1     		bne	.L1
 205:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  96              		.loc 1 205 5 is_stmt 1 view .LVU20
 205:rtos/uC-FS/FAT/fs_fat_entry.c **** 
  97              		.loc 1 205 13 is_stmt 0 view .LVU21
  98 002e 3046     		mov	r0, r6
  99 0030 FFF7FEFF 		bl	FSBuf_Get
 100              	.LVL8:
 207:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 101              		.loc 1 207 5 is_stmt 1 view .LVU22
 207:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 102              		.loc 1 207 8 is_stmt 0 view .LVU23
 103 0034 0746     		mov	r7, r0
 104 0036 E8B1     		cbz	r0, .L12
 212:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 105              		.loc 1 212 5 is_stmt 1 view .LVU24
 212:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 106              		.loc 1 212 16 is_stmt 0 view .LVU25
 107 0038 9DF83830 		ldrb	r3, [sp, #56]	@ zero_extendqisi2
 108              	.LVL9:
 214:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_SET_08(fat_attrib, FS_FAT_DIRENT_ATTR_HIDDEN);
 109              		.loc 1 214 5 is_stmt 1 view .LVU26
 214:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_SET_08(fat_attrib, FS_FAT_DIRENT_ATTR_HIDDEN);
 110              		.loc 1 214 8 is_stmt 0 view .LVU27
 111 003c 15F0040F 		tst	r5, #4
 112 0040 1BD0     		beq	.L5
 215:rtos/uC-FS/FAT/fs_fat_entry.c ****     } else {
 113              		.loc 1 215 9 is_stmt 1 view .LVU28
 114 0042 43F00203 		orr	r3, r3, #2
 115              	.LVL10:
 116              	.L6:
 220:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_CLR_08(fat_attrib, FS_FAT_DIRENT_ATTR_READ_ONLY);
 117              		.loc 1 220 5 view .LVU29
 220:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_CLR_08(fat_attrib, FS_FAT_DIRENT_ATTR_READ_ONLY);
 118              		.loc 1 220 8 is_stmt 0 view .LVU30
 119 0046 15F0020F 		tst	r5, #2
 120 004a 19D0     		beq	.L7
 221:rtos/uC-FS/FAT/fs_fat_entry.c ****     } else {
 121              		.loc 1 221 9 is_stmt 1 view .LVU31
 122 004c 03F0FE03 		and	r3, r3, #254
 123              	.LVL11:
 124              	.L8:
 226:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 125              		.loc 1 226 5 view .LVU32
 226:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 126              		.loc 1 226 23 is_stmt 0 view .LVU33
 127 0050 0E93     		str	r3, [sp, #56]
 228:rtos/uC-FS/FAT/fs_fat_entry.c ****                            p_buf,
 128              		.loc 1 228 5 is_stmt 1 view .LVU34
 129 0052 0094     		str	r4, [sp]
ARM GAS  /tmp/ccz7EJrf.s 			page 8


 130 0054 0023     		movs	r3, #0
 131              	.LVL12:
 228:rtos/uC-FS/FAT/fs_fat_entry.c ****                            p_buf,
 132              		.loc 1 228 5 is_stmt 0 view .LVU35
 133 0056 02AA     		add	r2, sp, #8
 134 0058 3946     		mov	r1, r7
 135 005a 3046     		mov	r0, r6
 136              	.LVL13:
 228:rtos/uC-FS/FAT/fs_fat_entry.c ****                            p_buf,
 137              		.loc 1 228 5 view .LVU36
 138 005c FFF7FEFF 		bl	FS_FAT_LowEntryUpdate
 139              	.LVL14:
 233:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 140              		.loc 1 233 5 is_stmt 1 view .LVU37
 233:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 141              		.loc 1 233 9 is_stmt 0 view .LVU38
 142 0060 2388     		ldrh	r3, [r4]
 233:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 143              		.loc 1 233 8 view .LVU39
 144 0062 83B9     		cbnz	r3, .L13
 246:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Free(p_buf);
 145              		.loc 1 246 5 is_stmt 1 view .LVU40
 146 0064 2146     		mov	r1, r4
 147 0066 3846     		mov	r0, r7
 148 0068 FFF7FEFF 		bl	FSBuf_Flush
 149              	.LVL15:
 247:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 150              		.loc 1 247 5 view .LVU41
 151 006c 3846     		mov	r0, r7
 152 006e FFF7FEFF 		bl	FSBuf_Free
 153              	.LVL16:
 154 0072 CEE7     		b	.L1
 155              	.LVL17:
 156              	.L12:
 208:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 157              		.loc 1 208 8 view .LVU42
 208:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 158              		.loc 1 208 15 is_stmt 0 view .LVU43
 159 0074 6423     		movs	r3, #100
 160 0076 2380     		strh	r3, [r4]	@ movhi
 209:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 161              		.loc 1 209 9 is_stmt 1 view .LVU44
 162 0078 CBE7     		b	.L1
 163              	.LVL18:
 164              	.L5:
 217:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 165              		.loc 1 217 9 view .LVU45
 166 007a 03F0FD03 		and	r3, r3, #253
 167              	.LVL19:
 217:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 168              		.loc 1 217 9 is_stmt 0 view .LVU46
 169 007e E2E7     		b	.L6
 170              	.L7:
 223:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 171              		.loc 1 223 9 is_stmt 1 view .LVU47
 172 0080 43F00103 		orr	r3, r3, #1
 173              	.LVL20:
ARM GAS  /tmp/ccz7EJrf.s 			page 9


 223:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 174              		.loc 1 223 9 is_stmt 0 view .LVU48
 175 0084 E4E7     		b	.L8
 176              	.LVL21:
 177              	.L13:
 234:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 178              		.loc 1 234 9 is_stmt 1 view .LVU49
 179 0086 3846     		mov	r0, r7
 180 0088 FFF7FEFF 		bl	FSBuf_Free
 181              	.LVL22:
 235:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 182              		.loc 1 235 9 view .LVU50
 183 008c C1E7     		b	.L1
 184              		.cfi_endproc
 185              	.LFE0:
 187              		.section	.text.FS_FAT_EntryCreate,"ax",%progbits
 188              		.align	1
 189              		.global	FS_FAT_EntryCreate
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 193              		.fpu fpv4-sp-d16
 195              	FS_FAT_EntryCreate:
 196              	.LVL23:
 197              	.LFB1:
 250:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 251:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 252:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 253:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 254:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 255:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                        FS_FAT_EntryCreate()
 256:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 257:rtos/uC-FS/FAT/fs_fat_entry.c **** * Description : Create an entry.
 258:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 259:rtos/uC-FS/FAT/fs_fat_entry.c **** * Argument(s) : p_vol       Pointer to volume on which entry resides.
 260:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 261:rtos/uC-FS/FAT/fs_fat_entry.c **** *               name_entry  Name of the entry.
 262:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 263:rtos/uC-FS/FAT/fs_fat_entry.c **** *               entry_type  Indicates whether the new entry shall be a directory or a file :
 264:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 265:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ENTRY_TYPE_DIR,  if the entry shall be a directory.
 266:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ENTRY_TYPE_FILE, if the entry shall be a file.
 267:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 268:rtos/uC-FS/FAT/fs_fat_entry.c **** *               excl        Indicates whether creation of new entry should be exclusive (see Note #
 269:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 270:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               DEF_YES, if the entry will be created ONLY if 'name_entry' does not
 271:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               DEF_NO,  if the entry will be created even if 'name_entry' does    
 272:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 273:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 274:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 275:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NONE                      Entry created successfully.
 276:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_BUF_NONE_AVAIL            Buffer not available.
 277:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_DEV                       Device access error.
 278:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_DEV_FULL                  Device is full (space could not be
 279:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_DIR_FULL                  Directory is full (space could not
 280:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_CORRUPT             File system entry is corrupt.
 281:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_EXISTS              File system entry exists.
ARM GAS  /tmp/ccz7EJrf.s 			page 10


 282:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_NOT_DIR             File system entry NOT a directory.
 283:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_NOT_EMPTY           File system entry NOT empty.
 284:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_NOT_FILE            File system entry NOT a file.
 285:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_FOUND    Entry parent NOT found.
 286:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_DIR      Entry parent NOT a directory.
 287:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_RD_ONLY             File system entry marked read-only
 288:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NAME_INVALID              Invalid file name or path.
 289:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 290:rtos/uC-FS/FAT/fs_fat_entry.c **** * Return(s)   : none.
 291:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 292:rtos/uC-FS/FAT/fs_fat_entry.c **** * Note(s)     : (1) If journaling is enabled & journaling started, logs will be written (from
 293:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  'FS_FAT_LowEntryCreate()') to the journal to ensure that either the new entry is
 294:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   fully created or no changes occur to the file system.
 295:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 296:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   (a) Since this is a top level action, the journal must be cleared once it is fi
 297:rtos/uC-FS/FAT/fs_fat_entry.c **** *                       or after an error occurs.
 298:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 299:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 300:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 301:rtos/uC-FS/FAT/fs_fat_entry.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
 302:rtos/uC-FS/FAT/fs_fat_entry.c **** void  FS_FAT_EntryCreate (FS_VOL       *p_vol,
 303:rtos/uC-FS/FAT/fs_fat_entry.c ****                           CPU_CHAR     *name_entry,
 304:rtos/uC-FS/FAT/fs_fat_entry.c ****                           FS_FLAGS      entry_type,
 305:rtos/uC-FS/FAT/fs_fat_entry.c ****                           CPU_BOOLEAN   excl,
 306:rtos/uC-FS/FAT/fs_fat_entry.c ****                           FS_ERR       *p_err)
 307:rtos/uC-FS/FAT/fs_fat_entry.c **** {
 198              		.loc 1 307 1 view -0
 199              		.cfi_startproc
 200              		@ args = 4, pretend = 0, frame = 64
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              		.loc 1 307 1 is_stmt 0 view .LVU52
 203 0000 00B5     		push	{lr}
 204              	.LCFI4:
 205              		.cfi_def_cfa_offset 4
 206              		.cfi_offset 14, -4
 207 0002 93B0     		sub	sp, sp, #76
 208              	.LCFI5:
 209              		.cfi_def_cfa_offset 80
 308:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_FILE_DATA  entry_data;
 210              		.loc 1 308 5 is_stmt 1 view .LVU53
 309:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FLAGS          mode;
 211              		.loc 1 309 5 view .LVU54
 310:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 311:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_BUF           *p_buf;
 312:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 313:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 314:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 315:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ----------------- CREATE DIR ENT
 316:rtos/uC-FS/FAT/fs_fat_entry.c ****     mode = FS_FAT_MODE_CREATE | FS_FAT_MODE_WR;
 212              		.loc 1 316 5 view .LVU55
 213              	.LVL24:
 317:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 318:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (entry_type == FS_ENTRY_TYPE_DIR) {
 214              		.loc 1 318 5 view .LVU56
 215              		.loc 1 318 8 is_stmt 0 view .LVU57
 216 0004 042A     		cmp	r2, #4
 217 0006 0BD0     		beq	.L22
ARM GAS  /tmp/ccz7EJrf.s 			page 11


 319:rtos/uC-FS/FAT/fs_fat_entry.c ****         mode |= FS_FAT_MODE_DIR;
 320:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (excl == DEF_YES) {
 321:rtos/uC-FS/FAT/fs_fat_entry.c ****             mode |= FS_FAT_MODE_MUST_CREATE;
 322:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 323:rtos/uC-FS/FAT/fs_fat_entry.c ****     } else {
 324:rtos/uC-FS/FAT/fs_fat_entry.c ****         mode |= FS_FAT_MODE_FILE;
 218              		.loc 1 324 9 is_stmt 1 view .LVU58
 219              	.LVL25:
 325:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (excl == DEF_NO) {                                   /* If no excl                      
 220              		.loc 1 325 9 view .LVU59
 221              		.loc 1 325 12 is_stmt 0 view .LVU60
 222 0008 93B9     		cbnz	r3, .L20
 326:rtos/uC-FS/FAT/fs_fat_entry.c ****             mode |= FS_FAT_MODE_TRUNCATE;                       /* ... truncate file if it already 
 223              		.loc 1 326 18 view .LVU61
 224 000a 40F20E23 		movw	r3, #526
 225              	.LVL26:
 226              	.L16:
 327:rtos/uC-FS/FAT/fs_fat_entry.c ****         } else {                                                /* ... else                        
 328:rtos/uC-FS/FAT/fs_fat_entry.c ****             mode |= FS_FAT_MODE_MUST_CREATE;                    /* ... entry MUST not exist.       
 329:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 330:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 331:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 332:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 333:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 334:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryFind( p_vol,
 227              		.loc 1 334 5 is_stmt 1 view .LVU62
 228 000e 149A     		ldr	r2, [sp, #80]
 229              	.LVL27:
 230              		.loc 1 334 5 is_stmt 0 view .LVU63
 231 0010 0092     		str	r2, [sp]
 232 0012 0A46     		mov	r2, r1
 233 0014 02A9     		add	r1, sp, #8
 234              	.LVL28:
 235              		.loc 1 334 5 view .LVU64
 236 0016 FFF7FEFF 		bl	FS_FAT_LowEntryFind
 237              	.LVL29:
 335:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
 336:rtos/uC-FS/FAT/fs_fat_entry.c ****                          name_entry,
 337:rtos/uC-FS/FAT/fs_fat_entry.c ****                          mode,
 338:rtos/uC-FS/FAT/fs_fat_entry.c ****                          p_err);
 339:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 238              		.loc 1 339 5 is_stmt 1 view .LVU65
 340:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 341:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 342:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 343:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 344:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* -------------------- CLR JOURNAL
 345:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 346:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_buf = FSBuf_Get(p_vol);                                   /* Get buf.                        
 347:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == DEF_NULL) {
 348:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 349:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 350:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 351:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 352:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_JournalClrReset(p_vol, p_buf, p_err);                /* Clr journal (see Note #1a).     
 353:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 354:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
ARM GAS  /tmp/ccz7EJrf.s 			page 12


 355:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 356:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 357:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* Flush & free buf.               
 358:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Flush(p_buf, p_err);
 359:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Free(p_buf);
 360:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 361:rtos/uC-FS/FAT/fs_fat_entry.c **** }
 239              		.loc 1 361 1 is_stmt 0 view .LVU66
 240 001a 13B0     		add	sp, sp, #76
 241              	.LCFI6:
 242              		.cfi_remember_state
 243              		.cfi_def_cfa_offset 4
 244              		@ sp needed
 245 001c 5DF804FB 		ldr	pc, [sp], #4
 246              	.LVL30:
 247              	.L22:
 248              	.LCFI7:
 249              		.cfi_restore_state
 319:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (excl == DEF_YES) {
 250              		.loc 1 319 9 is_stmt 1 view .LVU67
 320:rtos/uC-FS/FAT/fs_fat_entry.c ****             mode |= FS_FAT_MODE_MUST_CREATE;
 251              		.loc 1 320 9 view .LVU68
 320:rtos/uC-FS/FAT/fs_fat_entry.c ****             mode |= FS_FAT_MODE_MUST_CREATE;
 252              		.loc 1 320 12 is_stmt 0 view .LVU69
 253 0020 012B     		cmp	r3, #1
 254 0022 02D0     		beq	.L19
 319:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (excl == DEF_YES) {
 255              		.loc 1 319 14 view .LVU70
 256 0024 4FF48373 		mov	r3, #262
 257              	.LVL31:
 319:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (excl == DEF_YES) {
 258              		.loc 1 319 14 view .LVU71
 259 0028 F1E7     		b	.L16
 260              	.LVL32:
 261              	.L19:
 321:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 262              		.loc 1 321 18 view .LVU72
 263 002a 4FF49373 		mov	r3, #294
 264              	.LVL33:
 321:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 265              		.loc 1 321 18 view .LVU73
 266 002e EEE7     		b	.L16
 267              	.LVL34:
 268              	.L20:
 328:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 269              		.loc 1 328 18 view .LVU74
 270 0030 40F22623 		movw	r3, #550
 271              	.LVL35:
 328:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 272              		.loc 1 328 18 view .LVU75
 273 0034 EBE7     		b	.L16
 274              		.cfi_endproc
 275              	.LFE1:
 277              		.section	.text.FS_FAT_EntryDel,"ax",%progbits
 278              		.align	1
 279              		.global	FS_FAT_EntryDel
 280              		.syntax unified
ARM GAS  /tmp/ccz7EJrf.s 			page 13


 281              		.thumb
 282              		.thumb_func
 283              		.fpu fpv4-sp-d16
 285              	FS_FAT_EntryDel:
 286              	.LVL36:
 287              	.LFB2:
 362:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 363:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 364:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 365:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 366:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 367:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                          FS_FAT_EntryDel()
 368:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 369:rtos/uC-FS/FAT/fs_fat_entry.c **** * Description : Delete a file or directory.
 370:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 371:rtos/uC-FS/FAT/fs_fat_entry.c **** * Argument(s) : p_vol       Pointer to volume on which the entry resides.
 372:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 373:rtos/uC-FS/FAT/fs_fat_entry.c **** *               name_entry  Name of the entry.
 374:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 375:rtos/uC-FS/FAT/fs_fat_entry.c **** *               entry_type  Indicates whether the new entry can be a directory / a file :
 376:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 377:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ENTRY_TYPE_DIR,  if the entry can be a directory.
 378:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ENTRY_TYPE_FILE, if the entry can be a file.
 379:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ENTRY_TYPE_ANY,  if the entry can be any type
 380:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 381:rtos/uC-FS/FAT/fs_fat_entry.c **** *                           These values can be OR'd to allow multiple types.
 382:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 383:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 384:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 385:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NONE                      Entry deleted successfully.
 386:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_BUF_NONE_AVAIL            Buffer not available.
 387:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_DEV                       Device access error.
 388:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_NOT_DIR             File system entry NOT a directory.
 389:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_NOT_EMPTY           File system entry NOT empty.
 390:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_FOUND    Entry parent NOT found.
 391:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_DIR      Entry parent NOT a directory.
 392:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_RD_ONLY             File system entry marked read-only
 393:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NAME_INVALID              Invalid file name or path.
 394:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 395:rtos/uC-FS/FAT/fs_fat_entry.c **** * Return(s)   : none.
 396:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 397:rtos/uC-FS/FAT/fs_fat_entry.c **** * Note(s)     : (1) If journaling is enabled & journaling started, logs will be written (from
 398:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  'FS_FAT_LowEntryDel()') to the journal to ensure that either the entry is fully
 399:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   deleted or no changes occur to the file system.
 400:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 401:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   (a) Since this is a top level action, the journal must be cleared once it is fi
 402:rtos/uC-FS/FAT/fs_fat_entry.c **** *                       or after an error occurs.
 403:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 404:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 405:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 406:rtos/uC-FS/FAT/fs_fat_entry.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
 407:rtos/uC-FS/FAT/fs_fat_entry.c **** void  FS_FAT_EntryDel (FS_VOL       *p_vol,
 408:rtos/uC-FS/FAT/fs_fat_entry.c ****                        CPU_CHAR     *name_entry,
 409:rtos/uC-FS/FAT/fs_fat_entry.c ****                        FS_FLAGS      entry_type,
 410:rtos/uC-FS/FAT/fs_fat_entry.c ****                        FS_ERR       *p_err)
 411:rtos/uC-FS/FAT/fs_fat_entry.c **** {
 288              		.loc 1 411 1 is_stmt 1 view -0
ARM GAS  /tmp/ccz7EJrf.s 			page 14


 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 64
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              		.loc 1 411 1 is_stmt 0 view .LVU77
 293 0000 10B5     		push	{r4, lr}
 294              	.LCFI8:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 4, -8
 297              		.cfi_offset 14, -4
 298 0002 92B0     		sub	sp, sp, #72
 299              	.LCFI9:
 300              		.cfi_def_cfa_offset 80
 301 0004 1C46     		mov	r4, r3
 412:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_FILE_DATA  entry_data;
 302              		.loc 1 412 5 is_stmt 1 view .LVU78
 413:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FLAGS          mode;
 303              		.loc 1 413 5 view .LVU79
 414:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_BOOLEAN       is_file;
 304              		.loc 1 414 5 view .LVU80
 415:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_BOOLEAN       is_dir;
 305              		.loc 1 415 5 view .LVU81
 416:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 417:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_BUF           *p_buf;
 418:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 419:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 420:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------- DEL DIR ENTR
 421:rtos/uC-FS/FAT/fs_fat_entry.c ****     mode = FS_FAT_MODE_WR | FS_FAT_MODE_DEL;
 306              		.loc 1 421 5 view .LVU82
 307              	.LVL37:
 422:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 423:rtos/uC-FS/FAT/fs_fat_entry.c ****     is_file = DEF_BIT_IS_SET(entry_type, FS_ENTRY_TYPE_FILE);
 308              		.loc 1 423 5 view .LVU83
 424:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (is_file == DEF_YES) {
 309              		.loc 1 424 5 view .LVU84
 310              		.loc 1 424 8 is_stmt 0 view .LVU85
 311 0006 12F0020F 		tst	r2, #2
 312 000a 0CD1     		bne	.L28
 421:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 313              		.loc 1 421 10 view .LVU86
 314 000c 8223     		movs	r3, #130
 315              	.LVL38:
 316              	.L24:
 425:rtos/uC-FS/FAT/fs_fat_entry.c ****         mode |= FS_FAT_MODE_FILE;
 426:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 427:rtos/uC-FS/FAT/fs_fat_entry.c ****     is_dir = DEF_BIT_IS_SET(entry_type, FS_ENTRY_TYPE_DIR);
 317              		.loc 1 427 5 is_stmt 1 view .LVU87
 428:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (is_dir == DEF_YES) {
 318              		.loc 1 428 5 view .LVU88
 319              		.loc 1 428 8 is_stmt 0 view .LVU89
 320 000e 12F0040F 		tst	r2, #4
 321 0012 01D0     		beq	.L25
 429:rtos/uC-FS/FAT/fs_fat_entry.c ****         mode |= FS_FAT_MODE_DIR;
 322              		.loc 1 429 9 is_stmt 1 view .LVU90
 323              		.loc 1 429 14 is_stmt 0 view .LVU91
 324 0014 43F48073 		orr	r3, r3, #256
 325              	.LVL39:
 326              	.L25:
ARM GAS  /tmp/ccz7EJrf.s 			page 15


 430:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 431:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 432:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryFind( p_vol,
 327              		.loc 1 432 5 is_stmt 1 view .LVU92
 328 0018 0094     		str	r4, [sp]
 329 001a 0A46     		mov	r2, r1
 330              	.LVL40:
 331              		.loc 1 432 5 is_stmt 0 view .LVU93
 332 001c 02A9     		add	r1, sp, #8
 333              	.LVL41:
 334              		.loc 1 432 5 view .LVU94
 335 001e FFF7FEFF 		bl	FS_FAT_LowEntryFind
 336              	.LVL42:
 433:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
 434:rtos/uC-FS/FAT/fs_fat_entry.c ****                          name_entry,
 435:rtos/uC-FS/FAT/fs_fat_entry.c ****                          mode,
 436:rtos/uC-FS/FAT/fs_fat_entry.c ****                          p_err);
 437:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 337              		.loc 1 437 5 is_stmt 1 view .LVU95
 438:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 439:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 440:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 441:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 442:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* -------------------- CLR JOURNAL
 443:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 444:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_buf = FSBuf_Get(p_vol);                                   /* Get buf.                        
 445:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == DEF_NULL) {
 446:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 447:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 448:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 449:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 450:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_JournalClrReset(p_vol, p_buf, p_err);                /* Clr journal (see Note #1a).     
 451:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 452:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 453:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 454:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 455:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* Flush & free buf.               
 456:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Flush(p_buf, p_err);
 457:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Free(p_buf);
 458:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 459:rtos/uC-FS/FAT/fs_fat_entry.c **** }
 338              		.loc 1 459 1 is_stmt 0 view .LVU96
 339 0022 12B0     		add	sp, sp, #72
 340              	.LCFI10:
 341              		.cfi_remember_state
 342              		.cfi_def_cfa_offset 8
 343              		@ sp needed
 344 0024 10BD     		pop	{r4, pc}
 345              	.LVL43:
 346              	.L28:
 347              	.LCFI11:
 348              		.cfi_restore_state
 425:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 349              		.loc 1 425 14 view .LVU97
 350 0026 40F28223 		movw	r3, #642
 351              	.LVL44:
 425:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
ARM GAS  /tmp/ccz7EJrf.s 			page 16


 352              		.loc 1 425 14 view .LVU98
 353 002a F0E7     		b	.L24
 354              		.cfi_endproc
 355              	.LFE2:
 357              		.section	.text.FS_FAT_EntryQuery,"ax",%progbits
 358              		.align	1
 359              		.global	FS_FAT_EntryQuery
 360              		.syntax unified
 361              		.thumb
 362              		.thumb_func
 363              		.fpu fpv4-sp-d16
 365              	FS_FAT_EntryQuery:
 366              	.LVL45:
 367              	.LFB3:
 460:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 461:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 462:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 463:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 464:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 465:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                         FS_FAT_EntryQuery()
 466:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 467:rtos/uC-FS/FAT/fs_fat_entry.c **** * Description : Get information about a file or directory.
 468:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 469:rtos/uC-FS/FAT/fs_fat_entry.c **** * Argument(s) : p_vol       Pointer to volume on which the entry resides.
 470:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 471:rtos/uC-FS/FAT/fs_fat_entry.c **** *               name_entry  Name of the entry.
 472:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 473:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_info      Pointer to structure that will receive the entry information.
 474:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 475:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 476:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 477:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NONE                      Entry information gotten successfu
 478:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_BUF_NONE_AVAIL            Buffer not available.
 479:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_DEV                       Device access error.
 480:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_NOT_FOUND           File system entry NOT found
 481:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_FOUND    Entry parent NOT found.
 482:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_ENTRY_PARENT_NOT_DIR      Entry parent NOT a directory.
 483:rtos/uC-FS/FAT/fs_fat_entry.c **** *                               FS_ERR_NAME_INVALID              Invalid file name or path.
 484:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 485:rtos/uC-FS/FAT/fs_fat_entry.c **** * Return(s)   : none.
 486:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 487:rtos/uC-FS/FAT/fs_fat_entry.c **** * Note(s)     : none.
 488:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 489:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 490:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 491:rtos/uC-FS/FAT/fs_fat_entry.c **** void  FS_FAT_EntryQuery (FS_VOL         *p_vol,
 492:rtos/uC-FS/FAT/fs_fat_entry.c ****                          CPU_CHAR       *name_entry,
 493:rtos/uC-FS/FAT/fs_fat_entry.c ****                          FS_ENTRY_INFO  *p_info,
 494:rtos/uC-FS/FAT/fs_fat_entry.c ****                          FS_ERR         *p_err)
 495:rtos/uC-FS/FAT/fs_fat_entry.c **** {
 368              		.loc 1 495 1 is_stmt 1 view -0
 369              		.cfi_startproc
 370              		@ args = 0, pretend = 0, frame = 64
 371              		@ frame_needed = 0, uses_anonymous_args = 0
 372              		.loc 1 495 1 is_stmt 0 view .LVU100
 373 0000 70B5     		push	{r4, r5, r6, lr}
 374              	.LCFI12:
ARM GAS  /tmp/ccz7EJrf.s 			page 17


 375              		.cfi_def_cfa_offset 16
 376              		.cfi_offset 4, -16
 377              		.cfi_offset 5, -12
 378              		.cfi_offset 6, -8
 379              		.cfi_offset 14, -4
 380 0002 92B0     		sub	sp, sp, #72
 381              	.LCFI13:
 382              		.cfi_def_cfa_offset 88
 383 0004 0646     		mov	r6, r0
 384 0006 1446     		mov	r4, r2
 385 0008 1D46     		mov	r5, r3
 496:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_INT08U         fat_attrib;
 386              		.loc 1 496 5 is_stmt 1 view .LVU101
 497:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FLAGS           fs_attrib;
 387              		.loc 1 497 5 view .LVU102
 498:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_FILE_DATA   entry_data;
 388              		.loc 1 498 5 view .LVU103
 499:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_DATA       *p_fat_data;
 389              		.loc 1 499 5 view .LVU104
 500:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 501:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 502:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 503:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------ FIND DIR ENTR
 504:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryFind( p_vol,
 390              		.loc 1 504 5 view .LVU105
 391 000a 0093     		str	r3, [sp]
 392 000c 40F20133 		movw	r3, #769
 393              	.LVL46:
 394              		.loc 1 504 5 is_stmt 0 view .LVU106
 395 0010 0A46     		mov	r2, r1
 396              	.LVL47:
 397              		.loc 1 504 5 view .LVU107
 398 0012 02A9     		add	r1, sp, #8
 399              	.LVL48:
 400              		.loc 1 504 5 view .LVU108
 401 0014 FFF7FEFF 		bl	FS_FAT_LowEntryFind
 402              	.LVL49:
 505:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data,
 506:rtos/uC-FS/FAT/fs_fat_entry.c ****                          name_entry,
 507:rtos/uC-FS/FAT/fs_fat_entry.c ****                         (FS_FAT_MODE_RD | FS_FAT_MODE_FILE | FS_FAT_MODE_DIR),
 508:rtos/uC-FS/FAT/fs_fat_entry.c ****                          p_err);
 509:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 510:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 403              		.loc 1 510 5 is_stmt 1 view .LVU109
 404              		.loc 1 510 9 is_stmt 0 view .LVU110
 405 0018 2B88     		ldrh	r3, [r5]
 406              		.loc 1 510 8 view .LVU111
 407 001a A3BB     		cbnz	r3, .L30
 511:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 512:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 513:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 514:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 515:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 516:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------- FILE ATTRIB'
 517:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_fat_data = (FS_FAT_DATA *)(p_vol->DataPtr);
 408              		.loc 1 517 5 is_stmt 1 view .LVU112
 409              		.loc 1 517 16 is_stmt 0 view .LVU113
ARM GAS  /tmp/ccz7EJrf.s 			page 18


 410 001c 716B     		ldr	r1, [r6, #52]
 411              	.LVL50:
 518:rtos/uC-FS/FAT/fs_fat_entry.c ****     fat_attrib =  entry_data.Attrib;
 412              		.loc 1 518 5 is_stmt 1 view .LVU114
 413              		.loc 1 518 29 is_stmt 0 view .LVU115
 414 001e 0E9A     		ldr	r2, [sp, #56]
 415              	.LVL51:
 519:rtos/uC-FS/FAT/fs_fat_entry.c ****     fs_attrib  =  0u;
 416              		.loc 1 519 5 is_stmt 1 view .LVU116
 520:rtos/uC-FS/FAT/fs_fat_entry.c ****     DEF_BIT_SET(fs_attrib, FS_ENTRY_ATTRIB_RD);
 417              		.loc 1 520 5 view .LVU117
 521:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_CLR(fat_attrib, FS_FAT_DIRENT_ATTR_READ_ONLY) == DEF_YES) {
 418              		.loc 1 521 5 view .LVU118
 419              		.loc 1 521 8 is_stmt 0 view .LVU119
 420 0020 12F0010F 		tst	r2, #1
 421 0024 31D0     		beq	.L37
 520:rtos/uC-FS/FAT/fs_fat_entry.c ****     DEF_BIT_SET(fs_attrib, FS_ENTRY_ATTRIB_RD);
 422              		.loc 1 520 5 view .LVU120
 423 0026 0123     		movs	r3, #1
 424              	.L33:
 425              	.LVL52:
 522:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_SET(fs_attrib, FS_ENTRY_ATTRIB_WR);             /* NOT read only.                  
 523:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 524:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_SET(fat_attrib, FS_FAT_DIRENT_ATTR_HIDDEN   ) == DEF_YES) {
 426              		.loc 1 524 5 is_stmt 1 view .LVU121
 427              		.loc 1 524 8 is_stmt 0 view .LVU122
 428 0028 12F0020F 		tst	r2, #2
 429 002c 01D0     		beq	.L34
 525:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_SET(fs_attrib, FS_ENTRY_ATTRIB_HIDDEN);         /* Hidden.                         
 430              		.loc 1 525 9 is_stmt 1 view .LVU123
 431 002e 43F00403 		orr	r3, r3, #4
 432              	.LVL53:
 433              	.L34:
 526:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 527:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_SET(fat_attrib, FS_FAT_DIRENT_ATTR_DIRECTORY) == DEF_YES) {
 434              		.loc 1 527 5 view .LVU124
 435              		.loc 1 527 8 is_stmt 0 view .LVU125
 436 0032 12F0100F 		tst	r2, #16
 437 0036 01D0     		beq	.L35
 528:rtos/uC-FS/FAT/fs_fat_entry.c ****         DEF_BIT_SET(fs_attrib, FS_ENTRY_ATTRIB_DIR);            /* Directory.                      
 438              		.loc 1 528 9 is_stmt 1 view .LVU126
 439 0038 43F04003 		orr	r3, r3, #64
 440              	.LVL54:
 441              	.L35:
 529:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 530:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_info->Attrib = fs_attrib;
 442              		.loc 1 530 5 view .LVU127
 443              		.loc 1 530 20 is_stmt 0 view .LVU128
 444 003c 2360     		str	r3, [r4]
 531:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 532:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 533:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 534:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* --------------------- FILE SIZE 
 535:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_info->Size    = (FS_FILE_SIZE)entry_data.FileSize;        /* File size.                      
 445              		.loc 1 535 5 is_stmt 1 view .LVU129
 446              		.loc 1 535 47 is_stmt 0 view .LVU130
 447 003e 039B     		ldr	r3, [sp, #12]
ARM GAS  /tmp/ccz7EJrf.s 			page 19


 448              	.LVL55:
 449              		.loc 1 535 21 view .LVU131
 450 0040 6360     		str	r3, [r4, #4]
 536:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_info->BlkSize =  p_fat_data->ClusSize_octet;              /* Blk size (bytes per clus) & nbr 
 451              		.loc 1 536 5 is_stmt 1 view .LVU132
 452              		.loc 1 536 34 is_stmt 0 view .LVU133
 453 0042 4A6C     		ldr	r2, [r1, #68]
 454              	.LVL56:
 455              		.loc 1 536 21 view .LVU134
 456 0044 A261     		str	r2, [r4, #24]
 537:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_info->BlkCnt  = (entry_data.FileSize == 0u) ? (0u) : (FS_UTIL_DIV_PWR2(entry_data.FileSize - 
 457              		.loc 1 537 5 is_stmt 1 view .LVU135
 458              		.loc 1 537 58 is_stmt 0 view .LVU136
 459 0046 23B1     		cbz	r3, .L36
 460              		.loc 1 537 61 discriminator 1 view .LVU137
 461 0048 013B     		subs	r3, r3, #1
 462 004a 91F84820 		ldrb	r2, [r1, #72]	@ zero_extendqisi2
 463 004e D340     		lsrs	r3, r3, r2
 464              		.loc 1 537 58 discriminator 1 view .LVU138
 465 0050 0133     		adds	r3, r3, #1
 466              	.L36:
 467              		.loc 1 537 21 discriminator 4 view .LVU139
 468 0052 6361     		str	r3, [r4, #20]
 538:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 539:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 540:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 541:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ----------------- FILE DATE & TI
 542:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_DateTimeParse(&p_info->DateTimeCreate,               /* Creation date/time.             
 469              		.loc 1 542 5 is_stmt 1 discriminator 4 view .LVU140
 470 0054 BDF83E20 		ldrh	r2, [sp, #62]
 471 0058 BDF83C10 		ldrh	r1, [sp, #60]
 472              	.LVL57:
 473              		.loc 1 542 5 is_stmt 0 discriminator 4 view .LVU141
 474 005c 04F10800 		add	r0, r4, #8
 475 0060 FFF7FEFF 		bl	FS_FAT_DateTimeParse
 476              	.LVL58:
 543:rtos/uC-FS/FAT/fs_fat_entry.c ****                           entry_data.DateCreate,
 544:rtos/uC-FS/FAT/fs_fat_entry.c ****                           entry_data.TimeCreate);
 545:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 546:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_DateTimeParse(&p_info->DateTimeWr,                   /* Wr       date/time.             
 477              		.loc 1 546 5 is_stmt 1 discriminator 4 view .LVU142
 478 0064 BDF84420 		ldrh	r2, [sp, #68]
 479 0068 BDF84210 		ldrh	r1, [sp, #66]
 480 006c 04F11000 		add	r0, r4, #16
 481 0070 FFF7FEFF 		bl	FS_FAT_DateTimeParse
 482              	.LVL59:
 547:rtos/uC-FS/FAT/fs_fat_entry.c ****                           entry_data.DateWr,
 548:rtos/uC-FS/FAT/fs_fat_entry.c ****                           entry_data.TimeWr);
 549:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 550:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_DateTimeParse(&p_info->DateAccess,                   /* Access    date.                 
 483              		.loc 1 550 5 discriminator 4 view .LVU143
 484 0074 0022     		movs	r2, #0
 485 0076 BDF84010 		ldrh	r1, [sp, #64]
 486 007a 04F10C00 		add	r0, r4, #12
 487 007e FFF7FEFF 		bl	FS_FAT_DateTimeParse
 488              	.LVL60:
 551:rtos/uC-FS/FAT/fs_fat_entry.c ****                           entry_data.DateAccess,
ARM GAS  /tmp/ccz7EJrf.s 			page 20


 552:rtos/uC-FS/FAT/fs_fat_entry.c ****                           0u);
 553:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 554:rtos/uC-FS/FAT/fs_fat_entry.c ****    *p_err = FS_ERR_NONE;
 489              		.loc 1 554 4 discriminator 4 view .LVU144
 490              		.loc 1 554 11 is_stmt 0 discriminator 4 view .LVU145
 491 0082 0023     		movs	r3, #0
 492 0084 2B80     		strh	r3, [r5]	@ movhi
 493              	.L30:
 555:rtos/uC-FS/FAT/fs_fat_entry.c **** }
 494              		.loc 1 555 1 view .LVU146
 495 0086 12B0     		add	sp, sp, #72
 496              	.LCFI14:
 497              		.cfi_remember_state
 498              		.cfi_def_cfa_offset 16
 499              		@ sp needed
 500 0088 70BD     		pop	{r4, r5, r6, pc}
 501              	.LVL61:
 502              	.L37:
 503              	.LCFI15:
 504              		.cfi_restore_state
 522:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 505              		.loc 1 522 9 view .LVU147
 506 008a 0323     		movs	r3, #3
 507 008c CCE7     		b	.L33
 508              		.cfi_endproc
 509              	.LFE3:
 511              		.section	.text.FS_FAT_EntryRename,"ax",%progbits
 512              		.align	1
 513              		.global	FS_FAT_EntryRename
 514              		.syntax unified
 515              		.thumb
 516              		.thumb_func
 517              		.fpu fpv4-sp-d16
 519              	FS_FAT_EntryRename:
 520              	.LVL62:
 521              	.LFB4:
 556:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 557:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 558:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 559:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 560:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                        FS_FAT_EntryRename()
 561:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 562:rtos/uC-FS/FAT/fs_fat_entry.c **** * Description : Rename a file or directory.
 563:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 564:rtos/uC-FS/FAT/fs_fat_entry.c **** * Argument(s) : p_vol           Pointer to volume on which the entry resides.
 565:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 566:rtos/uC-FS/FAT/fs_fat_entry.c **** *               name_entry_old  Old path of the entry.
 567:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 568:rtos/uC-FS/FAT/fs_fat_entry.c **** *               name_entry_new  New path of the entry.
 569:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 570:rtos/uC-FS/FAT/fs_fat_entry.c **** *               excl            Indicates whether creation of new entry should be exclusive (see No
 571:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 572:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   DEF_YES, if the entry will be renamed ONLY if 'name_entry_new' 
 573:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                                not exist.
 574:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   DEF_NO,  if the entry will be renamed even if 'name_entry_new' 
 575:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                                exist.
 576:rtos/uC-FS/FAT/fs_fat_entry.c **** *
ARM GAS  /tmp/ccz7EJrf.s 			page 21


 577:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_err           Pointer to variable that will receive the return error code from th
 578:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 579:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_NONE                      Entry renamed successfully.
 580:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_BUF_NONE_AVAIL            Buffer not available.
 581:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_DEV                       Device access error.
 582:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_DEV_FULL                  Device is full (space could no
 583:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_DIR_FULL                  Directory is full (space could
 584:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRIES_TYPE_DIFF         Paths do not both specify file
 585:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                                                        OR directories.
 586:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_CORRUPT             File system entry is corrupt.
 587:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_EXISTS              File system entry exists.
 588:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_NOT_FOUND           File system entry NOT found
 589:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_NOT_EMPTY           File system entry NOT empty.
 590:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_PARENT_NOT_FOUND    Entry parent NOT found.
 591:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_PARENT_NOT_DIR      Entry parent NOT a directory.
 592:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_RD_ONLY             File system entry marked read-
 593:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_NAME_INVALID              Invalid file name or path.
 594:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 595:rtos/uC-FS/FAT/fs_fat_entry.c **** * Return(s)   : none.
 596:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 597:rtos/uC-FS/FAT/fs_fat_entry.c **** * Note(s)     : (1) (a) 'name_entry_old' MUST contain the full path of the source file.
 598:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 599:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   (b) 'name_entry_new' MUST contain the full path of the destination file.
 600:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 601:rtos/uC-FS/FAT/fs_fat_entry.c **** *               (2) #### Account for invalidity test :
 602:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 603:rtos/uC-FS/FAT/fs_fat_entry.c **** *                           "'name_entry_new' contains a path prefix that names 'name_entry_old'."
 604:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 605:rtos/uC-FS/FAT/fs_fat_entry.c **** *               (3) If journaling is enabled & journaling started, logs will be written (from
 606:rtos/uC-FS/FAT/fs_fat_entry.c **** *                  'FS_FAT_LowEntryRename()') to the journal to ensure that either the entry is ren
 607:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   or no changes occur to the file system.  Nested logs to handle deletion or trun
 608:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   of an existing file or directory with the new name, or creation of the entry wi
 609:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   new name, may be written as well (from 'FS_FAT_LowEntryDelete()', 'FS_FAT_LowEn
 610:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   or 'FS_FAT_LowEntryCreate()').
 611:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 612:rtos/uC-FS/FAT/fs_fat_entry.c **** *                   (a) Since this is a top level action, the journal must be cleared once it is fi
 613:rtos/uC-FS/FAT/fs_fat_entry.c **** *                       or after an error occurs.
 614:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 615:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 616:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 617:rtos/uC-FS/FAT/fs_fat_entry.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
 618:rtos/uC-FS/FAT/fs_fat_entry.c **** void  FS_FAT_EntryRename (FS_VOL       *p_vol,
 619:rtos/uC-FS/FAT/fs_fat_entry.c ****                           CPU_CHAR     *name_entry_old,
 620:rtos/uC-FS/FAT/fs_fat_entry.c ****                           CPU_CHAR     *name_entry_new,
 621:rtos/uC-FS/FAT/fs_fat_entry.c ****                           CPU_BOOLEAN   excl,
 622:rtos/uC-FS/FAT/fs_fat_entry.c ****                           FS_ERR       *p_err)
 623:rtos/uC-FS/FAT/fs_fat_entry.c **** {
 522              		.loc 1 623 1 is_stmt 1 view -0
 523              		.cfi_startproc
 524              		@ args = 4, pretend = 0, frame = 128
 525              		@ frame_needed = 0, uses_anonymous_args = 0
 526              		.loc 1 623 1 is_stmt 0 view .LVU149
 527 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 528              	.LCFI16:
 529              		.cfi_def_cfa_offset 24
 530              		.cfi_offset 4, -24
 531              		.cfi_offset 5, -20
ARM GAS  /tmp/ccz7EJrf.s 			page 22


 532              		.cfi_offset 6, -16
 533              		.cfi_offset 7, -12
 534              		.cfi_offset 8, -8
 535              		.cfi_offset 14, -4
 536 0004 A4B0     		sub	sp, sp, #144
 537              	.LCFI17:
 538              		.cfi_def_cfa_offset 168
 539 0006 0546     		mov	r5, r0
 540 0008 1646     		mov	r6, r2
 541 000a 1F46     		mov	r7, r3
 542 000c 2A9C     		ldr	r4, [sp, #168]
 624:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_BUF            *p_buf;
 543              		.loc 1 624 5 is_stmt 1 view .LVU150
 625:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_BOOLEAN        empty;
 544              		.loc 1 625 5 view .LVU151
 626:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_BOOLEAN        exists;
 545              		.loc 1 626 5 view .LVU152
 627:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_FILE_DATA   entry_data_old;
 546              		.loc 1 627 5 view .LVU153
 628:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_FILE_DATA   entry_data_new;
 547              		.loc 1 628 5 view .LVU154
 629:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FLAGS           mode;
 548              		.loc 1 629 5 view .LVU155
 630:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_CHAR          *p_slash;
 549              		.loc 1 630 5 view .LVU156
 631:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 632:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 633:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------ FIND SRC ENTR
 634:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryFind( p_vol,
 550              		.loc 1 634 5 view .LVU157
 551 000e 0094     		str	r4, [sp]
 552 0010 40F20133 		movw	r3, #769
 553              	.LVL63:
 554              		.loc 1 634 5 is_stmt 0 view .LVU158
 555 0014 0A46     		mov	r2, r1
 556              	.LVL64:
 557              		.loc 1 634 5 view .LVU159
 558 0016 14A9     		add	r1, sp, #80
 559              	.LVL65:
 560              		.loc 1 634 5 view .LVU160
 561 0018 FFF7FEFF 		bl	FS_FAT_LowEntryFind
 562              	.LVL66:
 635:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data_old,
 636:rtos/uC-FS/FAT/fs_fat_entry.c ****                          name_entry_old,
 637:rtos/uC-FS/FAT/fs_fat_entry.c ****                         (FS_FAT_MODE_RD | FS_FAT_MODE_FILE | FS_FAT_MODE_DIR),
 638:rtos/uC-FS/FAT/fs_fat_entry.c ****                          p_err);
 639:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 640:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {                                /* If src does not exist ...       
 563              		.loc 1 640 5 is_stmt 1 view .LVU161
 564              		.loc 1 640 9 is_stmt 0 view .LVU162
 565 001c 2288     		ldrh	r2, [r4]
 566              		.loc 1 640 8 view .LVU163
 567 001e 002A     		cmp	r2, #0
 568 0020 3BD1     		bne	.L39
 641:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;                                                 /* ... rtn.                        
 642:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 643:rtos/uC-FS/FAT/fs_fat_entry.c **** 
ARM GAS  /tmp/ccz7EJrf.s 			page 23


 644:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 645:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 646:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------ CHK DEST ENTR
 647:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_SET(entry_data_old.Attrib, FS_FAT_DIRENT_ATTR_DIRECTORY) == DEF_YES) {
 569              		.loc 1 647 5 is_stmt 1 view .LVU164
 570              		.loc 1 647 8 is_stmt 0 view .LVU165
 571 0022 209B     		ldr	r3, [sp, #128]
 572 0024 13F0100F 		tst	r3, #16
 573 0028 3AD0     		beq	.L53
 648:rtos/uC-FS/FAT/fs_fat_entry.c ****         mode = FS_FAT_MODE_DIR;
 574              		.loc 1 648 14 view .LVU166
 575 002a 4FF48073 		mov	r3, #256
 576              	.L41:
 577              	.LVL67:
 649:rtos/uC-FS/FAT/fs_fat_entry.c ****     } else {
 650:rtos/uC-FS/FAT/fs_fat_entry.c ****         mode = FS_FAT_MODE_FILE;
 651:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 652:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 653:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryFind( p_vol,
 578              		.loc 1 653 5 is_stmt 1 view .LVU167
 579 002e 0094     		str	r4, [sp]
 580 0030 43F00103 		orr	r3, r3, #1
 581              	.LVL68:
 582              		.loc 1 653 5 is_stmt 0 view .LVU168
 583 0034 3246     		mov	r2, r6
 584 0036 04A9     		add	r1, sp, #16
 585 0038 2846     		mov	r0, r5
 586 003a FFF7FEFF 		bl	FS_FAT_LowEntryFind
 587              	.LVL69:
 654:rtos/uC-FS/FAT/fs_fat_entry.c ****                         &entry_data_new,
 655:rtos/uC-FS/FAT/fs_fat_entry.c ****                          name_entry_new,
 656:rtos/uC-FS/FAT/fs_fat_entry.c ****                         (FS_FAT_MODE_RD | mode),
 657:rtos/uC-FS/FAT/fs_fat_entry.c ****                          p_err);
 658:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 659:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err == FS_ERR_NONE) {                                /* If entry exists     ...         
 588              		.loc 1 659 5 is_stmt 1 view .LVU169
 589              		.loc 1 659 9 is_stmt 0 view .LVU170
 590 003e 2388     		ldrh	r3, [r4]
 591              		.loc 1 659 8 view .LVU171
 592 0040 002B     		cmp	r3, #0
 593 0042 62D1     		bne	.L42
 660:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (excl == DEF_YES) {                                  /* ... & entry must NOT exist ...  
 594              		.loc 1 660 9 is_stmt 1 view .LVU172
 595              		.loc 1 660 12 is_stmt 0 view .LVU173
 596 0044 012F     		cmp	r7, #1
 597 0046 2ED0     		beq	.L58
 661:rtos/uC-FS/FAT/fs_fat_entry.c ****            *p_err = FS_ERR_ENTRY_EXISTS;                        /* ... rtn err.                    
 662:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;
 663:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 664:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ... & is same entry ...         
 665:rtos/uC-FS/FAT/fs_fat_entry.c ****         if ((entry_data_old.FileFirstClus    == entry_data_new.FileFirstClus)  &&
 598              		.loc 1 665 9 is_stmt 1 view .LVU174
 599              		.loc 1 665 12 is_stmt 0 view .LVU175
 600 0048 1D9A     		ldr	r2, [sp, #116]
 601 004a 0D9B     		ldr	r3, [sp, #52]
 602 004c 9A42     		cmp	r2, r3
 603 004e 2ED0     		beq	.L59
ARM GAS  /tmp/ccz7EJrf.s 			page 24


 604              	.L44:
 666:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirStartSec      == entry_data_new.DirStartSec)    &&
 667:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirStartSecPos   == entry_data_new.DirStartSecPos) &&
 668:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirEndSec        == entry_data_new.DirEndSec)      &&
 669:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirEndSecPos     == entry_data_new.DirEndSecPos)) {
 670:rtos/uC-FS/FAT/fs_fat_entry.c ****            *p_err = FS_ERR_ENTRIES_SAME;                        /* ... rtn err.                    
 671:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;
 672:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 673:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 674:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* If dir, must be empty.          
 675:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (DEF_BIT_IS_SET(entry_data_new.Attrib, FS_FAT_DIRENT_ATTR_DIRECTORY) == DEF_YES) {
 605              		.loc 1 675 9 is_stmt 1 view .LVU176
 606              		.loc 1 675 12 is_stmt 0 view .LVU177
 607 0050 109B     		ldr	r3, [sp, #64]
 608 0052 13F0100F 		tst	r3, #16
 609 0056 3ED1     		bne	.L60
 676:rtos/uC-FS/FAT/fs_fat_entry.c ****             p_buf = FSBuf_Get(p_vol);
 677:rtos/uC-FS/FAT/fs_fat_entry.c ****             if (p_buf == (FS_BUF *)0) {
 678:rtos/uC-FS/FAT/fs_fat_entry.c ****                *p_err = FS_ERR_BUF_NONE_AVAIL;
 679:rtos/uC-FS/FAT/fs_fat_entry.c ****                 return;
 680:rtos/uC-FS/FAT/fs_fat_entry.c ****             }
 681:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 682:rtos/uC-FS/FAT/fs_fat_entry.c ****             empty = FS_FAT_LowDirChkEmpty(p_vol,
 683:rtos/uC-FS/FAT/fs_fat_entry.c ****                                           p_buf,
 684:rtos/uC-FS/FAT/fs_fat_entry.c ****                                           entry_data_new.FileFirstClus,
 685:rtos/uC-FS/FAT/fs_fat_entry.c ****                                           p_err);
 686:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 687:rtos/uC-FS/FAT/fs_fat_entry.c ****             FSBuf_Free(p_buf);
 688:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 689:rtos/uC-FS/FAT/fs_fat_entry.c ****             if (empty == DEF_NO) {
 690:rtos/uC-FS/FAT/fs_fat_entry.c ****                *p_err =  FS_ERR_ENTRY_NOT_EMPTY;
 691:rtos/uC-FS/FAT/fs_fat_entry.c ****                 return;
 692:rtos/uC-FS/FAT/fs_fat_entry.c ****             }
 693:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 694:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 695:rtos/uC-FS/FAT/fs_fat_entry.c ****         exists = DEF_YES;                                       /* Entry with new name exists.     
 610              		.loc 1 695 16 view .LVU178
 611 0058 4FF00108 		mov	r8, #1
 612              	.L45:
 613              	.LVL70:
 696:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 697:rtos/uC-FS/FAT/fs_fat_entry.c ****     } else {
 698:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (*p_err != FS_ERR_ENTRY_NOT_FOUND) {                 /* If entry was found w/err ...    
 699:rtos/uC-FS/FAT/fs_fat_entry.c ****             if ((*p_err == FS_ERR_ENTRY_NOT_FILE) ||
 700:rtos/uC-FS/FAT/fs_fat_entry.c ****                 (*p_err == FS_ERR_ENTRY_NOT_DIR)) {
 701:rtos/uC-FS/FAT/fs_fat_entry.c ****                  *p_err =  FS_ERR_ENTRIES_TYPE_DIFF;
 702:rtos/uC-FS/FAT/fs_fat_entry.c ****             }
 703:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;                                             /* ... rtn err.                    
 704:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 705:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 706:rtos/uC-FS/FAT/fs_fat_entry.c ****         exists = DEF_NO;                                        /* Entry with new name does NOT exi
 707:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 708:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 709:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 710:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 711:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------- RENAME ENTRY
 712:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_buf = FSBuf_Get(p_vol);
ARM GAS  /tmp/ccz7EJrf.s 			page 25


 614              		.loc 1 712 5 is_stmt 1 view .LVU179
 615              		.loc 1 712 13 is_stmt 0 view .LVU180
 616 005c 2846     		mov	r0, r5
 617 005e FFF7FEFF 		bl	FSBuf_Get
 618              	.LVL71:
 713:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == (FS_BUF *)0) {
 619              		.loc 1 713 5 is_stmt 1 view .LVU181
 620              		.loc 1 713 8 is_stmt 0 view .LVU182
 621 0062 0746     		mov	r7, r0
 622 0064 0028     		cmp	r0, #0
 623 0066 62D0     		beq	.L61
 714:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 715:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 716:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 717:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 718:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_slash = FS_FAT_Char_LastPathSep(name_entry_new);
 624              		.loc 1 718 5 is_stmt 1 view .LVU183
 625              		.loc 1 718 15 is_stmt 0 view .LVU184
 626 0068 3046     		mov	r0, r6
 627              	.LVL72:
 628              		.loc 1 718 15 view .LVU185
 629 006a FFF7FEFF 		bl	FS_FAT_Char_LastPathSep
 630              	.LVL73:
 719:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_slash != (CPU_CHAR *)0) {
 631              		.loc 1 719 5 is_stmt 1 view .LVU186
 632              		.loc 1 719 8 is_stmt 0 view .LVU187
 633 006e 00B1     		cbz	r0, .L50
 720:rtos/uC-FS/FAT/fs_fat_entry.c ****         name_entry_new = p_slash + 1u;
 634              		.loc 1 720 9 is_stmt 1 view .LVU188
 635              		.loc 1 720 24 is_stmt 0 view .LVU189
 636 0070 461C     		adds	r6, r0, #1
 637              	.LVL74:
 638              	.L50:
 721:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 722:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 723:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryRename( p_vol,
 639              		.loc 1 723 5 is_stmt 1 view .LVU190
 640 0072 0294     		str	r4, [sp, #8]
 641 0074 0196     		str	r6, [sp, #4]
 642 0076 CDF80080 		str	r8, [sp]
 643 007a 04AB     		add	r3, sp, #16
 644 007c 14AA     		add	r2, sp, #80
 645 007e 3946     		mov	r1, r7
 646 0080 2846     		mov	r0, r5
 647              	.LVL75:
 648              		.loc 1 723 5 is_stmt 0 view .LVU191
 649 0082 FFF7FEFF 		bl	FS_FAT_LowEntryRename
 650              	.LVL76:
 724:rtos/uC-FS/FAT/fs_fat_entry.c ****                            p_buf,
 725:rtos/uC-FS/FAT/fs_fat_entry.c ****                           &entry_data_old,
 726:rtos/uC-FS/FAT/fs_fat_entry.c ****                           &entry_data_new,
 727:rtos/uC-FS/FAT/fs_fat_entry.c ****                            exists,
 728:rtos/uC-FS/FAT/fs_fat_entry.c ****                            name_entry_new,
 729:rtos/uC-FS/FAT/fs_fat_entry.c ****                            p_err);
 730:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 731:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 732:rtos/uC-FS/FAT/fs_fat_entry.c **** 
ARM GAS  /tmp/ccz7EJrf.s 			page 26


 733:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 651              		.loc 1 733 5 is_stmt 1 view .LVU192
 652              		.loc 1 733 9 is_stmt 0 view .LVU193
 653 0086 2388     		ldrh	r3, [r4]
 654              		.loc 1 733 8 view .LVU194
 655 0088 002B     		cmp	r3, #0
 656 008a 53D1     		bne	.L62
 734:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 735:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 736:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 737:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 738:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* -------------------- CLR JOURNAL
 739:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 740:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_JournalClrReset(p_vol, p_buf, p_err);                /* See Note #3a.                   
 741:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 742:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 743:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 744:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 745:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 746:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 747:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Flush(p_buf, p_err);
 657              		.loc 1 747 5 is_stmt 1 view .LVU195
 658 008c 2146     		mov	r1, r4
 659 008e 3846     		mov	r0, r7
 660 0090 FFF7FEFF 		bl	FSBuf_Flush
 661              	.LVL77:
 748:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Free(p_buf);
 662              		.loc 1 748 5 view .LVU196
 663 0094 3846     		mov	r0, r7
 664 0096 FFF7FEFF 		bl	FSBuf_Free
 665              	.LVL78:
 666              	.L39:
 749:rtos/uC-FS/FAT/fs_fat_entry.c **** }
 667              		.loc 1 749 1 is_stmt 0 view .LVU197
 668 009a 24B0     		add	sp, sp, #144
 669              	.LCFI18:
 670              		.cfi_remember_state
 671              		.cfi_def_cfa_offset 24
 672              		@ sp needed
 673 009c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 674              	.LVL79:
 675              	.L53:
 676              	.LCFI19:
 677              		.cfi_restore_state
 650:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 678              		.loc 1 650 14 view .LVU198
 679 00a0 4FF40073 		mov	r3, #512
 680 00a4 C3E7     		b	.L41
 681              	.L58:
 661:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;
 682              		.loc 1 661 12 is_stmt 1 view .LVU199
 661:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;
 683              		.loc 1 661 19 is_stmt 0 view .LVU200
 684 00a6 4FF43073 		mov	r3, #704
 685 00aa 2380     		strh	r3, [r4]	@ movhi
 662:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 686              		.loc 1 662 13 is_stmt 1 view .LVU201
ARM GAS  /tmp/ccz7EJrf.s 			page 27


 687 00ac F5E7     		b	.L39
 688              	.L59:
 665:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirStartSec      == entry_data_new.DirStartSec)    &&
 689              		.loc 1 665 80 is_stmt 0 discriminator 1 view .LVU202
 690 00ae 199A     		ldr	r2, [sp, #100]
 691 00b0 099B     		ldr	r3, [sp, #36]
 692 00b2 9A42     		cmp	r2, r3
 693 00b4 CCD1     		bne	.L44
 666:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirStartSecPos   == entry_data_new.DirStartSecPos) &&
 694              		.loc 1 666 80 view .LVU203
 695 00b6 1A9A     		ldr	r2, [sp, #104]
 696 00b8 0A9B     		ldr	r3, [sp, #40]
 697 00ba 9A42     		cmp	r2, r3
 698 00bc C8D1     		bne	.L44
 667:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirEndSec        == entry_data_new.DirEndSec)      &&
 699              		.loc 1 667 80 view .LVU204
 700 00be 1B9A     		ldr	r2, [sp, #108]
 701 00c0 0B9B     		ldr	r3, [sp, #44]
 702 00c2 9A42     		cmp	r2, r3
 703 00c4 C4D1     		bne	.L44
 668:rtos/uC-FS/FAT/fs_fat_entry.c ****             (entry_data_old.DirEndSecPos     == entry_data_new.DirEndSecPos)) {
 704              		.loc 1 668 80 view .LVU205
 705 00c6 1C9A     		ldr	r2, [sp, #112]
 706 00c8 0C9B     		ldr	r3, [sp, #48]
 707 00ca 9A42     		cmp	r2, r3
 708 00cc C0D1     		bne	.L44
 670:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;
 709              		.loc 1 670 12 is_stmt 1 view .LVU206
 670:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;
 710              		.loc 1 670 19 is_stmt 0 view .LVU207
 711 00ce 4FF42F73 		mov	r3, #700
 712 00d2 2380     		strh	r3, [r4]	@ movhi
 671:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 713              		.loc 1 671 13 is_stmt 1 view .LVU208
 714 00d4 E1E7     		b	.L39
 715              	.L60:
 676:rtos/uC-FS/FAT/fs_fat_entry.c ****             if (p_buf == (FS_BUF *)0) {
 716              		.loc 1 676 13 view .LVU209
 676:rtos/uC-FS/FAT/fs_fat_entry.c ****             if (p_buf == (FS_BUF *)0) {
 717              		.loc 1 676 21 is_stmt 0 view .LVU210
 718 00d6 2846     		mov	r0, r5
 719 00d8 FFF7FEFF 		bl	FSBuf_Get
 720              	.LVL80:
 677:rtos/uC-FS/FAT/fs_fat_entry.c ****                *p_err = FS_ERR_BUF_NONE_AVAIL;
 721              		.loc 1 677 13 is_stmt 1 view .LVU211
 677:rtos/uC-FS/FAT/fs_fat_entry.c ****                *p_err = FS_ERR_BUF_NONE_AVAIL;
 722              		.loc 1 677 16 is_stmt 0 view .LVU212
 723 00dc 8046     		mov	r8, r0
 724 00de 68B1     		cbz	r0, .L63
 682:rtos/uC-FS/FAT/fs_fat_entry.c ****                                           p_buf,
 725              		.loc 1 682 13 is_stmt 1 view .LVU213
 682:rtos/uC-FS/FAT/fs_fat_entry.c ****                                           p_buf,
 726              		.loc 1 682 21 is_stmt 0 view .LVU214
 727 00e0 2346     		mov	r3, r4
 728 00e2 0D9A     		ldr	r2, [sp, #52]
 729 00e4 0146     		mov	r1, r0
 730 00e6 2846     		mov	r0, r5
ARM GAS  /tmp/ccz7EJrf.s 			page 28


 731              	.LVL81:
 682:rtos/uC-FS/FAT/fs_fat_entry.c ****                                           p_buf,
 732              		.loc 1 682 21 view .LVU215
 733 00e8 FFF7FEFF 		bl	FS_FAT_LowDirChkEmpty
 734              	.LVL82:
 682:rtos/uC-FS/FAT/fs_fat_entry.c ****                                           p_buf,
 735              		.loc 1 682 21 view .LVU216
 736 00ec 0746     		mov	r7, r0
 737              	.LVL83:
 687:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 738              		.loc 1 687 13 is_stmt 1 view .LVU217
 739 00ee 4046     		mov	r0, r8
 740 00f0 FFF7FEFF 		bl	FSBuf_Free
 741              	.LVL84:
 689:rtos/uC-FS/FAT/fs_fat_entry.c ****                *p_err =  FS_ERR_ENTRY_NOT_EMPTY;
 742              		.loc 1 689 13 view .LVU218
 689:rtos/uC-FS/FAT/fs_fat_entry.c ****                *p_err =  FS_ERR_ENTRY_NOT_EMPTY;
 743              		.loc 1 689 16 is_stmt 0 view .LVU219
 744 00f4 2FB1     		cbz	r7, .L64
 695:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 745              		.loc 1 695 16 view .LVU220
 746 00f6 4FF00108 		mov	r8, #1
 747              	.LVL85:
 695:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 748              		.loc 1 695 16 view .LVU221
 749 00fa AFE7     		b	.L45
 750              	.LVL86:
 751              	.L63:
 678:rtos/uC-FS/FAT/fs_fat_entry.c ****                 return;
 752              		.loc 1 678 16 is_stmt 1 view .LVU222
 678:rtos/uC-FS/FAT/fs_fat_entry.c ****                 return;
 753              		.loc 1 678 23 is_stmt 0 view .LVU223
 754 00fc 6423     		movs	r3, #100
 755 00fe 2380     		strh	r3, [r4]	@ movhi
 679:rtos/uC-FS/FAT/fs_fat_entry.c ****             }
 756              		.loc 1 679 17 is_stmt 1 view .LVU224
 757 0100 CBE7     		b	.L39
 758              	.LVL87:
 759              	.L64:
 690:rtos/uC-FS/FAT/fs_fat_entry.c ****                 return;
 760              		.loc 1 690 16 view .LVU225
 690:rtos/uC-FS/FAT/fs_fat_entry.c ****                 return;
 761              		.loc 1 690 23 is_stmt 0 view .LVU226
 762 0102 40F2C323 		movw	r3, #707
 763 0106 2380     		strh	r3, [r4]	@ movhi
 691:rtos/uC-FS/FAT/fs_fat_entry.c ****             }
 764              		.loc 1 691 17 is_stmt 1 view .LVU227
 765 0108 C7E7     		b	.L39
 766              	.LVL88:
 767              	.L42:
 698:rtos/uC-FS/FAT/fs_fat_entry.c ****             if ((*p_err == FS_ERR_ENTRY_NOT_FILE) ||
 768              		.loc 1 698 9 view .LVU228
 698:rtos/uC-FS/FAT/fs_fat_entry.c ****             if ((*p_err == FS_ERR_ENTRY_NOT_FILE) ||
 769              		.loc 1 698 12 is_stmt 0 view .LVU229
 770 010a 40F2C522 		movw	r2, #709
 771 010e 9342     		cmp	r3, r2
 772 0110 0AD0     		beq	.L56
ARM GAS  /tmp/ccz7EJrf.s 			page 29


 699:rtos/uC-FS/FAT/fs_fat_entry.c ****                 (*p_err == FS_ERR_ENTRY_NOT_DIR)) {
 773              		.loc 1 699 13 is_stmt 1 view .LVU230
 699:rtos/uC-FS/FAT/fs_fat_entry.c ****                 (*p_err == FS_ERR_ENTRY_NOT_DIR)) {
 774              		.loc 1 699 16 is_stmt 0 view .LVU231
 775 0112 B3F5317F 		cmp	r3, #708
 776 0116 03D0     		beq	.L47
 699:rtos/uC-FS/FAT/fs_fat_entry.c ****                 (*p_err == FS_ERR_ENTRY_NOT_DIR)) {
 777              		.loc 1 699 51 discriminator 1 view .LVU232
 778 0118 40F2C222 		movw	r2, #706
 779 011c 9342     		cmp	r3, r2
 780 011e BCD1     		bne	.L39
 781              	.L47:
 701:rtos/uC-FS/FAT/fs_fat_entry.c ****             }
 782              		.loc 1 701 18 is_stmt 1 view .LVU233
 701:rtos/uC-FS/FAT/fs_fat_entry.c ****             }
 783              		.loc 1 701 25 is_stmt 0 view .LVU234
 784 0120 40F2BD23 		movw	r3, #701
 785 0124 2380     		strh	r3, [r4]	@ movhi
 703:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 786              		.loc 1 703 13 is_stmt 1 view .LVU235
 787 0126 B8E7     		b	.L39
 788              	.L56:
 706:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 789              		.loc 1 706 16 is_stmt 0 view .LVU236
 790 0128 4FF00008 		mov	r8, #0
 791 012c 96E7     		b	.L45
 792              	.LVL89:
 793              	.L61:
 714:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 794              		.loc 1 714 8 is_stmt 1 view .LVU237
 714:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 795              		.loc 1 714 15 is_stmt 0 view .LVU238
 796 012e 6423     		movs	r3, #100
 797 0130 2380     		strh	r3, [r4]	@ movhi
 715:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 798              		.loc 1 715 9 is_stmt 1 view .LVU239
 799 0132 B2E7     		b	.L39
 800              	.LVL90:
 801              	.L62:
 734:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 802              		.loc 1 734 9 view .LVU240
 803 0134 3846     		mov	r0, r7
 804 0136 FFF7FEFF 		bl	FSBuf_Free
 805              	.LVL91:
 735:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 806              		.loc 1 735 9 view .LVU241
 807 013a AEE7     		b	.L39
 808              		.cfi_endproc
 809              	.LFE4:
 811              		.section	.text.FS_FAT_EntryTimeSet,"ax",%progbits
 812              		.align	1
 813              		.global	FS_FAT_EntryTimeSet
 814              		.syntax unified
 815              		.thumb
 816              		.thumb_func
 817              		.fpu fpv4-sp-d16
 819              	FS_FAT_EntryTimeSet:
ARM GAS  /tmp/ccz7EJrf.s 			page 30


 820              	.LVL92:
 821              	.LFB5:
 750:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 751:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 752:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 753:rtos/uC-FS/FAT/fs_fat_entry.c **** /*
 754:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 755:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                        FS_FAT_EntryTimeSet()
 756:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 757:rtos/uC-FS/FAT/fs_fat_entry.c **** * Description : Set a file or directory's date/time.
 758:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 759:rtos/uC-FS/FAT/fs_fat_entry.c **** * Argument(s) : p_vol           Pointer to volume on which the entry resides.
 760:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 761:rtos/uC-FS/FAT/fs_fat_entry.c **** *               name_entry      Name of the entry.
 762:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 763:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_time          Pointer to date/time.
 764:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 765:rtos/uC-FS/FAT/fs_fat_entry.c **** *               time_type       Flag to indicate which Date/Time should be set
 766:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 767:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_DATE_TIME_CREATE
 768:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_DATE_TIME_MODIFY
 769:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_DATE_TIME_ACCESS
 770:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_DATE_TIME_ALL
 771:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 772:rtos/uC-FS/FAT/fs_fat_entry.c **** *               p_err           Pointer to variable that will receive the return error code from th
 773:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 774:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_NONE                         Entry date/time set success
 775:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_BUF_NONE_AVAIL               Buffer not available.
 776:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_DEV                          Device access error.
 777:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_NOT_FOUND              File system entry NOT found
 778:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_PARENT_NOT_FOUND       Entry parent NOT found.
 779:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_ENTRY_PARENT_NOT_DIR         Entry parent NOT a director
 780:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_NAME_INVALID                 Invalid file name or path.
 781:rtos/uC-FS/FAT/fs_fat_entry.c **** *                                   FS_ERR_FILE_INVALID_DATE_TIME_TYPE  Which date/time flag is spe
 782:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 783:rtos/uC-FS/FAT/fs_fat_entry.c **** * Return(s)   : none.
 784:rtos/uC-FS/FAT/fs_fat_entry.c **** *
 785:rtos/uC-FS/FAT/fs_fat_entry.c **** * Note(s)     : none.
 786:rtos/uC-FS/FAT/fs_fat_entry.c **** ***************************************************************************************************
 787:rtos/uC-FS/FAT/fs_fat_entry.c **** */
 788:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 789:rtos/uC-FS/FAT/fs_fat_entry.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
 790:rtos/uC-FS/FAT/fs_fat_entry.c **** void  FS_FAT_EntryTimeSet (FS_VOL         *p_vol,
 791:rtos/uC-FS/FAT/fs_fat_entry.c ****                            CPU_CHAR       *name_entry,
 792:rtos/uC-FS/FAT/fs_fat_entry.c ****                            CLK_DATE_TIME  *p_time,
 793:rtos/uC-FS/FAT/fs_fat_entry.c ****                            CPU_INT08U      time_type,
 794:rtos/uC-FS/FAT/fs_fat_entry.c ****                            FS_ERR         *p_err)
 795:rtos/uC-FS/FAT/fs_fat_entry.c **** {
 822              		.loc 1 795 1 view -0
 823              		.cfi_startproc
 824              		@ args = 4, pretend = 0, frame = 64
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 826              		.loc 1 795 1 is_stmt 0 view .LVU243
 827 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 828              	.LCFI20:
 829              		.cfi_def_cfa_offset 24
 830              		.cfi_offset 4, -24
ARM GAS  /tmp/ccz7EJrf.s 			page 31


 831              		.cfi_offset 5, -20
 832              		.cfi_offset 6, -16
 833              		.cfi_offset 7, -12
 834              		.cfi_offset 8, -8
 835              		.cfi_offset 14, -4
 836 0004 92B0     		sub	sp, sp, #72
 837              	.LCFI21:
 838              		.cfi_def_cfa_offset 96
 839 0006 0646     		mov	r6, r0
 840 0008 1746     		mov	r7, r2
 841 000a 9846     		mov	r8, r3
 842 000c 189D     		ldr	r5, [sp, #96]
 796:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_BUF            *p_buf;
 843              		.loc 1 796 5 is_stmt 1 view .LVU244
 797:rtos/uC-FS/FAT/fs_fat_entry.c ****     CPU_INT08U        *p_dir_entry;
 844              		.loc 1 797 5 view .LVU245
 798:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_FILE_DATA   entry_data;
 845              		.loc 1 798 5 view .LVU246
 799:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_DATE        entry_date;
 846              		.loc 1 799 5 view .LVU247
 800:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_TIME        entry_time;
 847              		.loc 1 800 5 view .LVU248
 801:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 802:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_DATA       *p_fat_data;
 803:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_DIR_POS     dir_end_pos;
 804:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 805:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 806:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 807:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------ FIND DIR ENTR
 808:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_LowEntryFind(p_vol,
 848              		.loc 1 808 5 view .LVU249
 849 000e 0095     		str	r5, [sp]
 850 0010 40F20133 		movw	r3, #769
 851              	.LVL93:
 852              		.loc 1 808 5 is_stmt 0 view .LVU250
 853 0014 0A46     		mov	r2, r1
 854              	.LVL94:
 855              		.loc 1 808 5 view .LVU251
 856 0016 02A9     		add	r1, sp, #8
 857              	.LVL95:
 858              		.loc 1 808 5 view .LVU252
 859 0018 FFF7FEFF 		bl	FS_FAT_LowEntryFind
 860              	.LVL96:
 809:rtos/uC-FS/FAT/fs_fat_entry.c ****                        &entry_data,
 810:rtos/uC-FS/FAT/fs_fat_entry.c ****                         name_entry,
 811:rtos/uC-FS/FAT/fs_fat_entry.c ****                        (FS_FAT_MODE_RD | FS_FAT_MODE_FILE | FS_FAT_MODE_DIR),
 812:rtos/uC-FS/FAT/fs_fat_entry.c ****                         p_err);
 813:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 861              		.loc 1 813 5 is_stmt 1 view .LVU253
 862              		.loc 1 813 9 is_stmt 0 view .LVU254
 863 001c 2988     		ldrh	r1, [r5]
 864              		.loc 1 813 8 view .LVU255
 865 001e 11B1     		cbz	r1, .L77
 866              	.L65:
 814:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 815:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 816:rtos/uC-FS/FAT/fs_fat_entry.c **** 
ARM GAS  /tmp/ccz7EJrf.s 			page 32


 817:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 818:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------ PARSE DATE/TI
 819:rtos/uC-FS/FAT/fs_fat_entry.c ****     entry_date = FS_FAT_DateFmt(p_time);
 820:rtos/uC-FS/FAT/fs_fat_entry.c ****     entry_time = FS_FAT_TimeFmt(p_time);
 821:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 822:rtos/uC-FS/FAT/fs_fat_entry.c ****     switch (time_type) {
 823:rtos/uC-FS/FAT/fs_fat_entry.c ****         case FS_DATE_TIME_CREATE:
 824:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateCreate = entry_date;
 825:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeCreate = entry_time;
 826:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 827:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 828:rtos/uC-FS/FAT/fs_fat_entry.c ****         case FS_DATE_TIME_MODIFY:
 829:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateWr     = entry_date;
 830:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeWr     = entry_time;
 831:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 832:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 833:rtos/uC-FS/FAT/fs_fat_entry.c ****         case FS_DATE_TIME_ACCESS:
 834:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateAccess = entry_date;
 835:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 836:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 837:rtos/uC-FS/FAT/fs_fat_entry.c ****         case FS_DATE_TIME_ALL:
 838:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateCreate = entry_date;
 839:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeCreate = entry_time;
 840:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateWr     = entry_date;
 841:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeWr     = entry_time;
 842:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateAccess = entry_date;
 843:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 844:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 845:rtos/uC-FS/FAT/fs_fat_entry.c ****         default:
 846:rtos/uC-FS/FAT/fs_fat_entry.c ****             *p_err = FS_ERR_FILE_INVALID_DATE_TIME_TYPE;
 847:rtos/uC-FS/FAT/fs_fat_entry.c ****              return;
 848:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 849:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 850:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 851:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_buf = FSBuf_Get(p_vol);
 852:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == (FS_BUF *)0) {
 853:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 854:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 855:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 856:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 857:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* ------------------ ENTER JOURNAL
 858:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 859:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_fat_data = (FS_FAT_DATA *)p_vol->DataPtr;
 860:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (DEF_BIT_IS_SET(p_fat_data->JournalState, FS_FAT_JOURNAL_STATE_REPLAY) == DEF_NO) {
 861:rtos/uC-FS/FAT/fs_fat_entry.c ****         dir_end_pos.SecNbr = entry_data.DirEndSec;
 862:rtos/uC-FS/FAT/fs_fat_entry.c ****         dir_end_pos.SecPos = entry_data.DirEndSecPos;
 863:rtos/uC-FS/FAT/fs_fat_entry.c ****         FS_FAT_JournalEnterEntryUpdate(p_vol,
 864:rtos/uC-FS/FAT/fs_fat_entry.c ****                                        p_buf,
 865:rtos/uC-FS/FAT/fs_fat_entry.c ****                                       &dir_end_pos,
 866:rtos/uC-FS/FAT/fs_fat_entry.c ****                                       &dir_end_pos,
 867:rtos/uC-FS/FAT/fs_fat_entry.c ****                                        p_err);
 868:rtos/uC-FS/FAT/fs_fat_entry.c ****         if (*p_err != FS_ERR_NONE) {
 869:rtos/uC-FS/FAT/fs_fat_entry.c ****             return;
 870:rtos/uC-FS/FAT/fs_fat_entry.c ****         }
 871:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 872:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 873:rtos/uC-FS/FAT/fs_fat_entry.c **** 
ARM GAS  /tmp/ccz7EJrf.s 			page 33


 874:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 875:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Set(p_buf,                                            /* Rd dir sec.                     
 876:rtos/uC-FS/FAT/fs_fat_entry.c ****               entry_data.DirEndSec,
 877:rtos/uC-FS/FAT/fs_fat_entry.c ****               FS_VOL_SEC_TYPE_DIR,
 878:rtos/uC-FS/FAT/fs_fat_entry.c ****               DEF_YES,
 879:rtos/uC-FS/FAT/fs_fat_entry.c ****               p_err);
 880:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 881:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 882:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 883:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 884:rtos/uC-FS/FAT/fs_fat_entry.c ****     p_dir_entry = (CPU_INT08U *)p_buf->DataPtr + entry_data.DirEndSecPos;
 885:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTDATE),    entry_data.Date
 886:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTTIME),    entry_data.Time
 887:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_LSTACCDATE), entry_data.Date
 888:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTDATE),    entry_data.Date
 889:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTTIME),    entry_data.Time
 890:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 891:rtos/uC-FS/FAT/fs_fat_entry.c ****                                                                 /* Wr dir sec.                     
 892:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_MarkDirty(p_buf, p_err);
 893:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 894:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 895:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 896:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 897:rtos/uC-FS/FAT/fs_fat_entry.c **** #ifdef  FS_FAT_JOURNAL_MODULE_PRESENT
 898:rtos/uC-FS/FAT/fs_fat_entry.c ****     FS_FAT_JournalClrReset(p_vol, p_buf, p_err);
 899:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 900:rtos/uC-FS/FAT/fs_fat_entry.c ****         FSBuf_Free(p_buf);
 901:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 902:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 903:rtos/uC-FS/FAT/fs_fat_entry.c **** #endif
 904:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 905:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Flush(p_buf, p_err);
 906:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Free(p_buf);
 907:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 908:rtos/uC-FS/FAT/fs_fat_entry.c **** }
 867              		.loc 1 908 1 view .LVU256
 868 0020 12B0     		add	sp, sp, #72
 869              	.LCFI22:
 870              		.cfi_remember_state
 871              		.cfi_def_cfa_offset 24
 872              		@ sp needed
 873 0022 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 874              	.LVL97:
 875              	.L77:
 876              	.LCFI23:
 877              		.cfi_restore_state
 819:rtos/uC-FS/FAT/fs_fat_entry.c ****     entry_time = FS_FAT_TimeFmt(p_time);
 878              		.loc 1 819 5 is_stmt 1 view .LVU257
 819:rtos/uC-FS/FAT/fs_fat_entry.c ****     entry_time = FS_FAT_TimeFmt(p_time);
 879              		.loc 1 819 18 is_stmt 0 view .LVU258
 880 0026 3846     		mov	r0, r7
 881 0028 FFF7FEFF 		bl	FS_FAT_DateFmt
 882              	.LVL98:
 883 002c 0446     		mov	r4, r0
 884              	.LVL99:
 820:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 885              		.loc 1 820 5 is_stmt 1 view .LVU259
ARM GAS  /tmp/ccz7EJrf.s 			page 34


 820:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 886              		.loc 1 820 18 is_stmt 0 view .LVU260
 887 002e 3846     		mov	r0, r7
 888 0030 FFF7FEFF 		bl	FS_FAT_TimeFmt
 889              	.LVL100:
 822:rtos/uC-FS/FAT/fs_fat_entry.c ****         case FS_DATE_TIME_CREATE:
 890              		.loc 1 822 5 is_stmt 1 view .LVU261
 891 0034 08F1FF33 		add	r3, r8, #-1
 892 0038 072B     		cmp	r3, #7
 893 003a 60D8     		bhi	.L67
 894 003c DFE803F0 		tbb	[pc, r3]
 895              	.L69:
 896 0040 04       		.byte	(.L72-.L69)/2
 897 0041 4C       		.byte	(.L71-.L69)/2
 898 0042 5F       		.byte	(.L67-.L69)/2
 899 0043 51       		.byte	(.L70-.L69)/2
 900 0044 5F       		.byte	(.L67-.L69)/2
 901 0045 5F       		.byte	(.L67-.L69)/2
 902 0046 5F       		.byte	(.L67-.L69)/2
 903 0047 54       		.byte	(.L68-.L69)/2
 904              		.p2align 1
 905              	.L72:
 824:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeCreate = entry_time;
 906              		.loc 1 824 14 view .LVU262
 824:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeCreate = entry_time;
 907              		.loc 1 824 36 is_stmt 0 view .LVU263
 908 0048 ADF83C40 		strh	r4, [sp, #60]	@ movhi
 825:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 909              		.loc 1 825 14 is_stmt 1 view .LVU264
 825:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 910              		.loc 1 825 36 is_stmt 0 view .LVU265
 911 004c ADF83E00 		strh	r0, [sp, #62]	@ movhi
 826:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 912              		.loc 1 826 14 is_stmt 1 view .LVU266
 913              	.L73:
 851:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == (FS_BUF *)0) {
 914              		.loc 1 851 5 view .LVU267
 851:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == (FS_BUF *)0) {
 915              		.loc 1 851 13 is_stmt 0 view .LVU268
 916 0050 3046     		mov	r0, r6
 917              	.LVL101:
 851:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (p_buf == (FS_BUF *)0) {
 918              		.loc 1 851 13 view .LVU269
 919 0052 FFF7FEFF 		bl	FSBuf_Get
 920              	.LVL102:
 852:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 921              		.loc 1 852 5 is_stmt 1 view .LVU270
 852:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 922              		.loc 1 852 8 is_stmt 0 view .LVU271
 923 0056 0446     		mov	r4, r0
 924              	.LVL103:
 852:rtos/uC-FS/FAT/fs_fat_entry.c ****        *p_err = FS_ERR_BUF_NONE_AVAIL;
 925              		.loc 1 852 8 view .LVU272
 926 0058 0028     		cmp	r0, #0
 927 005a 54D0     		beq	.L78
 875:rtos/uC-FS/FAT/fs_fat_entry.c ****               entry_data.DirEndSec,
 928              		.loc 1 875 5 is_stmt 1 view .LVU273
ARM GAS  /tmp/ccz7EJrf.s 			page 35


 929 005c 0095     		str	r5, [sp]
 930 005e 0123     		movs	r3, #1
 931 0060 0222     		movs	r2, #2
 932 0062 0999     		ldr	r1, [sp, #36]
 933 0064 FFF7FEFF 		bl	FSBuf_Set
 934              	.LVL104:
 880:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 935              		.loc 1 880 5 view .LVU274
 880:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 936              		.loc 1 880 9 is_stmt 0 view .LVU275
 937 0068 2B88     		ldrh	r3, [r5]
 880:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 938              		.loc 1 880 8 view .LVU276
 939 006a 002B     		cmp	r3, #0
 940 006c D8D1     		bne	.L65
 884:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTDATE),    entry_data.Date
 941              		.loc 1 884 5 is_stmt 1 view .LVU277
 884:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTDATE),    entry_data.Date
 942              		.loc 1 884 38 is_stmt 0 view .LVU278
 943 006e 2269     		ldr	r2, [r4, #16]
 884:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTDATE),    entry_data.Date
 944              		.loc 1 884 60 view .LVU279
 945 0070 0A9B     		ldr	r3, [sp, #40]
 884:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTDATE),    entry_data.Date
 946              		.loc 1 884 17 view .LVU280
 947 0072 1344     		add	r3, r3, r2
 948              	.LVL105:
 885:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTTIME),    entry_data.Time
 949              		.loc 1 885 5 is_stmt 1 view .LVU281
 885:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTTIME),    entry_data.Time
 950              		.loc 1 885 5 view .LVU282
 951 0074 9DF83C20 		ldrb	r2, [sp, #60]	@ zero_extendqisi2
 952 0078 1A74     		strb	r2, [r3, #16]
 885:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTTIME),    entry_data.Time
 953              		.loc 1 885 5 view .LVU283
 954 007a BDF83C20 		ldrh	r2, [sp, #60]
 955 007e 120A     		lsrs	r2, r2, #8
 956 0080 5A74     		strb	r2, [r3, #17]
 885:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_CRTTIME),    entry_data.Time
 957              		.loc 1 885 5 view .LVU284
 886:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_LSTACCDATE), entry_data.Date
 958              		.loc 1 886 5 view .LVU285
 886:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_LSTACCDATE), entry_data.Date
 959              		.loc 1 886 5 view .LVU286
 960 0082 9DF83E20 		ldrb	r2, [sp, #62]	@ zero_extendqisi2
 961 0086 9A73     		strb	r2, [r3, #14]
 886:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_LSTACCDATE), entry_data.Date
 962              		.loc 1 886 5 view .LVU287
 963 0088 BDF83E20 		ldrh	r2, [sp, #62]
 964 008c 120A     		lsrs	r2, r2, #8
 965 008e DA73     		strb	r2, [r3, #15]
 886:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_LSTACCDATE), entry_data.Date
 966              		.loc 1 886 5 view .LVU288
 887:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTDATE),    entry_data.Date
 967              		.loc 1 887 5 view .LVU289
 887:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTDATE),    entry_data.Date
 968              		.loc 1 887 5 view .LVU290
ARM GAS  /tmp/ccz7EJrf.s 			page 36


 969 0090 9DF84020 		ldrb	r2, [sp, #64]	@ zero_extendqisi2
 970 0094 9A74     		strb	r2, [r3, #18]
 887:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTDATE),    entry_data.Date
 971              		.loc 1 887 5 view .LVU291
 972 0096 BDF84020 		ldrh	r2, [sp, #64]
 973 009a 120A     		lsrs	r2, r2, #8
 974 009c DA74     		strb	r2, [r3, #19]
 887:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTDATE),    entry_data.Date
 975              		.loc 1 887 5 view .LVU292
 888:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTTIME),    entry_data.Time
 976              		.loc 1 888 5 view .LVU293
 888:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTTIME),    entry_data.Time
 977              		.loc 1 888 5 view .LVU294
 978 009e 9DF84220 		ldrb	r2, [sp, #66]	@ zero_extendqisi2
 979 00a2 1A76     		strb	r2, [r3, #24]
 888:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTTIME),    entry_data.Time
 980              		.loc 1 888 5 view .LVU295
 981 00a4 BDF84220 		ldrh	r2, [sp, #66]
 982 00a8 120A     		lsrs	r2, r2, #8
 983 00aa 5A76     		strb	r2, [r3, #25]
 888:rtos/uC-FS/FAT/fs_fat_entry.c ****     MEM_VAL_SET_INT16U_LITTLE((void *)(p_dir_entry + FS_FAT_DIRENT_OFF_WRTTIME),    entry_data.Time
 984              		.loc 1 888 5 view .LVU296
 889:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 985              		.loc 1 889 5 view .LVU297
 889:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 986              		.loc 1 889 5 view .LVU298
 987 00ac 9DF84420 		ldrb	r2, [sp, #68]	@ zero_extendqisi2
 988 00b0 9A75     		strb	r2, [r3, #22]
 889:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 989              		.loc 1 889 5 view .LVU299
 990 00b2 BDF84420 		ldrh	r2, [sp, #68]
 991 00b6 120A     		lsrs	r2, r2, #8
 992 00b8 DA75     		strb	r2, [r3, #23]
 889:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 993              		.loc 1 889 5 view .LVU300
 892:rtos/uC-FS/FAT/fs_fat_entry.c ****     if (*p_err != FS_ERR_NONE) {
 994              		.loc 1 892 5 view .LVU301
 995 00ba 2946     		mov	r1, r5
 996 00bc 2046     		mov	r0, r4
 997 00be FFF7FEFF 		bl	FSBuf_MarkDirty
 998              	.LVL106:
 893:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 999              		.loc 1 893 5 view .LVU302
 893:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 1000              		.loc 1 893 9 is_stmt 0 view .LVU303
 1001 00c2 2B88     		ldrh	r3, [r5]
 893:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 1002              		.loc 1 893 8 view .LVU304
 1003 00c4 002B     		cmp	r3, #0
 1004 00c6 ABD1     		bne	.L65
 905:rtos/uC-FS/FAT/fs_fat_entry.c ****     FSBuf_Free(p_buf);
 1005              		.loc 1 905 5 is_stmt 1 view .LVU305
 1006 00c8 2946     		mov	r1, r5
 1007 00ca 2046     		mov	r0, r4
 1008 00cc FFF7FEFF 		bl	FSBuf_Flush
 1009              	.LVL107:
 906:rtos/uC-FS/FAT/fs_fat_entry.c **** 
ARM GAS  /tmp/ccz7EJrf.s 			page 37


 1010              		.loc 1 906 5 view .LVU306
 1011 00d0 2046     		mov	r0, r4
 1012 00d2 FFF7FEFF 		bl	FSBuf_Free
 1013              	.LVL108:
 1014 00d6 A3E7     		b	.L65
 1015              	.LVL109:
 1016              	.L71:
 829:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeWr     = entry_time;
 1017              		.loc 1 829 14 view .LVU307
 829:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeWr     = entry_time;
 1018              		.loc 1 829 36 is_stmt 0 view .LVU308
 1019 00d8 ADF84240 		strh	r4, [sp, #66]	@ movhi
 830:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 1020              		.loc 1 830 14 is_stmt 1 view .LVU309
 830:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 1021              		.loc 1 830 36 is_stmt 0 view .LVU310
 1022 00dc ADF84400 		strh	r0, [sp, #68]	@ movhi
 831:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 1023              		.loc 1 831 14 is_stmt 1 view .LVU311
 1024 00e0 B6E7     		b	.L73
 1025              	.L70:
 834:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 1026              		.loc 1 834 14 view .LVU312
 834:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 1027              		.loc 1 834 36 is_stmt 0 view .LVU313
 1028 00e2 ADF84040 		strh	r4, [sp, #64]	@ movhi
 835:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 1029              		.loc 1 835 14 is_stmt 1 view .LVU314
 1030 00e6 B3E7     		b	.L73
 1031              	.L68:
 838:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeCreate = entry_time;
 1032              		.loc 1 838 14 view .LVU315
 838:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeCreate = entry_time;
 1033              		.loc 1 838 36 is_stmt 0 view .LVU316
 1034 00e8 ADF83C40 		strh	r4, [sp, #60]	@ movhi
 839:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateWr     = entry_date;
 1035              		.loc 1 839 14 is_stmt 1 view .LVU317
 839:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateWr     = entry_date;
 1036              		.loc 1 839 36 is_stmt 0 view .LVU318
 1037 00ec ADF83E00 		strh	r0, [sp, #62]	@ movhi
 840:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeWr     = entry_time;
 1038              		.loc 1 840 14 is_stmt 1 view .LVU319
 840:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.TimeWr     = entry_time;
 1039              		.loc 1 840 36 is_stmt 0 view .LVU320
 1040 00f0 ADF84240 		strh	r4, [sp, #66]	@ movhi
 841:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateAccess = entry_date;
 1041              		.loc 1 841 14 is_stmt 1 view .LVU321
 841:rtos/uC-FS/FAT/fs_fat_entry.c ****              entry_data.DateAccess = entry_date;
 1042              		.loc 1 841 36 is_stmt 0 view .LVU322
 1043 00f4 ADF84400 		strh	r0, [sp, #68]	@ movhi
 842:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 1044              		.loc 1 842 14 is_stmt 1 view .LVU323
 842:rtos/uC-FS/FAT/fs_fat_entry.c ****              break;
 1045              		.loc 1 842 36 is_stmt 0 view .LVU324
 1046 00f8 ADF84040 		strh	r4, [sp, #64]	@ movhi
 843:rtos/uC-FS/FAT/fs_fat_entry.c **** 
 1047              		.loc 1 843 14 is_stmt 1 view .LVU325
ARM GAS  /tmp/ccz7EJrf.s 			page 38


 1048 00fc A8E7     		b	.L73
 1049              	.L67:
 846:rtos/uC-FS/FAT/fs_fat_entry.c ****              return;
 1050              		.loc 1 846 13 view .LVU326
 846:rtos/uC-FS/FAT/fs_fat_entry.c ****              return;
 1051              		.loc 1 846 20 is_stmt 0 view .LVU327
 1052 00fe 4FF44A73 		mov	r3, #808
 1053 0102 2B80     		strh	r3, [r5]	@ movhi
 847:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 1054              		.loc 1 847 14 is_stmt 1 view .LVU328
 1055 0104 8CE7     		b	.L65
 1056              	.LVL110:
 1057              	.L78:
 853:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 1058              		.loc 1 853 8 view .LVU329
 853:rtos/uC-FS/FAT/fs_fat_entry.c ****         return;
 1059              		.loc 1 853 15 is_stmt 0 view .LVU330
 1060 0106 6423     		movs	r3, #100
 1061 0108 2B80     		strh	r3, [r5]	@ movhi
 854:rtos/uC-FS/FAT/fs_fat_entry.c ****     }
 1062              		.loc 1 854 9 is_stmt 1 view .LVU331
 1063 010a 89E7     		b	.L65
 1064              		.cfi_endproc
 1065              	.LFE5:
 1067              		.text
 1068              	.Letext0:
 1069              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 1070              		.file 3 "rtos/uC-Clk/Source/clk.h"
 1071              		.file 4 "rtos/uC-FS/FAT/../Source/fs_type.h"
 1072              		.file 5 "rtos/uC-FS/FAT/../Source/fs_buf.h"
 1073              		.file 6 "rtos/uC-FS/FAT/../Source/fs_entry.h"
 1074              		.file 7 "rtos/uC-FS/FAT/../Source/fs_vol.h"
 1075              		.file 8 "rtos/uC-FS/FAT/../Source/fs_err.h"
 1076              		.file 9 "rtos/uC-FS/FAT/../Source/fs_ctr.h"
 1077              		.file 10 "rtos/uC-FS/FAT/fs_fat_type.h"
 1078              		.file 11 "rtos/uC-FS/FAT/fs_fat.h"
ARM GAS  /tmp/ccz7EJrf.s 			page 39


DEFINED SYMBOLS
                            *ABS*:0000000000000000 fs_fat_entry.c
     /tmp/ccz7EJrf.s:18     .text.FS_FAT_EntryAttribSet:0000000000000000 $t
     /tmp/ccz7EJrf.s:26     .text.FS_FAT_EntryAttribSet:0000000000000000 FS_FAT_EntryAttribSet
     /tmp/ccz7EJrf.s:188    .text.FS_FAT_EntryCreate:0000000000000000 $t
     /tmp/ccz7EJrf.s:195    .text.FS_FAT_EntryCreate:0000000000000000 FS_FAT_EntryCreate
     /tmp/ccz7EJrf.s:278    .text.FS_FAT_EntryDel:0000000000000000 $t
     /tmp/ccz7EJrf.s:285    .text.FS_FAT_EntryDel:0000000000000000 FS_FAT_EntryDel
     /tmp/ccz7EJrf.s:358    .text.FS_FAT_EntryQuery:0000000000000000 $t
     /tmp/ccz7EJrf.s:365    .text.FS_FAT_EntryQuery:0000000000000000 FS_FAT_EntryQuery
     /tmp/ccz7EJrf.s:512    .text.FS_FAT_EntryRename:0000000000000000 $t
     /tmp/ccz7EJrf.s:519    .text.FS_FAT_EntryRename:0000000000000000 FS_FAT_EntryRename
     /tmp/ccz7EJrf.s:812    .text.FS_FAT_EntryTimeSet:0000000000000000 $t
     /tmp/ccz7EJrf.s:819    .text.FS_FAT_EntryTimeSet:0000000000000000 FS_FAT_EntryTimeSet
     /tmp/ccz7EJrf.s:896    .text.FS_FAT_EntryTimeSet:0000000000000040 $d
     /tmp/ccz7EJrf.s:904    .text.FS_FAT_EntryTimeSet:0000000000000048 $t
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.cpu_core.h.51.7b35a59c319673f88ae4a256248776ec
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.143.d3b700e12b3a14ed3bee14c822b49a7d
                           .group:0000000000000000 wm4.lib_cfg.h.40.b2958733f73e73af70f675ca0f89303e
                           .group:0000000000000000 wm4.lib_mem.h.121.89b942a057fb20091baad8bf6b28b1e6
                           .group:0000000000000000 wm4.fs.h.42.4f6311a594ee5619f1ee7a9392eb7faa
                           .group:0000000000000000 wm4.lib_ascii.h.84.da234f9d4d202bba866fb26067887eec
                           .group:0000000000000000 wm4.fs_def.h.42.653ad677c23ef93c522ec84af681385d
                           .group:0000000000000000 wm4.fs_cfg.h.116.da4f8e9d0b9040a97ef3bf26c61e90fd
                           .group:0000000000000000 wm4.clk.h.99.39403db6a27321e53b261bbe20b56e1d
                           .group:0000000000000000 wm4.lib_str.h.60.d6fb3a1336db17c586ed26be94929677
                           .group:0000000000000000 wm4.clk_cfg.h.45.428f260ed0fbcfa16fc822c67c85dade
                           .group:0000000000000000 wm4.clk.h.219.c24c7347fcc7691d3157fe73514cb366
                           .group:0000000000000000 wm4.fs_cfg_fs.h.176.c85074fbe881bfa594608376a65f4dc2
                           .group:0000000000000000 wm4.fs_type.h.42.3e681b291920189044ba1da24ae0f22a
                           .group:0000000000000000 wm4.fs_err.h.42.d52bfed31dff3d1419c5cf09952dee67
                           .group:0000000000000000 wm4.fs.h.97.1d629f0ba32b5622ab4e01a254bd98e8
                           .group:0000000000000000 wm4.fs_buf.h.42.0c8ba10968f085926266a27b71b3972d
                           .group:0000000000000000 wm4.fs_entry.h.42.9d70c930b2952a9ef63a0a4e9d586c20
                           .group:0000000000000000 wm4.fs_file.h.42.f7d55bbd535c4e6a60fafdc6ebaa8edb
                           .group:0000000000000000 wm4.fs_ctr.h.42.9d1398cac157503ac8af114819f7782b
                           .group:0000000000000000 wm4.fs_file.h.84.fedb5cc95e0d5755b63f4511370393bc
                           .group:0000000000000000 wm4.fs_vol.h.42.b307128eec61fcaf68a96ce7f965d41e
                           .group:0000000000000000 wm4.fs_util.h.64.fe7812d6ca4c430dea2d2e705fd73c11
                           .group:0000000000000000 wm4.fs_fat_type.h.44.5030ef39a150a8f4f55331616cd38bbd
                           .group:0000000000000000 wm4.fs_fat.h.103.89adf2d396ea9a0dd44def3a42712dd1
                           .group:0000000000000000 wm4.fs_fat_entry.h.46.eea2953cdf1e07c8e330c41bec18de79

UNDEFINED SYMBOLS
FS_FAT_LowEntryFind
FSBuf_Get
FS_FAT_LowEntryUpdate
FSBuf_Flush
FSBuf_Free
FS_FAT_DateTimeParse
FS_FAT_Char_LastPathSep
FS_FAT_LowEntryRename
ARM GAS  /tmp/ccz7EJrf.s 			page 40


FS_FAT_LowDirChkEmpty
FS_FAT_DateFmt
FS_FAT_TimeFmt
FSBuf_Set
FSBuf_MarkDirty
