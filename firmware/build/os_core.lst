ARM GAS  /tmp/ccwSGvvz.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"os_core.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.OS_IdleTask,"ax",%progbits
  18              		.align	1
  19              		.global	OS_IdleTask
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	OS_IdleTask:
  27              	.LFB10:
  28              		.file 1 "rtos/uCOS-III/Source/os_core.c"
   1:rtos/uCOS-III/Source/os_core.c **** /*
   2:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
   3:rtos/uCOS-III/Source/os_core.c **** *                                                uC/OS-III
   4:rtos/uCOS-III/Source/os_core.c **** *                                          The Real-Time Kernel
   5:rtos/uCOS-III/Source/os_core.c **** *
   6:rtos/uCOS-III/Source/os_core.c **** *                         (c) Copyright 2009-2019; Silicon Laboratories Inc.,
   7:rtos/uCOS-III/Source/os_core.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uCOS-III/Source/os_core.c **** *
   9:rtos/uCOS-III/Source/os_core.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uCOS-III/Source/os_core.c **** *
  11:rtos/uCOS-III/Source/os_core.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uCOS-III/Source/os_core.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uCOS-III/Source/os_core.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uCOS-III/Source/os_core.c **** *                  license, you may not use this software.
  15:rtos/uCOS-III/Source/os_core.c **** *
  16:rtos/uCOS-III/Source/os_core.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uCOS-III/Source/os_core.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uCOS-III/Source/os_core.c **** *
  19:rtos/uCOS-III/Source/os_core.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uCOS-III/Source/os_core.c **** *
  21:rtos/uCOS-III/Source/os_core.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
  23:rtos/uCOS-III/Source/os_core.c **** */
  24:rtos/uCOS-III/Source/os_core.c **** 
  25:rtos/uCOS-III/Source/os_core.c **** /*
  26:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
  27:rtos/uCOS-III/Source/os_core.c **** *                                            CORE FUNCTIONS
  28:rtos/uCOS-III/Source/os_core.c **** *
  29:rtos/uCOS-III/Source/os_core.c **** * File    : os_cfg_app.c
  30:rtos/uCOS-III/Source/os_core.c **** * Version : V3.07.04
ARM GAS  /tmp/ccwSGvvz.s 			page 2


  31:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
  32:rtos/uCOS-III/Source/os_core.c **** */
  33:rtos/uCOS-III/Source/os_core.c **** 
  34:rtos/uCOS-III/Source/os_core.c **** #define  MICRIUM_SOURCE
  35:rtos/uCOS-III/Source/os_core.c **** #include "os.h"
  36:rtos/uCOS-III/Source/os_core.c **** 
  37:rtos/uCOS-III/Source/os_core.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  38:rtos/uCOS-III/Source/os_core.c **** const  CPU_CHAR  *os_core__c = "$Id: $";
  39:rtos/uCOS-III/Source/os_core.c **** #endif
  40:rtos/uCOS-III/Source/os_core.c **** 
  41:rtos/uCOS-III/Source/os_core.c **** /*
  42:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
  43:rtos/uCOS-III/Source/os_core.c **** *                                                    INITIALIZATION
  44:rtos/uCOS-III/Source/os_core.c **** *
  45:rtos/uCOS-III/Source/os_core.c **** * Description: This function is used to initialize the internals of uC/OS-III and MUST be called pr
  46:rtos/uCOS-III/Source/os_core.c **** *              creating any uC/OS-III object and, prior to calling OSStart().
  47:rtos/uCOS-III/Source/os_core.c **** *
  48:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_err         is a pointer to a variable that will contain an error code returned by
  49:rtos/uCOS-III/Source/os_core.c **** *
  50:rtos/uCOS-III/Source/os_core.c **** *                                OS_ERR_NONE    Initialization was successful
  51:rtos/uCOS-III/Source/os_core.c **** *                                Other          Other OS_ERR_xxx depending on the sub-functions cal
  52:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
  53:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
  54:rtos/uCOS-III/Source/os_core.c **** */
  55:rtos/uCOS-III/Source/os_core.c **** 
  56:rtos/uCOS-III/Source/os_core.c **** void  OSInit (OS_ERR  *p_err)
  57:rtos/uCOS-III/Source/os_core.c **** {
  58:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_ISR_STK_SIZE > 0u)
  59:rtos/uCOS-III/Source/os_core.c ****     CPU_STK      *p_stk;
  60:rtos/uCOS-III/Source/os_core.c ****     CPU_STK_SIZE  size;
  61:rtos/uCOS-III/Source/os_core.c **** #endif
  62:rtos/uCOS-III/Source/os_core.c **** 
  63:rtos/uCOS-III/Source/os_core.c **** 
  64:rtos/uCOS-III/Source/os_core.c **** 
  65:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
  66:rtos/uCOS-III/Source/os_core.c ****     if (p_err == (OS_ERR *)0) {
  67:rtos/uCOS-III/Source/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
  68:rtos/uCOS-III/Source/os_core.c ****         return;
  69:rtos/uCOS-III/Source/os_core.c ****     }
  70:rtos/uCOS-III/Source/os_core.c **** #endif
  71:rtos/uCOS-III/Source/os_core.c **** 
  72:rtos/uCOS-III/Source/os_core.c ****     OSInitHook();                                               /* Call port specific initializatio
  73:rtos/uCOS-III/Source/os_core.c **** 
  74:rtos/uCOS-III/Source/os_core.c ****     OSIntNestingCtr       =           0u;                       /* Clear the interrupt nesting coun
  75:rtos/uCOS-III/Source/os_core.c **** 
  76:rtos/uCOS-III/Source/os_core.c ****     OSRunning             =  OS_STATE_OS_STOPPED;               /* Indicate that multitasking has n
  77:rtos/uCOS-III/Source/os_core.c **** 
  78:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr =           0u;                       /* Clear the scheduling lock counte
  79:rtos/uCOS-III/Source/os_core.c **** 
  80:rtos/uCOS-III/Source/os_core.c ****     OSTCBCurPtr           = (OS_TCB *)0;                        /* Initialize OS_TCB pointers to a 
  81:rtos/uCOS-III/Source/os_core.c ****     OSTCBHighRdyPtr       = (OS_TCB *)0;
  82:rtos/uCOS-III/Source/os_core.c **** 
  83:rtos/uCOS-III/Source/os_core.c ****     OSPrioCur             =           0u;                       /* Initialize priority variables to
  84:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy         =           0u;
  85:rtos/uCOS-III/Source/os_core.c **** 
  86:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u)
  87:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockTimeBegin  =           0u;
ARM GAS  /tmp/ccwSGvvz.s 			page 3


  88:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockTimeMax    =           0u;
  89:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockTimeMaxCur =           0u;
  90:rtos/uCOS-III/Source/os_core.c **** #endif
  91:rtos/uCOS-III/Source/os_core.c **** 
  92:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
  93:rtos/uCOS-III/Source/os_core.c ****     OSSafetyCriticalStartFlag = OS_FALSE;
  94:rtos/uCOS-III/Source/os_core.c **** #endif
  95:rtos/uCOS-III/Source/os_core.c **** 
  96:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_ROUND_ROBIN_EN > 0u)
  97:rtos/uCOS-III/Source/os_core.c ****     OSSchedRoundRobinEn             = OS_FALSE;
  98:rtos/uCOS-III/Source/os_core.c ****     OSSchedRoundRobinDfltTimeQuanta = OSCfg_TickRate_Hz / 10u;
  99:rtos/uCOS-III/Source/os_core.c **** #endif
 100:rtos/uCOS-III/Source/os_core.c **** 
 101:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_ISR_STK_SIZE > 0u)
 102:rtos/uCOS-III/Source/os_core.c ****     p_stk = OSCfg_ISRStkBasePtr;                                /* Clear exception stack for stack 
 103:rtos/uCOS-III/Source/os_core.c ****     if (p_stk != (CPU_STK *)0) {
 104:rtos/uCOS-III/Source/os_core.c ****         size  = OSCfg_ISRStkSize;
 105:rtos/uCOS-III/Source/os_core.c ****         while (size > 0u) {
 106:rtos/uCOS-III/Source/os_core.c ****             size--;
 107:rtos/uCOS-III/Source/os_core.c ****            *p_stk = 0u;
 108:rtos/uCOS-III/Source/os_core.c ****             p_stk++;
 109:rtos/uCOS-III/Source/os_core.c ****         }
 110:rtos/uCOS-III/Source/os_core.c ****     }
 111:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)                           /* Initialize Redzoned ISR stack   
 112:rtos/uCOS-III/Source/os_core.c ****     OS_TaskStkRedzoneInit(OSCfg_ISRStkBasePtr, OSCfg_ISRStkSize);
 113:rtos/uCOS-III/Source/os_core.c **** #endif
 114:rtos/uCOS-III/Source/os_core.c **** #endif
 115:rtos/uCOS-III/Source/os_core.c **** 
 116:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_APP_HOOKS_EN > 0u)                                  /* Clear application hook pointers 
 117:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 118:rtos/uCOS-III/Source/os_core.c ****     OS_AppRedzoneHitHookPtr = (OS_APP_HOOK_TCB )0;
 119:rtos/uCOS-III/Source/os_core.c **** #endif
 120:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskCreateHookPtr = (OS_APP_HOOK_TCB )0;
 121:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskDelHookPtr    = (OS_APP_HOOK_TCB )0;
 122:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskReturnHookPtr = (OS_APP_HOOK_TCB )0;
 123:rtos/uCOS-III/Source/os_core.c **** 
 124:rtos/uCOS-III/Source/os_core.c ****     OS_AppIdleTaskHookPtr   = (OS_APP_HOOK_VOID)0;
 125:rtos/uCOS-III/Source/os_core.c ****     OS_AppStatTaskHookPtr   = (OS_APP_HOOK_VOID)0;
 126:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskSwHookPtr     = (OS_APP_HOOK_VOID)0;
 127:rtos/uCOS-III/Source/os_core.c ****     OS_AppTimeTickHookPtr   = (OS_APP_HOOK_VOID)0;
 128:rtos/uCOS-III/Source/os_core.c **** #endif
 129:rtos/uCOS-III/Source/os_core.c **** 
 130:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 131:rtos/uCOS-III/Source/os_core.c ****     OSTaskRegNextAvailID = 0u;
 132:rtos/uCOS-III/Source/os_core.c **** #endif
 133:rtos/uCOS-III/Source/os_core.c **** 
 134:rtos/uCOS-III/Source/os_core.c ****     OS_PrioInit();                                              /* Initialize the priority bitmap t
 135:rtos/uCOS-III/Source/os_core.c **** 
 136:rtos/uCOS-III/Source/os_core.c ****     OS_RdyListInit();                                           /* Initialize the Ready List       
 137:rtos/uCOS-III/Source/os_core.c **** 
 138:rtos/uCOS-III/Source/os_core.c **** 
 139:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_FLAG_EN > 0u)                                       /* Initialize the Event Flag module
 140:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 141:rtos/uCOS-III/Source/os_core.c ****     OSFlagDbgListPtr = (OS_FLAG_GRP *)0;
 142:rtos/uCOS-III/Source/os_core.c ****     OSFlagQty        =                0u;
 143:rtos/uCOS-III/Source/os_core.c **** #endif
 144:rtos/uCOS-III/Source/os_core.c **** #endif
ARM GAS  /tmp/ccwSGvvz.s 			page 4


 145:rtos/uCOS-III/Source/os_core.c **** 
 146:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_MEM_EN > 0u)                                        /* Initialize the Memory Manager mo
 147:rtos/uCOS-III/Source/os_core.c ****     OS_MemInit(p_err);
 148:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 149:rtos/uCOS-III/Source/os_core.c ****         return;
 150:rtos/uCOS-III/Source/os_core.c ****     }
 151:rtos/uCOS-III/Source/os_core.c **** #endif
 152:rtos/uCOS-III/Source/os_core.c **** 
 153:rtos/uCOS-III/Source/os_core.c **** 
 154:rtos/uCOS-III/Source/os_core.c **** #if (OS_MSG_EN > 0u)                                            /* Initialize the free list of OS_M
 155:rtos/uCOS-III/Source/os_core.c ****     OS_MsgPoolInit(p_err);
 156:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 157:rtos/uCOS-III/Source/os_core.c ****         return;
 158:rtos/uCOS-III/Source/os_core.c ****     }
 159:rtos/uCOS-III/Source/os_core.c **** #endif
 160:rtos/uCOS-III/Source/os_core.c **** 
 161:rtos/uCOS-III/Source/os_core.c **** 
 162:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_MUTEX_EN > 0u)                                      /* Initialize the Mutex Manager mod
 163:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 164:rtos/uCOS-III/Source/os_core.c ****     OSMutexDbgListPtr = (OS_MUTEX *)0;
 165:rtos/uCOS-III/Source/os_core.c ****     OSMutexQty        =             0u;
 166:rtos/uCOS-III/Source/os_core.c **** #endif
 167:rtos/uCOS-III/Source/os_core.c **** #endif
 168:rtos/uCOS-III/Source/os_core.c **** 
 169:rtos/uCOS-III/Source/os_core.c **** 
 170:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_Q_EN > 0u)                                          /* Initialize the Message Queue Man
 171:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 172:rtos/uCOS-III/Source/os_core.c ****     OSQDbgListPtr = (OS_Q *)0;
 173:rtos/uCOS-III/Source/os_core.c ****     OSQQty        =         0u;
 174:rtos/uCOS-III/Source/os_core.c **** #endif
 175:rtos/uCOS-III/Source/os_core.c **** #endif
 176:rtos/uCOS-III/Source/os_core.c **** 
 177:rtos/uCOS-III/Source/os_core.c **** 
 178:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SEM_EN > 0u)                                        /* Initialize the Semaphore Manager
 179:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 180:rtos/uCOS-III/Source/os_core.c ****     OSSemDbgListPtr = (OS_SEM *)0;
 181:rtos/uCOS-III/Source/os_core.c ****     OSSemQty        =           0u;
 182:rtos/uCOS-III/Source/os_core.c **** #endif
 183:rtos/uCOS-III/Source/os_core.c **** #endif
 184:rtos/uCOS-III/Source/os_core.c **** 
 185:rtos/uCOS-III/Source/os_core.c **** 
 186:rtos/uCOS-III/Source/os_core.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
 187:rtos/uCOS-III/Source/os_core.c ****     OS_TLS_Init(p_err);                                         /* Initialize Task Local Storage, b
 188:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 189:rtos/uCOS-III/Source/os_core.c ****         return;
 190:rtos/uCOS-III/Source/os_core.c ****     }
 191:rtos/uCOS-III/Source/os_core.c **** #endif
 192:rtos/uCOS-III/Source/os_core.c **** 
 193:rtos/uCOS-III/Source/os_core.c **** 
 194:rtos/uCOS-III/Source/os_core.c ****     OS_TaskInit(p_err);                                         /* Initialize the task manager     
 195:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 196:rtos/uCOS-III/Source/os_core.c ****         return;
 197:rtos/uCOS-III/Source/os_core.c ****     }
 198:rtos/uCOS-III/Source/os_core.c **** 
 199:rtos/uCOS-III/Source/os_core.c **** 
 200:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 201:rtos/uCOS-III/Source/os_core.c ****     OS_IdleTaskInit(p_err);                                     /* Initialize the Idle Task        
ARM GAS  /tmp/ccwSGvvz.s 			page 5


 202:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 203:rtos/uCOS-III/Source/os_core.c ****         return;
 204:rtos/uCOS-III/Source/os_core.c ****     }
 205:rtos/uCOS-III/Source/os_core.c **** #endif
 206:rtos/uCOS-III/Source/os_core.c **** 
 207:rtos/uCOS-III/Source/os_core.c **** 
 208:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TICK_EN > 0u)
 209:rtos/uCOS-III/Source/os_core.c ****     OS_TickInit(p_err);
 210:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 211:rtos/uCOS-III/Source/os_core.c ****         return;
 212:rtos/uCOS-III/Source/os_core.c ****     }
 213:rtos/uCOS-III/Source/os_core.c **** #endif
 214:rtos/uCOS-III/Source/os_core.c **** 
 215:rtos/uCOS-III/Source/os_core.c **** 
 216:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_STAT_TASK_EN > 0u)                                  /* Initialize the Statistic Task   
 217:rtos/uCOS-III/Source/os_core.c ****     OS_StatTaskInit(p_err);
 218:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 219:rtos/uCOS-III/Source/os_core.c ****         return;
 220:rtos/uCOS-III/Source/os_core.c ****     }
 221:rtos/uCOS-III/Source/os_core.c **** #endif
 222:rtos/uCOS-III/Source/os_core.c **** 
 223:rtos/uCOS-III/Source/os_core.c **** 
 224:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TMR_EN > 0u)                                        /* Initialize the Timer Manager mod
 225:rtos/uCOS-III/Source/os_core.c ****     OS_TmrInit(p_err);
 226:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 227:rtos/uCOS-III/Source/os_core.c ****         return;
 228:rtos/uCOS-III/Source/os_core.c ****     }
 229:rtos/uCOS-III/Source/os_core.c **** #endif
 230:rtos/uCOS-III/Source/os_core.c **** 
 231:rtos/uCOS-III/Source/os_core.c **** 
 232:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 233:rtos/uCOS-III/Source/os_core.c ****     OS_Dbg_Init();
 234:rtos/uCOS-III/Source/os_core.c **** #endif
 235:rtos/uCOS-III/Source/os_core.c **** 
 236:rtos/uCOS-III/Source/os_core.c **** 
 237:rtos/uCOS-III/Source/os_core.c ****     OSCfg_Init();
 238:rtos/uCOS-III/Source/os_core.c **** 
 239:rtos/uCOS-III/Source/os_core.c ****     OSInitialized = OS_TRUE;                                    /* Kernel is initialized           
 240:rtos/uCOS-III/Source/os_core.c **** }
 241:rtos/uCOS-III/Source/os_core.c **** 
 242:rtos/uCOS-III/Source/os_core.c **** 
 243:rtos/uCOS-III/Source/os_core.c **** /*
 244:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 245:rtos/uCOS-III/Source/os_core.c **** *                                                      ENTER ISR
 246:rtos/uCOS-III/Source/os_core.c **** *
 247:rtos/uCOS-III/Source/os_core.c **** * Description: This function is used to notify uC/OS-III that you are about to service an interrupt
 248:rtos/uCOS-III/Source/os_core.c **** *              (ISR).  This allows uC/OS-III to keep track of interrupt nesting and thus only perfo
 249:rtos/uCOS-III/Source/os_core.c **** *              the last nested ISR.
 250:rtos/uCOS-III/Source/os_core.c **** *
 251:rtos/uCOS-III/Source/os_core.c **** * Arguments  : none
 252:rtos/uCOS-III/Source/os_core.c **** *
 253:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 254:rtos/uCOS-III/Source/os_core.c **** *
 255:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function MUST be called with interrupts already disabled
 256:rtos/uCOS-III/Source/os_core.c **** *
 257:rtos/uCOS-III/Source/os_core.c **** *              2) Your ISR can directly increment 'OSIntNestingCtr' without calling this function b
 258:rtos/uCOS-III/Source/os_core.c **** *                 been declared 'global', the port is actually considered part of the OS and thus i
ARM GAS  /tmp/ccwSGvvz.s 			page 6


 259:rtos/uCOS-III/Source/os_core.c **** *                 uC/OS-III variables.
 260:rtos/uCOS-III/Source/os_core.c **** *
 261:rtos/uCOS-III/Source/os_core.c **** *              3) You MUST still call OSIntExit() even though you increment 'OSIntNestingCtr' direc
 262:rtos/uCOS-III/Source/os_core.c **** *
 263:rtos/uCOS-III/Source/os_core.c **** *              4) You MUST invoke OSIntEnter() and OSIntExit() in pair.  In other words, for every 
 264:rtos/uCOS-III/Source/os_core.c **** *                 (or direct increment to OSIntNestingCtr) at the beginning of the ISR you MUST hav
 265:rtos/uCOS-III/Source/os_core.c **** *                 at the end of the ISR.
 266:rtos/uCOS-III/Source/os_core.c **** *
 267:rtos/uCOS-III/Source/os_core.c **** *              5) You are allowed to nest interrupts up to 250 levels deep.
 268:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 269:rtos/uCOS-III/Source/os_core.c **** */
 270:rtos/uCOS-III/Source/os_core.c **** 
 271:rtos/uCOS-III/Source/os_core.c **** void  OSIntEnter (void)
 272:rtos/uCOS-III/Source/os_core.c **** {
 273:rtos/uCOS-III/Source/os_core.c ****     OS_TRACE_ISR_ENTER();
 274:rtos/uCOS-III/Source/os_core.c **** 
 275:rtos/uCOS-III/Source/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is OS running?                  
 276:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* No                              
 277:rtos/uCOS-III/Source/os_core.c ****     }
 278:rtos/uCOS-III/Source/os_core.c **** 
 279:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr >= 250u) {                              /* Have we nested past 250 levels? 
 280:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 281:rtos/uCOS-III/Source/os_core.c ****     }
 282:rtos/uCOS-III/Source/os_core.c **** 
 283:rtos/uCOS-III/Source/os_core.c ****     OSIntNestingCtr++;                                          /* Increment ISR nesting level     
 284:rtos/uCOS-III/Source/os_core.c **** }
 285:rtos/uCOS-III/Source/os_core.c **** 
 286:rtos/uCOS-III/Source/os_core.c **** 
 287:rtos/uCOS-III/Source/os_core.c **** /*
 288:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 289:rtos/uCOS-III/Source/os_core.c **** *                                                       EXIT ISR
 290:rtos/uCOS-III/Source/os_core.c **** *
 291:rtos/uCOS-III/Source/os_core.c **** * Description: This function is used to notify uC/OS-III that you have completed servicing an ISR. 
 292:rtos/uCOS-III/Source/os_core.c **** *              ISR has completed, uC/OS-III will call the scheduler to determine whether a new, hig
 293:rtos/uCOS-III/Source/os_core.c **** *              ready to run.
 294:rtos/uCOS-III/Source/os_core.c **** *
 295:rtos/uCOS-III/Source/os_core.c **** * Arguments  : none
 296:rtos/uCOS-III/Source/os_core.c **** *
 297:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 298:rtos/uCOS-III/Source/os_core.c **** *
 299:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) You MUST invoke OSIntEnter() and OSIntExit() in pair.  In other words, for every 
 300:rtos/uCOS-III/Source/os_core.c **** *                 (or direct increment to OSIntNestingCtr) at the beginning of the ISR you MUST hav
 301:rtos/uCOS-III/Source/os_core.c **** *                 at the end of the ISR.
 302:rtos/uCOS-III/Source/os_core.c **** *
 303:rtos/uCOS-III/Source/os_core.c **** *              2) Rescheduling is prevented when the scheduler is locked (see OSSchedLock())
 304:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 305:rtos/uCOS-III/Source/os_core.c **** */
 306:rtos/uCOS-III/Source/os_core.c **** 
 307:rtos/uCOS-III/Source/os_core.c **** void  OSIntExit (void)
 308:rtos/uCOS-III/Source/os_core.c **** {
 309:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 310:rtos/uCOS-III/Source/os_core.c ****     CPU_BOOLEAN  stk_status;
 311:rtos/uCOS-III/Source/os_core.c **** #endif
 312:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 313:rtos/uCOS-III/Source/os_core.c **** 
 314:rtos/uCOS-III/Source/os_core.c **** 
 315:rtos/uCOS-III/Source/os_core.c **** 
ARM GAS  /tmp/ccwSGvvz.s 			page 7


 316:rtos/uCOS-III/Source/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Has the OS started?             
 317:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 318:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* No                              
 319:rtos/uCOS-III/Source/os_core.c ****     }
 320:rtos/uCOS-III/Source/os_core.c **** 
 321:rtos/uCOS-III/Source/os_core.c ****     CPU_INT_DIS();
 322:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr == 0u) {                                /* Prevent OSIntNestingCtr from wra
 323:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 324:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();
 325:rtos/uCOS-III/Source/os_core.c ****         return;
 326:rtos/uCOS-III/Source/os_core.c ****     }
 327:rtos/uCOS-III/Source/os_core.c ****     OSIntNestingCtr--;
 328:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr > 0u) {                                 /* ISRs still nested?              
 329:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 330:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 331:rtos/uCOS-III/Source/os_core.c ****         return;
 332:rtos/uCOS-III/Source/os_core.c ****     }
 333:rtos/uCOS-III/Source/os_core.c **** 
 334:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr > 0u) {                           /* Scheduler still locked?         
 335:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 336:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 337:rtos/uCOS-III/Source/os_core.c ****         return;
 338:rtos/uCOS-III/Source/os_core.c ****     }
 339:rtos/uCOS-III/Source/os_core.c **** 
 340:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Verify ISR Stack                
 341:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_ISR_STK_SIZE > 0u)
 342:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 343:rtos/uCOS-III/Source/os_core.c ****     stk_status = OS_TaskStkRedzoneChk(OSCfg_ISRStkBasePtr, OSCfg_ISRStkSize);
 344:rtos/uCOS-III/Source/os_core.c ****     if (stk_status != OS_TRUE) {
 345:rtos/uCOS-III/Source/os_core.c ****         OSRedzoneHitHook((OS_TCB *)0);
 346:rtos/uCOS-III/Source/os_core.c ****     }
 347:rtos/uCOS-III/Source/os_core.c **** #endif
 348:rtos/uCOS-III/Source/os_core.c **** #endif
 349:rtos/uCOS-III/Source/os_core.c **** 
 350:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy   = OS_PrioGetHighest();                      /* Find highest priority           
 351:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 352:rtos/uCOS-III/Source/os_core.c ****     OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;         /* Get highest priority task ready-
 353:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 354:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Yes                             
 355:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 356:rtos/uCOS-III/Source/os_core.c ****         stk_status = OSTaskStkRedzoneChk((OS_TCB *)0);
 357:rtos/uCOS-III/Source/os_core.c ****         if (stk_status != OS_TRUE) {
 358:rtos/uCOS-III/Source/os_core.c ****             OSRedzoneHitHook(OSTCBCurPtr);
 359:rtos/uCOS-III/Source/os_core.c ****         }
 360:rtos/uCOS-III/Source/os_core.c **** #endif
 361:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 362:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();
 363:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_TASK_SWITCHED_IN(OSTCBHighRdyPtr);             /* Do this here because we don't ex
 364:rtos/uCOS-III/Source/os_core.c ****         return;
 365:rtos/uCOS-III/Source/os_core.c ****     }
 366:rtos/uCOS-III/Source/os_core.c **** #else
 367:rtos/uCOS-III/Source/os_core.c ****     if (OSPrioHighRdy != (OS_CFG_PRIO_MAX - 1u)) {              /* Are we returning to idle?       
 368:rtos/uCOS-III/Source/os_core.c ****         OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;     /* No ... get highest priority task
 369:rtos/uCOS-III/Source/os_core.c ****         if (OSTCBHighRdyPtr == OSTCBCurPtr) {                   /* Current task still the highest p
 370:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Yes                             
 371:rtos/uCOS-III/Source/os_core.c ****             OS_TRACE_ISR_EXIT();
 372:rtos/uCOS-III/Source/os_core.c ****             CPU_INT_EN();
ARM GAS  /tmp/ccwSGvvz.s 			page 8


 373:rtos/uCOS-III/Source/os_core.c ****             OS_TRACE_TASK_SWITCHED_IN(OSTCBHighRdyPtr);         /* Do this here because we don't ex
 374:rtos/uCOS-III/Source/os_core.c ****             return;
 375:rtos/uCOS-III/Source/os_core.c ****         }
 376:rtos/uCOS-III/Source/os_core.c ****     }
 377:rtos/uCOS-III/Source/os_core.c **** #endif
 378:rtos/uCOS-III/Source/os_core.c **** 
 379:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
 380:rtos/uCOS-III/Source/os_core.c ****     OSTCBHighRdyPtr->CtxSwCtr++;                                /* Inc. # of context switches for t
 381:rtos/uCOS-III/Source/os_core.c **** #endif
 382:rtos/uCOS-III/Source/os_core.c **** #if ((OS_CFG_TASK_PROFILE_EN > 0u) || (OS_CFG_DBG_EN > 0u))
 383:rtos/uCOS-III/Source/os_core.c ****     OSTaskCtxSwCtr++;                                           /* Keep track of the total number o
 384:rtos/uCOS-III/Source/os_core.c **** #endif
 385:rtos/uCOS-III/Source/os_core.c **** 
 386:rtos/uCOS-III/Source/os_core.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
 387:rtos/uCOS-III/Source/os_core.c ****     OS_TLS_TaskSw();
 388:rtos/uCOS-III/Source/os_core.c **** #endif
 389:rtos/uCOS-III/Source/os_core.c **** 
 390:rtos/uCOS-III/Source/os_core.c ****     OS_TRACE_ISR_EXIT_TO_SCHEDULER();
 391:rtos/uCOS-III/Source/os_core.c **** 
 392:rtos/uCOS-III/Source/os_core.c ****     OSIntCtxSw();                                               /* Perform interrupt level ctx swit
 393:rtos/uCOS-III/Source/os_core.c **** 
 394:rtos/uCOS-III/Source/os_core.c ****     CPU_INT_EN();
 395:rtos/uCOS-III/Source/os_core.c **** }
 396:rtos/uCOS-III/Source/os_core.c **** 
 397:rtos/uCOS-III/Source/os_core.c **** 
 398:rtos/uCOS-III/Source/os_core.c **** /*
 399:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 400:rtos/uCOS-III/Source/os_core.c **** *                                    INDICATE THAT IT'S NO LONGER SAFE TO CREATE OBJECTS
 401:rtos/uCOS-III/Source/os_core.c **** *
 402:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called by the application code to indicate that all initialization 
 403:rtos/uCOS-III/Source/os_core.c **** *              and that kernel objects are no longer allowed to be created.
 404:rtos/uCOS-III/Source/os_core.c **** *
 405:rtos/uCOS-III/Source/os_core.c **** * Arguments  : none
 406:rtos/uCOS-III/Source/os_core.c **** *
 407:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 408:rtos/uCOS-III/Source/os_core.c **** *
 409:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : none
 410:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 411:rtos/uCOS-III/Source/os_core.c **** */
 412:rtos/uCOS-III/Source/os_core.c **** 
 413:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 414:rtos/uCOS-III/Source/os_core.c **** void  OSSafetyCriticalStart (void)
 415:rtos/uCOS-III/Source/os_core.c **** {
 416:rtos/uCOS-III/Source/os_core.c ****     OSSafetyCriticalStartFlag = OS_TRUE;
 417:rtos/uCOS-III/Source/os_core.c **** }
 418:rtos/uCOS-III/Source/os_core.c **** 
 419:rtos/uCOS-III/Source/os_core.c **** #endif
 420:rtos/uCOS-III/Source/os_core.c **** 
 421:rtos/uCOS-III/Source/os_core.c **** 
 422:rtos/uCOS-III/Source/os_core.c **** /*
 423:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 424:rtos/uCOS-III/Source/os_core.c **** *                                                      SCHEDULER
 425:rtos/uCOS-III/Source/os_core.c **** *
 426:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called by other uC/OS-III services to determine whether a new, high
 427:rtos/uCOS-III/Source/os_core.c **** *              been made ready to run.  This function is invoked by TASK level code and is not used
 428:rtos/uCOS-III/Source/os_core.c **** *              from ISRs (see OSIntExit() for ISR rescheduling).
 429:rtos/uCOS-III/Source/os_core.c **** *
ARM GAS  /tmp/ccwSGvvz.s 			page 9


 430:rtos/uCOS-III/Source/os_core.c **** * Arguments  : none
 431:rtos/uCOS-III/Source/os_core.c **** *
 432:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 433:rtos/uCOS-III/Source/os_core.c **** *
 434:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) Rescheduling is prevented when the scheduler is locked (see OSSchedLock())
 435:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 436:rtos/uCOS-III/Source/os_core.c **** */
 437:rtos/uCOS-III/Source/os_core.c **** 
 438:rtos/uCOS-III/Source/os_core.c **** void  OSSched (void)
 439:rtos/uCOS-III/Source/os_core.c **** {
 440:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 441:rtos/uCOS-III/Source/os_core.c **** 
 442:rtos/uCOS-III/Source/os_core.c **** 
 443:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)                       /* Can't schedule when the kernel i
 444:rtos/uCOS-III/Source/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {
 445:rtos/uCOS-III/Source/os_core.c ****         return;
 446:rtos/uCOS-III/Source/os_core.c ****     }
 447:rtos/uCOS-III/Source/os_core.c **** #endif
 448:rtos/uCOS-III/Source/os_core.c **** 
 449:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr > 0u) {                                 /* ISRs still nested?              
 450:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes ... only schedule when no ne
 451:rtos/uCOS-III/Source/os_core.c ****     }
 452:rtos/uCOS-III/Source/os_core.c **** 
 453:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr > 0u) {                           /* Scheduler locked?               
 454:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 455:rtos/uCOS-III/Source/os_core.c ****     }
 456:rtos/uCOS-III/Source/os_core.c **** 
 457:rtos/uCOS-III/Source/os_core.c ****     CPU_INT_DIS();
 458:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy   = OS_PrioGetHighest();                      /* Find the highest priority ready 
 459:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 460:rtos/uCOS-III/Source/os_core.c ****     OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;         /* Get highest priority task ready-
 461:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 462:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 463:rtos/uCOS-III/Source/os_core.c ****         return;
 464:rtos/uCOS-III/Source/os_core.c ****     }
 465:rtos/uCOS-III/Source/os_core.c **** #else
 466:rtos/uCOS-III/Source/os_core.c ****     if (OSPrioHighRdy != (OS_CFG_PRIO_MAX - 1u)) {              /* Are we returning to idle?       
 467:rtos/uCOS-III/Source/os_core.c ****         OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;     /* No ... get highest priority task
 468:rtos/uCOS-III/Source/os_core.c ****         if (OSTCBHighRdyPtr == OSTCBCurPtr) {                   /* Current task still the highest p
 469:rtos/uCOS-III/Source/os_core.c ****             CPU_INT_EN();                                       /* Yes                             
 470:rtos/uCOS-III/Source/os_core.c ****             return;
 471:rtos/uCOS-III/Source/os_core.c ****         }
 472:rtos/uCOS-III/Source/os_core.c ****     }
 473:rtos/uCOS-III/Source/os_core.c **** #endif
 474:rtos/uCOS-III/Source/os_core.c **** 
 475:rtos/uCOS-III/Source/os_core.c ****     OS_TRACE_TASK_PREEMPT(OSTCBCurPtr);
 476:rtos/uCOS-III/Source/os_core.c **** 
 477:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
 478:rtos/uCOS-III/Source/os_core.c ****     OSTCBHighRdyPtr->CtxSwCtr++;                                /* Inc. # of context switches to th
 479:rtos/uCOS-III/Source/os_core.c **** #endif
 480:rtos/uCOS-III/Source/os_core.c **** 
 481:rtos/uCOS-III/Source/os_core.c **** #if ((OS_CFG_TASK_PROFILE_EN > 0u) || (OS_CFG_DBG_EN > 0u))
 482:rtos/uCOS-III/Source/os_core.c ****     OSTaskCtxSwCtr++;                                           /* Increment context switch counter
 483:rtos/uCOS-III/Source/os_core.c **** #endif
 484:rtos/uCOS-III/Source/os_core.c **** 
 485:rtos/uCOS-III/Source/os_core.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
 486:rtos/uCOS-III/Source/os_core.c ****     OS_TLS_TaskSw();
ARM GAS  /tmp/ccwSGvvz.s 			page 10


 487:rtos/uCOS-III/Source/os_core.c **** #endif
 488:rtos/uCOS-III/Source/os_core.c **** 
 489:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 490:rtos/uCOS-III/Source/os_core.c ****     OS_TASK_SW();                                               /* Perform a task level context swi
 491:rtos/uCOS-III/Source/os_core.c ****     CPU_INT_EN();
 492:rtos/uCOS-III/Source/os_core.c **** #else
 493:rtos/uCOS-III/Source/os_core.c ****     if ((OSPrioHighRdy != (OS_CFG_PRIO_MAX - 1u))) {
 494:rtos/uCOS-III/Source/os_core.c ****         OS_TASK_SW();                                           /* Perform a task level context swi
 495:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();
 496:rtos/uCOS-III/Source/os_core.c ****     } else {
 497:rtos/uCOS-III/Source/os_core.c ****         OSTCBHighRdyPtr = OSTCBCurPtr;
 498:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();
 499:rtos/uCOS-III/Source/os_core.c ****         for (;;) {
 500:rtos/uCOS-III/Source/os_core.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_EN > 0u))
 501:rtos/uCOS-III/Source/os_core.c ****             CPU_CRITICAL_ENTER();
 502:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 503:rtos/uCOS-III/Source/os_core.c ****             OSIdleTaskCtr++;
 504:rtos/uCOS-III/Source/os_core.c **** #endif
 505:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_STAT_TASK_EN > 0u)
 506:rtos/uCOS-III/Source/os_core.c ****             OSStatTaskCtr++;
 507:rtos/uCOS-III/Source/os_core.c **** #endif
 508:rtos/uCOS-III/Source/os_core.c ****             CPU_CRITICAL_EXIT();
 509:rtos/uCOS-III/Source/os_core.c **** #endif
 510:rtos/uCOS-III/Source/os_core.c **** 
 511:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_APP_HOOKS_EN > 0u)
 512:rtos/uCOS-III/Source/os_core.c ****             OSIdleTaskHook();                                   /* Call user definable HOOK        
 513:rtos/uCOS-III/Source/os_core.c **** #endif
 514:rtos/uCOS-III/Source/os_core.c ****             if ((*((volatile OS_PRIO *)&OSPrioHighRdy) != (OS_CFG_PRIO_MAX - 1u))) {
 515:rtos/uCOS-III/Source/os_core.c ****                 break;
 516:rtos/uCOS-III/Source/os_core.c ****             }
 517:rtos/uCOS-III/Source/os_core.c ****         }
 518:rtos/uCOS-III/Source/os_core.c ****     }
 519:rtos/uCOS-III/Source/os_core.c **** #endif
 520:rtos/uCOS-III/Source/os_core.c **** 
 521:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_TASK_SW_SYNC
 522:rtos/uCOS-III/Source/os_core.c ****     OS_TASK_SW_SYNC();
 523:rtos/uCOS-III/Source/os_core.c **** #endif
 524:rtos/uCOS-III/Source/os_core.c **** }
 525:rtos/uCOS-III/Source/os_core.c **** 
 526:rtos/uCOS-III/Source/os_core.c **** 
 527:rtos/uCOS-III/Source/os_core.c **** /*
 528:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 529:rtos/uCOS-III/Source/os_core.c **** *                                                 PREVENT SCHEDULING
 530:rtos/uCOS-III/Source/os_core.c **** *
 531:rtos/uCOS-III/Source/os_core.c **** * Description: This function is used to prevent rescheduling from taking place.  This allows your a
 532:rtos/uCOS-III/Source/os_core.c **** *              context switches until you are ready to permit context switching.
 533:rtos/uCOS-III/Source/os_core.c **** *
 534:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_err     is a pointer to a variable that will receive an error code:
 535:rtos/uCOS-III/Source/os_core.c **** *
 536:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_NONE                 The scheduler is locked
 537:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_LOCK_NESTING_OVF     If you attempted to nest call to this func
 538:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_OS_NOT_RUNNING       If uC/OS-III is not running yet
 539:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_SCHED_LOCK_ISR       If you called this function from an ISR
 540:rtos/uCOS-III/Source/os_core.c **** *
 541:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 542:rtos/uCOS-III/Source/os_core.c **** *
 543:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) You MUST invoke OSSchedLock() and OSSchedUnlock() in pair.  In other words, for e
ARM GAS  /tmp/ccwSGvvz.s 			page 11


 544:rtos/uCOS-III/Source/os_core.c **** *                 call to OSSchedLock() you MUST have a call to OSSchedUnlock().
 545:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 546:rtos/uCOS-III/Source/os_core.c **** */
 547:rtos/uCOS-III/Source/os_core.c **** 
 548:rtos/uCOS-III/Source/os_core.c **** void  OSSchedLock (OS_ERR  *p_err)
 549:rtos/uCOS-III/Source/os_core.c **** {
 550:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 551:rtos/uCOS-III/Source/os_core.c **** 
 552:rtos/uCOS-III/Source/os_core.c **** 
 553:rtos/uCOS-III/Source/os_core.c **** 
 554:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 555:rtos/uCOS-III/Source/os_core.c ****     if (p_err == (OS_ERR *)0) {
 556:rtos/uCOS-III/Source/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 557:rtos/uCOS-III/Source/os_core.c ****         return;
 558:rtos/uCOS-III/Source/os_core.c ****     }
 559:rtos/uCOS-III/Source/os_core.c **** #endif
 560:rtos/uCOS-III/Source/os_core.c **** 
 561:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 562:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 563:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCK_ISR;
 564:rtos/uCOS-III/Source/os_core.c ****         return;
 565:rtos/uCOS-III/Source/os_core.c ****     }
 566:rtos/uCOS-III/Source/os_core.c **** #endif
 567:rtos/uCOS-III/Source/os_core.c **** 
 568:rtos/uCOS-III/Source/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Make sure multitasking is runnin
 569:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 570:rtos/uCOS-III/Source/os_core.c ****         return;
 571:rtos/uCOS-III/Source/os_core.c ****     }
 572:rtos/uCOS-III/Source/os_core.c **** 
 573:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr >= 250u) {                        /* Prevent OSSchedLockNestingCtr ov
 574:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_LOCK_NESTING_OVF;
 575:rtos/uCOS-III/Source/os_core.c ****         return;
 576:rtos/uCOS-III/Source/os_core.c ****     }
 577:rtos/uCOS-III/Source/os_core.c **** 
 578:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_ENTER();
 579:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr++;                                    /* Increment lock nesting level    
 580:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u)
 581:rtos/uCOS-III/Source/os_core.c ****     OS_SchedLockTimeMeasStart();
 582:rtos/uCOS-III/Source/os_core.c **** #endif
 583:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_EXIT();
 584:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 585:rtos/uCOS-III/Source/os_core.c **** }
 586:rtos/uCOS-III/Source/os_core.c **** 
 587:rtos/uCOS-III/Source/os_core.c **** 
 588:rtos/uCOS-III/Source/os_core.c **** /*
 589:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 590:rtos/uCOS-III/Source/os_core.c **** *                                                  ENABLE SCHEDULING
 591:rtos/uCOS-III/Source/os_core.c **** *
 592:rtos/uCOS-III/Source/os_core.c **** * Description: This function is used to re-allow rescheduling.
 593:rtos/uCOS-III/Source/os_core.c **** *
 594:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_err     is a pointer to a variable that will contain an error code returned by thi
 595:rtos/uCOS-III/Source/os_core.c **** *
 596:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_NONE                 The scheduler has been enabled
 597:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_OS_NOT_RUNNING       If uC/OS-III is not running yet
 598:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_SCHED_LOCKED         The scheduler is still locked, still neste
 599:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_SCHED_NOT_LOCKED     The scheduler was not locked
 600:rtos/uCOS-III/Source/os_core.c **** *                            OS_ERR_SCHED_UNLOCK_ISR     If you called this function from an ISR
ARM GAS  /tmp/ccwSGvvz.s 			page 12


 601:rtos/uCOS-III/Source/os_core.c **** *
 602:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 603:rtos/uCOS-III/Source/os_core.c **** *
 604:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) You MUST invoke OSSchedLock() and OSSchedUnlock() in pair.  In other words, for e
 605:rtos/uCOS-III/Source/os_core.c **** *                 OSSchedLock() you MUST have a call to OSSchedUnlock().
 606:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 607:rtos/uCOS-III/Source/os_core.c **** */
 608:rtos/uCOS-III/Source/os_core.c **** 
 609:rtos/uCOS-III/Source/os_core.c **** void  OSSchedUnlock (OS_ERR  *p_err)
 610:rtos/uCOS-III/Source/os_core.c **** {
 611:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 612:rtos/uCOS-III/Source/os_core.c **** 
 613:rtos/uCOS-III/Source/os_core.c **** 
 614:rtos/uCOS-III/Source/os_core.c **** 
 615:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 616:rtos/uCOS-III/Source/os_core.c ****     if (p_err == (OS_ERR *)0) {
 617:rtos/uCOS-III/Source/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 618:rtos/uCOS-III/Source/os_core.c ****         return;
 619:rtos/uCOS-III/Source/os_core.c ****     }
 620:rtos/uCOS-III/Source/os_core.c **** #endif
 621:rtos/uCOS-III/Source/os_core.c **** 
 622:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 623:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 624:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_UNLOCK_ISR;
 625:rtos/uCOS-III/Source/os_core.c ****         return;
 626:rtos/uCOS-III/Source/os_core.c ****     }
 627:rtos/uCOS-III/Source/os_core.c **** #endif
 628:rtos/uCOS-III/Source/os_core.c **** 
 629:rtos/uCOS-III/Source/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Make sure multitasking is runnin
 630:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 631:rtos/uCOS-III/Source/os_core.c ****         return;
 632:rtos/uCOS-III/Source/os_core.c ****     }
 633:rtos/uCOS-III/Source/os_core.c **** 
 634:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr == 0u) {                          /* See if the scheduler is locked  
 635:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_NOT_LOCKED;
 636:rtos/uCOS-III/Source/os_core.c ****         return;
 637:rtos/uCOS-III/Source/os_core.c ****     }
 638:rtos/uCOS-III/Source/os_core.c **** 
 639:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_ENTER();
 640:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr--;                                    /* Decrement lock nesting level    
 641:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr > 0u) {
 642:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* Scheduler is still locked       
 643:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 644:rtos/uCOS-III/Source/os_core.c ****         return;
 645:rtos/uCOS-III/Source/os_core.c ****     }
 646:rtos/uCOS-III/Source/os_core.c **** 
 647:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u)
 648:rtos/uCOS-III/Source/os_core.c ****     OS_SchedLockTimeMeasStop();
 649:rtos/uCOS-III/Source/os_core.c **** #endif
 650:rtos/uCOS-III/Source/os_core.c **** 
 651:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_EXIT();                                        /* Scheduler should be re-enabled  
 652:rtos/uCOS-III/Source/os_core.c ****     OSSched();                                                  /* Run the scheduler               
 653:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 654:rtos/uCOS-III/Source/os_core.c **** }
 655:rtos/uCOS-III/Source/os_core.c **** 
 656:rtos/uCOS-III/Source/os_core.c **** 
 657:rtos/uCOS-III/Source/os_core.c **** /*
ARM GAS  /tmp/ccwSGvvz.s 			page 13


 658:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 659:rtos/uCOS-III/Source/os_core.c **** *                                      CONFIGURE ROUND-ROBIN SCHEDULING PARAMETERS
 660:rtos/uCOS-III/Source/os_core.c **** *
 661:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to change the round-robin scheduling parameters.
 662:rtos/uCOS-III/Source/os_core.c **** *
 663:rtos/uCOS-III/Source/os_core.c **** * Arguments  : en                determines whether round-robin will be enabled (when OS_TRUE) or n
 664:rtos/uCOS-III/Source/os_core.c **** *
 665:rtos/uCOS-III/Source/os_core.c **** *              dflt_time_quanta  default number of ticks between time slices.  0 means OSCfg_TickRa
 666:rtos/uCOS-III/Source/os_core.c **** *
 667:rtos/uCOS-III/Source/os_core.c **** *              p_err             is a pointer to a variable that will contain an error code returne
 668:rtos/uCOS-III/Source/os_core.c **** *
 669:rtos/uCOS-III/Source/os_core.c **** *                                    OS_ERR_NONE    The call was successful
 670:rtos/uCOS-III/Source/os_core.c **** *
 671:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 672:rtos/uCOS-III/Source/os_core.c **** *
 673:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : none
 674:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 675:rtos/uCOS-III/Source/os_core.c **** */
 676:rtos/uCOS-III/Source/os_core.c **** 
 677:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_ROUND_ROBIN_EN > 0u)
 678:rtos/uCOS-III/Source/os_core.c **** void  OSSchedRoundRobinCfg (CPU_BOOLEAN   en,
 679:rtos/uCOS-III/Source/os_core.c ****                             OS_TICK       dflt_time_quanta,
 680:rtos/uCOS-III/Source/os_core.c ****                             OS_ERR       *p_err)
 681:rtos/uCOS-III/Source/os_core.c **** {
 682:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 683:rtos/uCOS-III/Source/os_core.c **** 
 684:rtos/uCOS-III/Source/os_core.c **** 
 685:rtos/uCOS-III/Source/os_core.c **** 
 686:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 687:rtos/uCOS-III/Source/os_core.c ****     if (p_err == (OS_ERR *)0) {
 688:rtos/uCOS-III/Source/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 689:rtos/uCOS-III/Source/os_core.c ****         return;
 690:rtos/uCOS-III/Source/os_core.c ****     }
 691:rtos/uCOS-III/Source/os_core.c **** #endif
 692:rtos/uCOS-III/Source/os_core.c **** 
 693:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_ENTER();
 694:rtos/uCOS-III/Source/os_core.c ****     if (en == 0u) {
 695:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinEn = OS_FALSE;
 696:rtos/uCOS-III/Source/os_core.c ****     } else {
 697:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinEn = OS_TRUE;
 698:rtos/uCOS-III/Source/os_core.c ****     }
 699:rtos/uCOS-III/Source/os_core.c **** 
 700:rtos/uCOS-III/Source/os_core.c ****     if (dflt_time_quanta > 0u) {
 701:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinDfltTimeQuanta = dflt_time_quanta;
 702:rtos/uCOS-III/Source/os_core.c ****     } else {
 703:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinDfltTimeQuanta = (OS_TICK)(OSCfg_TickRate_Hz / 10u);
 704:rtos/uCOS-III/Source/os_core.c ****     }
 705:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_EXIT();
 706:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 707:rtos/uCOS-III/Source/os_core.c **** }
 708:rtos/uCOS-III/Source/os_core.c **** #endif
 709:rtos/uCOS-III/Source/os_core.c **** 
 710:rtos/uCOS-III/Source/os_core.c **** 
 711:rtos/uCOS-III/Source/os_core.c **** /*
 712:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 713:rtos/uCOS-III/Source/os_core.c **** *                                    YIELD CPU WHEN TASK NO LONGER NEEDS THE TIME SLICE
 714:rtos/uCOS-III/Source/os_core.c **** *
ARM GAS  /tmp/ccwSGvvz.s 			page 14


 715:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to give up the CPU when a task is done executing before its 
 716:rtos/uCOS-III/Source/os_core.c **** *
 717:rtos/uCOS-III/Source/os_core.c **** * Argument(s): p_err      is a pointer to a variable that will contain an error code returned by th
 718:rtos/uCOS-III/Source/os_core.c **** *
 719:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_NONE                   The call was successful
 720:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_ROUND_ROBIN_1          Only 1 task at this priority, nothing t
 721:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_ROUND_ROBIN_DISABLED   Round Robin is not enabled
 722:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_SCHED_LOCKED           The scheduler has been locked
 723:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_YIELD_ISR              Can't be called from an ISR
 724:rtos/uCOS-III/Source/os_core.c **** *
 725:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 726:rtos/uCOS-III/Source/os_core.c **** *
 727:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function MUST be called from a task.
 728:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 729:rtos/uCOS-III/Source/os_core.c **** */
 730:rtos/uCOS-III/Source/os_core.c **** 
 731:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_ROUND_ROBIN_EN > 0u)
 732:rtos/uCOS-III/Source/os_core.c **** void  OSSchedRoundRobinYield (OS_ERR  *p_err)
 733:rtos/uCOS-III/Source/os_core.c **** {
 734:rtos/uCOS-III/Source/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 735:rtos/uCOS-III/Source/os_core.c ****     OS_TCB       *p_tcb;
 736:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 737:rtos/uCOS-III/Source/os_core.c **** 
 738:rtos/uCOS-III/Source/os_core.c **** 
 739:rtos/uCOS-III/Source/os_core.c **** 
 740:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 741:rtos/uCOS-III/Source/os_core.c ****     if (p_err == (OS_ERR *)0) {
 742:rtos/uCOS-III/Source/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 743:rtos/uCOS-III/Source/os_core.c ****         return;
 744:rtos/uCOS-III/Source/os_core.c ****     }
 745:rtos/uCOS-III/Source/os_core.c **** #endif
 746:rtos/uCOS-III/Source/os_core.c **** 
 747:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 748:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr > 0u) {                                 /* Can't call this function from an
 749:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_YIELD_ISR;
 750:rtos/uCOS-III/Source/os_core.c ****         return;
 751:rtos/uCOS-III/Source/os_core.c ****     }
 752:rtos/uCOS-III/Source/os_core.c **** #endif
 753:rtos/uCOS-III/Source/os_core.c **** 
 754:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr > 0u) {                           /* Can't yield if the scheduler is 
 755:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 756:rtos/uCOS-III/Source/os_core.c ****         return;
 757:rtos/uCOS-III/Source/os_core.c ****     }
 758:rtos/uCOS-III/Source/os_core.c **** 
 759:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedRoundRobinEn != OS_TRUE) {                       /* Make sure round-robin has been e
 760:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_DISABLED;
 761:rtos/uCOS-III/Source/os_core.c ****         return;
 762:rtos/uCOS-III/Source/os_core.c ****     }
 763:rtos/uCOS-III/Source/os_core.c **** 
 764:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_ENTER();
 765:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                         /* Can't yield if it's the only tas
 766:rtos/uCOS-III/Source/os_core.c ****     if (p_rdy_list->HeadPtr == p_rdy_list->TailPtr) {
 767:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 768:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_1;
 769:rtos/uCOS-III/Source/os_core.c ****         return;
 770:rtos/uCOS-III/Source/os_core.c ****     }
 771:rtos/uCOS-III/Source/os_core.c **** 
ARM GAS  /tmp/ccwSGvvz.s 			page 15


 772:rtos/uCOS-III/Source/os_core.c ****     OS_RdyListMoveHeadToTail(p_rdy_list);                       /* Move current OS_TCB to the end o
 773:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Point to new OS_TCB at head of t
 774:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuanta == 0u) {                              /* See if we need to use the defaul
 775:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 776:rtos/uCOS-III/Source/os_core.c ****     } else {
 777:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;               /* Load time slice counter with new
 778:rtos/uCOS-III/Source/os_core.c ****     }
 779:rtos/uCOS-III/Source/os_core.c **** 
 780:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_EXIT();
 781:rtos/uCOS-III/Source/os_core.c **** 
 782:rtos/uCOS-III/Source/os_core.c ****     OSSched();                                                  /* Run new task                    
 783:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 784:rtos/uCOS-III/Source/os_core.c **** }
 785:rtos/uCOS-III/Source/os_core.c **** #endif
 786:rtos/uCOS-III/Source/os_core.c **** 
 787:rtos/uCOS-III/Source/os_core.c **** 
 788:rtos/uCOS-III/Source/os_core.c **** /*
 789:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 790:rtos/uCOS-III/Source/os_core.c **** *                                                 START MULTITASKING
 791:rtos/uCOS-III/Source/os_core.c **** *
 792:rtos/uCOS-III/Source/os_core.c **** * Description: This function is used to start the multitasking process which lets uC/OS-III manage 
 793:rtos/uCOS-III/Source/os_core.c **** *              created.  Before you can call OSStart(), you MUST have called OSInit() and you MUST 
 794:rtos/uCOS-III/Source/os_core.c **** *              one application task.
 795:rtos/uCOS-III/Source/os_core.c **** *
 796:rtos/uCOS-III/Source/os_core.c **** * Argument(s): p_err      is a pointer to a variable that will contain an error code returned by th
 797:rtos/uCOS-III/Source/os_core.c **** *
 798:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_FATAL_RETURN    OS was running and OSStart() returned
 799:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_OS_NOT_INIT     OS is not initialized, OSStart() has no effect
 800:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_OS_NO_APP_TASK  No application task created, OSStart() has no 
 801:rtos/uCOS-III/Source/os_core.c **** *                             OS_ERR_OS_RUNNING      OS is already running, OSStart() has no effect
 802:rtos/uCOS-III/Source/os_core.c **** *
 803:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 804:rtos/uCOS-III/Source/os_core.c **** *
 805:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) OSStartHighRdy() MUST:
 806:rtos/uCOS-III/Source/os_core.c **** *                 a) Call OSTaskSwHook() then,
 807:rtos/uCOS-III/Source/os_core.c **** *                 b) Load the context of the task pointed to by OSTCBHighRdyPtr.
 808:rtos/uCOS-III/Source/os_core.c **** *                 c) Execute the task.
 809:rtos/uCOS-III/Source/os_core.c **** *
 810:rtos/uCOS-III/Source/os_core.c **** *              2) OSStart() is not supposed to return.  If it does, that would be considered a fata
 811:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 812:rtos/uCOS-III/Source/os_core.c **** */
 813:rtos/uCOS-III/Source/os_core.c **** 
 814:rtos/uCOS-III/Source/os_core.c **** void  OSStart (OS_ERR  *p_err)
 815:rtos/uCOS-III/Source/os_core.c **** {
 816:rtos/uCOS-III/Source/os_core.c ****     OS_OBJ_QTY  kernel_task_cnt;
 817:rtos/uCOS-III/Source/os_core.c **** 
 818:rtos/uCOS-III/Source/os_core.c **** 
 819:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 820:rtos/uCOS-III/Source/os_core.c ****     if (p_err == (OS_ERR *)0) {
 821:rtos/uCOS-III/Source/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 822:rtos/uCOS-III/Source/os_core.c ****         return;
 823:rtos/uCOS-III/Source/os_core.c ****     }
 824:rtos/uCOS-III/Source/os_core.c **** #endif
 825:rtos/uCOS-III/Source/os_core.c **** 
 826:rtos/uCOS-III/Source/os_core.c ****     if (OSInitialized != OS_TRUE) {
 827:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_INIT;
 828:rtos/uCOS-III/Source/os_core.c ****         return;
ARM GAS  /tmp/ccwSGvvz.s 			page 16


 829:rtos/uCOS-III/Source/os_core.c ****     }
 830:rtos/uCOS-III/Source/os_core.c **** 
 831:rtos/uCOS-III/Source/os_core.c ****     kernel_task_cnt = 0u;                                       /* Calculate the number of kernel t
 832:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_STAT_TASK_EN > 0u)
 833:rtos/uCOS-III/Source/os_core.c ****     kernel_task_cnt++;
 834:rtos/uCOS-III/Source/os_core.c **** #endif
 835:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TMR_EN > 0u)
 836:rtos/uCOS-III/Source/os_core.c ****     kernel_task_cnt++;
 837:rtos/uCOS-III/Source/os_core.c **** #endif
 838:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 839:rtos/uCOS-III/Source/os_core.c ****     kernel_task_cnt++;
 840:rtos/uCOS-III/Source/os_core.c **** #endif
 841:rtos/uCOS-III/Source/os_core.c **** 
 842:rtos/uCOS-III/Source/os_core.c ****     if (OSTaskQty <= kernel_task_cnt) {                         /* No application task created     
 843:rtos/uCOS-III/Source/os_core.c ****         *p_err = OS_ERR_OS_NO_APP_TASK;
 844:rtos/uCOS-III/Source/os_core.c ****          return;
 845:rtos/uCOS-III/Source/os_core.c ****     }
 846:rtos/uCOS-III/Source/os_core.c **** 
 847:rtos/uCOS-III/Source/os_core.c ****     if (OSRunning == OS_STATE_OS_STOPPED) {
 848:rtos/uCOS-III/Source/os_core.c ****         OSPrioHighRdy   = OS_PrioGetHighest();                  /* Find the highest priority       
 849:rtos/uCOS-III/Source/os_core.c ****         OSPrioCur       = OSPrioHighRdy;
 850:rtos/uCOS-III/Source/os_core.c ****         OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;
 851:rtos/uCOS-III/Source/os_core.c ****         OSTCBCurPtr     = OSTCBHighRdyPtr;
 852:rtos/uCOS-III/Source/os_core.c ****         OSRunning       = OS_STATE_OS_RUNNING;
 853:rtos/uCOS-III/Source/os_core.c ****         OSStartHighRdy();                                       /* Execute target specific code to 
 854:rtos/uCOS-III/Source/os_core.c ****        *p_err           = OS_ERR_FATAL_RETURN;                  /* OSStart() is not supposed to ret
 855:rtos/uCOS-III/Source/os_core.c ****     } else {
 856:rtos/uCOS-III/Source/os_core.c ****        *p_err           = OS_ERR_OS_RUNNING;                    /* OS is already running           
 857:rtos/uCOS-III/Source/os_core.c ****     }
 858:rtos/uCOS-III/Source/os_core.c **** }
 859:rtos/uCOS-III/Source/os_core.c **** 
 860:rtos/uCOS-III/Source/os_core.c **** 
 861:rtos/uCOS-III/Source/os_core.c **** /*
 862:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 863:rtos/uCOS-III/Source/os_core.c **** *                                                    GET VERSION
 864:rtos/uCOS-III/Source/os_core.c **** *
 865:rtos/uCOS-III/Source/os_core.c **** * Description: This function is used to return the version number of uC/OS-III.  The returned value
 866:rtos/uCOS-III/Source/os_core.c **** *              uC/OS-III's version number multiplied by 10000.  In other words, version 3.01.02 wou
 867:rtos/uCOS-III/Source/os_core.c **** *
 868:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_err   is a pointer to a variable that will receive an error code.  However, OSVers
 869:rtos/uCOS-III/Source/os_core.c **** *                      variable to
 870:rtos/uCOS-III/Source/os_core.c **** *
 871:rtos/uCOS-III/Source/os_core.c **** *                         OS_ERR_NONE
 872:rtos/uCOS-III/Source/os_core.c **** *
 873:rtos/uCOS-III/Source/os_core.c **** * Returns    : The version number of uC/OS-III multiplied by 10000.
 874:rtos/uCOS-III/Source/os_core.c **** *
 875:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : none
 876:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 877:rtos/uCOS-III/Source/os_core.c **** */
 878:rtos/uCOS-III/Source/os_core.c **** 
 879:rtos/uCOS-III/Source/os_core.c **** CPU_INT16U  OSVersion (OS_ERR  *p_err)
 880:rtos/uCOS-III/Source/os_core.c **** {
 881:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 882:rtos/uCOS-III/Source/os_core.c ****     if (p_err == (OS_ERR *)0) {
 883:rtos/uCOS-III/Source/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 884:rtos/uCOS-III/Source/os_core.c ****         return (0u);
 885:rtos/uCOS-III/Source/os_core.c ****     }
ARM GAS  /tmp/ccwSGvvz.s 			page 17


 886:rtos/uCOS-III/Source/os_core.c **** #endif
 887:rtos/uCOS-III/Source/os_core.c **** 
 888:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 889:rtos/uCOS-III/Source/os_core.c ****     return (OS_VERSION);
 890:rtos/uCOS-III/Source/os_core.c **** }
 891:rtos/uCOS-III/Source/os_core.c **** 
 892:rtos/uCOS-III/Source/os_core.c **** 
 893:rtos/uCOS-III/Source/os_core.c **** /*
 894:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 895:rtos/uCOS-III/Source/os_core.c **** *                                                      IDLE TASK
 896:rtos/uCOS-III/Source/os_core.c **** *
 897:rtos/uCOS-III/Source/os_core.c **** * Description: This task is internal to uC/OS-III and executes whenever no other higher priority ta
 898:rtos/uCOS-III/Source/os_core.c **** *              they are ALL waiting for event(s) to occur.
 899:rtos/uCOS-III/Source/os_core.c **** *
 900:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_arg    is an argument passed to the task when the task is created.
 901:rtos/uCOS-III/Source/os_core.c **** *
 902:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 903:rtos/uCOS-III/Source/os_core.c **** *
 904:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 905:rtos/uCOS-III/Source/os_core.c **** *
 906:rtos/uCOS-III/Source/os_core.c **** *              2) OSIdleTaskHook() is called after the critical section to ensure that interrupts w
 907:rtos/uCOS-III/Source/os_core.c **** *                 least a few instructions.  On some processors (ex. Philips XA), enabling and then
 908:rtos/uCOS-III/Source/os_core.c **** *                 doesn't allow the processor enough time to have interrupts enabled before they we
 909:rtos/uCOS-III/Source/os_core.c **** *                 uC/OS-III would thus never recognize interrupts.
 910:rtos/uCOS-III/Source/os_core.c **** *
 911:rtos/uCOS-III/Source/os_core.c **** *              3) This hook has been added to allow you to do such things as STOP the CPU to conser
 912:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 913:rtos/uCOS-III/Source/os_core.c **** */
 914:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 915:rtos/uCOS-III/Source/os_core.c **** void  OS_IdleTask (void  *p_arg)
 916:rtos/uCOS-III/Source/os_core.c **** {
  29              		.loc 1 916 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34              		.loc 1 916 1 is_stmt 0 view .LVU1
  35 0000 08B5     		push	{r3, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
  40              	.LVL1:
  41              	.L2:
 917:rtos/uCOS-III/Source/os_core.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_EN > 0u))
 918:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 919:rtos/uCOS-III/Source/os_core.c **** #endif
 920:rtos/uCOS-III/Source/os_core.c **** 
 921:rtos/uCOS-III/Source/os_core.c **** 
 922:rtos/uCOS-III/Source/os_core.c ****     (void)p_arg;                                                /* Prevent compiler warning for not
  42              		.loc 1 922 5 is_stmt 1 discriminator 1 view .LVU2
 923:rtos/uCOS-III/Source/os_core.c **** 
 924:rtos/uCOS-III/Source/os_core.c ****     for (;;) {
  43              		.loc 1 924 5 discriminator 1 view .LVU3
 925:rtos/uCOS-III/Source/os_core.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_EN > 0u))
 926:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_ENTER();
  44              		.loc 1 926 9 discriminator 1 view .LVU4
ARM GAS  /tmp/ccwSGvvz.s 			page 18


  45              		.loc 1 926 9 discriminator 1 view .LVU5
  46              		.loc 1 926 9 discriminator 1 view .LVU6
  47 0002 4020     		movs	r0, #64
  48 0004 FFF7FEFF 		bl	CPU_SR_Save
  49              	.LVL2:
  50              		.loc 1 926 9 discriminator 1 view .LVU7
  51              		.loc 1 926 9 discriminator 1 view .LVU8
 927:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 928:rtos/uCOS-III/Source/os_core.c ****         OSIdleTaskCtr++;
 929:rtos/uCOS-III/Source/os_core.c **** #endif
 930:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_STAT_TASK_EN > 0u)
 931:rtos/uCOS-III/Source/os_core.c ****         OSStatTaskCtr++;
  52              		.loc 1 931 9 discriminator 1 view .LVU9
  53              		.loc 1 931 22 is_stmt 0 discriminator 1 view .LVU10
  54 0008 044A     		ldr	r2, .L4
  55 000a 1368     		ldr	r3, [r2]
  56 000c 0133     		adds	r3, r3, #1
  57 000e 1360     		str	r3, [r2]
 932:rtos/uCOS-III/Source/os_core.c **** #endif
 933:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
  58              		.loc 1 933 9 is_stmt 1 discriminator 1 view .LVU11
  59              		.loc 1 933 9 discriminator 1 view .LVU12
  60              		.loc 1 933 9 discriminator 1 view .LVU13
  61 0010 FFF7FEFF 		bl	CPU_SR_Restore
  62              	.LVL3:
  63              		.loc 1 933 9 discriminator 1 view .LVU14
  64              		.loc 1 933 9 discriminator 1 view .LVU15
 934:rtos/uCOS-III/Source/os_core.c **** #endif
 935:rtos/uCOS-III/Source/os_core.c **** 
 936:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_APP_HOOKS_EN > 0u)
 937:rtos/uCOS-III/Source/os_core.c ****         OSIdleTaskHook();                                       /* Call user definable HOOK        
  65              		.loc 1 937 9 discriminator 1 view .LVU16
  66 0014 FFF7FEFF 		bl	OSIdleTaskHook
  67              	.LVL4:
 924:rtos/uCOS-III/Source/os_core.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_EN > 0u))
  68              		.loc 1 924 11 discriminator 1 view .LVU17
  69 0018 F3E7     		b	.L2
  70              	.L5:
  71 001a 00BF     		.align	2
  72              	.L4:
  73 001c 00000000 		.word	OSStatTaskCtr
  74              		.cfi_endproc
  75              	.LFE10:
  77              		.section	.text.OSIntEnter,"ax",%progbits
  78              		.align	1
  79              		.global	OSIntEnter
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu fpv4-sp-d16
  85              	OSIntEnter:
  86              	.LFB1:
 272:rtos/uCOS-III/Source/os_core.c ****     OS_TRACE_ISR_ENTER();
  87              		.loc 1 272 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccwSGvvz.s 			page 19


  91              		@ link register save eliminated.
 273:rtos/uCOS-III/Source/os_core.c **** 
  92              		.loc 1 273 25 view .LVU19
 275:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* No                              
  93              		.loc 1 275 5 view .LVU20
 275:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* No                              
  94              		.loc 1 275 19 is_stmt 0 view .LVU21
  95 0000 054B     		ldr	r3, .L8
  96 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 275:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* No                              
  97              		.loc 1 275 8 view .LVU22
  98 0004 012B     		cmp	r3, #1
  99 0006 06D1     		bne	.L6
 279:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 100              		.loc 1 279 5 is_stmt 1 view .LVU23
 279:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 101              		.loc 1 279 25 is_stmt 0 view .LVU24
 102 0008 044B     		ldr	r3, .L8+4
 103 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 279:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 104              		.loc 1 279 8 view .LVU25
 105 000c F92B     		cmp	r3, #249
 106 000e 02D8     		bhi	.L6
 283:rtos/uCOS-III/Source/os_core.c **** }
 107              		.loc 1 283 5 is_stmt 1 view .LVU26
 283:rtos/uCOS-III/Source/os_core.c **** }
 108              		.loc 1 283 20 is_stmt 0 view .LVU27
 109 0010 0133     		adds	r3, r3, #1
 110 0012 024A     		ldr	r2, .L8+4
 111 0014 1370     		strb	r3, [r2]
 112              	.L6:
 284:rtos/uCOS-III/Source/os_core.c **** 
 113              		.loc 1 284 1 view .LVU28
 114 0016 7047     		bx	lr
 115              	.L9:
 116              		.align	2
 117              	.L8:
 118 0018 00000000 		.word	OSRunning
 119 001c 00000000 		.word	OSIntNestingCtr
 120              		.cfi_endproc
 121              	.LFE1:
 123              		.section	.text.OSIntExit,"ax",%progbits
 124              		.align	1
 125              		.global	OSIntExit
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu fpv4-sp-d16
 131              	OSIntExit:
 132              	.LFB2:
 308:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 133              		.loc 1 308 1 is_stmt 1 view -0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 0
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 312:rtos/uCOS-III/Source/os_core.c **** 
 137              		.loc 1 312 5 view .LVU30
ARM GAS  /tmp/ccwSGvvz.s 			page 20


 138              	.LVL5:
 316:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 139              		.loc 1 316 5 view .LVU31
 316:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 140              		.loc 1 316 19 is_stmt 0 view .LVU32
 141 0000 1E4B     		ldr	r3, .L25
 142 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 316:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 143              		.loc 1 316 8 view .LVU33
 144 0004 012B     		cmp	r3, #1
 145 0006 00D0     		beq	.L20
 146 0008 7047     		bx	lr
 147              	.L20:
 308:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 148              		.loc 1 308 1 view .LVU34
 149 000a 10B5     		push	{r4, lr}
 150              	.LCFI1:
 151              		.cfi_def_cfa_offset 8
 152              		.cfi_offset 4, -8
 153              		.cfi_offset 14, -4
 321:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr == 0u) {                                /* Prevent OSIntNestingCtr from wra
 154              		.loc 1 321 5 is_stmt 1 view .LVU35
 321:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr == 0u) {                                /* Prevent OSIntNestingCtr from wra
 155              		.loc 1 321 5 view .LVU36
 156 000c 4020     		movs	r0, #64
 157 000e FFF7FEFF 		bl	CPU_SR_Save
 158              	.LVL6:
 159 0012 0446     		mov	r4, r0
 160              	.LVL7:
 321:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr == 0u) {                                /* Prevent OSIntNestingCtr from wra
 161              		.loc 1 321 5 view .LVU37
 322:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 162              		.loc 1 322 5 view .LVU38
 322:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 163              		.loc 1 322 25 is_stmt 0 view .LVU39
 164 0014 1A4B     		ldr	r3, .L25+4
 165 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 322:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 166              		.loc 1 322 8 view .LVU40
 167 0018 1BB3     		cbz	r3, .L21
 327:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr > 0u) {                                 /* ISRs still nested?              
 168              		.loc 1 327 5 is_stmt 1 view .LVU41
 327:rtos/uCOS-III/Source/os_core.c ****     if (OSIntNestingCtr > 0u) {                                 /* ISRs still nested?              
 169              		.loc 1 327 20 is_stmt 0 view .LVU42
 170 001a 013B     		subs	r3, r3, #1
 171 001c DBB2     		uxtb	r3, r3
 172 001e 184A     		ldr	r2, .L25+4
 173 0020 1370     		strb	r3, [r2]
 328:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 174              		.loc 1 328 5 is_stmt 1 view .LVU43
 328:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 175              		.loc 1 328 8 is_stmt 0 view .LVU44
 176 0022 0BBB     		cbnz	r3, .L22
 334:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 177              		.loc 1 334 5 is_stmt 1 view .LVU45
 334:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 178              		.loc 1 334 31 is_stmt 0 view .LVU46
ARM GAS  /tmp/ccwSGvvz.s 			page 21


 179 0024 174B     		ldr	r3, .L25+8
 180 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 334:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_ISR_EXIT();
 181              		.loc 1 334 8 view .LVU47
 182 0028 0BBB     		cbnz	r3, .L23
 350:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 183              		.loc 1 350 5 is_stmt 1 view .LVU48
 350:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 184              		.loc 1 350 23 is_stmt 0 view .LVU49
 185 002a FFF7FEFF 		bl	OS_PrioGetHighest
 186              	.LVL8:
 350:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 187              		.loc 1 350 21 view .LVU50
 188 002e 164A     		ldr	r2, .L25+12
 189 0030 1070     		strb	r0, [r2]
 352:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 190              		.loc 1 352 5 is_stmt 1 view .LVU51
 352:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 191              		.loc 1 352 47 is_stmt 0 view .LVU52
 192 0032 164A     		ldr	r2, .L25+16
 193 0034 52F83030 		ldr	r3, [r2, r0, lsl #3]
 352:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 194              		.loc 1 352 21 view .LVU53
 195 0038 154A     		ldr	r2, .L25+20
 196 003a 1360     		str	r3, [r2]
 353:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Yes                             
 197              		.loc 1 353 5 is_stmt 1 view .LVU54
 353:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Yes                             
 198              		.loc 1 353 25 is_stmt 0 view .LVU55
 199 003c 154A     		ldr	r2, .L25+24
 200 003e 1268     		ldr	r2, [r2]
 353:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Yes                             
 201              		.loc 1 353 8 view .LVU56
 202 0040 9342     		cmp	r3, r2
 203 0042 17D0     		beq	.L24
 380:rtos/uCOS-III/Source/os_core.c **** #endif
 204              		.loc 1 380 5 is_stmt 1 view .LVU57
 380:rtos/uCOS-III/Source/os_core.c **** #endif
 205              		.loc 1 380 20 is_stmt 0 view .LVU58
 206 0044 D3F88420 		ldr	r2, [r3, #132]
 380:rtos/uCOS-III/Source/os_core.c **** #endif
 207              		.loc 1 380 30 view .LVU59
 208 0048 0132     		adds	r2, r2, #1
 209 004a C3F88420 		str	r2, [r3, #132]
 383:rtos/uCOS-III/Source/os_core.c **** #endif
 210              		.loc 1 383 5 is_stmt 1 view .LVU60
 383:rtos/uCOS-III/Source/os_core.c **** #endif
 211              		.loc 1 383 19 is_stmt 0 view .LVU61
 212 004e 124A     		ldr	r2, .L25+28
 213 0050 1368     		ldr	r3, [r2]
 214 0052 0133     		adds	r3, r3, #1
 215 0054 1360     		str	r3, [r2]
 390:rtos/uCOS-III/Source/os_core.c **** 
 216              		.loc 1 390 37 is_stmt 1 view .LVU62
 392:rtos/uCOS-III/Source/os_core.c **** 
 217              		.loc 1 392 5 view .LVU63
 218 0056 FFF7FEFF 		bl	OSIntCtxSw
ARM GAS  /tmp/ccwSGvvz.s 			page 22


 219              	.LVL9:
 394:rtos/uCOS-III/Source/os_core.c **** }
 220              		.loc 1 394 5 view .LVU64
 394:rtos/uCOS-III/Source/os_core.c **** }
 221              		.loc 1 394 5 view .LVU65
 222 005a 2046     		mov	r0, r4
 223 005c FFF7FEFF 		bl	CPU_SR_Restore
 224              	.LVL10:
 394:rtos/uCOS-III/Source/os_core.c **** }
 225              		.loc 1 394 5 view .LVU66
 226              	.L10:
 395:rtos/uCOS-III/Source/os_core.c **** 
 227              		.loc 1 395 1 is_stmt 0 view .LVU67
 228 0060 10BD     		pop	{r4, pc}
 229              	.LVL11:
 230              	.L21:
 323:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();
 231              		.loc 1 323 28 is_stmt 1 view .LVU68
 324:rtos/uCOS-III/Source/os_core.c ****         return;
 232              		.loc 1 324 9 view .LVU69
 324:rtos/uCOS-III/Source/os_core.c ****         return;
 233              		.loc 1 324 9 view .LVU70
 234 0062 FFF7FEFF 		bl	CPU_SR_Restore
 235              	.LVL12:
 324:rtos/uCOS-III/Source/os_core.c ****         return;
 236              		.loc 1 324 9 view .LVU71
 325:rtos/uCOS-III/Source/os_core.c ****     }
 237              		.loc 1 325 9 view .LVU72
 238 0066 FBE7     		b	.L10
 239              	.LVL13:
 240              	.L22:
 329:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 241              		.loc 1 329 28 view .LVU73
 330:rtos/uCOS-III/Source/os_core.c ****         return;
 242              		.loc 1 330 9 view .LVU74
 330:rtos/uCOS-III/Source/os_core.c ****         return;
 243              		.loc 1 330 9 view .LVU75
 244 0068 FFF7FEFF 		bl	CPU_SR_Restore
 245              	.LVL14:
 330:rtos/uCOS-III/Source/os_core.c ****         return;
 246              		.loc 1 330 9 view .LVU76
 331:rtos/uCOS-III/Source/os_core.c ****     }
 247              		.loc 1 331 9 view .LVU77
 248 006c F8E7     		b	.L10
 249              	.LVL15:
 250              	.L23:
 335:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 251              		.loc 1 335 28 view .LVU78
 336:rtos/uCOS-III/Source/os_core.c ****         return;
 252              		.loc 1 336 9 view .LVU79
 336:rtos/uCOS-III/Source/os_core.c ****         return;
 253              		.loc 1 336 9 view .LVU80
 254 006e FFF7FEFF 		bl	CPU_SR_Restore
 255              	.LVL16:
 336:rtos/uCOS-III/Source/os_core.c ****         return;
 256              		.loc 1 336 9 view .LVU81
 337:rtos/uCOS-III/Source/os_core.c ****     }
ARM GAS  /tmp/ccwSGvvz.s 			page 23


 257              		.loc 1 337 9 view .LVU82
 258 0072 F5E7     		b	.L10
 259              	.L24:
 361:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();
 260              		.loc 1 361 28 view .LVU83
 362:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_TASK_SWITCHED_IN(OSTCBHighRdyPtr);             /* Do this here because we don't ex
 261              		.loc 1 362 9 view .LVU84
 362:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_TASK_SWITCHED_IN(OSTCBHighRdyPtr);             /* Do this here because we don't ex
 262              		.loc 1 362 9 view .LVU85
 263 0074 2046     		mov	r0, r4
 264 0076 FFF7FEFF 		bl	CPU_SR_Restore
 265              	.LVL17:
 362:rtos/uCOS-III/Source/os_core.c ****         OS_TRACE_TASK_SWITCHED_IN(OSTCBHighRdyPtr);             /* Do this here because we don't ex
 266              		.loc 1 362 9 view .LVU86
 363:rtos/uCOS-III/Source/os_core.c ****         return;
 267              		.loc 1 363 51 view .LVU87
 364:rtos/uCOS-III/Source/os_core.c ****     }
 268              		.loc 1 364 9 view .LVU88
 269 007a F1E7     		b	.L10
 270              	.L26:
 271              		.align	2
 272              	.L25:
 273 007c 00000000 		.word	OSRunning
 274 0080 00000000 		.word	OSIntNestingCtr
 275 0084 00000000 		.word	OSSchedLockNestingCtr
 276 0088 00000000 		.word	OSPrioHighRdy
 277 008c 00000000 		.word	OSRdyList
 278 0090 00000000 		.word	OSTCBHighRdyPtr
 279 0094 00000000 		.word	OSTCBCurPtr
 280 0098 00000000 		.word	OSTaskCtxSwCtr
 281              		.cfi_endproc
 282              	.LFE2:
 284              		.section	.text.OSSched,"ax",%progbits
 285              		.align	1
 286              		.global	OSSched
 287              		.syntax unified
 288              		.thumb
 289              		.thumb_func
 290              		.fpu fpv4-sp-d16
 292              	OSSched:
 293              	.LFB3:
 439:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 294              		.loc 1 439 1 view -0
 295              		.cfi_startproc
 296              		@ args = 0, pretend = 0, frame = 0
 297              		@ frame_needed = 0, uses_anonymous_args = 0
 440:rtos/uCOS-III/Source/os_core.c **** 
 298              		.loc 1 440 5 view .LVU90
 299              	.LVL18:
 444:rtos/uCOS-III/Source/os_core.c ****         return;
 300              		.loc 1 444 5 view .LVU91
 444:rtos/uCOS-III/Source/os_core.c ****         return;
 301              		.loc 1 444 19 is_stmt 0 view .LVU92
 302 0000 184B     		ldr	r3, .L36
 303 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 444:rtos/uCOS-III/Source/os_core.c ****         return;
 304              		.loc 1 444 8 view .LVU93
ARM GAS  /tmp/ccwSGvvz.s 			page 24


 305 0004 012B     		cmp	r3, #1
 306 0006 05D1     		bne	.L31
 449:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes ... only schedule when no ne
 307              		.loc 1 449 5 is_stmt 1 view .LVU94
 449:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes ... only schedule when no ne
 308              		.loc 1 449 25 is_stmt 0 view .LVU95
 309 0008 174B     		ldr	r3, .L36+4
 310 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 449:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes ... only schedule when no ne
 311              		.loc 1 449 8 view .LVU96
 312 000c 13B9     		cbnz	r3, .L31
 453:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 313              		.loc 1 453 5 is_stmt 1 view .LVU97
 453:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 314              		.loc 1 453 31 is_stmt 0 view .LVU98
 315 000e 174B     		ldr	r3, .L36+8
 316 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 453:rtos/uCOS-III/Source/os_core.c ****         return;                                                 /* Yes                             
 317              		.loc 1 453 8 view .LVU99
 318 0012 03B1     		cbz	r3, .L34
 319              	.L31:
 320 0014 7047     		bx	lr
 321              	.L34:
 439:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 322              		.loc 1 439 1 view .LVU100
 323 0016 10B5     		push	{r4, lr}
 324              	.LCFI2:
 325              		.cfi_def_cfa_offset 8
 326              		.cfi_offset 4, -8
 327              		.cfi_offset 14, -4
 457:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy   = OS_PrioGetHighest();                      /* Find the highest priority ready 
 328              		.loc 1 457 5 is_stmt 1 view .LVU101
 457:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy   = OS_PrioGetHighest();                      /* Find the highest priority ready 
 329              		.loc 1 457 5 view .LVU102
 330 0018 4020     		movs	r0, #64
 331 001a FFF7FEFF 		bl	CPU_SR_Save
 332              	.LVL19:
 333 001e 0446     		mov	r4, r0
 334              	.LVL20:
 457:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy   = OS_PrioGetHighest();                      /* Find the highest priority ready 
 335              		.loc 1 457 5 view .LVU103
 458:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 336              		.loc 1 458 5 view .LVU104
 458:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 337              		.loc 1 458 23 is_stmt 0 view .LVU105
 338 0020 FFF7FEFF 		bl	OS_PrioGetHighest
 339              	.LVL21:
 458:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 340              		.loc 1 458 21 view .LVU106
 341 0024 124B     		ldr	r3, .L36+12
 342 0026 1870     		strb	r0, [r3]
 460:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 343              		.loc 1 460 5 is_stmt 1 view .LVU107
 460:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 344              		.loc 1 460 47 is_stmt 0 view .LVU108
 345 0028 124B     		ldr	r3, .L36+16
 346 002a 53F83030 		ldr	r3, [r3, r0, lsl #3]
ARM GAS  /tmp/ccwSGvvz.s 			page 25


 460:rtos/uCOS-III/Source/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                       /* Current task still the highest p
 347              		.loc 1 460 21 view .LVU109
 348 002e 124A     		ldr	r2, .L36+20
 349 0030 1360     		str	r3, [r2]
 461:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 350              		.loc 1 461 5 is_stmt 1 view .LVU110
 461:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 351              		.loc 1 461 25 is_stmt 0 view .LVU111
 352 0032 124A     		ldr	r2, .L36+24
 353 0034 1268     		ldr	r2, [r2]
 461:rtos/uCOS-III/Source/os_core.c ****         CPU_INT_EN();                                           /* Yes                             
 354              		.loc 1 461 8 view .LVU112
 355 0036 9342     		cmp	r3, r2
 356 0038 10D0     		beq	.L35
 475:rtos/uCOS-III/Source/os_core.c **** 
 357              		.loc 1 475 39 is_stmt 1 view .LVU113
 478:rtos/uCOS-III/Source/os_core.c **** #endif
 358              		.loc 1 478 5 view .LVU114
 478:rtos/uCOS-III/Source/os_core.c **** #endif
 359              		.loc 1 478 20 is_stmt 0 view .LVU115
 360 003a D3F88420 		ldr	r2, [r3, #132]
 478:rtos/uCOS-III/Source/os_core.c **** #endif
 361              		.loc 1 478 30 view .LVU116
 362 003e 0132     		adds	r2, r2, #1
 363 0040 C3F88420 		str	r2, [r3, #132]
 482:rtos/uCOS-III/Source/os_core.c **** #endif
 364              		.loc 1 482 5 is_stmt 1 view .LVU117
 482:rtos/uCOS-III/Source/os_core.c **** #endif
 365              		.loc 1 482 19 is_stmt 0 view .LVU118
 366 0044 0E4A     		ldr	r2, .L36+28
 367 0046 1368     		ldr	r3, [r2]
 368 0048 0133     		adds	r3, r3, #1
 369 004a 1360     		str	r3, [r2]
 490:rtos/uCOS-III/Source/os_core.c ****     CPU_INT_EN();
 370              		.loc 1 490 5 is_stmt 1 view .LVU119
 371 004c FFF7FEFF 		bl	OSCtxSw
 372              	.LVL22:
 491:rtos/uCOS-III/Source/os_core.c **** #else
 373              		.loc 1 491 5 view .LVU120
 491:rtos/uCOS-III/Source/os_core.c **** #else
 374              		.loc 1 491 5 view .LVU121
 375 0050 2046     		mov	r0, r4
 376 0052 FFF7FEFF 		bl	CPU_SR_Restore
 377              	.LVL23:
 491:rtos/uCOS-III/Source/os_core.c **** #else
 378              		.loc 1 491 5 view .LVU122
 522:rtos/uCOS-III/Source/os_core.c **** #endif
 379              		.loc 1 522 5 view .LVU123
 380              		.syntax unified
 381              	@ 522 "rtos/uCOS-III/Source/os_core.c" 1
 382 0056 BFF36F8F 		isb
 383              	@ 0 "" 2
 384              		.thumb
 385              		.syntax unified
 386              	.L27:
 524:rtos/uCOS-III/Source/os_core.c **** 
 387              		.loc 1 524 1 is_stmt 0 view .LVU124
ARM GAS  /tmp/ccwSGvvz.s 			page 26


 388 005a 10BD     		pop	{r4, pc}
 389              	.LVL24:
 390              	.L35:
 462:rtos/uCOS-III/Source/os_core.c ****         return;
 391              		.loc 1 462 9 is_stmt 1 view .LVU125
 462:rtos/uCOS-III/Source/os_core.c ****         return;
 392              		.loc 1 462 9 view .LVU126
 393 005c 2046     		mov	r0, r4
 394 005e FFF7FEFF 		bl	CPU_SR_Restore
 395              	.LVL25:
 462:rtos/uCOS-III/Source/os_core.c ****         return;
 396              		.loc 1 462 9 view .LVU127
 463:rtos/uCOS-III/Source/os_core.c ****     }
 397              		.loc 1 463 9 view .LVU128
 398 0062 FAE7     		b	.L27
 399              	.L37:
 400              		.align	2
 401              	.L36:
 402 0064 00000000 		.word	OSRunning
 403 0068 00000000 		.word	OSIntNestingCtr
 404 006c 00000000 		.word	OSSchedLockNestingCtr
 405 0070 00000000 		.word	OSPrioHighRdy
 406 0074 00000000 		.word	OSRdyList
 407 0078 00000000 		.word	OSTCBHighRdyPtr
 408 007c 00000000 		.word	OSTCBCurPtr
 409 0080 00000000 		.word	OSTaskCtxSwCtr
 410              		.cfi_endproc
 411              	.LFE3:
 413              		.section	.text.OSSchedLock,"ax",%progbits
 414              		.align	1
 415              		.global	OSSchedLock
 416              		.syntax unified
 417              		.thumb
 418              		.thumb_func
 419              		.fpu fpv4-sp-d16
 421              	OSSchedLock:
 422              	.LVL26:
 423              	.LFB4:
 549:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 424              		.loc 1 549 1 view -0
 425              		.cfi_startproc
 426              		@ args = 0, pretend = 0, frame = 0
 427              		@ frame_needed = 0, uses_anonymous_args = 0
 549:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 428              		.loc 1 549 1 is_stmt 0 view .LVU130
 429 0000 10B5     		push	{r4, lr}
 430              	.LCFI3:
 431              		.cfi_def_cfa_offset 8
 432              		.cfi_offset 4, -8
 433              		.cfi_offset 14, -4
 434 0002 0446     		mov	r4, r0
 550:rtos/uCOS-III/Source/os_core.c **** 
 435              		.loc 1 550 5 is_stmt 1 view .LVU131
 436              	.LVL27:
 562:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCK_ISR;
 437              		.loc 1 562 5 view .LVU132
 562:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCK_ISR;
ARM GAS  /tmp/ccwSGvvz.s 			page 27


 438              		.loc 1 562 25 is_stmt 0 view .LVU133
 439 0004 114B     		ldr	r3, .L45
 440 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 562:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCK_ISR;
 441              		.loc 1 562 8 view .LVU134
 442 0008 3BB9     		cbnz	r3, .L44
 568:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 443              		.loc 1 568 5 is_stmt 1 view .LVU135
 568:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 444              		.loc 1 568 19 is_stmt 0 view .LVU136
 445 000a 114B     		ldr	r3, .L45+4
 446 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 568:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 447              		.loc 1 568 8 view .LVU137
 448 000e 012B     		cmp	r3, #1
 449 0010 07D0     		beq	.L41
 569:rtos/uCOS-III/Source/os_core.c ****         return;
 450              		.loc 1 569 8 is_stmt 1 view .LVU138
 569:rtos/uCOS-III/Source/os_core.c ****         return;
 451              		.loc 1 569 15 is_stmt 0 view .LVU139
 452 0012 45F68963 		movw	r3, #24201
 453 0016 0380     		strh	r3, [r0]	@ movhi
 570:rtos/uCOS-III/Source/os_core.c ****     }
 454              		.loc 1 570 9 is_stmt 1 view .LVU140
 455 0018 02E0     		b	.L38
 456              	.L44:
 563:rtos/uCOS-III/Source/os_core.c ****         return;
 457              		.loc 1 563 8 view .LVU141
 563:rtos/uCOS-III/Source/os_core.c ****         return;
 458              		.loc 1 563 15 is_stmt 0 view .LVU142
 459 001a 46F66253 		movw	r3, #28002
 460 001e 0380     		strh	r3, [r0]	@ movhi
 564:rtos/uCOS-III/Source/os_core.c ****     }
 461              		.loc 1 564 9 is_stmt 1 view .LVU143
 462              	.LVL28:
 463              	.L38:
 585:rtos/uCOS-III/Source/os_core.c **** 
 464              		.loc 1 585 1 is_stmt 0 view .LVU144
 465 0020 10BD     		pop	{r4, pc}
 466              	.LVL29:
 467              	.L41:
 573:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_LOCK_NESTING_OVF;
 468              		.loc 1 573 5 is_stmt 1 view .LVU145
 573:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_LOCK_NESTING_OVF;
 469              		.loc 1 573 31 is_stmt 0 view .LVU146
 470 0022 0C4B     		ldr	r3, .L45+8
 471 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 573:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_LOCK_NESTING_OVF;
 472              		.loc 1 573 8 view .LVU147
 473 0026 F92B     		cmp	r3, #249
 474 0028 03D9     		bls	.L42
 574:rtos/uCOS-III/Source/os_core.c ****         return;
 475              		.loc 1 574 8 is_stmt 1 view .LVU148
 574:rtos/uCOS-III/Source/os_core.c ****         return;
 476              		.loc 1 574 15 is_stmt 0 view .LVU149
 477 002a 45F20923 		movw	r3, #21001
 478 002e 0380     		strh	r3, [r0]	@ movhi
ARM GAS  /tmp/ccwSGvvz.s 			page 28


 575:rtos/uCOS-III/Source/os_core.c ****     }
 479              		.loc 1 575 9 is_stmt 1 view .LVU150
 480 0030 F6E7     		b	.L38
 481              	.L42:
 578:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr++;                                    /* Increment lock nesting level    
 482              		.loc 1 578 5 view .LVU151
 578:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr++;                                    /* Increment lock nesting level    
 483              		.loc 1 578 5 view .LVU152
 578:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr++;                                    /* Increment lock nesting level    
 484              		.loc 1 578 5 view .LVU153
 485 0032 4020     		movs	r0, #64
 486              	.LVL30:
 578:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr++;                                    /* Increment lock nesting level    
 487              		.loc 1 578 5 is_stmt 0 view .LVU154
 488 0034 FFF7FEFF 		bl	CPU_SR_Save
 489              	.LVL31:
 578:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr++;                                    /* Increment lock nesting level    
 490              		.loc 1 578 5 is_stmt 1 view .LVU155
 578:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr++;                                    /* Increment lock nesting level    
 491              		.loc 1 578 5 view .LVU156
 579:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u)
 492              		.loc 1 579 5 view .LVU157
 579:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u)
 493              		.loc 1 579 26 is_stmt 0 view .LVU158
 494 0038 064A     		ldr	r2, .L45+8
 495 003a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 496 003c 0133     		adds	r3, r3, #1
 497 003e 1370     		strb	r3, [r2]
 583:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 498              		.loc 1 583 5 is_stmt 1 view .LVU159
 583:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 499              		.loc 1 583 5 view .LVU160
 583:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 500              		.loc 1 583 5 view .LVU161
 501 0040 FFF7FEFF 		bl	CPU_SR_Restore
 502              	.LVL32:
 583:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 503              		.loc 1 583 5 view .LVU162
 583:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 504              		.loc 1 583 5 view .LVU163
 584:rtos/uCOS-III/Source/os_core.c **** }
 505              		.loc 1 584 4 view .LVU164
 584:rtos/uCOS-III/Source/os_core.c **** }
 506              		.loc 1 584 11 is_stmt 0 view .LVU165
 507 0044 0023     		movs	r3, #0
 508 0046 2380     		strh	r3, [r4]	@ movhi
 509 0048 EAE7     		b	.L38
 510              	.L46:
 511 004a 00BF     		.align	2
 512              	.L45:
 513 004c 00000000 		.word	OSIntNestingCtr
 514 0050 00000000 		.word	OSRunning
 515 0054 00000000 		.word	OSSchedLockNestingCtr
 516              		.cfi_endproc
 517              	.LFE4:
 519              		.section	.text.OSSchedUnlock,"ax",%progbits
 520              		.align	1
ARM GAS  /tmp/ccwSGvvz.s 			page 29


 521              		.global	OSSchedUnlock
 522              		.syntax unified
 523              		.thumb
 524              		.thumb_func
 525              		.fpu fpv4-sp-d16
 527              	OSSchedUnlock:
 528              	.LVL33:
 529              	.LFB5:
 610:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 530              		.loc 1 610 1 is_stmt 1 view -0
 531              		.cfi_startproc
 532              		@ args = 0, pretend = 0, frame = 0
 533              		@ frame_needed = 0, uses_anonymous_args = 0
 610:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 534              		.loc 1 610 1 is_stmt 0 view .LVU167
 535 0000 10B5     		push	{r4, lr}
 536              	.LCFI4:
 537              		.cfi_def_cfa_offset 8
 538              		.cfi_offset 4, -8
 539              		.cfi_offset 14, -4
 540 0002 0446     		mov	r4, r0
 611:rtos/uCOS-III/Source/os_core.c **** 
 541              		.loc 1 611 5 is_stmt 1 view .LVU168
 542              	.LVL34:
 623:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_UNLOCK_ISR;
 543              		.loc 1 623 5 view .LVU169
 623:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_UNLOCK_ISR;
 544              		.loc 1 623 25 is_stmt 0 view .LVU170
 545 0004 154B     		ldr	r3, .L56
 546 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 623:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_UNLOCK_ISR;
 547              		.loc 1 623 8 view .LVU171
 548 0008 3BB9     		cbnz	r3, .L54
 629:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 549              		.loc 1 629 5 is_stmt 1 view .LVU172
 629:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 550              		.loc 1 629 19 is_stmt 0 view .LVU173
 551 000a 154B     		ldr	r3, .L56+4
 552 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 629:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 553              		.loc 1 629 8 view .LVU174
 554 000e 012B     		cmp	r3, #1
 555 0010 07D0     		beq	.L50
 630:rtos/uCOS-III/Source/os_core.c ****         return;
 556              		.loc 1 630 8 is_stmt 1 view .LVU175
 630:rtos/uCOS-III/Source/os_core.c ****         return;
 557              		.loc 1 630 15 is_stmt 0 view .LVU176
 558 0012 45F68963 		movw	r3, #24201
 559 0016 0380     		strh	r3, [r0]	@ movhi
 631:rtos/uCOS-III/Source/os_core.c ****     }
 560              		.loc 1 631 9 is_stmt 1 view .LVU177
 561 0018 02E0     		b	.L47
 562              	.L54:
 624:rtos/uCOS-III/Source/os_core.c ****         return;
 563              		.loc 1 624 8 view .LVU178
 624:rtos/uCOS-III/Source/os_core.c ****         return;
 564              		.loc 1 624 15 is_stmt 0 view .LVU179
ARM GAS  /tmp/ccwSGvvz.s 			page 30


 565 001a 46F66553 		movw	r3, #28005
 566 001e 0380     		strh	r3, [r0]	@ movhi
 625:rtos/uCOS-III/Source/os_core.c ****     }
 567              		.loc 1 625 9 is_stmt 1 view .LVU180
 568              	.LVL35:
 569              	.L47:
 654:rtos/uCOS-III/Source/os_core.c **** 
 570              		.loc 1 654 1 is_stmt 0 view .LVU181
 571 0020 10BD     		pop	{r4, pc}
 572              	.LVL36:
 573              	.L50:
 634:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_NOT_LOCKED;
 574              		.loc 1 634 5 is_stmt 1 view .LVU182
 634:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_NOT_LOCKED;
 575              		.loc 1 634 31 is_stmt 0 view .LVU183
 576 0022 104B     		ldr	r3, .L56+8
 577 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 634:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_NOT_LOCKED;
 578              		.loc 1 634 8 view .LVU184
 579 0026 1BB9     		cbnz	r3, .L51
 635:rtos/uCOS-III/Source/os_core.c ****         return;
 580              		.loc 1 635 8 is_stmt 1 view .LVU185
 635:rtos/uCOS-III/Source/os_core.c ****         return;
 581              		.loc 1 635 15 is_stmt 0 view .LVU186
 582 0028 46F66453 		movw	r3, #28004
 583 002c 0380     		strh	r3, [r0]	@ movhi
 636:rtos/uCOS-III/Source/os_core.c ****     }
 584              		.loc 1 636 9 is_stmt 1 view .LVU187
 585 002e F7E7     		b	.L47
 586              	.L51:
 639:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr--;                                    /* Decrement lock nesting level    
 587              		.loc 1 639 5 view .LVU188
 639:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr--;                                    /* Decrement lock nesting level    
 588              		.loc 1 639 5 view .LVU189
 639:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr--;                                    /* Decrement lock nesting level    
 589              		.loc 1 639 5 view .LVU190
 590 0030 4020     		movs	r0, #64
 591              	.LVL37:
 639:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr--;                                    /* Decrement lock nesting level    
 592              		.loc 1 639 5 is_stmt 0 view .LVU191
 593 0032 FFF7FEFF 		bl	CPU_SR_Save
 594              	.LVL38:
 639:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr--;                                    /* Decrement lock nesting level    
 595              		.loc 1 639 5 is_stmt 1 view .LVU192
 639:rtos/uCOS-III/Source/os_core.c ****     OSSchedLockNestingCtr--;                                    /* Decrement lock nesting level    
 596              		.loc 1 639 5 view .LVU193
 640:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr > 0u) {
 597              		.loc 1 640 5 view .LVU194
 640:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr > 0u) {
 598              		.loc 1 640 26 is_stmt 0 view .LVU195
 599 0036 0B4A     		ldr	r2, .L56+8
 600 0038 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 601 003a 013B     		subs	r3, r3, #1
 602 003c DBB2     		uxtb	r3, r3
 603 003e 1370     		strb	r3, [r2]
 641:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* Scheduler is still locked       
 604              		.loc 1 641 5 is_stmt 1 view .LVU196
ARM GAS  /tmp/ccwSGvvz.s 			page 31


 641:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* Scheduler is still locked       
 605              		.loc 1 641 8 is_stmt 0 view .LVU197
 606 0040 33B9     		cbnz	r3, .L55
 651:rtos/uCOS-III/Source/os_core.c ****     OSSched();                                                  /* Run the scheduler               
 607              		.loc 1 651 5 is_stmt 1 view .LVU198
 651:rtos/uCOS-III/Source/os_core.c ****     OSSched();                                                  /* Run the scheduler               
 608              		.loc 1 651 5 view .LVU199
 651:rtos/uCOS-III/Source/os_core.c ****     OSSched();                                                  /* Run the scheduler               
 609              		.loc 1 651 5 view .LVU200
 610 0042 FFF7FEFF 		bl	CPU_SR_Restore
 611              	.LVL39:
 651:rtos/uCOS-III/Source/os_core.c ****     OSSched();                                                  /* Run the scheduler               
 612              		.loc 1 651 5 view .LVU201
 651:rtos/uCOS-III/Source/os_core.c ****     OSSched();                                                  /* Run the scheduler               
 613              		.loc 1 651 5 view .LVU202
 652:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 614              		.loc 1 652 5 view .LVU203
 615 0046 FFF7FEFF 		bl	OSSched
 616              	.LVL40:
 653:rtos/uCOS-III/Source/os_core.c **** }
 617              		.loc 1 653 4 view .LVU204
 653:rtos/uCOS-III/Source/os_core.c **** }
 618              		.loc 1 653 11 is_stmt 0 view .LVU205
 619 004a 0023     		movs	r3, #0
 620 004c 2380     		strh	r3, [r4]	@ movhi
 621 004e E7E7     		b	.L47
 622              	.LVL41:
 623              	.L55:
 642:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 624              		.loc 1 642 9 is_stmt 1 view .LVU206
 642:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 625              		.loc 1 642 9 view .LVU207
 642:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 626              		.loc 1 642 9 view .LVU208
 627 0050 FFF7FEFF 		bl	CPU_SR_Restore
 628              	.LVL42:
 642:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 629              		.loc 1 642 9 view .LVU209
 642:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 630              		.loc 1 642 9 view .LVU210
 643:rtos/uCOS-III/Source/os_core.c ****         return;
 631              		.loc 1 643 8 view .LVU211
 643:rtos/uCOS-III/Source/os_core.c ****         return;
 632              		.loc 1 643 15 is_stmt 0 view .LVU212
 633 0054 46F66353 		movw	r3, #28003
 634 0058 2380     		strh	r3, [r4]	@ movhi
 644:rtos/uCOS-III/Source/os_core.c ****     }
 635              		.loc 1 644 9 is_stmt 1 view .LVU213
 636 005a E1E7     		b	.L47
 637              	.L57:
 638              		.align	2
 639              	.L56:
 640 005c 00000000 		.word	OSIntNestingCtr
 641 0060 00000000 		.word	OSRunning
 642 0064 00000000 		.word	OSSchedLockNestingCtr
 643              		.cfi_endproc
 644              	.LFE5:
ARM GAS  /tmp/ccwSGvvz.s 			page 32


 646              		.section	.text.OSSchedRoundRobinCfg,"ax",%progbits
 647              		.align	1
 648              		.global	OSSchedRoundRobinCfg
 649              		.syntax unified
 650              		.thumb
 651              		.thumb_func
 652              		.fpu fpv4-sp-d16
 654              	OSSchedRoundRobinCfg:
 655              	.LVL43:
 656              	.LFB6:
 681:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 657              		.loc 1 681 1 view -0
 658              		.cfi_startproc
 659              		@ args = 0, pretend = 0, frame = 0
 660              		@ frame_needed = 0, uses_anonymous_args = 0
 681:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 661              		.loc 1 681 1 is_stmt 0 view .LVU215
 662 0000 70B5     		push	{r4, r5, r6, lr}
 663              	.LCFI5:
 664              		.cfi_def_cfa_offset 16
 665              		.cfi_offset 4, -16
 666              		.cfi_offset 5, -12
 667              		.cfi_offset 6, -8
 668              		.cfi_offset 14, -4
 669 0002 0646     		mov	r6, r0
 670 0004 0C46     		mov	r4, r1
 671 0006 1546     		mov	r5, r2
 682:rtos/uCOS-III/Source/os_core.c **** 
 672              		.loc 1 682 5 is_stmt 1 view .LVU216
 673              	.LVL44:
 693:rtos/uCOS-III/Source/os_core.c ****     if (en == 0u) {
 674              		.loc 1 693 5 view .LVU217
 693:rtos/uCOS-III/Source/os_core.c ****     if (en == 0u) {
 675              		.loc 1 693 5 view .LVU218
 693:rtos/uCOS-III/Source/os_core.c ****     if (en == 0u) {
 676              		.loc 1 693 5 view .LVU219
 677 0008 4020     		movs	r0, #64
 678              	.LVL45:
 693:rtos/uCOS-III/Source/os_core.c ****     if (en == 0u) {
 679              		.loc 1 693 5 is_stmt 0 view .LVU220
 680 000a FFF7FEFF 		bl	CPU_SR_Save
 681              	.LVL46:
 693:rtos/uCOS-III/Source/os_core.c ****     if (en == 0u) {
 682              		.loc 1 693 5 is_stmt 1 view .LVU221
 693:rtos/uCOS-III/Source/os_core.c ****     if (en == 0u) {
 683              		.loc 1 693 5 view .LVU222
 694:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinEn = OS_FALSE;
 684              		.loc 1 694 5 view .LVU223
 694:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinEn = OS_FALSE;
 685              		.loc 1 694 8 is_stmt 0 view .LVU224
 686 000e 56B9     		cbnz	r6, .L59
 695:rtos/uCOS-III/Source/os_core.c ****     } else {
 687              		.loc 1 695 9 is_stmt 1 view .LVU225
 695:rtos/uCOS-III/Source/os_core.c ****     } else {
 688              		.loc 1 695 29 is_stmt 0 view .LVU226
 689 0010 0B4B     		ldr	r3, .L64
 690 0012 0022     		movs	r2, #0
ARM GAS  /tmp/ccwSGvvz.s 			page 33


 691 0014 1A70     		strb	r2, [r3]
 692              	.L60:
 700:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinDfltTimeQuanta = dflt_time_quanta;
 693              		.loc 1 700 5 is_stmt 1 view .LVU227
 700:rtos/uCOS-III/Source/os_core.c ****         OSSchedRoundRobinDfltTimeQuanta = dflt_time_quanta;
 694              		.loc 1 700 8 is_stmt 0 view .LVU228
 695 0016 54B1     		cbz	r4, .L61
 701:rtos/uCOS-III/Source/os_core.c ****     } else {
 696              		.loc 1 701 9 is_stmt 1 view .LVU229
 701:rtos/uCOS-III/Source/os_core.c ****     } else {
 697              		.loc 1 701 41 is_stmt 0 view .LVU230
 698 0018 0A4B     		ldr	r3, .L64+4
 699 001a 1C60     		str	r4, [r3]
 700              	.L62:
 705:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 701              		.loc 1 705 5 is_stmt 1 view .LVU231
 705:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 702              		.loc 1 705 5 view .LVU232
 705:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 703              		.loc 1 705 5 view .LVU233
 704 001c FFF7FEFF 		bl	CPU_SR_Restore
 705              	.LVL47:
 705:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 706              		.loc 1 705 5 view .LVU234
 705:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 707              		.loc 1 705 5 view .LVU235
 706:rtos/uCOS-III/Source/os_core.c **** }
 708              		.loc 1 706 4 view .LVU236
 706:rtos/uCOS-III/Source/os_core.c **** }
 709              		.loc 1 706 11 is_stmt 0 view .LVU237
 710 0020 0023     		movs	r3, #0
 711 0022 2B80     		strh	r3, [r5]	@ movhi
 707:rtos/uCOS-III/Source/os_core.c **** #endif
 712              		.loc 1 707 1 view .LVU238
 713 0024 70BD     		pop	{r4, r5, r6, pc}
 714              	.LVL48:
 715              	.L59:
 697:rtos/uCOS-III/Source/os_core.c ****     }
 716              		.loc 1 697 9 is_stmt 1 view .LVU239
 697:rtos/uCOS-III/Source/os_core.c ****     }
 717              		.loc 1 697 29 is_stmt 0 view .LVU240
 718 0026 064B     		ldr	r3, .L64
 719 0028 0122     		movs	r2, #1
 720 002a 1A70     		strb	r2, [r3]
 721 002c F3E7     		b	.L60
 722              	.L61:
 703:rtos/uCOS-III/Source/os_core.c ****     }
 723              		.loc 1 703 9 is_stmt 1 view .LVU241
 703:rtos/uCOS-III/Source/os_core.c ****     }
 724              		.loc 1 703 43 is_stmt 0 view .LVU242
 725 002e 064B     		ldr	r3, .L64+8
 726 0030 1B68     		ldr	r3, [r3]
 727 0032 064A     		ldr	r2, .L64+12
 728 0034 A2FB0323 		umull	r2, r3, r2, r3
 729 0038 DB08     		lsrs	r3, r3, #3
 703:rtos/uCOS-III/Source/os_core.c ****     }
 730              		.loc 1 703 41 view .LVU243
ARM GAS  /tmp/ccwSGvvz.s 			page 34


 731 003a 024A     		ldr	r2, .L64+4
 732 003c 1360     		str	r3, [r2]
 733 003e EDE7     		b	.L62
 734              	.L65:
 735              		.align	2
 736              	.L64:
 737 0040 00000000 		.word	OSSchedRoundRobinEn
 738 0044 00000000 		.word	OSSchedRoundRobinDfltTimeQuanta
 739 0048 00000000 		.word	OSCfg_TickRate_Hz
 740 004c CDCCCCCC 		.word	-858993459
 741              		.cfi_endproc
 742              	.LFE6:
 744              		.section	.text.OSStart,"ax",%progbits
 745              		.align	1
 746              		.global	OSStart
 747              		.syntax unified
 748              		.thumb
 749              		.thumb_func
 750              		.fpu fpv4-sp-d16
 752              	OSStart:
 753              	.LVL49:
 754              	.LFB8:
 815:rtos/uCOS-III/Source/os_core.c ****     OS_OBJ_QTY  kernel_task_cnt;
 755              		.loc 1 815 1 is_stmt 1 view -0
 756              		.cfi_startproc
 757              		@ args = 0, pretend = 0, frame = 0
 758              		@ frame_needed = 0, uses_anonymous_args = 0
 815:rtos/uCOS-III/Source/os_core.c ****     OS_OBJ_QTY  kernel_task_cnt;
 759              		.loc 1 815 1 is_stmt 0 view .LVU245
 760 0000 10B5     		push	{r4, lr}
 761              	.LCFI6:
 762              		.cfi_def_cfa_offset 8
 763              		.cfi_offset 4, -8
 764              		.cfi_offset 14, -4
 765 0002 0446     		mov	r4, r0
 816:rtos/uCOS-III/Source/os_core.c **** 
 766              		.loc 1 816 5 is_stmt 1 view .LVU246
 826:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_INIT;
 767              		.loc 1 826 5 view .LVU247
 826:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_INIT;
 768              		.loc 1 826 23 is_stmt 0 view .LVU248
 769 0004 164B     		ldr	r3, .L74
 770 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 826:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_OS_NOT_INIT;
 771              		.loc 1 826 8 view .LVU249
 772 0008 012B     		cmp	r3, #1
 773 000a 03D0     		beq	.L67
 827:rtos/uCOS-III/Source/os_core.c ****         return;
 774              		.loc 1 827 8 is_stmt 1 view .LVU250
 827:rtos/uCOS-III/Source/os_core.c ****         return;
 775              		.loc 1 827 15 is_stmt 0 view .LVU251
 776 000c 45F68B63 		movw	r3, #24203
 777 0010 0380     		strh	r3, [r0]	@ movhi
 828:rtos/uCOS-III/Source/os_core.c ****     }
 778              		.loc 1 828 9 is_stmt 1 view .LVU252
 779              	.LVL50:
 780              	.L66:
ARM GAS  /tmp/ccwSGvvz.s 			page 35


 858:rtos/uCOS-III/Source/os_core.c **** 
 781              		.loc 1 858 1 is_stmt 0 view .LVU253
 782 0012 10BD     		pop	{r4, pc}
 783              	.LVL51:
 784              	.L67:
 831:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_STAT_TASK_EN > 0u)
 785              		.loc 1 831 5 is_stmt 1 view .LVU254
 833:rtos/uCOS-III/Source/os_core.c **** #endif
 786              		.loc 1 833 5 view .LVU255
 836:rtos/uCOS-III/Source/os_core.c **** #endif
 787              		.loc 1 836 5 view .LVU256
 839:rtos/uCOS-III/Source/os_core.c **** #endif
 788              		.loc 1 839 5 view .LVU257
 842:rtos/uCOS-III/Source/os_core.c ****         *p_err = OS_ERR_OS_NO_APP_TASK;
 789              		.loc 1 842 5 view .LVU258
 842:rtos/uCOS-III/Source/os_core.c ****         *p_err = OS_ERR_OS_NO_APP_TASK;
 790              		.loc 1 842 19 is_stmt 0 view .LVU259
 791 0014 134B     		ldr	r3, .L74+4
 792 0016 1B88     		ldrh	r3, [r3]
 842:rtos/uCOS-III/Source/os_core.c ****         *p_err = OS_ERR_OS_NO_APP_TASK;
 793              		.loc 1 842 8 view .LVU260
 794 0018 032B     		cmp	r3, #3
 795 001a 06D9     		bls	.L72
 847:rtos/uCOS-III/Source/os_core.c ****         OSPrioHighRdy   = OS_PrioGetHighest();                  /* Find the highest priority       
 796              		.loc 1 847 5 is_stmt 1 view .LVU261
 847:rtos/uCOS-III/Source/os_core.c ****         OSPrioHighRdy   = OS_PrioGetHighest();                  /* Find the highest priority       
 797              		.loc 1 847 19 is_stmt 0 view .LVU262
 798 001c 124B     		ldr	r3, .L74+8
 799 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 847:rtos/uCOS-III/Source/os_core.c ****         OSPrioHighRdy   = OS_PrioGetHighest();                  /* Find the highest priority       
 800              		.loc 1 847 8 view .LVU263
 801 0020 3BB1     		cbz	r3, .L73
 856:rtos/uCOS-III/Source/os_core.c ****     }
 802              		.loc 1 856 8 is_stmt 1 view .LVU264
 856:rtos/uCOS-III/Source/os_core.c ****     }
 803              		.loc 1 856 25 is_stmt 0 view .LVU265
 804 0022 45F68A63 		movw	r3, #24202
 805 0026 0380     		strh	r3, [r0]	@ movhi
 806 0028 F3E7     		b	.L66
 807              	.L72:
 843:rtos/uCOS-III/Source/os_core.c ****          return;
 808              		.loc 1 843 9 is_stmt 1 view .LVU266
 843:rtos/uCOS-III/Source/os_core.c ****          return;
 809              		.loc 1 843 16 is_stmt 0 view .LVU267
 810 002a 45F68C63 		movw	r3, #24204
 811 002e 0380     		strh	r3, [r0]	@ movhi
 844:rtos/uCOS-III/Source/os_core.c ****     }
 812              		.loc 1 844 10 is_stmt 1 view .LVU268
 813 0030 EFE7     		b	.L66
 814              	.L73:
 848:rtos/uCOS-III/Source/os_core.c ****         OSPrioCur       = OSPrioHighRdy;
 815              		.loc 1 848 9 view .LVU269
 848:rtos/uCOS-III/Source/os_core.c ****         OSPrioCur       = OSPrioHighRdy;
 816              		.loc 1 848 27 is_stmt 0 view .LVU270
 817 0032 FFF7FEFF 		bl	OS_PrioGetHighest
 818              	.LVL52:
 848:rtos/uCOS-III/Source/os_core.c ****         OSPrioCur       = OSPrioHighRdy;
ARM GAS  /tmp/ccwSGvvz.s 			page 36


 819              		.loc 1 848 25 view .LVU271
 820 0036 0D4B     		ldr	r3, .L74+12
 821 0038 1870     		strb	r0, [r3]
 849:rtos/uCOS-III/Source/os_core.c ****         OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;
 822              		.loc 1 849 9 is_stmt 1 view .LVU272
 849:rtos/uCOS-III/Source/os_core.c ****         OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;
 823              		.loc 1 849 25 is_stmt 0 view .LVU273
 824 003a 0D4B     		ldr	r3, .L74+16
 825 003c 1870     		strb	r0, [r3]
 850:rtos/uCOS-III/Source/os_core.c ****         OSTCBCurPtr     = OSTCBHighRdyPtr;
 826              		.loc 1 850 9 is_stmt 1 view .LVU274
 850:rtos/uCOS-III/Source/os_core.c ****         OSTCBCurPtr     = OSTCBHighRdyPtr;
 827              		.loc 1 850 51 is_stmt 0 view .LVU275
 828 003e 0D4B     		ldr	r3, .L74+20
 829 0040 53F83030 		ldr	r3, [r3, r0, lsl #3]
 850:rtos/uCOS-III/Source/os_core.c ****         OSTCBCurPtr     = OSTCBHighRdyPtr;
 830              		.loc 1 850 25 view .LVU276
 831 0044 0C4A     		ldr	r2, .L74+24
 832 0046 1360     		str	r3, [r2]
 851:rtos/uCOS-III/Source/os_core.c ****         OSRunning       = OS_STATE_OS_RUNNING;
 833              		.loc 1 851 9 is_stmt 1 view .LVU277
 851:rtos/uCOS-III/Source/os_core.c ****         OSRunning       = OS_STATE_OS_RUNNING;
 834              		.loc 1 851 25 is_stmt 0 view .LVU278
 835 0048 0C4A     		ldr	r2, .L74+28
 836 004a 1360     		str	r3, [r2]
 852:rtos/uCOS-III/Source/os_core.c ****         OSStartHighRdy();                                       /* Execute target specific code to 
 837              		.loc 1 852 9 is_stmt 1 view .LVU279
 852:rtos/uCOS-III/Source/os_core.c ****         OSStartHighRdy();                                       /* Execute target specific code to 
 838              		.loc 1 852 25 is_stmt 0 view .LVU280
 839 004c 064B     		ldr	r3, .L74+8
 840 004e 0122     		movs	r2, #1
 841 0050 1A70     		strb	r2, [r3]
 853:rtos/uCOS-III/Source/os_core.c ****        *p_err           = OS_ERR_FATAL_RETURN;                  /* OSStart() is not supposed to ret
 842              		.loc 1 853 9 is_stmt 1 view .LVU281
 843 0052 FFF7FEFF 		bl	OSStartHighRdy
 844              	.LVL53:
 854:rtos/uCOS-III/Source/os_core.c ****     } else {
 845              		.loc 1 854 8 view .LVU282
 854:rtos/uCOS-III/Source/os_core.c ****     } else {
 846              		.loc 1 854 25 is_stmt 0 view .LVU283
 847 0056 43F69923 		movw	r3, #15001
 848 005a 2380     		strh	r3, [r4]	@ movhi
 849 005c D9E7     		b	.L66
 850              	.L75:
 851 005e 00BF     		.align	2
 852              	.L74:
 853 0060 00000000 		.word	OSInitialized
 854 0064 00000000 		.word	OSTaskQty
 855 0068 00000000 		.word	OSRunning
 856 006c 00000000 		.word	OSPrioHighRdy
 857 0070 00000000 		.word	OSPrioCur
 858 0074 00000000 		.word	OSRdyList
 859 0078 00000000 		.word	OSTCBHighRdyPtr
 860 007c 00000000 		.word	OSTCBCurPtr
 861              		.cfi_endproc
 862              	.LFE8:
 864              		.section	.text.OSVersion,"ax",%progbits
ARM GAS  /tmp/ccwSGvvz.s 			page 37


 865              		.align	1
 866              		.global	OSVersion
 867              		.syntax unified
 868              		.thumb
 869              		.thumb_func
 870              		.fpu fpv4-sp-d16
 872              	OSVersion:
 873              	.LVL54:
 874              	.LFB9:
 880:rtos/uCOS-III/Source/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 875              		.loc 1 880 1 is_stmt 1 view -0
 876              		.cfi_startproc
 877              		@ args = 0, pretend = 0, frame = 0
 878              		@ frame_needed = 0, uses_anonymous_args = 0
 879              		@ link register save eliminated.
 888:rtos/uCOS-III/Source/os_core.c ****     return (OS_VERSION);
 880              		.loc 1 888 4 view .LVU285
 888:rtos/uCOS-III/Source/os_core.c ****     return (OS_VERSION);
 881              		.loc 1 888 11 is_stmt 0 view .LVU286
 882 0000 0023     		movs	r3, #0
 883 0002 0380     		strh	r3, [r0]	@ movhi
 889:rtos/uCOS-III/Source/os_core.c **** }
 884              		.loc 1 889 5 is_stmt 1 view .LVU287
 890:rtos/uCOS-III/Source/os_core.c **** 
 885              		.loc 1 890 1 is_stmt 0 view .LVU288
 886 0004 47F2F070 		movw	r0, #30704
 887              	.LVL55:
 890:rtos/uCOS-III/Source/os_core.c **** 
 888              		.loc 1 890 1 view .LVU289
 889 0008 7047     		bx	lr
 890              		.cfi_endproc
 891              	.LFE9:
 893              		.section	.text.OS_IdleTaskInit,"ax",%progbits
 894              		.align	1
 895              		.global	OS_IdleTaskInit
 896              		.syntax unified
 897              		.thumb
 898              		.thumb_func
 899              		.fpu fpv4-sp-d16
 901              	OS_IdleTaskInit:
 902              	.LVL56:
 903              	.LFB11:
 938:rtos/uCOS-III/Source/os_core.c **** #endif
 939:rtos/uCOS-III/Source/os_core.c ****     }
 940:rtos/uCOS-III/Source/os_core.c **** }
 941:rtos/uCOS-III/Source/os_core.c **** #endif
 942:rtos/uCOS-III/Source/os_core.c **** 
 943:rtos/uCOS-III/Source/os_core.c **** /*
 944:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 945:rtos/uCOS-III/Source/os_core.c **** *                                               INITIALIZE THE IDLE TASK
 946:rtos/uCOS-III/Source/os_core.c **** *
 947:rtos/uCOS-III/Source/os_core.c **** * Description: This function initializes the idle task
 948:rtos/uCOS-III/Source/os_core.c **** *
 949:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_err    is a pointer to a variable that will contain an error code returned by this
 950:rtos/uCOS-III/Source/os_core.c **** *
 951:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
 952:rtos/uCOS-III/Source/os_core.c **** *
ARM GAS  /tmp/ccwSGvvz.s 			page 38


 953:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 954:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 955:rtos/uCOS-III/Source/os_core.c **** */
 956:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 957:rtos/uCOS-III/Source/os_core.c **** void  OS_IdleTaskInit (OS_ERR  *p_err)
 958:rtos/uCOS-III/Source/os_core.c **** {
 904              		.loc 1 958 1 is_stmt 1 view -0
 905              		.cfi_startproc
 906              		@ args = 0, pretend = 0, frame = 0
 907              		@ frame_needed = 0, uses_anonymous_args = 0
 908              		.loc 1 958 1 is_stmt 0 view .LVU291
 909 0000 00B5     		push	{lr}
 910              	.LCFI7:
 911              		.cfi_def_cfa_offset 4
 912              		.cfi_offset 14, -4
 913 0002 8BB0     		sub	sp, sp, #44
 914              	.LCFI8:
 915              		.cfi_def_cfa_offset 48
 959:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 960:rtos/uCOS-III/Source/os_core.c ****     OSIdleTaskCtr = 0u;
 961:rtos/uCOS-III/Source/os_core.c **** #endif
 962:rtos/uCOS-III/Source/os_core.c ****                                                                 /* --------------- CREATE THE IDLE 
 963:rtos/uCOS-III/Source/os_core.c ****     OSTaskCreate(&OSIdleTaskTCB,
 916              		.loc 1 963 5 is_stmt 1 view .LVU292
 917 0004 0890     		str	r0, [sp, #32]
 918 0006 0B23     		movs	r3, #11
 919 0008 0793     		str	r3, [sp, #28]
 920 000a 0021     		movs	r1, #0
 921 000c 0691     		str	r1, [sp, #24]
 922 000e 0591     		str	r1, [sp, #20]
 923 0010 0491     		str	r1, [sp, #16]
 924 0012 094B     		ldr	r3, .L79
 925 0014 1B68     		ldr	r3, [r3]
 926 0016 0393     		str	r3, [sp, #12]
 927 0018 084B     		ldr	r3, .L79+4
 928 001a 1B68     		ldr	r3, [r3]
 929 001c 0293     		str	r3, [sp, #8]
 930 001e 084B     		ldr	r3, .L79+8
 931 0020 1B68     		ldr	r3, [r3]
 932 0022 0193     		str	r3, [sp, #4]
 933 0024 3F23     		movs	r3, #63
 934 0026 0093     		str	r3, [sp]
 935 0028 0B46     		mov	r3, r1
 936 002a 064A     		ldr	r2, .L79+12
 937 002c 0648     		ldr	r0, .L79+16
 938              	.LVL57:
 939              		.loc 1 963 5 is_stmt 0 view .LVU293
 940 002e FFF7FEFF 		bl	OSTaskCreate
 941              	.LVL58:
 964:rtos/uCOS-III/Source/os_core.c **** #if  (OS_CFG_DBG_EN == 0u)
 965:rtos/uCOS-III/Source/os_core.c ****                  (CPU_CHAR   *)0,
 966:rtos/uCOS-III/Source/os_core.c **** #else
 967:rtos/uCOS-III/Source/os_core.c ****                  (CPU_CHAR   *)"uC/OS-III Idle Task",
 968:rtos/uCOS-III/Source/os_core.c **** #endif
 969:rtos/uCOS-III/Source/os_core.c ****                   OS_IdleTask,
 970:rtos/uCOS-III/Source/os_core.c ****                  (void       *)0,
 971:rtos/uCOS-III/Source/os_core.c ****                  (OS_PRIO     )(OS_CFG_PRIO_MAX - 1u),
ARM GAS  /tmp/ccwSGvvz.s 			page 39


 972:rtos/uCOS-III/Source/os_core.c ****                   OSCfg_IdleTaskStkBasePtr,
 973:rtos/uCOS-III/Source/os_core.c ****                   OSCfg_IdleTaskStkLimit,
 974:rtos/uCOS-III/Source/os_core.c ****                   OSCfg_IdleTaskStkSize,
 975:rtos/uCOS-III/Source/os_core.c ****                   0u,
 976:rtos/uCOS-III/Source/os_core.c ****                   0u,
 977:rtos/uCOS-III/Source/os_core.c ****                  (void       *)0,
 978:rtos/uCOS-III/Source/os_core.c ****                  (OS_OPT_TASK_STK_CHK | (OS_OPT)(OS_OPT_TASK_STK_CLR | OS_OPT_TASK_NO_TLS)),
 979:rtos/uCOS-III/Source/os_core.c ****                   p_err);
 980:rtos/uCOS-III/Source/os_core.c **** }
 942              		.loc 1 980 1 view .LVU294
 943 0032 0BB0     		add	sp, sp, #44
 944              	.LCFI9:
 945              		.cfi_def_cfa_offset 4
 946              		@ sp needed
 947 0034 5DF804FB 		ldr	pc, [sp], #4
 948              	.L80:
 949              		.align	2
 950              	.L79:
 951 0038 00000000 		.word	OSCfg_IdleTaskStkSize
 952 003c 00000000 		.word	OSCfg_IdleTaskStkLimit
 953 0040 00000000 		.word	OSCfg_IdleTaskStkBasePtr
 954 0044 00000000 		.word	OS_IdleTask
 955 0048 00000000 		.word	OSIdleTaskTCB
 956              		.cfi_endproc
 957              	.LFE11:
 959              		.section	.text.OS_PendListInit,"ax",%progbits
 960              		.align	1
 961              		.global	OS_PendListInit
 962              		.syntax unified
 963              		.thumb
 964              		.thumb_func
 965              		.fpu fpv4-sp-d16
 967              	OS_PendListInit:
 968              	.LVL59:
 969              	.LFB15:
 981:rtos/uCOS-III/Source/os_core.c **** #endif
 982:rtos/uCOS-III/Source/os_core.c **** 
 983:rtos/uCOS-III/Source/os_core.c **** /*
 984:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
 985:rtos/uCOS-III/Source/os_core.c **** *                                             BLOCK A TASK PENDING ON EVENT
 986:rtos/uCOS-III/Source/os_core.c **** *
 987:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to place a task in the blocked state waiting for an event to
 988:rtos/uCOS-III/Source/os_core.c **** *              exists because it is common to a number of OSxxxPend() services.
 989:rtos/uCOS-III/Source/os_core.c **** *
 990:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_obj          is a pointer to the object to pend on.  If there are no object used t
 991:rtos/uCOS-III/Source/os_core.c **** *              -----          the caller must pass a NULL pointer.
 992:rtos/uCOS-III/Source/os_core.c **** *
 993:rtos/uCOS-III/Source/os_core.c **** *              p_tcb          is the task that will be blocked.
 994:rtos/uCOS-III/Source/os_core.c **** *
 995:rtos/uCOS-III/Source/os_core.c **** *              pending_on     Specifies what the task will be pending on:
 996:rtos/uCOS-III/Source/os_core.c **** *
 997:rtos/uCOS-III/Source/os_core.c **** *                                 OS_TASK_PEND_ON_FLAG
 998:rtos/uCOS-III/Source/os_core.c **** *                                 OS_TASK_PEND_ON_TASK_Q     <- No object (pending for a message se
 999:rtos/uCOS-III/Source/os_core.c **** *                                 OS_TASK_PEND_ON_MUTEX
1000:rtos/uCOS-III/Source/os_core.c **** *                                 OS_TASK_PEND_ON_COND
1001:rtos/uCOS-III/Source/os_core.c **** *                                 OS_TASK_PEND_ON_Q
1002:rtos/uCOS-III/Source/os_core.c **** *                                 OS_TASK_PEND_ON_SEM
ARM GAS  /tmp/ccwSGvvz.s 			page 40


1003:rtos/uCOS-III/Source/os_core.c **** *                                 OS_TASK_PEND_ON_TASK_SEM   <- No object (pending on a signal sent
1004:rtos/uCOS-III/Source/os_core.c **** *
1005:rtos/uCOS-III/Source/os_core.c **** *              timeout        Is the amount of time the task will wait for the event to occur.
1006:rtos/uCOS-III/Source/os_core.c **** *
1007:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1008:rtos/uCOS-III/Source/os_core.c **** *
1009:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1010:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1011:rtos/uCOS-III/Source/os_core.c **** */
1012:rtos/uCOS-III/Source/os_core.c **** 
1013:rtos/uCOS-III/Source/os_core.c **** void  OS_Pend (OS_PEND_OBJ  *p_obj,
1014:rtos/uCOS-III/Source/os_core.c ****                OS_TCB       *p_tcb,
1015:rtos/uCOS-III/Source/os_core.c ****                OS_STATE      pending_on,
1016:rtos/uCOS-III/Source/os_core.c ****                OS_TICK       timeout)
1017:rtos/uCOS-III/Source/os_core.c **** {
1018:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
1019:rtos/uCOS-III/Source/os_core.c **** 
1020:rtos/uCOS-III/Source/os_core.c **** 
1021:rtos/uCOS-III/Source/os_core.c ****     p_tcb->PendOn     = pending_on;                             /* Resource not available, wait unt
1022:rtos/uCOS-III/Source/os_core.c ****     p_tcb->PendStatus = OS_STATUS_PEND_OK;
1023:rtos/uCOS-III/Source/os_core.c **** 
1024:rtos/uCOS-III/Source/os_core.c ****     OS_TaskBlock(p_tcb,                                         /* Block the task and add it to the
1025:rtos/uCOS-III/Source/os_core.c ****                  timeout);
1026:rtos/uCOS-III/Source/os_core.c **** 
1027:rtos/uCOS-III/Source/os_core.c ****     if (p_obj != (OS_PEND_OBJ *)0) {                            /* Add the current task to the pend
1028:rtos/uCOS-III/Source/os_core.c ****         p_pend_list             = &p_obj->PendList;             /* ... if there is an object to pen
1029:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendObjPtr =  p_obj;                             /* Save the pointer to the object p
1030:rtos/uCOS-III/Source/os_core.c ****         OS_PendListInsertPrio(p_pend_list,                      /* Insert in the pend list in prior
1031:rtos/uCOS-III/Source/os_core.c ****                               p_tcb);
1032:rtos/uCOS-III/Source/os_core.c **** 
1033:rtos/uCOS-III/Source/os_core.c ****     } else {
1034:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendObjPtr = (OS_PEND_OBJ *)0;                   /* If no object being pended on, cl
1035:rtos/uCOS-III/Source/os_core.c ****     }
1036:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1037:rtos/uCOS-III/Source/os_core.c ****     OS_PendDbgNameAdd(p_obj,
1038:rtos/uCOS-III/Source/os_core.c ****                       p_tcb);
1039:rtos/uCOS-III/Source/os_core.c **** #endif
1040:rtos/uCOS-III/Source/os_core.c **** }
1041:rtos/uCOS-III/Source/os_core.c **** 
1042:rtos/uCOS-III/Source/os_core.c **** 
1043:rtos/uCOS-III/Source/os_core.c **** /*
1044:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1045:rtos/uCOS-III/Source/os_core.c **** *                                                    CANCEL PENDING
1046:rtos/uCOS-III/Source/os_core.c **** *
1047:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called by the OSxxxPendAbort() and OSxxxDel() functions to cancel p
1048:rtos/uCOS-III/Source/os_core.c **** *
1049:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb          Is a pointer to the OS_TCB of the task that we'll abort the pend for
1050:rtos/uCOS-III/Source/os_core.c **** *              -----
1051:rtos/uCOS-III/Source/os_core.c **** *
1052:rtos/uCOS-III/Source/os_core.c **** *              ts             Is a timestamp as to when the pend was cancelled
1053:rtos/uCOS-III/Source/os_core.c **** *
1054:rtos/uCOS-III/Source/os_core.c **** *              reason         Indicates how the task was readied:
1055:rtos/uCOS-III/Source/os_core.c **** *
1056:rtos/uCOS-III/Source/os_core.c **** *                                 OS_STATUS_PEND_DEL       Object pended on was deleted.
1057:rtos/uCOS-III/Source/os_core.c **** *                                 OS_STATUS_PEND_ABORT     Pend was aborted.
1058:rtos/uCOS-III/Source/os_core.c **** *
1059:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
ARM GAS  /tmp/ccwSGvvz.s 			page 41


1060:rtos/uCOS-III/Source/os_core.c **** *
1061:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1062:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1063:rtos/uCOS-III/Source/os_core.c **** */
1064:rtos/uCOS-III/Source/os_core.c **** 
1065:rtos/uCOS-III/Source/os_core.c **** void  OS_PendAbort (OS_TCB     *p_tcb,
1066:rtos/uCOS-III/Source/os_core.c ****                     CPU_TS      ts,
1067:rtos/uCOS-III/Source/os_core.c ****                     OS_STATUS   reason)
1068:rtos/uCOS-III/Source/os_core.c **** {
1069:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN == 0u)
1070:rtos/uCOS-III/Source/os_core.c ****     (void)ts;                                                   /* Prevent compiler warning for not
1071:rtos/uCOS-III/Source/os_core.c **** #endif
1072:rtos/uCOS-III/Source/os_core.c **** 
1073:rtos/uCOS-III/Source/os_core.c ****     switch (p_tcb->TaskState) {
1074:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND:
1075:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1076:rtos/uCOS-III/Source/os_core.c **** #if (OS_MSG_EN > 0u)
1077:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgPtr     = (void *)0;
1078:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize    =         0u;
1079:rtos/uCOS-III/Source/os_core.c **** #endif
1080:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN > 0u)
1081:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TS         = ts;
1082:rtos/uCOS-III/Source/os_core.c **** #endif
1083:rtos/uCOS-III/Source/os_core.c ****              OS_PendListRemove(p_tcb);                          /* Remove task from the pend list  
1084:rtos/uCOS-III/Source/os_core.c **** 
1085:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TICK_EN > 0u)
1086:rtos/uCOS-III/Source/os_core.c ****              if (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT) {
1087:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
1088:rtos/uCOS-III/Source/os_core.c ****              }
1089:rtos/uCOS-III/Source/os_core.c **** #endif
1090:rtos/uCOS-III/Source/os_core.c ****              OS_RdyListInsert(p_tcb);                           /* Insert the task in the ready lis
1091:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_RDY;             /* Task will be ready              
1092:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = reason;                        /* Indicate how the task became rea
1093:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
1094:rtos/uCOS-III/Source/os_core.c ****              break;
1095:rtos/uCOS-III/Source/os_core.c **** 
1096:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1097:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1098:rtos/uCOS-III/Source/os_core.c **** #if (OS_MSG_EN > 0u)
1099:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgPtr     = (void *)0;
1100:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize    =         0u;
1101:rtos/uCOS-III/Source/os_core.c **** #endif
1102:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN > 0u)
1103:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TS         = ts;
1104:rtos/uCOS-III/Source/os_core.c **** #endif
1105:rtos/uCOS-III/Source/os_core.c ****              OS_PendListRemove(p_tcb);                          /* Remove task from the pend list  
1106:rtos/uCOS-III/Source/os_core.c **** 
1107:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TICK_EN > 0u)
1108:rtos/uCOS-III/Source/os_core.c ****              if (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED) {
1109:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
1110:rtos/uCOS-III/Source/os_core.c ****              }
1111:rtos/uCOS-III/Source/os_core.c **** #endif
1112:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_SUSPENDED;       /* Task needs to remain suspended  
1113:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = reason;                        /* Indicate how the task became rea
1114:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
1115:rtos/uCOS-III/Source/os_core.c ****              break;
1116:rtos/uCOS-III/Source/os_core.c **** 
ARM GAS  /tmp/ccwSGvvz.s 			page 42


1117:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_RDY:                                 /* Cannot cancel a pend when a task
1118:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_DLY:
1119:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_SUSPENDED:
1120:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
1121:rtos/uCOS-III/Source/os_core.c ****         default:
1122:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Default case.                   
1123:rtos/uCOS-III/Source/os_core.c ****              break;
1124:rtos/uCOS-III/Source/os_core.c ****     }
1125:rtos/uCOS-III/Source/os_core.c **** }
1126:rtos/uCOS-III/Source/os_core.c **** 
1127:rtos/uCOS-III/Source/os_core.c **** 
1128:rtos/uCOS-III/Source/os_core.c **** /*
1129:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1130:rtos/uCOS-III/Source/os_core.c **** *                                     ADD/REMOVE DEBUG NAMES TO PENDED OBJECT AND OS_TCB
1131:rtos/uCOS-III/Source/os_core.c **** *
1132:rtos/uCOS-III/Source/os_core.c **** * Description: These functions are used to add pointers to ASCII 'names' of objects so they can eas
1133:rtos/uCOS-III/Source/os_core.c **** *              using a kernel aware tool.
1134:rtos/uCOS-III/Source/os_core.c **** *
1135:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_obj              is a pointer to the object being pended on
1136:rtos/uCOS-III/Source/os_core.c **** *
1137:rtos/uCOS-III/Source/os_core.c **** *              p_tcb              is a pointer to the OS_TCB of the task pending on the object
1138:rtos/uCOS-III/Source/os_core.c **** *
1139:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1140:rtos/uCOS-III/Source/os_core.c **** *
1141:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) These functions are INTERNAL to uC/OS-III and your application must not call it.
1142:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1143:rtos/uCOS-III/Source/os_core.c **** */
1144:rtos/uCOS-III/Source/os_core.c **** 
1145:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1146:rtos/uCOS-III/Source/os_core.c **** void  OS_PendDbgNameAdd (OS_PEND_OBJ  *p_obj,
1147:rtos/uCOS-III/Source/os_core.c ****                          OS_TCB       *p_tcb)
1148:rtos/uCOS-III/Source/os_core.c **** {
1149:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
1150:rtos/uCOS-III/Source/os_core.c ****     OS_TCB        *p_tcb1;
1151:rtos/uCOS-III/Source/os_core.c **** 
1152:rtos/uCOS-III/Source/os_core.c **** 
1153:rtos/uCOS-III/Source/os_core.c ****     if (p_obj != (OS_PEND_OBJ *)0) {
1154:rtos/uCOS-III/Source/os_core.c ****         p_tcb->DbgNamePtr =  p_obj->NamePtr;                    /* Task pending on this object ... 
1155:rtos/uCOS-III/Source/os_core.c ****         p_pend_list       = &p_obj->PendList;                   /* Find name of HP task pending on 
1156:rtos/uCOS-III/Source/os_core.c ****         p_tcb1            =  p_pend_list->HeadPtr;
1157:rtos/uCOS-III/Source/os_core.c ****         p_obj->DbgNamePtr =  p_tcb1->NamePtr;                   /* ... Save in object              
1158:rtos/uCOS-III/Source/os_core.c ****     } else {
1159:rtos/uCOS-III/Source/os_core.c ****         switch (p_tcb->PendOn) {
1160:rtos/uCOS-III/Source/os_core.c ****             case OS_TASK_PEND_ON_TASK_Q:
1161:rtos/uCOS-III/Source/os_core.c ****                  p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)"Task Q");
1162:rtos/uCOS-III/Source/os_core.c ****                  break;
1163:rtos/uCOS-III/Source/os_core.c **** 
1164:rtos/uCOS-III/Source/os_core.c ****             case OS_TASK_PEND_ON_TASK_SEM:
1165:rtos/uCOS-III/Source/os_core.c ****                  p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)"Task Sem");
1166:rtos/uCOS-III/Source/os_core.c ****                  break;
1167:rtos/uCOS-III/Source/os_core.c **** 
1168:rtos/uCOS-III/Source/os_core.c ****             default:
1169:rtos/uCOS-III/Source/os_core.c ****                  p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)" ");
1170:rtos/uCOS-III/Source/os_core.c ****                  break;
1171:rtos/uCOS-III/Source/os_core.c ****         }
1172:rtos/uCOS-III/Source/os_core.c ****     }
1173:rtos/uCOS-III/Source/os_core.c **** }
ARM GAS  /tmp/ccwSGvvz.s 			page 43


1174:rtos/uCOS-III/Source/os_core.c **** 
1175:rtos/uCOS-III/Source/os_core.c **** 
1176:rtos/uCOS-III/Source/os_core.c **** void  OS_PendDbgNameRemove (OS_PEND_OBJ  *p_obj,
1177:rtos/uCOS-III/Source/os_core.c ****                             OS_TCB       *p_tcb)
1178:rtos/uCOS-III/Source/os_core.c **** {
1179:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
1180:rtos/uCOS-III/Source/os_core.c ****     OS_TCB        *p_tcb1;
1181:rtos/uCOS-III/Source/os_core.c **** 
1182:rtos/uCOS-III/Source/os_core.c **** 
1183:rtos/uCOS-III/Source/os_core.c ****     p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)" ");              /* Remove name of object pended on 
1184:rtos/uCOS-III/Source/os_core.c **** 
1185:rtos/uCOS-III/Source/os_core.c ****     if (p_obj != (OS_PEND_OBJ *)0) {
1186:rtos/uCOS-III/Source/os_core.c ****         p_pend_list = &p_obj->PendList;
1187:rtos/uCOS-III/Source/os_core.c ****         p_tcb1      =  p_pend_list->HeadPtr;
1188:rtos/uCOS-III/Source/os_core.c ****         if (p_tcb1 != (OS_TCB *)0) {                            /* Find name of HP task pending on 
1189:rtos/uCOS-III/Source/os_core.c ****             p_obj->DbgNamePtr = p_tcb1->NamePtr;                /* ... Save in object              
1190:rtos/uCOS-III/Source/os_core.c ****         } else {
1191:rtos/uCOS-III/Source/os_core.c ****             p_obj->DbgNamePtr = (CPU_CHAR *)((void *)" ");      /* Or no other task is pending on o
1192:rtos/uCOS-III/Source/os_core.c ****         }
1193:rtos/uCOS-III/Source/os_core.c ****     }
1194:rtos/uCOS-III/Source/os_core.c **** }
1195:rtos/uCOS-III/Source/os_core.c **** #endif
1196:rtos/uCOS-III/Source/os_core.c **** 
1197:rtos/uCOS-III/Source/os_core.c **** 
1198:rtos/uCOS-III/Source/os_core.c **** /*
1199:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1200:rtos/uCOS-III/Source/os_core.c **** *                                 CHANGE THE PRIORITY OF A TASK WAITING IN A PEND LIST
1201:rtos/uCOS-III/Source/os_core.c **** *
1202:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to change the position of a task waiting in a pend list. The
1203:rtos/uCOS-III/Source/os_core.c **** *              remove the task from the pend list and add it again using its changed priority.
1204:rtos/uCOS-III/Source/os_core.c **** *
1205:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb       is a pointer to the TCB of the task to move
1206:rtos/uCOS-III/Source/os_core.c **** *              -----
1207:rtos/uCOS-III/Source/os_core.c **** *
1208:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1209:rtos/uCOS-III/Source/os_core.c **** *
1210:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1211:rtos/uCOS-III/Source/os_core.c **** *
1212:rtos/uCOS-III/Source/os_core.c **** *              2) It's assumed that the TCB contains the NEW priority in its .Prio field.
1213:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1214:rtos/uCOS-III/Source/os_core.c **** */
1215:rtos/uCOS-III/Source/os_core.c **** 
1216:rtos/uCOS-III/Source/os_core.c **** void  OS_PendListChangePrio (OS_TCB  *p_tcb)
1217:rtos/uCOS-III/Source/os_core.c **** {
1218:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
1219:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_OBJ   *p_obj;
1220:rtos/uCOS-III/Source/os_core.c **** 
1221:rtos/uCOS-III/Source/os_core.c ****     p_obj       =  p_tcb->PendObjPtr;                           /* Get pointer to pend list        
1222:rtos/uCOS-III/Source/os_core.c ****     p_pend_list = &p_obj->PendList;
1223:rtos/uCOS-III/Source/os_core.c **** 
1224:rtos/uCOS-III/Source/os_core.c ****     if (p_pend_list->HeadPtr->PendNextPtr != (OS_TCB *)0) {     /* Only move if multiple entries in
1225:rtos/uCOS-III/Source/os_core.c ****             OS_PendListRemove(p_tcb);                           /* Remove entry from current positi
1226:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendObjPtr = p_obj;
1227:rtos/uCOS-III/Source/os_core.c ****             OS_PendListInsertPrio(p_pend_list,                  /* INSERT it back in the list      
1228:rtos/uCOS-III/Source/os_core.c ****                                   p_tcb);
1229:rtos/uCOS-III/Source/os_core.c ****     }
1230:rtos/uCOS-III/Source/os_core.c **** }
ARM GAS  /tmp/ccwSGvvz.s 			page 44


1231:rtos/uCOS-III/Source/os_core.c **** 
1232:rtos/uCOS-III/Source/os_core.c **** 
1233:rtos/uCOS-III/Source/os_core.c **** /*
1234:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1235:rtos/uCOS-III/Source/os_core.c **** *                                                INITIALIZE A WAIT LIST
1236:rtos/uCOS-III/Source/os_core.c **** *
1237:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to initialize the fields of an OS_PEND_LIST.
1238:rtos/uCOS-III/Source/os_core.c **** *
1239:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_pend_list   is a pointer to an OS_PEND_LIST
1240:rtos/uCOS-III/Source/os_core.c **** *              -----------
1241:rtos/uCOS-III/Source/os_core.c **** *
1242:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1243:rtos/uCOS-III/Source/os_core.c **** *
1244:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application must not call it.
1245:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1246:rtos/uCOS-III/Source/os_core.c **** */
1247:rtos/uCOS-III/Source/os_core.c **** 
1248:rtos/uCOS-III/Source/os_core.c **** void  OS_PendListInit (OS_PEND_LIST  *p_pend_list)
1249:rtos/uCOS-III/Source/os_core.c **** {
 970              		.loc 1 1249 1 is_stmt 1 view -0
 971              		.cfi_startproc
 972              		@ args = 0, pretend = 0, frame = 0
 973              		@ frame_needed = 0, uses_anonymous_args = 0
 974              		@ link register save eliminated.
1250:rtos/uCOS-III/Source/os_core.c ****     p_pend_list->HeadPtr    = (OS_TCB *)0;
 975              		.loc 1 1250 5 view .LVU296
 976              		.loc 1 1250 29 is_stmt 0 view .LVU297
 977 0000 0023     		movs	r3, #0
 978 0002 0360     		str	r3, [r0]
1251:rtos/uCOS-III/Source/os_core.c ****     p_pend_list->TailPtr    = (OS_TCB *)0;
 979              		.loc 1 1251 5 is_stmt 1 view .LVU298
 980              		.loc 1 1251 29 is_stmt 0 view .LVU299
 981 0004 4360     		str	r3, [r0, #4]
1252:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1253:rtos/uCOS-III/Source/os_core.c ****     p_pend_list->NbrEntries =           0u;
1254:rtos/uCOS-III/Source/os_core.c **** #endif
1255:rtos/uCOS-III/Source/os_core.c **** }
 982              		.loc 1 1255 1 view .LVU300
 983 0006 7047     		bx	lr
 984              		.cfi_endproc
 985              	.LFE15:
 987              		.section	.text.OS_PendListInsertPrio,"ax",%progbits
 988              		.align	1
 989              		.global	OS_PendListInsertPrio
 990              		.syntax unified
 991              		.thumb
 992              		.thumb_func
 993              		.fpu fpv4-sp-d16
 995              	OS_PendListInsertPrio:
 996              	.LVL60:
 997              	.LFB16:
1256:rtos/uCOS-III/Source/os_core.c **** 
1257:rtos/uCOS-III/Source/os_core.c **** 
1258:rtos/uCOS-III/Source/os_core.c **** /*
1259:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1260:rtos/uCOS-III/Source/os_core.c **** *                                  INSERT A TASK BASED ON IT'S PRIORITY IN A PEND LIST
1261:rtos/uCOS-III/Source/os_core.c **** *
ARM GAS  /tmp/ccwSGvvz.s 			page 45


1262:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to place an OS_TCB entry in a linked list based on its prior
1263:rtos/uCOS-III/Source/os_core.c **** *              highest priority being placed at the head of the list. The TCB is assumed to contain
1264:rtos/uCOS-III/Source/os_core.c **** *              of the task in its .Prio field.
1265:rtos/uCOS-III/Source/os_core.c **** *
1266:rtos/uCOS-III/Source/os_core.c **** *              CASE 0: Insert in an empty list.
1267:rtos/uCOS-III/Source/os_core.c **** *
1268:rtos/uCOS-III/Source/os_core.c **** *                     OS_PEND_LIST
1269:rtos/uCOS-III/Source/os_core.c **** *                     +---------------+
1270:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr       |-> 0
1271:rtos/uCOS-III/Source/os_core.c **** *                     +---------------+
1272:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr       |-> 0
1273:rtos/uCOS-III/Source/os_core.c **** *                     +---------------+
1274:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=0  |
1275:rtos/uCOS-III/Source/os_core.c **** *                     +---------------+
1276:rtos/uCOS-III/Source/os_core.c **** *
1277:rtos/uCOS-III/Source/os_core.c **** *
1278:rtos/uCOS-III/Source/os_core.c **** *
1279:rtos/uCOS-III/Source/os_core.c **** *              CASE 1: Insert BEFORE or AFTER an OS_TCB
1280:rtos/uCOS-III/Source/os_core.c **** *
1281:rtos/uCOS-III/Source/os_core.c **** *                     OS_PEND_LIST
1282:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+         OS_TCB
1283:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |--+---> +--------------+
1284:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+  |     | PendNextPtr  |->0
1285:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |--/     +--------------+
1286:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PendPrevPtr  |
1287:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=1 |        +--------------+
1288:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        |              |
1289:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+
1290:rtos/uCOS-III/Source/os_core.c **** *                                             |              |
1291:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+
1292:rtos/uCOS-III/Source/os_core.c **** *
1293:rtos/uCOS-III/Source/os_core.c **** *
1294:rtos/uCOS-III/Source/os_core.c **** *                     OS_PEND_LIST
1295:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1296:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |---------------------------------------------------+
1297:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+         OS_TCB                 OS_TCB             |    OS_TC
1298:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |------> +--------------+       +--------------+    +-> +-----
1299:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        | PendNextPtr  |<------| PendNextPtr  | ...... | Pend
1300:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=N |        +--------------+       +--------------+        +-----
1301:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PendPrevPtr  |<------| PendPrevPtr  | ...... | Pend
1302:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+       +--------------+        +-----
1303:rtos/uCOS-III/Source/os_core.c **** *                                             |              |       |              |        |     
1304:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+       +--------------+        +-----
1305:rtos/uCOS-III/Source/os_core.c **** *                                             |              |       |              |        |     
1306:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+       +--------------+        +-----
1307:rtos/uCOS-III/Source/os_core.c **** *
1308:rtos/uCOS-III/Source/os_core.c **** *
1309:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_pend_list    is a pointer to the OS_PEND_LIST where the OS_TCB entry will be inser
1310:rtos/uCOS-III/Source/os_core.c **** *              -----------
1311:rtos/uCOS-III/Source/os_core.c **** *
1312:rtos/uCOS-III/Source/os_core.c **** *              p_tcb          is the OS_TCB to insert in the list
1313:rtos/uCOS-III/Source/os_core.c **** *              -----
1314:rtos/uCOS-III/Source/os_core.c **** *
1315:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1316:rtos/uCOS-III/Source/os_core.c **** *
1317:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1318:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
ARM GAS  /tmp/ccwSGvvz.s 			page 46


1319:rtos/uCOS-III/Source/os_core.c **** */
1320:rtos/uCOS-III/Source/os_core.c **** 
1321:rtos/uCOS-III/Source/os_core.c **** void  OS_PendListInsertPrio (OS_PEND_LIST  *p_pend_list,
1322:rtos/uCOS-III/Source/os_core.c ****                              OS_TCB        *p_tcb)
1323:rtos/uCOS-III/Source/os_core.c **** {
 998              		.loc 1 1323 1 is_stmt 1 view -0
 999              		.cfi_startproc
 1000              		@ args = 0, pretend = 0, frame = 0
 1001              		@ frame_needed = 0, uses_anonymous_args = 0
 1002              		@ link register save eliminated.
 1003              		.loc 1 1323 1 is_stmt 0 view .LVU302
 1004 0000 10B4     		push	{r4}
 1005              	.LCFI10:
 1006              		.cfi_def_cfa_offset 4
 1007              		.cfi_offset 4, -4
1324:rtos/uCOS-III/Source/os_core.c ****     OS_PRIO   prio;
 1008              		.loc 1 1324 5 is_stmt 1 view .LVU303
1325:rtos/uCOS-III/Source/os_core.c ****     OS_TCB   *p_tcb_next;
 1009              		.loc 1 1325 5 view .LVU304
1326:rtos/uCOS-III/Source/os_core.c **** 
1327:rtos/uCOS-III/Source/os_core.c **** 
1328:rtos/uCOS-III/Source/os_core.c ****     prio  = p_tcb->Prio;                                        /* Obtain the priority of the task 
 1010              		.loc 1 1328 5 view .LVU305
 1011              		.loc 1 1328 11 is_stmt 0 view .LVU306
 1012 0002 91F82F40 		ldrb	r4, [r1, #47]	@ zero_extendqisi2
 1013              	.LVL61:
1329:rtos/uCOS-III/Source/os_core.c **** 
1330:rtos/uCOS-III/Source/os_core.c ****     if (p_pend_list->HeadPtr == (OS_TCB *)0) {                  /* CASE 0: Insert when there are no
 1014              		.loc 1 1330 5 is_stmt 1 view .LVU307
 1015              		.loc 1 1330 20 is_stmt 0 view .LVU308
 1016 0006 0368     		ldr	r3, [r0]
 1017              		.loc 1 1330 8 view .LVU309
 1018 0008 2BB9     		cbnz	r3, .L83
1331:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1332:rtos/uCOS-III/Source/os_core.c ****         p_pend_list->NbrEntries = 1u;                           /* This is the first entry         
1333:rtos/uCOS-III/Source/os_core.c **** #endif
1334:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendNextPtr   = (OS_TCB *)0;                     /* No other OS_TCBs in the list    
 1019              		.loc 1 1334 9 is_stmt 1 view .LVU310
 1020              		.loc 1 1334 30 is_stmt 0 view .LVU311
 1021 000a 0B62     		str	r3, [r1, #32]
1335:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendPrevPtr   = (OS_TCB *)0;
 1022              		.loc 1 1335 9 is_stmt 1 view .LVU312
 1023              		.loc 1 1335 30 is_stmt 0 view .LVU313
 1024 000c 4B62     		str	r3, [r1, #36]
1336:rtos/uCOS-III/Source/os_core.c ****         p_pend_list->HeadPtr =  p_tcb;
 1025              		.loc 1 1336 9 is_stmt 1 view .LVU314
 1026              		.loc 1 1336 30 is_stmt 0 view .LVU315
 1027 000e 0160     		str	r1, [r0]
1337:rtos/uCOS-III/Source/os_core.c ****         p_pend_list->TailPtr =  p_tcb;
 1028              		.loc 1 1337 9 is_stmt 1 view .LVU316
 1029              		.loc 1 1337 30 is_stmt 0 view .LVU317
 1030 0010 4160     		str	r1, [r0, #4]
 1031 0012 0DE0     		b	.L82
 1032              	.LVL62:
 1033              	.L90:
1338:rtos/uCOS-III/Source/os_core.c ****     } else {
1339:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
ARM GAS  /tmp/ccwSGvvz.s 			page 47


1340:rtos/uCOS-III/Source/os_core.c ****         p_pend_list->NbrEntries++;                              /* CASE 1: One more OS_TCBs in the 
1341:rtos/uCOS-III/Source/os_core.c **** #endif
1342:rtos/uCOS-III/Source/os_core.c ****         p_tcb_next = p_pend_list->HeadPtr;
1343:rtos/uCOS-III/Source/os_core.c ****         while (p_tcb_next != (OS_TCB *)0) {                     /* Find the position where to inser
1344:rtos/uCOS-III/Source/os_core.c ****             if (prio < p_tcb_next->Prio) {
1345:rtos/uCOS-III/Source/os_core.c ****                 break;                                          /* Found! ... insert BEFORE current
1346:rtos/uCOS-III/Source/os_core.c ****             } else {
1347:rtos/uCOS-III/Source/os_core.c ****                 p_tcb_next = p_tcb_next->PendNextPtr;           /* Not Found, follow the list      
 1034              		.loc 1 1347 17 is_stmt 1 view .LVU318
 1035              		.loc 1 1347 28 is_stmt 0 view .LVU319
 1036 0014 1B6A     		ldr	r3, [r3, #32]
 1037              	.LVL63:
 1038              	.L83:
1343:rtos/uCOS-III/Source/os_core.c ****             if (prio < p_tcb_next->Prio) {
 1039              		.loc 1 1343 15 is_stmt 1 view .LVU320
 1040 0016 1BB1     		cbz	r3, .L85
1344:rtos/uCOS-III/Source/os_core.c ****                 break;                                          /* Found! ... insert BEFORE current
 1041              		.loc 1 1344 13 view .LVU321
1344:rtos/uCOS-III/Source/os_core.c ****                 break;                                          /* Found! ... insert BEFORE current
 1042              		.loc 1 1344 34 is_stmt 0 view .LVU322
 1043 0018 93F82F20 		ldrb	r2, [r3, #47]	@ zero_extendqisi2
1344:rtos/uCOS-III/Source/os_core.c ****                 break;                                          /* Found! ... insert BEFORE current
 1044              		.loc 1 1344 16 view .LVU323
 1045 001c A242     		cmp	r2, r4
 1046 001e F9D9     		bls	.L90
 1047              	.L85:
1348:rtos/uCOS-III/Source/os_core.c ****             }
1349:rtos/uCOS-III/Source/os_core.c ****         }
1350:rtos/uCOS-III/Source/os_core.c ****         if (p_tcb_next == (OS_TCB *)0) {                        /* TCB to insert is lowest in prior
 1048              		.loc 1 1350 9 is_stmt 1 view .LVU324
 1049              		.loc 1 1350 12 is_stmt 0 view .LVU325
 1050 0020 4BB1     		cbz	r3, .L91
1351:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendNextPtr              = (OS_TCB *)0;      /* ... insert at the tail.         
1352:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendPrevPtr              =  p_pend_list->TailPtr;
1353:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendPrevPtr->PendNextPtr =  p_tcb;
1354:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr            =  p_tcb;
1355:rtos/uCOS-III/Source/os_core.c ****         } else {
1356:rtos/uCOS-III/Source/os_core.c ****             if (p_tcb_next->PendPrevPtr == (OS_TCB *)0) {       /* Is new TCB highest priority?    
 1051              		.loc 1 1356 13 is_stmt 1 view .LVU326
 1052              		.loc 1 1356 27 is_stmt 0 view .LVU327
 1053 0022 5A6A     		ldr	r2, [r3, #36]
 1054              		.loc 1 1356 16 view .LVU328
 1055 0024 6AB1     		cbz	r2, .L92
1357:rtos/uCOS-III/Source/os_core.c ****                 p_tcb->PendNextPtr      =  p_tcb_next;          /* Yes, insert as new Head of list 
1358:rtos/uCOS-III/Source/os_core.c ****                 p_tcb->PendPrevPtr      = (OS_TCB *)0;
1359:rtos/uCOS-III/Source/os_core.c ****                 p_tcb_next->PendPrevPtr =  p_tcb;
1360:rtos/uCOS-III/Source/os_core.c ****                 p_pend_list->HeadPtr    =  p_tcb;
1361:rtos/uCOS-III/Source/os_core.c ****             } else {                                            /* No,  insert in between two entri
1362:rtos/uCOS-III/Source/os_core.c ****                 p_tcb->PendNextPtr              = p_tcb_next;
 1056              		.loc 1 1362 17 is_stmt 1 view .LVU329
 1057              		.loc 1 1362 49 is_stmt 0 view .LVU330
 1058 0026 0B62     		str	r3, [r1, #32]
1363:rtos/uCOS-III/Source/os_core.c ****                 p_tcb->PendPrevPtr              = p_tcb_next->PendPrevPtr;
 1059              		.loc 1 1363 17 is_stmt 1 view .LVU331
 1060              		.loc 1 1363 61 is_stmt 0 view .LVU332
 1061 0028 5A6A     		ldr	r2, [r3, #36]
 1062              		.loc 1 1363 49 view .LVU333
ARM GAS  /tmp/ccwSGvvz.s 			page 48


 1063 002a 4A62     		str	r2, [r1, #36]
1364:rtos/uCOS-III/Source/os_core.c ****                 p_tcb->PendPrevPtr->PendNextPtr = p_tcb;
 1064              		.loc 1 1364 17 is_stmt 1 view .LVU334
 1065              		.loc 1 1364 49 is_stmt 0 view .LVU335
 1066 002c 1162     		str	r1, [r2, #32]
1365:rtos/uCOS-III/Source/os_core.c ****                 p_tcb_next->PendPrevPtr         = p_tcb;
 1067              		.loc 1 1365 17 is_stmt 1 view .LVU336
 1068              		.loc 1 1365 49 is_stmt 0 view .LVU337
 1069 002e 5962     		str	r1, [r3, #36]
 1070              	.LVL64:
 1071              	.L82:
1366:rtos/uCOS-III/Source/os_core.c ****             }
1367:rtos/uCOS-III/Source/os_core.c ****         }
1368:rtos/uCOS-III/Source/os_core.c ****     }
1369:rtos/uCOS-III/Source/os_core.c **** }
 1072              		.loc 1 1369 1 view .LVU338
 1073 0030 5DF8044B 		ldr	r4, [sp], #4
 1074              	.LCFI11:
 1075              		.cfi_remember_state
 1076              		.cfi_restore 4
 1077              		.cfi_def_cfa_offset 0
 1078              	.LVL65:
 1079              		.loc 1 1369 1 view .LVU339
 1080 0034 7047     		bx	lr
 1081              	.LVL66:
 1082              	.L91:
 1083              	.LCFI12:
 1084              		.cfi_restore_state
1351:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendPrevPtr              =  p_pend_list->TailPtr;
 1085              		.loc 1 1351 13 is_stmt 1 view .LVU340
1351:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendPrevPtr              =  p_pend_list->TailPtr;
 1086              		.loc 1 1351 45 is_stmt 0 view .LVU341
 1087 0036 0B62     		str	r3, [r1, #32]
1352:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendPrevPtr->PendNextPtr =  p_tcb;
 1088              		.loc 1 1352 13 is_stmt 1 view .LVU342
1352:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendPrevPtr->PendNextPtr =  p_tcb;
 1089              		.loc 1 1352 59 is_stmt 0 view .LVU343
 1090 0038 4368     		ldr	r3, [r0, #4]
 1091              	.LVL67:
1352:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendPrevPtr->PendNextPtr =  p_tcb;
 1092              		.loc 1 1352 45 view .LVU344
 1093 003a 4B62     		str	r3, [r1, #36]
1353:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr            =  p_tcb;
 1094              		.loc 1 1353 13 is_stmt 1 view .LVU345
1353:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr            =  p_tcb;
 1095              		.loc 1 1353 45 is_stmt 0 view .LVU346
 1096 003c 1962     		str	r1, [r3, #32]
 1097              	.LVL68:
1354:rtos/uCOS-III/Source/os_core.c ****         } else {
 1098              		.loc 1 1354 13 is_stmt 1 view .LVU347
1354:rtos/uCOS-III/Source/os_core.c ****         } else {
 1099              		.loc 1 1354 45 is_stmt 0 view .LVU348
 1100 003e 4160     		str	r1, [r0, #4]
 1101 0040 F6E7     		b	.L82
 1102              	.LVL69:
 1103              	.L92:
1357:rtos/uCOS-III/Source/os_core.c ****                 p_tcb->PendPrevPtr      = (OS_TCB *)0;
ARM GAS  /tmp/ccwSGvvz.s 			page 49


 1104              		.loc 1 1357 17 is_stmt 1 view .LVU349
1357:rtos/uCOS-III/Source/os_core.c ****                 p_tcb->PendPrevPtr      = (OS_TCB *)0;
 1105              		.loc 1 1357 41 is_stmt 0 view .LVU350
 1106 0042 0B62     		str	r3, [r1, #32]
1358:rtos/uCOS-III/Source/os_core.c ****                 p_tcb_next->PendPrevPtr =  p_tcb;
 1107              		.loc 1 1358 17 is_stmt 1 view .LVU351
1358:rtos/uCOS-III/Source/os_core.c ****                 p_tcb_next->PendPrevPtr =  p_tcb;
 1108              		.loc 1 1358 41 is_stmt 0 view .LVU352
 1109 0044 4A62     		str	r2, [r1, #36]
1359:rtos/uCOS-III/Source/os_core.c ****                 p_pend_list->HeadPtr    =  p_tcb;
 1110              		.loc 1 1359 17 is_stmt 1 view .LVU353
1359:rtos/uCOS-III/Source/os_core.c ****                 p_pend_list->HeadPtr    =  p_tcb;
 1111              		.loc 1 1359 41 is_stmt 0 view .LVU354
 1112 0046 5962     		str	r1, [r3, #36]
1360:rtos/uCOS-III/Source/os_core.c ****             } else {                                            /* No,  insert in between two entri
 1113              		.loc 1 1360 17 is_stmt 1 view .LVU355
1360:rtos/uCOS-III/Source/os_core.c ****             } else {                                            /* No,  insert in between two entri
 1114              		.loc 1 1360 41 is_stmt 0 view .LVU356
 1115 0048 0160     		str	r1, [r0]
 1116 004a F1E7     		b	.L82
 1117              		.cfi_endproc
 1118              	.LFE16:
 1120              		.section	.text.OS_PendListRemove,"ax",%progbits
 1121              		.align	1
 1122              		.global	OS_PendListRemove
 1123              		.syntax unified
 1124              		.thumb
 1125              		.thumb_func
 1126              		.fpu fpv4-sp-d16
 1128              	OS_PendListRemove:
 1129              	.LVL70:
 1130              	.LFB17:
1370:rtos/uCOS-III/Source/os_core.c **** 
1371:rtos/uCOS-III/Source/os_core.c **** 
1372:rtos/uCOS-III/Source/os_core.c **** /*
1373:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1374:rtos/uCOS-III/Source/os_core.c **** *                           REMOVE TASK FROM A PEND LIST KNOWING ONLY WHICH TCB TO REMOVE
1375:rtos/uCOS-III/Source/os_core.c **** *
1376:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to remove a task from a pend list knowing the TCB of the tas
1377:rtos/uCOS-III/Source/os_core.c **** *
1378:rtos/uCOS-III/Source/os_core.c **** *              CASE 0: OS_PEND_LIST list is empty, nothing to do.
1379:rtos/uCOS-III/Source/os_core.c **** *
1380:rtos/uCOS-III/Source/os_core.c **** *              CASE 1: Only 1 OS_TCB in the list.
1381:rtos/uCOS-III/Source/os_core.c **** *
1382:rtos/uCOS-III/Source/os_core.c **** *                     OS_PEND_LIST
1383:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+         OS_TCB
1384:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |--+---> +--------------+
1385:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+  |     | PendNextPtr  |->0
1386:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |--/     +--------------+
1387:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PendPrevPtr  |
1388:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=1 |        +--------------+
1389:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        |              |
1390:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+
1391:rtos/uCOS-III/Source/os_core.c **** *                                             |              |
1392:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+
1393:rtos/uCOS-III/Source/os_core.c **** *
1394:rtos/uCOS-III/Source/os_core.c **** *              CASE N: Two or more OS_TCBs in the list.
ARM GAS  /tmp/ccwSGvvz.s 			page 50


1395:rtos/uCOS-III/Source/os_core.c **** *
1396:rtos/uCOS-III/Source/os_core.c **** *                     OS_PEND_LIST
1397:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1398:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |---------------------------------------------------+
1399:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+         OS_TCB                 OS_TCB             |    OS_TC
1400:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |------> +--------------+       +--------------+    +-> +-----
1401:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        | PendNextPtr  |<------| PendNextPtr  | ...... | Pend
1402:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=N |        +--------------+       +--------------+        +-----
1403:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PendPrevPtr  |<------| PendPrevPtr  | ...... | Pend
1404:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+       +--------------+        +-----
1405:rtos/uCOS-III/Source/os_core.c **** *                                             |              |       |              |        |     
1406:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+       +--------------+        +-----
1407:rtos/uCOS-III/Source/os_core.c **** *                                             |              |       |              |        |     
1408:rtos/uCOS-III/Source/os_core.c **** *                                             +--------------+       +--------------+        +-----
1409:rtos/uCOS-III/Source/os_core.c **** *
1410:rtos/uCOS-III/Source/os_core.c **** *
1411:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb          is a pointer to the TCB of the task to remove from the pend list
1412:rtos/uCOS-III/Source/os_core.c **** *              -----
1413:rtos/uCOS-III/Source/os_core.c **** *
1414:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1415:rtos/uCOS-III/Source/os_core.c **** *
1416:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1417:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1418:rtos/uCOS-III/Source/os_core.c **** */
1419:rtos/uCOS-III/Source/os_core.c **** 
1420:rtos/uCOS-III/Source/os_core.c **** void  OS_PendListRemove (OS_TCB  *p_tcb)
1421:rtos/uCOS-III/Source/os_core.c **** {
 1131              		.loc 1 1421 1 is_stmt 1 view -0
 1132              		.cfi_startproc
 1133              		@ args = 0, pretend = 0, frame = 0
 1134              		@ frame_needed = 0, uses_anonymous_args = 0
 1135              		@ link register save eliminated.
1422:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
 1136              		.loc 1 1422 5 view .LVU358
1423:rtos/uCOS-III/Source/os_core.c ****     OS_TCB        *p_next;
 1137              		.loc 1 1423 5 view .LVU359
1424:rtos/uCOS-III/Source/os_core.c ****     OS_TCB        *p_prev;
 1138              		.loc 1 1424 5 view .LVU360
1425:rtos/uCOS-III/Source/os_core.c **** 
1426:rtos/uCOS-III/Source/os_core.c **** 
1427:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->PendObjPtr != (OS_PEND_OBJ *)0) {                /* Only remove if object has a pend
 1139              		.loc 1 1427 5 view .LVU361
 1140              		.loc 1 1427 14 is_stmt 0 view .LVU362
 1141 0000 836A     		ldr	r3, [r0, #40]
 1142              		.loc 1 1427 8 view .LVU363
 1143 0002 63B1     		cbz	r3, .L93
1428:rtos/uCOS-III/Source/os_core.c ****         p_pend_list = &p_tcb->PendObjPtr->PendList;             /* Get pointer to pend list        
 1144              		.loc 1 1428 9 is_stmt 1 view .LVU364
 1145              	.LVL71:
1429:rtos/uCOS-III/Source/os_core.c **** 
1430:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Remove TCB from the pend list.  
1431:rtos/uCOS-III/Source/os_core.c ****         if (p_pend_list->HeadPtr->PendNextPtr == (OS_TCB *)0) {
 1146              		.loc 1 1431 9 view .LVU365
 1147              		.loc 1 1431 24 is_stmt 0 view .LVU366
 1148 0004 5A68     		ldr	r2, [r3, #4]
 1149              		.loc 1 1431 33 view .LVU367
 1150 0006 126A     		ldr	r2, [r2, #32]
ARM GAS  /tmp/ccwSGvvz.s 			page 51


 1151              		.loc 1 1431 12 view .LVU368
 1152 0008 52B1     		cbz	r2, .L99
1432:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->HeadPtr = (OS_TCB *)0;                 /* Only one entry in the pend list 
1433:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr = (OS_TCB *)0;
1434:rtos/uCOS-III/Source/os_core.c ****         } else if (p_tcb->PendPrevPtr == (OS_TCB *)0) {         /* See if entry is at the head of t
 1153              		.loc 1 1434 16 is_stmt 1 view .LVU369
 1154              		.loc 1 1434 25 is_stmt 0 view .LVU370
 1155 000a 426A     		ldr	r2, [r0, #36]
 1156              		.loc 1 1434 19 view .LVU371
 1157 000c 5AB1     		cbz	r2, .L100
1435:rtos/uCOS-III/Source/os_core.c ****             p_next               =  p_tcb->PendNextPtr;         /* Yes                             
1436:rtos/uCOS-III/Source/os_core.c ****             p_next->PendPrevPtr  = (OS_TCB *)0;
1437:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->HeadPtr =  p_next;
1438:rtos/uCOS-III/Source/os_core.c **** 
1439:rtos/uCOS-III/Source/os_core.c ****         } else if (p_tcb->PendNextPtr == (OS_TCB *)0) {         /* See if entry is at the tail of t
 1158              		.loc 1 1439 16 is_stmt 1 view .LVU372
 1159              		.loc 1 1439 25 is_stmt 0 view .LVU373
 1160 000e 016A     		ldr	r1, [r0, #32]
 1161              		.loc 1 1439 19 view .LVU374
 1162 0010 71B1     		cbz	r1, .L101
1440:rtos/uCOS-III/Source/os_core.c ****             p_prev               =  p_tcb->PendPrevPtr;         /* Yes                             
1441:rtos/uCOS-III/Source/os_core.c ****             p_prev->PendNextPtr  = (OS_TCB *)0;
1442:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr =  p_prev;
1443:rtos/uCOS-III/Source/os_core.c **** 
1444:rtos/uCOS-III/Source/os_core.c ****         } else {
1445:rtos/uCOS-III/Source/os_core.c ****             p_prev               = p_tcb->PendPrevPtr;          /* Remove from inside the list     
 1163              		.loc 1 1445 13 is_stmt 1 view .LVU375
 1164              	.LVL72:
1446:rtos/uCOS-III/Source/os_core.c ****             p_next               = p_tcb->PendNextPtr;
 1165              		.loc 1 1446 13 view .LVU376
1447:rtos/uCOS-III/Source/os_core.c ****             p_prev->PendNextPtr  = p_next;
 1166              		.loc 1 1447 13 view .LVU377
 1167              		.loc 1 1447 34 is_stmt 0 view .LVU378
 1168 0012 1162     		str	r1, [r2, #32]
1448:rtos/uCOS-III/Source/os_core.c ****             p_next->PendPrevPtr  = p_prev;
 1169              		.loc 1 1448 13 is_stmt 1 view .LVU379
 1170              		.loc 1 1448 34 is_stmt 0 view .LVU380
 1171 0014 4A62     		str	r2, [r1, #36]
 1172              	.LVL73:
 1173              	.L96:
1449:rtos/uCOS-III/Source/os_core.c ****         }
1450:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1451:rtos/uCOS-III/Source/os_core.c ****         p_pend_list->NbrEntries--;                              /* One less entry in the list      
1452:rtos/uCOS-III/Source/os_core.c **** #endif
1453:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendNextPtr = (OS_TCB      *)0;
 1174              		.loc 1 1453 9 is_stmt 1 view .LVU381
 1175              		.loc 1 1453 28 is_stmt 0 view .LVU382
 1176 0016 0023     		movs	r3, #0
 1177              	.LVL74:
 1178              		.loc 1 1453 28 view .LVU383
 1179 0018 0362     		str	r3, [r0, #32]
1454:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendPrevPtr = (OS_TCB      *)0;
 1180              		.loc 1 1454 9 is_stmt 1 view .LVU384
 1181              		.loc 1 1454 28 is_stmt 0 view .LVU385
 1182 001a 4362     		str	r3, [r0, #36]
1455:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendObjPtr  = (OS_PEND_OBJ *)0;
 1183              		.loc 1 1455 9 is_stmt 1 view .LVU386
ARM GAS  /tmp/ccwSGvvz.s 			page 52


 1184              		.loc 1 1455 28 is_stmt 0 view .LVU387
 1185 001c 8362     		str	r3, [r0, #40]
 1186              	.L93:
1456:rtos/uCOS-III/Source/os_core.c ****     }
1457:rtos/uCOS-III/Source/os_core.c **** }
 1187              		.loc 1 1457 1 view .LVU388
 1188 001e 7047     		bx	lr
 1189              	.LVL75:
 1190              	.L99:
1432:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr = (OS_TCB *)0;
 1191              		.loc 1 1432 13 is_stmt 1 view .LVU389
1432:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr = (OS_TCB *)0;
 1192              		.loc 1 1432 34 is_stmt 0 view .LVU390
 1193 0020 5A60     		str	r2, [r3, #4]
1433:rtos/uCOS-III/Source/os_core.c ****         } else if (p_tcb->PendPrevPtr == (OS_TCB *)0) {         /* See if entry is at the head of t
 1194              		.loc 1 1433 13 is_stmt 1 view .LVU391
1433:rtos/uCOS-III/Source/os_core.c ****         } else if (p_tcb->PendPrevPtr == (OS_TCB *)0) {         /* See if entry is at the head of t
 1195              		.loc 1 1433 34 is_stmt 0 view .LVU392
 1196 0022 9A60     		str	r2, [r3, #8]
 1197 0024 F7E7     		b	.L96
 1198              	.L100:
1435:rtos/uCOS-III/Source/os_core.c ****             p_next->PendPrevPtr  = (OS_TCB *)0;
 1199              		.loc 1 1435 13 is_stmt 1 view .LVU393
1435:rtos/uCOS-III/Source/os_core.c ****             p_next->PendPrevPtr  = (OS_TCB *)0;
 1200              		.loc 1 1435 34 is_stmt 0 view .LVU394
 1201 0026 026A     		ldr	r2, [r0, #32]
 1202              	.LVL76:
1436:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->HeadPtr =  p_next;
 1203              		.loc 1 1436 13 is_stmt 1 view .LVU395
1436:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->HeadPtr =  p_next;
 1204              		.loc 1 1436 34 is_stmt 0 view .LVU396
 1205 0028 0021     		movs	r1, #0
 1206 002a 5162     		str	r1, [r2, #36]
1437:rtos/uCOS-III/Source/os_core.c **** 
 1207              		.loc 1 1437 13 is_stmt 1 view .LVU397
1437:rtos/uCOS-III/Source/os_core.c **** 
 1208              		.loc 1 1437 34 is_stmt 0 view .LVU398
 1209 002c 5A60     		str	r2, [r3, #4]
 1210 002e F2E7     		b	.L96
 1211              	.LVL77:
 1212              	.L101:
1440:rtos/uCOS-III/Source/os_core.c ****             p_prev->PendNextPtr  = (OS_TCB *)0;
 1213              		.loc 1 1440 13 is_stmt 1 view .LVU399
1441:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr =  p_prev;
 1214              		.loc 1 1441 13 view .LVU400
1441:rtos/uCOS-III/Source/os_core.c ****             p_pend_list->TailPtr =  p_prev;
 1215              		.loc 1 1441 34 is_stmt 0 view .LVU401
 1216 0030 1162     		str	r1, [r2, #32]
1442:rtos/uCOS-III/Source/os_core.c **** 
 1217              		.loc 1 1442 13 is_stmt 1 view .LVU402
1442:rtos/uCOS-III/Source/os_core.c **** 
 1218              		.loc 1 1442 34 is_stmt 0 view .LVU403
 1219 0032 9A60     		str	r2, [r3, #8]
 1220 0034 EFE7     		b	.L96
 1221              		.cfi_endproc
 1222              	.LFE17:
 1224              		.section	.text.OS_PendListChangePrio,"ax",%progbits
ARM GAS  /tmp/ccwSGvvz.s 			page 53


 1225              		.align	1
 1226              		.global	OS_PendListChangePrio
 1227              		.syntax unified
 1228              		.thumb
 1229              		.thumb_func
 1230              		.fpu fpv4-sp-d16
 1232              	OS_PendListChangePrio:
 1233              	.LVL78:
 1234              	.LFB14:
1217:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
 1235              		.loc 1 1217 1 is_stmt 1 view -0
 1236              		.cfi_startproc
 1237              		@ args = 0, pretend = 0, frame = 0
 1238              		@ frame_needed = 0, uses_anonymous_args = 0
1217:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
 1239              		.loc 1 1217 1 is_stmt 0 view .LVU405
 1240 0000 70B5     		push	{r4, r5, r6, lr}
 1241              	.LCFI13:
 1242              		.cfi_def_cfa_offset 16
 1243              		.cfi_offset 4, -16
 1244              		.cfi_offset 5, -12
 1245              		.cfi_offset 6, -8
 1246              		.cfi_offset 14, -4
1218:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_OBJ   *p_obj;
 1247              		.loc 1 1218 5 is_stmt 1 view .LVU406
1219:rtos/uCOS-III/Source/os_core.c **** 
 1248              		.loc 1 1219 5 view .LVU407
1221:rtos/uCOS-III/Source/os_core.c ****     p_pend_list = &p_obj->PendList;
 1249              		.loc 1 1221 5 view .LVU408
1221:rtos/uCOS-III/Source/os_core.c ****     p_pend_list = &p_obj->PendList;
 1250              		.loc 1 1221 17 is_stmt 0 view .LVU409
 1251 0002 856A     		ldr	r5, [r0, #40]
 1252              	.LVL79:
1222:rtos/uCOS-III/Source/os_core.c **** 
 1253              		.loc 1 1222 5 is_stmt 1 view .LVU410
1224:rtos/uCOS-III/Source/os_core.c ****             OS_PendListRemove(p_tcb);                           /* Remove entry from current positi
 1254              		.loc 1 1224 5 view .LVU411
1224:rtos/uCOS-III/Source/os_core.c ****             OS_PendListRemove(p_tcb);                           /* Remove entry from current positi
 1255              		.loc 1 1224 20 is_stmt 0 view .LVU412
 1256 0004 6B68     		ldr	r3, [r5, #4]
1224:rtos/uCOS-III/Source/os_core.c ****             OS_PendListRemove(p_tcb);                           /* Remove entry from current positi
 1257              		.loc 1 1224 29 view .LVU413
 1258 0006 1B6A     		ldr	r3, [r3, #32]
1224:rtos/uCOS-III/Source/os_core.c ****             OS_PendListRemove(p_tcb);                           /* Remove entry from current positi
 1259              		.loc 1 1224 8 view .LVU414
 1260 0008 43B1     		cbz	r3, .L102
 1261 000a 0446     		mov	r4, r0
 1262 000c 2E1D     		adds	r6, r5, #4
 1263              	.LVL80:
1225:rtos/uCOS-III/Source/os_core.c ****             p_tcb->PendObjPtr = p_obj;
 1264              		.loc 1 1225 13 is_stmt 1 view .LVU415
 1265 000e FFF7FEFF 		bl	OS_PendListRemove
 1266              	.LVL81:
1226:rtos/uCOS-III/Source/os_core.c ****             OS_PendListInsertPrio(p_pend_list,                  /* INSERT it back in the list      
 1267              		.loc 1 1226 13 view .LVU416
1226:rtos/uCOS-III/Source/os_core.c ****             OS_PendListInsertPrio(p_pend_list,                  /* INSERT it back in the list      
 1268              		.loc 1 1226 31 is_stmt 0 view .LVU417
ARM GAS  /tmp/ccwSGvvz.s 			page 54


 1269 0012 A562     		str	r5, [r4, #40]
1227:rtos/uCOS-III/Source/os_core.c ****                                   p_tcb);
 1270              		.loc 1 1227 13 is_stmt 1 view .LVU418
 1271 0014 2146     		mov	r1, r4
 1272 0016 3046     		mov	r0, r6
 1273 0018 FFF7FEFF 		bl	OS_PendListInsertPrio
 1274              	.LVL82:
 1275              	.L102:
1230:rtos/uCOS-III/Source/os_core.c **** 
 1276              		.loc 1 1230 1 is_stmt 0 view .LVU419
 1277 001c 70BD     		pop	{r4, r5, r6, pc}
1230:rtos/uCOS-III/Source/os_core.c **** 
 1278              		.loc 1 1230 1 view .LVU420
 1279              		.cfi_endproc
 1280              	.LFE14:
 1282              		.section	.text.OS_RdyListInit,"ax",%progbits
 1283              		.align	1
 1284              		.global	OS_RdyListInit
 1285              		.syntax unified
 1286              		.thumb
 1287              		.thumb_func
 1288              		.fpu fpv4-sp-d16
 1290              	OS_RdyListInit:
 1291              	.LFB19:
1458:rtos/uCOS-III/Source/os_core.c **** 
1459:rtos/uCOS-III/Source/os_core.c **** 
1460:rtos/uCOS-III/Source/os_core.c **** /*
1461:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1462:rtos/uCOS-III/Source/os_core.c **** *                                                   POST TO A TASK
1463:rtos/uCOS-III/Source/os_core.c **** *
1464:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to post to a task.  This function exist because it is common
1465:rtos/uCOS-III/Source/os_core.c **** *              OSxxxPost() services.
1466:rtos/uCOS-III/Source/os_core.c **** *
1467:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_obj          Is a pointer to the object being posted to or NULL pointer if there i
1468:rtos/uCOS-III/Source/os_core.c **** *              -----
1469:rtos/uCOS-III/Source/os_core.c **** *
1470:rtos/uCOS-III/Source/os_core.c **** *              p_tcb          Is a pointer to the OS_TCB that will receive the 'post'
1471:rtos/uCOS-III/Source/os_core.c **** *              -----
1472:rtos/uCOS-III/Source/os_core.c **** *
1473:rtos/uCOS-III/Source/os_core.c **** *              p_void         If we are posting a message to a task, this is the message that the t
1474:rtos/uCOS-III/Source/os_core.c **** *
1475:rtos/uCOS-III/Source/os_core.c **** *              msg_size       If we are posting a message to a task, this is the size of the messag
1476:rtos/uCOS-III/Source/os_core.c **** *
1477:rtos/uCOS-III/Source/os_core.c **** *              ts             The timestamp as to when the post occurred
1478:rtos/uCOS-III/Source/os_core.c **** *
1479:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1480:rtos/uCOS-III/Source/os_core.c **** *
1481:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
1482:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1483:rtos/uCOS-III/Source/os_core.c **** */
1484:rtos/uCOS-III/Source/os_core.c **** 
1485:rtos/uCOS-III/Source/os_core.c **** void  OS_Post (OS_PEND_OBJ  *p_obj,
1486:rtos/uCOS-III/Source/os_core.c ****                OS_TCB       *p_tcb,
1487:rtos/uCOS-III/Source/os_core.c ****                void         *p_void,
1488:rtos/uCOS-III/Source/os_core.c ****                OS_MSG_SIZE   msg_size,
1489:rtos/uCOS-III/Source/os_core.c ****                CPU_TS        ts)
1490:rtos/uCOS-III/Source/os_core.c **** {
ARM GAS  /tmp/ccwSGvvz.s 			page 55


1491:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN == 0u)
1492:rtos/uCOS-III/Source/os_core.c ****     (void)ts;                                                   /* Prevent compiler warning for not
1493:rtos/uCOS-III/Source/os_core.c **** #endif
1494:rtos/uCOS-III/Source/os_core.c **** #if (OS_MSG_EN == 0u)
1495:rtos/uCOS-III/Source/os_core.c ****     (void)p_void;
1496:rtos/uCOS-III/Source/os_core.c ****     (void)msg_size;
1497:rtos/uCOS-III/Source/os_core.c **** #endif
1498:rtos/uCOS-III/Source/os_core.c **** 
1499:rtos/uCOS-III/Source/os_core.c ****     switch (p_tcb->TaskState) {
1500:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_RDY:                                 /* Cannot Post a task that is ready
1501:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_DLY:                                 /* Cannot Post a task that is delay
1502:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_SUSPENDED:                           /* Cannot Post a suspended task    
1503:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_DLY_SUSPENDED:                       /* Cannot Post a suspended task tha
1504:rtos/uCOS-III/Source/os_core.c ****              break;
1505:rtos/uCOS-III/Source/os_core.c **** 
1506:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND:
1507:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1508:rtos/uCOS-III/Source/os_core.c **** #if (OS_MSG_EN > 0u)
1509:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgPtr  = p_void;                           /* Deposit message in OS_TCB of tas
1510:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize = msg_size;                         /* ... assuming posting a message  
1511:rtos/uCOS-III/Source/os_core.c **** #endif
1512:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN > 0u)
1513:rtos/uCOS-III/Source/os_core.c ****                  p_tcb->TS      = ts;
1514:rtos/uCOS-III/Source/os_core.c **** #endif
1515:rtos/uCOS-III/Source/os_core.c ****              if (p_obj != (OS_PEND_OBJ *)0) {
1516:rtos/uCOS-III/Source/os_core.c ****                  OS_PendListRemove(p_tcb);                      /* Remove task from pend list      
1517:rtos/uCOS-III/Source/os_core.c ****              }
1518:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1519:rtos/uCOS-III/Source/os_core.c ****              OS_PendDbgNameRemove(p_obj,
1520:rtos/uCOS-III/Source/os_core.c ****                                   p_tcb);
1521:rtos/uCOS-III/Source/os_core.c **** #endif
1522:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TICK_EN > 0u)
1523:rtos/uCOS-III/Source/os_core.c ****              if (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT) {
1524:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Remove from tick list           
1525:rtos/uCOS-III/Source/os_core.c ****              }
1526:rtos/uCOS-III/Source/os_core.c **** #endif
1527:rtos/uCOS-III/Source/os_core.c ****              OS_RdyListInsert(p_tcb);                           /* Insert the task in the ready lis
1528:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_RDY;
1529:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;             /* Clear pend status               
1530:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
1531:rtos/uCOS-III/Source/os_core.c ****              break;
1532:rtos/uCOS-III/Source/os_core.c **** 
1533:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1534:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1535:rtos/uCOS-III/Source/os_core.c **** #if (OS_MSG_EN > 0u)
1536:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgPtr  = p_void;                           /* Deposit message in OS_TCB of tas
1537:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize = msg_size;                         /* ... assuming posting a message  
1538:rtos/uCOS-III/Source/os_core.c **** #endif
1539:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN > 0u)
1540:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TS      = ts;
1541:rtos/uCOS-III/Source/os_core.c **** #endif
1542:rtos/uCOS-III/Source/os_core.c ****              if (p_obj != (OS_PEND_OBJ *)0) {
1543:rtos/uCOS-III/Source/os_core.c ****                  OS_PendListRemove(p_tcb);                      /* Remove from pend list           
1544:rtos/uCOS-III/Source/os_core.c ****              }
1545:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1546:rtos/uCOS-III/Source/os_core.c ****              OS_PendDbgNameRemove(p_obj,
1547:rtos/uCOS-III/Source/os_core.c ****                                   p_tcb);
ARM GAS  /tmp/ccwSGvvz.s 			page 56


1548:rtos/uCOS-III/Source/os_core.c **** #endif
1549:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TICK_EN > 0u)
1550:rtos/uCOS-III/Source/os_core.c ****              if (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED) {
1551:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel any timeout              
1552:rtos/uCOS-III/Source/os_core.c ****              }
1553:rtos/uCOS-III/Source/os_core.c **** #endif
1554:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_SUSPENDED;
1555:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;             /* Clear pend status               
1556:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
1557:rtos/uCOS-III/Source/os_core.c ****              break;
1558:rtos/uCOS-III/Source/os_core.c **** 
1559:rtos/uCOS-III/Source/os_core.c ****         default:
1560:rtos/uCOS-III/Source/os_core.c ****                                                                 /* Default case.                   
1561:rtos/uCOS-III/Source/os_core.c ****              break;
1562:rtos/uCOS-III/Source/os_core.c ****     }
1563:rtos/uCOS-III/Source/os_core.c **** }
1564:rtos/uCOS-III/Source/os_core.c **** 
1565:rtos/uCOS-III/Source/os_core.c **** 
1566:rtos/uCOS-III/Source/os_core.c **** /*
1567:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1568:rtos/uCOS-III/Source/os_core.c **** *                                                    INITIALIZATION
1569:rtos/uCOS-III/Source/os_core.c **** *                                               READY LIST INITIALIZATION
1570:rtos/uCOS-III/Source/os_core.c **** *
1571:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called by OSInit() to initialize the ready list.  The ready list co
1572:rtos/uCOS-III/Source/os_core.c **** *              the tasks that are ready to run.  The list is actually an array of OS_RDY_LIST.  An 
1573:rtos/uCOS-III/Source/os_core.c **** *              three fields.  The number of OS_TCBs in the list (i.e. .NbrEntries), a pointer to th
1574:rtos/uCOS-III/Source/os_core.c **** *              OS_RDY_LIST (i.e. .HeadPtr) and a pointer to the last OS_TCB in the OS_RDY_LIST (i.e
1575:rtos/uCOS-III/Source/os_core.c **** *
1576:rtos/uCOS-III/Source/os_core.c **** *              OS_TCBs are doubly linked in the OS_RDY_LIST and each OS_TCB points pack to the OS_R
1577:rtos/uCOS-III/Source/os_core.c **** *              to.
1578:rtos/uCOS-III/Source/os_core.c **** *
1579:rtos/uCOS-III/Source/os_core.c **** *              'OS_RDY_LIST  OSRdyTbl[OS_CFG_PRIO_MAX]'  looks like this once initialized:
1580:rtos/uCOS-III/Source/os_core.c **** *
1581:rtos/uCOS-III/Source/os_core.c **** *                               +---------------+--------------+
1582:rtos/uCOS-III/Source/os_core.c **** *                               |               | TailPtr      |-----> 0
1583:rtos/uCOS-III/Source/os_core.c **** *                          [0]  | NbrEntries=0  +--------------+
1584:rtos/uCOS-III/Source/os_core.c **** *                               |               | HeadPtr      |-----> 0
1585:rtos/uCOS-III/Source/os_core.c **** *                               +---------------+--------------+
1586:rtos/uCOS-III/Source/os_core.c **** *                               |               | TailPtr      |-----> 0
1587:rtos/uCOS-III/Source/os_core.c **** *                          [1]  | NbrEntries=0  +--------------+
1588:rtos/uCOS-III/Source/os_core.c **** *                               |               | HeadPtr      |-----> 0
1589:rtos/uCOS-III/Source/os_core.c **** *                               +---------------+--------------+
1590:rtos/uCOS-III/Source/os_core.c **** *                                       :              :
1591:rtos/uCOS-III/Source/os_core.c **** *                                       :              :
1592:rtos/uCOS-III/Source/os_core.c **** *                                       :              :
1593:rtos/uCOS-III/Source/os_core.c **** *                               +---------------+--------------+
1594:rtos/uCOS-III/Source/os_core.c **** *                               |               | TailPtr      |-----> 0
1595:rtos/uCOS-III/Source/os_core.c **** *          [OS_CFG_PRIO_MAX-1]  | NbrEntries=0  +--------------+
1596:rtos/uCOS-III/Source/os_core.c **** *                               |               | HeadPtr      |-----> 0
1597:rtos/uCOS-III/Source/os_core.c **** *                               +---------------+--------------+
1598:rtos/uCOS-III/Source/os_core.c **** *
1599:rtos/uCOS-III/Source/os_core.c **** *
1600:rtos/uCOS-III/Source/os_core.c **** * Arguments  : none
1601:rtos/uCOS-III/Source/os_core.c **** *
1602:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1603:rtos/uCOS-III/Source/os_core.c **** *
1604:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
ARM GAS  /tmp/ccwSGvvz.s 			page 57


1605:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1606:rtos/uCOS-III/Source/os_core.c **** */
1607:rtos/uCOS-III/Source/os_core.c **** 
1608:rtos/uCOS-III/Source/os_core.c **** void  OS_RdyListInit (void)
1609:rtos/uCOS-III/Source/os_core.c **** {
 1292              		.loc 1 1609 1 is_stmt 1 view -0
 1293              		.cfi_startproc
 1294              		@ args = 0, pretend = 0, frame = 0
 1295              		@ frame_needed = 0, uses_anonymous_args = 0
 1296              		@ link register save eliminated.
1610:rtos/uCOS-III/Source/os_core.c ****     CPU_INT32U    i;
 1297              		.loc 1 1610 5 view .LVU422
1611:rtos/uCOS-III/Source/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 1298              		.loc 1 1611 5 view .LVU423
1612:rtos/uCOS-III/Source/os_core.c **** 
1613:rtos/uCOS-III/Source/os_core.c **** 
1614:rtos/uCOS-III/Source/os_core.c **** 
1615:rtos/uCOS-III/Source/os_core.c ****     for (i = 0u; i < OS_CFG_PRIO_MAX; i++) {                    /* Initialize the array of OS_RDY_L
 1299              		.loc 1 1615 5 view .LVU424
 1300              	.LVL83:
 1301              		.loc 1 1615 12 is_stmt 0 view .LVU425
 1302 0000 0023     		movs	r3, #0
 1303              		.loc 1 1615 5 view .LVU426
 1304 0002 07E0     		b	.L106
 1305              	.LVL84:
 1306              	.L107:
1616:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list = &OSRdyList[i];
 1307              		.loc 1 1616 9 is_stmt 1 discriminator 3 view .LVU427
1617:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1618:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->NbrEntries =           0u;
1619:rtos/uCOS-III/Source/os_core.c **** #endif
1620:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr    = (OS_TCB *)0;
 1308              		.loc 1 1620 9 discriminator 3 view .LVU428
 1309              		.loc 1 1620 32 is_stmt 0 discriminator 3 view .LVU429
 1310 0004 054A     		ldr	r2, .L108
 1311 0006 0021     		movs	r1, #0
 1312 0008 42F83310 		str	r1, [r2, r3, lsl #3]
1621:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr    = (OS_TCB *)0;
 1313              		.loc 1 1621 9 is_stmt 1 discriminator 3 view .LVU430
 1314              		.loc 1 1621 32 is_stmt 0 discriminator 3 view .LVU431
 1315 000c 02EBC302 		add	r2, r2, r3, lsl #3
 1316              	.LVL85:
 1317              		.loc 1 1621 32 discriminator 3 view .LVU432
 1318 0010 5160     		str	r1, [r2, #4]
1615:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list = &OSRdyList[i];
 1319              		.loc 1 1615 39 is_stmt 1 discriminator 3 view .LVU433
1615:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list = &OSRdyList[i];
 1320              		.loc 1 1615 40 is_stmt 0 discriminator 3 view .LVU434
 1321 0012 0133     		adds	r3, r3, #1
 1322              	.LVL86:
 1323              	.L106:
1615:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list = &OSRdyList[i];
 1324              		.loc 1 1615 18 is_stmt 1 discriminator 1 view .LVU435
1615:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list = &OSRdyList[i];
 1325              		.loc 1 1615 5 is_stmt 0 discriminator 1 view .LVU436
 1326 0014 3F2B     		cmp	r3, #63
 1327 0016 F5D9     		bls	.L107
ARM GAS  /tmp/ccwSGvvz.s 			page 58


1622:rtos/uCOS-III/Source/os_core.c ****     }
1623:rtos/uCOS-III/Source/os_core.c **** }
 1328              		.loc 1 1623 1 view .LVU437
 1329 0018 7047     		bx	lr
 1330              	.L109:
 1331 001a 00BF     		.align	2
 1332              	.L108:
 1333 001c 00000000 		.word	OSRdyList
 1334              		.cfi_endproc
 1335              	.LFE19:
 1337              		.section	.text.OSInit,"ax",%progbits
 1338              		.align	1
 1339              		.global	OSInit
 1340              		.syntax unified
 1341              		.thumb
 1342              		.thumb_func
 1343              		.fpu fpv4-sp-d16
 1345              	OSInit:
 1346              	.LVL87:
 1347              	.LFB0:
  57:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_ISR_STK_SIZE > 0u)
 1348              		.loc 1 57 1 is_stmt 1 view -0
 1349              		.cfi_startproc
 1350              		@ args = 0, pretend = 0, frame = 0
 1351              		@ frame_needed = 0, uses_anonymous_args = 0
  57:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_ISR_STK_SIZE > 0u)
 1352              		.loc 1 57 1 is_stmt 0 view .LVU439
 1353 0000 10B5     		push	{r4, lr}
 1354              	.LCFI14:
 1355              		.cfi_def_cfa_offset 8
 1356              		.cfi_offset 4, -8
 1357              		.cfi_offset 14, -4
 1358 0002 0446     		mov	r4, r0
  59:rtos/uCOS-III/Source/os_core.c ****     CPU_STK_SIZE  size;
 1359              		.loc 1 59 5 is_stmt 1 view .LVU440
  60:rtos/uCOS-III/Source/os_core.c **** #endif
 1360              		.loc 1 60 5 view .LVU441
  72:rtos/uCOS-III/Source/os_core.c **** 
 1361              		.loc 1 72 5 view .LVU442
 1362 0004 FFF7FEFF 		bl	OSInitHook
 1363              	.LVL88:
  74:rtos/uCOS-III/Source/os_core.c **** 
 1364              		.loc 1 74 5 view .LVU443
  74:rtos/uCOS-III/Source/os_core.c **** 
 1365              		.loc 1 74 27 is_stmt 0 view .LVU444
 1366 0008 0023     		movs	r3, #0
 1367 000a 344A     		ldr	r2, .L117
 1368 000c 1370     		strb	r3, [r2]
  76:rtos/uCOS-III/Source/os_core.c **** 
 1369              		.loc 1 76 5 is_stmt 1 view .LVU445
  76:rtos/uCOS-III/Source/os_core.c **** 
 1370              		.loc 1 76 27 is_stmt 0 view .LVU446
 1371 000e 344A     		ldr	r2, .L117+4
 1372 0010 1370     		strb	r3, [r2]
  78:rtos/uCOS-III/Source/os_core.c **** 
 1373              		.loc 1 78 5 is_stmt 1 view .LVU447
  78:rtos/uCOS-III/Source/os_core.c **** 
ARM GAS  /tmp/ccwSGvvz.s 			page 59


 1374              		.loc 1 78 27 is_stmt 0 view .LVU448
 1375 0012 344A     		ldr	r2, .L117+8
 1376 0014 1370     		strb	r3, [r2]
  80:rtos/uCOS-III/Source/os_core.c ****     OSTCBHighRdyPtr       = (OS_TCB *)0;
 1377              		.loc 1 80 5 is_stmt 1 view .LVU449
  80:rtos/uCOS-III/Source/os_core.c ****     OSTCBHighRdyPtr       = (OS_TCB *)0;
 1378              		.loc 1 80 27 is_stmt 0 view .LVU450
 1379 0016 344A     		ldr	r2, .L117+12
 1380 0018 1360     		str	r3, [r2]
  81:rtos/uCOS-III/Source/os_core.c **** 
 1381              		.loc 1 81 5 is_stmt 1 view .LVU451
  81:rtos/uCOS-III/Source/os_core.c **** 
 1382              		.loc 1 81 27 is_stmt 0 view .LVU452
 1383 001a 344A     		ldr	r2, .L117+16
 1384 001c 1360     		str	r3, [r2]
  83:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy         =           0u;
 1385              		.loc 1 83 5 is_stmt 1 view .LVU453
  83:rtos/uCOS-III/Source/os_core.c ****     OSPrioHighRdy         =           0u;
 1386              		.loc 1 83 27 is_stmt 0 view .LVU454
 1387 001e 344A     		ldr	r2, .L117+20
 1388 0020 1370     		strb	r3, [r2]
  84:rtos/uCOS-III/Source/os_core.c **** 
 1389              		.loc 1 84 5 is_stmt 1 view .LVU455
  84:rtos/uCOS-III/Source/os_core.c **** 
 1390              		.loc 1 84 27 is_stmt 0 view .LVU456
 1391 0022 344A     		ldr	r2, .L117+24
 1392 0024 1370     		strb	r3, [r2]
  97:rtos/uCOS-III/Source/os_core.c ****     OSSchedRoundRobinDfltTimeQuanta = OSCfg_TickRate_Hz / 10u;
 1393              		.loc 1 97 5 is_stmt 1 view .LVU457
  97:rtos/uCOS-III/Source/os_core.c ****     OSSchedRoundRobinDfltTimeQuanta = OSCfg_TickRate_Hz / 10u;
 1394              		.loc 1 97 37 is_stmt 0 view .LVU458
 1395 0026 344A     		ldr	r2, .L117+28
 1396 0028 1370     		strb	r3, [r2]
  98:rtos/uCOS-III/Source/os_core.c **** #endif
 1397              		.loc 1 98 5 is_stmt 1 view .LVU459
  98:rtos/uCOS-III/Source/os_core.c **** #endif
 1398              		.loc 1 98 57 is_stmt 0 view .LVU460
 1399 002a 344B     		ldr	r3, .L117+32
 1400 002c 1B68     		ldr	r3, [r3]
 1401 002e 344A     		ldr	r2, .L117+36
 1402 0030 A2FB0323 		umull	r2, r3, r2, r3
 1403 0034 DB08     		lsrs	r3, r3, #3
  98:rtos/uCOS-III/Source/os_core.c **** #endif
 1404              		.loc 1 98 37 view .LVU461
 1405 0036 334A     		ldr	r2, .L117+40
 1406 0038 1360     		str	r3, [r2]
 102:rtos/uCOS-III/Source/os_core.c ****     if (p_stk != (CPU_STK *)0) {
 1407              		.loc 1 102 5 is_stmt 1 view .LVU462
 102:rtos/uCOS-III/Source/os_core.c ****     if (p_stk != (CPU_STK *)0) {
 1408              		.loc 1 102 11 is_stmt 0 view .LVU463
 1409 003a 334B     		ldr	r3, .L117+44
 1410 003c 1A68     		ldr	r2, [r3]
 1411              	.LVL89:
 103:rtos/uCOS-III/Source/os_core.c ****         size  = OSCfg_ISRStkSize;
 1412              		.loc 1 103 5 is_stmt 1 view .LVU464
 103:rtos/uCOS-III/Source/os_core.c ****         size  = OSCfg_ISRStkSize;
 1413              		.loc 1 103 8 is_stmt 0 view .LVU465
ARM GAS  /tmp/ccwSGvvz.s 			page 60


 1414 003e 42B1     		cbz	r2, .L111
 104:rtos/uCOS-III/Source/os_core.c ****         while (size > 0u) {
 1415              		.loc 1 104 9 is_stmt 1 view .LVU466
 104:rtos/uCOS-III/Source/os_core.c ****         while (size > 0u) {
 1416              		.loc 1 104 15 is_stmt 0 view .LVU467
 1417 0040 324B     		ldr	r3, .L117+48
 1418 0042 1B68     		ldr	r3, [r3]
 1419              	.LVL90:
 105:rtos/uCOS-III/Source/os_core.c ****             size--;
 1420              		.loc 1 105 9 is_stmt 1 view .LVU468
 105:rtos/uCOS-III/Source/os_core.c ****             size--;
 1421              		.loc 1 105 15 is_stmt 0 view .LVU469
 1422 0044 03E0     		b	.L112
 1423              	.L113:
 106:rtos/uCOS-III/Source/os_core.c ****            *p_stk = 0u;
 1424              		.loc 1 106 13 is_stmt 1 view .LVU470
 106:rtos/uCOS-III/Source/os_core.c ****            *p_stk = 0u;
 1425              		.loc 1 106 17 is_stmt 0 view .LVU471
 1426 0046 013B     		subs	r3, r3, #1
 1427              	.LVL91:
 107:rtos/uCOS-III/Source/os_core.c ****             p_stk++;
 1428              		.loc 1 107 12 is_stmt 1 view .LVU472
 107:rtos/uCOS-III/Source/os_core.c ****             p_stk++;
 1429              		.loc 1 107 19 is_stmt 0 view .LVU473
 1430 0048 0021     		movs	r1, #0
 1431 004a 42F8041B 		str	r1, [r2], #4
 1432              	.LVL92:
 108:rtos/uCOS-III/Source/os_core.c ****         }
 1433              		.loc 1 108 13 is_stmt 1 view .LVU474
 1434              	.L112:
 105:rtos/uCOS-III/Source/os_core.c ****             size--;
 1435              		.loc 1 105 15 view .LVU475
 1436 004e 002B     		cmp	r3, #0
 1437 0050 F9D1     		bne	.L113
 1438              	.LVL93:
 1439              	.L111:
 120:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskDelHookPtr    = (OS_APP_HOOK_TCB )0;
 1440              		.loc 1 120 5 view .LVU476
 120:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskDelHookPtr    = (OS_APP_HOOK_TCB )0;
 1441              		.loc 1 120 29 is_stmt 0 view .LVU477
 1442 0052 0023     		movs	r3, #0
 1443 0054 2E4A     		ldr	r2, .L117+52
 1444              	.LVL94:
 120:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskDelHookPtr    = (OS_APP_HOOK_TCB )0;
 1445              		.loc 1 120 29 view .LVU478
 1446 0056 1360     		str	r3, [r2]
 121:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskReturnHookPtr = (OS_APP_HOOK_TCB )0;
 1447              		.loc 1 121 5 is_stmt 1 view .LVU479
 121:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskReturnHookPtr = (OS_APP_HOOK_TCB )0;
 1448              		.loc 1 121 29 is_stmt 0 view .LVU480
 1449 0058 2E4A     		ldr	r2, .L117+56
 1450 005a 1360     		str	r3, [r2]
 122:rtos/uCOS-III/Source/os_core.c **** 
 1451              		.loc 1 122 5 is_stmt 1 view .LVU481
 122:rtos/uCOS-III/Source/os_core.c **** 
 1452              		.loc 1 122 29 is_stmt 0 view .LVU482
 1453 005c 2E4A     		ldr	r2, .L117+60
ARM GAS  /tmp/ccwSGvvz.s 			page 61


 1454 005e 1360     		str	r3, [r2]
 124:rtos/uCOS-III/Source/os_core.c ****     OS_AppStatTaskHookPtr   = (OS_APP_HOOK_VOID)0;
 1455              		.loc 1 124 5 is_stmt 1 view .LVU483
 124:rtos/uCOS-III/Source/os_core.c ****     OS_AppStatTaskHookPtr   = (OS_APP_HOOK_VOID)0;
 1456              		.loc 1 124 29 is_stmt 0 view .LVU484
 1457 0060 2E4A     		ldr	r2, .L117+64
 1458 0062 1360     		str	r3, [r2]
 125:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskSwHookPtr     = (OS_APP_HOOK_VOID)0;
 1459              		.loc 1 125 5 is_stmt 1 view .LVU485
 125:rtos/uCOS-III/Source/os_core.c ****     OS_AppTaskSwHookPtr     = (OS_APP_HOOK_VOID)0;
 1460              		.loc 1 125 29 is_stmt 0 view .LVU486
 1461 0064 2E4A     		ldr	r2, .L117+68
 1462 0066 1360     		str	r3, [r2]
 126:rtos/uCOS-III/Source/os_core.c ****     OS_AppTimeTickHookPtr   = (OS_APP_HOOK_VOID)0;
 1463              		.loc 1 126 5 is_stmt 1 view .LVU487
 126:rtos/uCOS-III/Source/os_core.c ****     OS_AppTimeTickHookPtr   = (OS_APP_HOOK_VOID)0;
 1464              		.loc 1 126 29 is_stmt 0 view .LVU488
 1465 0068 2E4A     		ldr	r2, .L117+72
 1466 006a 1360     		str	r3, [r2]
 127:rtos/uCOS-III/Source/os_core.c **** #endif
 1467              		.loc 1 127 5 is_stmt 1 view .LVU489
 127:rtos/uCOS-III/Source/os_core.c **** #endif
 1468              		.loc 1 127 29 is_stmt 0 view .LVU490
 1469 006c 2E4A     		ldr	r2, .L117+76
 1470 006e 1360     		str	r3, [r2]
 131:rtos/uCOS-III/Source/os_core.c **** #endif
 1471              		.loc 1 131 5 is_stmt 1 view .LVU491
 131:rtos/uCOS-III/Source/os_core.c **** #endif
 1472              		.loc 1 131 26 is_stmt 0 view .LVU492
 1473 0070 2E4A     		ldr	r2, .L117+80
 1474 0072 1370     		strb	r3, [r2]
 134:rtos/uCOS-III/Source/os_core.c **** 
 1475              		.loc 1 134 5 is_stmt 1 view .LVU493
 1476 0074 FFF7FEFF 		bl	OS_PrioInit
 1477              	.LVL95:
 136:rtos/uCOS-III/Source/os_core.c **** 
 1478              		.loc 1 136 5 view .LVU494
 1479 0078 FFF7FEFF 		bl	OS_RdyListInit
 1480              	.LVL96:
 147:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 1481              		.loc 1 147 5 view .LVU495
 1482 007c 2046     		mov	r0, r4
 1483 007e FFF7FEFF 		bl	OS_MemInit
 1484              	.LVL97:
 148:rtos/uCOS-III/Source/os_core.c ****         return;
 1485              		.loc 1 148 5 view .LVU496
 148:rtos/uCOS-III/Source/os_core.c ****         return;
 1486              		.loc 1 148 9 is_stmt 0 view .LVU497
 1487 0082 2388     		ldrh	r3, [r4]
 148:rtos/uCOS-III/Source/os_core.c ****         return;
 1488              		.loc 1 148 8 view .LVU498
 1489 0084 03B1     		cbz	r3, .L116
 1490              	.L110:
 240:rtos/uCOS-III/Source/os_core.c **** 
 1491              		.loc 1 240 1 view .LVU499
 1492 0086 10BD     		pop	{r4, pc}
 1493              	.LVL98:
ARM GAS  /tmp/ccwSGvvz.s 			page 62


 1494              	.L116:
 155:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 1495              		.loc 1 155 5 is_stmt 1 view .LVU500
 1496 0088 2046     		mov	r0, r4
 1497 008a FFF7FEFF 		bl	OS_MsgPoolInit
 1498              	.LVL99:
 156:rtos/uCOS-III/Source/os_core.c ****         return;
 1499              		.loc 1 156 5 view .LVU501
 156:rtos/uCOS-III/Source/os_core.c ****         return;
 1500              		.loc 1 156 9 is_stmt 0 view .LVU502
 1501 008e 2388     		ldrh	r3, [r4]
 156:rtos/uCOS-III/Source/os_core.c ****         return;
 1502              		.loc 1 156 8 view .LVU503
 1503 0090 002B     		cmp	r3, #0
 1504 0092 F8D1     		bne	.L110
 194:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 1505              		.loc 1 194 5 is_stmt 1 view .LVU504
 1506 0094 2046     		mov	r0, r4
 1507 0096 FFF7FEFF 		bl	OS_TaskInit
 1508              	.LVL100:
 195:rtos/uCOS-III/Source/os_core.c ****         return;
 1509              		.loc 1 195 5 view .LVU505
 195:rtos/uCOS-III/Source/os_core.c ****         return;
 1510              		.loc 1 195 9 is_stmt 0 view .LVU506
 1511 009a 2388     		ldrh	r3, [r4]
 195:rtos/uCOS-III/Source/os_core.c ****         return;
 1512              		.loc 1 195 8 view .LVU507
 1513 009c 002B     		cmp	r3, #0
 1514 009e F2D1     		bne	.L110
 201:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 1515              		.loc 1 201 5 is_stmt 1 view .LVU508
 1516 00a0 2046     		mov	r0, r4
 1517 00a2 FFF7FEFF 		bl	OS_IdleTaskInit
 1518              	.LVL101:
 202:rtos/uCOS-III/Source/os_core.c ****         return;
 1519              		.loc 1 202 5 view .LVU509
 202:rtos/uCOS-III/Source/os_core.c ****         return;
 1520              		.loc 1 202 9 is_stmt 0 view .LVU510
 1521 00a6 2388     		ldrh	r3, [r4]
 202:rtos/uCOS-III/Source/os_core.c ****         return;
 1522              		.loc 1 202 8 view .LVU511
 1523 00a8 002B     		cmp	r3, #0
 1524 00aa ECD1     		bne	.L110
 209:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 1525              		.loc 1 209 5 is_stmt 1 view .LVU512
 1526 00ac 2046     		mov	r0, r4
 1527 00ae FFF7FEFF 		bl	OS_TickInit
 1528              	.LVL102:
 210:rtos/uCOS-III/Source/os_core.c ****         return;
 1529              		.loc 1 210 5 view .LVU513
 210:rtos/uCOS-III/Source/os_core.c ****         return;
 1530              		.loc 1 210 9 is_stmt 0 view .LVU514
 1531 00b2 2388     		ldrh	r3, [r4]
 210:rtos/uCOS-III/Source/os_core.c ****         return;
 1532              		.loc 1 210 8 view .LVU515
 1533 00b4 002B     		cmp	r3, #0
 1534 00b6 E6D1     		bne	.L110
ARM GAS  /tmp/ccwSGvvz.s 			page 63


 217:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 1535              		.loc 1 217 5 is_stmt 1 view .LVU516
 1536 00b8 2046     		mov	r0, r4
 1537 00ba FFF7FEFF 		bl	OS_StatTaskInit
 1538              	.LVL103:
 218:rtos/uCOS-III/Source/os_core.c ****         return;
 1539              		.loc 1 218 5 view .LVU517
 218:rtos/uCOS-III/Source/os_core.c ****         return;
 1540              		.loc 1 218 9 is_stmt 0 view .LVU518
 1541 00be 2388     		ldrh	r3, [r4]
 218:rtos/uCOS-III/Source/os_core.c ****         return;
 1542              		.loc 1 218 8 view .LVU519
 1543 00c0 002B     		cmp	r3, #0
 1544 00c2 E0D1     		bne	.L110
 225:rtos/uCOS-III/Source/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 1545              		.loc 1 225 5 is_stmt 1 view .LVU520
 1546 00c4 2046     		mov	r0, r4
 1547 00c6 FFF7FEFF 		bl	OS_TmrInit
 1548              	.LVL104:
 226:rtos/uCOS-III/Source/os_core.c ****         return;
 1549              		.loc 1 226 5 view .LVU521
 226:rtos/uCOS-III/Source/os_core.c ****         return;
 1550              		.loc 1 226 9 is_stmt 0 view .LVU522
 1551 00ca 2388     		ldrh	r3, [r4]
 226:rtos/uCOS-III/Source/os_core.c ****         return;
 1552              		.loc 1 226 8 view .LVU523
 1553 00cc 002B     		cmp	r3, #0
 1554 00ce DAD1     		bne	.L110
 237:rtos/uCOS-III/Source/os_core.c **** 
 1555              		.loc 1 237 5 is_stmt 1 view .LVU524
 1556 00d0 FFF7FEFF 		bl	OSCfg_Init
 1557              	.LVL105:
 239:rtos/uCOS-III/Source/os_core.c **** }
 1558              		.loc 1 239 5 view .LVU525
 239:rtos/uCOS-III/Source/os_core.c **** }
 1559              		.loc 1 239 19 is_stmt 0 view .LVU526
 1560 00d4 164B     		ldr	r3, .L117+84
 1561 00d6 0122     		movs	r2, #1
 1562 00d8 1A70     		strb	r2, [r3]
 1563 00da D4E7     		b	.L110
 1564              	.L118:
 1565              		.align	2
 1566              	.L117:
 1567 00dc 00000000 		.word	OSIntNestingCtr
 1568 00e0 00000000 		.word	OSRunning
 1569 00e4 00000000 		.word	OSSchedLockNestingCtr
 1570 00e8 00000000 		.word	OSTCBCurPtr
 1571 00ec 00000000 		.word	OSTCBHighRdyPtr
 1572 00f0 00000000 		.word	OSPrioCur
 1573 00f4 00000000 		.word	OSPrioHighRdy
 1574 00f8 00000000 		.word	OSSchedRoundRobinEn
 1575 00fc 00000000 		.word	OSCfg_TickRate_Hz
 1576 0100 CDCCCCCC 		.word	-858993459
 1577 0104 00000000 		.word	OSSchedRoundRobinDfltTimeQuanta
 1578 0108 00000000 		.word	OSCfg_ISRStkBasePtr
 1579 010c 00000000 		.word	OSCfg_ISRStkSize
 1580 0110 00000000 		.word	OS_AppTaskCreateHookPtr
ARM GAS  /tmp/ccwSGvvz.s 			page 64


 1581 0114 00000000 		.word	OS_AppTaskDelHookPtr
 1582 0118 00000000 		.word	OS_AppTaskReturnHookPtr
 1583 011c 00000000 		.word	OS_AppIdleTaskHookPtr
 1584 0120 00000000 		.word	OS_AppStatTaskHookPtr
 1585 0124 00000000 		.word	OS_AppTaskSwHookPtr
 1586 0128 00000000 		.word	OS_AppTimeTickHookPtr
 1587 012c 00000000 		.word	OSTaskRegNextAvailID
 1588 0130 00000000 		.word	OSInitialized
 1589              		.cfi_endproc
 1590              	.LFE0:
 1592              		.section	.text.OS_RdyListInsertHead,"ax",%progbits
 1593              		.align	1
 1594              		.global	OS_RdyListInsertHead
 1595              		.syntax unified
 1596              		.thumb
 1597              		.thumb_func
 1598              		.fpu fpv4-sp-d16
 1600              	OS_RdyListInsertHead:
 1601              	.LVL106:
 1602              	.LFB21:
1624:rtos/uCOS-III/Source/os_core.c **** 
1625:rtos/uCOS-III/Source/os_core.c **** 
1626:rtos/uCOS-III/Source/os_core.c **** /*
1627:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1628:rtos/uCOS-III/Source/os_core.c **** *                                             INSERT TCB IN THE READY LIST
1629:rtos/uCOS-III/Source/os_core.c **** *
1630:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to insert a TCB in the ready list.
1631:rtos/uCOS-III/Source/os_core.c **** *
1632:rtos/uCOS-III/Source/os_core.c **** *              The TCB is inserted at the tail of the list if the priority of the TCB is the same a
1633:rtos/uCOS-III/Source/os_core.c **** *              current task.  The TCB is inserted at the head of the list if not.
1634:rtos/uCOS-III/Source/os_core.c **** *
1635:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb     is a pointer to the TCB to insert into the ready list
1636:rtos/uCOS-III/Source/os_core.c **** *              -----
1637:rtos/uCOS-III/Source/os_core.c **** *
1638:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1639:rtos/uCOS-III/Source/os_core.c **** *
1640:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
1641:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1642:rtos/uCOS-III/Source/os_core.c **** */
1643:rtos/uCOS-III/Source/os_core.c **** 
1644:rtos/uCOS-III/Source/os_core.c **** void  OS_RdyListInsert (OS_TCB  *p_tcb)
1645:rtos/uCOS-III/Source/os_core.c **** {
1646:rtos/uCOS-III/Source/os_core.c ****     OS_PrioInsert(p_tcb->Prio);
1647:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->Prio == OSPrioCur) {                             /* Are we readying a task at the sa
1648:rtos/uCOS-III/Source/os_core.c ****         OS_RdyListInsertTail(p_tcb);                            /* Yes, insert readied task at the 
1649:rtos/uCOS-III/Source/os_core.c ****     } else {
1650:rtos/uCOS-III/Source/os_core.c ****         OS_RdyListInsertHead(p_tcb);                            /* No,  insert readied task at the 
1651:rtos/uCOS-III/Source/os_core.c ****     }
1652:rtos/uCOS-III/Source/os_core.c **** 
1653:rtos/uCOS-III/Source/os_core.c ****     OS_TRACE_TASK_READY(p_tcb);
1654:rtos/uCOS-III/Source/os_core.c **** }
1655:rtos/uCOS-III/Source/os_core.c **** 
1656:rtos/uCOS-III/Source/os_core.c **** 
1657:rtos/uCOS-III/Source/os_core.c **** /*
1658:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1659:rtos/uCOS-III/Source/os_core.c **** *                                          INSERT TCB AT THE BEGINNING OF A LIST
1660:rtos/uCOS-III/Source/os_core.c **** *
ARM GAS  /tmp/ccwSGvvz.s 			page 65


1661:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to place an OS_TCB at the beginning of a linked list as foll
1662:rtos/uCOS-III/Source/os_core.c **** *
1663:rtos/uCOS-III/Source/os_core.c **** *              CASE 0: Insert in an empty list.
1664:rtos/uCOS-III/Source/os_core.c **** *
1665:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1666:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1667:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |-> 0
1668:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1669:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |-> 0
1670:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1671:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=0 |
1672:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1673:rtos/uCOS-III/Source/os_core.c **** *
1674:rtos/uCOS-III/Source/os_core.c **** *
1675:rtos/uCOS-III/Source/os_core.c **** *
1676:rtos/uCOS-III/Source/os_core.c **** *              CASE 1: Insert BEFORE the current head of list
1677:rtos/uCOS-III/Source/os_core.c **** *
1678:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1679:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB
1680:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |--+---> +------------+
1681:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
1682:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |--/     +------------+
1683:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
1684:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=1 |        +------------+
1685:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        :            :
1686:rtos/uCOS-III/Source/os_core.c **** *                                             :            :
1687:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+
1688:rtos/uCOS-III/Source/os_core.c **** *
1689:rtos/uCOS-III/Source/os_core.c **** *
1690:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1691:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1692:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
1693:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
1694:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
1695:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
1696:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
1697:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
1698:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1699:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1700:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1701:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1702:rtos/uCOS-III/Source/os_core.c **** *
1703:rtos/uCOS-III/Source/os_core.c **** *
1704:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb     is the OS_TCB to insert in the list
1705:rtos/uCOS-III/Source/os_core.c **** *              -----
1706:rtos/uCOS-III/Source/os_core.c **** *
1707:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1708:rtos/uCOS-III/Source/os_core.c **** *
1709:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1710:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1711:rtos/uCOS-III/Source/os_core.c **** */
1712:rtos/uCOS-III/Source/os_core.c **** 
1713:rtos/uCOS-III/Source/os_core.c **** void  OS_RdyListInsertHead (OS_TCB  *p_tcb)
1714:rtos/uCOS-III/Source/os_core.c **** {
 1603              		.loc 1 1714 1 is_stmt 1 view -0
 1604              		.cfi_startproc
 1605              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccwSGvvz.s 			page 66


 1606              		@ frame_needed = 0, uses_anonymous_args = 0
 1607              		@ link register save eliminated.
1715:rtos/uCOS-III/Source/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 1608              		.loc 1 1715 5 view .LVU528
1716:rtos/uCOS-III/Source/os_core.c ****     OS_TCB       *p_tcb2;
 1609              		.loc 1 1716 5 view .LVU529
1717:rtos/uCOS-III/Source/os_core.c **** 
1718:rtos/uCOS-III/Source/os_core.c **** 
1719:rtos/uCOS-III/Source/os_core.c **** 
1720:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[p_tcb->Prio];
 1610              		.loc 1 1720 5 view .LVU530
 1611              		.loc 1 1720 34 is_stmt 0 view .LVU531
 1612 0000 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
 1613              	.LVL107:
1721:rtos/uCOS-III/Source/os_core.c ****     if (p_rdy_list->HeadPtr == (OS_TCB *)0) {                   /* CASE 0: Insert when there are no
 1614              		.loc 1 1721 5 is_stmt 1 view .LVU532
 1615              		.loc 1 1721 19 is_stmt 0 view .LVU533
 1616 0004 0B4A     		ldr	r2, .L123
 1617 0006 52F83320 		ldr	r2, [r2, r3, lsl #3]
 1618              		.loc 1 1721 8 view .LVU534
 1619 000a 4AB1     		cbz	r2, .L122
1722:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1723:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->NbrEntries =           1u;                  /* This is the first entry         
1724:rtos/uCOS-III/Source/os_core.c **** #endif
1725:rtos/uCOS-III/Source/os_core.c ****         p_tcb->NextPtr         = (OS_TCB *)0;                   /* No other OS_TCBs in the list    
1726:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr         = (OS_TCB *)0;
1727:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr    =  p_tcb;                        /* Both list pointers point to this
1728:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr    =  p_tcb;
1729:rtos/uCOS-III/Source/os_core.c ****     } else {                                                    /* CASE 1: Insert BEFORE the curren
1730:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1731:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->NbrEntries++;                               /* One more OS_TCB in the list     
1732:rtos/uCOS-III/Source/os_core.c **** #endif
1733:rtos/uCOS-III/Source/os_core.c ****         p_tcb->NextPtr         =  p_rdy_list->HeadPtr;          /* Adjust new OS_TCBs links        
 1620              		.loc 1 1733 9 is_stmt 1 view .LVU535
 1621              		.loc 1 1733 32 is_stmt 0 view .LVU536
 1622 000c C260     		str	r2, [r0, #12]
1734:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr         = (OS_TCB *)0;
 1623              		.loc 1 1734 9 is_stmt 1 view .LVU537
 1624              		.loc 1 1734 32 is_stmt 0 view .LVU538
 1625 000e 0022     		movs	r2, #0
 1626 0010 0261     		str	r2, [r0, #16]
1735:rtos/uCOS-III/Source/os_core.c ****         p_tcb2                 =  p_rdy_list->HeadPtr;          /* Adjust old head of list's links 
 1627              		.loc 1 1735 9 is_stmt 1 view .LVU539
 1628              		.loc 1 1735 32 is_stmt 0 view .LVU540
 1629 0012 084A     		ldr	r2, .L123
 1630 0014 52F83310 		ldr	r1, [r2, r3, lsl #3]
 1631              	.LVL108:
1736:rtos/uCOS-III/Source/os_core.c ****         p_tcb2->PrevPtr        =  p_tcb;
 1632              		.loc 1 1736 9 is_stmt 1 view .LVU541
 1633              		.loc 1 1736 32 is_stmt 0 view .LVU542
 1634 0018 0861     		str	r0, [r1, #16]
1737:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr    =  p_tcb;
 1635              		.loc 1 1737 9 is_stmt 1 view .LVU543
 1636              		.loc 1 1737 32 is_stmt 0 view .LVU544
 1637 001a 42F83300 		str	r0, [r2, r3, lsl #3]
1738:rtos/uCOS-III/Source/os_core.c ****     }
1739:rtos/uCOS-III/Source/os_core.c **** }
ARM GAS  /tmp/ccwSGvvz.s 			page 67


 1638              		.loc 1 1739 1 view .LVU545
 1639 001e 7047     		bx	lr
 1640              	.LVL109:
 1641              	.L122:
1725:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr         = (OS_TCB *)0;
 1642              		.loc 1 1725 9 is_stmt 1 view .LVU546
1725:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr         = (OS_TCB *)0;
 1643              		.loc 1 1725 32 is_stmt 0 view .LVU547
 1644 0020 C260     		str	r2, [r0, #12]
1726:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr    =  p_tcb;                        /* Both list pointers point to this
 1645              		.loc 1 1726 9 is_stmt 1 view .LVU548
1726:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr    =  p_tcb;                        /* Both list pointers point to this
 1646              		.loc 1 1726 32 is_stmt 0 view .LVU549
 1647 0022 0261     		str	r2, [r0, #16]
1727:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr    =  p_tcb;
 1648              		.loc 1 1727 9 is_stmt 1 view .LVU550
1727:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr    =  p_tcb;
 1649              		.loc 1 1727 32 is_stmt 0 view .LVU551
 1650 0024 034A     		ldr	r2, .L123
 1651 0026 42F83300 		str	r0, [r2, r3, lsl #3]
1728:rtos/uCOS-III/Source/os_core.c ****     } else {                                                    /* CASE 1: Insert BEFORE the curren
 1652              		.loc 1 1728 9 is_stmt 1 view .LVU552
1728:rtos/uCOS-III/Source/os_core.c ****     } else {                                                    /* CASE 1: Insert BEFORE the curren
 1653              		.loc 1 1728 32 is_stmt 0 view .LVU553
 1654 002a 02EBC303 		add	r3, r2, r3, lsl #3
 1655              	.LVL110:
1728:rtos/uCOS-III/Source/os_core.c ****     } else {                                                    /* CASE 1: Insert BEFORE the curren
 1656              		.loc 1 1728 32 view .LVU554
 1657 002e 5860     		str	r0, [r3, #4]
 1658 0030 7047     		bx	lr
 1659              	.L124:
 1660 0032 00BF     		.align	2
 1661              	.L123:
 1662 0034 00000000 		.word	OSRdyList
 1663              		.cfi_endproc
 1664              	.LFE21:
 1666              		.section	.text.OS_RdyListInsertTail,"ax",%progbits
 1667              		.align	1
 1668              		.global	OS_RdyListInsertTail
 1669              		.syntax unified
 1670              		.thumb
 1671              		.thumb_func
 1672              		.fpu fpv4-sp-d16
 1674              	OS_RdyListInsertTail:
 1675              	.LVL111:
 1676              	.LFB22:
1740:rtos/uCOS-III/Source/os_core.c **** 
1741:rtos/uCOS-III/Source/os_core.c **** 
1742:rtos/uCOS-III/Source/os_core.c **** /*
1743:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1744:rtos/uCOS-III/Source/os_core.c **** *                                           INSERT TCB AT THE END OF A LIST
1745:rtos/uCOS-III/Source/os_core.c **** *
1746:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to place an OS_TCB at the end of a linked list as follows:
1747:rtos/uCOS-III/Source/os_core.c **** *
1748:rtos/uCOS-III/Source/os_core.c **** *              CASE 0: Insert in an empty list.
1749:rtos/uCOS-III/Source/os_core.c **** *
1750:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
ARM GAS  /tmp/ccwSGvvz.s 			page 68


1751:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1752:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |-> 0
1753:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1754:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |-> 0
1755:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1756:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=0 |
1757:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1758:rtos/uCOS-III/Source/os_core.c **** *
1759:rtos/uCOS-III/Source/os_core.c **** *
1760:rtos/uCOS-III/Source/os_core.c **** *
1761:rtos/uCOS-III/Source/os_core.c **** *              CASE 1: Insert AFTER the current tail of list
1762:rtos/uCOS-III/Source/os_core.c **** *
1763:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1764:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB
1765:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |--+---> +------------+
1766:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
1767:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |--/     +------------+
1768:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
1769:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=1 |        +------------+
1770:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        :            :
1771:rtos/uCOS-III/Source/os_core.c **** *                                             :            :
1772:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+
1773:rtos/uCOS-III/Source/os_core.c **** *
1774:rtos/uCOS-III/Source/os_core.c **** *
1775:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1776:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1777:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
1778:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
1779:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
1780:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
1781:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
1782:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
1783:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1784:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1785:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1786:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1787:rtos/uCOS-III/Source/os_core.c **** *
1788:rtos/uCOS-III/Source/os_core.c **** *
1789:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb     is the OS_TCB to insert in the list
1790:rtos/uCOS-III/Source/os_core.c **** *              -----
1791:rtos/uCOS-III/Source/os_core.c **** *
1792:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1793:rtos/uCOS-III/Source/os_core.c **** *
1794:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1795:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1796:rtos/uCOS-III/Source/os_core.c **** */
1797:rtos/uCOS-III/Source/os_core.c **** 
1798:rtos/uCOS-III/Source/os_core.c **** void  OS_RdyListInsertTail (OS_TCB  *p_tcb)
1799:rtos/uCOS-III/Source/os_core.c **** {
 1677              		.loc 1 1799 1 is_stmt 1 view -0
 1678              		.cfi_startproc
 1679              		@ args = 0, pretend = 0, frame = 0
 1680              		@ frame_needed = 0, uses_anonymous_args = 0
 1681              		@ link register save eliminated.
1800:rtos/uCOS-III/Source/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 1682              		.loc 1 1800 5 view .LVU556
1801:rtos/uCOS-III/Source/os_core.c ****     OS_TCB       *p_tcb2;
ARM GAS  /tmp/ccwSGvvz.s 			page 69


 1683              		.loc 1 1801 5 view .LVU557
1802:rtos/uCOS-III/Source/os_core.c **** 
1803:rtos/uCOS-III/Source/os_core.c **** 
1804:rtos/uCOS-III/Source/os_core.c **** 
1805:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[p_tcb->Prio];
 1684              		.loc 1 1805 5 view .LVU558
 1685              		.loc 1 1805 34 is_stmt 0 view .LVU559
 1686 0000 90F82F20 		ldrb	r2, [r0, #47]	@ zero_extendqisi2
 1687              	.LVL112:
1806:rtos/uCOS-III/Source/os_core.c ****     if (p_rdy_list->HeadPtr == (OS_TCB *)0) {                   /* CASE 0: Insert when there are no
 1688              		.loc 1 1806 5 is_stmt 1 view .LVU560
 1689              		.loc 1 1806 19 is_stmt 0 view .LVU561
 1690 0004 0B4B     		ldr	r3, .L129
 1691 0006 53F83230 		ldr	r3, [r3, r2, lsl #3]
 1692              		.loc 1 1806 8 view .LVU562
 1693 000a 4BB1     		cbz	r3, .L128
1807:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1808:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->NbrEntries  =           1u;                 /* This is the first entry         
1809:rtos/uCOS-III/Source/os_core.c **** #endif
1810:rtos/uCOS-III/Source/os_core.c ****         p_tcb->NextPtr          = (OS_TCB *)0;                  /* No other OS_TCBs in the list    
1811:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr          = (OS_TCB *)0;
1812:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr     =  p_tcb;                       /* Both list pointers point to this
1813:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr     =  p_tcb;
1814:rtos/uCOS-III/Source/os_core.c ****     } else {                                                    /* CASE 1: Insert AFTER the current
1815:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1816:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->NbrEntries++;                               /* One more OS_TCB in the list     
1817:rtos/uCOS-III/Source/os_core.c **** #endif
1818:rtos/uCOS-III/Source/os_core.c ****         p_tcb->NextPtr          = (OS_TCB *)0;                  /* Adjust new OS_TCBs links        
 1694              		.loc 1 1818 9 is_stmt 1 view .LVU563
 1695              		.loc 1 1818 33 is_stmt 0 view .LVU564
 1696 000c 0023     		movs	r3, #0
 1697 000e C360     		str	r3, [r0, #12]
1819:rtos/uCOS-III/Source/os_core.c ****         p_tcb2                  =  p_rdy_list->TailPtr;
 1698              		.loc 1 1819 9 is_stmt 1 view .LVU565
 1699              		.loc 1 1819 33 is_stmt 0 view .LVU566
 1700 0010 084B     		ldr	r3, .L129
 1701 0012 03EBC203 		add	r3, r3, r2, lsl #3
 1702              	.LVL113:
 1703              		.loc 1 1819 33 view .LVU567
 1704 0016 5A68     		ldr	r2, [r3, #4]
 1705              	.LVL114:
1820:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr          =  p_tcb2;
 1706              		.loc 1 1820 9 is_stmt 1 view .LVU568
 1707              		.loc 1 1820 33 is_stmt 0 view .LVU569
 1708 0018 0261     		str	r2, [r0, #16]
1821:rtos/uCOS-III/Source/os_core.c ****         p_tcb2->NextPtr         =  p_tcb;                       /* Adjust old tail of list's links 
 1709              		.loc 1 1821 9 is_stmt 1 view .LVU570
 1710              		.loc 1 1821 33 is_stmt 0 view .LVU571
 1711 001a D060     		str	r0, [r2, #12]
1822:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr     =  p_tcb;
 1712              		.loc 1 1822 9 is_stmt 1 view .LVU572
 1713              		.loc 1 1822 33 is_stmt 0 view .LVU573
 1714 001c 5860     		str	r0, [r3, #4]
1823:rtos/uCOS-III/Source/os_core.c ****     }
1824:rtos/uCOS-III/Source/os_core.c **** }
 1715              		.loc 1 1824 1 view .LVU574
 1716 001e 7047     		bx	lr
ARM GAS  /tmp/ccwSGvvz.s 			page 70


 1717              	.LVL115:
 1718              	.L128:
1810:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr          = (OS_TCB *)0;
 1719              		.loc 1 1810 9 is_stmt 1 view .LVU575
1810:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PrevPtr          = (OS_TCB *)0;
 1720              		.loc 1 1810 33 is_stmt 0 view .LVU576
 1721 0020 C360     		str	r3, [r0, #12]
1811:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr     =  p_tcb;                       /* Both list pointers point to this
 1722              		.loc 1 1811 9 is_stmt 1 view .LVU577
1811:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->HeadPtr     =  p_tcb;                       /* Both list pointers point to this
 1723              		.loc 1 1811 33 is_stmt 0 view .LVU578
 1724 0022 0361     		str	r3, [r0, #16]
1812:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr     =  p_tcb;
 1725              		.loc 1 1812 9 is_stmt 1 view .LVU579
1812:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->TailPtr     =  p_tcb;
 1726              		.loc 1 1812 33 is_stmt 0 view .LVU580
 1727 0024 034B     		ldr	r3, .L129
 1728 0026 43F83200 		str	r0, [r3, r2, lsl #3]
1813:rtos/uCOS-III/Source/os_core.c ****     } else {                                                    /* CASE 1: Insert AFTER the current
 1729              		.loc 1 1813 9 is_stmt 1 view .LVU581
1813:rtos/uCOS-III/Source/os_core.c ****     } else {                                                    /* CASE 1: Insert AFTER the current
 1730              		.loc 1 1813 33 is_stmt 0 view .LVU582
 1731 002a 03EBC203 		add	r3, r3, r2, lsl #3
 1732 002e 5860     		str	r0, [r3, #4]
 1733 0030 7047     		bx	lr
 1734              	.L130:
 1735 0032 00BF     		.align	2
 1736              	.L129:
 1737 0034 00000000 		.word	OSRdyList
 1738              		.cfi_endproc
 1739              	.LFE22:
 1741              		.section	.text.OS_RdyListInsert,"ax",%progbits
 1742              		.align	1
 1743              		.global	OS_RdyListInsert
 1744              		.syntax unified
 1745              		.thumb
 1746              		.thumb_func
 1747              		.fpu fpv4-sp-d16
 1749              	OS_RdyListInsert:
 1750              	.LVL116:
 1751              	.LFB20:
1645:rtos/uCOS-III/Source/os_core.c ****     OS_PrioInsert(p_tcb->Prio);
 1752              		.loc 1 1645 1 is_stmt 1 view -0
 1753              		.cfi_startproc
 1754              		@ args = 0, pretend = 0, frame = 0
 1755              		@ frame_needed = 0, uses_anonymous_args = 0
1645:rtos/uCOS-III/Source/os_core.c ****     OS_PrioInsert(p_tcb->Prio);
 1756              		.loc 1 1645 1 is_stmt 0 view .LVU584
 1757 0000 10B5     		push	{r4, lr}
 1758              	.LCFI15:
 1759              		.cfi_def_cfa_offset 8
 1760              		.cfi_offset 4, -8
 1761              		.cfi_offset 14, -4
 1762 0002 0446     		mov	r4, r0
1646:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->Prio == OSPrioCur) {                             /* Are we readying a task at the sa
 1763              		.loc 1 1646 5 is_stmt 1 view .LVU585
 1764 0004 90F82F00 		ldrb	r0, [r0, #47]	@ zero_extendqisi2
ARM GAS  /tmp/ccwSGvvz.s 			page 71


 1765              	.LVL117:
1646:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->Prio == OSPrioCur) {                             /* Are we readying a task at the sa
 1766              		.loc 1 1646 5 is_stmt 0 view .LVU586
 1767 0008 FFF7FEFF 		bl	OS_PrioInsert
 1768              	.LVL118:
1647:rtos/uCOS-III/Source/os_core.c ****         OS_RdyListInsertTail(p_tcb);                            /* Yes, insert readied task at the 
 1769              		.loc 1 1647 5 is_stmt 1 view .LVU587
1647:rtos/uCOS-III/Source/os_core.c ****         OS_RdyListInsertTail(p_tcb);                            /* Yes, insert readied task at the 
 1770              		.loc 1 1647 14 is_stmt 0 view .LVU588
 1771 000c 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
1647:rtos/uCOS-III/Source/os_core.c ****         OS_RdyListInsertTail(p_tcb);                            /* Yes, insert readied task at the 
 1772              		.loc 1 1647 21 view .LVU589
 1773 0010 054B     		ldr	r3, .L136
 1774 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1647:rtos/uCOS-III/Source/os_core.c ****         OS_RdyListInsertTail(p_tcb);                            /* Yes, insert readied task at the 
 1775              		.loc 1 1647 8 view .LVU590
 1776 0014 9A42     		cmp	r2, r3
 1777 0016 03D0     		beq	.L135
1650:rtos/uCOS-III/Source/os_core.c ****     }
 1778              		.loc 1 1650 9 is_stmt 1 view .LVU591
 1779 0018 2046     		mov	r0, r4
 1780 001a FFF7FEFF 		bl	OS_RdyListInsertHead
 1781              	.LVL119:
1653:rtos/uCOS-III/Source/os_core.c **** }
 1782              		.loc 1 1653 31 view .LVU592
 1783              	.L131:
1654:rtos/uCOS-III/Source/os_core.c **** 
 1784              		.loc 1 1654 1 is_stmt 0 view .LVU593
 1785 001e 10BD     		pop	{r4, pc}
 1786              	.LVL120:
 1787              	.L135:
1648:rtos/uCOS-III/Source/os_core.c ****     } else {
 1788              		.loc 1 1648 9 is_stmt 1 view .LVU594
 1789 0020 2046     		mov	r0, r4
 1790 0022 FFF7FEFF 		bl	OS_RdyListInsertTail
 1791              	.LVL121:
 1792 0026 FAE7     		b	.L131
 1793              	.L137:
 1794              		.align	2
 1795              	.L136:
 1796 0028 00000000 		.word	OSPrioCur
 1797              		.cfi_endproc
 1798              	.LFE20:
 1800              		.section	.text.OS_PendAbort,"ax",%progbits
 1801              		.align	1
 1802              		.global	OS_PendAbort
 1803              		.syntax unified
 1804              		.thumb
 1805              		.thumb_func
 1806              		.fpu fpv4-sp-d16
 1808              	OS_PendAbort:
 1809              	.LVL122:
 1810              	.LFB13:
1068:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN == 0u)
 1811              		.loc 1 1068 1 view -0
 1812              		.cfi_startproc
 1813              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccwSGvvz.s 			page 72


 1814              		@ frame_needed = 0, uses_anonymous_args = 0
1068:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN == 0u)
 1815              		.loc 1 1068 1 is_stmt 0 view .LVU596
 1816 0000 38B5     		push	{r3, r4, r5, lr}
 1817              	.LCFI16:
 1818              		.cfi_def_cfa_offset 16
 1819              		.cfi_offset 3, -16
 1820              		.cfi_offset 4, -12
 1821              		.cfi_offset 5, -8
 1822              		.cfi_offset 14, -4
 1823 0002 0446     		mov	r4, r0
 1824 0004 1546     		mov	r5, r2
1070:rtos/uCOS-III/Source/os_core.c **** #endif
 1825              		.loc 1 1070 5 is_stmt 1 view .LVU597
1073:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND:
 1826              		.loc 1 1073 5 view .LVU598
1073:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND:
 1827              		.loc 1 1073 18 is_stmt 0 view .LVU599
 1828 0006 90F82E30 		ldrb	r3, [r0, #46]	@ zero_extendqisi2
1073:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND:
 1829              		.loc 1 1073 5 view .LVU600
 1830 000a 032B     		cmp	r3, #3
 1831 000c 16D9     		bls	.L147
 1832 000e 063B     		subs	r3, r3, #6
 1833 0010 DBB2     		uxtb	r3, r3
 1834 0012 012B     		cmp	r3, #1
 1835 0014 14D8     		bhi	.L138
1099:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize    =         0u;
 1836              		.loc 1 1099 14 is_stmt 1 view .LVU601
1099:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize    =         0u;
 1837              		.loc 1 1099 32 is_stmt 0 view .LVU602
 1838 0016 0023     		movs	r3, #0
 1839 0018 4365     		str	r3, [r0, #84]
1100:rtos/uCOS-III/Source/os_core.c **** #endif
 1840              		.loc 1 1100 14 is_stmt 1 view .LVU603
1100:rtos/uCOS-III/Source/os_core.c **** #endif
 1841              		.loc 1 1100 32 is_stmt 0 view .LVU604
 1842 001a A0F85830 		strh	r3, [r0, #88]	@ movhi
1105:rtos/uCOS-III/Source/os_core.c **** 
 1843              		.loc 1 1105 14 is_stmt 1 view .LVU605
 1844 001e FFF7FEFF 		bl	OS_PendListRemove
 1845              	.LVL123:
1108:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
 1846              		.loc 1 1108 14 view .LVU606
1108:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
 1847              		.loc 1 1108 23 is_stmt 0 view .LVU607
 1848 0022 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
1108:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
 1849              		.loc 1 1108 17 view .LVU608
 1850 0026 072B     		cmp	r3, #7
 1851 0028 24D0     		beq	.L148
 1852              	.L144:
1112:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = reason;                        /* Indicate how the task became rea
 1853              		.loc 1 1112 14 is_stmt 1 view .LVU609
1112:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = reason;                        /* Indicate how the task became rea
 1854              		.loc 1 1112 32 is_stmt 0 view .LVU610
 1855 002a 0423     		movs	r3, #4
ARM GAS  /tmp/ccwSGvvz.s 			page 73


 1856 002c 84F82E30 		strb	r3, [r4, #46]
1113:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 1857              		.loc 1 1113 14 is_stmt 1 view .LVU611
1113:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 1858              		.loc 1 1113 32 is_stmt 0 view .LVU612
 1859 0030 84F82D50 		strb	r5, [r4, #45]
1114:rtos/uCOS-III/Source/os_core.c ****              break;
 1860              		.loc 1 1114 14 is_stmt 1 view .LVU613
1114:rtos/uCOS-III/Source/os_core.c ****              break;
 1861              		.loc 1 1114 32 is_stmt 0 view .LVU614
 1862 0034 0023     		movs	r3, #0
 1863 0036 84F82C30 		strb	r3, [r4, #44]
1115:rtos/uCOS-III/Source/os_core.c **** 
 1864              		.loc 1 1115 14 is_stmt 1 view .LVU615
1125:rtos/uCOS-III/Source/os_core.c **** 
 1865              		.loc 1 1125 1 is_stmt 0 view .LVU616
 1866 003a 01E0     		b	.L138
 1867              	.LVL124:
 1868              	.L147:
1073:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_PEND:
 1869              		.loc 1 1073 5 view .LVU617
 1870 003c 022B     		cmp	r3, #2
 1871 003e 00D2     		bcs	.L149
 1872              	.LVL125:
 1873              	.L138:
1125:rtos/uCOS-III/Source/os_core.c **** 
 1874              		.loc 1 1125 1 view .LVU618
 1875 0040 38BD     		pop	{r3, r4, r5, pc}
 1876              	.LVL126:
 1877              	.L149:
1077:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize    =         0u;
 1878              		.loc 1 1077 14 is_stmt 1 view .LVU619
1077:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize    =         0u;
 1879              		.loc 1 1077 32 is_stmt 0 view .LVU620
 1880 0042 0023     		movs	r3, #0
 1881 0044 4365     		str	r3, [r0, #84]
1078:rtos/uCOS-III/Source/os_core.c **** #endif
 1882              		.loc 1 1078 14 is_stmt 1 view .LVU621
1078:rtos/uCOS-III/Source/os_core.c **** #endif
 1883              		.loc 1 1078 32 is_stmt 0 view .LVU622
 1884 0046 A0F85830 		strh	r3, [r0, #88]	@ movhi
1083:rtos/uCOS-III/Source/os_core.c **** 
 1885              		.loc 1 1083 14 is_stmt 1 view .LVU623
 1886 004a FFF7FEFF 		bl	OS_PendListRemove
 1887              	.LVL127:
1086:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
 1888              		.loc 1 1086 14 view .LVU624
1086:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
 1889              		.loc 1 1086 23 is_stmt 0 view .LVU625
 1890 004e 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
1086:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel the timeout              
 1891              		.loc 1 1086 17 view .LVU626
 1892 0052 032B     		cmp	r3, #3
 1893 0054 0AD0     		beq	.L150
 1894              	.L143:
1090:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_RDY;             /* Task will be ready              
 1895              		.loc 1 1090 14 is_stmt 1 view .LVU627
ARM GAS  /tmp/ccwSGvvz.s 			page 74


 1896 0056 2046     		mov	r0, r4
 1897 0058 FFF7FEFF 		bl	OS_RdyListInsert
 1898              	.LVL128:
1091:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = reason;                        /* Indicate how the task became rea
 1899              		.loc 1 1091 14 view .LVU628
1091:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = reason;                        /* Indicate how the task became rea
 1900              		.loc 1 1091 32 is_stmt 0 view .LVU629
 1901 005c 0023     		movs	r3, #0
 1902 005e 84F82E30 		strb	r3, [r4, #46]
1092:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 1903              		.loc 1 1092 14 is_stmt 1 view .LVU630
1092:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 1904              		.loc 1 1092 32 is_stmt 0 view .LVU631
 1905 0062 84F82D50 		strb	r5, [r4, #45]
1093:rtos/uCOS-III/Source/os_core.c ****              break;
 1906              		.loc 1 1093 14 is_stmt 1 view .LVU632
1093:rtos/uCOS-III/Source/os_core.c ****              break;
 1907              		.loc 1 1093 32 is_stmt 0 view .LVU633
 1908 0066 84F82C30 		strb	r3, [r4, #44]
1094:rtos/uCOS-III/Source/os_core.c **** 
 1909              		.loc 1 1094 14 is_stmt 1 view .LVU634
 1910 006a E9E7     		b	.L138
 1911              	.L150:
1087:rtos/uCOS-III/Source/os_core.c ****              }
 1912              		.loc 1 1087 18 view .LVU635
 1913 006c 2046     		mov	r0, r4
 1914 006e FFF7FEFF 		bl	OS_TickListRemove
 1915              	.LVL129:
 1916 0072 F0E7     		b	.L143
 1917              	.L148:
1109:rtos/uCOS-III/Source/os_core.c ****              }
 1918              		.loc 1 1109 18 view .LVU636
 1919 0074 2046     		mov	r0, r4
 1920 0076 FFF7FEFF 		bl	OS_TickListRemove
 1921              	.LVL130:
 1922 007a D6E7     		b	.L144
 1923              		.cfi_endproc
 1924              	.LFE13:
 1926              		.section	.text.OS_Post,"ax",%progbits
 1927              		.align	1
 1928              		.global	OS_Post
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1932              		.fpu fpv4-sp-d16
 1934              	OS_Post:
 1935              	.LVL131:
 1936              	.LFB18:
1490:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN == 0u)
 1937              		.loc 1 1490 1 view -0
 1938              		.cfi_startproc
 1939              		@ args = 4, pretend = 0, frame = 0
 1940              		@ frame_needed = 0, uses_anonymous_args = 0
1490:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TS_EN == 0u)
 1941              		.loc 1 1490 1 is_stmt 0 view .LVU638
 1942 0000 10B5     		push	{r4, lr}
 1943              	.LCFI17:
ARM GAS  /tmp/ccwSGvvz.s 			page 75


 1944              		.cfi_def_cfa_offset 8
 1945              		.cfi_offset 4, -8
 1946              		.cfi_offset 14, -4
 1947 0002 0C46     		mov	r4, r1
1492:rtos/uCOS-III/Source/os_core.c **** #endif
 1948              		.loc 1 1492 5 is_stmt 1 view .LVU639
1499:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_RDY:                                 /* Cannot Post a task that is ready
 1949              		.loc 1 1499 5 view .LVU640
1499:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_RDY:                                 /* Cannot Post a task that is ready
 1950              		.loc 1 1499 18 is_stmt 0 view .LVU641
 1951 0004 91F82E10 		ldrb	r1, [r1, #46]	@ zero_extendqisi2
 1952              	.LVL132:
1499:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_RDY:                                 /* Cannot Post a task that is ready
 1953              		.loc 1 1499 5 view .LVU642
 1954 0008 0329     		cmp	r1, #3
 1955 000a 17D9     		bls	.L162
 1956 000c 0639     		subs	r1, r1, #6
 1957 000e C9B2     		uxtb	r1, r1
 1958 0010 0129     		cmp	r1, #1
 1959 0012 15D8     		bhi	.L151
1536:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize = msg_size;                         /* ... assuming posting a message  
 1960              		.loc 1 1536 14 is_stmt 1 view .LVU643
1536:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize = msg_size;                         /* ... assuming posting a message  
 1961              		.loc 1 1536 29 is_stmt 0 view .LVU644
 1962 0014 6265     		str	r2, [r4, #84]
1537:rtos/uCOS-III/Source/os_core.c **** #endif
 1963              		.loc 1 1537 14 is_stmt 1 view .LVU645
1537:rtos/uCOS-III/Source/os_core.c **** #endif
 1964              		.loc 1 1537 29 is_stmt 0 view .LVU646
 1965 0016 A4F85830 		strh	r3, [r4, #88]	@ movhi
1542:rtos/uCOS-III/Source/os_core.c ****                  OS_PendListRemove(p_tcb);                      /* Remove from pend list           
 1966              		.loc 1 1542 14 is_stmt 1 view .LVU647
1542:rtos/uCOS-III/Source/os_core.c ****                  OS_PendListRemove(p_tcb);                      /* Remove from pend list           
 1967              		.loc 1 1542 17 is_stmt 0 view .LVU648
 1968 001a 10B1     		cbz	r0, .L158
1543:rtos/uCOS-III/Source/os_core.c ****              }
 1969              		.loc 1 1543 18 is_stmt 1 view .LVU649
 1970 001c 2046     		mov	r0, r4
 1971              	.LVL133:
1543:rtos/uCOS-III/Source/os_core.c ****              }
 1972              		.loc 1 1543 18 is_stmt 0 view .LVU650
 1973 001e FFF7FEFF 		bl	OS_PendListRemove
 1974              	.LVL134:
 1975              	.L158:
1550:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel any timeout              
 1976              		.loc 1 1550 14 is_stmt 1 view .LVU651
1550:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel any timeout              
 1977              		.loc 1 1550 23 is_stmt 0 view .LVU652
 1978 0022 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
1550:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Cancel any timeout              
 1979              		.loc 1 1550 17 view .LVU653
 1980 0026 072B     		cmp	r3, #7
 1981 0028 25D0     		beq	.L163
 1982              	.L159:
1554:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;             /* Clear pend status               
 1983              		.loc 1 1554 14 is_stmt 1 view .LVU654
1554:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;             /* Clear pend status               
ARM GAS  /tmp/ccwSGvvz.s 			page 76


 1984              		.loc 1 1554 32 is_stmt 0 view .LVU655
 1985 002a 0423     		movs	r3, #4
 1986 002c 84F82E30 		strb	r3, [r4, #46]
1555:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 1987              		.loc 1 1555 14 is_stmt 1 view .LVU656
1555:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 1988              		.loc 1 1555 32 is_stmt 0 view .LVU657
 1989 0030 0023     		movs	r3, #0
 1990 0032 84F82D30 		strb	r3, [r4, #45]
1556:rtos/uCOS-III/Source/os_core.c ****              break;
 1991              		.loc 1 1556 14 is_stmt 1 view .LVU658
1556:rtos/uCOS-III/Source/os_core.c ****              break;
 1992              		.loc 1 1556 32 is_stmt 0 view .LVU659
 1993 0036 84F82C30 		strb	r3, [r4, #44]
1557:rtos/uCOS-III/Source/os_core.c **** 
 1994              		.loc 1 1557 14 is_stmt 1 view .LVU660
1563:rtos/uCOS-III/Source/os_core.c **** 
 1995              		.loc 1 1563 1 is_stmt 0 view .LVU661
 1996 003a 01E0     		b	.L151
 1997              	.LVL135:
 1998              	.L162:
1499:rtos/uCOS-III/Source/os_core.c ****         case OS_TASK_STATE_RDY:                                 /* Cannot Post a task that is ready
 1999              		.loc 1 1499 5 view .LVU662
 2000 003c 0229     		cmp	r1, #2
 2001 003e 00D2     		bcs	.L164
 2002              	.LVL136:
 2003              	.L151:
1563:rtos/uCOS-III/Source/os_core.c **** 
 2004              		.loc 1 1563 1 view .LVU663
 2005 0040 10BD     		pop	{r4, pc}
 2006              	.LVL137:
 2007              	.L164:
1509:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize = msg_size;                         /* ... assuming posting a message  
 2008              		.loc 1 1509 14 is_stmt 1 view .LVU664
1509:rtos/uCOS-III/Source/os_core.c ****              p_tcb->MsgSize = msg_size;                         /* ... assuming posting a message  
 2009              		.loc 1 1509 29 is_stmt 0 view .LVU665
 2010 0042 6265     		str	r2, [r4, #84]
1510:rtos/uCOS-III/Source/os_core.c **** #endif
 2011              		.loc 1 1510 14 is_stmt 1 view .LVU666
1510:rtos/uCOS-III/Source/os_core.c **** #endif
 2012              		.loc 1 1510 29 is_stmt 0 view .LVU667
 2013 0044 A4F85830 		strh	r3, [r4, #88]	@ movhi
1515:rtos/uCOS-III/Source/os_core.c ****                  OS_PendListRemove(p_tcb);                      /* Remove task from pend list      
 2014              		.loc 1 1515 14 is_stmt 1 view .LVU668
1515:rtos/uCOS-III/Source/os_core.c ****                  OS_PendListRemove(p_tcb);                      /* Remove task from pend list      
 2015              		.loc 1 1515 17 is_stmt 0 view .LVU669
 2016 0048 10B1     		cbz	r0, .L156
1516:rtos/uCOS-III/Source/os_core.c ****              }
 2017              		.loc 1 1516 18 is_stmt 1 view .LVU670
 2018 004a 2046     		mov	r0, r4
 2019              	.LVL138:
1516:rtos/uCOS-III/Source/os_core.c ****              }
 2020              		.loc 1 1516 18 is_stmt 0 view .LVU671
 2021 004c FFF7FEFF 		bl	OS_PendListRemove
 2022              	.LVL139:
 2023              	.L156:
1523:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Remove from tick list           
ARM GAS  /tmp/ccwSGvvz.s 			page 77


 2024              		.loc 1 1523 14 is_stmt 1 view .LVU672
1523:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Remove from tick list           
 2025              		.loc 1 1523 23 is_stmt 0 view .LVU673
 2026 0050 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
1523:rtos/uCOS-III/Source/os_core.c ****                  OS_TickListRemove(p_tcb);                      /* Remove from tick list           
 2027              		.loc 1 1523 17 view .LVU674
 2028 0054 032B     		cmp	r3, #3
 2029 0056 0AD0     		beq	.L165
 2030              	.L157:
1527:rtos/uCOS-III/Source/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_RDY;
 2031              		.loc 1 1527 14 is_stmt 1 view .LVU675
 2032 0058 2046     		mov	r0, r4
 2033 005a FFF7FEFF 		bl	OS_RdyListInsert
 2034              	.LVL140:
1528:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;             /* Clear pend status               
 2035              		.loc 1 1528 14 view .LVU676
1528:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;             /* Clear pend status               
 2036              		.loc 1 1528 32 is_stmt 0 view .LVU677
 2037 005e 0023     		movs	r3, #0
 2038 0060 84F82E30 		strb	r3, [r4, #46]
1529:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 2039              		.loc 1 1529 14 is_stmt 1 view .LVU678
1529:rtos/uCOS-III/Source/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;       /* Indicate no longer pending      
 2040              		.loc 1 1529 32 is_stmt 0 view .LVU679
 2041 0064 84F82D30 		strb	r3, [r4, #45]
1530:rtos/uCOS-III/Source/os_core.c ****              break;
 2042              		.loc 1 1530 14 is_stmt 1 view .LVU680
1530:rtos/uCOS-III/Source/os_core.c ****              break;
 2043              		.loc 1 1530 32 is_stmt 0 view .LVU681
 2044 0068 84F82C30 		strb	r3, [r4, #44]
1531:rtos/uCOS-III/Source/os_core.c **** 
 2045              		.loc 1 1531 14 is_stmt 1 view .LVU682
 2046 006c E8E7     		b	.L151
 2047              	.L165:
1524:rtos/uCOS-III/Source/os_core.c ****              }
 2048              		.loc 1 1524 18 view .LVU683
 2049 006e 2046     		mov	r0, r4
 2050 0070 FFF7FEFF 		bl	OS_TickListRemove
 2051              	.LVL141:
 2052 0074 F0E7     		b	.L157
 2053              	.L163:
1551:rtos/uCOS-III/Source/os_core.c ****              }
 2054              		.loc 1 1551 18 view .LVU684
 2055 0076 2046     		mov	r0, r4
 2056 0078 FFF7FEFF 		bl	OS_TickListRemove
 2057              	.LVL142:
 2058 007c D5E7     		b	.L159
 2059              		.cfi_endproc
 2060              	.LFE18:
 2062              		.section	.text.OS_RdyListMoveHeadToTail,"ax",%progbits
 2063              		.align	1
 2064              		.global	OS_RdyListMoveHeadToTail
 2065              		.syntax unified
 2066              		.thumb
 2067              		.thumb_func
 2068              		.fpu fpv4-sp-d16
 2070              	OS_RdyListMoveHeadToTail:
ARM GAS  /tmp/ccwSGvvz.s 			page 78


 2071              	.LVL143:
 2072              	.LFB23:
1825:rtos/uCOS-III/Source/os_core.c **** 
1826:rtos/uCOS-III/Source/os_core.c **** 
1827:rtos/uCOS-III/Source/os_core.c **** /*
1828:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1829:rtos/uCOS-III/Source/os_core.c **** *                                                MOVE TCB AT HEAD TO TAIL
1830:rtos/uCOS-III/Source/os_core.c **** *
1831:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to move the current head of a list to the tail of the list.
1832:rtos/uCOS-III/Source/os_core.c **** *
1833:rtos/uCOS-III/Source/os_core.c **** *
1834:rtos/uCOS-III/Source/os_core.c **** *              CASE 0: TCB list is empty, nothing to do.
1835:rtos/uCOS-III/Source/os_core.c **** *
1836:rtos/uCOS-III/Source/os_core.c **** *              CASE 1: Only 1 OS_TCB  in the list, nothing to do.
1837:rtos/uCOS-III/Source/os_core.c **** *
1838:rtos/uCOS-III/Source/os_core.c **** *              CASE 2: Only 2 OS_TCBs in the list.
1839:rtos/uCOS-III/Source/os_core.c **** *
1840:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1841:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1842:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |--------------------------+
1843:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB          |     OS_TCB
1844:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |------> +------------+    +-> +------------+
1845:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        | NextPtr    |------> | NextPtr    |->0
1846:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=2 |        +------------+        +------------+
1847:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    | <------| PrevPtr    |
1848:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+        +------------+
1849:rtos/uCOS-III/Source/os_core.c **** *                                             :            :        :            :
1850:rtos/uCOS-III/Source/os_core.c **** *                                             :            :        :            :
1851:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+        +------------+
1852:rtos/uCOS-III/Source/os_core.c **** *
1853:rtos/uCOS-III/Source/os_core.c **** *
1854:rtos/uCOS-III/Source/os_core.c **** *              CASE N: More than 2 OS_TCBs in the list.
1855:rtos/uCOS-III/Source/os_core.c **** *
1856:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1857:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1858:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
1859:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
1860:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
1861:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
1862:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
1863:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
1864:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1865:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1866:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1867:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1868:rtos/uCOS-III/Source/os_core.c **** *
1869:rtos/uCOS-III/Source/os_core.c **** *
1870:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_rdy_list    is a pointer to the OS_RDY_LIST where the OS_TCB will be inserted
1871:rtos/uCOS-III/Source/os_core.c **** *              ------
1872:rtos/uCOS-III/Source/os_core.c **** *
1873:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
1874:rtos/uCOS-III/Source/os_core.c **** *
1875:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1876:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1877:rtos/uCOS-III/Source/os_core.c **** */
1878:rtos/uCOS-III/Source/os_core.c **** 
1879:rtos/uCOS-III/Source/os_core.c **** void  OS_RdyListMoveHeadToTail (OS_RDY_LIST  *p_rdy_list)
ARM GAS  /tmp/ccwSGvvz.s 			page 79


1880:rtos/uCOS-III/Source/os_core.c **** {
 2073              		.loc 1 1880 1 view -0
 2074              		.cfi_startproc
 2075              		@ args = 0, pretend = 0, frame = 0
 2076              		@ frame_needed = 0, uses_anonymous_args = 0
 2077              		@ link register save eliminated.
1881:rtos/uCOS-III/Source/os_core.c ****     OS_TCB  *p_tcb1;
 2078              		.loc 1 1881 5 view .LVU686
1882:rtos/uCOS-III/Source/os_core.c ****     OS_TCB  *p_tcb2;
 2079              		.loc 1 1882 5 view .LVU687
1883:rtos/uCOS-III/Source/os_core.c ****     OS_TCB  *p_tcb3;
 2080              		.loc 1 1883 5 view .LVU688
1884:rtos/uCOS-III/Source/os_core.c **** 
1885:rtos/uCOS-III/Source/os_core.c **** 
1886:rtos/uCOS-III/Source/os_core.c ****      if (p_rdy_list->HeadPtr != p_rdy_list->TailPtr) {
 2081              		.loc 1 1886 6 view .LVU689
 2082              		.loc 1 1886 20 is_stmt 0 view .LVU690
 2083 0000 0368     		ldr	r3, [r0]
 2084              		.loc 1 1886 43 view .LVU691
 2085 0002 4268     		ldr	r2, [r0, #4]
 2086              		.loc 1 1886 9 view .LVU692
 2087 0004 9342     		cmp	r3, r2
 2088 0006 15D0     		beq	.L170
1887:rtos/uCOS-III/Source/os_core.c ****          if (p_rdy_list->HeadPtr->NextPtr == p_rdy_list->TailPtr) { /* SWAP the TCBs               
 2089              		.loc 1 1887 10 is_stmt 1 view .LVU693
 2090              		.loc 1 1887 33 is_stmt 0 view .LVU694
 2091 0008 D968     		ldr	r1, [r3, #12]
 2092              		.loc 1 1887 13 view .LVU695
 2093 000a 8A42     		cmp	r2, r1
 2094 000c 0AD0     		beq	.L172
1880:rtos/uCOS-III/Source/os_core.c ****     OS_TCB  *p_tcb1;
 2095              		.loc 1 1880 1 view .LVU696
 2096 000e 10B4     		push	{r4}
 2097              	.LCFI18:
 2098              		.cfi_def_cfa_offset 4
 2099              		.cfi_offset 4, -4
1888:rtos/uCOS-III/Source/os_core.c ****              p_tcb1              =  p_rdy_list->HeadPtr;        /* Point to current head           
1889:rtos/uCOS-III/Source/os_core.c ****              p_tcb2              =  p_rdy_list->TailPtr;        /* Point to current tail           
1890:rtos/uCOS-III/Source/os_core.c ****              p_tcb1->PrevPtr     =  p_tcb2;
1891:rtos/uCOS-III/Source/os_core.c ****              p_tcb1->NextPtr     = (OS_TCB *)0;
1892:rtos/uCOS-III/Source/os_core.c ****              p_tcb2->PrevPtr     = (OS_TCB *)0;
1893:rtos/uCOS-III/Source/os_core.c ****              p_tcb2->NextPtr     =  p_tcb1;
1894:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->HeadPtr =  p_tcb2;
1895:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->TailPtr =  p_tcb1;
1896:rtos/uCOS-III/Source/os_core.c ****          } else {
1897:rtos/uCOS-III/Source/os_core.c ****              p_tcb1              =  p_rdy_list->HeadPtr;        /* Point to current head           
 2100              		.loc 1 1897 14 is_stmt 1 view .LVU697
 2101              	.LVL144:
1898:rtos/uCOS-III/Source/os_core.c ****              p_tcb2              =  p_rdy_list->TailPtr;        /* Point to current tail           
 2102              		.loc 1 1898 14 view .LVU698
1899:rtos/uCOS-III/Source/os_core.c ****              p_tcb3              =  p_tcb1->NextPtr;            /* Point to new list head          
 2103              		.loc 1 1899 14 view .LVU699
1900:rtos/uCOS-III/Source/os_core.c ****              p_tcb3->PrevPtr     = (OS_TCB *)0;                 /* Adjust back    link of new list 
 2104              		.loc 1 1900 14 view .LVU700
 2105              		.loc 1 1900 34 is_stmt 0 view .LVU701
 2106 0010 0024     		movs	r4, #0
 2107 0012 0C61     		str	r4, [r1, #16]
ARM GAS  /tmp/ccwSGvvz.s 			page 80


1901:rtos/uCOS-III/Source/os_core.c ****              p_tcb1->NextPtr     = (OS_TCB *)0;                 /* Adjust forward link of new list 
 2108              		.loc 1 1901 14 is_stmt 1 view .LVU702
 2109              		.loc 1 1901 34 is_stmt 0 view .LVU703
 2110 0014 DC60     		str	r4, [r3, #12]
1902:rtos/uCOS-III/Source/os_core.c ****              p_tcb1->PrevPtr     =  p_tcb2;                     /* Adjust back    link of new list 
 2111              		.loc 1 1902 14 is_stmt 1 view .LVU704
 2112              		.loc 1 1902 34 is_stmt 0 view .LVU705
 2113 0016 1A61     		str	r2, [r3, #16]
1903:rtos/uCOS-III/Source/os_core.c ****              p_tcb2->NextPtr     =  p_tcb1;                     /* Adjust forward link of old list 
 2114              		.loc 1 1903 14 is_stmt 1 view .LVU706
 2115              		.loc 1 1903 34 is_stmt 0 view .LVU707
 2116 0018 D360     		str	r3, [r2, #12]
1904:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->HeadPtr =  p_tcb3;                     /* Adjust new list head and tail po
 2117              		.loc 1 1904 14 is_stmt 1 view .LVU708
 2118              		.loc 1 1904 34 is_stmt 0 view .LVU709
 2119 001a 0160     		str	r1, [r0]
1905:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->TailPtr =  p_tcb1;
 2120              		.loc 1 1905 14 is_stmt 1 view .LVU710
 2121              		.loc 1 1905 34 is_stmt 0 view .LVU711
 2122 001c 4360     		str	r3, [r0, #4]
1906:rtos/uCOS-III/Source/os_core.c ****          }
1907:rtos/uCOS-III/Source/os_core.c ****      }
1908:rtos/uCOS-III/Source/os_core.c **** }
 2123              		.loc 1 1908 1 view .LVU712
 2124 001e 5DF8044B 		ldr	r4, [sp], #4
 2125              	.LCFI19:
 2126              		.cfi_restore 4
 2127              		.cfi_def_cfa_offset 0
 2128 0022 7047     		bx	lr
 2129              	.LVL145:
 2130              	.L172:
1888:rtos/uCOS-III/Source/os_core.c ****              p_tcb2              =  p_rdy_list->TailPtr;        /* Point to current tail           
 2131              		.loc 1 1888 14 is_stmt 1 view .LVU713
1889:rtos/uCOS-III/Source/os_core.c ****              p_tcb1->PrevPtr     =  p_tcb2;
 2132              		.loc 1 1889 14 view .LVU714
1890:rtos/uCOS-III/Source/os_core.c ****              p_tcb1->NextPtr     = (OS_TCB *)0;
 2133              		.loc 1 1890 14 view .LVU715
1890:rtos/uCOS-III/Source/os_core.c ****              p_tcb1->NextPtr     = (OS_TCB *)0;
 2134              		.loc 1 1890 34 is_stmt 0 view .LVU716
 2135 0024 1A61     		str	r2, [r3, #16]
1891:rtos/uCOS-III/Source/os_core.c ****              p_tcb2->PrevPtr     = (OS_TCB *)0;
 2136              		.loc 1 1891 14 is_stmt 1 view .LVU717
1891:rtos/uCOS-III/Source/os_core.c ****              p_tcb2->PrevPtr     = (OS_TCB *)0;
 2137              		.loc 1 1891 34 is_stmt 0 view .LVU718
 2138 0026 0021     		movs	r1, #0
 2139 0028 D960     		str	r1, [r3, #12]
1892:rtos/uCOS-III/Source/os_core.c ****              p_tcb2->NextPtr     =  p_tcb1;
 2140              		.loc 1 1892 14 is_stmt 1 view .LVU719
1892:rtos/uCOS-III/Source/os_core.c ****              p_tcb2->NextPtr     =  p_tcb1;
 2141              		.loc 1 1892 34 is_stmt 0 view .LVU720
 2142 002a 1161     		str	r1, [r2, #16]
1893:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->HeadPtr =  p_tcb2;
 2143              		.loc 1 1893 14 is_stmt 1 view .LVU721
1893:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->HeadPtr =  p_tcb2;
 2144              		.loc 1 1893 34 is_stmt 0 view .LVU722
 2145 002c D360     		str	r3, [r2, #12]
1894:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->TailPtr =  p_tcb1;
ARM GAS  /tmp/ccwSGvvz.s 			page 81


 2146              		.loc 1 1894 14 is_stmt 1 view .LVU723
1894:rtos/uCOS-III/Source/os_core.c ****              p_rdy_list->TailPtr =  p_tcb1;
 2147              		.loc 1 1894 34 is_stmt 0 view .LVU724
 2148 002e 0260     		str	r2, [r0]
1895:rtos/uCOS-III/Source/os_core.c ****          } else {
 2149              		.loc 1 1895 14 is_stmt 1 view .LVU725
1895:rtos/uCOS-III/Source/os_core.c ****          } else {
 2150              		.loc 1 1895 34 is_stmt 0 view .LVU726
 2151 0030 4360     		str	r3, [r0, #4]
 2152 0032 7047     		bx	lr
 2153              	.LVL146:
 2154              	.L170:
1895:rtos/uCOS-III/Source/os_core.c ****          } else {
 2155              		.loc 1 1895 34 view .LVU727
 2156 0034 7047     		bx	lr
 2157              		.cfi_endproc
 2158              	.LFE23:
 2160              		.section	.text.OSSchedRoundRobinYield,"ax",%progbits
 2161              		.align	1
 2162              		.global	OSSchedRoundRobinYield
 2163              		.syntax unified
 2164              		.thumb
 2165              		.thumb_func
 2166              		.fpu fpv4-sp-d16
 2168              	OSSchedRoundRobinYield:
 2169              	.LVL147:
 2170              	.LFB7:
 733:rtos/uCOS-III/Source/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 2171              		.loc 1 733 1 is_stmt 1 view -0
 2172              		.cfi_startproc
 2173              		@ args = 0, pretend = 0, frame = 0
 2174              		@ frame_needed = 0, uses_anonymous_args = 0
 733:rtos/uCOS-III/Source/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 2175              		.loc 1 733 1 is_stmt 0 view .LVU729
 2176 0000 70B5     		push	{r4, r5, r6, lr}
 2177              	.LCFI20:
 2178              		.cfi_def_cfa_offset 16
 2179              		.cfi_offset 4, -16
 2180              		.cfi_offset 5, -12
 2181              		.cfi_offset 6, -8
 2182              		.cfi_offset 14, -4
 2183 0002 0446     		mov	r4, r0
 734:rtos/uCOS-III/Source/os_core.c ****     OS_TCB       *p_tcb;
 2184              		.loc 1 734 5 is_stmt 1 view .LVU730
 735:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 2185              		.loc 1 735 5 view .LVU731
 736:rtos/uCOS-III/Source/os_core.c **** 
 2186              		.loc 1 736 5 view .LVU732
 2187              	.LVL148:
 748:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_YIELD_ISR;
 2188              		.loc 1 748 5 view .LVU733
 748:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_YIELD_ISR;
 2189              		.loc 1 748 25 is_stmt 0 view .LVU734
 2190 0004 1F4B     		ldr	r3, .L185
 2191 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 748:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_YIELD_ISR;
 2192              		.loc 1 748 8 view .LVU735
ARM GAS  /tmp/ccwSGvvz.s 			page 82


 2193 0008 53B9     		cbnz	r3, .L182
 754:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 2194              		.loc 1 754 5 is_stmt 1 view .LVU736
 754:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 2195              		.loc 1 754 31 is_stmt 0 view .LVU737
 2196 000a 1F4B     		ldr	r3, .L185+4
 2197 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 754:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_SCHED_LOCKED;
 2198              		.loc 1 754 8 view .LVU738
 2199 000e 5BB9     		cbnz	r3, .L183
 759:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_DISABLED;
 2200              		.loc 1 759 5 is_stmt 1 view .LVU739
 759:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_DISABLED;
 2201              		.loc 1 759 29 is_stmt 0 view .LVU740
 2202 0010 1E4B     		ldr	r3, .L185+8
 2203 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 759:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_DISABLED;
 2204              		.loc 1 759 8 view .LVU741
 2205 0014 012B     		cmp	r3, #1
 2206 0016 0BD0     		beq	.L177
 760:rtos/uCOS-III/Source/os_core.c ****         return;
 2207              		.loc 1 760 8 is_stmt 1 view .LVU742
 760:rtos/uCOS-III/Source/os_core.c ****         return;
 2208              		.loc 1 760 15 is_stmt 0 view .LVU743
 2209 0018 46F67B13 		movw	r3, #27003
 2210 001c 0380     		strh	r3, [r0]	@ movhi
 761:rtos/uCOS-III/Source/os_core.c ****     }
 2211              		.loc 1 761 9 is_stmt 1 view .LVU744
 2212 001e 02E0     		b	.L173
 2213              	.L182:
 749:rtos/uCOS-III/Source/os_core.c ****         return;
 2214              		.loc 1 749 8 view .LVU745
 749:rtos/uCOS-III/Source/os_core.c ****         return;
 2215              		.loc 1 749 15 is_stmt 0 view .LVU746
 2216 0020 48F2D143 		movw	r3, #34001
 2217 0024 0380     		strh	r3, [r0]	@ movhi
 750:rtos/uCOS-III/Source/os_core.c ****     }
 2218              		.loc 1 750 9 is_stmt 1 view .LVU747
 2219              	.LVL149:
 2220              	.L173:
 784:rtos/uCOS-III/Source/os_core.c **** #endif
 2221              		.loc 1 784 1 is_stmt 0 view .LVU748
 2222 0026 70BD     		pop	{r4, r5, r6, pc}
 2223              	.LVL150:
 2224              	.L183:
 755:rtos/uCOS-III/Source/os_core.c ****         return;
 2225              		.loc 1 755 8 is_stmt 1 view .LVU749
 755:rtos/uCOS-III/Source/os_core.c ****         return;
 2226              		.loc 1 755 15 is_stmt 0 view .LVU750
 2227 0028 46F66353 		movw	r3, #28003
 2228 002c 0380     		strh	r3, [r0]	@ movhi
 756:rtos/uCOS-III/Source/os_core.c ****     }
 2229              		.loc 1 756 9 is_stmt 1 view .LVU751
 2230 002e FAE7     		b	.L173
 2231              	.L177:
 764:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                         /* Can't yield if it's the only tas
 2232              		.loc 1 764 5 view .LVU752
ARM GAS  /tmp/ccwSGvvz.s 			page 83


 764:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                         /* Can't yield if it's the only tas
 2233              		.loc 1 764 5 view .LVU753
 764:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                         /* Can't yield if it's the only tas
 2234              		.loc 1 764 5 view .LVU754
 2235 0030 4020     		movs	r0, #64
 2236              	.LVL151:
 764:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                         /* Can't yield if it's the only tas
 2237              		.loc 1 764 5 is_stmt 0 view .LVU755
 2238 0032 FFF7FEFF 		bl	CPU_SR_Save
 2239              	.LVL152:
 2240 0036 0546     		mov	r5, r0
 2241              	.LVL153:
 764:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                         /* Can't yield if it's the only tas
 2242              		.loc 1 764 5 is_stmt 1 view .LVU756
 764:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                         /* Can't yield if it's the only tas
 2243              		.loc 1 764 5 view .LVU757
 765:rtos/uCOS-III/Source/os_core.c ****     if (p_rdy_list->HeadPtr == p_rdy_list->TailPtr) {
 2244              		.loc 1 765 5 view .LVU758
 765:rtos/uCOS-III/Source/os_core.c ****     if (p_rdy_list->HeadPtr == p_rdy_list->TailPtr) {
 2245              		.loc 1 765 28 is_stmt 0 view .LVU759
 2246 0038 154B     		ldr	r3, .L185+12
 2247 003a 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
 765:rtos/uCOS-III/Source/os_core.c ****     if (p_rdy_list->HeadPtr == p_rdy_list->TailPtr) {
 2248              		.loc 1 765 16 view .LVU760
 2249 003c 154B     		ldr	r3, .L185+16
 2250 003e 03EBC600 		add	r0, r3, r6, lsl #3
 2251              	.LVL154:
 766:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2252              		.loc 1 766 5 is_stmt 1 view .LVU761
 766:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2253              		.loc 1 766 19 is_stmt 0 view .LVU762
 2254 0042 53F83620 		ldr	r2, [r3, r6, lsl #3]
 766:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2255              		.loc 1 766 42 view .LVU763
 2256 0046 4368     		ldr	r3, [r0, #4]
 766:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2257              		.loc 1 766 8 view .LVU764
 2258 0048 9A42     		cmp	r2, r3
 2259 004a 11D0     		beq	.L184
 772:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Point to new OS_TCB at head of t
 2260              		.loc 1 772 5 is_stmt 1 view .LVU765
 2261 004c FFF7FEFF 		bl	OS_RdyListMoveHeadToTail
 2262              	.LVL155:
 773:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuanta == 0u) {                              /* See if we need to use the defaul
 2263              		.loc 1 773 5 view .LVU766
 773:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuanta == 0u) {                              /* See if we need to use the defaul
 2264              		.loc 1 773 11 is_stmt 0 view .LVU767
 2265 0050 104B     		ldr	r3, .L185+16
 2266              	.LVL156:
 773:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuanta == 0u) {                              /* See if we need to use the defaul
 2267              		.loc 1 773 11 view .LVU768
 2268 0052 53F83630 		ldr	r3, [r3, r6, lsl #3]
 2269              	.LVL157:
 774:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 2270              		.loc 1 774 5 is_stmt 1 view .LVU769
 774:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 2271              		.loc 1 774 14 is_stmt 0 view .LVU770
ARM GAS  /tmp/ccwSGvvz.s 			page 84


 2272 0056 DA6C     		ldr	r2, [r3, #76]
 774:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 2273              		.loc 1 774 8 view .LVU771
 2274 0058 8AB9     		cbnz	r2, .L179
 775:rtos/uCOS-III/Source/os_core.c ****     } else {
 2275              		.loc 1 775 9 is_stmt 1 view .LVU772
 775:rtos/uCOS-III/Source/os_core.c ****     } else {
 2276              		.loc 1 775 30 is_stmt 0 view .LVU773
 2277 005a 0F4A     		ldr	r2, .L185+20
 2278 005c 1268     		ldr	r2, [r2]
 2279 005e 1A65     		str	r2, [r3, #80]
 2280              	.L180:
 780:rtos/uCOS-III/Source/os_core.c **** 
 2281              		.loc 1 780 5 is_stmt 1 view .LVU774
 780:rtos/uCOS-III/Source/os_core.c **** 
 2282              		.loc 1 780 5 view .LVU775
 780:rtos/uCOS-III/Source/os_core.c **** 
 2283              		.loc 1 780 5 view .LVU776
 2284 0060 2846     		mov	r0, r5
 2285 0062 FFF7FEFF 		bl	CPU_SR_Restore
 2286              	.LVL158:
 780:rtos/uCOS-III/Source/os_core.c **** 
 2287              		.loc 1 780 5 view .LVU777
 780:rtos/uCOS-III/Source/os_core.c **** 
 2288              		.loc 1 780 5 view .LVU778
 782:rtos/uCOS-III/Source/os_core.c ****    *p_err = OS_ERR_NONE;
 2289              		.loc 1 782 5 view .LVU779
 2290 0066 FFF7FEFF 		bl	OSSched
 2291              	.LVL159:
 783:rtos/uCOS-III/Source/os_core.c **** }
 2292              		.loc 1 783 4 view .LVU780
 783:rtos/uCOS-III/Source/os_core.c **** }
 2293              		.loc 1 783 11 is_stmt 0 view .LVU781
 2294 006a 0023     		movs	r3, #0
 2295 006c 2380     		strh	r3, [r4]	@ movhi
 2296 006e DAE7     		b	.L173
 2297              	.LVL160:
 2298              	.L184:
 767:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_1;
 2299              		.loc 1 767 9 is_stmt 1 view .LVU782
 767:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_1;
 2300              		.loc 1 767 9 view .LVU783
 767:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_1;
 2301              		.loc 1 767 9 view .LVU784
 2302 0070 2846     		mov	r0, r5
 2303              	.LVL161:
 767:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_1;
 2304              		.loc 1 767 9 is_stmt 0 view .LVU785
 2305 0072 FFF7FEFF 		bl	CPU_SR_Restore
 2306              	.LVL162:
 767:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_1;
 2307              		.loc 1 767 9 is_stmt 1 view .LVU786
 767:rtos/uCOS-III/Source/os_core.c ****        *p_err = OS_ERR_ROUND_ROBIN_1;
 2308              		.loc 1 767 9 view .LVU787
 768:rtos/uCOS-III/Source/os_core.c ****         return;
 2309              		.loc 1 768 8 view .LVU788
 768:rtos/uCOS-III/Source/os_core.c ****         return;
ARM GAS  /tmp/ccwSGvvz.s 			page 85


 2310              		.loc 1 768 15 is_stmt 0 view .LVU789
 2311 0076 46F67A13 		movw	r3, #27002
 2312 007a 2380     		strh	r3, [r4]	@ movhi
 769:rtos/uCOS-III/Source/os_core.c ****     }
 2313              		.loc 1 769 9 is_stmt 1 view .LVU790
 2314 007c D3E7     		b	.L173
 2315              	.LVL163:
 2316              	.L179:
 777:rtos/uCOS-III/Source/os_core.c ****     }
 2317              		.loc 1 777 9 view .LVU791
 777:rtos/uCOS-III/Source/os_core.c ****     }
 2318              		.loc 1 777 30 is_stmt 0 view .LVU792
 2319 007e 1A65     		str	r2, [r3, #80]
 2320 0080 EEE7     		b	.L180
 2321              	.L186:
 2322 0082 00BF     		.align	2
 2323              	.L185:
 2324 0084 00000000 		.word	OSIntNestingCtr
 2325 0088 00000000 		.word	OSSchedLockNestingCtr
 2326 008c 00000000 		.word	OSSchedRoundRobinEn
 2327 0090 00000000 		.word	OSPrioCur
 2328 0094 00000000 		.word	OSRdyList
 2329 0098 00000000 		.word	OSSchedRoundRobinDfltTimeQuanta
 2330              		.cfi_endproc
 2331              	.LFE7:
 2333              		.section	.text.OS_RdyListRemove,"ax",%progbits
 2334              		.align	1
 2335              		.global	OS_RdyListRemove
 2336              		.syntax unified
 2337              		.thumb
 2338              		.thumb_func
 2339              		.fpu fpv4-sp-d16
 2341              	OS_RdyListRemove:
 2342              	.LVL164:
 2343              	.LFB24:
1909:rtos/uCOS-III/Source/os_core.c **** 
1910:rtos/uCOS-III/Source/os_core.c **** 
1911:rtos/uCOS-III/Source/os_core.c **** /*
1912:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1913:rtos/uCOS-III/Source/os_core.c **** *                                REMOVE TCB FROM LIST KNOWING ONLY WHICH OS_TCB TO REMOVE
1914:rtos/uCOS-III/Source/os_core.c **** *
1915:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to remove an OS_TCB from an OS_RDY_LIST knowing the address 
1916:rtos/uCOS-III/Source/os_core.c **** *              remove.
1917:rtos/uCOS-III/Source/os_core.c **** *
1918:rtos/uCOS-III/Source/os_core.c **** *
1919:rtos/uCOS-III/Source/os_core.c **** *              CASE 0: TCB list is empty, nothing to do.
1920:rtos/uCOS-III/Source/os_core.c **** *
1921:rtos/uCOS-III/Source/os_core.c **** *              CASE 1: Only 1 OS_TCBs in the list.
1922:rtos/uCOS-III/Source/os_core.c **** *
1923:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1924:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB
1925:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |--+---> +------------+
1926:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
1927:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |--/     +------------+
1928:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
1929:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=1 |        +------------+
1930:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        :            :
ARM GAS  /tmp/ccwSGvvz.s 			page 86


1931:rtos/uCOS-III/Source/os_core.c **** *                                             :            :
1932:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+
1933:rtos/uCOS-III/Source/os_core.c **** *
1934:rtos/uCOS-III/Source/os_core.c **** *              CASE N: Two or more OS_TCBs in the list.
1935:rtos/uCOS-III/Source/os_core.c **** *
1936:rtos/uCOS-III/Source/os_core.c **** *                     OS_RDY_LIST
1937:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+
1938:rtos/uCOS-III/Source/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
1939:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
1940:rtos/uCOS-III/Source/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
1941:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
1942:rtos/uCOS-III/Source/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
1943:rtos/uCOS-III/Source/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
1944:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1945:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1946:rtos/uCOS-III/Source/os_core.c **** *                                             :            :       :            :        :         
1947:rtos/uCOS-III/Source/os_core.c **** *                                             +------------+       +------------+        +---------
1948:rtos/uCOS-III/Source/os_core.c **** *
1949:rtos/uCOS-III/Source/os_core.c **** *
1950:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb    is a pointer to the OS_TCB to remove
1951:rtos/uCOS-III/Source/os_core.c **** *              -----
1952:rtos/uCOS-III/Source/os_core.c **** *
1953:rtos/uCOS-III/Source/os_core.c **** * Returns    : A pointer to the OS_RDY_LIST where the OS_TCB was
1954:rtos/uCOS-III/Source/os_core.c **** *
1955:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1956:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
1957:rtos/uCOS-III/Source/os_core.c **** */
1958:rtos/uCOS-III/Source/os_core.c **** 
1959:rtos/uCOS-III/Source/os_core.c **** void  OS_RdyListRemove (OS_TCB  *p_tcb)
1960:rtos/uCOS-III/Source/os_core.c **** {
 2344              		.loc 1 1960 1 is_stmt 1 view -0
 2345              		.cfi_startproc
 2346              		@ args = 0, pretend = 0, frame = 0
 2347              		@ frame_needed = 0, uses_anonymous_args = 0
 2348              		.loc 1 1960 1 is_stmt 0 view .LVU794
 2349 0000 10B5     		push	{r4, lr}
 2350              	.LCFI21:
 2351              		.cfi_def_cfa_offset 8
 2352              		.cfi_offset 4, -8
 2353              		.cfi_offset 14, -4
 2354 0002 0446     		mov	r4, r0
1961:rtos/uCOS-III/Source/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 2355              		.loc 1 1961 5 is_stmt 1 view .LVU795
1962:rtos/uCOS-III/Source/os_core.c ****     OS_TCB       *p_tcb1;
 2356              		.loc 1 1962 5 view .LVU796
1963:rtos/uCOS-III/Source/os_core.c ****     OS_TCB       *p_tcb2;
 2357              		.loc 1 1963 5 view .LVU797
1964:rtos/uCOS-III/Source/os_core.c **** 
1965:rtos/uCOS-III/Source/os_core.c **** 
1966:rtos/uCOS-III/Source/os_core.c **** 
1967:rtos/uCOS-III/Source/os_core.c ****     p_rdy_list = &OSRdyList[p_tcb->Prio];
 2358              		.loc 1 1967 5 view .LVU798
 2359              		.loc 1 1967 34 is_stmt 0 view .LVU799
 2360 0004 90F82F10 		ldrb	r1, [r0, #47]	@ zero_extendqisi2
 2361              	.LVL165:
1968:rtos/uCOS-III/Source/os_core.c ****     p_tcb1     = p_tcb->PrevPtr;                                /* Point to next and previous OS_TC
 2362              		.loc 1 1968 5 is_stmt 1 view .LVU800
ARM GAS  /tmp/ccwSGvvz.s 			page 87


 2363              		.loc 1 1968 16 is_stmt 0 view .LVU801
 2364 0008 0269     		ldr	r2, [r0, #16]
 2365              	.LVL166:
1969:rtos/uCOS-III/Source/os_core.c ****     p_tcb2     = p_tcb->NextPtr;
 2366              		.loc 1 1969 5 is_stmt 1 view .LVU802
 2367              		.loc 1 1969 16 is_stmt 0 view .LVU803
 2368 000a C368     		ldr	r3, [r0, #12]
 2369              	.LVL167:
1970:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb1 == (OS_TCB *)0) {                                /* Was the OS_TCB to remove at the 
 2370              		.loc 1 1970 5 is_stmt 1 view .LVU804
 2371              		.loc 1 1970 8 is_stmt 0 view .LVU805
 2372 000c 32B1     		cbz	r2, .L193
1971:rtos/uCOS-III/Source/os_core.c ****         if (p_tcb2 == (OS_TCB *)0) {                            /* Yes, was it the only OS_TCB?    
1972:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1973:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->NbrEntries =           0u;              /* Yes, no more entries            
1974:rtos/uCOS-III/Source/os_core.c **** #endif
1975:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->HeadPtr    = (OS_TCB *)0;
1976:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->TailPtr    = (OS_TCB *)0;
1977:rtos/uCOS-III/Source/os_core.c ****             OS_PrioRemove(p_tcb->Prio);
1978:rtos/uCOS-III/Source/os_core.c ****         } else {
1979:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1980:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->NbrEntries--;                           /* No,  one less entry             
1981:rtos/uCOS-III/Source/os_core.c **** #endif
1982:rtos/uCOS-III/Source/os_core.c ****             p_tcb2->PrevPtr     = (OS_TCB *)0;                  /* adjust back link of new list hea
1983:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->HeadPtr =  p_tcb2;                      /* adjust OS_RDY_LIST's new head   
1984:rtos/uCOS-III/Source/os_core.c ****         }
1985:rtos/uCOS-III/Source/os_core.c ****     } else {
1986:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
1987:rtos/uCOS-III/Source/os_core.c ****         p_rdy_list->NbrEntries--;                               /* No,  one less entry             
1988:rtos/uCOS-III/Source/os_core.c **** #endif
1989:rtos/uCOS-III/Source/os_core.c ****         p_tcb1->NextPtr = p_tcb2;
 2373              		.loc 1 1989 9 is_stmt 1 view .LVU806
 2374              		.loc 1 1989 25 is_stmt 0 view .LVU807
 2375 000e D360     		str	r3, [r2, #12]
1990:rtos/uCOS-III/Source/os_core.c ****         if (p_tcb2 == (OS_TCB *)0) {
 2376              		.loc 1 1990 9 is_stmt 1 view .LVU808
 2377              		.loc 1 1990 12 is_stmt 0 view .LVU809
 2378 0010 B3B1     		cbz	r3, .L194
1991:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->TailPtr = p_tcb1;                       /* Removing the TCB at the tail, ad
1992:rtos/uCOS-III/Source/os_core.c ****         } else {
1993:rtos/uCOS-III/Source/os_core.c ****             p_tcb2->PrevPtr     = p_tcb1;
 2379              		.loc 1 1993 13 is_stmt 1 view .LVU810
 2380              		.loc 1 1993 33 is_stmt 0 view .LVU811
 2381 0012 1A61     		str	r2, [r3, #16]
 2382              	.LVL168:
 2383              	.L190:
1994:rtos/uCOS-III/Source/os_core.c ****         }
1995:rtos/uCOS-III/Source/os_core.c ****     }
1996:rtos/uCOS-III/Source/os_core.c ****     p_tcb->PrevPtr = (OS_TCB *)0;
 2384              		.loc 1 1996 5 is_stmt 1 view .LVU812
 2385              		.loc 1 1996 20 is_stmt 0 view .LVU813
 2386 0014 0023     		movs	r3, #0
 2387 0016 2361     		str	r3, [r4, #16]
1997:rtos/uCOS-III/Source/os_core.c ****     p_tcb->NextPtr = (OS_TCB *)0;
 2388              		.loc 1 1997 5 is_stmt 1 view .LVU814
 2389              		.loc 1 1997 20 is_stmt 0 view .LVU815
 2390 0018 E360     		str	r3, [r4, #12]
ARM GAS  /tmp/ccwSGvvz.s 			page 88


1998:rtos/uCOS-III/Source/os_core.c **** 
1999:rtos/uCOS-III/Source/os_core.c ****     OS_TRACE_TASK_SUSPENDED(p_tcb);
 2391              		.loc 1 1999 35 is_stmt 1 view .LVU816
2000:rtos/uCOS-III/Source/os_core.c **** }
 2392              		.loc 1 2000 1 is_stmt 0 view .LVU817
 2393 001a 10BD     		pop	{r4, pc}
 2394              	.LVL169:
 2395              	.L193:
1971:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 2396              		.loc 1 1971 9 is_stmt 1 view .LVU818
1971:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DBG_EN > 0u)
 2397              		.loc 1 1971 12 is_stmt 0 view .LVU819
 2398 001c 2BB1     		cbz	r3, .L195
1982:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->HeadPtr =  p_tcb2;                      /* adjust OS_RDY_LIST's new head   
 2399              		.loc 1 1982 13 is_stmt 1 view .LVU820
1982:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->HeadPtr =  p_tcb2;                      /* adjust OS_RDY_LIST's new head   
 2400              		.loc 1 1982 33 is_stmt 0 view .LVU821
 2401 001e 0022     		movs	r2, #0
 2402              	.LVL170:
1982:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->HeadPtr =  p_tcb2;                      /* adjust OS_RDY_LIST's new head   
 2403              		.loc 1 1982 33 view .LVU822
 2404 0020 1A61     		str	r2, [r3, #16]
 2405              	.LVL171:
1983:rtos/uCOS-III/Source/os_core.c ****         }
 2406              		.loc 1 1983 13 is_stmt 1 view .LVU823
1983:rtos/uCOS-III/Source/os_core.c ****         }
 2407              		.loc 1 1983 33 is_stmt 0 view .LVU824
 2408 0022 0A4A     		ldr	r2, .L196
 2409 0024 42F83130 		str	r3, [r2, r1, lsl #3]
 2410 0028 F4E7     		b	.L190
 2411              	.LVL172:
 2412              	.L195:
1975:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->TailPtr    = (OS_TCB *)0;
 2413              		.loc 1 1975 13 is_stmt 1 view .LVU825
1975:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->TailPtr    = (OS_TCB *)0;
 2414              		.loc 1 1975 36 is_stmt 0 view .LVU826
 2415 002a 084B     		ldr	r3, .L196
 2416              	.LVL173:
1975:rtos/uCOS-III/Source/os_core.c ****             p_rdy_list->TailPtr    = (OS_TCB *)0;
 2417              		.loc 1 1975 36 view .LVU827
 2418 002c 43F83120 		str	r2, [r3, r1, lsl #3]
 2419              	.LVL174:
1976:rtos/uCOS-III/Source/os_core.c ****             OS_PrioRemove(p_tcb->Prio);
 2420              		.loc 1 1976 13 is_stmt 1 view .LVU828
1976:rtos/uCOS-III/Source/os_core.c ****             OS_PrioRemove(p_tcb->Prio);
 2421              		.loc 1 1976 36 is_stmt 0 view .LVU829
 2422 0030 03EBC101 		add	r1, r3, r1, lsl #3
 2423              	.LVL175:
1976:rtos/uCOS-III/Source/os_core.c ****             OS_PrioRemove(p_tcb->Prio);
 2424              		.loc 1 1976 36 view .LVU830
 2425 0034 4A60     		str	r2, [r1, #4]
1977:rtos/uCOS-III/Source/os_core.c ****         } else {
 2426              		.loc 1 1977 13 is_stmt 1 view .LVU831
 2427 0036 90F82F00 		ldrb	r0, [r0, #47]	@ zero_extendqisi2
 2428              	.LVL176:
1977:rtos/uCOS-III/Source/os_core.c ****         } else {
 2429              		.loc 1 1977 13 is_stmt 0 view .LVU832
ARM GAS  /tmp/ccwSGvvz.s 			page 89


 2430 003a FFF7FEFF 		bl	OS_PrioRemove
 2431              	.LVL177:
1977:rtos/uCOS-III/Source/os_core.c ****         } else {
 2432              		.loc 1 1977 13 view .LVU833
 2433 003e E9E7     		b	.L190
 2434              	.LVL178:
 2435              	.L194:
1991:rtos/uCOS-III/Source/os_core.c ****         } else {
 2436              		.loc 1 1991 13 is_stmt 1 view .LVU834
1991:rtos/uCOS-III/Source/os_core.c ****         } else {
 2437              		.loc 1 1991 33 is_stmt 0 view .LVU835
 2438 0040 024B     		ldr	r3, .L196
 2439              	.LVL179:
1991:rtos/uCOS-III/Source/os_core.c ****         } else {
 2440              		.loc 1 1991 33 view .LVU836
 2441 0042 03EBC101 		add	r1, r3, r1, lsl #3
 2442              	.LVL180:
1991:rtos/uCOS-III/Source/os_core.c ****         } else {
 2443              		.loc 1 1991 33 view .LVU837
 2444 0046 4A60     		str	r2, [r1, #4]
 2445              	.LVL181:
1991:rtos/uCOS-III/Source/os_core.c ****         } else {
 2446              		.loc 1 1991 33 view .LVU838
 2447 0048 E4E7     		b	.L190
 2448              	.L197:
 2449 004a 00BF     		.align	2
 2450              	.L196:
 2451 004c 00000000 		.word	OSRdyList
 2452              		.cfi_endproc
 2453              	.LFE24:
 2455              		.section	.text.OS_SchedRoundRobin,"ax",%progbits
 2456              		.align	1
 2457              		.global	OS_SchedRoundRobin
 2458              		.syntax unified
 2459              		.thumb
 2460              		.thumb_func
 2461              		.fpu fpv4-sp-d16
 2463              	OS_SchedRoundRobin:
 2464              	.LVL182:
 2465              	.LFB25:
2001:rtos/uCOS-III/Source/os_core.c **** 
2002:rtos/uCOS-III/Source/os_core.c **** 
2003:rtos/uCOS-III/Source/os_core.c **** /*
2004:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
2005:rtos/uCOS-III/Source/os_core.c **** *                                               SCHEDULER LOCK TIME MEASUREMENT
2006:rtos/uCOS-III/Source/os_core.c **** *
2007:rtos/uCOS-III/Source/os_core.c **** * Description: These functions are used to measure the peak amount of time that the scheduler is lo
2008:rtos/uCOS-III/Source/os_core.c **** *
2009:rtos/uCOS-III/Source/os_core.c **** * Arguments  : none
2010:rtos/uCOS-III/Source/os_core.c **** *
2011:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
2012:rtos/uCOS-III/Source/os_core.c **** *
2013:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) The are internal functions to uC/OS-III and MUST not be called by your applicatio
2014:rtos/uCOS-III/Source/os_core.c **** *
2015:rtos/uCOS-III/Source/os_core.c **** *              2) It's assumed that these functions are called when interrupts are disabled.
2016:rtos/uCOS-III/Source/os_core.c **** *
2017:rtos/uCOS-III/Source/os_core.c **** *              3) We are reading the time stamp timer via OS_TS_GET() directly even if this is a 16
ARM GAS  /tmp/ccwSGvvz.s 			page 90


2018:rtos/uCOS-III/Source/os_core.c **** *                 reason is that we don't expect to have the scheduler locked for 65536 counts even
2019:rtos/uCOS-III/Source/os_core.c **** *                 timer is updated.  In other words, locking the scheduler for longer than 65536 co
2020:rtos/uCOS-III/Source/os_core.c **** *                 good thing for a real-time system.
2021:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
2022:rtos/uCOS-III/Source/os_core.c **** */
2023:rtos/uCOS-III/Source/os_core.c **** 
2024:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u)
2025:rtos/uCOS-III/Source/os_core.c **** void  OS_SchedLockTimeMeasStart (void)
2026:rtos/uCOS-III/Source/os_core.c **** {
2027:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr == 1u) {
2028:rtos/uCOS-III/Source/os_core.c ****         OSSchedLockTimeBegin = OS_TS_GET();
2029:rtos/uCOS-III/Source/os_core.c ****     }
2030:rtos/uCOS-III/Source/os_core.c **** }
2031:rtos/uCOS-III/Source/os_core.c **** 
2032:rtos/uCOS-III/Source/os_core.c **** 
2033:rtos/uCOS-III/Source/os_core.c **** 
2034:rtos/uCOS-III/Source/os_core.c **** 
2035:rtos/uCOS-III/Source/os_core.c **** void  OS_SchedLockTimeMeasStop (void)
2036:rtos/uCOS-III/Source/os_core.c **** {
2037:rtos/uCOS-III/Source/os_core.c ****     CPU_TS_TMR  delta;
2038:rtos/uCOS-III/Source/os_core.c **** 
2039:rtos/uCOS-III/Source/os_core.c **** 
2040:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr == 0u) {                          /* Make sure we fully un-nested sch
2041:rtos/uCOS-III/Source/os_core.c ****         delta = OS_TS_GET()                                     /* Compute the delta time between b
2042:rtos/uCOS-III/Source/os_core.c ****               - OSSchedLockTimeBegin;
2043:rtos/uCOS-III/Source/os_core.c ****         if (OSSchedLockTimeMax    < delta) {                    /* Detect peak value               
2044:rtos/uCOS-III/Source/os_core.c ****             OSSchedLockTimeMax    = delta;
2045:rtos/uCOS-III/Source/os_core.c ****         }
2046:rtos/uCOS-III/Source/os_core.c ****         if (OSSchedLockTimeMaxCur < delta) {                    /* Detect peak value (for resettabl
2047:rtos/uCOS-III/Source/os_core.c ****             OSSchedLockTimeMaxCur = delta;
2048:rtos/uCOS-III/Source/os_core.c ****         }
2049:rtos/uCOS-III/Source/os_core.c ****     }
2050:rtos/uCOS-III/Source/os_core.c **** }
2051:rtos/uCOS-III/Source/os_core.c **** #endif
2052:rtos/uCOS-III/Source/os_core.c **** 
2053:rtos/uCOS-III/Source/os_core.c **** 
2054:rtos/uCOS-III/Source/os_core.c **** /*
2055:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
2056:rtos/uCOS-III/Source/os_core.c **** *                                        RUN ROUND-ROBIN SCHEDULING ALGORITHM
2057:rtos/uCOS-III/Source/os_core.c **** *
2058:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called on every tick to determine if a new task at the same priorit
2059:rtos/uCOS-III/Source/os_core.c **** *
2060:rtos/uCOS-III/Source/os_core.c **** *
2061:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_rdy_list    is a pointer to the OS_RDY_LIST entry of the ready list at the current
2062:rtos/uCOS-III/Source/os_core.c **** *              ----------
2063:rtos/uCOS-III/Source/os_core.c **** *
2064:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
2065:rtos/uCOS-III/Source/os_core.c **** *
2066:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2067:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
2068:rtos/uCOS-III/Source/os_core.c **** */
2069:rtos/uCOS-III/Source/os_core.c **** 
2070:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_SCHED_ROUND_ROBIN_EN > 0u)
2071:rtos/uCOS-III/Source/os_core.c **** void  OS_SchedRoundRobin (OS_RDY_LIST  *p_rdy_list)
2072:rtos/uCOS-III/Source/os_core.c **** {
 2466              		.loc 1 2072 1 is_stmt 1 view -0
 2467              		.cfi_startproc
ARM GAS  /tmp/ccwSGvvz.s 			page 91


 2468              		@ args = 0, pretend = 0, frame = 0
 2469              		@ frame_needed = 0, uses_anonymous_args = 0
 2470              		.loc 1 2072 1 is_stmt 0 view .LVU840
 2471 0000 38B5     		push	{r3, r4, r5, lr}
 2472              	.LCFI22:
 2473              		.cfi_def_cfa_offset 16
 2474              		.cfi_offset 3, -16
 2475              		.cfi_offset 4, -12
 2476              		.cfi_offset 5, -8
 2477              		.cfi_offset 14, -4
2073:rtos/uCOS-III/Source/os_core.c ****     OS_TCB  *p_tcb;
 2478              		.loc 1 2073 5 is_stmt 1 view .LVU841
2074:rtos/uCOS-III/Source/os_core.c ****     CPU_SR_ALLOC();
 2479              		.loc 1 2074 5 view .LVU842
 2480              	.LVL183:
2075:rtos/uCOS-III/Source/os_core.c **** 
2076:rtos/uCOS-III/Source/os_core.c **** 
2077:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedRoundRobinEn != OS_TRUE) {                       /* Make sure round-robin has been e
 2481              		.loc 1 2077 5 view .LVU843
 2482              		.loc 1 2077 29 is_stmt 0 view .LVU844
 2483 0002 1E4B     		ldr	r3, .L215
 2484 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2485              		.loc 1 2077 8 view .LVU845
 2486 0006 012B     		cmp	r3, #1
 2487 0008 00D0     		beq	.L209
 2488              	.LVL184:
 2489              	.L198:
2078:rtos/uCOS-III/Source/os_core.c ****         return;
2079:rtos/uCOS-III/Source/os_core.c ****     }
2080:rtos/uCOS-III/Source/os_core.c **** 
2081:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_ENTER();
2082:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Decrement time quanta counter   
2083:rtos/uCOS-III/Source/os_core.c **** 
2084:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb == (OS_TCB *)0) {
2085:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
2086:rtos/uCOS-III/Source/os_core.c ****         return;
2087:rtos/uCOS-III/Source/os_core.c ****     }
2088:rtos/uCOS-III/Source/os_core.c **** 
2089:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
2090:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb == &OSIdleTaskTCB) {
2091:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
2092:rtos/uCOS-III/Source/os_core.c ****         return;
2093:rtos/uCOS-III/Source/os_core.c ****     }
2094:rtos/uCOS-III/Source/os_core.c **** #endif
2095:rtos/uCOS-III/Source/os_core.c **** 
2096:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuantaCtr > 0u) {
2097:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr--;
2098:rtos/uCOS-III/Source/os_core.c ****     }
2099:rtos/uCOS-III/Source/os_core.c **** 
2100:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuantaCtr > 0u) {                            /* Task not done with its time quan
2101:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
2102:rtos/uCOS-III/Source/os_core.c ****         return;
2103:rtos/uCOS-III/Source/os_core.c ****     }
2104:rtos/uCOS-III/Source/os_core.c **** 
2105:rtos/uCOS-III/Source/os_core.c ****     if (p_rdy_list->HeadPtr == p_rdy_list->TailPtr) {           /* See if it's time to time slice c
2106:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* ... only if multiple tasks at sa
2107:rtos/uCOS-III/Source/os_core.c ****         return;
ARM GAS  /tmp/ccwSGvvz.s 			page 92


2108:rtos/uCOS-III/Source/os_core.c ****     }
2109:rtos/uCOS-III/Source/os_core.c **** 
2110:rtos/uCOS-III/Source/os_core.c ****     if (OSSchedLockNestingCtr > 0u) {                           /* Can't round-robin if the schedul
2111:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
2112:rtos/uCOS-III/Source/os_core.c ****         return;
2113:rtos/uCOS-III/Source/os_core.c ****     }
2114:rtos/uCOS-III/Source/os_core.c **** 
2115:rtos/uCOS-III/Source/os_core.c ****     OS_RdyListMoveHeadToTail(p_rdy_list);                       /* Move current OS_TCB to the end o
2116:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Point to new OS_TCB at head of t
2117:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuanta == 0u) {                              /* See if we need to use the defaul
2118:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
2119:rtos/uCOS-III/Source/os_core.c ****     } else {
2120:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;               /* Load time slice counter with new
2121:rtos/uCOS-III/Source/os_core.c ****     }
2122:rtos/uCOS-III/Source/os_core.c ****     CPU_CRITICAL_EXIT();
2123:rtos/uCOS-III/Source/os_core.c **** }
 2490              		.loc 1 2123 1 view .LVU846
 2491 000a 38BD     		pop	{r3, r4, r5, pc}
 2492              	.LVL185:
 2493              	.L209:
 2494              		.loc 1 2123 1 view .LVU847
 2495 000c 0446     		mov	r4, r0
2081:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Decrement time quanta counter   
 2496              		.loc 1 2081 5 is_stmt 1 view .LVU848
2081:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Decrement time quanta counter   
 2497              		.loc 1 2081 5 view .LVU849
2081:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Decrement time quanta counter   
 2498              		.loc 1 2081 5 view .LVU850
 2499 000e 4020     		movs	r0, #64
 2500              	.LVL186:
2081:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Decrement time quanta counter   
 2501              		.loc 1 2081 5 is_stmt 0 view .LVU851
 2502 0010 FFF7FEFF 		bl	CPU_SR_Save
 2503              	.LVL187:
 2504 0014 0546     		mov	r5, r0
 2505              	.LVL188:
2081:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Decrement time quanta counter   
 2506              		.loc 1 2081 5 is_stmt 1 view .LVU852
2081:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Decrement time quanta counter   
 2507              		.loc 1 2081 5 view .LVU853
2082:rtos/uCOS-III/Source/os_core.c **** 
 2508              		.loc 1 2082 5 view .LVU854
2082:rtos/uCOS-III/Source/os_core.c **** 
 2509              		.loc 1 2082 11 is_stmt 0 view .LVU855
 2510 0016 2368     		ldr	r3, [r4]
 2511              	.LVL189:
2084:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2512              		.loc 1 2084 5 is_stmt 1 view .LVU856
2084:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2513              		.loc 1 2084 8 is_stmt 0 view .LVU857
 2514 0018 E3B1     		cbz	r3, .L210
2090:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2515              		.loc 1 2090 5 is_stmt 1 view .LVU858
2090:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2516              		.loc 1 2090 8 is_stmt 0 view .LVU859
 2517 001a 194A     		ldr	r2, .L215+4
 2518 001c 9342     		cmp	r3, r2
ARM GAS  /tmp/ccwSGvvz.s 			page 93


 2519 001e 1CD0     		beq	.L211
2096:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr--;
 2520              		.loc 1 2096 5 is_stmt 1 view .LVU860
2096:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr--;
 2521              		.loc 1 2096 14 is_stmt 0 view .LVU861
 2522 0020 1A6D     		ldr	r2, [r3, #80]
2096:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr--;
 2523              		.loc 1 2096 8 view .LVU862
 2524 0022 0AB1     		cbz	r2, .L202
2097:rtos/uCOS-III/Source/os_core.c ****     }
 2525              		.loc 1 2097 9 is_stmt 1 view .LVU863
2097:rtos/uCOS-III/Source/os_core.c ****     }
 2526              		.loc 1 2097 29 is_stmt 0 view .LVU864
 2527 0024 013A     		subs	r2, r2, #1
 2528 0026 1A65     		str	r2, [r3, #80]
 2529              	.L202:
2100:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2530              		.loc 1 2100 5 is_stmt 1 view .LVU865
2100:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2531              		.loc 1 2100 14 is_stmt 0 view .LVU866
 2532 0028 1B6D     		ldr	r3, [r3, #80]
 2533              	.LVL190:
2100:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2534              		.loc 1 2100 8 view .LVU867
 2535 002a CBB9     		cbnz	r3, .L212
2105:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* ... only if multiple tasks at sa
 2536              		.loc 1 2105 5 is_stmt 1 view .LVU868
2105:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* ... only if multiple tasks at sa
 2537              		.loc 1 2105 19 is_stmt 0 view .LVU869
 2538 002c 2268     		ldr	r2, [r4]
2105:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* ... only if multiple tasks at sa
 2539              		.loc 1 2105 42 view .LVU870
 2540 002e 6368     		ldr	r3, [r4, #4]
2105:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();                                    /* ... only if multiple tasks at sa
 2541              		.loc 1 2105 8 view .LVU871
 2542 0030 9A42     		cmp	r2, r3
 2543 0032 19D0     		beq	.L213
2110:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2544              		.loc 1 2110 5 is_stmt 1 view .LVU872
2110:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2545              		.loc 1 2110 31 is_stmt 0 view .LVU873
 2546 0034 134B     		ldr	r3, .L215+8
 2547 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2110:rtos/uCOS-III/Source/os_core.c ****         CPU_CRITICAL_EXIT();
 2548              		.loc 1 2110 8 view .LVU874
 2549 0038 D3B9     		cbnz	r3, .L214
2115:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Point to new OS_TCB at head of t
 2550              		.loc 1 2115 5 is_stmt 1 view .LVU875
 2551 003a 2046     		mov	r0, r4
 2552              	.LVL191:
2115:rtos/uCOS-III/Source/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                                /* Point to new OS_TCB at head of t
 2553              		.loc 1 2115 5 is_stmt 0 view .LVU876
 2554 003c FFF7FEFF 		bl	OS_RdyListMoveHeadToTail
 2555              	.LVL192:
2116:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuanta == 0u) {                              /* See if we need to use the defaul
 2556              		.loc 1 2116 5 is_stmt 1 view .LVU877
2116:rtos/uCOS-III/Source/os_core.c ****     if (p_tcb->TimeQuanta == 0u) {                              /* See if we need to use the defaul
ARM GAS  /tmp/ccwSGvvz.s 			page 94


 2557              		.loc 1 2116 11 is_stmt 0 view .LVU878
 2558 0040 2368     		ldr	r3, [r4]
 2559              	.LVL193:
2117:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 2560              		.loc 1 2117 5 is_stmt 1 view .LVU879
2117:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 2561              		.loc 1 2117 14 is_stmt 0 view .LVU880
 2562 0042 DA6C     		ldr	r2, [r3, #76]
2117:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 2563              		.loc 1 2117 8 view .LVU881
 2564 0044 C2B9     		cbnz	r2, .L206
2118:rtos/uCOS-III/Source/os_core.c ****     } else {
 2565              		.loc 1 2118 9 is_stmt 1 view .LVU882
2118:rtos/uCOS-III/Source/os_core.c ****     } else {
 2566              		.loc 1 2118 30 is_stmt 0 view .LVU883
 2567 0046 104A     		ldr	r2, .L215+12
 2568 0048 1268     		ldr	r2, [r2]
 2569 004a 1A65     		str	r2, [r3, #80]
 2570              	.L207:
2122:rtos/uCOS-III/Source/os_core.c **** }
 2571              		.loc 1 2122 5 is_stmt 1 view .LVU884
2122:rtos/uCOS-III/Source/os_core.c **** }
 2572              		.loc 1 2122 5 view .LVU885
2122:rtos/uCOS-III/Source/os_core.c **** }
 2573              		.loc 1 2122 5 view .LVU886
 2574 004c 2846     		mov	r0, r5
 2575 004e FFF7FEFF 		bl	CPU_SR_Restore
 2576              	.LVL194:
2122:rtos/uCOS-III/Source/os_core.c **** }
 2577              		.loc 1 2122 5 view .LVU887
2122:rtos/uCOS-III/Source/os_core.c **** }
 2578              		.loc 1 2122 5 view .LVU888
 2579 0052 DAE7     		b	.L198
 2580              	.LVL195:
 2581              	.L210:
2085:rtos/uCOS-III/Source/os_core.c ****         return;
 2582              		.loc 1 2085 9 view .LVU889
2085:rtos/uCOS-III/Source/os_core.c ****         return;
 2583              		.loc 1 2085 9 view .LVU890
2085:rtos/uCOS-III/Source/os_core.c ****         return;
 2584              		.loc 1 2085 9 view .LVU891
 2585 0054 FFF7FEFF 		bl	CPU_SR_Restore
 2586              	.LVL196:
2085:rtos/uCOS-III/Source/os_core.c ****         return;
 2587              		.loc 1 2085 9 view .LVU892
2085:rtos/uCOS-III/Source/os_core.c ****         return;
 2588              		.loc 1 2085 9 view .LVU893
2086:rtos/uCOS-III/Source/os_core.c ****     }
 2589              		.loc 1 2086 9 view .LVU894
 2590 0058 D7E7     		b	.L198
 2591              	.LVL197:
 2592              	.L211:
2091:rtos/uCOS-III/Source/os_core.c ****         return;
 2593              		.loc 1 2091 9 view .LVU895
2091:rtos/uCOS-III/Source/os_core.c ****         return;
 2594              		.loc 1 2091 9 view .LVU896
2091:rtos/uCOS-III/Source/os_core.c ****         return;
ARM GAS  /tmp/ccwSGvvz.s 			page 95


 2595              		.loc 1 2091 9 view .LVU897
 2596 005a FFF7FEFF 		bl	CPU_SR_Restore
 2597              	.LVL198:
2091:rtos/uCOS-III/Source/os_core.c ****         return;
 2598              		.loc 1 2091 9 view .LVU898
2091:rtos/uCOS-III/Source/os_core.c ****         return;
 2599              		.loc 1 2091 9 view .LVU899
2092:rtos/uCOS-III/Source/os_core.c ****     }
 2600              		.loc 1 2092 9 view .LVU900
 2601 005e D4E7     		b	.L198
 2602              	.LVL199:
 2603              	.L212:
2101:rtos/uCOS-III/Source/os_core.c ****         return;
 2604              		.loc 1 2101 9 view .LVU901
2101:rtos/uCOS-III/Source/os_core.c ****         return;
 2605              		.loc 1 2101 9 view .LVU902
2101:rtos/uCOS-III/Source/os_core.c ****         return;
 2606              		.loc 1 2101 9 view .LVU903
 2607 0060 2846     		mov	r0, r5
 2608              	.LVL200:
2101:rtos/uCOS-III/Source/os_core.c ****         return;
 2609              		.loc 1 2101 9 is_stmt 0 view .LVU904
 2610 0062 FFF7FEFF 		bl	CPU_SR_Restore
 2611              	.LVL201:
2101:rtos/uCOS-III/Source/os_core.c ****         return;
 2612              		.loc 1 2101 9 is_stmt 1 view .LVU905
2101:rtos/uCOS-III/Source/os_core.c ****         return;
 2613              		.loc 1 2101 9 view .LVU906
2102:rtos/uCOS-III/Source/os_core.c ****     }
 2614              		.loc 1 2102 9 view .LVU907
 2615 0066 D0E7     		b	.L198
 2616              	.LVL202:
 2617              	.L213:
2106:rtos/uCOS-III/Source/os_core.c ****         return;
 2618              		.loc 1 2106 9 view .LVU908
2106:rtos/uCOS-III/Source/os_core.c ****         return;
 2619              		.loc 1 2106 9 view .LVU909
2106:rtos/uCOS-III/Source/os_core.c ****         return;
 2620              		.loc 1 2106 9 view .LVU910
 2621 0068 2846     		mov	r0, r5
 2622              	.LVL203:
2106:rtos/uCOS-III/Source/os_core.c ****         return;
 2623              		.loc 1 2106 9 is_stmt 0 view .LVU911
 2624 006a FFF7FEFF 		bl	CPU_SR_Restore
 2625              	.LVL204:
2106:rtos/uCOS-III/Source/os_core.c ****         return;
 2626              		.loc 1 2106 9 is_stmt 1 view .LVU912
2106:rtos/uCOS-III/Source/os_core.c ****         return;
 2627              		.loc 1 2106 9 view .LVU913
2107:rtos/uCOS-III/Source/os_core.c ****     }
 2628              		.loc 1 2107 9 view .LVU914
 2629 006e CCE7     		b	.L198
 2630              	.LVL205:
 2631              	.L214:
2111:rtos/uCOS-III/Source/os_core.c ****         return;
 2632              		.loc 1 2111 9 view .LVU915
2111:rtos/uCOS-III/Source/os_core.c ****         return;
ARM GAS  /tmp/ccwSGvvz.s 			page 96


 2633              		.loc 1 2111 9 view .LVU916
2111:rtos/uCOS-III/Source/os_core.c ****         return;
 2634              		.loc 1 2111 9 view .LVU917
 2635 0070 2846     		mov	r0, r5
 2636              	.LVL206:
2111:rtos/uCOS-III/Source/os_core.c ****         return;
 2637              		.loc 1 2111 9 is_stmt 0 view .LVU918
 2638 0072 FFF7FEFF 		bl	CPU_SR_Restore
 2639              	.LVL207:
2111:rtos/uCOS-III/Source/os_core.c ****         return;
 2640              		.loc 1 2111 9 is_stmt 1 view .LVU919
2111:rtos/uCOS-III/Source/os_core.c ****         return;
 2641              		.loc 1 2111 9 view .LVU920
2112:rtos/uCOS-III/Source/os_core.c ****     }
 2642              		.loc 1 2112 9 view .LVU921
 2643 0076 C8E7     		b	.L198
 2644              	.LVL208:
 2645              	.L206:
2120:rtos/uCOS-III/Source/os_core.c ****     }
 2646              		.loc 1 2120 9 view .LVU922
2120:rtos/uCOS-III/Source/os_core.c ****     }
 2647              		.loc 1 2120 30 is_stmt 0 view .LVU923
 2648 0078 1A65     		str	r2, [r3, #80]
 2649 007a E7E7     		b	.L207
 2650              	.L216:
 2651              		.align	2
 2652              	.L215:
 2653 007c 00000000 		.word	OSSchedRoundRobinEn
 2654 0080 00000000 		.word	OSIdleTaskTCB
 2655 0084 00000000 		.word	OSSchedLockNestingCtr
 2656 0088 00000000 		.word	OSSchedRoundRobinDfltTimeQuanta
 2657              		.cfi_endproc
 2658              	.LFE25:
 2660              		.section	.text.OS_TaskBlock,"ax",%progbits
 2661              		.align	1
 2662              		.global	OS_TaskBlock
 2663              		.syntax unified
 2664              		.thumb
 2665              		.thumb_func
 2666              		.fpu fpv4-sp-d16
 2668              	OS_TaskBlock:
 2669              	.LVL209:
 2670              	.LFB26:
2124:rtos/uCOS-III/Source/os_core.c **** #endif
2125:rtos/uCOS-III/Source/os_core.c **** 
2126:rtos/uCOS-III/Source/os_core.c **** 
2127:rtos/uCOS-III/Source/os_core.c **** /*
2128:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
2129:rtos/uCOS-III/Source/os_core.c **** *                                                     BLOCK A TASK
2130:rtos/uCOS-III/Source/os_core.c **** *
2131:rtos/uCOS-III/Source/os_core.c **** * Description: This function is called to remove a task from the ready list and also insert it in t
2132:rtos/uCOS-III/Source/os_core.c **** *              the specified timeout is non-zero.
2133:rtos/uCOS-III/Source/os_core.c **** *
2134:rtos/uCOS-III/Source/os_core.c **** * Arguments  : p_tcb          is a pointer to the OS_TCB of the task block
2135:rtos/uCOS-III/Source/os_core.c **** *              -----
2136:rtos/uCOS-III/Source/os_core.c **** *
2137:rtos/uCOS-III/Source/os_core.c **** *              timeout        is the desired timeout
ARM GAS  /tmp/ccwSGvvz.s 			page 97


2138:rtos/uCOS-III/Source/os_core.c **** *
2139:rtos/uCOS-III/Source/os_core.c **** * Returns    : none
2140:rtos/uCOS-III/Source/os_core.c **** *
2141:rtos/uCOS-III/Source/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2142:rtos/uCOS-III/Source/os_core.c **** ***************************************************************************************************
2143:rtos/uCOS-III/Source/os_core.c **** */
2144:rtos/uCOS-III/Source/os_core.c **** 
2145:rtos/uCOS-III/Source/os_core.c **** void  OS_TaskBlock (OS_TCB   *p_tcb,
2146:rtos/uCOS-III/Source/os_core.c ****                     OS_TICK   timeout)
2147:rtos/uCOS-III/Source/os_core.c **** {
 2671              		.loc 1 2147 1 is_stmt 1 view -0
 2672              		.cfi_startproc
 2673              		@ args = 0, pretend = 0, frame = 0
 2674              		@ frame_needed = 0, uses_anonymous_args = 0
 2675              		.loc 1 2147 1 is_stmt 0 view .LVU925
 2676 0000 10B5     		push	{r4, lr}
 2677              	.LCFI23:
 2678              		.cfi_def_cfa_offset 8
 2679              		.cfi_offset 4, -8
 2680              		.cfi_offset 14, -4
 2681 0002 0446     		mov	r4, r0
2148:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
2149:rtos/uCOS-III/Source/os_core.c ****     OS_TICK  elapsed;
2150:rtos/uCOS-III/Source/os_core.c **** 
2151:rtos/uCOS-III/Source/os_core.c **** 
2152:rtos/uCOS-III/Source/os_core.c ****     elapsed = OS_DynTickGet();
2153:rtos/uCOS-III/Source/os_core.c **** #endif
2154:rtos/uCOS-III/Source/os_core.c **** 
2155:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_TICK_EN > 0u)
2156:rtos/uCOS-III/Source/os_core.c ****     if (timeout > 0u) {                                         /* Add task to tick list if timeout
 2682              		.loc 1 2156 5 is_stmt 1 view .LVU926
 2683              		.loc 1 2156 8 is_stmt 0 view .LVU927
 2684 0004 31B9     		cbnz	r1, .L221
2157:rtos/uCOS-III/Source/os_core.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
2158:rtos/uCOS-III/Source/os_core.c ****         (void)OS_TickListInsert(p_tcb, elapsed, (OSTickCtr + elapsed), timeout);
2159:rtos/uCOS-III/Source/os_core.c **** #else
2160:rtos/uCOS-III/Source/os_core.c ****         (void)OS_TickListInsert(p_tcb,      0u,             OSTickCtr, timeout);
2161:rtos/uCOS-III/Source/os_core.c **** #endif
2162:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TaskState = OS_TASK_STATE_PEND_TIMEOUT;
2163:rtos/uCOS-III/Source/os_core.c ****     } else {
2164:rtos/uCOS-III/Source/os_core.c ****         p_tcb->TaskState = OS_TASK_STATE_PEND;
 2685              		.loc 1 2164 9 is_stmt 1 view .LVU928
 2686              		.loc 1 2164 26 is_stmt 0 view .LVU929
 2687 0006 0223     		movs	r3, #2
 2688 0008 80F82E30 		strb	r3, [r0, #46]
 2689              	.LVL210:
 2690              	.L219:
2165:rtos/uCOS-III/Source/os_core.c ****     }
2166:rtos/uCOS-III/Source/os_core.c **** #else
2167:rtos/uCOS-III/Source/os_core.c ****     (void)timeout;
2168:rtos/uCOS-III/Source/os_core.c ****     p_tcb->TaskState = OS_TASK_STATE_PEND;
2169:rtos/uCOS-III/Source/os_core.c **** #endif
2170:rtos/uCOS-III/Source/os_core.c ****     OS_RdyListRemove(p_tcb);
 2691              		.loc 1 2170 5 is_stmt 1 view .LVU930
 2692 000c 2046     		mov	r0, r4
 2693 000e FFF7FEFF 		bl	OS_RdyListRemove
 2694              	.LVL211:
ARM GAS  /tmp/ccwSGvvz.s 			page 98


2171:rtos/uCOS-III/Source/os_core.c **** }
 2695              		.loc 1 2171 1 is_stmt 0 view .LVU931
 2696 0012 10BD     		pop	{r4, pc}
 2697              	.LVL212:
 2698              	.L221:
 2699              		.loc 1 2171 1 view .LVU932
 2700 0014 0B46     		mov	r3, r1
2160:rtos/uCOS-III/Source/os_core.c **** #endif
 2701              		.loc 1 2160 9 is_stmt 1 view .LVU933
2160:rtos/uCOS-III/Source/os_core.c **** #endif
 2702              		.loc 1 2160 15 is_stmt 0 view .LVU934
 2703 0016 044A     		ldr	r2, .L222
 2704 0018 1268     		ldr	r2, [r2]
 2705 001a 0021     		movs	r1, #0
 2706              	.LVL213:
2160:rtos/uCOS-III/Source/os_core.c **** #endif
 2707              		.loc 1 2160 15 view .LVU935
 2708 001c FFF7FEFF 		bl	OS_TickListInsert
 2709              	.LVL214:
2162:rtos/uCOS-III/Source/os_core.c ****     } else {
 2710              		.loc 1 2162 9 is_stmt 1 view .LVU936
2162:rtos/uCOS-III/Source/os_core.c ****     } else {
 2711              		.loc 1 2162 26 is_stmt 0 view .LVU937
 2712 0020 0323     		movs	r3, #3
 2713 0022 84F82E30 		strb	r3, [r4, #46]
 2714 0026 F1E7     		b	.L219
 2715              	.L223:
 2716              		.align	2
 2717              	.L222:
 2718 0028 00000000 		.word	OSTickCtr
 2719              		.cfi_endproc
 2720              	.LFE26:
 2722              		.section	.text.OS_Pend,"ax",%progbits
 2723              		.align	1
 2724              		.global	OS_Pend
 2725              		.syntax unified
 2726              		.thumb
 2727              		.thumb_func
 2728              		.fpu fpv4-sp-d16
 2730              	OS_Pend:
 2731              	.LVL215:
 2732              	.LFB12:
1017:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
 2733              		.loc 1 1017 1 is_stmt 1 view -0
 2734              		.cfi_startproc
 2735              		@ args = 0, pretend = 0, frame = 0
 2736              		@ frame_needed = 0, uses_anonymous_args = 0
1017:rtos/uCOS-III/Source/os_core.c ****     OS_PEND_LIST  *p_pend_list;
 2737              		.loc 1 1017 1 is_stmt 0 view .LVU939
 2738 0000 38B5     		push	{r3, r4, r5, lr}
 2739              	.LCFI24:
 2740              		.cfi_def_cfa_offset 16
 2741              		.cfi_offset 3, -16
 2742              		.cfi_offset 4, -12
 2743              		.cfi_offset 5, -8
 2744              		.cfi_offset 14, -4
 2745 0002 0546     		mov	r5, r0
ARM GAS  /tmp/ccwSGvvz.s 			page 99


 2746 0004 0C46     		mov	r4, r1
1018:rtos/uCOS-III/Source/os_core.c **** 
 2747              		.loc 1 1018 5 is_stmt 1 view .LVU940
1021:rtos/uCOS-III/Source/os_core.c ****     p_tcb->PendStatus = OS_STATUS_PEND_OK;
 2748              		.loc 1 1021 5 view .LVU941
1021:rtos/uCOS-III/Source/os_core.c ****     p_tcb->PendStatus = OS_STATUS_PEND_OK;
 2749              		.loc 1 1021 23 is_stmt 0 view .LVU942
 2750 0006 81F82C20 		strb	r2, [r1, #44]
1022:rtos/uCOS-III/Source/os_core.c **** 
 2751              		.loc 1 1022 5 is_stmt 1 view .LVU943
1022:rtos/uCOS-III/Source/os_core.c **** 
 2752              		.loc 1 1022 23 is_stmt 0 view .LVU944
 2753 000a 0022     		movs	r2, #0
 2754              	.LVL216:
1022:rtos/uCOS-III/Source/os_core.c **** 
 2755              		.loc 1 1022 23 view .LVU945
 2756 000c 81F82D20 		strb	r2, [r1, #45]
1024:rtos/uCOS-III/Source/os_core.c ****                  timeout);
 2757              		.loc 1 1024 5 is_stmt 1 view .LVU946
 2758 0010 1946     		mov	r1, r3
 2759              	.LVL217:
1024:rtos/uCOS-III/Source/os_core.c ****                  timeout);
 2760              		.loc 1 1024 5 is_stmt 0 view .LVU947
 2761 0012 2046     		mov	r0, r4
 2762              	.LVL218:
1024:rtos/uCOS-III/Source/os_core.c ****                  timeout);
 2763              		.loc 1 1024 5 view .LVU948
 2764 0014 FFF7FEFF 		bl	OS_TaskBlock
 2765              	.LVL219:
1027:rtos/uCOS-III/Source/os_core.c ****         p_pend_list             = &p_obj->PendList;             /* ... if there is an object to pen
 2766              		.loc 1 1027 5 is_stmt 1 view .LVU949
1027:rtos/uCOS-III/Source/os_core.c ****         p_pend_list             = &p_obj->PendList;             /* ... if there is an object to pen
 2767              		.loc 1 1027 8 is_stmt 0 view .LVU950
 2768 0018 2DB1     		cbz	r5, .L225
1028:rtos/uCOS-III/Source/os_core.c ****         p_tcb->PendObjPtr =  p_obj;                             /* Save the pointer to the object p
 2769              		.loc 1 1028 9 is_stmt 1 view .LVU951
 2770              	.LVL220:
1029:rtos/uCOS-III/Source/os_core.c ****         OS_PendListInsertPrio(p_pend_list,                      /* Insert in the pend list in prior
 2771              		.loc 1 1029 9 view .LVU952
1029:rtos/uCOS-III/Source/os_core.c ****         OS_PendListInsertPrio(p_pend_list,                      /* Insert in the pend list in prior
 2772              		.loc 1 1029 27 is_stmt 0 view .LVU953
 2773 001a A562     		str	r5, [r4, #40]
1030:rtos/uCOS-III/Source/os_core.c ****                               p_tcb);
 2774              		.loc 1 1030 9 is_stmt 1 view .LVU954
 2775 001c 2146     		mov	r1, r4
 2776 001e 281D     		adds	r0, r5, #4
 2777              	.LVL221:
1030:rtos/uCOS-III/Source/os_core.c ****                               p_tcb);
 2778              		.loc 1 1030 9 is_stmt 0 view .LVU955
 2779 0020 FFF7FEFF 		bl	OS_PendListInsertPrio
 2780              	.LVL222:
 2781              	.L224:
1040:rtos/uCOS-III/Source/os_core.c **** 
 2782              		.loc 1 1040 1 view .LVU956
 2783 0024 38BD     		pop	{r3, r4, r5, pc}
 2784              	.LVL223:
 2785              	.L225:
ARM GAS  /tmp/ccwSGvvz.s 			page 100


1034:rtos/uCOS-III/Source/os_core.c ****     }
 2786              		.loc 1 1034 9 is_stmt 1 view .LVU957
1034:rtos/uCOS-III/Source/os_core.c ****     }
 2787              		.loc 1 1034 27 is_stmt 0 view .LVU958
 2788 0026 0023     		movs	r3, #0
 2789 0028 A362     		str	r3, [r4, #40]
1040:rtos/uCOS-III/Source/os_core.c **** 
 2790              		.loc 1 1040 1 view .LVU959
 2791 002a FBE7     		b	.L224
 2792              		.cfi_endproc
 2793              	.LFE12:
 2795              		.text
 2796              	.Letext0:
 2797              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 2798              		.file 3 "rtos/uC-CPU/cpu_core.h"
 2799              		.file 4 "rtos/uCOS-III/Source/os_type.h"
 2800              		.file 5 "rtos/uCOS-III/Source/os.h"
 2801              		.file 6 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/GNU/os_cpu.h"
ARM GAS  /tmp/ccwSGvvz.s 			page 101


DEFINED SYMBOLS
                            *ABS*:0000000000000000 os_core.c
     /tmp/ccwSGvvz.s:18     .text.OS_IdleTask:0000000000000000 $t
     /tmp/ccwSGvvz.s:26     .text.OS_IdleTask:0000000000000000 OS_IdleTask
     /tmp/ccwSGvvz.s:73     .text.OS_IdleTask:000000000000001c $d
     /tmp/ccwSGvvz.s:78     .text.OSIntEnter:0000000000000000 $t
     /tmp/ccwSGvvz.s:85     .text.OSIntEnter:0000000000000000 OSIntEnter
     /tmp/ccwSGvvz.s:118    .text.OSIntEnter:0000000000000018 $d
     /tmp/ccwSGvvz.s:124    .text.OSIntExit:0000000000000000 $t
     /tmp/ccwSGvvz.s:131    .text.OSIntExit:0000000000000000 OSIntExit
     /tmp/ccwSGvvz.s:273    .text.OSIntExit:000000000000007c $d
     /tmp/ccwSGvvz.s:285    .text.OSSched:0000000000000000 $t
     /tmp/ccwSGvvz.s:292    .text.OSSched:0000000000000000 OSSched
     /tmp/ccwSGvvz.s:402    .text.OSSched:0000000000000064 $d
     /tmp/ccwSGvvz.s:414    .text.OSSchedLock:0000000000000000 $t
     /tmp/ccwSGvvz.s:421    .text.OSSchedLock:0000000000000000 OSSchedLock
     /tmp/ccwSGvvz.s:513    .text.OSSchedLock:000000000000004c $d
     /tmp/ccwSGvvz.s:520    .text.OSSchedUnlock:0000000000000000 $t
     /tmp/ccwSGvvz.s:527    .text.OSSchedUnlock:0000000000000000 OSSchedUnlock
     /tmp/ccwSGvvz.s:640    .text.OSSchedUnlock:000000000000005c $d
     /tmp/ccwSGvvz.s:647    .text.OSSchedRoundRobinCfg:0000000000000000 $t
     /tmp/ccwSGvvz.s:654    .text.OSSchedRoundRobinCfg:0000000000000000 OSSchedRoundRobinCfg
     /tmp/ccwSGvvz.s:737    .text.OSSchedRoundRobinCfg:0000000000000040 $d
     /tmp/ccwSGvvz.s:745    .text.OSStart:0000000000000000 $t
     /tmp/ccwSGvvz.s:752    .text.OSStart:0000000000000000 OSStart
     /tmp/ccwSGvvz.s:853    .text.OSStart:0000000000000060 $d
     /tmp/ccwSGvvz.s:865    .text.OSVersion:0000000000000000 $t
     /tmp/ccwSGvvz.s:872    .text.OSVersion:0000000000000000 OSVersion
     /tmp/ccwSGvvz.s:894    .text.OS_IdleTaskInit:0000000000000000 $t
     /tmp/ccwSGvvz.s:901    .text.OS_IdleTaskInit:0000000000000000 OS_IdleTaskInit
     /tmp/ccwSGvvz.s:951    .text.OS_IdleTaskInit:0000000000000038 $d
     /tmp/ccwSGvvz.s:960    .text.OS_PendListInit:0000000000000000 $t
     /tmp/ccwSGvvz.s:967    .text.OS_PendListInit:0000000000000000 OS_PendListInit
     /tmp/ccwSGvvz.s:988    .text.OS_PendListInsertPrio:0000000000000000 $t
     /tmp/ccwSGvvz.s:995    .text.OS_PendListInsertPrio:0000000000000000 OS_PendListInsertPrio
     /tmp/ccwSGvvz.s:1121   .text.OS_PendListRemove:0000000000000000 $t
     /tmp/ccwSGvvz.s:1128   .text.OS_PendListRemove:0000000000000000 OS_PendListRemove
     /tmp/ccwSGvvz.s:1225   .text.OS_PendListChangePrio:0000000000000000 $t
     /tmp/ccwSGvvz.s:1232   .text.OS_PendListChangePrio:0000000000000000 OS_PendListChangePrio
     /tmp/ccwSGvvz.s:1283   .text.OS_RdyListInit:0000000000000000 $t
     /tmp/ccwSGvvz.s:1290   .text.OS_RdyListInit:0000000000000000 OS_RdyListInit
     /tmp/ccwSGvvz.s:1333   .text.OS_RdyListInit:000000000000001c $d
     /tmp/ccwSGvvz.s:1338   .text.OSInit:0000000000000000 $t
     /tmp/ccwSGvvz.s:1345   .text.OSInit:0000000000000000 OSInit
     /tmp/ccwSGvvz.s:1567   .text.OSInit:00000000000000dc $d
     /tmp/ccwSGvvz.s:1593   .text.OS_RdyListInsertHead:0000000000000000 $t
     /tmp/ccwSGvvz.s:1600   .text.OS_RdyListInsertHead:0000000000000000 OS_RdyListInsertHead
     /tmp/ccwSGvvz.s:1662   .text.OS_RdyListInsertHead:0000000000000034 $d
     /tmp/ccwSGvvz.s:1667   .text.OS_RdyListInsertTail:0000000000000000 $t
     /tmp/ccwSGvvz.s:1674   .text.OS_RdyListInsertTail:0000000000000000 OS_RdyListInsertTail
     /tmp/ccwSGvvz.s:1737   .text.OS_RdyListInsertTail:0000000000000034 $d
     /tmp/ccwSGvvz.s:1742   .text.OS_RdyListInsert:0000000000000000 $t
     /tmp/ccwSGvvz.s:1749   .text.OS_RdyListInsert:0000000000000000 OS_RdyListInsert
     /tmp/ccwSGvvz.s:1796   .text.OS_RdyListInsert:0000000000000028 $d
     /tmp/ccwSGvvz.s:1801   .text.OS_PendAbort:0000000000000000 $t
     /tmp/ccwSGvvz.s:1808   .text.OS_PendAbort:0000000000000000 OS_PendAbort
     /tmp/ccwSGvvz.s:1927   .text.OS_Post:0000000000000000 $t
ARM GAS  /tmp/ccwSGvvz.s 			page 102


     /tmp/ccwSGvvz.s:1934   .text.OS_Post:0000000000000000 OS_Post
     /tmp/ccwSGvvz.s:2063   .text.OS_RdyListMoveHeadToTail:0000000000000000 $t
     /tmp/ccwSGvvz.s:2070   .text.OS_RdyListMoveHeadToTail:0000000000000000 OS_RdyListMoveHeadToTail
     /tmp/ccwSGvvz.s:2161   .text.OSSchedRoundRobinYield:0000000000000000 $t
     /tmp/ccwSGvvz.s:2168   .text.OSSchedRoundRobinYield:0000000000000000 OSSchedRoundRobinYield
     /tmp/ccwSGvvz.s:2324   .text.OSSchedRoundRobinYield:0000000000000084 $d
     /tmp/ccwSGvvz.s:2334   .text.OS_RdyListRemove:0000000000000000 $t
     /tmp/ccwSGvvz.s:2341   .text.OS_RdyListRemove:0000000000000000 OS_RdyListRemove
     /tmp/ccwSGvvz.s:2451   .text.OS_RdyListRemove:000000000000004c $d
     /tmp/ccwSGvvz.s:2456   .text.OS_SchedRoundRobin:0000000000000000 $t
     /tmp/ccwSGvvz.s:2463   .text.OS_SchedRoundRobin:0000000000000000 OS_SchedRoundRobin
     /tmp/ccwSGvvz.s:2653   .text.OS_SchedRoundRobin:000000000000007c $d
     /tmp/ccwSGvvz.s:2661   .text.OS_TaskBlock:0000000000000000 $t
     /tmp/ccwSGvvz.s:2668   .text.OS_TaskBlock:0000000000000000 OS_TaskBlock
     /tmp/ccwSGvvz.s:2718   .text.OS_TaskBlock:0000000000000028 $d
     /tmp/ccwSGvvz.s:2723   .text.OS_Pend:0000000000000000 $t
     /tmp/ccwSGvvz.s:2730   .text.OS_Pend:0000000000000000 OS_Pend
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.os.h.38.05c7a360e844508f9424830362f7eef3
                           .group:0000000000000000 wm4.os_cfg.h.36.1682609214807c39119743015cd1b75b
                           .group:0000000000000000 wm4.os_cfg_app.h.36.9d01bed009cfc3a5184d9a87250e45bf
                           .group:0000000000000000 wm4.cpu_core.h.51.7b35a59c319673f88ae4a256248776ec
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.143.d3b700e12b3a14ed3bee14c822b49a7d
                           .group:0000000000000000 wm4.os_cpu.h.45.281d793567585e56a091270c28fc7efc
                           .group:0000000000000000 wm4.os_trace.h.37.a6badbf6e748c370e142a9584653748e
                           .group:0000000000000000 wm4.os.h.95.7b45e7e080367d299efd03f7510809bc

UNDEFINED SYMBOLS
CPU_SR_Save
CPU_SR_Restore
OSIdleTaskHook
OSStatTaskCtr
OSRunning
OSIntNestingCtr
OS_PrioGetHighest
OSIntCtxSw
OSSchedLockNestingCtr
OSPrioHighRdy
OSRdyList
OSTCBHighRdyPtr
OSTCBCurPtr
OSTaskCtxSwCtr
OSCtxSw
OSSchedRoundRobinEn
OSSchedRoundRobinDfltTimeQuanta
OSCfg_TickRate_Hz
OSStartHighRdy
OSInitialized
OSTaskQty
OSPrioCur
OSTaskCreate
OSCfg_IdleTaskStkSize
OSCfg_IdleTaskStkLimit
ARM GAS  /tmp/ccwSGvvz.s 			page 103


OSCfg_IdleTaskStkBasePtr
OSIdleTaskTCB
OSInitHook
OS_PrioInit
OS_MemInit
OS_MsgPoolInit
OS_TaskInit
OS_TickInit
OS_StatTaskInit
OS_TmrInit
OSCfg_Init
OSCfg_ISRStkBasePtr
OSCfg_ISRStkSize
OS_AppTaskCreateHookPtr
OS_AppTaskDelHookPtr
OS_AppTaskReturnHookPtr
OS_AppIdleTaskHookPtr
OS_AppStatTaskHookPtr
OS_AppTaskSwHookPtr
OS_AppTimeTickHookPtr
OSTaskRegNextAvailID
OS_PrioInsert
OS_TickListRemove
OS_PrioRemove
OS_TickListInsert
OSTickCtr
