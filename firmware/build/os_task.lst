ARM GAS  /tmp/ccS1bHPU.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"os_task.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.OSTaskQFlush,"ax",%progbits
  18              		.align	1
  19              		.global	OSTaskQFlush
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	OSTaskQFlush:
  27              	.LVL0:
  28              	.LFB3:
  29              		.file 1 "rtos/uCOS-III/Source/os_task.c"
   1:rtos/uCOS-III/Source/os_task.c **** /*
   2:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
   3:rtos/uCOS-III/Source/os_task.c **** *                                                uC/OS-III
   4:rtos/uCOS-III/Source/os_task.c **** *                                          The Real-Time Kernel
   5:rtos/uCOS-III/Source/os_task.c **** *
   6:rtos/uCOS-III/Source/os_task.c **** *                         (c) Copyright 2009-2019; Silicon Laboratories Inc.,
   7:rtos/uCOS-III/Source/os_task.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uCOS-III/Source/os_task.c **** *
   9:rtos/uCOS-III/Source/os_task.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uCOS-III/Source/os_task.c **** *
  11:rtos/uCOS-III/Source/os_task.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uCOS-III/Source/os_task.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uCOS-III/Source/os_task.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uCOS-III/Source/os_task.c **** *                  license, you may not use this software.
  15:rtos/uCOS-III/Source/os_task.c **** *
  16:rtos/uCOS-III/Source/os_task.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uCOS-III/Source/os_task.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uCOS-III/Source/os_task.c **** *
  19:rtos/uCOS-III/Source/os_task.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uCOS-III/Source/os_task.c **** *
  21:rtos/uCOS-III/Source/os_task.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
  23:rtos/uCOS-III/Source/os_task.c **** */
  24:rtos/uCOS-III/Source/os_task.c **** 
  25:rtos/uCOS-III/Source/os_task.c **** /*
  26:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
  27:rtos/uCOS-III/Source/os_task.c **** *                                            TASK MANAGEMENT
  28:rtos/uCOS-III/Source/os_task.c **** *
  29:rtos/uCOS-III/Source/os_task.c **** * File    : os_task.c
ARM GAS  /tmp/ccS1bHPU.s 			page 2


  30:rtos/uCOS-III/Source/os_task.c **** * Version : V3.07.04
  31:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
  32:rtos/uCOS-III/Source/os_task.c **** */
  33:rtos/uCOS-III/Source/os_task.c **** 
  34:rtos/uCOS-III/Source/os_task.c **** #define  MICRIUM_SOURCE
  35:rtos/uCOS-III/Source/os_task.c **** #include "os.h"
  36:rtos/uCOS-III/Source/os_task.c **** 
  37:rtos/uCOS-III/Source/os_task.c **** 
  38:rtos/uCOS-III/Source/os_task.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  39:rtos/uCOS-III/Source/os_task.c **** const  CPU_CHAR  *os_task__c = "$Id: $";
  40:rtos/uCOS-III/Source/os_task.c **** #endif
  41:rtos/uCOS-III/Source/os_task.c **** 
  42:rtos/uCOS-III/Source/os_task.c **** /*
  43:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
  44:rtos/uCOS-III/Source/os_task.c **** *                                                CHANGE PRIORITY OF A TASK
  45:rtos/uCOS-III/Source/os_task.c **** *
  46:rtos/uCOS-III/Source/os_task.c **** * Description: This function allows you to change the priority of a task dynamically.  Note that th
  47:rtos/uCOS-III/Source/os_task.c **** *              priority MUST be available.
  48:rtos/uCOS-III/Source/os_task.c **** *
  49:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb      is the TCB of the tack to change the priority for
  50:rtos/uCOS-III/Source/os_task.c **** *
  51:rtos/uCOS-III/Source/os_task.c **** *              prio_new   is the new priority
  52:rtos/uCOS-III/Source/os_task.c **** *
  53:rtos/uCOS-III/Source/os_task.c **** *              p_err      is a pointer to an error code returned by this function:
  54:rtos/uCOS-III/Source/os_task.c **** *
  55:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_NONE                    Is the call was successful
  56:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_OS_NOT_RUNNING          If uC/OS-III is not running yet
  57:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_PRIO_INVALID            If the priority you specify is higher 
  58:rtos/uCOS-III/Source/os_task.c **** *                                                              (i.e. >= (OS_CFG_PRIO_MAX-1)) or alr
  59:rtos/uCOS-III/Source/os_task.c **** *                                                              task
  60:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_STATE_INVALID           If the task is in an invalid state
  61:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_CHANGE_PRIO_ISR    If you tried to change the task's prio
  62:rtos/uCOS-III/Source/os_task.c **** *
  63:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
  64:rtos/uCOS-III/Source/os_task.c **** *
  65:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
  66:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
  67:rtos/uCOS-III/Source/os_task.c **** */
  68:rtos/uCOS-III/Source/os_task.c **** 
  69:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_CHANGE_PRIO_EN > 0u)
  70:rtos/uCOS-III/Source/os_task.c **** void  OSTaskChangePrio (OS_TCB   *p_tcb,
  71:rtos/uCOS-III/Source/os_task.c ****                         OS_PRIO   prio_new,
  72:rtos/uCOS-III/Source/os_task.c ****                         OS_ERR   *p_err)
  73:rtos/uCOS-III/Source/os_task.c **** {
  74:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
  75:rtos/uCOS-III/Source/os_task.c ****     OS_PRIO  prio_high;
  76:rtos/uCOS-III/Source/os_task.c **** #endif
  77:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
  78:rtos/uCOS-III/Source/os_task.c **** 
  79:rtos/uCOS-III/Source/os_task.c **** 
  80:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
  81:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
  82:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
  83:rtos/uCOS-III/Source/os_task.c ****         return;
  84:rtos/uCOS-III/Source/os_task.c ****     }
  85:rtos/uCOS-III/Source/os_task.c **** #endif
  86:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 3


  87:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
  88:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb != (OS_TCB *)0) && (p_tcb->TaskState == OS_TASK_STATE_DEL)) {
  89:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STATE_INVALID;
  90:rtos/uCOS-III/Source/os_task.c ****         return;
  91:rtos/uCOS-III/Source/os_task.c ****     }
  92:rtos/uCOS-III/Source/os_task.c **** #endif
  93:rtos/uCOS-III/Source/os_task.c **** 
  94:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
  95:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
  96:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_CHANGE_PRIO_ISR;
  97:rtos/uCOS-III/Source/os_task.c ****         return;
  98:rtos/uCOS-III/Source/os_task.c ****     }
  99:rtos/uCOS-III/Source/os_task.c **** #endif
 100:rtos/uCOS-III/Source/os_task.c **** 
 101:rtos/uCOS-III/Source/os_task.c ****     if (prio_new >= (OS_CFG_PRIO_MAX - 1u)) {                   /* Cannot set to Idle Task priority
 102:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PRIO_INVALID;
 103:rtos/uCOS-III/Source/os_task.c ****         return;
 104:rtos/uCOS-III/Source/os_task.c ****     }
 105:rtos/uCOS-III/Source/os_task.c **** 
 106:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 107:rtos/uCOS-III/Source/os_task.c **** 
 108:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Are we changing the priority of 
 109:rtos/uCOS-III/Source/os_task.c ****         if (OSRunning != OS_STATE_OS_RUNNING) {
 110:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 111:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 112:rtos/uCOS-III/Source/os_task.c ****             return;
 113:rtos/uCOS-III/Source/os_task.c ****         }
 114:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 115:rtos/uCOS-III/Source/os_task.c ****     }
 116:rtos/uCOS-III/Source/os_task.c **** 
 117:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 118:rtos/uCOS-III/Source/os_task.c ****     p_tcb->BasePrio = prio_new;                                 /* Update base priority            
 119:rtos/uCOS-III/Source/os_task.c **** 
 120:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb->MutexGrpHeadPtr != (OS_MUTEX *)0) {              /* Owning a mutex?                 
 121:rtos/uCOS-III/Source/os_task.c ****         if (prio_new > p_tcb->Prio) {
 122:rtos/uCOS-III/Source/os_task.c ****             prio_high = OS_MutexGrpPrioFindHighest(p_tcb);
 123:rtos/uCOS-III/Source/os_task.c ****             if (prio_new > prio_high) {
 124:rtos/uCOS-III/Source/os_task.c ****                 prio_new = prio_high;
 125:rtos/uCOS-III/Source/os_task.c ****             }
 126:rtos/uCOS-III/Source/os_task.c ****         }
 127:rtos/uCOS-III/Source/os_task.c ****     }
 128:rtos/uCOS-III/Source/os_task.c **** #endif
 129:rtos/uCOS-III/Source/os_task.c **** 
 130:rtos/uCOS-III/Source/os_task.c ****     OS_TaskChangePrio(p_tcb, prio_new);
 131:rtos/uCOS-III/Source/os_task.c **** 
 132:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_PRIO_CHANGE(p_tcb, prio_new);
 133:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 134:rtos/uCOS-III/Source/os_task.c **** 
 135:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning == OS_STATE_OS_RUNNING) {
 136:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run highest priority task ready 
 137:rtos/uCOS-III/Source/os_task.c ****     }
 138:rtos/uCOS-III/Source/os_task.c **** 
 139:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 140:rtos/uCOS-III/Source/os_task.c **** }
 141:rtos/uCOS-III/Source/os_task.c **** #endif
 142:rtos/uCOS-III/Source/os_task.c **** 
 143:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 4


 144:rtos/uCOS-III/Source/os_task.c **** /*
 145:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 146:rtos/uCOS-III/Source/os_task.c **** *                                                    CREATE A TASK
 147:rtos/uCOS-III/Source/os_task.c **** *
 148:rtos/uCOS-III/Source/os_task.c **** * Description: This function is used to have uC/OS-III manage the execution of a task.  Tasks can e
 149:rtos/uCOS-III/Source/os_task.c **** *              prior to the start of multitasking or by a running task.  A task cannot be created b
 150:rtos/uCOS-III/Source/os_task.c **** *
 151:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb          is a pointer to the task's TCB
 152:rtos/uCOS-III/Source/os_task.c **** *
 153:rtos/uCOS-III/Source/os_task.c **** *              p_name         is a pointer to an ASCII string to provide a name to the task.
 154:rtos/uCOS-III/Source/os_task.c **** *
 155:rtos/uCOS-III/Source/os_task.c **** *              p_task         is a pointer to the task's code
 156:rtos/uCOS-III/Source/os_task.c **** *
 157:rtos/uCOS-III/Source/os_task.c **** *              p_arg          is a pointer to an optional data area which can be used to pass param
 158:rtos/uCOS-III/Source/os_task.c **** *                             the task when the task first executes.  Where the task is concerned i
 159:rtos/uCOS-III/Source/os_task.c **** *                             it was invoked and passed the argument 'p_arg' as follows:
 160:rtos/uCOS-III/Source/os_task.c **** *
 161:rtos/uCOS-III/Source/os_task.c **** *                                 void Task (void *p_arg)
 162:rtos/uCOS-III/Source/os_task.c **** *                                 {
 163:rtos/uCOS-III/Source/os_task.c **** *                                     for (;;) {
 164:rtos/uCOS-III/Source/os_task.c **** *                                         Task code;
 165:rtos/uCOS-III/Source/os_task.c **** *                                     }
 166:rtos/uCOS-III/Source/os_task.c **** *                                 }
 167:rtos/uCOS-III/Source/os_task.c **** *
 168:rtos/uCOS-III/Source/os_task.c **** *              prio           is the task's priority.  A unique priority MUST be assigned to each t
 169:rtos/uCOS-III/Source/os_task.c **** *                             lower the number, the higher the priority.
 170:rtos/uCOS-III/Source/os_task.c **** *
 171:rtos/uCOS-III/Source/os_task.c **** *              p_stk_base     is a pointer to the base address of the stack (i.e. low address).
 172:rtos/uCOS-III/Source/os_task.c **** *
 173:rtos/uCOS-III/Source/os_task.c **** *              stk_limit      is the number of stack elements to set as 'watermark' limit for the s
 174:rtos/uCOS-III/Source/os_task.c **** *                             represents the number of CPU_STK entries left before the stack is ful
 175:rtos/uCOS-III/Source/os_task.c **** *                             specifying 10% of the 'stk_size' value indicates that the stack limit
 176:rtos/uCOS-III/Source/os_task.c **** *                             when the stack reaches 90% full.
 177:rtos/uCOS-III/Source/os_task.c **** *
 178:rtos/uCOS-III/Source/os_task.c **** *              stk_size       is the size of the stack in number of elements.  If CPU_STK is set to
 179:rtos/uCOS-III/Source/os_task.c **** *                             'stk_size' corresponds to the number of bytes available.  If CPU_STK 
 180:rtos/uCOS-III/Source/os_task.c **** *                             CPU_INT16U, 'stk_size' contains the number of 16-bit entries availabl
 181:rtos/uCOS-III/Source/os_task.c **** *                             CPU_STK is set to CPU_INT32U, 'stk_size' contains the number of 32-bi
 182:rtos/uCOS-III/Source/os_task.c **** *                             available on the stack.
 183:rtos/uCOS-III/Source/os_task.c **** *
 184:rtos/uCOS-III/Source/os_task.c **** *              q_size         is the maximum number of messages that can be sent to the task
 185:rtos/uCOS-III/Source/os_task.c **** *
 186:rtos/uCOS-III/Source/os_task.c **** *              time_quanta    amount of time (in ticks) for time slice when round-robin between tas
 187:rtos/uCOS-III/Source/os_task.c **** *                             the default.
 188:rtos/uCOS-III/Source/os_task.c **** *
 189:rtos/uCOS-III/Source/os_task.c **** *              p_ext          is a pointer to a user supplied memory location which is used as a TC
 190:rtos/uCOS-III/Source/os_task.c **** *                             For example, this user memory can hold the contents of floating-point
 191:rtos/uCOS-III/Source/os_task.c **** *                             during a context switch, the time each task takes to execute, the num
 192:rtos/uCOS-III/Source/os_task.c **** *                             the task has been switched-in, etc.
 193:rtos/uCOS-III/Source/os_task.c **** *
 194:rtos/uCOS-III/Source/os_task.c **** *              opt            contains additional information (or options) about the behavior of th
 195:rtos/uCOS-III/Source/os_task.c **** *                             See OS_OPT_TASK_xxx in OS.H.  Current choices are:
 196:rtos/uCOS-III/Source/os_task.c **** *
 197:rtos/uCOS-III/Source/os_task.c **** *                                 OS_OPT_TASK_NONE            No option selected
 198:rtos/uCOS-III/Source/os_task.c **** *                                 OS_OPT_TASK_STK_CHK         Stack checking to be allowed for the 
 199:rtos/uCOS-III/Source/os_task.c **** *                                 OS_OPT_TASK_STK_CLR         Clear the stack when the task is crea
 200:rtos/uCOS-III/Source/os_task.c **** *                                 OS_OPT_TASK_SAVE_FP         If the CPU has floating-point registe
ARM GAS  /tmp/ccS1bHPU.s 			page 5


 201:rtos/uCOS-III/Source/os_task.c **** *                                                             during a context switch.
 202:rtos/uCOS-III/Source/os_task.c **** *                                 OS_OPT_TASK_NO_TLS          If the caller doesn't want or need TL
 203:rtos/uCOS-III/Source/os_task.c **** *                                                             Storage) support for the task.  If yo
 204:rtos/uCOS-III/Source/os_task.c **** *                                                             option, TLS will be supported by defa
 205:rtos/uCOS-III/Source/os_task.c **** *
 206:rtos/uCOS-III/Source/os_task.c **** *              p_err          is a pointer to an error code that will be set during this call.  The
 207:rtos/uCOS-III/Source/os_task.c **** *                             to by 'p_err' can be:
 208:rtos/uCOS-III/Source/os_task.c **** *
 209:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_NONE                    If the function was successful
 210:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_ILLEGAL_CREATE_RUN_TIME If you are trying to create the ta
 211:rtos/uCOS-III/Source/os_task.c **** *                                                                   OSSafetyCriticalStart()
 212:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_PRIO_INVALID            If the priority you specify is hig
 213:rtos/uCOS-III/Source/os_task.c **** *                                                                   allowed (i.e. >= OS_CFG_PRIO_MA
 214:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_STK_OVF                 If the stack was overflowed during
 215:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_STK_INVALID             If you specified a NULL pointer fo
 216:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_STK_SIZE_INVALID        If you specified zero for the 'stk
 217:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_STK_LIMIT_INVALID       If you specified a 'stk_limit' gre
 218:rtos/uCOS-III/Source/os_task.c **** *                                                                   to 'stk_size'
 219:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_TASK_CREATE_ISR         If you tried to create a task from
 220:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_TASK_INVALID            If you specified a NULL pointer fo
 221:rtos/uCOS-III/Source/os_task.c **** *                                 OS_ERR_TCB_INVALID             If you specified a NULL pointer fo
 222:rtos/uCOS-III/Source/os_task.c **** *
 223:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
 224:rtos/uCOS-III/Source/os_task.c **** *
 225:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : 1) OSTaskCreate() will return with the error OS_ERR_STK_OVF when a stack overflow is
 226:rtos/uCOS-III/Source/os_task.c **** *                 during stack initialization. In that specific case some memory may have been corr
 227:rtos/uCOS-III/Source/os_task.c **** *                 therefore recommended to treat OS_ERR_STK_OVF as a fatal error.
 228:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 229:rtos/uCOS-III/Source/os_task.c **** */
 230:rtos/uCOS-III/Source/os_task.c **** 
 231:rtos/uCOS-III/Source/os_task.c **** void  OSTaskCreate (OS_TCB        *p_tcb,
 232:rtos/uCOS-III/Source/os_task.c ****                     CPU_CHAR      *p_name,
 233:rtos/uCOS-III/Source/os_task.c ****                     OS_TASK_PTR    p_task,
 234:rtos/uCOS-III/Source/os_task.c ****                     void          *p_arg,
 235:rtos/uCOS-III/Source/os_task.c ****                     OS_PRIO        prio,
 236:rtos/uCOS-III/Source/os_task.c ****                     CPU_STK       *p_stk_base,
 237:rtos/uCOS-III/Source/os_task.c ****                     CPU_STK_SIZE   stk_limit,
 238:rtos/uCOS-III/Source/os_task.c ****                     CPU_STK_SIZE   stk_size,
 239:rtos/uCOS-III/Source/os_task.c ****                     OS_MSG_QTY     q_size,
 240:rtos/uCOS-III/Source/os_task.c ****                     OS_TICK        time_quanta,
 241:rtos/uCOS-III/Source/os_task.c ****                     void          *p_ext,
 242:rtos/uCOS-III/Source/os_task.c ****                     OS_OPT         opt,
 243:rtos/uCOS-III/Source/os_task.c ****                     OS_ERR        *p_err)
 244:rtos/uCOS-III/Source/os_task.c **** {
 245:rtos/uCOS-III/Source/os_task.c ****     CPU_STK_SIZE   i;
 246:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 247:rtos/uCOS-III/Source/os_task.c ****     OS_REG_ID      reg_nbr;
 248:rtos/uCOS-III/Source/os_task.c **** #endif
 249:rtos/uCOS-III/Source/os_task.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
 250:rtos/uCOS-III/Source/os_task.c ****     OS_TLS_ID      id;
 251:rtos/uCOS-III/Source/os_task.c **** #endif
 252:rtos/uCOS-III/Source/os_task.c **** 
 253:rtos/uCOS-III/Source/os_task.c ****     CPU_STK       *p_sp;
 254:rtos/uCOS-III/Source/os_task.c ****     CPU_STK       *p_stk_limit;
 255:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 256:rtos/uCOS-III/Source/os_task.c **** 
 257:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 6


 258:rtos/uCOS-III/Source/os_task.c **** 
 259:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 260:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
 261:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 262:rtos/uCOS-III/Source/os_task.c ****         return;
 263:rtos/uCOS-III/Source/os_task.c ****     }
 264:rtos/uCOS-III/Source/os_task.c **** #endif
 265:rtos/uCOS-III/Source/os_task.c **** 
 266:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 267:rtos/uCOS-III/Source/os_task.c ****     if (OSSafetyCriticalStartFlag == OS_TRUE) {
 268:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_ILLEGAL_CREATE_RUN_TIME;
 269:rtos/uCOS-III/Source/os_task.c ****         return;
 270:rtos/uCOS-III/Source/os_task.c ****     }
 271:rtos/uCOS-III/Source/os_task.c **** #endif
 272:rtos/uCOS-III/Source/os_task.c **** 
 273:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 274:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* --------- CANNOT CREATE A TASK F
 275:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 276:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_CREATE_ISR;
 277:rtos/uCOS-III/Source/os_task.c ****         return;
 278:rtos/uCOS-III/Source/os_task.c ****     }
 279:rtos/uCOS-III/Source/os_task.c **** #endif
 280:rtos/uCOS-III/Source/os_task.c **** 
 281:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)                                    /* ---------------- VALIDATE ARGUME
 282:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* User must supply a valid OS_TCB 
 283:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 284:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TCB_INVALID;
 285:rtos/uCOS-III/Source/os_task.c ****         return;
 286:rtos/uCOS-III/Source/os_task.c ****     }
 287:rtos/uCOS-III/Source/os_task.c ****     if (p_task == (OS_TASK_PTR)0u) {                            /* User must supply a valid task   
 288:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 289:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_INVALID;
 290:rtos/uCOS-III/Source/os_task.c ****         return;
 291:rtos/uCOS-III/Source/os_task.c ****     }
 292:rtos/uCOS-III/Source/os_task.c ****     if (p_stk_base == (CPU_STK *)0) {                           /* User must supply a valid stack b
 293:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 294:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_INVALID;
 295:rtos/uCOS-III/Source/os_task.c ****         return;
 296:rtos/uCOS-III/Source/os_task.c ****     }
 297:rtos/uCOS-III/Source/os_task.c ****     if (stk_size < OSCfg_StkSizeMin) {                          /* User must supply a valid minimum
 298:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 299:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_SIZE_INVALID;
 300:rtos/uCOS-III/Source/os_task.c ****         return;
 301:rtos/uCOS-III/Source/os_task.c ****     }
 302:rtos/uCOS-III/Source/os_task.c ****     if (stk_limit >= stk_size) {                                /* User must supply a valid stack l
 303:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 304:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_LIMIT_INVALID;
 305:rtos/uCOS-III/Source/os_task.c ****         return;
 306:rtos/uCOS-III/Source/os_task.c ****     }
 307:rtos/uCOS-III/Source/os_task.c ****     if ((prio  > (OS_CFG_PRIO_MAX - 2u)) &&                     /* Priority must be within 0 and OS
 308:rtos/uCOS-III/Source/os_task.c ****         (prio != (OS_CFG_PRIO_MAX - 1u))) {
 309:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 310:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PRIO_INVALID;
 311:rtos/uCOS-III/Source/os_task.c ****         return;
 312:rtos/uCOS-III/Source/os_task.c ****     }
 313:rtos/uCOS-III/Source/os_task.c **** #endif
 314:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 7


 315:rtos/uCOS-III/Source/os_task.c ****     if (prio == (OS_CFG_PRIO_MAX - 1u)) {
 316:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 317:rtos/uCOS-III/Source/os_task.c ****         if (p_tcb != &OSIdleTaskTCB) {
 318:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 319:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_PRIO_INVALID;                        /* Not allowed to use same priority
 320:rtos/uCOS-III/Source/os_task.c ****             return;
 321:rtos/uCOS-III/Source/os_task.c ****         }
 322:rtos/uCOS-III/Source/os_task.c **** #else
 323:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 324:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PRIO_INVALID;                            /* Not allowed to use same priority
 325:rtos/uCOS-III/Source/os_task.c ****         return;
 326:rtos/uCOS-III/Source/os_task.c **** #endif
 327:rtos/uCOS-III/Source/os_task.c ****     }
 328:rtos/uCOS-III/Source/os_task.c **** 
 329:rtos/uCOS-III/Source/os_task.c ****     OS_TaskInitTCB(p_tcb);                                      /* Initialize the TCB to default va
 330:rtos/uCOS-III/Source/os_task.c **** 
 331:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 332:rtos/uCOS-III/Source/os_task.c ****                                                                 /* -------------- CLEAR THE TASK'S 
 333:rtos/uCOS-III/Source/os_task.c ****     if (((opt & OS_OPT_TASK_STK_CHK) != 0u) ||                  /* See if stack checking has been e
 334:rtos/uCOS-III/Source/os_task.c ****         ((opt & OS_OPT_TASK_STK_CLR) != 0u)) {                  /* See if stack needs to be cleared
 335:rtos/uCOS-III/Source/os_task.c ****         if ((opt & OS_OPT_TASK_STK_CLR) != 0u) {
 336:rtos/uCOS-III/Source/os_task.c ****             p_sp = p_stk_base;
 337:rtos/uCOS-III/Source/os_task.c ****             for (i = 0u; i < stk_size; i++) {                   /* Stack grows from HIGH to LOW mem
 338:rtos/uCOS-III/Source/os_task.c ****                *p_sp = 0u;                                      /* Clear from bottom of stack and u
 339:rtos/uCOS-III/Source/os_task.c ****                 p_sp++;
 340:rtos/uCOS-III/Source/os_task.c ****             }
 341:rtos/uCOS-III/Source/os_task.c ****         }
 342:rtos/uCOS-III/Source/os_task.c ****     }
 343:rtos/uCOS-III/Source/os_task.c ****                                                                 /* ------ INITIALIZE THE STACK FRAM
 344:rtos/uCOS-III/Source/os_task.c **** #if (CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO)
 345:rtos/uCOS-III/Source/os_task.c ****     p_stk_limit = p_stk_base + stk_limit;
 346:rtos/uCOS-III/Source/os_task.c **** #else
 347:rtos/uCOS-III/Source/os_task.c ****     p_stk_limit = p_stk_base + (stk_size - 1u) - stk_limit;
 348:rtos/uCOS-III/Source/os_task.c **** #endif
 349:rtos/uCOS-III/Source/os_task.c **** 
 350:rtos/uCOS-III/Source/os_task.c ****     p_sp = OSTaskStkInit(p_task,
 351:rtos/uCOS-III/Source/os_task.c ****                          p_arg,
 352:rtos/uCOS-III/Source/os_task.c ****                          p_stk_base,
 353:rtos/uCOS-III/Source/os_task.c ****                          p_stk_limit,
 354:rtos/uCOS-III/Source/os_task.c ****                          stk_size,
 355:rtos/uCOS-III/Source/os_task.c ****                          opt);
 356:rtos/uCOS-III/Source/os_task.c **** 
 357:rtos/uCOS-III/Source/os_task.c **** #if (CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO)             /* Check if we overflown the stack 
 358:rtos/uCOS-III/Source/os_task.c ****     if (p_sp < p_stk_base) {
 359:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_OVF;
 360:rtos/uCOS-III/Source/os_task.c ****         return;
 361:rtos/uCOS-III/Source/os_task.c ****     }
 362:rtos/uCOS-III/Source/os_task.c **** #else
 363:rtos/uCOS-III/Source/os_task.c ****     if (p_sp > (p_stk_base + stk_size)) {
 364:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_OVF;
 365:rtos/uCOS-III/Source/os_task.c ****         return;
 366:rtos/uCOS-III/Source/os_task.c ****     }
 367:rtos/uCOS-III/Source/os_task.c **** #endif
 368:rtos/uCOS-III/Source/os_task.c **** 
 369:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)                           /* Initialize Redzoned stack       
 370:rtos/uCOS-III/Source/os_task.c ****     OS_TaskStkRedzoneInit(p_stk_base, stk_size);
 371:rtos/uCOS-III/Source/os_task.c **** #endif
ARM GAS  /tmp/ccS1bHPU.s 			page 8


 372:rtos/uCOS-III/Source/os_task.c **** 
 373:rtos/uCOS-III/Source/os_task.c ****                                                                 /* ------------ INITIALIZE THE TCB 
 374:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
 375:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TaskEntryAddr = p_task;                              /* Save task entry point address   
 376:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TaskEntryArg  = p_arg;                               /* Save task entry argument        
 377:rtos/uCOS-III/Source/os_task.c **** #endif
 378:rtos/uCOS-III/Source/os_task.c **** 
 379:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
 380:rtos/uCOS-III/Source/os_task.c ****     p_tcb->NamePtr       = p_name;                              /* Save task name                  
 381:rtos/uCOS-III/Source/os_task.c **** #else
 382:rtos/uCOS-III/Source/os_task.c ****     (void)p_name;
 383:rtos/uCOS-III/Source/os_task.c **** #endif
 384:rtos/uCOS-III/Source/os_task.c **** 
 385:rtos/uCOS-III/Source/os_task.c ****     p_tcb->Prio          = prio;                                /* Save the task's priority        
 386:rtos/uCOS-III/Source/os_task.c **** 
 387:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 388:rtos/uCOS-III/Source/os_task.c ****     p_tcb->BasePrio      = prio;                                /* Set the base priority           
 389:rtos/uCOS-III/Source/os_task.c **** #endif
 390:rtos/uCOS-III/Source/os_task.c **** 
 391:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkPtr        = p_sp;                                /* Save the new top-of-stack pointe
 392:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkLimitPtr   = p_stk_limit;                         /* Save the stack limit pointer    
 393:rtos/uCOS-III/Source/os_task.c **** 
 394:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_SCHED_ROUND_ROBIN_EN > 0u)
 395:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TimeQuanta    = time_quanta;                         /* Save the #ticks for time slice (
 396:rtos/uCOS-III/Source/os_task.c ****     if (time_quanta == 0u) {
 397:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 398:rtos/uCOS-III/Source/os_task.c ****     } else {
 399:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = time_quanta;
 400:rtos/uCOS-III/Source/os_task.c ****     }
 401:rtos/uCOS-III/Source/os_task.c **** #else
 402:rtos/uCOS-III/Source/os_task.c ****     (void)time_quanta;
 403:rtos/uCOS-III/Source/os_task.c **** #endif
 404:rtos/uCOS-III/Source/os_task.c **** 
 405:rtos/uCOS-III/Source/os_task.c ****     p_tcb->ExtPtr        = p_ext;                               /* Save pointer to TCB extension   
 406:rtos/uCOS-III/Source/os_task.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_STK_CHK_EN > 0u) || (OS_CFG_TASK_STK_REDZONE_EN > 0u
 407:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkBasePtr    = p_stk_base;                          /* Save pointer to the base address
 408:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkSize       = stk_size;                            /* Save the stack size (in number o
 409:rtos/uCOS-III/Source/os_task.c **** #endif
 410:rtos/uCOS-III/Source/os_task.c ****     p_tcb->Opt           = opt;                                 /* Save task options               
 411:rtos/uCOS-III/Source/os_task.c **** 
 412:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 413:rtos/uCOS-III/Source/os_task.c ****     for (reg_nbr = 0u; reg_nbr < OS_CFG_TASK_REG_TBL_SIZE; reg_nbr++) {
 414:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 415:rtos/uCOS-III/Source/os_task.c ****     }
 416:rtos/uCOS-III/Source/os_task.c **** #endif
 417:rtos/uCOS-III/Source/os_task.c **** 
 418:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
 419:rtos/uCOS-III/Source/os_task.c ****     OS_MsgQInit(&p_tcb->MsgQ,                                   /* Initialize the task's message qu
 420:rtos/uCOS-III/Source/os_task.c ****                 q_size);
 421:rtos/uCOS-III/Source/os_task.c **** #else
 422:rtos/uCOS-III/Source/os_task.c ****     (void)q_size;
 423:rtos/uCOS-III/Source/os_task.c **** #endif
 424:rtos/uCOS-III/Source/os_task.c **** 
 425:rtos/uCOS-III/Source/os_task.c ****     OSTaskCreateHook(p_tcb);                                    /* Call user defined hook          
 426:rtos/uCOS-III/Source/os_task.c **** 
 427:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_CREATE(p_tcb);
 428:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_CREATE(p_tcb, p_name);
ARM GAS  /tmp/ccS1bHPU.s 			page 9


 429:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
 430:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_CREATE(&p_tcb->MsgQ, p_name);
 431:rtos/uCOS-III/Source/os_task.c **** #endif
 432:rtos/uCOS-III/Source/os_task.c **** 
 433:rtos/uCOS-III/Source/os_task.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
 434:rtos/uCOS-III/Source/os_task.c ****     for (id = 0u; id < OS_CFG_TLS_TBL_SIZE; id++) {
 435:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TLS_Tbl[id] = 0u;
 436:rtos/uCOS-III/Source/os_task.c ****     }
 437:rtos/uCOS-III/Source/os_task.c ****     OS_TLS_TaskCreate(p_tcb);                                   /* Call TLS hook                   
 438:rtos/uCOS-III/Source/os_task.c **** #endif
 439:rtos/uCOS-III/Source/os_task.c ****                                                                 /* -------------- ADD TASK TO READY
 440:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 441:rtos/uCOS-III/Source/os_task.c ****     OS_PrioInsert(p_tcb->Prio);
 442:rtos/uCOS-III/Source/os_task.c ****     OS_RdyListInsertTail(p_tcb);
 443:rtos/uCOS-III/Source/os_task.c **** 
 444:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
 445:rtos/uCOS-III/Source/os_task.c ****     OS_TaskDbgListAdd(p_tcb);
 446:rtos/uCOS-III/Source/os_task.c **** #endif
 447:rtos/uCOS-III/Source/os_task.c **** 
 448:rtos/uCOS-III/Source/os_task.c ****     OSTaskQty++;                                                /* Increment the #tasks counter    
 449:rtos/uCOS-III/Source/os_task.c **** 
 450:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Return if multitasking has not s
 451:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 452:rtos/uCOS-III/Source/os_task.c ****         return;
 453:rtos/uCOS-III/Source/os_task.c ****     }
 454:rtos/uCOS-III/Source/os_task.c **** 
 455:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 456:rtos/uCOS-III/Source/os_task.c **** 
 457:rtos/uCOS-III/Source/os_task.c ****     OSSched();
 458:rtos/uCOS-III/Source/os_task.c **** }
 459:rtos/uCOS-III/Source/os_task.c **** 
 460:rtos/uCOS-III/Source/os_task.c **** 
 461:rtos/uCOS-III/Source/os_task.c **** /*
 462:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 463:rtos/uCOS-III/Source/os_task.c **** *                                                     DELETE A TASK
 464:rtos/uCOS-III/Source/os_task.c **** *
 465:rtos/uCOS-III/Source/os_task.c **** * Description: This function allows you to delete a task.  The calling task can delete itself by sp
 466:rtos/uCOS-III/Source/os_task.c **** *              pointer for 'p_tcb'.  The deleted task is returned to the dormant state and can be r
 467:rtos/uCOS-III/Source/os_task.c **** *              creating the deleted task again.
 468:rtos/uCOS-III/Source/os_task.c **** *
 469:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb      is the TCB of the tack to delete
 470:rtos/uCOS-III/Source/os_task.c **** *
 471:rtos/uCOS-III/Source/os_task.c **** *              p_err      is a pointer to an error code returned by this function:
 472:rtos/uCOS-III/Source/os_task.c **** *
 473:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_NONE                    If the call is successful
 474:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_ILLEGAL_DEL_RUN_TIME    If you are trying to delete the task a
 475:rtos/uCOS-III/Source/os_task.c **** *                                                              OSStart()
 476:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_OS_NOT_RUNNING          If uC/OS-III is not running yet
 477:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_STATE_INVALID           If the state of the task is invalid
 478:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_DEL_IDLE           If you attempted to delete uC/OS-III's
 479:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_DEL_INVALID        If you attempted to delete uC/OS-III's
 480:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_DEL_ISR            If you tried to delete a task from an 
 481:rtos/uCOS-III/Source/os_task.c **** *
 482:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
 483:rtos/uCOS-III/Source/os_task.c **** *
 484:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : 1) 'p_err' gets set to OS_ERR_NONE before OSSched() to allow the returned err or cod
 485:rtos/uCOS-III/Source/os_task.c **** *                 for a task that is deleting itself. In this case, 'p_err' MUST point to a global 
ARM GAS  /tmp/ccS1bHPU.s 			page 10


 486:rtos/uCOS-III/Source/os_task.c **** *                 accessed by another task.
 487:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 488:rtos/uCOS-III/Source/os_task.c **** */
 489:rtos/uCOS-III/Source/os_task.c **** 
 490:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_DEL_EN > 0u)
 491:rtos/uCOS-III/Source/os_task.c **** void  OSTaskDel (OS_TCB  *p_tcb,
 492:rtos/uCOS-III/Source/os_task.c ****                  OS_ERR  *p_err)
 493:rtos/uCOS-III/Source/os_task.c **** {
 494:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 495:rtos/uCOS-III/Source/os_task.c ****     OS_TCB   *p_tcb_owner;
 496:rtos/uCOS-III/Source/os_task.c ****     OS_PRIO   prio_new;
 497:rtos/uCOS-III/Source/os_task.c **** #endif
 498:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 499:rtos/uCOS-III/Source/os_task.c **** 
 500:rtos/uCOS-III/Source/os_task.c **** 
 501:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 502:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
 503:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 504:rtos/uCOS-III/Source/os_task.c ****         return;
 505:rtos/uCOS-III/Source/os_task.c ****     }
 506:rtos/uCOS-III/Source/os_task.c **** #endif
 507:rtos/uCOS-III/Source/os_task.c **** 
 508:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 509:rtos/uCOS-III/Source/os_task.c ****     if (OSSafetyCriticalStartFlag == OS_TRUE) {
 510:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_ILLEGAL_DEL_RUN_TIME;
 511:rtos/uCOS-III/Source/os_task.c ****         return;
 512:rtos/uCOS-III/Source/os_task.c ****     }
 513:rtos/uCOS-III/Source/os_task.c **** #endif
 514:rtos/uCOS-III/Source/os_task.c **** 
 515:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 516:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to delete from ISR
 517:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_DEL_ISR;
 518:rtos/uCOS-III/Source/os_task.c ****         return;
 519:rtos/uCOS-III/Source/os_task.c ****     }
 520:rtos/uCOS-III/Source/os_task.c **** #endif
 521:rtos/uCOS-III/Source/os_task.c **** 
 522:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 523:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 524:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 525:rtos/uCOS-III/Source/os_task.c ****         return;
 526:rtos/uCOS-III/Source/os_task.c ****     }
 527:rtos/uCOS-III/Source/os_task.c **** #endif
 528:rtos/uCOS-III/Source/os_task.c **** 
 529:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 530:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == &OSIdleTaskTCB) {                              /* Not allowed to delete the idle t
 531:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_DEL_IDLE;
 532:rtos/uCOS-III/Source/os_task.c ****         return;
 533:rtos/uCOS-III/Source/os_task.c ****     }
 534:rtos/uCOS-III/Source/os_task.c **** #endif
 535:rtos/uCOS-III/Source/os_task.c **** 
 536:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Delete 'Self'?                  
 537:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_ENTER();
 538:rtos/uCOS-III/Source/os_task.c ****         p_tcb  = OSTCBCurPtr;                                   /* Yes.                            
 539:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 540:rtos/uCOS-III/Source/os_task.c ****     }
 541:rtos/uCOS-III/Source/os_task.c **** 
 542:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
ARM GAS  /tmp/ccS1bHPU.s 			page 11


 543:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 544:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 545:rtos/uCOS-III/Source/os_task.c ****              OS_RdyListRemove(p_tcb);
 546:rtos/uCOS-III/Source/os_task.c ****              break;
 547:rtos/uCOS-III/Source/os_task.c **** 
 548:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
 549:rtos/uCOS-III/Source/os_task.c ****              break;
 550:rtos/uCOS-III/Source/os_task.c **** 
 551:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY:                                 /* Task is only delayed, not on any
 552:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
 553:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TICK_EN > 0u)
 554:rtos/uCOS-III/Source/os_task.c ****              OS_TickListRemove(p_tcb);
 555:rtos/uCOS-III/Source/os_task.c **** #endif
 556:rtos/uCOS-III/Source/os_task.c ****              break;
 557:rtos/uCOS-III/Source/os_task.c **** 
 558:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND:
 559:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
 560:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
 561:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
 562:rtos/uCOS-III/Source/os_task.c ****              switch (p_tcb->PendOn) {                           /* See what we are pending on      
 563:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_NOTHING:
 564:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_TASK_Q:                   /* There is no wait list for these 
 565:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_TASK_SEM:
 566:rtos/uCOS-III/Source/os_task.c ****                       break;
 567:rtos/uCOS-III/Source/os_task.c **** 
 568:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_FLAG:                     /* Remove from pend list           
 569:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_Q:
 570:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_SEM:
 571:rtos/uCOS-III/Source/os_task.c ****                       OS_PendListRemove(p_tcb);
 572:rtos/uCOS-III/Source/os_task.c ****                       break;
 573:rtos/uCOS-III/Source/os_task.c **** 
 574:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 575:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_MUTEX:
 576:rtos/uCOS-III/Source/os_task.c ****                       p_tcb_owner = ((OS_MUTEX *)((void *)p_tcb->PendObjPtr))->OwnerTCBPtr;
 577:rtos/uCOS-III/Source/os_task.c ****                       prio_new = p_tcb_owner->Prio;
 578:rtos/uCOS-III/Source/os_task.c ****                       OS_PendListRemove(p_tcb);
 579:rtos/uCOS-III/Source/os_task.c ****                       if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 580:rtos/uCOS-III/Source/os_task.c ****                           (p_tcb_owner->Prio == p_tcb->Prio)) { /* Has the owner inherited a priori
 581:rtos/uCOS-III/Source/os_task.c ****                           prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 582:rtos/uCOS-III/Source/os_task.c ****                           prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : p
 583:rtos/uCOS-III/Source/os_task.c ****                       }
 584:rtos/uCOS-III/Source/os_task.c ****                       p_tcb->PendOn = OS_TASK_PEND_ON_NOTHING;
 585:rtos/uCOS-III/Source/os_task.c **** 
 586:rtos/uCOS-III/Source/os_task.c ****                       if (prio_new != p_tcb_owner->Prio) {
 587:rtos/uCOS-III/Source/os_task.c ****                           OS_TaskChangePrio(p_tcb_owner, prio_new);
 588:rtos/uCOS-III/Source/os_task.c ****                           OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(p_tcb_owner, p_tcb_owner->Prio);
 589:rtos/uCOS-III/Source/os_task.c ****                       }
 590:rtos/uCOS-III/Source/os_task.c ****                       break;
 591:rtos/uCOS-III/Source/os_task.c **** #endif
 592:rtos/uCOS-III/Source/os_task.c **** 
 593:rtos/uCOS-III/Source/os_task.c ****                  default:
 594:rtos/uCOS-III/Source/os_task.c ****                                                                 /* Default case.                   
 595:rtos/uCOS-III/Source/os_task.c ****                       break;
 596:rtos/uCOS-III/Source/os_task.c ****              }
 597:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TICK_EN > 0u)
 598:rtos/uCOS-III/Source/os_task.c ****              if ((p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT) ||
 599:rtos/uCOS-III/Source/os_task.c ****                  (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED)) {
ARM GAS  /tmp/ccS1bHPU.s 			page 12


 600:rtos/uCOS-III/Source/os_task.c ****                  OS_TickListRemove(p_tcb);
 601:rtos/uCOS-III/Source/os_task.c ****              }
 602:rtos/uCOS-III/Source/os_task.c **** #endif
 603:rtos/uCOS-III/Source/os_task.c ****              break;
 604:rtos/uCOS-III/Source/os_task.c **** 
 605:rtos/uCOS-III/Source/os_task.c ****         default:
 606:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 607:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_STATE_INVALID;
 608:rtos/uCOS-III/Source/os_task.c ****             return;
 609:rtos/uCOS-III/Source/os_task.c ****     }
 610:rtos/uCOS-III/Source/os_task.c **** 
 611:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 612:rtos/uCOS-III/Source/os_task.c ****     if(p_tcb->MutexGrpHeadPtr != (OS_MUTEX *)0) {
 613:rtos/uCOS-III/Source/os_task.c ****         OS_MutexGrpPostAll(p_tcb);
 614:rtos/uCOS-III/Source/os_task.c ****     }
 615:rtos/uCOS-III/Source/os_task.c **** #endif
 616:rtos/uCOS-III/Source/os_task.c **** 
 617:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
 618:rtos/uCOS-III/Source/os_task.c ****     (void)OS_MsgQFreeAll(&p_tcb->MsgQ);                         /* Free task's message queue messag
 619:rtos/uCOS-III/Source/os_task.c **** #endif
 620:rtos/uCOS-III/Source/os_task.c **** 
 621:rtos/uCOS-III/Source/os_task.c ****     OSTaskDelHook(p_tcb);                                       /* Call user defined hook          
 622:rtos/uCOS-III/Source/os_task.c **** 
 623:rtos/uCOS-III/Source/os_task.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
 624:rtos/uCOS-III/Source/os_task.c ****     OS_TLS_TaskDel(p_tcb);                                      /* Call TLS hook                   
 625:rtos/uCOS-III/Source/os_task.c **** #endif
 626:rtos/uCOS-III/Source/os_task.c **** 
 627:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
 628:rtos/uCOS-III/Source/os_task.c ****     OS_TaskDbgListRemove(p_tcb);
 629:rtos/uCOS-III/Source/os_task.c **** #endif
 630:rtos/uCOS-III/Source/os_task.c **** 
 631:rtos/uCOS-III/Source/os_task.c ****     OSTaskQty--;                                                /* One less task being managed     
 632:rtos/uCOS-III/Source/os_task.c **** 
 633:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_DEL(p_tcb);
 634:rtos/uCOS-III/Source/os_task.c **** 
 635:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN == 0u)                          /* Don't clear the TCB before check
 636:rtos/uCOS-III/Source/os_task.c ****     OS_TaskInitTCB(p_tcb);                                      /* Initialize the TCB to default va
 637:rtos/uCOS-III/Source/os_task.c **** #endif
 638:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TaskState = (OS_STATE)OS_TASK_STATE_DEL;             /* Indicate that the task was delet
 639:rtos/uCOS-III/Source/os_task.c **** 
 640:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;                                        /* See Note #1.                    
 641:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 642:rtos/uCOS-III/Source/os_task.c **** 
 643:rtos/uCOS-III/Source/os_task.c ****     OSSched();                                                  /* Find new highest priority task  
 644:rtos/uCOS-III/Source/os_task.c **** }
 645:rtos/uCOS-III/Source/os_task.c **** #endif
 646:rtos/uCOS-III/Source/os_task.c **** 
 647:rtos/uCOS-III/Source/os_task.c **** 
 648:rtos/uCOS-III/Source/os_task.c **** /*
 649:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 650:rtos/uCOS-III/Source/os_task.c **** *                                                    FLUSH TASK's QUEUE
 651:rtos/uCOS-III/Source/os_task.c **** *
 652:rtos/uCOS-III/Source/os_task.c **** * Description: This function is used to flush the task's internal message queue.
 653:rtos/uCOS-III/Source/os_task.c **** *
 654:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb       is a pointer to the task's OS_TCB.  Specifying a NULL pointer indicates 
 655:rtos/uCOS-III/Source/os_task.c **** *                          flush the message queue of the calling task.
 656:rtos/uCOS-III/Source/os_task.c **** *
ARM GAS  /tmp/ccS1bHPU.s 			page 13


 657:rtos/uCOS-III/Source/os_task.c **** *              p_err       is a pointer to a variable that will contain an error code returned by t
 658:rtos/uCOS-III/Source/os_task.c **** *
 659:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_NONE              Upon success
 660:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_FLUSH_ISR         If you called this function from an ISR
 661:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_OS_NOT_RUNNING    If uC/OS-III is not running yet
 662:rtos/uCOS-III/Source/os_task.c **** *
 663:rtos/uCOS-III/Source/os_task.c **** * Returns     : The number of entries freed from the queue
 664:rtos/uCOS-III/Source/os_task.c **** *
 665:rtos/uCOS-III/Source/os_task.c **** * Note(s)     : 1) You should use this function with great care because, when to flush the queue, y
 666:rtos/uCOS-III/Source/os_task.c **** *                  references to what the queue entries are pointing to and thus, you could cause '
 667:rtos/uCOS-III/Source/os_task.c **** *                  other words, the data you are pointing to that's being referenced by the queue e
 668:rtos/uCOS-III/Source/os_task.c **** *                  likely, need to be de-allocated (i.e. freed).
 669:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 670:rtos/uCOS-III/Source/os_task.c **** */
 671:rtos/uCOS-III/Source/os_task.c **** 
 672:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
 673:rtos/uCOS-III/Source/os_task.c **** OS_MSG_QTY  OSTaskQFlush (OS_TCB  *p_tcb,
 674:rtos/uCOS-III/Source/os_task.c ****                           OS_ERR  *p_err)
 675:rtos/uCOS-III/Source/os_task.c **** {
  30              		.loc 1 675 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 675 1 is_stmt 0 view .LVU1
  35 0000 70B5     		push	{r4, r5, r6, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 16
  38              		.cfi_offset 4, -16
  39              		.cfi_offset 5, -12
  40              		.cfi_offset 6, -8
  41              		.cfi_offset 14, -4
  42 0002 0C46     		mov	r4, r1
 676:rtos/uCOS-III/Source/os_task.c ****     OS_MSG_QTY  entries;
  43              		.loc 1 676 5 is_stmt 1 view .LVU2
 677:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
  44              		.loc 1 677 5 view .LVU3
  45              	.LVL1:
 678:rtos/uCOS-III/Source/os_task.c **** 
 679:rtos/uCOS-III/Source/os_task.c **** 
 680:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 681:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
 682:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 683:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 684:rtos/uCOS-III/Source/os_task.c ****     }
 685:rtos/uCOS-III/Source/os_task.c **** #endif
 686:rtos/uCOS-III/Source/os_task.c **** 
 687:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 688:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Can't flush a message queue from
  46              		.loc 1 688 5 view .LVU4
  47              		.loc 1 688 25 is_stmt 0 view .LVU5
  48 0004 154B     		ldr	r3, .L9
  49 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  50              		.loc 1 688 8 view .LVU6
  51 0008 4BB9     		cbnz	r3, .L7
  52 000a 0546     		mov	r5, r0
 689:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_FLUSH_ISR;
 690:rtos/uCOS-III/Source/os_task.c ****         return (0u);
ARM GAS  /tmp/ccS1bHPU.s 			page 14


 691:rtos/uCOS-III/Source/os_task.c ****     }
 692:rtos/uCOS-III/Source/os_task.c **** #endif
 693:rtos/uCOS-III/Source/os_task.c **** 
 694:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 695:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
  53              		.loc 1 695 5 is_stmt 1 view .LVU7
  54              		.loc 1 695 19 is_stmt 0 view .LVU8
  55 000c 144B     		ldr	r3, .L9+4
  56 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  57              		.loc 1 695 8 view .LVU9
  58 0010 012B     		cmp	r3, #1
  59 0012 0AD0     		beq	.L4
 696:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
  60              		.loc 1 696 8 is_stmt 1 view .LVU10
  61              		.loc 1 696 15 is_stmt 0 view .LVU11
  62 0014 45F68963 		movw	r3, #24201
  63 0018 0B80     		strh	r3, [r1]	@ movhi
 697:rtos/uCOS-III/Source/os_task.c ****         return (0u);
  64              		.loc 1 697 9 is_stmt 1 view .LVU12
  65              		.loc 1 697 16 is_stmt 0 view .LVU13
  66 001a 0025     		movs	r5, #0
  67 001c 03E0     		b	.L3
  68              	.L7:
 689:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_FLUSH_ISR;
  69              		.loc 1 689 8 is_stmt 1 view .LVU14
 689:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_FLUSH_ISR;
  70              		.loc 1 689 15 is_stmt 0 view .LVU15
  71 001e 4FF46C53 		mov	r3, #15104
  72 0022 0B80     		strh	r3, [r1]	@ movhi
 690:rtos/uCOS-III/Source/os_task.c ****     }
  73              		.loc 1 690 9 is_stmt 1 view .LVU16
 690:rtos/uCOS-III/Source/os_task.c ****     }
  74              		.loc 1 690 16 is_stmt 0 view .LVU17
  75 0024 0025     		movs	r5, #0
  76              	.LVL2:
  77              	.L3:
 698:rtos/uCOS-III/Source/os_task.c ****     }
 699:rtos/uCOS-III/Source/os_task.c **** #endif
 700:rtos/uCOS-III/Source/os_task.c **** 
 701:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Flush message queue of calling t
 702:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_ENTER();
 703:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 704:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 705:rtos/uCOS-III/Source/os_task.c ****     }
 706:rtos/uCOS-III/Source/os_task.c **** 
 707:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 708:rtos/uCOS-III/Source/os_task.c ****     entries = OS_MsgQFreeAll(&p_tcb->MsgQ);                     /* Return all OS_MSGs to the OS_MSG
 709:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 710:rtos/uCOS-III/Source/os_task.c ****    *p_err   = OS_ERR_NONE;
 711:rtos/uCOS-III/Source/os_task.c ****     return (entries);
 712:rtos/uCOS-III/Source/os_task.c **** }
  78              		.loc 1 712 1 view .LVU18
  79 0026 2846     		mov	r0, r5
  80 0028 70BD     		pop	{r4, r5, r6, pc}
  81              	.LVL3:
  82              	.L4:
 701:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_ENTER();
ARM GAS  /tmp/ccS1bHPU.s 			page 15


  83              		.loc 1 701 5 is_stmt 1 view .LVU19
 701:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_ENTER();
  84              		.loc 1 701 8 is_stmt 0 view .LVU20
  85 002a 70B1     		cbz	r0, .L8
  86              	.LVL4:
  87              	.L5:
 704:rtos/uCOS-III/Source/os_task.c ****     }
  88              		.loc 1 704 9 is_stmt 1 discriminator 1 view .LVU21
 704:rtos/uCOS-III/Source/os_task.c ****     }
  89              		.loc 1 704 9 discriminator 1 view .LVU22
 707:rtos/uCOS-III/Source/os_task.c ****     entries = OS_MsgQFreeAll(&p_tcb->MsgQ);                     /* Return all OS_MSGs to the OS_MSG
  90              		.loc 1 707 5 discriminator 1 view .LVU23
 707:rtos/uCOS-III/Source/os_task.c ****     entries = OS_MsgQFreeAll(&p_tcb->MsgQ);                     /* Return all OS_MSGs to the OS_MSG
  91              		.loc 1 707 5 discriminator 1 view .LVU24
 707:rtos/uCOS-III/Source/os_task.c ****     entries = OS_MsgQFreeAll(&p_tcb->MsgQ);                     /* Return all OS_MSGs to the OS_MSG
  92              		.loc 1 707 5 discriminator 1 view .LVU25
  93 002c 4020     		movs	r0, #64
  94 002e FFF7FEFF 		bl	CPU_SR_Save
  95              	.LVL5:
  96 0032 0646     		mov	r6, r0
  97              	.LVL6:
 707:rtos/uCOS-III/Source/os_task.c ****     entries = OS_MsgQFreeAll(&p_tcb->MsgQ);                     /* Return all OS_MSGs to the OS_MSG
  98              		.loc 1 707 5 discriminator 1 view .LVU26
 707:rtos/uCOS-III/Source/os_task.c ****     entries = OS_MsgQFreeAll(&p_tcb->MsgQ);                     /* Return all OS_MSGs to the OS_MSG
  99              		.loc 1 707 5 discriminator 1 view .LVU27
 708:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 100              		.loc 1 708 5 discriminator 1 view .LVU28
 708:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 101              		.loc 1 708 15 is_stmt 0 discriminator 1 view .LVU29
 102 0034 05F15C00 		add	r0, r5, #92
 103              	.LVL7:
 708:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 104              		.loc 1 708 15 discriminator 1 view .LVU30
 105 0038 FFF7FEFF 		bl	OS_MsgQFreeAll
 106              	.LVL8:
 107 003c 0546     		mov	r5, r0
 108              	.LVL9:
 709:rtos/uCOS-III/Source/os_task.c ****    *p_err   = OS_ERR_NONE;
 109              		.loc 1 709 5 is_stmt 1 discriminator 1 view .LVU31
 709:rtos/uCOS-III/Source/os_task.c ****    *p_err   = OS_ERR_NONE;
 110              		.loc 1 709 5 discriminator 1 view .LVU32
 709:rtos/uCOS-III/Source/os_task.c ****    *p_err   = OS_ERR_NONE;
 111              		.loc 1 709 5 discriminator 1 view .LVU33
 112 003e 3046     		mov	r0, r6
 113 0040 FFF7FEFF 		bl	CPU_SR_Restore
 114              	.LVL10:
 709:rtos/uCOS-III/Source/os_task.c ****    *p_err   = OS_ERR_NONE;
 115              		.loc 1 709 5 discriminator 1 view .LVU34
 709:rtos/uCOS-III/Source/os_task.c ****    *p_err   = OS_ERR_NONE;
 116              		.loc 1 709 5 discriminator 1 view .LVU35
 710:rtos/uCOS-III/Source/os_task.c ****     return (entries);
 117              		.loc 1 710 4 discriminator 1 view .LVU36
 710:rtos/uCOS-III/Source/os_task.c ****     return (entries);
 118              		.loc 1 710 13 is_stmt 0 discriminator 1 view .LVU37
 119 0044 0023     		movs	r3, #0
 120 0046 2380     		strh	r3, [r4]	@ movhi
 711:rtos/uCOS-III/Source/os_task.c **** }
ARM GAS  /tmp/ccS1bHPU.s 			page 16


 121              		.loc 1 711 5 is_stmt 1 discriminator 1 view .LVU38
 711:rtos/uCOS-III/Source/os_task.c **** }
 122              		.loc 1 711 12 is_stmt 0 discriminator 1 view .LVU39
 123 0048 EDE7     		b	.L3
 124              	.LVL11:
 125              	.L8:
 702:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 126              		.loc 1 702 9 is_stmt 1 view .LVU40
 702:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 127              		.loc 1 702 9 view .LVU41
 702:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 128              		.loc 1 702 9 view .LVU42
 129 004a 4020     		movs	r0, #64
 130              	.LVL12:
 702:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 131              		.loc 1 702 9 is_stmt 0 view .LVU43
 132 004c FFF7FEFF 		bl	CPU_SR_Save
 133              	.LVL13:
 702:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 134              		.loc 1 702 9 is_stmt 1 view .LVU44
 702:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 135              		.loc 1 702 9 view .LVU45
 703:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 136              		.loc 1 703 9 view .LVU46
 703:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 137              		.loc 1 703 15 is_stmt 0 view .LVU47
 138 0050 044B     		ldr	r3, .L9+8
 139 0052 1D68     		ldr	r5, [r3]
 140              	.LVL14:
 704:rtos/uCOS-III/Source/os_task.c ****     }
 141              		.loc 1 704 9 is_stmt 1 view .LVU48
 704:rtos/uCOS-III/Source/os_task.c ****     }
 142              		.loc 1 704 9 view .LVU49
 704:rtos/uCOS-III/Source/os_task.c ****     }
 143              		.loc 1 704 9 view .LVU50
 144 0054 FFF7FEFF 		bl	CPU_SR_Restore
 145              	.LVL15:
 704:rtos/uCOS-III/Source/os_task.c ****     }
 146              		.loc 1 704 9 is_stmt 0 view .LVU51
 147 0058 E8E7     		b	.L5
 148              	.L10:
 149 005a 00BF     		.align	2
 150              	.L9:
 151 005c 00000000 		.word	OSIntNestingCtr
 152 0060 00000000 		.word	OSRunning
 153 0064 00000000 		.word	OSTCBCurPtr
 154              		.cfi_endproc
 155              	.LFE3:
 157              		.section	.text.OSTaskQPend,"ax",%progbits
 158              		.align	1
 159              		.global	OSTaskQPend
 160              		.syntax unified
 161              		.thumb
 162              		.thumb_func
 163              		.fpu fpv4-sp-d16
 165              	OSTaskQPend:
 166              	.LVL16:
ARM GAS  /tmp/ccS1bHPU.s 			page 17


 167              	.LFB4:
 713:rtos/uCOS-III/Source/os_task.c **** #endif
 714:rtos/uCOS-III/Source/os_task.c **** 
 715:rtos/uCOS-III/Source/os_task.c **** 
 716:rtos/uCOS-III/Source/os_task.c **** /*
 717:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 718:rtos/uCOS-III/Source/os_task.c **** *                                                  WAIT FOR A MESSAGE
 719:rtos/uCOS-III/Source/os_task.c **** *
 720:rtos/uCOS-III/Source/os_task.c **** * Description: This function causes the current task to wait for a message to be posted to it.
 721:rtos/uCOS-III/Source/os_task.c **** *
 722:rtos/uCOS-III/Source/os_task.c **** * Arguments  : timeout       is an optional timeout period (in clock ticks).  If non-zero, your tas
 723:rtos/uCOS-III/Source/os_task.c **** *                            message to arrive up to the amount of time specified by this argument.
 724:rtos/uCOS-III/Source/os_task.c **** *                            If you specify 0, however, your task will wait forever or, until a mes
 725:rtos/uCOS-III/Source/os_task.c **** *
 726:rtos/uCOS-III/Source/os_task.c **** *              opt           determines whether the user wants to block if the task's queue is empt
 727:rtos/uCOS-III/Source/os_task.c **** *
 728:rtos/uCOS-III/Source/os_task.c **** *                                OS_OPT_PEND_BLOCKING
 729:rtos/uCOS-III/Source/os_task.c **** *                                OS_OPT_PEND_NON_BLOCKING
 730:rtos/uCOS-III/Source/os_task.c **** *
 731:rtos/uCOS-III/Source/os_task.c **** *              p_msg_size    is a pointer to a variable that will receive the size of the message
 732:rtos/uCOS-III/Source/os_task.c **** *
 733:rtos/uCOS-III/Source/os_task.c **** *              p_ts          is a pointer to a variable that will receive the timestamp of when the
 734:rtos/uCOS-III/Source/os_task.c **** *                            received.  If you pass a NULL pointer (i.e. (CPU_TS *)0) then you will
 735:rtos/uCOS-III/Source/os_task.c **** *                            timestamp.  In other words, passing a NULL pointer is valid and indica
 736:rtos/uCOS-III/Source/os_task.c **** *                            need the timestamp.
 737:rtos/uCOS-III/Source/os_task.c **** *
 738:rtos/uCOS-III/Source/os_task.c **** *              p_err         is a pointer to where an error message will be deposited.  Possible er
 739:rtos/uCOS-III/Source/os_task.c **** *                            messages are:
 740:rtos/uCOS-III/Source/os_task.c **** *
 741:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_NONE               The call was successful and your task re
 742:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_OPT_INVALID        If you specified an invalid option
 743:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
 744:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_PEND_ABORT         If the pend was aborted
 745:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_PEND_ISR           If you called this function from an ISR 
 746:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_PEND_WOULD_BLOCK   If you specified non-blocking but the qu
 747:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_PTR_INVALID        If 'p_msg_size' is NULL
 748:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_SCHED_LOCKED       If the scheduler is locked
 749:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_TIMEOUT            A message was not received within the sp
 750:rtos/uCOS-III/Source/os_task.c **** *                                                          would lead to a suspension
 751:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_TICK_DISABLED      If kernel ticks are disabled and a timeo
 752:rtos/uCOS-III/Source/os_task.c **** *
 753:rtos/uCOS-III/Source/os_task.c **** * Returns    : A pointer to the message received or a NULL pointer upon error.
 754:rtos/uCOS-III/Source/os_task.c **** *
 755:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : 1) It is possible to receive NULL pointers when there are no errors.
 756:rtos/uCOS-III/Source/os_task.c **** *
 757:rtos/uCOS-III/Source/os_task.c **** *            : 2) This API 'MUST NOT' be called from a timer callback function.
 758:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 759:rtos/uCOS-III/Source/os_task.c **** */
 760:rtos/uCOS-III/Source/os_task.c **** 
 761:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
 762:rtos/uCOS-III/Source/os_task.c **** void  *OSTaskQPend (OS_TICK       timeout,
 763:rtos/uCOS-III/Source/os_task.c ****                     OS_OPT        opt,
 764:rtos/uCOS-III/Source/os_task.c ****                     OS_MSG_SIZE  *p_msg_size,
 765:rtos/uCOS-III/Source/os_task.c ****                     CPU_TS       *p_ts,
 766:rtos/uCOS-III/Source/os_task.c ****                     OS_ERR       *p_err)
 767:rtos/uCOS-III/Source/os_task.c **** {
 168              		.loc 1 767 1 is_stmt 1 view -0
ARM GAS  /tmp/ccS1bHPU.s 			page 18


 169              		.cfi_startproc
 170              		@ args = 4, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172              		.loc 1 767 1 is_stmt 0 view .LVU53
 173 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 174              	.LCFI1:
 175              		.cfi_def_cfa_offset 32
 176              		.cfi_offset 4, -32
 177              		.cfi_offset 5, -28
 178              		.cfi_offset 6, -24
 179              		.cfi_offset 7, -20
 180              		.cfi_offset 8, -16
 181              		.cfi_offset 9, -12
 182              		.cfi_offset 10, -8
 183              		.cfi_offset 14, -4
 184 0004 1E46     		mov	r6, r3
 185 0006 DDF82090 		ldr	r9, [sp, #32]
 768:rtos/uCOS-III/Source/os_task.c ****     OS_MSG_Q  *p_msg_q;
 186              		.loc 1 768 5 is_stmt 1 view .LVU54
 769:rtos/uCOS-III/Source/os_task.c ****     void      *p_void;
 187              		.loc 1 769 5 view .LVU55
 770:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 188              		.loc 1 770 5 view .LVU56
 189              	.LVL17:
 771:rtos/uCOS-III/Source/os_task.c **** 
 772:rtos/uCOS-III/Source/os_task.c **** 
 773:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 774:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
 775:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 776:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 777:rtos/uCOS-III/Source/os_task.c ****     }
 778:rtos/uCOS-III/Source/os_task.c **** #endif
 779:rtos/uCOS-III/Source/os_task.c **** 
 780:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_ENTER(&OSTCBCurPtr->MsgQ, timeout, opt, p_msg_size, p_ts);
 190              		.loc 1 780 87 view .LVU57
 781:rtos/uCOS-III/Source/os_task.c **** 
 782:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TICK_EN == 0u)
 783:rtos/uCOS-III/Source/os_task.c ****     if (timeout != 0u) {
 784:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TICK_DISABLED;
 785:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_TICK_DISABLED);
 786:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 787:rtos/uCOS-III/Source/os_task.c ****     }
 788:rtos/uCOS-III/Source/os_task.c **** #endif
 789:rtos/uCOS-III/Source/os_task.c **** 
 790:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 791:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Can't Pend from an ISR          
 191              		.loc 1 791 5 view .LVU58
 192              		.loc 1 791 25 is_stmt 0 view .LVU59
 193 000a 464B     		ldr	r3, .L35
 194              	.LVL18:
 195              		.loc 1 791 25 view .LVU60
 196 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 197              		.loc 1 791 8 view .LVU61
 198 000e 002B     		cmp	r3, #0
 199 0010 43D1     		bne	.L28
 200 0012 8046     		mov	r8, r0
 201 0014 0C46     		mov	r4, r1
ARM GAS  /tmp/ccS1bHPU.s 			page 19


 202 0016 1546     		mov	r5, r2
 792:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_PEND_ISR);
 793:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ISR;
 794:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 795:rtos/uCOS-III/Source/os_task.c ****     }
 796:rtos/uCOS-III/Source/os_task.c **** #endif
 797:rtos/uCOS-III/Source/os_task.c **** 
 798:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 799:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 203              		.loc 1 799 5 is_stmt 1 view .LVU62
 204              		.loc 1 799 19 is_stmt 0 view .LVU63
 205 0018 434B     		ldr	r3, .L35+4
 206 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 207              		.loc 1 799 8 view .LVU64
 208 001c 012B     		cmp	r3, #1
 209 001e 42D1     		bne	.L29
 800:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 801:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 802:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 803:rtos/uCOS-III/Source/os_task.c ****     }
 804:rtos/uCOS-III/Source/os_task.c **** #endif
 805:rtos/uCOS-III/Source/os_task.c **** 
 806:rtos/uCOS-III/Source/os_task.c **** 
 807:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)                                    /* ---------------- VALIDATE ARGUME
 808:rtos/uCOS-III/Source/os_task.c ****     if (p_msg_size == (OS_MSG_SIZE *)0) {                       /* User must supply a valid destina
 210              		.loc 1 808 5 is_stmt 1 view .LVU65
 211              		.loc 1 808 8 is_stmt 0 view .LVU66
 212 0020 002A     		cmp	r2, #0
 213 0022 48D0     		beq	.L30
 809:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_PTR_INVALID);
 810:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PTR_INVALID;
 811:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 812:rtos/uCOS-III/Source/os_task.c ****     }
 813:rtos/uCOS-III/Source/os_task.c ****     switch (opt) {                                              /* User must supply a valid option 
 214              		.loc 1 813 5 is_stmt 1 view .LVU67
 215 0024 11B1     		cbz	r1, .L16
 216 0026 B1F5004F 		cmp	r1, #32768
 217 002a 4AD1     		bne	.L31
 218              	.L16:
 814:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_PEND_BLOCKING:
 815:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_PEND_NON_BLOCKING:
 816:rtos/uCOS-III/Source/os_task.c ****              break;
 219              		.loc 1 816 14 view .LVU68
 817:rtos/uCOS-III/Source/os_task.c **** 
 818:rtos/uCOS-III/Source/os_task.c ****         default:
 819:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_OPT_INVALID);
 820:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
 821:rtos/uCOS-III/Source/os_task.c ****              return ((void *)0);
 822:rtos/uCOS-III/Source/os_task.c ****     }
 823:rtos/uCOS-III/Source/os_task.c **** #endif
 824:rtos/uCOS-III/Source/os_task.c **** 
 825:rtos/uCOS-III/Source/os_task.c ****     if (p_ts != (CPU_TS *)0) {
 220              		.loc 1 825 5 view .LVU69
 221              		.loc 1 825 8 is_stmt 0 view .LVU70
 222 002c 0EB1     		cbz	r6, .L17
 826:rtos/uCOS-III/Source/os_task.c ****        *p_ts = 0u;                                              /* Initialize the returned timestam
 223              		.loc 1 826 8 is_stmt 1 view .LVU71
ARM GAS  /tmp/ccS1bHPU.s 			page 20


 224              		.loc 1 826 14 is_stmt 0 view .LVU72
 225 002e 0023     		movs	r3, #0
 226 0030 3360     		str	r3, [r6]
 227              	.L17:
 827:rtos/uCOS-III/Source/os_task.c ****     }
 828:rtos/uCOS-III/Source/os_task.c **** 
 829:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 228              		.loc 1 829 5 is_stmt 1 view .LVU73
 229              		.loc 1 829 5 view .LVU74
 230              		.loc 1 829 5 view .LVU75
 231 0032 4020     		movs	r0, #64
 232              	.LVL19:
 233              		.loc 1 829 5 is_stmt 0 view .LVU76
 234 0034 FFF7FEFF 		bl	CPU_SR_Save
 235              	.LVL20:
 236              		.loc 1 829 5 view .LVU77
 237 0038 8246     		mov	r10, r0
 238              	.LVL21:
 239              		.loc 1 829 5 is_stmt 1 view .LVU78
 240              		.loc 1 829 5 view .LVU79
 830:rtos/uCOS-III/Source/os_task.c ****     p_msg_q = &OSTCBCurPtr->MsgQ;                               /* Any message waiting in the messa
 241              		.loc 1 830 5 view .LVU80
 242              		.loc 1 830 27 is_stmt 0 view .LVU81
 243 003a 3C4B     		ldr	r3, .L35+8
 244 003c 1868     		ldr	r0, [r3]
 245              	.LVL22:
 831:rtos/uCOS-III/Source/os_task.c ****     p_void  = OS_MsgQGet(p_msg_q,
 246              		.loc 1 831 5 is_stmt 1 view .LVU82
 247              		.loc 1 831 15 is_stmt 0 view .LVU83
 248 003e 4B46     		mov	r3, r9
 249 0040 3246     		mov	r2, r6
 250 0042 2946     		mov	r1, r5
 251 0044 5C30     		adds	r0, r0, #92
 252              	.LVL23:
 253              		.loc 1 831 15 view .LVU84
 254 0046 FFF7FEFF 		bl	OS_MsgQGet
 255              	.LVL24:
 256              		.loc 1 831 15 view .LVU85
 257 004a 0746     		mov	r7, r0
 258              	.LVL25:
 832:rtos/uCOS-III/Source/os_task.c ****                          p_msg_size,
 833:rtos/uCOS-III/Source/os_task.c ****                          p_ts,
 834:rtos/uCOS-III/Source/os_task.c ****                          p_err);
 835:rtos/uCOS-III/Source/os_task.c ****     if (*p_err == OS_ERR_NONE) {
 259              		.loc 1 835 5 is_stmt 1 view .LVU86
 260              		.loc 1 835 9 is_stmt 0 view .LVU87
 261 004c B9F80030 		ldrh	r3, [r9]
 262              		.loc 1 835 8 view .LVU88
 263 0050 002B     		cmp	r3, #0
 264 0052 3CD0     		beq	.L32
 836:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
 837:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 838:rtos/uCOS-III/Source/os_task.c ****         if (p_ts != (CPU_TS *)0) {
 839:rtos/uCOS-III/Source/os_task.c ****             OSTCBCurPtr->MsgQPendTime = OS_TS_GET() - *p_ts;
 840:rtos/uCOS-III/Source/os_task.c ****             if (OSTCBCurPtr->MsgQPendTimeMax < OSTCBCurPtr->MsgQPendTime) {
 841:rtos/uCOS-III/Source/os_task.c ****                 OSTCBCurPtr->MsgQPendTimeMax = OSTCBCurPtr->MsgQPendTime;
 842:rtos/uCOS-III/Source/os_task.c ****             }
ARM GAS  /tmp/ccS1bHPU.s 			page 21


 843:rtos/uCOS-III/Source/os_task.c ****         }
 844:rtos/uCOS-III/Source/os_task.c **** #endif
 845:rtos/uCOS-III/Source/os_task.c **** #endif
 846:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND(p_msg_q);
 847:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 848:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_NONE);
 849:rtos/uCOS-III/Source/os_task.c ****         return (p_void);                                        /* Yes, Return oldest message recei
 850:rtos/uCOS-III/Source/os_task.c ****     }
 851:rtos/uCOS-III/Source/os_task.c **** 
 852:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_PEND_NON_BLOCKING) != 0u) {               /* Caller wants to block if not ava
 265              		.loc 1 852 5 is_stmt 1 view .LVU89
 266              		.loc 1 852 8 is_stmt 0 view .LVU90
 267 0054 14F4004F 		tst	r4, #32768
 268 0058 3DD1     		bne	.L33
 853:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_WOULD_BLOCK;                        /* No                              
 854:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 855:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 856:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_PEND_WOULD_BLOCK);
 857:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 858:rtos/uCOS-III/Source/os_task.c ****     } else {                                                    /* Yes                             
 859:rtos/uCOS-III/Source/os_task.c ****         if (OSSchedLockNestingCtr > 0u) {                       /* Can't block when the scheduler i
 269              		.loc 1 859 9 is_stmt 1 view .LVU91
 270              		.loc 1 859 35 is_stmt 0 view .LVU92
 271 005a 354B     		ldr	r3, .L35+12
 272 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 273              		.loc 1 859 12 view .LVU93
 274 005e 002B     		cmp	r3, #0
 275 0060 42D1     		bne	.L34
 860:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 861:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 862:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_SCHED_LOCKED);
 863:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 864:rtos/uCOS-III/Source/os_task.c ****             return ((void *)0);
 865:rtos/uCOS-III/Source/os_task.c ****         }
 866:rtos/uCOS-III/Source/os_task.c ****     }
 867:rtos/uCOS-III/Source/os_task.c **** 
 868:rtos/uCOS-III/Source/os_task.c ****     OS_Pend((OS_PEND_OBJ *)0,                                   /* Block task pending on Message   
 276              		.loc 1 868 5 is_stmt 1 view .LVU94
 277 0062 324C     		ldr	r4, .L35+8
 278 0064 4346     		mov	r3, r8
 279 0066 0222     		movs	r2, #2
 280 0068 2168     		ldr	r1, [r4]
 281 006a 0020     		movs	r0, #0
 282              	.LVL26:
 283              		.loc 1 868 5 is_stmt 0 view .LVU95
 284 006c FFF7FEFF 		bl	OS_Pend
 285              	.LVL27:
 869:rtos/uCOS-III/Source/os_task.c ****              OSTCBCurPtr,
 870:rtos/uCOS-III/Source/os_task.c ****              OS_TASK_PEND_ON_TASK_Q,
 871:rtos/uCOS-III/Source/os_task.c ****              timeout);
 872:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 286              		.loc 1 872 5 is_stmt 1 view .LVU96
 287              		.loc 1 872 5 view .LVU97
 288              		.loc 1 872 5 view .LVU98
 289 0070 5046     		mov	r0, r10
 290 0072 FFF7FEFF 		bl	CPU_SR_Restore
 291              	.LVL28:
ARM GAS  /tmp/ccS1bHPU.s 			page 22


 292              		.loc 1 872 5 view .LVU99
 293              		.loc 1 872 5 view .LVU100
 873:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_BLOCK(p_msg_q);
 294              		.loc 1 873 44 view .LVU101
 874:rtos/uCOS-III/Source/os_task.c ****     OSSched();                                                  /* Find the next highest priority t
 295              		.loc 1 874 5 view .LVU102
 296 0076 FFF7FEFF 		bl	OSSched
 297              	.LVL29:
 875:rtos/uCOS-III/Source/os_task.c **** 
 876:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 298              		.loc 1 876 5 view .LVU103
 299              		.loc 1 876 5 view .LVU104
 300              		.loc 1 876 5 view .LVU105
 301 007a 4020     		movs	r0, #64
 302 007c FFF7FEFF 		bl	CPU_SR_Save
 303              	.LVL30:
 304              		.loc 1 876 5 view .LVU106
 305              		.loc 1 876 5 view .LVU107
 877:rtos/uCOS-III/Source/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {
 306              		.loc 1 877 5 view .LVU108
 307              		.loc 1 877 24 is_stmt 0 view .LVU109
 308 0080 2268     		ldr	r2, [r4]
 309 0082 92F82D30 		ldrb	r3, [r2, #45]	@ zero_extendqisi2
 310              		.loc 1 877 5 view .LVU110
 311 0086 C3B3     		cbz	r3, .L21
 312 0088 012B     		cmp	r3, #1
 313 008a 40D0     		beq	.L22
 878:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_OK:                                 /* Extract message from TCB (Put th
 879:rtos/uCOS-III/Source/os_task.c ****              p_void      = OSTCBCurPtr->MsgPtr;
 880:rtos/uCOS-III/Source/os_task.c ****             *p_msg_size  = OSTCBCurPtr->MsgSize;
 881:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 882:rtos/uCOS-III/Source/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 883:rtos/uCOS-III/Source/os_task.c ****                 *p_ts = OSTCBCurPtr->TS;
 884:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
 885:rtos/uCOS-III/Source/os_task.c ****                 OSTCBCurPtr->MsgQPendTime = OS_TS_GET() - OSTCBCurPtr->TS;
 886:rtos/uCOS-III/Source/os_task.c ****                 if (OSTCBCurPtr->MsgQPendTimeMax < OSTCBCurPtr->MsgQPendTime) {
 887:rtos/uCOS-III/Source/os_task.c ****                     OSTCBCurPtr->MsgQPendTimeMax = OSTCBCurPtr->MsgQPendTime;
 888:rtos/uCOS-III/Source/os_task.c ****                 }
 889:rtos/uCOS-III/Source/os_task.c **** #endif
 890:rtos/uCOS-III/Source/os_task.c ****              }
 891:rtos/uCOS-III/Source/os_task.c **** #endif
 892:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_MSG_Q_PEND(p_msg_q);
 893:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_NONE;
 894:rtos/uCOS-III/Source/os_task.c ****              break;
 895:rtos/uCOS-III/Source/os_task.c **** 
 896:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_ABORT:                              /* Indicate that we aborted        
 897:rtos/uCOS-III/Source/os_task.c ****              p_void     = (void *)0;
 898:rtos/uCOS-III/Source/os_task.c ****             *p_msg_size = 0u;
 899:rtos/uCOS-III/Source/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 900:rtos/uCOS-III/Source/os_task.c ****                 *p_ts = 0u;
 901:rtos/uCOS-III/Source/os_task.c ****              }
 902:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 903:rtos/uCOS-III/Source/os_task.c ****             *p_err      =  OS_ERR_PEND_ABORT;
 904:rtos/uCOS-III/Source/os_task.c ****              break;
 905:rtos/uCOS-III/Source/os_task.c **** 
 906:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_TIMEOUT:                            /* Indicate that we didn't get even
 907:rtos/uCOS-III/Source/os_task.c ****         default:
ARM GAS  /tmp/ccS1bHPU.s 			page 23


 908:rtos/uCOS-III/Source/os_task.c ****              p_void     = (void *)0;
 314              		.loc 1 908 14 is_stmt 1 view .LVU111
 315              	.LVL31:
 909:rtos/uCOS-III/Source/os_task.c ****             *p_msg_size = 0u;
 316              		.loc 1 909 13 view .LVU112
 317              		.loc 1 909 25 is_stmt 0 view .LVU113
 318 008c 0027     		movs	r7, #0
 319 008e 2F80     		strh	r7, [r5]	@ movhi
 910:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 911:rtos/uCOS-III/Source/os_task.c ****              if (p_ts  != (CPU_TS *)0) {
 912:rtos/uCOS-III/Source/os_task.c ****                 *p_ts = OSTCBCurPtr->TS;
 913:rtos/uCOS-III/Source/os_task.c ****              }
 914:rtos/uCOS-III/Source/os_task.c **** #endif
 915:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 320              		.loc 1 915 54 is_stmt 1 view .LVU114
 916:rtos/uCOS-III/Source/os_task.c ****             *p_err      =  OS_ERR_TIMEOUT;
 321              		.loc 1 916 13 view .LVU115
 322              		.loc 1 916 25 is_stmt 0 view .LVU116
 323 0090 47F2D923 		movw	r3, #29401
 324 0094 A9F80030 		strh	r3, [r9]	@ movhi
 917:rtos/uCOS-III/Source/os_task.c ****              break;
 325              		.loc 1 917 14 is_stmt 1 view .LVU117
 326 0098 36E0     		b	.L24
 327              	.LVL32:
 328              	.L28:
 792:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ISR;
 329              		.loc 1 792 55 view .LVU118
 793:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 330              		.loc 1 793 8 view .LVU119
 793:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 331              		.loc 1 793 15 is_stmt 0 view .LVU120
 332 009a 46F2AE13 		movw	r3, #25006
 333 009e A9F80030 		strh	r3, [r9]	@ movhi
 794:rtos/uCOS-III/Source/os_task.c ****     }
 334              		.loc 1 794 9 is_stmt 1 view .LVU121
 794:rtos/uCOS-III/Source/os_task.c ****     }
 335              		.loc 1 794 16 is_stmt 0 view .LVU122
 336 00a2 0027     		movs	r7, #0
 337 00a4 04E0     		b	.L11
 338              	.L29:
 800:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 339              		.loc 1 800 61 is_stmt 1 view .LVU123
 801:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 340              		.loc 1 801 8 view .LVU124
 801:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 341              		.loc 1 801 15 is_stmt 0 view .LVU125
 342 00a6 45F68963 		movw	r3, #24201
 343 00aa A9F80030 		strh	r3, [r9]	@ movhi
 802:rtos/uCOS-III/Source/os_task.c ****     }
 344              		.loc 1 802 9 is_stmt 1 view .LVU126
 802:rtos/uCOS-III/Source/os_task.c ****     }
 345              		.loc 1 802 16 is_stmt 0 view .LVU127
 346 00ae 0027     		movs	r7, #0
 347              	.LVL33:
 348              	.L11:
 918:rtos/uCOS-III/Source/os_task.c ****     }
 919:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
ARM GAS  /tmp/ccS1bHPU.s 			page 24


 920:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_EXIT(*p_err);
 921:rtos/uCOS-III/Source/os_task.c ****     return (p_void);                                            /* Return received message         
 922:rtos/uCOS-III/Source/os_task.c **** }
 349              		.loc 1 922 1 view .LVU128
 350 00b0 3846     		mov	r0, r7
 351 00b2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 352              	.LVL34:
 353              	.L30:
 809:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PTR_INVALID;
 354              		.loc 1 809 58 is_stmt 1 view .LVU129
 810:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 355              		.loc 1 810 8 view .LVU130
 810:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 356              		.loc 1 810 15 is_stmt 0 view .LVU131
 357 00b6 46F2D523 		movw	r3, #25301
 358 00ba A9F80030 		strh	r3, [r9]	@ movhi
 811:rtos/uCOS-III/Source/os_task.c ****     }
 359              		.loc 1 811 9 is_stmt 1 view .LVU132
 811:rtos/uCOS-III/Source/os_task.c ****     }
 360              		.loc 1 811 16 is_stmt 0 view .LVU133
 361 00be 1746     		mov	r7, r2
 362 00c0 F6E7     		b	.L11
 363              	.L31:
 819:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
 364              		.loc 1 819 63 is_stmt 1 view .LVU134
 820:rtos/uCOS-III/Source/os_task.c ****              return ((void *)0);
 365              		.loc 1 820 13 view .LVU135
 820:rtos/uCOS-III/Source/os_task.c ****              return ((void *)0);
 366              		.loc 1 820 20 is_stmt 0 view .LVU136
 367 00c2 45F62563 		movw	r3, #24101
 368 00c6 A9F80030 		strh	r3, [r9]	@ movhi
 821:rtos/uCOS-III/Source/os_task.c ****     }
 369              		.loc 1 821 14 is_stmt 1 view .LVU137
 821:rtos/uCOS-III/Source/os_task.c ****     }
 370              		.loc 1 821 21 is_stmt 0 view .LVU138
 371 00ca 0027     		movs	r7, #0
 372 00cc F0E7     		b	.L11
 373              	.LVL35:
 374              	.L32:
 846:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 375              		.loc 1 846 42 is_stmt 1 view .LVU139
 847:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_NONE);
 376              		.loc 1 847 9 view .LVU140
 847:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_NONE);
 377              		.loc 1 847 9 view .LVU141
 847:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_NONE);
 378              		.loc 1 847 9 view .LVU142
 379 00ce 5046     		mov	r0, r10
 380              	.LVL36:
 847:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_NONE);
 381              		.loc 1 847 9 is_stmt 0 view .LVU143
 382 00d0 FFF7FEFF 		bl	CPU_SR_Restore
 383              	.LVL37:
 847:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_NONE);
 384              		.loc 1 847 9 is_stmt 1 view .LVU144
 847:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_NONE);
 385              		.loc 1 847 9 view .LVU145
ARM GAS  /tmp/ccS1bHPU.s 			page 25


 848:rtos/uCOS-III/Source/os_task.c ****         return (p_void);                                        /* Yes, Return oldest message recei
 386              		.loc 1 848 51 view .LVU146
 849:rtos/uCOS-III/Source/os_task.c ****     }
 387              		.loc 1 849 9 view .LVU147
 849:rtos/uCOS-III/Source/os_task.c ****     }
 388              		.loc 1 849 16 is_stmt 0 view .LVU148
 389 00d4 ECE7     		b	.L11
 390              	.LVL38:
 391              	.L33:
 853:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 392              		.loc 1 853 8 is_stmt 1 view .LVU149
 853:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 393              		.loc 1 853 15 is_stmt 0 view .LVU150
 394 00d6 46F2B013 		movw	r3, #25008
 395 00da A9F80030 		strh	r3, [r9]	@ movhi
 854:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 396              		.loc 1 854 9 is_stmt 1 view .LVU151
 854:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 397              		.loc 1 854 9 view .LVU152
 854:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 398              		.loc 1 854 9 view .LVU153
 399 00de 5046     		mov	r0, r10
 400              	.LVL39:
 854:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 401              		.loc 1 854 9 is_stmt 0 view .LVU154
 402 00e0 FFF7FEFF 		bl	CPU_SR_Restore
 403              	.LVL40:
 854:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 404              		.loc 1 854 9 is_stmt 1 view .LVU155
 854:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 405              		.loc 1 854 9 view .LVU156
 855:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_PEND_WOULD_BLOCK);
 406              		.loc 1 855 49 view .LVU157
 856:rtos/uCOS-III/Source/os_task.c ****         return ((void *)0);
 407              		.loc 1 856 63 view .LVU158
 857:rtos/uCOS-III/Source/os_task.c ****     } else {                                                    /* Yes                             
 408              		.loc 1 857 9 view .LVU159
 857:rtos/uCOS-III/Source/os_task.c ****     } else {                                                    /* Yes                             
 409              		.loc 1 857 16 is_stmt 0 view .LVU160
 410 00e4 0027     		movs	r7, #0
 411              	.LVL41:
 857:rtos/uCOS-III/Source/os_task.c ****     } else {                                                    /* Yes                             
 412              		.loc 1 857 16 view .LVU161
 413 00e6 E3E7     		b	.L11
 414              	.LVL42:
 415              	.L34:
 860:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 416              		.loc 1 860 13 is_stmt 1 view .LVU162
 860:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 417              		.loc 1 860 13 view .LVU163
 860:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 418              		.loc 1 860 13 view .LVU164
 419 00e8 5046     		mov	r0, r10
 420              	.LVL43:
 860:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 421              		.loc 1 860 13 is_stmt 0 view .LVU165
 422 00ea FFF7FEFF 		bl	CPU_SR_Restore
ARM GAS  /tmp/ccS1bHPU.s 			page 26


 423              	.LVL44:
 860:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 424              		.loc 1 860 13 is_stmt 1 view .LVU166
 860:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_FAILED(p_msg_q);
 425              		.loc 1 860 13 view .LVU167
 861:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_MSG_Q_PEND_EXIT(OS_ERR_SCHED_LOCKED);
 426              		.loc 1 861 53 view .LVU168
 862:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 427              		.loc 1 862 63 view .LVU169
 863:rtos/uCOS-III/Source/os_task.c ****             return ((void *)0);
 428              		.loc 1 863 12 view .LVU170
 863:rtos/uCOS-III/Source/os_task.c ****             return ((void *)0);
 429              		.loc 1 863 19 is_stmt 0 view .LVU171
 430 00ee 46F66353 		movw	r3, #28003
 431 00f2 A9F80030 		strh	r3, [r9]	@ movhi
 864:rtos/uCOS-III/Source/os_task.c ****         }
 432              		.loc 1 864 13 is_stmt 1 view .LVU172
 864:rtos/uCOS-III/Source/os_task.c ****         }
 433              		.loc 1 864 20 is_stmt 0 view .LVU173
 434 00f6 0027     		movs	r7, #0
 435              	.LVL45:
 864:rtos/uCOS-III/Source/os_task.c ****         }
 436              		.loc 1 864 20 view .LVU174
 437 00f8 DAE7     		b	.L11
 438              	.LVL46:
 439              	.L21:
 879:rtos/uCOS-III/Source/os_task.c ****             *p_msg_size  = OSTCBCurPtr->MsgSize;
 440              		.loc 1 879 14 is_stmt 1 view .LVU175
 879:rtos/uCOS-III/Source/os_task.c ****             *p_msg_size  = OSTCBCurPtr->MsgSize;
 441              		.loc 1 879 26 is_stmt 0 view .LVU176
 442 00fa 576D     		ldr	r7, [r2, #84]
 443              	.LVL47:
 880:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 444              		.loc 1 880 13 is_stmt 1 view .LVU177
 880:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 445              		.loc 1 880 39 is_stmt 0 view .LVU178
 446 00fc B2F85830 		ldrh	r3, [r2, #88]
 880:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 447              		.loc 1 880 26 view .LVU179
 448 0100 2B80     		strh	r3, [r5]	@ movhi
 892:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_NONE;
 449              		.loc 1 892 47 is_stmt 1 view .LVU180
 893:rtos/uCOS-III/Source/os_task.c ****              break;
 450              		.loc 1 893 13 view .LVU181
 893:rtos/uCOS-III/Source/os_task.c ****              break;
 451              		.loc 1 893 20 is_stmt 0 view .LVU182
 452 0102 0023     		movs	r3, #0
 453 0104 A9F80030 		strh	r3, [r9]	@ movhi
 894:rtos/uCOS-III/Source/os_task.c **** 
 454              		.loc 1 894 14 is_stmt 1 view .LVU183
 455              	.LVL48:
 456              	.L24:
 919:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_EXIT(*p_err);
 457              		.loc 1 919 5 view .LVU184
 919:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_EXIT(*p_err);
 458              		.loc 1 919 5 view .LVU185
 919:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_EXIT(*p_err);
ARM GAS  /tmp/ccS1bHPU.s 			page 27


 459              		.loc 1 919 5 view .LVU186
 460 0108 FFF7FEFF 		bl	CPU_SR_Restore
 461              	.LVL49:
 919:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_EXIT(*p_err);
 462              		.loc 1 919 5 view .LVU187
 919:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_PEND_EXIT(*p_err);
 463              		.loc 1 919 5 view .LVU188
 920:rtos/uCOS-III/Source/os_task.c ****     return (p_void);                                            /* Return received message         
 464              		.loc 1 920 42 view .LVU189
 921:rtos/uCOS-III/Source/os_task.c **** }
 465              		.loc 1 921 5 view .LVU190
 921:rtos/uCOS-III/Source/os_task.c **** }
 466              		.loc 1 921 12 is_stmt 0 view .LVU191
 467 010c D0E7     		b	.L11
 468              	.LVL50:
 469              	.L22:
 897:rtos/uCOS-III/Source/os_task.c ****             *p_msg_size = 0u;
 470              		.loc 1 897 14 is_stmt 1 view .LVU192
 898:rtos/uCOS-III/Source/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 471              		.loc 1 898 13 view .LVU193
 898:rtos/uCOS-III/Source/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 472              		.loc 1 898 25 is_stmt 0 view .LVU194
 473 010e 0023     		movs	r3, #0
 474 0110 2B80     		strh	r3, [r5]	@ movhi
 899:rtos/uCOS-III/Source/os_task.c ****                 *p_ts = 0u;
 475              		.loc 1 899 14 is_stmt 1 view .LVU195
 899:rtos/uCOS-III/Source/os_task.c ****                 *p_ts = 0u;
 476              		.loc 1 899 17 is_stmt 0 view .LVU196
 477 0112 06B1     		cbz	r6, .L25
 900:rtos/uCOS-III/Source/os_task.c ****              }
 478              		.loc 1 900 17 is_stmt 1 view .LVU197
 900:rtos/uCOS-III/Source/os_task.c ****              }
 479              		.loc 1 900 23 is_stmt 0 view .LVU198
 480 0114 3360     		str	r3, [r6]
 481              	.L25:
 902:rtos/uCOS-III/Source/os_task.c ****             *p_err      =  OS_ERR_PEND_ABORT;
 482              		.loc 1 902 54 is_stmt 1 view .LVU199
 903:rtos/uCOS-III/Source/os_task.c ****              break;
 483              		.loc 1 903 13 view .LVU200
 903:rtos/uCOS-III/Source/os_task.c ****              break;
 484              		.loc 1 903 25 is_stmt 0 view .LVU201
 485 0116 46F2A913 		movw	r3, #25001
 486 011a A9F80030 		strh	r3, [r9]	@ movhi
 904:rtos/uCOS-III/Source/os_task.c **** 
 487              		.loc 1 904 14 is_stmt 1 view .LVU202
 897:rtos/uCOS-III/Source/os_task.c ****             *p_msg_size = 0u;
 488              		.loc 1 897 25 is_stmt 0 view .LVU203
 489 011e 0027     		movs	r7, #0
 904:rtos/uCOS-III/Source/os_task.c **** 
 490              		.loc 1 904 14 view .LVU204
 491 0120 F2E7     		b	.L24
 492              	.L36:
 493 0122 00BF     		.align	2
 494              	.L35:
 495 0124 00000000 		.word	OSIntNestingCtr
 496 0128 00000000 		.word	OSRunning
 497 012c 00000000 		.word	OSTCBCurPtr
ARM GAS  /tmp/ccS1bHPU.s 			page 28


 498 0130 00000000 		.word	OSSchedLockNestingCtr
 499              		.cfi_endproc
 500              	.LFE4:
 502              		.section	.text.OSTaskQPendAbort,"ax",%progbits
 503              		.align	1
 504              		.global	OSTaskQPendAbort
 505              		.syntax unified
 506              		.thumb
 507              		.thumb_func
 508              		.fpu fpv4-sp-d16
 510              	OSTaskQPendAbort:
 511              	.LVL51:
 512              	.LFB5:
 923:rtos/uCOS-III/Source/os_task.c **** #endif
 924:rtos/uCOS-III/Source/os_task.c **** 
 925:rtos/uCOS-III/Source/os_task.c **** 
 926:rtos/uCOS-III/Source/os_task.c **** /*
 927:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 928:rtos/uCOS-III/Source/os_task.c **** *                                              ABORT WAITING FOR A MESSAGE
 929:rtos/uCOS-III/Source/os_task.c **** *
 930:rtos/uCOS-III/Source/os_task.c **** * Description: This function aborts & readies the task specified.  This function should be used to 
 931:rtos/uCOS-III/Source/os_task.c **** *              for a message, rather than to normally post the message to the task via OSTaskQPost(
 932:rtos/uCOS-III/Source/os_task.c **** *
 933:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb     is a pointer to the task to pend abort
 934:rtos/uCOS-III/Source/os_task.c **** *
 935:rtos/uCOS-III/Source/os_task.c **** *              opt       provides options for this function:
 936:rtos/uCOS-III/Source/os_task.c **** *
 937:rtos/uCOS-III/Source/os_task.c **** *                            OS_OPT_POST_NONE         No option specified
 938:rtos/uCOS-III/Source/os_task.c **** *                            OS_OPT_POST_NO_SCHED     Indicates that the scheduler will not be call
 939:rtos/uCOS-III/Source/os_task.c **** *
 940:rtos/uCOS-III/Source/os_task.c **** *              p_err     is a pointer to a variable that will contain an error code returned by thi
 941:rtos/uCOS-III/Source/os_task.c **** *
 942:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_NONE               If the task was readied and informed of the 
 943:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_OPT_INVALID        If you specified an invalid option
 944:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
 945:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_PEND_ABORT_ISR     If you called this function from an ISR
 946:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_PEND_ABORT_NONE    If task was not pending on a message and thu
 947:rtos/uCOS-III/Source/os_task.c **** *                                                      abort
 948:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_PEND_ABORT_SELF    If you passed a NULL pointer for 'p_tcb'
 949:rtos/uCOS-III/Source/os_task.c **** *
 950:rtos/uCOS-III/Source/os_task.c **** * Returns    : == OS_FALSE   if task was not waiting for a message, or upon error.
 951:rtos/uCOS-III/Source/os_task.c **** *              == OS_TRUE    if task was waiting for a message and was readied and informed.
 952:rtos/uCOS-III/Source/os_task.c **** *
 953:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
 954:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
 955:rtos/uCOS-III/Source/os_task.c **** */
 956:rtos/uCOS-III/Source/os_task.c **** 
 957:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u) && (OS_CFG_TASK_Q_PEND_ABORT_EN > 0u)
 958:rtos/uCOS-III/Source/os_task.c **** CPU_BOOLEAN  OSTaskQPendAbort (OS_TCB  *p_tcb,
 959:rtos/uCOS-III/Source/os_task.c ****                                OS_OPT   opt,
 960:rtos/uCOS-III/Source/os_task.c ****                                OS_ERR  *p_err)
 961:rtos/uCOS-III/Source/os_task.c **** {
 513              		.loc 1 961 1 is_stmt 1 view -0
 514              		.cfi_startproc
 515              		@ args = 0, pretend = 0, frame = 0
 516              		@ frame_needed = 0, uses_anonymous_args = 0
 517              		.loc 1 961 1 is_stmt 0 view .LVU206
ARM GAS  /tmp/ccS1bHPU.s 			page 29


 518 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 519              	.LCFI2:
 520              		.cfi_def_cfa_offset 32
 521              		.cfi_offset 3, -32
 522              		.cfi_offset 4, -28
 523              		.cfi_offset 5, -24
 524              		.cfi_offset 6, -20
 525              		.cfi_offset 7, -16
 526              		.cfi_offset 8, -12
 527              		.cfi_offset 9, -8
 528              		.cfi_offset 14, -4
 529 0004 1546     		mov	r5, r2
 962:rtos/uCOS-III/Source/os_task.c ****     CPU_TS  ts;
 530              		.loc 1 962 5 is_stmt 1 view .LVU207
 963:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 531              		.loc 1 963 5 view .LVU208
 532              	.LVL52:
 964:rtos/uCOS-III/Source/os_task.c **** 
 965:rtos/uCOS-III/Source/os_task.c **** 
 966:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 967:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
 968:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 969:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 970:rtos/uCOS-III/Source/os_task.c ****     }
 971:rtos/uCOS-III/Source/os_task.c **** #endif
 972:rtos/uCOS-III/Source/os_task.c **** 
 973:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 974:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if called from ISR ...      
 533              		.loc 1 974 5 view .LVU209
 534              		.loc 1 974 25 is_stmt 0 view .LVU210
 535 0006 254B     		ldr	r3, .L49
 536 0008 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 537              		.loc 1 974 8 view .LVU211
 538 000a 5CB9     		cbnz	r4, .L47
 539 000c 0746     		mov	r7, r0
 540 000e 0E46     		mov	r6, r1
 975:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_ISR;                          /* ... can't Pend Abort from an ISR
 976:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 977:rtos/uCOS-III/Source/os_task.c ****     }
 978:rtos/uCOS-III/Source/os_task.c **** #endif
 979:rtos/uCOS-III/Source/os_task.c **** 
 980:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 981:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 541              		.loc 1 981 5 is_stmt 1 view .LVU212
 542              		.loc 1 981 19 is_stmt 0 view .LVU213
 543 0010 234B     		ldr	r3, .L49+4
 544 0012 93F80080 		ldrb	r8, [r3]	@ zero_extendqisi2
 545              		.loc 1 981 8 view .LVU214
 546 0016 B8F1010F 		cmp	r8, #1
 547 001a 0AD0     		beq	.L40
 982:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 548              		.loc 1 982 8 is_stmt 1 view .LVU215
 549              		.loc 1 982 15 is_stmt 0 view .LVU216
 550 001c 45F68963 		movw	r3, #24201
 551 0020 1380     		strh	r3, [r2]	@ movhi
 983:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 552              		.loc 1 983 9 is_stmt 1 view .LVU217
ARM GAS  /tmp/ccS1bHPU.s 			page 30


 553              		.loc 1 983 16 is_stmt 0 view .LVU218
 554 0022 03E0     		b	.L39
 555              	.L47:
 975:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_ISR;                          /* ... can't Pend Abort from an ISR
 556              		.loc 1 975 8 is_stmt 1 view .LVU219
 975:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_ISR;                          /* ... can't Pend Abort from an ISR
 557              		.loc 1 975 15 is_stmt 0 view .LVU220
 558 0024 46F2AA13 		movw	r3, #25002
 559 0028 1380     		strh	r3, [r2]	@ movhi
 976:rtos/uCOS-III/Source/os_task.c ****     }
 560              		.loc 1 976 9 is_stmt 1 view .LVU221
 976:rtos/uCOS-III/Source/os_task.c ****     }
 561              		.loc 1 976 16 is_stmt 0 view .LVU222
 562 002a 0024     		movs	r4, #0
 563              	.LVL53:
 564              	.L39:
 984:rtos/uCOS-III/Source/os_task.c ****     }
 985:rtos/uCOS-III/Source/os_task.c **** #endif
 986:rtos/uCOS-III/Source/os_task.c **** 
 987:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)                                    /* ---------------- VALIDATE ARGUME
 988:rtos/uCOS-III/Source/os_task.c ****     switch (opt) {                                              /* User must supply a valid option 
 989:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NONE:
 990:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NO_SCHED:
 991:rtos/uCOS-III/Source/os_task.c ****              break;
 992:rtos/uCOS-III/Source/os_task.c **** 
 993:rtos/uCOS-III/Source/os_task.c ****         default:
 994:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
 995:rtos/uCOS-III/Source/os_task.c ****              return (OS_FALSE);
 996:rtos/uCOS-III/Source/os_task.c ****     }
 997:rtos/uCOS-III/Source/os_task.c **** #endif
 998:rtos/uCOS-III/Source/os_task.c **** 
 999:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1000:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
1001:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
1002:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
1003:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
1004:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;                         /* ... doesn't make sense          
1005:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
1006:rtos/uCOS-III/Source/os_task.c ****     }
1007:rtos/uCOS-III/Source/os_task.c **** #endif
1008:rtos/uCOS-III/Source/os_task.c **** 
1009:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb->PendOn != OS_TASK_PEND_ON_TASK_Q) {              /* Is task waiting for a message?  
1010:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
1011:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
1012:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
1013:rtos/uCOS-III/Source/os_task.c ****     }
1014:rtos/uCOS-III/Source/os_task.c **** 
1015:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1016:rtos/uCOS-III/Source/os_task.c ****     ts = OS_TS_GET();                                           /* Get timestamp of when the abort 
1017:rtos/uCOS-III/Source/os_task.c **** #else
1018:rtos/uCOS-III/Source/os_task.c ****     ts = 0u;
1019:rtos/uCOS-III/Source/os_task.c **** #endif
1020:rtos/uCOS-III/Source/os_task.c ****     OS_PendAbort(p_tcb,                                         /* Abort the pend                  
1021:rtos/uCOS-III/Source/os_task.c ****                  ts,
1022:rtos/uCOS-III/Source/os_task.c ****                  OS_STATUS_PEND_ABORT);
1023:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1024:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
ARM GAS  /tmp/ccS1bHPU.s 			page 31


1025:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run the scheduler               
1026:rtos/uCOS-III/Source/os_task.c ****     }
1027:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
1028:rtos/uCOS-III/Source/os_task.c ****     return (OS_TRUE);
1029:rtos/uCOS-III/Source/os_task.c **** }
 565              		.loc 1 1029 1 view .LVU223
 566 002c 2046     		mov	r0, r4
 567 002e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 568              	.LVL54:
 569              	.L40:
 988:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NONE:
 570              		.loc 1 988 5 is_stmt 1 view .LVU224
 571 0032 31B1     		cbz	r1, .L41
 572 0034 B1F5004F 		cmp	r1, #32768
 573 0038 03D0     		beq	.L41
 994:rtos/uCOS-III/Source/os_task.c ****              return (OS_FALSE);
 574              		.loc 1 994 13 view .LVU225
 994:rtos/uCOS-III/Source/os_task.c ****              return (OS_FALSE);
 575              		.loc 1 994 20 is_stmt 0 view .LVU226
 576 003a 45F62563 		movw	r3, #24101
 577 003e 1380     		strh	r3, [r2]	@ movhi
 995:rtos/uCOS-III/Source/os_task.c ****     }
 578              		.loc 1 995 14 is_stmt 1 view .LVU227
 995:rtos/uCOS-III/Source/os_task.c ****     }
 579              		.loc 1 995 21 is_stmt 0 view .LVU228
 580 0040 F4E7     		b	.L39
 581              	.L41:
 991:rtos/uCOS-III/Source/os_task.c **** 
 582              		.loc 1 991 14 is_stmt 1 view .LVU229
 999:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 583              		.loc 1 999 5 view .LVU230
 999:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 584              		.loc 1 999 5 view .LVU231
 999:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 585              		.loc 1 999 5 view .LVU232
 586 0042 4020     		movs	r0, #64
 587              	.LVL55:
 999:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 588              		.loc 1 999 5 is_stmt 0 view .LVU233
 589 0044 FFF7FEFF 		bl	CPU_SR_Save
 590              	.LVL56:
 999:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 591              		.loc 1 999 5 view .LVU234
 592 0048 8146     		mov	r9, r0
 593              	.LVL57:
 999:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 594              		.loc 1 999 5 is_stmt 1 view .LVU235
 999:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 595              		.loc 1 999 5 view .LVU236
1001:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 596              		.loc 1 1001 5 view .LVU237
1001:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 597              		.loc 1 1001 8 is_stmt 0 view .LVU238
 598 004a 6FB1     		cbz	r7, .L42
1002:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 599              		.loc 1 1002 16 discriminator 1 view .LVU239
 600 004c 154B     		ldr	r3, .L49+8
ARM GAS  /tmp/ccS1bHPU.s 			page 32


 601 004e 1B68     		ldr	r3, [r3]
1001:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 602              		.loc 1 1001 32 discriminator 1 view .LVU240
 603 0050 BB42     		cmp	r3, r7
 604 0052 09D0     		beq	.L42
1009:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
 605              		.loc 1 1009 5 is_stmt 1 view .LVU241
1009:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
 606              		.loc 1 1009 14 is_stmt 0 view .LVU242
 607 0054 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
1009:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
 608              		.loc 1 1009 8 view .LVU243
 609 0058 022B     		cmp	r3, #2
 610 005a 0CD0     		beq	.L44
1010:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 611              		.loc 1 1010 9 is_stmt 1 view .LVU244
1010:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 612              		.loc 1 1010 9 view .LVU245
1010:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 613              		.loc 1 1010 9 view .LVU246
 614 005c FFF7FEFF 		bl	CPU_SR_Restore
 615              	.LVL58:
1010:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 616              		.loc 1 1010 9 view .LVU247
1010:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 617              		.loc 1 1010 9 view .LVU248
1011:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 618              		.loc 1 1011 8 view .LVU249
1011:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 619              		.loc 1 1011 15 is_stmt 0 view .LVU250
 620 0060 46F2AB13 		movw	r3, #25003
 621 0064 2B80     		strh	r3, [r5]	@ movhi
1012:rtos/uCOS-III/Source/os_task.c ****     }
 622              		.loc 1 1012 9 is_stmt 1 view .LVU251
1012:rtos/uCOS-III/Source/os_task.c ****     }
 623              		.loc 1 1012 16 is_stmt 0 view .LVU252
 624 0066 E1E7     		b	.L39
 625              	.LVL59:
 626              	.L42:
1003:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;                         /* ... doesn't make sense          
 627              		.loc 1 1003 9 is_stmt 1 view .LVU253
1003:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;                         /* ... doesn't make sense          
 628              		.loc 1 1003 9 view .LVU254
1003:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;                         /* ... doesn't make sense          
 629              		.loc 1 1003 9 view .LVU255
 630 0068 4846     		mov	r0, r9
 631              	.LVL60:
1003:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;                         /* ... doesn't make sense          
 632              		.loc 1 1003 9 is_stmt 0 view .LVU256
 633 006a FFF7FEFF 		bl	CPU_SR_Restore
 634              	.LVL61:
1003:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;                         /* ... doesn't make sense          
 635              		.loc 1 1003 9 is_stmt 1 view .LVU257
1003:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;                         /* ... doesn't make sense          
 636              		.loc 1 1003 9 view .LVU258
1004:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 637              		.loc 1 1004 8 view .LVU259
ARM GAS  /tmp/ccS1bHPU.s 			page 33


1004:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 638              		.loc 1 1004 15 is_stmt 0 view .LVU260
 639 006e 46F2AC13 		movw	r3, #25004
 640 0072 2B80     		strh	r3, [r5]	@ movhi
1005:rtos/uCOS-III/Source/os_task.c ****     }
 641              		.loc 1 1005 9 is_stmt 1 view .LVU261
1005:rtos/uCOS-III/Source/os_task.c ****     }
 642              		.loc 1 1005 16 is_stmt 0 view .LVU262
 643 0074 DAE7     		b	.L39
 644              	.LVL62:
 645              	.L44:
1018:rtos/uCOS-III/Source/os_task.c **** #endif
 646              		.loc 1 1018 5 is_stmt 1 view .LVU263
1020:rtos/uCOS-III/Source/os_task.c ****                  ts,
 647              		.loc 1 1020 5 view .LVU264
 648 0076 0122     		movs	r2, #1
 649 0078 0021     		movs	r1, #0
 650 007a 3846     		mov	r0, r7
 651              	.LVL63:
1020:rtos/uCOS-III/Source/os_task.c ****                  ts,
 652              		.loc 1 1020 5 is_stmt 0 view .LVU265
 653 007c FFF7FEFF 		bl	OS_PendAbort
 654              	.LVL64:
1023:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 655              		.loc 1 1023 5 is_stmt 1 view .LVU266
1023:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 656              		.loc 1 1023 5 view .LVU267
1023:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 657              		.loc 1 1023 5 view .LVU268
 658 0080 4846     		mov	r0, r9
 659 0082 FFF7FEFF 		bl	CPU_SR_Restore
 660              	.LVL65:
1023:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 661              		.loc 1 1023 5 view .LVU269
1023:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 662              		.loc 1 1023 5 view .LVU270
1024:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run the scheduler               
 663              		.loc 1 1024 5 view .LVU271
1024:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run the scheduler               
 664              		.loc 1 1024 8 is_stmt 0 view .LVU272
 665 0086 16F4004F 		tst	r6, #32768
 666 008a 03D0     		beq	.L48
 667              	.L45:
1027:rtos/uCOS-III/Source/os_task.c ****     return (OS_TRUE);
 668              		.loc 1 1027 4 is_stmt 1 view .LVU273
1027:rtos/uCOS-III/Source/os_task.c ****     return (OS_TRUE);
 669              		.loc 1 1027 11 is_stmt 0 view .LVU274
 670 008c 0023     		movs	r3, #0
 671 008e 2B80     		strh	r3, [r5]	@ movhi
1028:rtos/uCOS-III/Source/os_task.c **** }
 672              		.loc 1 1028 5 is_stmt 1 view .LVU275
1028:rtos/uCOS-III/Source/os_task.c **** }
 673              		.loc 1 1028 12 is_stmt 0 view .LVU276
 674 0090 4446     		mov	r4, r8
 675 0092 CBE7     		b	.L39
 676              	.L48:
1025:rtos/uCOS-III/Source/os_task.c ****     }
ARM GAS  /tmp/ccS1bHPU.s 			page 34


 677              		.loc 1 1025 9 is_stmt 1 view .LVU277
 678 0094 FFF7FEFF 		bl	OSSched
 679              	.LVL66:
 680 0098 F8E7     		b	.L45
 681              	.L50:
 682 009a 00BF     		.align	2
 683              	.L49:
 684 009c 00000000 		.word	OSIntNestingCtr
 685 00a0 00000000 		.word	OSRunning
 686 00a4 00000000 		.word	OSTCBCurPtr
 687              		.cfi_endproc
 688              	.LFE5:
 690              		.section	.text.OSTaskQPost,"ax",%progbits
 691              		.align	1
 692              		.global	OSTaskQPost
 693              		.syntax unified
 694              		.thumb
 695              		.thumb_func
 696              		.fpu fpv4-sp-d16
 698              	OSTaskQPost:
 699              	.LVL67:
 700              	.LFB6:
1030:rtos/uCOS-III/Source/os_task.c **** #endif
1031:rtos/uCOS-III/Source/os_task.c **** 
1032:rtos/uCOS-III/Source/os_task.c **** 
1033:rtos/uCOS-III/Source/os_task.c **** /*
1034:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1035:rtos/uCOS-III/Source/os_task.c **** *                                               POST MESSAGE TO A TASK
1036:rtos/uCOS-III/Source/os_task.c **** *
1037:rtos/uCOS-III/Source/os_task.c **** * Description: This function sends a message to a task.
1038:rtos/uCOS-III/Source/os_task.c **** *
1039:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb      is a pointer to the TCB of the task receiving a message.  If you specify 
1040:rtos/uCOS-III/Source/os_task.c **** *                         the message will be posted to the task's queue of the calling task.  In o
1041:rtos/uCOS-III/Source/os_task.c **** *                         posting a message to yourself.
1042:rtos/uCOS-III/Source/os_task.c **** *
1043:rtos/uCOS-III/Source/os_task.c **** *              p_void     is a pointer to the message to send.
1044:rtos/uCOS-III/Source/os_task.c **** *
1045:rtos/uCOS-III/Source/os_task.c **** *              msg_size   is the size of the message sent (in bytes)
1046:rtos/uCOS-III/Source/os_task.c **** *
1047:rtos/uCOS-III/Source/os_task.c **** *              opt        specifies whether the post will be FIFO or LIFO:
1048:rtos/uCOS-III/Source/os_task.c **** *
1049:rtos/uCOS-III/Source/os_task.c **** *                             OS_OPT_POST_FIFO       Post at the end   of the queue
1050:rtos/uCOS-III/Source/os_task.c **** *                             OS_OPT_POST_LIFO       Post at the front of the queue
1051:rtos/uCOS-III/Source/os_task.c **** *
1052:rtos/uCOS-III/Source/os_task.c **** *                             OS_OPT_POST_NO_SCHED   Do not run the scheduler after the post
1053:rtos/uCOS-III/Source/os_task.c **** *
1054:rtos/uCOS-III/Source/os_task.c **** *                          Note(s): 1) OS_OPT_POST_NO_SCHED can be added with one of the other opti
1055:rtos/uCOS-III/Source/os_task.c **** *
1056:rtos/uCOS-III/Source/os_task.c **** *
1057:rtos/uCOS-III/Source/os_task.c **** *              p_err      is a pointer to a variable that will hold the error code associated
1058:rtos/uCOS-III/Source/os_task.c **** *                         with the outcome of this call.  Errors can be:
1059:rtos/uCOS-III/Source/os_task.c **** *
1060:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_NONE              The call was successful and the message was 
1061:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_MSG_POOL_EMPTY    If there are no more OS_MSGs available from 
1062:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_OPT_INVALID       If you specified an invalid option
1063:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_OS_NOT_RUNNING    If uC/OS-III is not running yet
1064:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_Q_MAX             If the queue is full
ARM GAS  /tmp/ccS1bHPU.s 			page 35


1065:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_STATE_INVALID     If the task is in an invalid state.  This sh
1066:rtos/uCOS-III/Source/os_task.c **** *                                                      and if it does, would be considered a system
1067:rtos/uCOS-III/Source/os_task.c **** *
1068:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
1069:rtos/uCOS-III/Source/os_task.c **** *
1070:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1071:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1072:rtos/uCOS-III/Source/os_task.c **** */
1073:rtos/uCOS-III/Source/os_task.c **** 
1074:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
1075:rtos/uCOS-III/Source/os_task.c **** void  OSTaskQPost (OS_TCB       *p_tcb,
1076:rtos/uCOS-III/Source/os_task.c ****                    void         *p_void,
1077:rtos/uCOS-III/Source/os_task.c ****                    OS_MSG_SIZE   msg_size,
1078:rtos/uCOS-III/Source/os_task.c ****                    OS_OPT        opt,
1079:rtos/uCOS-III/Source/os_task.c ****                    OS_ERR       *p_err)
1080:rtos/uCOS-III/Source/os_task.c **** {
 701              		.loc 1 1080 1 view -0
 702              		.cfi_startproc
 703              		@ args = 4, pretend = 0, frame = 0
 704              		@ frame_needed = 0, uses_anonymous_args = 0
 705              		.loc 1 1080 1 is_stmt 0 view .LVU279
 706 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 707              	.LCFI3:
 708              		.cfi_def_cfa_offset 28
 709              		.cfi_offset 4, -28
 710              		.cfi_offset 5, -24
 711              		.cfi_offset 6, -20
 712              		.cfi_offset 7, -16
 713              		.cfi_offset 8, -12
 714              		.cfi_offset 9, -8
 715              		.cfi_offset 14, -4
 716 0004 83B0     		sub	sp, sp, #12
 717              	.LCFI4:
 718              		.cfi_def_cfa_offset 40
 719 0006 1C46     		mov	r4, r3
 720 0008 0A9D     		ldr	r5, [sp, #40]
1081:rtos/uCOS-III/Source/os_task.c ****     CPU_TS  ts;
 721              		.loc 1 1081 5 is_stmt 1 view .LVU280
1082:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 722              		.loc 1 1082 5 view .LVU281
 723              	.LVL68:
1083:rtos/uCOS-III/Source/os_task.c **** 
1084:rtos/uCOS-III/Source/os_task.c **** 
1085:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1086:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1087:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1088:rtos/uCOS-III/Source/os_task.c ****         return;
1089:rtos/uCOS-III/Source/os_task.c ****     }
1090:rtos/uCOS-III/Source/os_task.c **** #endif
1091:rtos/uCOS-III/Source/os_task.c **** 
1092:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_POST_ENTER(&p_tcb->MsgQ, p_void, msg_size, opt);
 724              		.loc 1 1092 72 view .LVU282
1093:rtos/uCOS-III/Source/os_task.c **** 
1094:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
1095:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 725              		.loc 1 1095 5 view .LVU283
 726              		.loc 1 1095 19 is_stmt 0 view .LVU284
ARM GAS  /tmp/ccS1bHPU.s 			page 36


 727 000a 334B     		ldr	r3, .L66
 728              	.LVL69:
 729              		.loc 1 1095 19 view .LVU285
 730 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 731              		.loc 1 1095 8 view .LVU286
 732 000e 012B     		cmp	r3, #1
 733 0010 05D0     		beq	.L52
1096:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_MSG_Q_POST_EXIT(OS_ERR_OS_NOT_RUNNING);
 734              		.loc 1 1096 61 is_stmt 1 view .LVU287
1097:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 735              		.loc 1 1097 8 view .LVU288
 736              		.loc 1 1097 15 is_stmt 0 view .LVU289
 737 0012 45F68963 		movw	r3, #24201
 738 0016 2B80     		strh	r3, [r5]	@ movhi
1098:rtos/uCOS-III/Source/os_task.c ****         return;
 739              		.loc 1 1098 9 is_stmt 1 view .LVU290
 740              	.LVL70:
 741              	.L51:
1099:rtos/uCOS-III/Source/os_task.c ****     }
1100:rtos/uCOS-III/Source/os_task.c **** #endif
1101:rtos/uCOS-III/Source/os_task.c **** 
1102:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)                                    /* ---------------- VALIDATE ARGUME
1103:rtos/uCOS-III/Source/os_task.c ****     switch (opt) {                                              /* User must supply a valid option 
1104:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_FIFO:
1105:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_LIFO:
1106:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_FIFO | OS_OPT_POST_NO_SCHED:
1107:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_LIFO | OS_OPT_POST_NO_SCHED:
1108:rtos/uCOS-III/Source/os_task.c ****              break;
1109:rtos/uCOS-III/Source/os_task.c **** 
1110:rtos/uCOS-III/Source/os_task.c ****         default:
1111:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_MSG_Q_POST_FAILED(&p_tcb->MsgQ);
1112:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_MSG_Q_POST_EXIT(OS_ERR_OPT_INVALID);
1113:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
1114:rtos/uCOS-III/Source/os_task.c ****              return;
1115:rtos/uCOS-III/Source/os_task.c ****     }
1116:rtos/uCOS-III/Source/os_task.c **** #endif
1117:rtos/uCOS-III/Source/os_task.c **** 
1118:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1119:rtos/uCOS-III/Source/os_task.c ****     ts = OS_TS_GET();                                           /* Get timestamp                   
1120:rtos/uCOS-III/Source/os_task.c **** #else
1121:rtos/uCOS-III/Source/os_task.c ****     ts = 0u;
1122:rtos/uCOS-III/Source/os_task.c **** #endif
1123:rtos/uCOS-III/Source/os_task.c **** 
1124:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_POST(&p_tcb->MsgQ);
1125:rtos/uCOS-III/Source/os_task.c **** 
1126:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;                                        /* Assume we won't have any errors 
1127:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1128:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
1129:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
1130:rtos/uCOS-III/Source/os_task.c ****     }
1131:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
1132:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
1133:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY:
1134:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
1135:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
1136:rtos/uCOS-III/Source/os_task.c ****              OS_MsgQPut(&p_tcb->MsgQ,                           /* Deposit the message in the queue
1137:rtos/uCOS-III/Source/os_task.c ****                         p_void,
ARM GAS  /tmp/ccS1bHPU.s 			page 37


1138:rtos/uCOS-III/Source/os_task.c ****                         msg_size,
1139:rtos/uCOS-III/Source/os_task.c ****                         opt,
1140:rtos/uCOS-III/Source/os_task.c ****                         ts,
1141:rtos/uCOS-III/Source/os_task.c ****                         p_err);
1142:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1143:rtos/uCOS-III/Source/os_task.c ****              break;
1144:rtos/uCOS-III/Source/os_task.c **** 
1145:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND:
1146:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1147:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1148:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1149:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_Q) {     /* Is task waiting for a message to
1150:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,
1151:rtos/uCOS-III/Source/os_task.c ****                           p_tcb,
1152:rtos/uCOS-III/Source/os_task.c ****                           p_void,
1153:rtos/uCOS-III/Source/os_task.c ****                           msg_size,
1154:rtos/uCOS-III/Source/os_task.c ****                           ts);
1155:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
1156:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
1157:rtos/uCOS-III/Source/os_task.c ****                      OSSched();                                 /* Run the scheduler               
1158:rtos/uCOS-III/Source/os_task.c ****                  }
1159:rtos/uCOS-III/Source/os_task.c ****              } else {
1160:rtos/uCOS-III/Source/os_task.c ****                  OS_MsgQPut(&p_tcb->MsgQ,                       /* No,  Task is pending on somethin
1161:rtos/uCOS-III/Source/os_task.c ****                             p_void,                             /* ... Deposit the message in the t
1162:rtos/uCOS-III/Source/os_task.c ****                             msg_size,
1163:rtos/uCOS-III/Source/os_task.c ****                             opt,
1164:rtos/uCOS-III/Source/os_task.c ****                             ts,
1165:rtos/uCOS-III/Source/os_task.c ****                             p_err);
1166:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
1167:rtos/uCOS-III/Source/os_task.c ****              }
1168:rtos/uCOS-III/Source/os_task.c ****              break;
1169:rtos/uCOS-III/Source/os_task.c **** 
1170:rtos/uCOS-III/Source/os_task.c ****         default:
1171:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1172:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
1173:rtos/uCOS-III/Source/os_task.c ****              break;
1174:rtos/uCOS-III/Source/os_task.c ****     }
1175:rtos/uCOS-III/Source/os_task.c **** 
1176:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_MSG_Q_POST_EXIT(*p_err);
1177:rtos/uCOS-III/Source/os_task.c **** }
 742              		.loc 1 1177 1 is_stmt 0 view .LVU291
 743 0018 03B0     		add	sp, sp, #12
 744              	.LCFI5:
 745              		.cfi_remember_state
 746              		.cfi_def_cfa_offset 28
 747              		@ sp needed
 748 001a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 749              	.LVL71:
 750              	.L52:
 751              	.LCFI6:
 752              		.cfi_restore_state
 753              		.loc 1 1177 1 view .LVU292
 754 001e 0646     		mov	r6, r0
 755 0020 0F46     		mov	r7, r1
 756 0022 9046     		mov	r8, r2
1103:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_FIFO:
 757              		.loc 1 1103 5 is_stmt 1 view .LVU293
ARM GAS  /tmp/ccS1bHPU.s 			page 38


 758 0024 B4F5004F 		cmp	r4, #32768
 759 0028 03D0     		beq	.L54
1103:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_FIFO:
 760              		.loc 1 1103 5 is_stmt 0 view .LVU294
 761 002a 13D8     		bhi	.L55
 762 002c 0CB1     		cbz	r4, .L54
 763 002e 102C     		cmp	r4, #16
 764 0030 14D1     		bne	.L56
 765              	.L54:
1108:rtos/uCOS-III/Source/os_task.c **** 
 766              		.loc 1 1108 14 is_stmt 1 view .LVU295
1121:rtos/uCOS-III/Source/os_task.c **** #endif
 767              		.loc 1 1121 5 view .LVU296
 768              	.LVL72:
1124:rtos/uCOS-III/Source/os_task.c **** 
 769              		.loc 1 1124 43 view .LVU297
1126:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 770              		.loc 1 1126 4 view .LVU298
1126:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 771              		.loc 1 1126 11 is_stmt 0 view .LVU299
 772 0032 0023     		movs	r3, #0
 773 0034 2B80     		strh	r3, [r5]	@ movhi
1127:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
 774              		.loc 1 1127 5 is_stmt 1 view .LVU300
1127:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
 775              		.loc 1 1127 5 view .LVU301
1127:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
 776              		.loc 1 1127 5 view .LVU302
 777 0036 4020     		movs	r0, #64
 778              	.LVL73:
1127:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
 779              		.loc 1 1127 5 is_stmt 0 view .LVU303
 780 0038 FFF7FEFF 		bl	CPU_SR_Save
 781              	.LVL74:
1127:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
 782              		.loc 1 1127 5 view .LVU304
 783 003c 8146     		mov	r9, r0
 784              	.LVL75:
1127:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
 785              		.loc 1 1127 5 is_stmt 1 view .LVU305
1127:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post msg to 'self'?             
 786              		.loc 1 1127 5 view .LVU306
1128:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 787              		.loc 1 1128 5 view .LVU307
1128:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 788              		.loc 1 1128 8 is_stmt 0 view .LVU308
 789 003e 8EB1     		cbz	r6, .L64
 790              	.L57:
1131:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 791              		.loc 1 1131 5 is_stmt 1 view .LVU309
1131:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 792              		.loc 1 1131 18 is_stmt 0 view .LVU310
 793 0040 96F82E30 		ldrb	r3, [r6, #46]	@ zero_extendqisi2
 794 0044 072B     		cmp	r3, #7
 795 0046 40D8     		bhi	.L58
 796 0048 DFE803F0 		tbb	[pc, r3]
 797              	.L60:
ARM GAS  /tmp/ccS1bHPU.s 			page 39


 798 004c 0F       		.byte	(.L61-.L60)/2
 799 004d 0F       		.byte	(.L61-.L60)/2
 800 004e 1D       		.byte	(.L59-.L60)/2
 801 004f 1D       		.byte	(.L59-.L60)/2
 802 0050 0F       		.byte	(.L61-.L60)/2
 803 0051 0F       		.byte	(.L61-.L60)/2
 804 0052 1D       		.byte	(.L59-.L60)/2
 805 0053 1D       		.byte	(.L59-.L60)/2
 806              	.LVL76:
 807              		.p2align 1
 808              	.L55:
1103:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_FIFO:
 809              		.loc 1 1103 5 view .LVU311
 810 0054 48F21003 		movw	r3, #32784
 811 0058 9C42     		cmp	r4, r3
 812 005a EAD0     		beq	.L54
 813              	.L56:
1111:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_MSG_Q_POST_EXIT(OS_ERR_OPT_INVALID);
 814              		.loc 1 1111 59 is_stmt 1 view .LVU312
1112:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
 815              		.loc 1 1112 63 view .LVU313
1113:rtos/uCOS-III/Source/os_task.c ****              return;
 816              		.loc 1 1113 13 view .LVU314
1113:rtos/uCOS-III/Source/os_task.c ****              return;
 817              		.loc 1 1113 20 is_stmt 0 view .LVU315
 818 005c 45F62563 		movw	r3, #24101
 819 0060 2B80     		strh	r3, [r5]	@ movhi
1114:rtos/uCOS-III/Source/os_task.c ****     }
 820              		.loc 1 1114 14 is_stmt 1 view .LVU316
 821 0062 D9E7     		b	.L51
 822              	.LVL77:
 823              	.L64:
1129:rtos/uCOS-III/Source/os_task.c ****     }
 824              		.loc 1 1129 9 view .LVU317
1129:rtos/uCOS-III/Source/os_task.c ****     }
 825              		.loc 1 1129 15 is_stmt 0 view .LVU318
 826 0064 1D4B     		ldr	r3, .L66+4
 827 0066 1E68     		ldr	r6, [r3]
 828              	.LVL78:
1129:rtos/uCOS-III/Source/os_task.c ****     }
 829              		.loc 1 1129 15 view .LVU319
 830 0068 EAE7     		b	.L57
 831              	.L61:
1136:rtos/uCOS-III/Source/os_task.c ****                         p_void,
 832              		.loc 1 1136 14 is_stmt 1 view .LVU320
 833 006a 0195     		str	r5, [sp, #4]
 834 006c 0023     		movs	r3, #0
 835 006e 0093     		str	r3, [sp]
 836 0070 2346     		mov	r3, r4
 837 0072 4246     		mov	r2, r8
 838 0074 3946     		mov	r1, r7
 839 0076 06F15C00 		add	r0, r6, #92
 840              	.LVL79:
1136:rtos/uCOS-III/Source/os_task.c ****                         p_void,
 841              		.loc 1 1136 14 is_stmt 0 view .LVU321
 842 007a FFF7FEFF 		bl	OS_MsgQPut
 843              	.LVL80:
ARM GAS  /tmp/ccS1bHPU.s 			page 40


1142:rtos/uCOS-III/Source/os_task.c ****              break;
 844              		.loc 1 1142 14 is_stmt 1 view .LVU322
1142:rtos/uCOS-III/Source/os_task.c ****              break;
 845              		.loc 1 1142 14 view .LVU323
1142:rtos/uCOS-III/Source/os_task.c ****              break;
 846              		.loc 1 1142 14 view .LVU324
 847 007e 4846     		mov	r0, r9
 848 0080 FFF7FEFF 		bl	CPU_SR_Restore
 849              	.LVL81:
1142:rtos/uCOS-III/Source/os_task.c ****              break;
 850              		.loc 1 1142 14 view .LVU325
1142:rtos/uCOS-III/Source/os_task.c ****              break;
 851              		.loc 1 1142 14 view .LVU326
1143:rtos/uCOS-III/Source/os_task.c **** 
 852              		.loc 1 1143 14 view .LVU327
 853 0084 C8E7     		b	.L51
 854              	.LVL82:
 855              	.L59:
1149:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,
 856              		.loc 1 1149 14 view .LVU328
1149:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,
 857              		.loc 1 1149 23 is_stmt 0 view .LVU329
 858 0086 96F82C30 		ldrb	r3, [r6, #44]	@ zero_extendqisi2
1149:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,
 859              		.loc 1 1149 17 view .LVU330
 860 008a 022B     		cmp	r3, #2
 861 008c 0DD0     		beq	.L65
1160:rtos/uCOS-III/Source/os_task.c ****                             p_void,                             /* ... Deposit the message in the t
 862              		.loc 1 1160 18 is_stmt 1 discriminator 1 view .LVU331
 863 008e 0195     		str	r5, [sp, #4]
 864 0090 0023     		movs	r3, #0
 865 0092 0093     		str	r3, [sp]
 866 0094 2346     		mov	r3, r4
 867 0096 4246     		mov	r2, r8
 868 0098 3946     		mov	r1, r7
 869 009a 06F15C00 		add	r0, r6, #92
 870              	.LVL83:
1160:rtos/uCOS-III/Source/os_task.c ****                             p_void,                             /* ... Deposit the message in the t
 871              		.loc 1 1160 18 is_stmt 0 discriminator 1 view .LVU332
 872 009e FFF7FEFF 		bl	OS_MsgQPut
 873              	.LVL84:
1166:rtos/uCOS-III/Source/os_task.c ****              }
 874              		.loc 1 1166 18 is_stmt 1 discriminator 1 view .LVU333
1166:rtos/uCOS-III/Source/os_task.c ****              }
 875              		.loc 1 1166 18 discriminator 1 view .LVU334
1166:rtos/uCOS-III/Source/os_task.c ****              }
 876              		.loc 1 1166 18 discriminator 1 view .LVU335
 877 00a2 4846     		mov	r0, r9
 878 00a4 FFF7FEFF 		bl	CPU_SR_Restore
 879              	.LVL85:
 880 00a8 B6E7     		b	.L51
 881              	.LVL86:
 882              	.L65:
1150:rtos/uCOS-III/Source/os_task.c ****                           p_tcb,
 883              		.loc 1 1150 18 view .LVU336
 884 00aa 0020     		movs	r0, #0
 885              	.LVL87:
ARM GAS  /tmp/ccS1bHPU.s 			page 41


1150:rtos/uCOS-III/Source/os_task.c ****                           p_tcb,
 886              		.loc 1 1150 18 is_stmt 0 view .LVU337
 887 00ac 0090     		str	r0, [sp]
 888 00ae 4346     		mov	r3, r8
 889 00b0 3A46     		mov	r2, r7
 890 00b2 3146     		mov	r1, r6
 891 00b4 FFF7FEFF 		bl	OS_Post
 892              	.LVL88:
1155:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 893              		.loc 1 1155 18 is_stmt 1 view .LVU338
1155:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 894              		.loc 1 1155 18 view .LVU339
1155:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 895              		.loc 1 1155 18 view .LVU340
 896 00b8 4846     		mov	r0, r9
 897 00ba FFF7FEFF 		bl	CPU_SR_Restore
 898              	.LVL89:
1155:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 899              		.loc 1 1155 18 view .LVU341
1155:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 900              		.loc 1 1155 18 view .LVU342
1156:rtos/uCOS-III/Source/os_task.c ****                      OSSched();                                 /* Run the scheduler               
 901              		.loc 1 1156 18 view .LVU343
1156:rtos/uCOS-III/Source/os_task.c ****                      OSSched();                                 /* Run the scheduler               
 902              		.loc 1 1156 21 is_stmt 0 view .LVU344
 903 00be 14F4004F 		tst	r4, #32768
 904 00c2 A9D1     		bne	.L51
1157:rtos/uCOS-III/Source/os_task.c ****                  }
 905              		.loc 1 1157 22 is_stmt 1 view .LVU345
 906 00c4 FFF7FEFF 		bl	OSSched
 907              	.LVL90:
 908 00c8 A6E7     		b	.L51
 909              	.LVL91:
 910              	.L58:
1171:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 911              		.loc 1 1171 14 view .LVU346
1171:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 912              		.loc 1 1171 14 view .LVU347
1171:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 913              		.loc 1 1171 14 view .LVU348
 914 00ca 4846     		mov	r0, r9
 915              	.LVL92:
1171:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 916              		.loc 1 1171 14 is_stmt 0 view .LVU349
 917 00cc FFF7FEFF 		bl	CPU_SR_Restore
 918              	.LVL93:
1171:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 919              		.loc 1 1171 14 is_stmt 1 view .LVU350
1171:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 920              		.loc 1 1171 14 view .LVU351
1172:rtos/uCOS-III/Source/os_task.c ****              break;
 921              		.loc 1 1172 13 view .LVU352
1172:rtos/uCOS-III/Source/os_task.c ****              break;
 922              		.loc 1 1172 20 is_stmt 0 view .LVU353
 923 00d0 46F62D63 		movw	r3, #28205
 924 00d4 2B80     		strh	r3, [r5]	@ movhi
1173:rtos/uCOS-III/Source/os_task.c ****     }
ARM GAS  /tmp/ccS1bHPU.s 			page 42


 925              		.loc 1 1173 14 is_stmt 1 view .LVU354
1176:rtos/uCOS-III/Source/os_task.c **** }
 926              		.loc 1 1176 42 view .LVU355
1173:rtos/uCOS-III/Source/os_task.c ****     }
 927              		.loc 1 1173 14 is_stmt 0 view .LVU356
 928 00d6 9FE7     		b	.L51
 929              	.L67:
 930              		.align	2
 931              	.L66:
 932 00d8 00000000 		.word	OSRunning
 933 00dc 00000000 		.word	OSTCBCurPtr
 934              		.cfi_endproc
 935              	.LFE6:
 937              		.section	.text.OSTaskRegGet,"ax",%progbits
 938              		.align	1
 939              		.global	OSTaskRegGet
 940              		.syntax unified
 941              		.thumb
 942              		.thumb_func
 943              		.fpu fpv4-sp-d16
 945              	OSTaskRegGet:
 946              	.LVL94:
 947              	.LFB7:
1178:rtos/uCOS-III/Source/os_task.c **** #endif
1179:rtos/uCOS-III/Source/os_task.c **** 
1180:rtos/uCOS-III/Source/os_task.c **** 
1181:rtos/uCOS-III/Source/os_task.c **** /*
1182:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1183:rtos/uCOS-III/Source/os_task.c **** *                                       GET THE CURRENT VALUE OF A TASK REGISTER
1184:rtos/uCOS-III/Source/os_task.c **** *
1185:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to obtain the current value of a task register.  Task regist
1186:rtos/uCOS-III/Source/os_task.c **** *              specific and can be used to store task specific values such as 'error numbers' (i.e.
1187:rtos/uCOS-III/Source/os_task.c **** *              etc.
1188:rtos/uCOS-III/Source/os_task.c **** *
1189:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb     is a pointer to the OS_TCB of the task you want to read the register from.
1190:rtos/uCOS-III/Source/os_task.c **** *                        NULL pointer then you will get the register of the current task.
1191:rtos/uCOS-III/Source/os_task.c **** *
1192:rtos/uCOS-III/Source/os_task.c **** *              id        is the 'id' of the desired task variable.  Note that the 'id' must be less
1193:rtos/uCOS-III/Source/os_task.c **** *                        OS_CFG_TASK_REG_TBL_SIZE
1194:rtos/uCOS-III/Source/os_task.c **** *
1195:rtos/uCOS-III/Source/os_task.c **** *              p_err     is a pointer to a variable that will hold an error code related to this ca
1196:rtos/uCOS-III/Source/os_task.c **** *
1197:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_NONE               If the call was successful
1198:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_REG_ID_INVALID     If the 'id' is not between 0 and OS_CFG_TASK
1199:rtos/uCOS-III/Source/os_task.c **** *
1200:rtos/uCOS-III/Source/os_task.c **** * Returns    : The current value of the task's register or 0 if an error is detected.
1201:rtos/uCOS-III/Source/os_task.c **** *
1202:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1203:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1204:rtos/uCOS-III/Source/os_task.c **** */
1205:rtos/uCOS-III/Source/os_task.c **** 
1206:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
1207:rtos/uCOS-III/Source/os_task.c **** OS_REG  OSTaskRegGet (OS_TCB     *p_tcb,
1208:rtos/uCOS-III/Source/os_task.c ****                       OS_REG_ID   id,
1209:rtos/uCOS-III/Source/os_task.c ****                       OS_ERR     *p_err)
1210:rtos/uCOS-III/Source/os_task.c **** {
 948              		.loc 1 1210 1 is_stmt 1 view -0
ARM GAS  /tmp/ccS1bHPU.s 			page 43


 949              		.cfi_startproc
 950              		@ args = 0, pretend = 0, frame = 0
 951              		@ frame_needed = 0, uses_anonymous_args = 0
 952              		.loc 1 1210 1 is_stmt 0 view .LVU358
 953 0000 70B5     		push	{r4, r5, r6, lr}
 954              	.LCFI7:
 955              		.cfi_def_cfa_offset 16
 956              		.cfi_offset 4, -16
 957              		.cfi_offset 5, -12
 958              		.cfi_offset 6, -8
 959              		.cfi_offset 14, -4
 960 0002 1646     		mov	r6, r2
1211:rtos/uCOS-III/Source/os_task.c ****     OS_REG     value;
 961              		.loc 1 1211 5 is_stmt 1 view .LVU359
1212:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 962              		.loc 1 1212 5 view .LVU360
 963              	.LVL95:
1213:rtos/uCOS-III/Source/os_task.c **** 
1214:rtos/uCOS-III/Source/os_task.c **** 
1215:rtos/uCOS-III/Source/os_task.c **** 
1216:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1217:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1218:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1219:rtos/uCOS-III/Source/os_task.c ****         return (0u);
1220:rtos/uCOS-III/Source/os_task.c ****     }
1221:rtos/uCOS-III/Source/os_task.c **** #endif
1222:rtos/uCOS-III/Source/os_task.c **** 
1223:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
1224:rtos/uCOS-III/Source/os_task.c ****     if (id >= OS_CFG_TASK_REG_TBL_SIZE) {
 964              		.loc 1 1224 5 view .LVU361
 965              		.loc 1 1224 8 is_stmt 0 view .LVU362
 966 0004 29B1     		cbz	r1, .L69
1225:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_REG_ID_INVALID;
 967              		.loc 1 1225 8 is_stmt 1 view .LVU363
 968              		.loc 1 1225 15 is_stmt 0 view .LVU364
 969 0006 46F67913 		movw	r3, #27001
 970 000a 1380     		strh	r3, [r2]	@ movhi
1226:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 971              		.loc 1 1226 9 is_stmt 1 view .LVU365
 972              		.loc 1 1226 16 is_stmt 0 view .LVU366
 973 000c 0024     		movs	r4, #0
 974              	.LVL96:
 975              	.L68:
1227:rtos/uCOS-III/Source/os_task.c ****     }
1228:rtos/uCOS-III/Source/os_task.c **** #endif
1229:rtos/uCOS-III/Source/os_task.c **** 
1230:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1231:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
1232:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
1233:rtos/uCOS-III/Source/os_task.c ****     }
1234:rtos/uCOS-III/Source/os_task.c ****     value = p_tcb->RegTbl[id];
1235:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1236:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
1237:rtos/uCOS-III/Source/os_task.c ****     return (value);
1238:rtos/uCOS-III/Source/os_task.c **** }
 976              		.loc 1 1238 1 view .LVU367
 977 000e 2046     		mov	r0, r4
ARM GAS  /tmp/ccS1bHPU.s 			page 44


 978 0010 70BD     		pop	{r4, r5, r6, pc}
 979              	.LVL97:
 980              	.L69:
 981              		.loc 1 1238 1 view .LVU368
 982 0012 0446     		mov	r4, r0
 983 0014 0D46     		mov	r5, r1
1230:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 984              		.loc 1 1230 5 is_stmt 1 view .LVU369
1230:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 985              		.loc 1 1230 5 view .LVU370
1230:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 986              		.loc 1 1230 5 view .LVU371
 987 0016 4020     		movs	r0, #64
 988              	.LVL98:
1230:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 989              		.loc 1 1230 5 is_stmt 0 view .LVU372
 990 0018 FFF7FEFF 		bl	CPU_SR_Save
 991              	.LVL99:
1230:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 992              		.loc 1 1230 5 is_stmt 1 view .LVU373
1230:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 993              		.loc 1 1230 5 view .LVU374
1231:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 994              		.loc 1 1231 5 view .LVU375
1231:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 995              		.loc 1 1231 8 is_stmt 0 view .LVU376
 996 001c 3CB1     		cbz	r4, .L73
 997              	.L71:
1234:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 998              		.loc 1 1234 5 is_stmt 1 view .LVU377
1234:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 999              		.loc 1 1234 11 is_stmt 0 view .LVU378
 1000 001e 1C35     		adds	r5, r5, #28
 1001 0020 54F82540 		ldr	r4, [r4, r5, lsl #2]
 1002              	.LVL100:
1235:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1003              		.loc 1 1235 5 is_stmt 1 view .LVU379
1235:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1004              		.loc 1 1235 5 view .LVU380
1235:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1005              		.loc 1 1235 5 view .LVU381
 1006 0024 FFF7FEFF 		bl	CPU_SR_Restore
 1007              	.LVL101:
1235:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1008              		.loc 1 1235 5 view .LVU382
1235:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1009              		.loc 1 1235 5 view .LVU383
1236:rtos/uCOS-III/Source/os_task.c ****     return (value);
 1010              		.loc 1 1236 4 view .LVU384
1236:rtos/uCOS-III/Source/os_task.c ****     return (value);
 1011              		.loc 1 1236 11 is_stmt 0 view .LVU385
 1012 0028 0023     		movs	r3, #0
 1013 002a 3380     		strh	r3, [r6]	@ movhi
1237:rtos/uCOS-III/Source/os_task.c **** }
 1014              		.loc 1 1237 5 is_stmt 1 view .LVU386
1237:rtos/uCOS-III/Source/os_task.c **** }
 1015              		.loc 1 1237 12 is_stmt 0 view .LVU387
ARM GAS  /tmp/ccS1bHPU.s 			page 45


 1016 002c EFE7     		b	.L68
 1017              	.LVL102:
 1018              	.L73:
1232:rtos/uCOS-III/Source/os_task.c ****     }
 1019              		.loc 1 1232 9 is_stmt 1 view .LVU388
1232:rtos/uCOS-III/Source/os_task.c ****     }
 1020              		.loc 1 1232 15 is_stmt 0 view .LVU389
 1021 002e 014B     		ldr	r3, .L74
 1022 0030 1C68     		ldr	r4, [r3]
 1023              	.LVL103:
1232:rtos/uCOS-III/Source/os_task.c ****     }
 1024              		.loc 1 1232 15 view .LVU390
 1025 0032 F4E7     		b	.L71
 1026              	.L75:
 1027              		.align	2
 1028              	.L74:
 1029 0034 00000000 		.word	OSTCBCurPtr
 1030              		.cfi_endproc
 1031              	.LFE7:
 1033              		.section	.text.OSTaskRegGetID,"ax",%progbits
 1034              		.align	1
 1035              		.global	OSTaskRegGetID
 1036              		.syntax unified
 1037              		.thumb
 1038              		.thumb_func
 1039              		.fpu fpv4-sp-d16
 1041              	OSTaskRegGetID:
 1042              	.LVL104:
 1043              	.LFB8:
1239:rtos/uCOS-III/Source/os_task.c **** #endif
1240:rtos/uCOS-III/Source/os_task.c **** 
1241:rtos/uCOS-III/Source/os_task.c **** 
1242:rtos/uCOS-III/Source/os_task.c **** /*
1243:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1244:rtos/uCOS-III/Source/os_task.c **** *                                    ALLOCATE THE NEXT AVAILABLE TASK REGISTER ID
1245:rtos/uCOS-III/Source/os_task.c **** *
1246:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to obtain a task register ID.  This function thus allows tas
1247:rtos/uCOS-III/Source/os_task.c **** *              allocated dynamically instead of statically.
1248:rtos/uCOS-III/Source/os_task.c **** *
1249:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_err       is a pointer to a variable that will hold an error code related to this 
1250:rtos/uCOS-III/Source/os_task.c **** *
1251:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_NONE               If the call was successful
1252:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_NO_MORE_ID_AVAIL   If you are attempting to assign more task re
1253:rtos/uCOS-III/Source/os_task.c **** *                                                          have available through OS_CFG_TASK_REG_T
1254:rtos/uCOS-III/Source/os_task.c **** *
1255:rtos/uCOS-III/Source/os_task.c **** * Returns    : The next available task register 'id' or OS_CFG_TASK_REG_TBL_SIZE if an error is det
1256:rtos/uCOS-III/Source/os_task.c **** *
1257:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1258:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1259:rtos/uCOS-III/Source/os_task.c **** */
1260:rtos/uCOS-III/Source/os_task.c **** 
1261:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
1262:rtos/uCOS-III/Source/os_task.c **** OS_REG_ID  OSTaskRegGetID (OS_ERR  *p_err)
1263:rtos/uCOS-III/Source/os_task.c **** {
 1044              		.loc 1 1263 1 is_stmt 1 view -0
 1045              		.cfi_startproc
 1046              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccS1bHPU.s 			page 46


 1047              		@ frame_needed = 0, uses_anonymous_args = 0
 1048              		.loc 1 1263 1 is_stmt 0 view .LVU392
 1049 0000 38B5     		push	{r3, r4, r5, lr}
 1050              	.LCFI8:
 1051              		.cfi_def_cfa_offset 16
 1052              		.cfi_offset 3, -16
 1053              		.cfi_offset 4, -12
 1054              		.cfi_offset 5, -8
 1055              		.cfi_offset 14, -4
 1056 0002 0546     		mov	r5, r0
1264:rtos/uCOS-III/Source/os_task.c ****     OS_REG_ID  id;
 1057              		.loc 1 1264 5 is_stmt 1 view .LVU393
1265:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 1058              		.loc 1 1265 5 view .LVU394
 1059              	.LVL105:
1266:rtos/uCOS-III/Source/os_task.c **** 
1267:rtos/uCOS-III/Source/os_task.c **** 
1268:rtos/uCOS-III/Source/os_task.c **** 
1269:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1270:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1271:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1272:rtos/uCOS-III/Source/os_task.c ****         return ((OS_REG_ID)OS_CFG_TASK_REG_TBL_SIZE);
1273:rtos/uCOS-III/Source/os_task.c ****     }
1274:rtos/uCOS-III/Source/os_task.c **** #endif
1275:rtos/uCOS-III/Source/os_task.c **** 
1276:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 1060              		.loc 1 1276 5 view .LVU395
 1061              		.loc 1 1276 5 view .LVU396
 1062              		.loc 1 1276 5 view .LVU397
 1063 0004 4020     		movs	r0, #64
 1064              	.LVL106:
 1065              		.loc 1 1276 5 is_stmt 0 view .LVU398
 1066 0006 FFF7FEFF 		bl	CPU_SR_Save
 1067              	.LVL107:
 1068              		.loc 1 1276 5 is_stmt 1 view .LVU399
 1069              		.loc 1 1276 5 view .LVU400
1277:rtos/uCOS-III/Source/os_task.c ****     if (OSTaskRegNextAvailID >= OS_CFG_TASK_REG_TBL_SIZE) {     /* See if we exceeded the number of
 1070              		.loc 1 1277 5 view .LVU401
 1071              		.loc 1 1277 30 is_stmt 0 view .LVU402
 1072 000a 094B     		ldr	r3, .L81
 1073 000c 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 1074              		.loc 1 1277 8 view .LVU403
 1075 000e 44B9     		cbnz	r4, .L80
1278:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_NO_MORE_ID_AVAIL;                        /* Yes, cannot allocate more task r
1279:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
1280:rtos/uCOS-III/Source/os_task.c ****         return (OS_CFG_TASK_REG_TBL_SIZE);
1281:rtos/uCOS-III/Source/os_task.c ****     }
1282:rtos/uCOS-III/Source/os_task.c **** 
1283:rtos/uCOS-III/Source/os_task.c ****     id = OSTaskRegNextAvailID;                                  /* Assign the next available ID    
 1076              		.loc 1 1283 5 is_stmt 1 view .LVU404
 1077              	.LVL108:
1284:rtos/uCOS-III/Source/os_task.c ****     OSTaskRegNextAvailID++;                                     /* Increment available ID for next 
 1078              		.loc 1 1284 5 view .LVU405
 1079              		.loc 1 1284 25 is_stmt 0 view .LVU406
 1080 0010 631C     		adds	r3, r4, #1
 1081 0012 074A     		ldr	r2, .L81
 1082 0014 1370     		strb	r3, [r2]
ARM GAS  /tmp/ccS1bHPU.s 			page 47


1285:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 1083              		.loc 1 1285 5 is_stmt 1 view .LVU407
 1084              		.loc 1 1285 5 view .LVU408
 1085              		.loc 1 1285 5 view .LVU409
 1086 0016 FFF7FEFF 		bl	CPU_SR_Restore
 1087              	.LVL109:
 1088              		.loc 1 1285 5 view .LVU410
 1089              		.loc 1 1285 5 view .LVU411
1286:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1090              		.loc 1 1286 4 view .LVU412
 1091              		.loc 1 1286 11 is_stmt 0 view .LVU413
 1092 001a 0023     		movs	r3, #0
 1093 001c 2B80     		strh	r3, [r5]	@ movhi
1287:rtos/uCOS-III/Source/os_task.c ****     return (id);
 1094              		.loc 1 1287 5 is_stmt 1 view .LVU414
 1095              	.LVL110:
 1096              	.L78:
1288:rtos/uCOS-III/Source/os_task.c **** }
 1097              		.loc 1 1288 1 is_stmt 0 view .LVU415
 1098 001e 2046     		mov	r0, r4
 1099 0020 38BD     		pop	{r3, r4, r5, pc}
 1100              	.LVL111:
 1101              	.L80:
1278:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1102              		.loc 1 1278 8 is_stmt 1 view .LVU416
1278:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1103              		.loc 1 1278 15 is_stmt 0 view .LVU417
 1104 0022 45F6DA13 		movw	r3, #23002
 1105 0026 2B80     		strh	r3, [r5]	@ movhi
1279:rtos/uCOS-III/Source/os_task.c ****         return (OS_CFG_TASK_REG_TBL_SIZE);
 1106              		.loc 1 1279 9 is_stmt 1 view .LVU418
1279:rtos/uCOS-III/Source/os_task.c ****         return (OS_CFG_TASK_REG_TBL_SIZE);
 1107              		.loc 1 1279 9 view .LVU419
1279:rtos/uCOS-III/Source/os_task.c ****         return (OS_CFG_TASK_REG_TBL_SIZE);
 1108              		.loc 1 1279 9 view .LVU420
 1109 0028 FFF7FEFF 		bl	CPU_SR_Restore
 1110              	.LVL112:
1279:rtos/uCOS-III/Source/os_task.c ****         return (OS_CFG_TASK_REG_TBL_SIZE);
 1111              		.loc 1 1279 9 view .LVU421
1279:rtos/uCOS-III/Source/os_task.c ****         return (OS_CFG_TASK_REG_TBL_SIZE);
 1112              		.loc 1 1279 9 view .LVU422
1280:rtos/uCOS-III/Source/os_task.c ****     }
 1113              		.loc 1 1280 9 view .LVU423
1280:rtos/uCOS-III/Source/os_task.c ****     }
 1114              		.loc 1 1280 16 is_stmt 0 view .LVU424
 1115 002c 0124     		movs	r4, #1
 1116 002e F6E7     		b	.L78
 1117              	.L82:
 1118              		.align	2
 1119              	.L81:
 1120 0030 00000000 		.word	OSTaskRegNextAvailID
 1121              		.cfi_endproc
 1122              	.LFE8:
 1124              		.section	.text.OSTaskRegSet,"ax",%progbits
 1125              		.align	1
 1126              		.global	OSTaskRegSet
 1127              		.syntax unified
ARM GAS  /tmp/ccS1bHPU.s 			page 48


 1128              		.thumb
 1129              		.thumb_func
 1130              		.fpu fpv4-sp-d16
 1132              	OSTaskRegSet:
 1133              	.LVL113:
 1134              	.LFB9:
1289:rtos/uCOS-III/Source/os_task.c **** #endif
1290:rtos/uCOS-III/Source/os_task.c **** 
1291:rtos/uCOS-III/Source/os_task.c **** 
1292:rtos/uCOS-III/Source/os_task.c **** /*
1293:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1294:rtos/uCOS-III/Source/os_task.c **** *                                       SET THE CURRENT VALUE OF A TASK REGISTER
1295:rtos/uCOS-III/Source/os_task.c **** *
1296:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to change the current value of a task register.  Task regist
1297:rtos/uCOS-III/Source/os_task.c **** *              specific and can be used to store task specific values such as 'error numbers' (i.e.
1298:rtos/uCOS-III/Source/os_task.c **** *              etc.
1299:rtos/uCOS-III/Source/os_task.c **** *
1300:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb     is a pointer to the OS_TCB of the task you want to set the register for.  
1301:rtos/uCOS-III/Source/os_task.c **** *                        pointer then you will change the register of the current task.
1302:rtos/uCOS-III/Source/os_task.c **** *
1303:rtos/uCOS-III/Source/os_task.c **** *              id        is the 'id' of the desired task register.  Note that the 'id' must be less
1304:rtos/uCOS-III/Source/os_task.c **** *                        OS_CFG_TASK_REG_TBL_SIZE
1305:rtos/uCOS-III/Source/os_task.c **** *
1306:rtos/uCOS-III/Source/os_task.c **** *              value     is the desired value for the task register.
1307:rtos/uCOS-III/Source/os_task.c **** *
1308:rtos/uCOS-III/Source/os_task.c **** *              p_err     is a pointer to a variable that will hold an error code related to this ca
1309:rtos/uCOS-III/Source/os_task.c **** *
1310:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_NONE               If the call was successful
1311:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_REG_ID_INVALID     If the 'id' is not between 0 and OS_CFG_TASK
1312:rtos/uCOS-III/Source/os_task.c **** *
1313:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
1314:rtos/uCOS-III/Source/os_task.c **** *
1315:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1316:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1317:rtos/uCOS-III/Source/os_task.c **** */
1318:rtos/uCOS-III/Source/os_task.c **** 
1319:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
1320:rtos/uCOS-III/Source/os_task.c **** void  OSTaskRegSet (OS_TCB     *p_tcb,
1321:rtos/uCOS-III/Source/os_task.c ****                     OS_REG_ID   id,
1322:rtos/uCOS-III/Source/os_task.c ****                     OS_REG      value,
1323:rtos/uCOS-III/Source/os_task.c ****                     OS_ERR     *p_err)
1324:rtos/uCOS-III/Source/os_task.c **** {
 1135              		.loc 1 1324 1 is_stmt 1 view -0
 1136              		.cfi_startproc
 1137              		@ args = 0, pretend = 0, frame = 0
 1138              		@ frame_needed = 0, uses_anonymous_args = 0
 1139              		.loc 1 1324 1 is_stmt 0 view .LVU426
 1140 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1141              	.LCFI9:
 1142              		.cfi_def_cfa_offset 24
 1143              		.cfi_offset 3, -24
 1144              		.cfi_offset 4, -20
 1145              		.cfi_offset 5, -16
 1146              		.cfi_offset 6, -12
 1147              		.cfi_offset 7, -8
 1148              		.cfi_offset 14, -4
 1149 0002 1E46     		mov	r6, r3
ARM GAS  /tmp/ccS1bHPU.s 			page 49


1325:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 1150              		.loc 1 1325 5 is_stmt 1 view .LVU427
 1151              	.LVL114:
1326:rtos/uCOS-III/Source/os_task.c **** 
1327:rtos/uCOS-III/Source/os_task.c **** 
1328:rtos/uCOS-III/Source/os_task.c **** 
1329:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1330:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1331:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1332:rtos/uCOS-III/Source/os_task.c ****         return;
1333:rtos/uCOS-III/Source/os_task.c ****     }
1334:rtos/uCOS-III/Source/os_task.c **** #endif
1335:rtos/uCOS-III/Source/os_task.c **** 
1336:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
1337:rtos/uCOS-III/Source/os_task.c ****     if (id >= OS_CFG_TASK_REG_TBL_SIZE) {
 1152              		.loc 1 1337 5 view .LVU428
 1153              		.loc 1 1337 8 is_stmt 0 view .LVU429
 1154 0004 19B1     		cbz	r1, .L84
1338:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_REG_ID_INVALID;
 1155              		.loc 1 1338 8 is_stmt 1 view .LVU430
 1156              		.loc 1 1338 15 is_stmt 0 view .LVU431
 1157 0006 46F67913 		movw	r3, #27001
 1158              	.LVL115:
 1159              		.loc 1 1338 15 view .LVU432
 1160 000a 3380     		strh	r3, [r6]	@ movhi
1339:rtos/uCOS-III/Source/os_task.c ****         return;
 1161              		.loc 1 1339 9 is_stmt 1 view .LVU433
 1162              	.LVL116:
 1163              	.L83:
1340:rtos/uCOS-III/Source/os_task.c ****     }
1341:rtos/uCOS-III/Source/os_task.c **** #endif
1342:rtos/uCOS-III/Source/os_task.c **** 
1343:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1344:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
1345:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
1346:rtos/uCOS-III/Source/os_task.c ****     }
1347:rtos/uCOS-III/Source/os_task.c ****     p_tcb->RegTbl[id] = value;
1348:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1349:rtos/uCOS-III/Source/os_task.c ****    *p_err             = OS_ERR_NONE;
1350:rtos/uCOS-III/Source/os_task.c **** }
 1164              		.loc 1 1350 1 is_stmt 0 view .LVU434
 1165 000c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1166              	.LVL117:
 1167              	.L84:
 1168              		.loc 1 1350 1 view .LVU435
 1169 000e 0446     		mov	r4, r0
 1170 0010 1746     		mov	r7, r2
 1171 0012 0D46     		mov	r5, r1
1343:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 1172              		.loc 1 1343 5 is_stmt 1 view .LVU436
1343:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 1173              		.loc 1 1343 5 view .LVU437
1343:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 1174              		.loc 1 1343 5 view .LVU438
 1175 0014 4020     		movs	r0, #64
 1176              	.LVL118:
1343:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
ARM GAS  /tmp/ccS1bHPU.s 			page 50


 1177              		.loc 1 1343 5 is_stmt 0 view .LVU439
 1178 0016 FFF7FEFF 		bl	CPU_SR_Save
 1179              	.LVL119:
1343:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 1180              		.loc 1 1343 5 is_stmt 1 view .LVU440
1343:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 1181              		.loc 1 1343 5 view .LVU441
1344:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 1182              		.loc 1 1344 5 view .LVU442
1344:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 1183              		.loc 1 1344 8 is_stmt 0 view .LVU443
 1184 001a 3CB1     		cbz	r4, .L88
 1185              	.L86:
1347:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 1186              		.loc 1 1347 5 is_stmt 1 view .LVU444
1347:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 1187              		.loc 1 1347 23 is_stmt 0 view .LVU445
 1188 001c 1C35     		adds	r5, r5, #28
 1189 001e 44F82570 		str	r7, [r4, r5, lsl #2]
1348:rtos/uCOS-III/Source/os_task.c ****    *p_err             = OS_ERR_NONE;
 1190              		.loc 1 1348 5 is_stmt 1 view .LVU446
1348:rtos/uCOS-III/Source/os_task.c ****    *p_err             = OS_ERR_NONE;
 1191              		.loc 1 1348 5 view .LVU447
1348:rtos/uCOS-III/Source/os_task.c ****    *p_err             = OS_ERR_NONE;
 1192              		.loc 1 1348 5 view .LVU448
 1193 0022 FFF7FEFF 		bl	CPU_SR_Restore
 1194              	.LVL120:
1348:rtos/uCOS-III/Source/os_task.c ****    *p_err             = OS_ERR_NONE;
 1195              		.loc 1 1348 5 view .LVU449
1348:rtos/uCOS-III/Source/os_task.c ****    *p_err             = OS_ERR_NONE;
 1196              		.loc 1 1348 5 view .LVU450
1349:rtos/uCOS-III/Source/os_task.c **** }
 1197              		.loc 1 1349 4 view .LVU451
1349:rtos/uCOS-III/Source/os_task.c **** }
 1198              		.loc 1 1349 23 is_stmt 0 view .LVU452
 1199 0026 0023     		movs	r3, #0
 1200 0028 3380     		strh	r3, [r6]	@ movhi
 1201 002a EFE7     		b	.L83
 1202              	.LVL121:
 1203              	.L88:
1345:rtos/uCOS-III/Source/os_task.c ****     }
 1204              		.loc 1 1345 9 is_stmt 1 view .LVU453
1345:rtos/uCOS-III/Source/os_task.c ****     }
 1205              		.loc 1 1345 15 is_stmt 0 view .LVU454
 1206 002c 014B     		ldr	r3, .L89
 1207 002e 1C68     		ldr	r4, [r3]
 1208              	.LVL122:
1345:rtos/uCOS-III/Source/os_task.c ****     }
 1209              		.loc 1 1345 15 view .LVU455
 1210 0030 F4E7     		b	.L86
 1211              	.L90:
 1212 0032 00BF     		.align	2
 1213              	.L89:
 1214 0034 00000000 		.word	OSTCBCurPtr
 1215              		.cfi_endproc
 1216              	.LFE9:
 1218              		.section	.text.OSTaskResume,"ax",%progbits
ARM GAS  /tmp/ccS1bHPU.s 			page 51


 1219              		.align	1
 1220              		.global	OSTaskResume
 1221              		.syntax unified
 1222              		.thumb
 1223              		.thumb_func
 1224              		.fpu fpv4-sp-d16
 1226              	OSTaskResume:
 1227              	.LVL123:
 1228              	.LFB10:
1351:rtos/uCOS-III/Source/os_task.c **** #endif
1352:rtos/uCOS-III/Source/os_task.c **** 
1353:rtos/uCOS-III/Source/os_task.c **** 
1354:rtos/uCOS-III/Source/os_task.c **** /*
1355:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1356:rtos/uCOS-III/Source/os_task.c **** *                                               RESUME A SUSPENDED TASK
1357:rtos/uCOS-III/Source/os_task.c **** *
1358:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to resume a previously suspended task.  This is the only cal
1359:rtos/uCOS-III/Source/os_task.c **** *              explicit task suspension.
1360:rtos/uCOS-III/Source/os_task.c **** *
1361:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb      Is a pointer to the task's OS_TCB to resume
1362:rtos/uCOS-III/Source/os_task.c **** *
1363:rtos/uCOS-III/Source/os_task.c **** *              p_err      Is a pointer to a variable that will contain an error code returned by th
1364:rtos/uCOS-III/Source/os_task.c **** *
1365:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_NONE                  If the requested task is resumed
1366:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_OS_NOT_RUNNING        If uC/OS-III is not running yet
1367:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_STATE_INVALID         If the task is in an invalid state
1368:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_NOT_SUSPENDED    If the task to resume has not been suspe
1369:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_RESUME_ISR       If you called this function from an ISR
1370:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_RESUME_SELF      You cannot resume 'self'
1371:rtos/uCOS-III/Source/os_task.c **** *
1372:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
1373:rtos/uCOS-III/Source/os_task.c **** *
1374:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1375:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1376:rtos/uCOS-III/Source/os_task.c **** */
1377:rtos/uCOS-III/Source/os_task.c **** 
1378:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_SUSPEND_EN > 0u)
1379:rtos/uCOS-III/Source/os_task.c **** void  OSTaskResume (OS_TCB  *p_tcb,
1380:rtos/uCOS-III/Source/os_task.c ****                     OS_ERR  *p_err)
1381:rtos/uCOS-III/Source/os_task.c **** {
 1229              		.loc 1 1381 1 is_stmt 1 view -0
 1230              		.cfi_startproc
 1231              		@ args = 0, pretend = 0, frame = 0
 1232              		@ frame_needed = 0, uses_anonymous_args = 0
 1233              		.loc 1 1381 1 is_stmt 0 view .LVU457
 1234 0000 70B5     		push	{r4, r5, r6, lr}
 1235              	.LCFI10:
 1236              		.cfi_def_cfa_offset 16
 1237              		.cfi_offset 4, -16
 1238              		.cfi_offset 5, -12
 1239              		.cfi_offset 6, -8
 1240              		.cfi_offset 14, -4
 1241 0002 0C46     		mov	r4, r1
1382:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 1242              		.loc 1 1382 5 is_stmt 1 view .LVU458
 1243              	.LVL124:
1383:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 52


1384:rtos/uCOS-III/Source/os_task.c **** 
1385:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_RESUME_ENTER(p_tcb);
 1244              		.loc 1 1385 38 view .LVU459
1386:rtos/uCOS-III/Source/os_task.c **** 
1387:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1388:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1389:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1390:rtos/uCOS-III/Source/os_task.c ****         return;
1391:rtos/uCOS-III/Source/os_task.c ****     }
1392:rtos/uCOS-III/Source/os_task.c **** #endif
1393:rtos/uCOS-III/Source/os_task.c **** 
1394:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
1395:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 1245              		.loc 1 1395 5 view .LVU460
 1246              		.loc 1 1395 25 is_stmt 0 view .LVU461
 1247 0004 3D4B     		ldr	r3, .L112
 1248 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1249              		.loc 1 1395 8 view .LVU462
 1250 0008 43B9     		cbnz	r3, .L110
 1251 000a 0546     		mov	r5, r0
1396:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_RESUME_ISR;
1397:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_RESUME_ISR);
1398:rtos/uCOS-III/Source/os_task.c ****         return;
1399:rtos/uCOS-III/Source/os_task.c ****     }
1400:rtos/uCOS-III/Source/os_task.c **** #endif
1401:rtos/uCOS-III/Source/os_task.c **** 
1402:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
1403:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 1252              		.loc 1 1403 5 is_stmt 1 view .LVU463
 1253              		.loc 1 1403 19 is_stmt 0 view .LVU464
 1254 000c 3C4B     		ldr	r3, .L112+4
 1255 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1256              		.loc 1 1403 8 view .LVU465
 1257 0010 012B     		cmp	r3, #1
 1258 0012 07D0     		beq	.L94
1404:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1259              		.loc 1 1404 8 is_stmt 1 view .LVU466
 1260              		.loc 1 1404 15 is_stmt 0 view .LVU467
 1261 0014 45F68963 		movw	r3, #24201
 1262 0018 0B80     		strh	r3, [r1]	@ movhi
1405:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_RESUME_EXIT(OS_ERR_OS_NOT_RUNNING);
 1263              		.loc 1 1405 57 is_stmt 1 view .LVU468
1406:rtos/uCOS-III/Source/os_task.c ****         return;
 1264              		.loc 1 1406 9 view .LVU469
 1265              	.LVL125:
 1266              	.L91:
1407:rtos/uCOS-III/Source/os_task.c ****     }
1408:rtos/uCOS-III/Source/os_task.c **** #endif
1409:rtos/uCOS-III/Source/os_task.c **** 
1410:rtos/uCOS-III/Source/os_task.c **** 
1411:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
1412:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1413:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* We cannot resume 'self'         
1414:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
1415:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
1416:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_RESUME_SELF;
1417:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_RESUME_SELF);
ARM GAS  /tmp/ccS1bHPU.s 			page 53


1418:rtos/uCOS-III/Source/os_task.c ****         return;
1419:rtos/uCOS-III/Source/os_task.c ****     }
1420:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1421:rtos/uCOS-III/Source/os_task.c **** #endif
1422:rtos/uCOS-III/Source/os_task.c **** 
1423:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1424:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
1425:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
1426:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
1427:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY:
1428:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND:
1429:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1430:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1431:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TASK_NOT_SUSPENDED;
1432:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_NOT_SUSPENDED);
1433:rtos/uCOS-III/Source/os_task.c ****              break;
1434:rtos/uCOS-III/Source/os_task.c **** 
1435:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
1436:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr--;
1437:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
1438:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_RDY;
1439:rtos/uCOS-III/Source/os_task.c ****                  OS_RdyListInsert(p_tcb);                       /* Insert the task in the ready lis
1440:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_TASK_RESUME(p_tcb);
1441:rtos/uCOS-III/Source/os_task.c ****              }
1442:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1443:rtos/uCOS-III/Source/os_task.c ****              break;
1444:rtos/uCOS-III/Source/os_task.c **** 
1445:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
1446:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr--;
1447:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
1448:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_DLY;
1449:rtos/uCOS-III/Source/os_task.c ****              }
1450:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1451:rtos/uCOS-III/Source/os_task.c ****              break;
1452:rtos/uCOS-III/Source/os_task.c **** 
1453:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1454:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr--;
1455:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
1456:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND;
1457:rtos/uCOS-III/Source/os_task.c ****              }
1458:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1459:rtos/uCOS-III/Source/os_task.c ****              break;
1460:rtos/uCOS-III/Source/os_task.c **** 
1461:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1462:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr--;
1463:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
1464:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND_TIMEOUT;
1465:rtos/uCOS-III/Source/os_task.c ****              }
1466:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1467:rtos/uCOS-III/Source/os_task.c ****              break;
1468:rtos/uCOS-III/Source/os_task.c **** 
1469:rtos/uCOS-III/Source/os_task.c ****         default:
1470:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1471:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
1472:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_RESUME_EXIT(OS_ERR_STATE_INVALID);
1473:rtos/uCOS-III/Source/os_task.c ****              break;
1474:rtos/uCOS-III/Source/os_task.c ****     }
ARM GAS  /tmp/ccS1bHPU.s 			page 54


1475:rtos/uCOS-III/Source/os_task.c **** 
1476:rtos/uCOS-III/Source/os_task.c ****     if (*p_err != OS_ERR_NONE) {                                /* Don't schedule if task wasn't in
1477:rtos/uCOS-III/Source/os_task.c ****         return;
1478:rtos/uCOS-III/Source/os_task.c ****     }
1479:rtos/uCOS-III/Source/os_task.c **** 
1480:rtos/uCOS-III/Source/os_task.c ****     OSSched();
1481:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_RESUME_EXIT(OS_ERR_NONE);
1482:rtos/uCOS-III/Source/os_task.c **** }
 1267              		.loc 1 1482 1 is_stmt 0 view .LVU470
 1268 001a 70BD     		pop	{r4, r5, r6, pc}
 1269              	.LVL126:
 1270              	.L110:
1396:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_RESUME_ISR);
 1271              		.loc 1 1396 8 is_stmt 1 view .LVU471
1396:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_RESUME_ISR);
 1272              		.loc 1 1396 15 is_stmt 0 view .LVU472
 1273 001c 47F25513 		movw	r3, #29013
 1274 0020 0B80     		strh	r3, [r1]	@ movhi
1397:rtos/uCOS-III/Source/os_task.c ****         return;
 1275              		.loc 1 1397 58 is_stmt 1 view .LVU473
1398:rtos/uCOS-III/Source/os_task.c ****     }
 1276              		.loc 1 1398 9 view .LVU474
 1277 0022 FAE7     		b	.L91
 1278              	.L94:
1412:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* We cannot resume 'self'         
 1279              		.loc 1 1412 5 view .LVU475
1412:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* We cannot resume 'self'         
 1280              		.loc 1 1412 5 view .LVU476
1412:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* We cannot resume 'self'         
 1281              		.loc 1 1412 5 view .LVU477
 1282 0024 4020     		movs	r0, #64
 1283              	.LVL127:
1412:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* We cannot resume 'self'         
 1284              		.loc 1 1412 5 is_stmt 0 view .LVU478
 1285 0026 FFF7FEFF 		bl	CPU_SR_Save
 1286              	.LVL128:
1412:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* We cannot resume 'self'         
 1287              		.loc 1 1412 5 is_stmt 1 view .LVU479
1412:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* We cannot resume 'self'         
 1288              		.loc 1 1412 5 view .LVU480
1413:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 1289              		.loc 1 1413 5 view .LVU481
1413:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 1290              		.loc 1 1413 8 is_stmt 0 view .LVU482
 1291 002a ADB1     		cbz	r5, .L95
1414:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1292              		.loc 1 1414 16 discriminator 1 view .LVU483
 1293 002c 354B     		ldr	r3, .L112+8
 1294 002e 1B68     		ldr	r3, [r3]
1413:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 1295              		.loc 1 1413 32 discriminator 1 view .LVU484
 1296 0030 AB42     		cmp	r3, r5
 1297 0032 11D0     		beq	.L95
1420:rtos/uCOS-III/Source/os_task.c **** #endif
 1298              		.loc 1 1420 5 is_stmt 1 view .LVU485
1420:rtos/uCOS-III/Source/os_task.c **** #endif
 1299              		.loc 1 1420 5 view .LVU486
ARM GAS  /tmp/ccS1bHPU.s 			page 55


1420:rtos/uCOS-III/Source/os_task.c **** #endif
 1300              		.loc 1 1420 5 view .LVU487
 1301 0034 FFF7FEFF 		bl	CPU_SR_Restore
 1302              	.LVL129:
1420:rtos/uCOS-III/Source/os_task.c **** #endif
 1303              		.loc 1 1420 5 view .LVU488
1420:rtos/uCOS-III/Source/os_task.c **** #endif
 1304              		.loc 1 1420 5 view .LVU489
1423:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1305              		.loc 1 1423 5 view .LVU490
1423:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1306              		.loc 1 1423 5 view .LVU491
1423:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1307              		.loc 1 1423 5 view .LVU492
 1308 0038 4020     		movs	r0, #64
 1309 003a FFF7FEFF 		bl	CPU_SR_Save
 1310              	.LVL130:
 1311 003e 0646     		mov	r6, r0
 1312              	.LVL131:
1423:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1313              		.loc 1 1423 5 view .LVU493
1423:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 1314              		.loc 1 1423 5 view .LVU494
1424:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 1315              		.loc 1 1424 4 view .LVU495
1424:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 1316              		.loc 1 1424 11 is_stmt 0 view .LVU496
 1317 0040 0023     		movs	r3, #0
 1318 0042 2380     		strh	r3, [r4]	@ movhi
1425:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 1319              		.loc 1 1425 5 is_stmt 1 view .LVU497
1425:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 1320              		.loc 1 1425 18 is_stmt 0 view .LVU498
 1321 0044 95F82E30 		ldrb	r3, [r5, #46]	@ zero_extendqisi2
 1322 0048 072B     		cmp	r3, #7
 1323 004a 51D8     		bhi	.L97
 1324 004c DFE803F0 		tbb	[pc, r3]
 1325              	.L99:
 1326 0050 0A       		.byte	(.L103-.L99)/2
 1327 0051 0A       		.byte	(.L103-.L99)/2
 1328 0052 0A       		.byte	(.L103-.L99)/2
 1329 0053 0A       		.byte	(.L103-.L99)/2
 1330 0054 15       		.byte	(.L102-.L99)/2
 1331 0055 26       		.byte	(.L101-.L99)/2
 1332 0056 34       		.byte	(.L100-.L99)/2
 1333 0057 42       		.byte	(.L98-.L99)/2
 1334              		.p2align 1
 1335              	.L95:
1415:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_RESUME_SELF;
 1336              		.loc 1 1415 9 is_stmt 1 view .LVU499
1415:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_RESUME_SELF;
 1337              		.loc 1 1415 9 view .LVU500
1415:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_RESUME_SELF;
 1338              		.loc 1 1415 9 view .LVU501
 1339 0058 FFF7FEFF 		bl	CPU_SR_Restore
 1340              	.LVL132:
1415:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_RESUME_SELF;
ARM GAS  /tmp/ccS1bHPU.s 			page 56


 1341              		.loc 1 1415 9 view .LVU502
1415:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_RESUME_SELF;
 1342              		.loc 1 1415 9 view .LVU503
1416:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_RESUME_SELF);
 1343              		.loc 1 1416 8 view .LVU504
1416:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_RESUME_SELF);
 1344              		.loc 1 1416 15 is_stmt 0 view .LVU505
 1345 005c 47F25713 		movw	r3, #29015
 1346 0060 2380     		strh	r3, [r4]	@ movhi
1417:rtos/uCOS-III/Source/os_task.c ****         return;
 1347              		.loc 1 1417 59 is_stmt 1 view .LVU506
1418:rtos/uCOS-III/Source/os_task.c ****     }
 1348              		.loc 1 1418 9 view .LVU507
 1349 0062 DAE7     		b	.L91
 1350              	.LVL133:
 1351              	.L103:
1430:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TASK_NOT_SUSPENDED;
 1352              		.loc 1 1430 14 view .LVU508
1430:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TASK_NOT_SUSPENDED;
 1353              		.loc 1 1430 14 view .LVU509
1430:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TASK_NOT_SUSPENDED;
 1354              		.loc 1 1430 14 view .LVU510
 1355 0064 FFF7FEFF 		bl	CPU_SR_Restore
 1356              	.LVL134:
1430:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TASK_NOT_SUSPENDED;
 1357              		.loc 1 1430 14 view .LVU511
1430:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TASK_NOT_SUSPENDED;
 1358              		.loc 1 1430 14 view .LVU512
1431:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_NOT_SUSPENDED);
 1359              		.loc 1 1431 13 view .LVU513
1431:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_RESUME_EXIT(OS_ERR_TASK_NOT_SUSPENDED);
 1360              		.loc 1 1431 20 is_stmt 0 view .LVU514
 1361 0068 47F25313 		movw	r3, #29011
 1362 006c 2380     		strh	r3, [r4]	@ movhi
1432:rtos/uCOS-III/Source/os_task.c ****              break;
 1363              		.loc 1 1432 66 is_stmt 1 view .LVU515
1433:rtos/uCOS-III/Source/os_task.c **** 
 1364              		.loc 1 1433 14 view .LVU516
 1365              	.L104:
1476:rtos/uCOS-III/Source/os_task.c ****         return;
 1366              		.loc 1 1476 5 view .LVU517
1476:rtos/uCOS-III/Source/os_task.c ****         return;
 1367              		.loc 1 1476 9 is_stmt 0 view .LVU518
 1368 006e 2388     		ldrh	r3, [r4]
1476:rtos/uCOS-III/Source/os_task.c ****         return;
 1369              		.loc 1 1476 8 view .LVU519
 1370 0070 002B     		cmp	r3, #0
 1371 0072 D2D1     		bne	.L91
1480:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_RESUME_EXIT(OS_ERR_NONE);
 1372              		.loc 1 1480 5 is_stmt 1 view .LVU520
 1373 0074 FFF7FEFF 		bl	OSSched
 1374              	.LVL135:
1481:rtos/uCOS-III/Source/os_task.c **** }
 1375              		.loc 1 1481 43 view .LVU521
 1376 0078 CFE7     		b	.L91
 1377              	.LVL136:
 1378              	.L102:
ARM GAS  /tmp/ccS1bHPU.s 			page 57


1436:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1379              		.loc 1 1436 14 view .LVU522
1436:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1380              		.loc 1 1436 19 is_stmt 0 view .LVU523
 1381 007a 95F87E30 		ldrb	r3, [r5, #126]	@ zero_extendqisi2
1436:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1382              		.loc 1 1436 31 view .LVU524
 1383 007e 013B     		subs	r3, r3, #1
 1384 0080 DBB2     		uxtb	r3, r3
 1385 0082 85F87E30 		strb	r3, [r5, #126]
1437:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_RDY;
 1386              		.loc 1 1437 14 is_stmt 1 view .LVU525
1437:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_RDY;
 1387              		.loc 1 1437 17 is_stmt 0 view .LVU526
 1388 0086 1BB1     		cbz	r3, .L111
 1389              	.LVL137:
 1390              	.L105:
1440:rtos/uCOS-III/Source/os_task.c ****              }
 1391              		.loc 1 1440 45 is_stmt 1 view .LVU527
1442:rtos/uCOS-III/Source/os_task.c ****              break;
 1392              		.loc 1 1442 14 view .LVU528
1442:rtos/uCOS-III/Source/os_task.c ****              break;
 1393              		.loc 1 1442 14 view .LVU529
1442:rtos/uCOS-III/Source/os_task.c ****              break;
 1394              		.loc 1 1442 14 view .LVU530
 1395 0088 3046     		mov	r0, r6
 1396 008a FFF7FEFF 		bl	CPU_SR_Restore
 1397              	.LVL138:
1442:rtos/uCOS-III/Source/os_task.c ****              break;
 1398              		.loc 1 1442 14 view .LVU531
1442:rtos/uCOS-III/Source/os_task.c ****              break;
 1399              		.loc 1 1442 14 view .LVU532
1443:rtos/uCOS-III/Source/os_task.c **** 
 1400              		.loc 1 1443 14 view .LVU533
 1401 008e EEE7     		b	.L104
 1402              	.LVL139:
 1403              	.L111:
1438:rtos/uCOS-III/Source/os_task.c ****                  OS_RdyListInsert(p_tcb);                       /* Insert the task in the ready lis
 1404              		.loc 1 1438 18 view .LVU534
1438:rtos/uCOS-III/Source/os_task.c ****                  OS_RdyListInsert(p_tcb);                       /* Insert the task in the ready lis
 1405              		.loc 1 1438 35 is_stmt 0 view .LVU535
 1406 0090 85F82E30 		strb	r3, [r5, #46]
1439:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_TASK_RESUME(p_tcb);
 1407              		.loc 1 1439 18 is_stmt 1 view .LVU536
 1408 0094 2846     		mov	r0, r5
 1409              	.LVL140:
1439:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_TASK_RESUME(p_tcb);
 1410              		.loc 1 1439 18 is_stmt 0 view .LVU537
 1411 0096 FFF7FEFF 		bl	OS_RdyListInsert
 1412              	.LVL141:
 1413 009a F5E7     		b	.L105
 1414              	.LVL142:
 1415              	.L101:
1446:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1416              		.loc 1 1446 14 is_stmt 1 view .LVU538
1446:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1417              		.loc 1 1446 19 is_stmt 0 view .LVU539
ARM GAS  /tmp/ccS1bHPU.s 			page 58


 1418 009c 95F87E30 		ldrb	r3, [r5, #126]	@ zero_extendqisi2
1446:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1419              		.loc 1 1446 31 view .LVU540
 1420 00a0 013B     		subs	r3, r3, #1
 1421 00a2 DBB2     		uxtb	r3, r3
 1422 00a4 85F87E30 		strb	r3, [r5, #126]
1447:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_DLY;
 1423              		.loc 1 1447 14 is_stmt 1 view .LVU541
1447:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_DLY;
 1424              		.loc 1 1447 17 is_stmt 0 view .LVU542
 1425 00a8 13B9     		cbnz	r3, .L106
1448:rtos/uCOS-III/Source/os_task.c ****              }
 1426              		.loc 1 1448 18 is_stmt 1 view .LVU543
1448:rtos/uCOS-III/Source/os_task.c ****              }
 1427              		.loc 1 1448 35 is_stmt 0 view .LVU544
 1428 00aa 0123     		movs	r3, #1
 1429 00ac 85F82E30 		strb	r3, [r5, #46]
 1430              	.L106:
1450:rtos/uCOS-III/Source/os_task.c ****              break;
 1431              		.loc 1 1450 14 is_stmt 1 view .LVU545
1450:rtos/uCOS-III/Source/os_task.c ****              break;
 1432              		.loc 1 1450 14 view .LVU546
1450:rtos/uCOS-III/Source/os_task.c ****              break;
 1433              		.loc 1 1450 14 view .LVU547
 1434 00b0 3046     		mov	r0, r6
 1435              	.LVL143:
1450:rtos/uCOS-III/Source/os_task.c ****              break;
 1436              		.loc 1 1450 14 is_stmt 0 view .LVU548
 1437 00b2 FFF7FEFF 		bl	CPU_SR_Restore
 1438              	.LVL144:
1450:rtos/uCOS-III/Source/os_task.c ****              break;
 1439              		.loc 1 1450 14 is_stmt 1 view .LVU549
1450:rtos/uCOS-III/Source/os_task.c ****              break;
 1440              		.loc 1 1450 14 view .LVU550
1451:rtos/uCOS-III/Source/os_task.c **** 
 1441              		.loc 1 1451 14 view .LVU551
 1442 00b6 DAE7     		b	.L104
 1443              	.LVL145:
 1444              	.L100:
1454:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1445              		.loc 1 1454 14 view .LVU552
1454:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1446              		.loc 1 1454 19 is_stmt 0 view .LVU553
 1447 00b8 95F87E30 		ldrb	r3, [r5, #126]	@ zero_extendqisi2
1454:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1448              		.loc 1 1454 31 view .LVU554
 1449 00bc 013B     		subs	r3, r3, #1
 1450 00be DBB2     		uxtb	r3, r3
 1451 00c0 85F87E30 		strb	r3, [r5, #126]
1455:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND;
 1452              		.loc 1 1455 14 is_stmt 1 view .LVU555
1455:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND;
 1453              		.loc 1 1455 17 is_stmt 0 view .LVU556
 1454 00c4 13B9     		cbnz	r3, .L107
1456:rtos/uCOS-III/Source/os_task.c ****              }
 1455              		.loc 1 1456 18 is_stmt 1 view .LVU557
1456:rtos/uCOS-III/Source/os_task.c ****              }
ARM GAS  /tmp/ccS1bHPU.s 			page 59


 1456              		.loc 1 1456 35 is_stmt 0 view .LVU558
 1457 00c6 0223     		movs	r3, #2
 1458 00c8 85F82E30 		strb	r3, [r5, #46]
 1459              	.L107:
1458:rtos/uCOS-III/Source/os_task.c ****              break;
 1460              		.loc 1 1458 14 is_stmt 1 view .LVU559
1458:rtos/uCOS-III/Source/os_task.c ****              break;
 1461              		.loc 1 1458 14 view .LVU560
1458:rtos/uCOS-III/Source/os_task.c ****              break;
 1462              		.loc 1 1458 14 view .LVU561
 1463 00cc 3046     		mov	r0, r6
 1464              	.LVL146:
1458:rtos/uCOS-III/Source/os_task.c ****              break;
 1465              		.loc 1 1458 14 is_stmt 0 view .LVU562
 1466 00ce FFF7FEFF 		bl	CPU_SR_Restore
 1467              	.LVL147:
1458:rtos/uCOS-III/Source/os_task.c ****              break;
 1468              		.loc 1 1458 14 is_stmt 1 view .LVU563
1458:rtos/uCOS-III/Source/os_task.c ****              break;
 1469              		.loc 1 1458 14 view .LVU564
1459:rtos/uCOS-III/Source/os_task.c **** 
 1470              		.loc 1 1459 14 view .LVU565
 1471 00d2 CCE7     		b	.L104
 1472              	.LVL148:
 1473              	.L98:
1462:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1474              		.loc 1 1462 14 view .LVU566
1462:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1475              		.loc 1 1462 19 is_stmt 0 view .LVU567
 1476 00d4 95F87E30 		ldrb	r3, [r5, #126]	@ zero_extendqisi2
1462:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == 0u) {
 1477              		.loc 1 1462 31 view .LVU568
 1478 00d8 013B     		subs	r3, r3, #1
 1479 00da DBB2     		uxtb	r3, r3
 1480 00dc 85F87E30 		strb	r3, [r5, #126]
1463:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND_TIMEOUT;
 1481              		.loc 1 1463 14 is_stmt 1 view .LVU569
1463:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND_TIMEOUT;
 1482              		.loc 1 1463 17 is_stmt 0 view .LVU570
 1483 00e0 13B9     		cbnz	r3, .L108
1464:rtos/uCOS-III/Source/os_task.c ****              }
 1484              		.loc 1 1464 18 is_stmt 1 view .LVU571
1464:rtos/uCOS-III/Source/os_task.c ****              }
 1485              		.loc 1 1464 35 is_stmt 0 view .LVU572
 1486 00e2 0323     		movs	r3, #3
 1487 00e4 85F82E30 		strb	r3, [r5, #46]
 1488              	.L108:
1466:rtos/uCOS-III/Source/os_task.c ****              break;
 1489              		.loc 1 1466 14 is_stmt 1 view .LVU573
1466:rtos/uCOS-III/Source/os_task.c ****              break;
 1490              		.loc 1 1466 14 view .LVU574
1466:rtos/uCOS-III/Source/os_task.c ****              break;
 1491              		.loc 1 1466 14 view .LVU575
 1492 00e8 3046     		mov	r0, r6
 1493              	.LVL149:
1466:rtos/uCOS-III/Source/os_task.c ****              break;
 1494              		.loc 1 1466 14 is_stmt 0 view .LVU576
ARM GAS  /tmp/ccS1bHPU.s 			page 60


 1495 00ea FFF7FEFF 		bl	CPU_SR_Restore
 1496              	.LVL150:
1466:rtos/uCOS-III/Source/os_task.c ****              break;
 1497              		.loc 1 1466 14 is_stmt 1 view .LVU577
1466:rtos/uCOS-III/Source/os_task.c ****              break;
 1498              		.loc 1 1466 14 view .LVU578
1467:rtos/uCOS-III/Source/os_task.c **** 
 1499              		.loc 1 1467 14 view .LVU579
 1500 00ee BEE7     		b	.L104
 1501              	.LVL151:
 1502              	.L97:
1470:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 1503              		.loc 1 1470 14 view .LVU580
1470:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 1504              		.loc 1 1470 14 view .LVU581
1470:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 1505              		.loc 1 1470 14 view .LVU582
 1506 00f0 FFF7FEFF 		bl	CPU_SR_Restore
 1507              	.LVL152:
1470:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 1508              		.loc 1 1470 14 view .LVU583
1470:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 1509              		.loc 1 1470 14 view .LVU584
1471:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_RESUME_EXIT(OS_ERR_STATE_INVALID);
 1510              		.loc 1 1471 13 view .LVU585
1471:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_RESUME_EXIT(OS_ERR_STATE_INVALID);
 1511              		.loc 1 1471 20 is_stmt 0 view .LVU586
 1512 00f4 46F62D63 		movw	r3, #28205
 1513 00f8 2380     		strh	r3, [r4]	@ movhi
1472:rtos/uCOS-III/Source/os_task.c ****              break;
 1514              		.loc 1 1472 61 is_stmt 1 view .LVU587
1473:rtos/uCOS-III/Source/os_task.c ****     }
 1515              		.loc 1 1473 14 view .LVU588
 1516 00fa B8E7     		b	.L104
 1517              	.L113:
 1518              		.align	2
 1519              	.L112:
 1520 00fc 00000000 		.word	OSIntNestingCtr
 1521 0100 00000000 		.word	OSRunning
 1522 0104 00000000 		.word	OSTCBCurPtr
 1523              		.cfi_endproc
 1524              	.LFE10:
 1526              		.section	.text.OSTaskSemPend,"ax",%progbits
 1527              		.align	1
 1528              		.global	OSTaskSemPend
 1529              		.syntax unified
 1530              		.thumb
 1531              		.thumb_func
 1532              		.fpu fpv4-sp-d16
 1534              	OSTaskSemPend:
 1535              	.LVL153:
 1536              	.LFB11:
1483:rtos/uCOS-III/Source/os_task.c **** #endif
1484:rtos/uCOS-III/Source/os_task.c **** 
1485:rtos/uCOS-III/Source/os_task.c **** 
1486:rtos/uCOS-III/Source/os_task.c **** /*
1487:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
ARM GAS  /tmp/ccS1bHPU.s 			page 61


1488:rtos/uCOS-III/Source/os_task.c **** *                                              WAIT FOR A TASK SEMAPHORE
1489:rtos/uCOS-III/Source/os_task.c **** *
1490:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to block the current task until a signal is sent by another 
1491:rtos/uCOS-III/Source/os_task.c **** *
1492:rtos/uCOS-III/Source/os_task.c **** * Arguments  : timeout       is the amount of time you are will to wait for the signal
1493:rtos/uCOS-III/Source/os_task.c **** *
1494:rtos/uCOS-III/Source/os_task.c **** *              opt           determines whether the user wants to block if a semaphore post was not
1495:rtos/uCOS-III/Source/os_task.c **** *
1496:rtos/uCOS-III/Source/os_task.c **** *                                OS_OPT_PEND_BLOCKING
1497:rtos/uCOS-III/Source/os_task.c **** *                                OS_OPT_PEND_NON_BLOCKING
1498:rtos/uCOS-III/Source/os_task.c **** *
1499:rtos/uCOS-III/Source/os_task.c **** *              p_ts          is a pointer to a variable that will receive the timestamp of when the
1500:rtos/uCOS-III/Source/os_task.c **** *                            or pend aborted.  If you pass a NULL pointer (i.e. (CPU_TS *)0) then y
1501:rtos/uCOS-III/Source/os_task.c **** *                            timestamp.  In other words, passing a NULL pointer is valid and indica
1502:rtos/uCOS-III/Source/os_task.c **** *                            need the timestamp.
1503:rtos/uCOS-III/Source/os_task.c **** *
1504:rtos/uCOS-III/Source/os_task.c **** *              p_err         is a pointer to an error code that will be set by this function
1505:rtos/uCOS-III/Source/os_task.c **** *
1506:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_NONE                The call was successful and your task r
1507:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_OPT_INVALID         You specified an invalid option
1508:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_OS_NOT_RUNNING      If uC/OS-III is not running yet
1509:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_PEND_ABORT          If the pend was aborted
1510:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_PEND_ISR            If you called this function from an ISR
1511:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_PEND_WOULD_BLOCK    If you specified non-blocking but no si
1512:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_SCHED_LOCKED        If the scheduler is locked
1513:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_STATUS_INVALID      If the pend status is invalid
1514:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_TIMEOUT             A message was not received within the s
1515:rtos/uCOS-III/Source/os_task.c **** *
1516:rtos/uCOS-III/Source/os_task.c **** * Returns    : The current count of signals the task received, 0 if none.
1517:rtos/uCOS-III/Source/os_task.c **** *
1518:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : This API 'MUST NOT' be called from a timer callback function.
1519:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1520:rtos/uCOS-III/Source/os_task.c **** */
1521:rtos/uCOS-III/Source/os_task.c **** 
1522:rtos/uCOS-III/Source/os_task.c **** OS_SEM_CTR  OSTaskSemPend (OS_TICK   timeout,
1523:rtos/uCOS-III/Source/os_task.c ****                            OS_OPT    opt,
1524:rtos/uCOS-III/Source/os_task.c ****                            CPU_TS   *p_ts,
1525:rtos/uCOS-III/Source/os_task.c ****                            OS_ERR   *p_err)
1526:rtos/uCOS-III/Source/os_task.c **** {
 1537              		.loc 1 1526 1 view -0
 1538              		.cfi_startproc
 1539              		@ args = 0, pretend = 0, frame = 0
 1540              		@ frame_needed = 0, uses_anonymous_args = 0
 1541              		.loc 1 1526 1 is_stmt 0 view .LVU590
 1542 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1543              	.LCFI11:
 1544              		.cfi_def_cfa_offset 24
 1545              		.cfi_offset 4, -24
 1546              		.cfi_offset 5, -20
 1547              		.cfi_offset 6, -16
 1548              		.cfi_offset 7, -12
 1549              		.cfi_offset 8, -8
 1550              		.cfi_offset 14, -4
 1551 0004 1D46     		mov	r5, r3
1527:rtos/uCOS-III/Source/os_task.c ****     OS_SEM_CTR    ctr;
 1552              		.loc 1 1527 5 is_stmt 1 view .LVU591
1528:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
ARM GAS  /tmp/ccS1bHPU.s 			page 62


 1553              		.loc 1 1528 5 view .LVU592
 1554              	.LVL154:
1529:rtos/uCOS-III/Source/os_task.c **** 
1530:rtos/uCOS-III/Source/os_task.c **** 
1531:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN == 0u)
1532:rtos/uCOS-III/Source/os_task.c ****     (void)p_ts;                                                 /* Prevent compiler warning for not
 1555              		.loc 1 1532 5 view .LVU593
1533:rtos/uCOS-III/Source/os_task.c **** #endif
1534:rtos/uCOS-III/Source/os_task.c **** 
1535:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1536:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1537:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1538:rtos/uCOS-III/Source/os_task.c ****         return (0u);
1539:rtos/uCOS-III/Source/os_task.c ****     }
1540:rtos/uCOS-III/Source/os_task.c **** #endif
1541:rtos/uCOS-III/Source/os_task.c **** 
1542:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_ENTER(OSTCBCurPtr, timeout, opt, p_ts);
 1556              		.loc 1 1542 66 view .LVU594
1543:rtos/uCOS-III/Source/os_task.c **** 
1544:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TICK_EN == 0u)
1545:rtos/uCOS-III/Source/os_task.c ****     if (timeout != 0u) {
1546:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1547:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_TICK_DISABLED);
1548:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TICK_DISABLED;
1549:rtos/uCOS-III/Source/os_task.c ****         return (0u);
1550:rtos/uCOS-III/Source/os_task.c ****     }
1551:rtos/uCOS-III/Source/os_task.c **** #endif
1552:rtos/uCOS-III/Source/os_task.c **** 
1553:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
1554:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 1557              		.loc 1 1554 5 view .LVU595
 1558              		.loc 1 1554 25 is_stmt 0 view .LVU596
 1559 0006 344A     		ldr	r2, .L132
 1560              	.LVL155:
 1561              		.loc 1 1554 25 view .LVU597
 1562 0008 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1563              		.loc 1 1554 8 view .LVU598
 1564 000a 52B9     		cbnz	r2, .L127
 1565 000c 0746     		mov	r7, r0
 1566 000e 0E46     		mov	r6, r1
1555:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1556:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_PEND_ISR);
1557:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ISR;
1558:rtos/uCOS-III/Source/os_task.c ****         return (0u);
1559:rtos/uCOS-III/Source/os_task.c ****     }
1560:rtos/uCOS-III/Source/os_task.c **** #endif
1561:rtos/uCOS-III/Source/os_task.c **** 
1562:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
1563:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 1567              		.loc 1 1563 5 is_stmt 1 view .LVU599
 1568              		.loc 1 1563 19 is_stmt 0 view .LVU600
 1569 0010 324B     		ldr	r3, .L132+4
 1570              	.LVL156:
 1571              		.loc 1 1563 19 view .LVU601
 1572 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1573              		.loc 1 1563 8 view .LVU602
 1574 0014 012B     		cmp	r3, #1
ARM GAS  /tmp/ccS1bHPU.s 			page 63


 1575 0016 0BD0     		beq	.L117
1564:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 1576              		.loc 1 1564 59 is_stmt 1 view .LVU603
1565:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1577              		.loc 1 1565 8 view .LVU604
 1578              		.loc 1 1565 15 is_stmt 0 view .LVU605
 1579 0018 45F68963 		movw	r3, #24201
 1580 001c 2B80     		strh	r3, [r5]	@ movhi
1566:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 1581              		.loc 1 1566 9 is_stmt 1 view .LVU606
 1582              		.loc 1 1566 16 is_stmt 0 view .LVU607
 1583 001e 0024     		movs	r4, #0
 1584 0020 03E0     		b	.L114
 1585              	.LVL157:
 1586              	.L127:
1555:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_PEND_ISR);
 1587              		.loc 1 1555 51 is_stmt 1 view .LVU608
1556:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ISR;
 1588              		.loc 1 1556 53 view .LVU609
1557:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 1589              		.loc 1 1557 8 view .LVU610
1557:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 1590              		.loc 1 1557 15 is_stmt 0 view .LVU611
 1591 0022 46F2AE13 		movw	r3, #25006
 1592              	.LVL158:
1557:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 1593              		.loc 1 1557 15 view .LVU612
 1594 0026 2B80     		strh	r3, [r5]	@ movhi
1558:rtos/uCOS-III/Source/os_task.c ****     }
 1595              		.loc 1 1558 9 is_stmt 1 view .LVU613
1558:rtos/uCOS-III/Source/os_task.c ****     }
 1596              		.loc 1 1558 16 is_stmt 0 view .LVU614
 1597 0028 0024     		movs	r4, #0
 1598              	.LVL159:
 1599              	.L114:
1567:rtos/uCOS-III/Source/os_task.c ****     }
1568:rtos/uCOS-III/Source/os_task.c **** #endif
1569:rtos/uCOS-III/Source/os_task.c **** 
1570:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
1571:rtos/uCOS-III/Source/os_task.c ****     switch (opt) {                                              /* Validate 'opt'                  
1572:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_PEND_BLOCKING:
1573:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_PEND_NON_BLOCKING:
1574:rtos/uCOS-III/Source/os_task.c ****              break;
1575:rtos/uCOS-III/Source/os_task.c **** 
1576:rtos/uCOS-III/Source/os_task.c ****         default:
1577:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1578:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_OPT_INVALID);
1579:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
1580:rtos/uCOS-III/Source/os_task.c ****              return (0u);
1581:rtos/uCOS-III/Source/os_task.c ****     }
1582:rtos/uCOS-III/Source/os_task.c **** #endif
1583:rtos/uCOS-III/Source/os_task.c **** 
1584:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1585:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
1586:rtos/uCOS-III/Source/os_task.c ****         OSTCBCurPtr->SemCtr--;
1587:rtos/uCOS-III/Source/os_task.c ****         ctr = OSTCBCurPtr->SemCtr;
1588:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
ARM GAS  /tmp/ccS1bHPU.s 			page 64


1589:rtos/uCOS-III/Source/os_task.c ****         if (p_ts != (CPU_TS *)0) {
1590:rtos/uCOS-III/Source/os_task.c ****            *p_ts  = OSTCBCurPtr->TS;
1591:rtos/uCOS-III/Source/os_task.c ****         }
1592:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
1593:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1594:rtos/uCOS-III/Source/os_task.c ****         OSTCBCurPtr->SemPendTime = OS_TS_GET() - OSTCBCurPtr->TS;
1595:rtos/uCOS-III/Source/os_task.c ****         if (OSTCBCurPtr->SemPendTimeMax < OSTCBCurPtr->SemPendTime) {
1596:rtos/uCOS-III/Source/os_task.c ****             OSTCBCurPtr->SemPendTimeMax = OSTCBCurPtr->SemPendTime;
1597:rtos/uCOS-III/Source/os_task.c ****         }
1598:rtos/uCOS-III/Source/os_task.c **** #endif
1599:rtos/uCOS-III/Source/os_task.c **** #endif
1600:rtos/uCOS-III/Source/os_task.c **** #endif
1601:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND(OSTCBCurPtr);
1602:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
1603:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_NONE);
1604:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_NONE;
1605:rtos/uCOS-III/Source/os_task.c ****         return (ctr);
1606:rtos/uCOS-III/Source/os_task.c ****     }
1607:rtos/uCOS-III/Source/os_task.c **** 
1608:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_PEND_NON_BLOCKING) != 0u) {               /* Caller wants to block if not ava
1609:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
1610:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1611:rtos/uCOS-III/Source/os_task.c ****         if (p_ts != (CPU_TS *)0) {
1612:rtos/uCOS-III/Source/os_task.c ****             *p_ts  = 0u;
1613:rtos/uCOS-III/Source/os_task.c ****         }
1614:rtos/uCOS-III/Source/os_task.c **** #endif
1615:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1616:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_PEND_WOULD_BLOCK);
1617:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_WOULD_BLOCK;                        /* No                              
1618:rtos/uCOS-III/Source/os_task.c ****         return (0u);
1619:rtos/uCOS-III/Source/os_task.c ****     } else {                                                    /* Yes                             
1620:rtos/uCOS-III/Source/os_task.c ****         if (OSSchedLockNestingCtr > 0u) {                       /* Can't pend when the scheduler is
1621:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1622:rtos/uCOS-III/Source/os_task.c ****             if (p_ts != (CPU_TS *)0) {
1623:rtos/uCOS-III/Source/os_task.c ****                *p_ts  = 0u;
1624:rtos/uCOS-III/Source/os_task.c ****             }
1625:rtos/uCOS-III/Source/os_task.c **** #endif
1626:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
1627:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1628:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_SCHED_LOCKED);
1629:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
1630:rtos/uCOS-III/Source/os_task.c ****             return (0u);
1631:rtos/uCOS-III/Source/os_task.c ****         }
1632:rtos/uCOS-III/Source/os_task.c ****     }
1633:rtos/uCOS-III/Source/os_task.c **** 
1634:rtos/uCOS-III/Source/os_task.c ****     OS_Pend((OS_PEND_OBJ *)0,                                   /* Block task pending on Signal    
1635:rtos/uCOS-III/Source/os_task.c ****              OSTCBCurPtr,
1636:rtos/uCOS-III/Source/os_task.c ****              OS_TASK_PEND_ON_TASK_SEM,
1637:rtos/uCOS-III/Source/os_task.c ****              timeout);
1638:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1639:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_BLOCK(OSTCBCurPtr);
1640:rtos/uCOS-III/Source/os_task.c ****     OSSched();                                                  /* Find next highest priority task 
1641:rtos/uCOS-III/Source/os_task.c **** 
1642:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1643:rtos/uCOS-III/Source/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {                          /* See if we timed-out or aborted  
1644:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_OK:
1645:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
ARM GAS  /tmp/ccS1bHPU.s 			page 65


1646:rtos/uCOS-III/Source/os_task.c ****              if (p_ts != (CPU_TS *)0) {
1647:rtos/uCOS-III/Source/os_task.c ****                 *p_ts                    =  OSTCBCurPtr->TS;
1648:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
1649:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1650:rtos/uCOS-III/Source/os_task.c ****                 OSTCBCurPtr->SemPendTime = OS_TS_GET() - OSTCBCurPtr->TS;
1651:rtos/uCOS-III/Source/os_task.c ****                 if (OSTCBCurPtr->SemPendTimeMax < OSTCBCurPtr->SemPendTime) {
1652:rtos/uCOS-III/Source/os_task.c ****                     OSTCBCurPtr->SemPendTimeMax = OSTCBCurPtr->SemPendTime;
1653:rtos/uCOS-III/Source/os_task.c ****                 }
1654:rtos/uCOS-III/Source/os_task.c **** #endif
1655:rtos/uCOS-III/Source/os_task.c **** #endif
1656:rtos/uCOS-III/Source/os_task.c ****              }
1657:rtos/uCOS-III/Source/os_task.c **** #endif
1658:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_PEND(OSTCBCurPtr);
1659:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_NONE;
1660:rtos/uCOS-III/Source/os_task.c ****              break;
1661:rtos/uCOS-III/Source/os_task.c **** 
1662:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_ABORT:
1663:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1664:rtos/uCOS-III/Source/os_task.c ****              if (p_ts != (CPU_TS *)0) {
1665:rtos/uCOS-III/Source/os_task.c ****                 *p_ts = OSTCBCurPtr->TS;
1666:rtos/uCOS-III/Source/os_task.c ****              }
1667:rtos/uCOS-III/Source/os_task.c **** #endif
1668:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1669:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_PEND_ABORT;                         /* Indicate that we aborted        
1670:rtos/uCOS-III/Source/os_task.c ****              break;
1671:rtos/uCOS-III/Source/os_task.c **** 
1672:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_TIMEOUT:
1673:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1674:rtos/uCOS-III/Source/os_task.c ****              if (p_ts != (CPU_TS *)0) {
1675:rtos/uCOS-III/Source/os_task.c ****                 *p_ts = 0u;
1676:rtos/uCOS-III/Source/os_task.c ****              }
1677:rtos/uCOS-III/Source/os_task.c **** #endif
1678:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1679:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TIMEOUT;                            /* Indicate that we didn't get even
1680:rtos/uCOS-III/Source/os_task.c ****              break;
1681:rtos/uCOS-III/Source/os_task.c **** 
1682:rtos/uCOS-III/Source/os_task.c ****         default:
1683:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
1684:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATUS_INVALID;
1685:rtos/uCOS-III/Source/os_task.c ****              break;
1686:rtos/uCOS-III/Source/os_task.c ****     }
1687:rtos/uCOS-III/Source/os_task.c ****     ctr = OSTCBCurPtr->SemCtr;
1688:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1689:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_EXIT(*p_err);
1690:rtos/uCOS-III/Source/os_task.c ****     return (ctr);
1691:rtos/uCOS-III/Source/os_task.c **** }
 1600              		.loc 1 1691 1 view .LVU615
 1601 002a 2046     		mov	r0, r4
 1602 002c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1603              	.LVL160:
 1604              	.L117:
1571:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_PEND_BLOCKING:
 1605              		.loc 1 1571 5 is_stmt 1 view .LVU616
 1606 0030 39B1     		cbz	r1, .L118
 1607 0032 B1F5004F 		cmp	r1, #32768
 1608 0036 04D0     		beq	.L118
1577:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_OPT_INVALID);
ARM GAS  /tmp/ccS1bHPU.s 			page 66


 1609              		.loc 1 1577 56 view .LVU617
1578:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
 1610              		.loc 1 1578 61 view .LVU618
1579:rtos/uCOS-III/Source/os_task.c ****              return (0u);
 1611              		.loc 1 1579 13 view .LVU619
1579:rtos/uCOS-III/Source/os_task.c ****              return (0u);
 1612              		.loc 1 1579 20 is_stmt 0 view .LVU620
 1613 0038 45F62563 		movw	r3, #24101
 1614 003c 2B80     		strh	r3, [r5]	@ movhi
1580:rtos/uCOS-III/Source/os_task.c ****     }
 1615              		.loc 1 1580 14 is_stmt 1 view .LVU621
1580:rtos/uCOS-III/Source/os_task.c ****     }
 1616              		.loc 1 1580 21 is_stmt 0 view .LVU622
 1617 003e 0024     		movs	r4, #0
 1618 0040 F3E7     		b	.L114
 1619              	.L118:
1574:rtos/uCOS-III/Source/os_task.c **** 
 1620              		.loc 1 1574 14 is_stmt 1 view .LVU623
1584:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
 1621              		.loc 1 1584 5 view .LVU624
1584:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
 1622              		.loc 1 1584 5 view .LVU625
1584:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
 1623              		.loc 1 1584 5 view .LVU626
 1624 0042 4020     		movs	r0, #64
 1625              	.LVL161:
1584:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
 1626              		.loc 1 1584 5 is_stmt 0 view .LVU627
 1627 0044 FFF7FEFF 		bl	CPU_SR_Save
 1628              	.LVL162:
1584:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
 1629              		.loc 1 1584 5 view .LVU628
 1630 0048 8046     		mov	r8, r0
 1631              	.LVL163:
1584:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
 1632              		.loc 1 1584 5 is_stmt 1 view .LVU629
1584:rtos/uCOS-III/Source/os_task.c ****     if (OSTCBCurPtr->SemCtr > 0u) {                             /* See if task already been signale
 1633              		.loc 1 1584 5 view .LVU630
1585:rtos/uCOS-III/Source/os_task.c ****         OSTCBCurPtr->SemCtr--;
 1634              		.loc 1 1585 5 view .LVU631
1585:rtos/uCOS-III/Source/os_task.c ****         OSTCBCurPtr->SemCtr--;
 1635              		.loc 1 1585 20 is_stmt 0 view .LVU632
 1636 004a 254B     		ldr	r3, .L132+8
 1637 004c 1968     		ldr	r1, [r3]
 1638 004e 0C6C     		ldr	r4, [r1, #64]
1585:rtos/uCOS-III/Source/os_task.c ****         OSTCBCurPtr->SemCtr--;
 1639              		.loc 1 1585 8 view .LVU633
 1640 0050 FCB9     		cbnz	r4, .L128
1608:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1641              		.loc 1 1608 5 is_stmt 1 view .LVU634
1608:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1642              		.loc 1 1608 8 is_stmt 0 view .LVU635
 1643 0052 16F4004F 		tst	r6, #32768
 1644 0056 23D1     		bne	.L129
1620:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1645              		.loc 1 1620 9 is_stmt 1 view .LVU636
1620:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
ARM GAS  /tmp/ccS1bHPU.s 			page 67


 1646              		.loc 1 1620 35 is_stmt 0 view .LVU637
 1647 0058 224B     		ldr	r3, .L132+12
 1648 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1620:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1649              		.loc 1 1620 12 view .LVU638
 1650 005c 33BB     		cbnz	r3, .L130
1634:rtos/uCOS-III/Source/os_task.c ****              OSTCBCurPtr,
 1651              		.loc 1 1634 5 is_stmt 1 view .LVU639
 1652 005e 3B46     		mov	r3, r7
 1653 0060 0722     		movs	r2, #7
 1654 0062 0020     		movs	r0, #0
 1655              	.LVL164:
1634:rtos/uCOS-III/Source/os_task.c ****              OSTCBCurPtr,
 1656              		.loc 1 1634 5 is_stmt 0 view .LVU640
 1657 0064 FFF7FEFF 		bl	OS_Pend
 1658              	.LVL165:
1638:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_BLOCK(OSTCBCurPtr);
 1659              		.loc 1 1638 5 is_stmt 1 view .LVU641
1638:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_BLOCK(OSTCBCurPtr);
 1660              		.loc 1 1638 5 view .LVU642
1638:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_BLOCK(OSTCBCurPtr);
 1661              		.loc 1 1638 5 view .LVU643
 1662 0068 4046     		mov	r0, r8
 1663 006a FFF7FEFF 		bl	CPU_SR_Restore
 1664              	.LVL166:
1638:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_BLOCK(OSTCBCurPtr);
 1665              		.loc 1 1638 5 view .LVU644
1638:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_BLOCK(OSTCBCurPtr);
 1666              		.loc 1 1638 5 view .LVU645
1639:rtos/uCOS-III/Source/os_task.c ****     OSSched();                                                  /* Find next highest priority task 
 1667              		.loc 1 1639 46 view .LVU646
1640:rtos/uCOS-III/Source/os_task.c **** 
 1668              		.loc 1 1640 5 view .LVU647
 1669 006e FFF7FEFF 		bl	OSSched
 1670              	.LVL167:
1642:rtos/uCOS-III/Source/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {                          /* See if we timed-out or aborted  
 1671              		.loc 1 1642 5 view .LVU648
1642:rtos/uCOS-III/Source/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {                          /* See if we timed-out or aborted  
 1672              		.loc 1 1642 5 view .LVU649
1642:rtos/uCOS-III/Source/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {                          /* See if we timed-out or aborted  
 1673              		.loc 1 1642 5 view .LVU650
 1674 0072 4020     		movs	r0, #64
 1675 0074 FFF7FEFF 		bl	CPU_SR_Save
 1676              	.LVL168:
1642:rtos/uCOS-III/Source/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {                          /* See if we timed-out or aborted  
 1677              		.loc 1 1642 5 view .LVU651
1642:rtos/uCOS-III/Source/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {                          /* See if we timed-out or aborted  
 1678              		.loc 1 1642 5 view .LVU652
1643:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_OK:
 1679              		.loc 1 1643 5 view .LVU653
1643:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_OK:
 1680              		.loc 1 1643 24 is_stmt 0 view .LVU654
 1681 0078 194B     		ldr	r3, .L132+8
 1682 007a 1B68     		ldr	r3, [r3]
 1683 007c 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
1643:rtos/uCOS-III/Source/os_task.c ****         case OS_STATUS_PEND_OK:
 1684              		.loc 1 1643 5 view .LVU655
ARM GAS  /tmp/ccS1bHPU.s 			page 68


 1685 0080 012B     		cmp	r3, #1
 1686 0082 20D0     		beq	.L122
 1687 0084 032B     		cmp	r3, #3
 1688 0086 22D0     		beq	.L123
 1689 0088 B3B1     		cbz	r3, .L131
1683:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATUS_INVALID;
 1690              		.loc 1 1683 56 is_stmt 1 view .LVU656
1684:rtos/uCOS-III/Source/os_task.c ****              break;
 1691              		.loc 1 1684 13 view .LVU657
1684:rtos/uCOS-III/Source/os_task.c ****              break;
 1692              		.loc 1 1684 20 is_stmt 0 view .LVU658
 1693 008a 46F62E63 		movw	r3, #28206
 1694 008e 2B80     		strh	r3, [r5]	@ movhi
1685:rtos/uCOS-III/Source/os_task.c ****     }
 1695              		.loc 1 1685 14 is_stmt 1 view .LVU659
 1696 0090 13E0     		b	.L125
 1697              	.L128:
1586:rtos/uCOS-III/Source/os_task.c ****         ctr = OSTCBCurPtr->SemCtr;
 1698              		.loc 1 1586 9 view .LVU660
1586:rtos/uCOS-III/Source/os_task.c ****         ctr = OSTCBCurPtr->SemCtr;
 1699              		.loc 1 1586 28 is_stmt 0 view .LVU661
 1700 0092 013C     		subs	r4, r4, #1
 1701 0094 0C64     		str	r4, [r1, #64]
1587:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1702              		.loc 1 1587 9 is_stmt 1 view .LVU662
 1703              	.LVL169:
1601:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1704              		.loc 1 1601 44 view .LVU663
1602:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_NONE);
 1705              		.loc 1 1602 9 view .LVU664
1602:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_NONE);
 1706              		.loc 1 1602 9 view .LVU665
1602:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_NONE);
 1707              		.loc 1 1602 9 view .LVU666
 1708 0096 FFF7FEFF 		bl	CPU_SR_Restore
 1709              	.LVL170:
1602:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_NONE);
 1710              		.loc 1 1602 9 view .LVU667
1602:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_NONE);
 1711              		.loc 1 1602 9 view .LVU668
1603:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_NONE;
 1712              		.loc 1 1603 49 view .LVU669
1604:rtos/uCOS-III/Source/os_task.c ****         return (ctr);
 1713              		.loc 1 1604 8 view .LVU670
1604:rtos/uCOS-III/Source/os_task.c ****         return (ctr);
 1714              		.loc 1 1604 15 is_stmt 0 view .LVU671
 1715 009a 0023     		movs	r3, #0
 1716 009c 2B80     		strh	r3, [r5]	@ movhi
1605:rtos/uCOS-III/Source/os_task.c ****     }
 1717              		.loc 1 1605 9 is_stmt 1 view .LVU672
1605:rtos/uCOS-III/Source/os_task.c ****     }
 1718              		.loc 1 1605 16 is_stmt 0 view .LVU673
 1719 009e C4E7     		b	.L114
 1720              	.LVL171:
 1721              	.L129:
1609:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1722              		.loc 1 1609 9 is_stmt 1 view .LVU674
ARM GAS  /tmp/ccS1bHPU.s 			page 69


1609:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1723              		.loc 1 1609 9 view .LVU675
1609:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1724              		.loc 1 1609 9 view .LVU676
 1725 00a0 FFF7FEFF 		bl	CPU_SR_Restore
 1726              	.LVL172:
1609:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1727              		.loc 1 1609 9 view .LVU677
1609:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1728              		.loc 1 1609 9 view .LVU678
1615:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_PEND_WOULD_BLOCK);
 1729              		.loc 1 1615 51 view .LVU679
1616:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_WOULD_BLOCK;                        /* No                              
 1730              		.loc 1 1616 61 view .LVU680
1617:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 1731              		.loc 1 1617 8 view .LVU681
1617:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 1732              		.loc 1 1617 15 is_stmt 0 view .LVU682
 1733 00a4 46F2B013 		movw	r3, #25008
 1734 00a8 2B80     		strh	r3, [r5]	@ movhi
1618:rtos/uCOS-III/Source/os_task.c ****     } else {                                                    /* Yes                             
 1735              		.loc 1 1618 9 is_stmt 1 view .LVU683
1618:rtos/uCOS-III/Source/os_task.c ****     } else {                                                    /* Yes                             
 1736              		.loc 1 1618 16 is_stmt 0 view .LVU684
 1737 00aa BEE7     		b	.L114
 1738              	.LVL173:
 1739              	.L130:
1626:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
 1740              		.loc 1 1626 13 is_stmt 1 view .LVU685
1626:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
 1741              		.loc 1 1626 13 view .LVU686
1626:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
 1742              		.loc 1 1626 13 view .LVU687
 1743 00ac FFF7FEFF 		bl	CPU_SR_Restore
 1744              	.LVL174:
1626:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
 1745              		.loc 1 1626 13 view .LVU688
1626:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_FAILED(OSTCBCurPtr);
 1746              		.loc 1 1626 13 view .LVU689
1627:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SEM_PEND_EXIT(OS_ERR_SCHED_LOCKED);
 1747              		.loc 1 1627 55 view .LVU690
1628:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 1748              		.loc 1 1628 61 view .LVU691
1629:rtos/uCOS-III/Source/os_task.c ****             return (0u);
 1749              		.loc 1 1629 12 view .LVU692
1629:rtos/uCOS-III/Source/os_task.c ****             return (0u);
 1750              		.loc 1 1629 19 is_stmt 0 view .LVU693
 1751 00b0 46F66353 		movw	r3, #28003
 1752 00b4 2B80     		strh	r3, [r5]	@ movhi
1630:rtos/uCOS-III/Source/os_task.c ****         }
 1753              		.loc 1 1630 13 is_stmt 1 view .LVU694
1630:rtos/uCOS-III/Source/os_task.c ****         }
 1754              		.loc 1 1630 20 is_stmt 0 view .LVU695
 1755 00b6 B8E7     		b	.L114
 1756              	.LVL175:
 1757              	.L131:
1658:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_NONE;
ARM GAS  /tmp/ccS1bHPU.s 			page 70


 1758              		.loc 1 1658 49 is_stmt 1 view .LVU696
1659:rtos/uCOS-III/Source/os_task.c ****              break;
 1759              		.loc 1 1659 13 view .LVU697
1659:rtos/uCOS-III/Source/os_task.c ****              break;
 1760              		.loc 1 1659 20 is_stmt 0 view .LVU698
 1761 00b8 2B80     		strh	r3, [r5]	@ movhi
1660:rtos/uCOS-III/Source/os_task.c **** 
 1762              		.loc 1 1660 14 is_stmt 1 view .LVU699
 1763              	.L125:
1687:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 1764              		.loc 1 1687 5 view .LVU700
1687:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 1765              		.loc 1 1687 22 is_stmt 0 view .LVU701
 1766 00ba 094B     		ldr	r3, .L132+8
 1767 00bc 1B68     		ldr	r3, [r3]
1687:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 1768              		.loc 1 1687 9 view .LVU702
 1769 00be 1C6C     		ldr	r4, [r3, #64]
 1770              	.LVL176:
1688:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_EXIT(*p_err);
 1771              		.loc 1 1688 5 is_stmt 1 view .LVU703
1688:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_EXIT(*p_err);
 1772              		.loc 1 1688 5 view .LVU704
1688:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_EXIT(*p_err);
 1773              		.loc 1 1688 5 view .LVU705
 1774 00c0 FFF7FEFF 		bl	CPU_SR_Restore
 1775              	.LVL177:
1688:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_EXIT(*p_err);
 1776              		.loc 1 1688 5 view .LVU706
1688:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_PEND_EXIT(*p_err);
 1777              		.loc 1 1688 5 view .LVU707
1689:rtos/uCOS-III/Source/os_task.c ****     return (ctr);
 1778              		.loc 1 1689 40 view .LVU708
1690:rtos/uCOS-III/Source/os_task.c **** }
 1779              		.loc 1 1690 5 view .LVU709
1690:rtos/uCOS-III/Source/os_task.c **** }
 1780              		.loc 1 1690 12 is_stmt 0 view .LVU710
 1781 00c4 B1E7     		b	.L114
 1782              	.LVL178:
 1783              	.L122:
1668:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_PEND_ABORT;                         /* Indicate that we aborted        
 1784              		.loc 1 1668 56 is_stmt 1 view .LVU711
1669:rtos/uCOS-III/Source/os_task.c ****              break;
 1785              		.loc 1 1669 13 view .LVU712
1669:rtos/uCOS-III/Source/os_task.c ****              break;
 1786              		.loc 1 1669 20 is_stmt 0 view .LVU713
 1787 00c6 46F2A913 		movw	r3, #25001
 1788 00ca 2B80     		strh	r3, [r5]	@ movhi
1670:rtos/uCOS-III/Source/os_task.c **** 
 1789              		.loc 1 1670 14 is_stmt 1 view .LVU714
 1790 00cc F5E7     		b	.L125
 1791              	.L123:
1678:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_TIMEOUT;                            /* Indicate that we didn't get even
 1792              		.loc 1 1678 56 view .LVU715
1679:rtos/uCOS-III/Source/os_task.c ****              break;
 1793              		.loc 1 1679 13 view .LVU716
1679:rtos/uCOS-III/Source/os_task.c ****              break;
ARM GAS  /tmp/ccS1bHPU.s 			page 71


 1794              		.loc 1 1679 20 is_stmt 0 view .LVU717
 1795 00ce 47F2D923 		movw	r3, #29401
 1796 00d2 2B80     		strh	r3, [r5]	@ movhi
1680:rtos/uCOS-III/Source/os_task.c **** 
 1797              		.loc 1 1680 14 is_stmt 1 view .LVU718
 1798 00d4 F1E7     		b	.L125
 1799              	.L133:
 1800 00d6 00BF     		.align	2
 1801              	.L132:
 1802 00d8 00000000 		.word	OSIntNestingCtr
 1803 00dc 00000000 		.word	OSRunning
 1804 00e0 00000000 		.word	OSTCBCurPtr
 1805 00e4 00000000 		.word	OSSchedLockNestingCtr
 1806              		.cfi_endproc
 1807              	.LFE11:
 1809              		.section	.text.OSTaskSemPendAbort,"ax",%progbits
 1810              		.align	1
 1811              		.global	OSTaskSemPendAbort
 1812              		.syntax unified
 1813              		.thumb
 1814              		.thumb_func
 1815              		.fpu fpv4-sp-d16
 1817              	OSTaskSemPendAbort:
 1818              	.LVL179:
 1819              	.LFB12:
1692:rtos/uCOS-III/Source/os_task.c **** 
1693:rtos/uCOS-III/Source/os_task.c **** 
1694:rtos/uCOS-III/Source/os_task.c **** /*
1695:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1696:rtos/uCOS-III/Source/os_task.c **** *                                               ABORT WAITING FOR A SIGNAL
1697:rtos/uCOS-III/Source/os_task.c **** *
1698:rtos/uCOS-III/Source/os_task.c **** * Description: This function aborts & readies the task specified.  This function should be used to 
1699:rtos/uCOS-III/Source/os_task.c **** *              for a signal, rather than to normally post the signal to the task via OSTaskSemPost(
1700:rtos/uCOS-III/Source/os_task.c **** *
1701:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb     is a pointer to the task to pend abort
1702:rtos/uCOS-III/Source/os_task.c **** *
1703:rtos/uCOS-III/Source/os_task.c **** *              opt       provides options for this function:
1704:rtos/uCOS-III/Source/os_task.c **** *
1705:rtos/uCOS-III/Source/os_task.c **** *                            OS_OPT_POST_NONE         No option selected
1706:rtos/uCOS-III/Source/os_task.c **** *                            OS_OPT_POST_NO_SCHED     Indicates that the scheduler will not be call
1707:rtos/uCOS-III/Source/os_task.c **** *
1708:rtos/uCOS-III/Source/os_task.c **** *              p_err     is a pointer to a variable that will contain an error code returned by thi
1709:rtos/uCOS-III/Source/os_task.c **** *
1710:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_NONE               If the task was readied and informed of the 
1711:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_OPT_INVALID        You specified an invalid option
1712:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
1713:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_PEND_ABORT_ISR     If you tried calling this function from an I
1714:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_PEND_ABORT_NONE    If the task was not waiting for a signal
1715:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_PEND_ABORT_SELF    If you attempted to pend abort the calling t
1716:rtos/uCOS-III/Source/os_task.c **** *                                                      possible since the calling task cannot be pe
1717:rtos/uCOS-III/Source/os_task.c **** *                                                      running
1718:rtos/uCOS-III/Source/os_task.c **** *
1719:rtos/uCOS-III/Source/os_task.c **** * Returns    : == OS_FALSE   if task was not waiting for a message, or upon error.
1720:rtos/uCOS-III/Source/os_task.c **** *              == OS_TRUE    if task was waiting for a message and was readied and informed.
1721:rtos/uCOS-III/Source/os_task.c **** *
1722:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1723:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
ARM GAS  /tmp/ccS1bHPU.s 			page 72


1724:rtos/uCOS-III/Source/os_task.c **** */
1725:rtos/uCOS-III/Source/os_task.c **** 
1726:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_SEM_PEND_ABORT_EN > 0u)
1727:rtos/uCOS-III/Source/os_task.c **** CPU_BOOLEAN  OSTaskSemPendAbort (OS_TCB  *p_tcb,
1728:rtos/uCOS-III/Source/os_task.c ****                                  OS_OPT   opt,
1729:rtos/uCOS-III/Source/os_task.c ****                                  OS_ERR  *p_err)
1730:rtos/uCOS-III/Source/os_task.c **** {
 1820              		.loc 1 1730 1 view -0
 1821              		.cfi_startproc
 1822              		@ args = 0, pretend = 0, frame = 0
 1823              		@ frame_needed = 0, uses_anonymous_args = 0
 1824              		.loc 1 1730 1 is_stmt 0 view .LVU720
 1825 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1826              	.LCFI12:
 1827              		.cfi_def_cfa_offset 24
 1828              		.cfi_offset 4, -24
 1829              		.cfi_offset 5, -20
 1830              		.cfi_offset 6, -16
 1831              		.cfi_offset 7, -12
 1832              		.cfi_offset 8, -8
 1833              		.cfi_offset 14, -4
 1834 0004 1546     		mov	r5, r2
1731:rtos/uCOS-III/Source/os_task.c ****     CPU_TS  ts;
 1835              		.loc 1 1731 5 is_stmt 1 view .LVU721
1732:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 1836              		.loc 1 1732 5 view .LVU722
 1837              	.LVL180:
1733:rtos/uCOS-III/Source/os_task.c **** 
1734:rtos/uCOS-III/Source/os_task.c **** 
1735:rtos/uCOS-III/Source/os_task.c **** 
1736:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1737:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1738:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1739:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
1740:rtos/uCOS-III/Source/os_task.c ****     }
1741:rtos/uCOS-III/Source/os_task.c **** #endif
1742:rtos/uCOS-III/Source/os_task.c **** 
1743:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
1744:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if called from ISR ...      
 1838              		.loc 1 1744 5 view .LVU723
 1839              		.loc 1 1744 25 is_stmt 0 view .LVU724
 1840 0006 274B     		ldr	r3, .L146
 1841 0008 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 1842              		.loc 1 1744 8 view .LVU725
 1843 000a 5CB9     		cbnz	r4, .L144
 1844 000c 0746     		mov	r7, r0
 1845 000e 0E46     		mov	r6, r1
1745:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_ISR;                          /* ... can't Pend Abort from an ISR
1746:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
1747:rtos/uCOS-III/Source/os_task.c ****     }
1748:rtos/uCOS-III/Source/os_task.c **** #endif
1749:rtos/uCOS-III/Source/os_task.c **** 
1750:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
1751:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 1846              		.loc 1 1751 5 is_stmt 1 view .LVU726
 1847              		.loc 1 1751 19 is_stmt 0 view .LVU727
 1848 0010 254B     		ldr	r3, .L146+4
ARM GAS  /tmp/ccS1bHPU.s 			page 73


 1849 0012 93F80080 		ldrb	r8, [r3]	@ zero_extendqisi2
 1850              		.loc 1 1751 8 view .LVU728
 1851 0016 B8F1010F 		cmp	r8, #1
 1852 001a 0AD0     		beq	.L137
1752:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1853              		.loc 1 1752 8 is_stmt 1 view .LVU729
 1854              		.loc 1 1752 15 is_stmt 0 view .LVU730
 1855 001c 45F68963 		movw	r3, #24201
 1856 0020 1380     		strh	r3, [r2]	@ movhi
1753:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 1857              		.loc 1 1753 9 is_stmt 1 view .LVU731
 1858              		.loc 1 1753 16 is_stmt 0 view .LVU732
 1859 0022 03E0     		b	.L136
 1860              	.L144:
1745:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_ISR;                          /* ... can't Pend Abort from an ISR
 1861              		.loc 1 1745 8 is_stmt 1 view .LVU733
1745:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_ISR;                          /* ... can't Pend Abort from an ISR
 1862              		.loc 1 1745 15 is_stmt 0 view .LVU734
 1863 0024 46F2AA13 		movw	r3, #25002
 1864 0028 1380     		strh	r3, [r2]	@ movhi
1746:rtos/uCOS-III/Source/os_task.c ****     }
 1865              		.loc 1 1746 9 is_stmt 1 view .LVU735
1746:rtos/uCOS-III/Source/os_task.c ****     }
 1866              		.loc 1 1746 16 is_stmt 0 view .LVU736
 1867 002a 0024     		movs	r4, #0
 1868              	.LVL181:
 1869              	.L136:
1754:rtos/uCOS-III/Source/os_task.c ****     }
1755:rtos/uCOS-III/Source/os_task.c **** #endif
1756:rtos/uCOS-III/Source/os_task.c **** 
1757:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
1758:rtos/uCOS-III/Source/os_task.c ****     switch (opt) {                                              /* Validate 'opt'                  
1759:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NONE:
1760:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NO_SCHED:
1761:rtos/uCOS-III/Source/os_task.c ****              break;
1762:rtos/uCOS-III/Source/os_task.c **** 
1763:rtos/uCOS-III/Source/os_task.c ****         default:
1764:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_OPT_INVALID;
1765:rtos/uCOS-III/Source/os_task.c ****              return (OS_FALSE);
1766:rtos/uCOS-III/Source/os_task.c ****     }
1767:rtos/uCOS-III/Source/os_task.c **** #endif
1768:rtos/uCOS-III/Source/os_task.c **** 
1769:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1770:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
1771:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
1772:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();                                    /* ... doesn't make sense!         
1773:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;
1774:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
1775:rtos/uCOS-III/Source/os_task.c ****     }
1776:rtos/uCOS-III/Source/os_task.c **** 
1777:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb->PendOn != OS_TASK_PEND_ON_TASK_SEM) {            /* Is task waiting for a signal?   
1778:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
1779:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
1780:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
1781:rtos/uCOS-III/Source/os_task.c ****     }
1782:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1783:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 74


1784:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1785:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1786:rtos/uCOS-III/Source/os_task.c ****     ts = OS_TS_GET();
1787:rtos/uCOS-III/Source/os_task.c **** #else
1788:rtos/uCOS-III/Source/os_task.c ****     ts = 0u;
1789:rtos/uCOS-III/Source/os_task.c **** #endif
1790:rtos/uCOS-III/Source/os_task.c ****     OS_PendAbort(p_tcb,                                         /* Abort the pend                  
1791:rtos/uCOS-III/Source/os_task.c ****                  ts,
1792:rtos/uCOS-III/Source/os_task.c ****                  OS_STATUS_PEND_ABORT);
1793:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
1794:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
1795:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run the scheduler               
1796:rtos/uCOS-III/Source/os_task.c ****     }
1797:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
1798:rtos/uCOS-III/Source/os_task.c ****     return (OS_TRUE);
1799:rtos/uCOS-III/Source/os_task.c **** }
 1870              		.loc 1 1799 1 view .LVU737
 1871 002c 2046     		mov	r0, r4
 1872 002e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1873              	.LVL182:
 1874              	.L137:
1758:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NONE:
 1875              		.loc 1 1758 5 is_stmt 1 view .LVU738
 1876 0032 31B1     		cbz	r1, .L138
 1877 0034 B1F5004F 		cmp	r1, #32768
 1878 0038 03D0     		beq	.L138
1764:rtos/uCOS-III/Source/os_task.c ****              return (OS_FALSE);
 1879              		.loc 1 1764 13 view .LVU739
1764:rtos/uCOS-III/Source/os_task.c ****              return (OS_FALSE);
 1880              		.loc 1 1764 20 is_stmt 0 view .LVU740
 1881 003a 45F62563 		movw	r3, #24101
 1882 003e 1380     		strh	r3, [r2]	@ movhi
1765:rtos/uCOS-III/Source/os_task.c ****     }
 1883              		.loc 1 1765 14 is_stmt 1 view .LVU741
1765:rtos/uCOS-III/Source/os_task.c ****     }
 1884              		.loc 1 1765 21 is_stmt 0 view .LVU742
 1885 0040 F4E7     		b	.L136
 1886              	.L138:
1761:rtos/uCOS-III/Source/os_task.c **** 
 1887              		.loc 1 1761 14 is_stmt 1 view .LVU743
1769:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
 1888              		.loc 1 1769 5 view .LVU744
1769:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
 1889              		.loc 1 1769 5 view .LVU745
1769:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
 1890              		.loc 1 1769 5 view .LVU746
 1891 0042 4020     		movs	r0, #64
 1892              	.LVL183:
1769:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
 1893              		.loc 1 1769 5 is_stmt 0 view .LVU747
 1894 0044 FFF7FEFF 		bl	CPU_SR_Save
 1895              	.LVL184:
1769:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
 1896              		.loc 1 1769 5 is_stmt 1 view .LVU748
1769:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                               /* Pend abort self?                
 1897              		.loc 1 1769 5 view .LVU749
1770:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
ARM GAS  /tmp/ccS1bHPU.s 			page 75


 1898              		.loc 1 1770 5 view .LVU750
1770:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 1899              		.loc 1 1770 8 is_stmt 0 view .LVU751
 1900 0048 6FB1     		cbz	r7, .L139
1771:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();                                    /* ... doesn't make sense!         
 1901              		.loc 1 1771 16 discriminator 1 view .LVU752
 1902 004a 184B     		ldr	r3, .L146+8
 1903 004c 1B68     		ldr	r3, [r3]
1770:rtos/uCOS-III/Source/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 1904              		.loc 1 1770 32 discriminator 1 view .LVU753
 1905 004e BB42     		cmp	r3, r7
 1906 0050 09D0     		beq	.L139
1777:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1907              		.loc 1 1777 5 is_stmt 1 view .LVU754
1777:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1908              		.loc 1 1777 14 is_stmt 0 view .LVU755
 1909 0052 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
1777:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 1910              		.loc 1 1777 8 view .LVU756
 1911 0056 072B     		cmp	r3, #7
 1912 0058 0BD0     		beq	.L141
1778:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 1913              		.loc 1 1778 9 is_stmt 1 view .LVU757
1778:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 1914              		.loc 1 1778 9 view .LVU758
1778:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 1915              		.loc 1 1778 9 view .LVU759
 1916 005a FFF7FEFF 		bl	CPU_SR_Restore
 1917              	.LVL185:
1778:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 1918              		.loc 1 1778 9 view .LVU760
1778:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_NONE;
 1919              		.loc 1 1778 9 view .LVU761
1779:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 1920              		.loc 1 1779 8 view .LVU762
1779:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 1921              		.loc 1 1779 15 is_stmt 0 view .LVU763
 1922 005e 46F2AB13 		movw	r3, #25003
 1923 0062 2B80     		strh	r3, [r5]	@ movhi
1780:rtos/uCOS-III/Source/os_task.c ****     }
 1924              		.loc 1 1780 9 is_stmt 1 view .LVU764
1780:rtos/uCOS-III/Source/os_task.c ****     }
 1925              		.loc 1 1780 16 is_stmt 0 view .LVU765
 1926 0064 E2E7     		b	.L136
 1927              	.LVL186:
 1928              	.L139:
1772:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;
 1929              		.loc 1 1772 9 is_stmt 1 view .LVU766
1772:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;
 1930              		.loc 1 1772 9 view .LVU767
1772:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;
 1931              		.loc 1 1772 9 view .LVU768
 1932 0066 FFF7FEFF 		bl	CPU_SR_Restore
 1933              	.LVL187:
1772:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;
 1934              		.loc 1 1772 9 view .LVU769
1772:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PEND_ABORT_SELF;
ARM GAS  /tmp/ccS1bHPU.s 			page 76


 1935              		.loc 1 1772 9 view .LVU770
1773:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 1936              		.loc 1 1773 8 view .LVU771
1773:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
 1937              		.loc 1 1773 15 is_stmt 0 view .LVU772
 1938 006a 46F2AC13 		movw	r3, #25004
 1939 006e 2B80     		strh	r3, [r5]	@ movhi
1774:rtos/uCOS-III/Source/os_task.c ****     }
 1940              		.loc 1 1774 9 is_stmt 1 view .LVU773
1774:rtos/uCOS-III/Source/os_task.c ****     }
 1941              		.loc 1 1774 16 is_stmt 0 view .LVU774
 1942 0070 DCE7     		b	.L136
 1943              	.LVL188:
 1944              	.L141:
1782:rtos/uCOS-III/Source/os_task.c **** 
 1945              		.loc 1 1782 5 is_stmt 1 view .LVU775
1782:rtos/uCOS-III/Source/os_task.c **** 
 1946              		.loc 1 1782 5 view .LVU776
1782:rtos/uCOS-III/Source/os_task.c **** 
 1947              		.loc 1 1782 5 view .LVU777
 1948 0072 FFF7FEFF 		bl	CPU_SR_Restore
 1949              	.LVL189:
1782:rtos/uCOS-III/Source/os_task.c **** 
 1950              		.loc 1 1782 5 view .LVU778
1782:rtos/uCOS-III/Source/os_task.c **** 
 1951              		.loc 1 1782 5 view .LVU779
1784:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1952              		.loc 1 1784 5 view .LVU780
1784:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1953              		.loc 1 1784 5 view .LVU781
1784:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1954              		.loc 1 1784 5 view .LVU782
 1955 0076 4020     		movs	r0, #64
 1956 0078 FFF7FEFF 		bl	CPU_SR_Save
 1957              	.LVL190:
 1958 007c 0446     		mov	r4, r0
 1959              	.LVL191:
1784:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1960              		.loc 1 1784 5 view .LVU783
1784:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
 1961              		.loc 1 1784 5 view .LVU784
1788:rtos/uCOS-III/Source/os_task.c **** #endif
 1962              		.loc 1 1788 5 view .LVU785
1790:rtos/uCOS-III/Source/os_task.c ****                  ts,
 1963              		.loc 1 1790 5 view .LVU786
 1964 007e 0122     		movs	r2, #1
 1965 0080 0021     		movs	r1, #0
 1966 0082 3846     		mov	r0, r7
 1967              	.LVL192:
1790:rtos/uCOS-III/Source/os_task.c ****                  ts,
 1968              		.loc 1 1790 5 is_stmt 0 view .LVU787
 1969 0084 FFF7FEFF 		bl	OS_PendAbort
 1970              	.LVL193:
1793:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 1971              		.loc 1 1793 5 is_stmt 1 view .LVU788
1793:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 1972              		.loc 1 1793 5 view .LVU789
ARM GAS  /tmp/ccS1bHPU.s 			page 77


1793:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 1973              		.loc 1 1793 5 view .LVU790
 1974 0088 2046     		mov	r0, r4
 1975 008a FFF7FEFF 		bl	CPU_SR_Restore
 1976              	.LVL194:
1793:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 1977              		.loc 1 1793 5 view .LVU791
1793:rtos/uCOS-III/Source/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 1978              		.loc 1 1793 5 view .LVU792
1794:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run the scheduler               
 1979              		.loc 1 1794 5 view .LVU793
1794:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run the scheduler               
 1980              		.loc 1 1794 8 is_stmt 0 view .LVU794
 1981 008e 16F4004F 		tst	r6, #32768
 1982 0092 03D0     		beq	.L145
 1983              	.L142:
1797:rtos/uCOS-III/Source/os_task.c ****     return (OS_TRUE);
 1984              		.loc 1 1797 4 is_stmt 1 view .LVU795
1797:rtos/uCOS-III/Source/os_task.c ****     return (OS_TRUE);
 1985              		.loc 1 1797 11 is_stmt 0 view .LVU796
 1986 0094 0023     		movs	r3, #0
 1987 0096 2B80     		strh	r3, [r5]	@ movhi
1798:rtos/uCOS-III/Source/os_task.c **** }
 1988              		.loc 1 1798 5 is_stmt 1 view .LVU797
1798:rtos/uCOS-III/Source/os_task.c **** }
 1989              		.loc 1 1798 12 is_stmt 0 view .LVU798
 1990 0098 4446     		mov	r4, r8
 1991              	.LVL195:
1798:rtos/uCOS-III/Source/os_task.c **** }
 1992              		.loc 1 1798 12 view .LVU799
 1993 009a C7E7     		b	.L136
 1994              	.LVL196:
 1995              	.L145:
1795:rtos/uCOS-III/Source/os_task.c ****     }
 1996              		.loc 1 1795 9 is_stmt 1 view .LVU800
 1997 009c FFF7FEFF 		bl	OSSched
 1998              	.LVL197:
 1999 00a0 F8E7     		b	.L142
 2000              	.L147:
 2001 00a2 00BF     		.align	2
 2002              	.L146:
 2003 00a4 00000000 		.word	OSIntNestingCtr
 2004 00a8 00000000 		.word	OSRunning
 2005 00ac 00000000 		.word	OSTCBCurPtr
 2006              		.cfi_endproc
 2007              	.LFE12:
 2009              		.section	.text.OSTaskSemPost,"ax",%progbits
 2010              		.align	1
 2011              		.global	OSTaskSemPost
 2012              		.syntax unified
 2013              		.thumb
 2014              		.thumb_func
 2015              		.fpu fpv4-sp-d16
 2017              	OSTaskSemPost:
 2018              	.LVL198:
 2019              	.LFB13:
1800:rtos/uCOS-III/Source/os_task.c **** #endif
ARM GAS  /tmp/ccS1bHPU.s 			page 78


1801:rtos/uCOS-III/Source/os_task.c **** 
1802:rtos/uCOS-III/Source/os_task.c **** 
1803:rtos/uCOS-III/Source/os_task.c **** /*
1804:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1805:rtos/uCOS-III/Source/os_task.c **** *                                                    SIGNAL A TASK
1806:rtos/uCOS-III/Source/os_task.c **** *
1807:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to signal a task waiting for a signal.
1808:rtos/uCOS-III/Source/os_task.c **** *
1809:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb     is the pointer to the TCB of the task to signal.  A NULL pointer indicates
1810:rtos/uCOS-III/Source/os_task.c **** *                        a signal to yourself.
1811:rtos/uCOS-III/Source/os_task.c **** *
1812:rtos/uCOS-III/Source/os_task.c **** *              opt       determines the type of POST performed:
1813:rtos/uCOS-III/Source/os_task.c **** *
1814:rtos/uCOS-III/Source/os_task.c **** *                             OS_OPT_POST_NONE         No option
1815:rtos/uCOS-III/Source/os_task.c **** *                             OS_OPT_POST_NO_SCHED     Do not call the scheduler
1816:rtos/uCOS-III/Source/os_task.c **** *
1817:rtos/uCOS-III/Source/os_task.c **** *              p_err     is a pointer to an error code returned by this function:
1818:rtos/uCOS-III/Source/os_task.c **** *
1819:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_NONE              If the requested task is signaled
1820:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_OPT_INVALID       If you specified an invalid option
1821:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_OS_NOT_RUNNING    If uC/OS-III is not running yet
1822:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_SEM_OVF           If the post would cause the semaphore count t
1823:rtos/uCOS-III/Source/os_task.c **** *                            OS_ERR_STATE_INVALID     If the task is in an invalid state.  This sho
1824:rtos/uCOS-III/Source/os_task.c **** *                                                     and if it does, would be considered a system 
1825:rtos/uCOS-III/Source/os_task.c **** *
1826:rtos/uCOS-III/Source/os_task.c **** * Returns    : The current value of the task's signal counter or 0 if called from an ISR
1827:rtos/uCOS-III/Source/os_task.c **** *
1828:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1829:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1830:rtos/uCOS-III/Source/os_task.c **** */
1831:rtos/uCOS-III/Source/os_task.c **** 
1832:rtos/uCOS-III/Source/os_task.c **** OS_SEM_CTR  OSTaskSemPost (OS_TCB  *p_tcb,
1833:rtos/uCOS-III/Source/os_task.c ****                            OS_OPT   opt,
1834:rtos/uCOS-III/Source/os_task.c ****                            OS_ERR  *p_err)
1835:rtos/uCOS-III/Source/os_task.c **** {
 2020              		.loc 1 1835 1 view -0
 2021              		.cfi_startproc
 2022              		@ args = 0, pretend = 0, frame = 0
 2023              		@ frame_needed = 0, uses_anonymous_args = 0
 2024              		.loc 1 1835 1 is_stmt 0 view .LVU802
 2025 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2026              	.LCFI13:
 2027              		.cfi_def_cfa_offset 20
 2028              		.cfi_offset 4, -20
 2029              		.cfi_offset 5, -16
 2030              		.cfi_offset 6, -12
 2031              		.cfi_offset 7, -8
 2032              		.cfi_offset 14, -4
 2033 0002 83B0     		sub	sp, sp, #12
 2034              	.LCFI14:
 2035              		.cfi_def_cfa_offset 32
 2036 0004 1446     		mov	r4, r2
1836:rtos/uCOS-III/Source/os_task.c ****     OS_SEM_CTR  ctr;
 2037              		.loc 1 1836 5 is_stmt 1 view .LVU803
1837:rtos/uCOS-III/Source/os_task.c ****     CPU_TS      ts;
 2038              		.loc 1 1837 5 view .LVU804
1838:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
ARM GAS  /tmp/ccS1bHPU.s 			page 79


 2039              		.loc 1 1838 5 view .LVU805
 2040              	.LVL199:
1839:rtos/uCOS-III/Source/os_task.c **** 
1840:rtos/uCOS-III/Source/os_task.c **** 
1841:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1842:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1843:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1844:rtos/uCOS-III/Source/os_task.c ****         return (0u);
1845:rtos/uCOS-III/Source/os_task.c ****     }
1846:rtos/uCOS-III/Source/os_task.c **** #endif
1847:rtos/uCOS-III/Source/os_task.c **** 
1848:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_POST_ENTER(p_tcb, opt);
 2041              		.loc 1 1848 45 view .LVU806
1849:rtos/uCOS-III/Source/os_task.c **** 
1850:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
1851:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 2042              		.loc 1 1851 5 view .LVU807
 2043              		.loc 1 1851 19 is_stmt 0 view .LVU808
 2044 0006 354B     		ldr	r3, .L165
 2045 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2046              		.loc 1 1851 8 view .LVU809
 2047 000a 012B     		cmp	r3, #1
 2048 000c 06D0     		beq	.L149
1852:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SEM_POST_EXIT(OS_ERR_OS_NOT_RUNNING);
 2049              		.loc 1 1852 59 is_stmt 1 view .LVU810
1853:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2050              		.loc 1 1853 8 view .LVU811
 2051              		.loc 1 1853 15 is_stmt 0 view .LVU812
 2052 000e 45F68963 		movw	r3, #24201
 2053 0012 1380     		strh	r3, [r2]	@ movhi
1854:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 2054              		.loc 1 1854 9 is_stmt 1 view .LVU813
 2055              		.loc 1 1854 16 is_stmt 0 view .LVU814
 2056 0014 0024     		movs	r4, #0
 2057              	.LVL200:
 2058              	.L148:
1855:rtos/uCOS-III/Source/os_task.c ****     }
1856:rtos/uCOS-III/Source/os_task.c **** #endif
1857:rtos/uCOS-III/Source/os_task.c **** 
1858:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
1859:rtos/uCOS-III/Source/os_task.c ****     switch (opt) {                                              /* Validate 'opt'                  
1860:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NONE:
1861:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NO_SCHED:
1862:rtos/uCOS-III/Source/os_task.c ****              break;
1863:rtos/uCOS-III/Source/os_task.c **** 
1864:rtos/uCOS-III/Source/os_task.c ****         default:
1865:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_POST_FAILED(p_tcb);
1866:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_POST_EXIT(OS_ERR_OPT_INVALID);
1867:rtos/uCOS-III/Source/os_task.c ****             *p_err =  OS_ERR_OPT_INVALID;
1868:rtos/uCOS-III/Source/os_task.c ****              return (0u);
1869:rtos/uCOS-III/Source/os_task.c ****     }
1870:rtos/uCOS-III/Source/os_task.c **** #endif
1871:rtos/uCOS-III/Source/os_task.c **** 
1872:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1873:rtos/uCOS-III/Source/os_task.c ****     ts = OS_TS_GET();                                           /* Get timestamp                   
1874:rtos/uCOS-III/Source/os_task.c **** #else
1875:rtos/uCOS-III/Source/os_task.c ****     ts = 0u;
ARM GAS  /tmp/ccS1bHPU.s 			page 80


1876:rtos/uCOS-III/Source/os_task.c **** #endif
1877:rtos/uCOS-III/Source/os_task.c **** 
1878:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_POST(p_tcb);
1879:rtos/uCOS-III/Source/os_task.c **** 
1880:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1881:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
1882:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
1883:rtos/uCOS-III/Source/os_task.c ****     }
1884:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
1885:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TS = ts;
1886:rtos/uCOS-III/Source/os_task.c **** #endif
1887:rtos/uCOS-III/Source/os_task.c ****    *p_err     = OS_ERR_NONE;                                    /* Assume we won't have any errors 
1888:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
1889:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
1890:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY:
1891:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
1892:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
1893:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SemCtr == (OS_SEM_CTR)-1) {
1894:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
1895:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_SEM_OVF;
1896:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_SEM_POST_EXIT(*p_err);
1897:rtos/uCOS-III/Source/os_task.c ****                  return (0u);
1898:rtos/uCOS-III/Source/os_task.c ****              }
1899:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SemCtr++;                                   /* Task signaled is not pending on 
1900:rtos/uCOS-III/Source/os_task.c ****              ctr = p_tcb->SemCtr;
1901:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1902:rtos/uCOS-III/Source/os_task.c ****              break;
1903:rtos/uCOS-III/Source/os_task.c **** 
1904:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND:
1905:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1906:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1907:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1908:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_SEM) {   /* Is task signaled waiting for a s
1909:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,                      /* Task is pending on signal       
1910:rtos/uCOS-III/Source/os_task.c ****                           p_tcb,
1911:rtos/uCOS-III/Source/os_task.c ****                           (void *)0,
1912:rtos/uCOS-III/Source/os_task.c ****                           0u,
1913:rtos/uCOS-III/Source/os_task.c ****                           ts);
1914:rtos/uCOS-III/Source/os_task.c ****                  ctr = p_tcb->SemCtr;
1915:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
1916:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
1917:rtos/uCOS-III/Source/os_task.c ****                      OSSched();                                 /* Run the scheduler               
1918:rtos/uCOS-III/Source/os_task.c ****                  }
1919:rtos/uCOS-III/Source/os_task.c ****              } else {
1920:rtos/uCOS-III/Source/os_task.c ****                  if (p_tcb->SemCtr == (OS_SEM_CTR)-1) {
1921:rtos/uCOS-III/Source/os_task.c ****                      CPU_CRITICAL_EXIT();
1922:rtos/uCOS-III/Source/os_task.c ****                     *p_err = OS_ERR_SEM_OVF;
1923:rtos/uCOS-III/Source/os_task.c ****                      OS_TRACE_SEM_POST_EXIT(*p_err);
1924:rtos/uCOS-III/Source/os_task.c ****                      return (0u);
1925:rtos/uCOS-III/Source/os_task.c ****                  }
1926:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->SemCtr++;                               /* No,  Task signaled is NOT pendin
1927:rtos/uCOS-III/Source/os_task.c ****                  ctr = p_tcb->SemCtr;                           /* ... it must be waiting on someth
1928:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
1929:rtos/uCOS-III/Source/os_task.c ****              }
1930:rtos/uCOS-III/Source/os_task.c ****              break;
1931:rtos/uCOS-III/Source/os_task.c **** 
1932:rtos/uCOS-III/Source/os_task.c ****         default:
ARM GAS  /tmp/ccS1bHPU.s 			page 81


1933:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
1934:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
1935:rtos/uCOS-III/Source/os_task.c ****              ctr   = 0u;
1936:rtos/uCOS-III/Source/os_task.c ****              break;
1937:rtos/uCOS-III/Source/os_task.c ****     }
1938:rtos/uCOS-III/Source/os_task.c **** 
1939:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_POST_EXIT(*p_err);
1940:rtos/uCOS-III/Source/os_task.c **** 
1941:rtos/uCOS-III/Source/os_task.c ****     return (ctr);
1942:rtos/uCOS-III/Source/os_task.c **** }
 2059              		.loc 1 1942 1 view .LVU815
 2060 0016 2046     		mov	r0, r4
 2061 0018 03B0     		add	sp, sp, #12
 2062              	.LCFI15:
 2063              		.cfi_remember_state
 2064              		.cfi_def_cfa_offset 20
 2065              		@ sp needed
 2066 001a F0BD     		pop	{r4, r5, r6, r7, pc}
 2067              	.LVL201:
 2068              	.L149:
 2069              	.LCFI16:
 2070              		.cfi_restore_state
 2071              		.loc 1 1942 1 view .LVU816
 2072 001c 0646     		mov	r6, r0
 2073 001e 0D46     		mov	r5, r1
1859:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NONE:
 2074              		.loc 1 1859 5 is_stmt 1 view .LVU817
 2075 0020 39B1     		cbz	r1, .L151
1859:rtos/uCOS-III/Source/os_task.c ****         case OS_OPT_POST_NONE:
 2076              		.loc 1 1859 5 is_stmt 0 view .LVU818
 2077 0022 B1F5004F 		cmp	r1, #32768
 2078 0026 04D0     		beq	.L151
1865:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SEM_POST_EXIT(OS_ERR_OPT_INVALID);
 2079              		.loc 1 1865 50 is_stmt 1 view .LVU819
1866:rtos/uCOS-III/Source/os_task.c ****             *p_err =  OS_ERR_OPT_INVALID;
 2080              		.loc 1 1866 61 view .LVU820
1867:rtos/uCOS-III/Source/os_task.c ****              return (0u);
 2081              		.loc 1 1867 13 view .LVU821
1867:rtos/uCOS-III/Source/os_task.c ****              return (0u);
 2082              		.loc 1 1867 20 is_stmt 0 view .LVU822
 2083 0028 45F62563 		movw	r3, #24101
 2084 002c 1380     		strh	r3, [r2]	@ movhi
1868:rtos/uCOS-III/Source/os_task.c ****     }
 2085              		.loc 1 1868 14 is_stmt 1 view .LVU823
1868:rtos/uCOS-III/Source/os_task.c ****     }
 2086              		.loc 1 1868 21 is_stmt 0 view .LVU824
 2087 002e 0024     		movs	r4, #0
 2088 0030 F1E7     		b	.L148
 2089              	.L151:
1862:rtos/uCOS-III/Source/os_task.c **** 
 2090              		.loc 1 1862 14 is_stmt 1 view .LVU825
1875:rtos/uCOS-III/Source/os_task.c **** #endif
 2091              		.loc 1 1875 5 view .LVU826
 2092              	.LVL202:
1878:rtos/uCOS-III/Source/os_task.c **** 
 2093              		.loc 1 1878 34 view .LVU827
1880:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
ARM GAS  /tmp/ccS1bHPU.s 			page 82


 2094              		.loc 1 1880 5 view .LVU828
1880:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
 2095              		.loc 1 1880 5 view .LVU829
1880:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
 2096              		.loc 1 1880 5 view .LVU830
 2097 0032 4020     		movs	r0, #64
 2098              	.LVL203:
1880:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
 2099              		.loc 1 1880 5 is_stmt 0 view .LVU831
 2100 0034 FFF7FEFF 		bl	CPU_SR_Save
 2101              	.LVL204:
1880:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
 2102              		.loc 1 1880 5 view .LVU832
 2103 0038 0746     		mov	r7, r0
 2104              	.LVL205:
1880:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
 2105              		.loc 1 1880 5 is_stmt 1 view .LVU833
1880:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Post signal to 'self'?          
 2106              		.loc 1 1880 5 view .LVU834
1881:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 2107              		.loc 1 1881 5 view .LVU835
1881:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 2108              		.loc 1 1881 8 is_stmt 0 view .LVU836
 2109 003a 5EB1     		cbz	r6, .L161
 2110              	.L152:
1887:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 2111              		.loc 1 1887 4 is_stmt 1 view .LVU837
1887:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 2112              		.loc 1 1887 15 is_stmt 0 view .LVU838
 2113 003c 0023     		movs	r3, #0
 2114 003e 2380     		strh	r3, [r4]	@ movhi
1888:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 2115              		.loc 1 1888 5 is_stmt 1 view .LVU839
1888:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 2116              		.loc 1 1888 18 is_stmt 0 view .LVU840
 2117 0040 96F82E30 		ldrb	r3, [r6, #46]	@ zero_extendqisi2
 2118 0044 072B     		cmp	r3, #7
 2119 0046 41D8     		bhi	.L153
 2120 0048 DFE803F0 		tbb	[pc, r3]
 2121              	.L155:
 2122 004c 07       		.byte	(.L156-.L155)/2
 2123 004d 07       		.byte	(.L156-.L155)/2
 2124 004e 19       		.byte	(.L154-.L155)/2
 2125 004f 19       		.byte	(.L154-.L155)/2
 2126 0050 07       		.byte	(.L156-.L155)/2
 2127 0051 07       		.byte	(.L156-.L155)/2
 2128 0052 19       		.byte	(.L154-.L155)/2
 2129 0053 19       		.byte	(.L154-.L155)/2
 2130              		.p2align 1
 2131              	.L161:
1882:rtos/uCOS-III/Source/os_task.c ****     }
 2132              		.loc 1 1882 9 is_stmt 1 view .LVU841
1882:rtos/uCOS-III/Source/os_task.c ****     }
 2133              		.loc 1 1882 15 is_stmt 0 view .LVU842
 2134 0054 224B     		ldr	r3, .L165+4
 2135 0056 1E68     		ldr	r6, [r3]
 2136              	.LVL206:
ARM GAS  /tmp/ccS1bHPU.s 			page 83


1882:rtos/uCOS-III/Source/os_task.c ****     }
 2137              		.loc 1 1882 15 view .LVU843
 2138 0058 F0E7     		b	.L152
 2139              	.L156:
1893:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2140              		.loc 1 1893 14 is_stmt 1 view .LVU844
1893:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2141              		.loc 1 1893 23 is_stmt 0 view .LVU845
 2142 005a 336C     		ldr	r3, [r6, #64]
1893:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2143              		.loc 1 1893 17 view .LVU846
 2144 005c B3F1FF3F 		cmp	r3, #-1
 2145 0060 05D0     		beq	.L162
1899:rtos/uCOS-III/Source/os_task.c ****              ctr = p_tcb->SemCtr;
 2146              		.loc 1 1899 14 is_stmt 1 view .LVU847
1899:rtos/uCOS-III/Source/os_task.c ****              ctr = p_tcb->SemCtr;
 2147              		.loc 1 1899 27 is_stmt 0 view .LVU848
 2148 0062 5C1C     		adds	r4, r3, #1
 2149              	.LVL207:
1899:rtos/uCOS-III/Source/os_task.c ****              ctr = p_tcb->SemCtr;
 2150              		.loc 1 1899 27 view .LVU849
 2151 0064 3464     		str	r4, [r6, #64]
1900:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2152              		.loc 1 1900 14 is_stmt 1 view .LVU850
 2153              	.LVL208:
1901:rtos/uCOS-III/Source/os_task.c ****              break;
 2154              		.loc 1 1901 14 view .LVU851
1901:rtos/uCOS-III/Source/os_task.c ****              break;
 2155              		.loc 1 1901 14 view .LVU852
1901:rtos/uCOS-III/Source/os_task.c ****              break;
 2156              		.loc 1 1901 14 view .LVU853
 2157 0066 3846     		mov	r0, r7
 2158              	.LVL209:
1901:rtos/uCOS-III/Source/os_task.c ****              break;
 2159              		.loc 1 1901 14 is_stmt 0 view .LVU854
 2160 0068 FFF7FEFF 		bl	CPU_SR_Restore
 2161              	.LVL210:
1901:rtos/uCOS-III/Source/os_task.c ****              break;
 2162              		.loc 1 1901 14 is_stmt 1 view .LVU855
1901:rtos/uCOS-III/Source/os_task.c ****              break;
 2163              		.loc 1 1901 14 view .LVU856
1902:rtos/uCOS-III/Source/os_task.c **** 
 2164              		.loc 1 1902 14 view .LVU857
 2165 006c D3E7     		b	.L148
 2166              	.LVL211:
 2167              	.L162:
1894:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_SEM_OVF;
 2168              		.loc 1 1894 18 view .LVU858
1894:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_SEM_OVF;
 2169              		.loc 1 1894 18 view .LVU859
1894:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_SEM_OVF;
 2170              		.loc 1 1894 18 view .LVU860
 2171 006e 3846     		mov	r0, r7
 2172              	.LVL212:
1894:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_SEM_OVF;
 2173              		.loc 1 1894 18 is_stmt 0 view .LVU861
 2174 0070 FFF7FEFF 		bl	CPU_SR_Restore
ARM GAS  /tmp/ccS1bHPU.s 			page 84


 2175              	.LVL213:
1894:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_SEM_OVF;
 2176              		.loc 1 1894 18 is_stmt 1 view .LVU862
1894:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_SEM_OVF;
 2177              		.loc 1 1894 18 view .LVU863
1895:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_SEM_POST_EXIT(*p_err);
 2178              		.loc 1 1895 17 view .LVU864
1895:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_SEM_POST_EXIT(*p_err);
 2179              		.loc 1 1895 24 is_stmt 0 view .LVU865
 2180 0074 46F6C553 		movw	r3, #28101
 2181 0078 2380     		strh	r3, [r4]	@ movhi
1896:rtos/uCOS-III/Source/os_task.c ****                  return (0u);
 2182              		.loc 1 1896 48 is_stmt 1 view .LVU866
1897:rtos/uCOS-III/Source/os_task.c ****              }
 2183              		.loc 1 1897 18 view .LVU867
1897:rtos/uCOS-III/Source/os_task.c ****              }
 2184              		.loc 1 1897 25 is_stmt 0 view .LVU868
 2185 007a 0024     		movs	r4, #0
 2186              	.LVL214:
1897:rtos/uCOS-III/Source/os_task.c ****              }
 2187              		.loc 1 1897 25 view .LVU869
 2188 007c CBE7     		b	.L148
 2189              	.LVL215:
 2190              	.L154:
1908:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,                      /* Task is pending on signal       
 2191              		.loc 1 1908 14 is_stmt 1 view .LVU870
1908:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,                      /* Task is pending on signal       
 2192              		.loc 1 1908 23 is_stmt 0 view .LVU871
 2193 007e 96F82C30 		ldrb	r3, [r6, #44]	@ zero_extendqisi2
1908:rtos/uCOS-III/Source/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,                      /* Task is pending on signal       
 2194              		.loc 1 1908 17 view .LVU872
 2195 0082 072B     		cmp	r3, #7
 2196 0084 09D0     		beq	.L163
1920:rtos/uCOS-III/Source/os_task.c ****                      CPU_CRITICAL_EXIT();
 2197              		.loc 1 1920 18 is_stmt 1 view .LVU873
1920:rtos/uCOS-III/Source/os_task.c ****                      CPU_CRITICAL_EXIT();
 2198              		.loc 1 1920 27 is_stmt 0 view .LVU874
 2199 0086 336C     		ldr	r3, [r6, #64]
1920:rtos/uCOS-III/Source/os_task.c ****                      CPU_CRITICAL_EXIT();
 2200              		.loc 1 1920 21 view .LVU875
 2201 0088 B3F1FF3F 		cmp	r3, #-1
 2202 008c 16D0     		beq	.L164
1926:rtos/uCOS-III/Source/os_task.c ****                  ctr = p_tcb->SemCtr;                           /* ... it must be waiting on someth
 2203              		.loc 1 1926 18 is_stmt 1 discriminator 1 view .LVU876
1926:rtos/uCOS-III/Source/os_task.c ****                  ctr = p_tcb->SemCtr;                           /* ... it must be waiting on someth
 2204              		.loc 1 1926 31 is_stmt 0 discriminator 1 view .LVU877
 2205 008e 5C1C     		adds	r4, r3, #1
 2206              	.LVL216:
1926:rtos/uCOS-III/Source/os_task.c ****                  ctr = p_tcb->SemCtr;                           /* ... it must be waiting on someth
 2207              		.loc 1 1926 31 discriminator 1 view .LVU878
 2208 0090 3464     		str	r4, [r6, #64]
1927:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2209              		.loc 1 1927 18 is_stmt 1 discriminator 1 view .LVU879
 2210              	.LVL217:
1928:rtos/uCOS-III/Source/os_task.c ****              }
 2211              		.loc 1 1928 18 discriminator 1 view .LVU880
1928:rtos/uCOS-III/Source/os_task.c ****              }
ARM GAS  /tmp/ccS1bHPU.s 			page 85


 2212              		.loc 1 1928 18 discriminator 1 view .LVU881
1928:rtos/uCOS-III/Source/os_task.c ****              }
 2213              		.loc 1 1928 18 discriminator 1 view .LVU882
 2214 0092 3846     		mov	r0, r7
 2215              	.LVL218:
1928:rtos/uCOS-III/Source/os_task.c ****              }
 2216              		.loc 1 1928 18 is_stmt 0 discriminator 1 view .LVU883
 2217 0094 FFF7FEFF 		bl	CPU_SR_Restore
 2218              	.LVL219:
 2219 0098 BDE7     		b	.L148
 2220              	.LVL220:
 2221              	.L163:
1909:rtos/uCOS-III/Source/os_task.c ****                           p_tcb,
 2222              		.loc 1 1909 18 is_stmt 1 view .LVU884
 2223 009a 0020     		movs	r0, #0
 2224              	.LVL221:
1909:rtos/uCOS-III/Source/os_task.c ****                           p_tcb,
 2225              		.loc 1 1909 18 is_stmt 0 view .LVU885
 2226 009c 0090     		str	r0, [sp]
 2227 009e 0346     		mov	r3, r0
 2228 00a0 0246     		mov	r2, r0
 2229 00a2 3146     		mov	r1, r6
 2230 00a4 FFF7FEFF 		bl	OS_Post
 2231              	.LVL222:
1914:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2232              		.loc 1 1914 18 is_stmt 1 view .LVU886
1914:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2233              		.loc 1 1914 22 is_stmt 0 view .LVU887
 2234 00a8 346C     		ldr	r4, [r6, #64]
 2235              	.LVL223:
1915:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 2236              		.loc 1 1915 18 is_stmt 1 view .LVU888
1915:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 2237              		.loc 1 1915 18 view .LVU889
1915:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 2238              		.loc 1 1915 18 view .LVU890
 2239 00aa 3846     		mov	r0, r7
 2240 00ac FFF7FEFF 		bl	CPU_SR_Restore
 2241              	.LVL224:
1915:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 2242              		.loc 1 1915 18 view .LVU891
1915:rtos/uCOS-III/Source/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 2243              		.loc 1 1915 18 view .LVU892
1916:rtos/uCOS-III/Source/os_task.c ****                      OSSched();                                 /* Run the scheduler               
 2244              		.loc 1 1916 18 view .LVU893
1916:rtos/uCOS-III/Source/os_task.c ****                      OSSched();                                 /* Run the scheduler               
 2245              		.loc 1 1916 21 is_stmt 0 view .LVU894
 2246 00b0 15F4004F 		tst	r5, #32768
 2247 00b4 AFD1     		bne	.L148
1917:rtos/uCOS-III/Source/os_task.c ****                  }
 2248              		.loc 1 1917 22 is_stmt 1 view .LVU895
 2249 00b6 FFF7FEFF 		bl	OSSched
 2250              	.LVL225:
 2251 00ba ACE7     		b	.L148
 2252              	.LVL226:
 2253              	.L164:
1921:rtos/uCOS-III/Source/os_task.c ****                     *p_err = OS_ERR_SEM_OVF;
ARM GAS  /tmp/ccS1bHPU.s 			page 86


 2254              		.loc 1 1921 22 view .LVU896
1921:rtos/uCOS-III/Source/os_task.c ****                     *p_err = OS_ERR_SEM_OVF;
 2255              		.loc 1 1921 22 view .LVU897
1921:rtos/uCOS-III/Source/os_task.c ****                     *p_err = OS_ERR_SEM_OVF;
 2256              		.loc 1 1921 22 view .LVU898
 2257 00bc 3846     		mov	r0, r7
 2258              	.LVL227:
1921:rtos/uCOS-III/Source/os_task.c ****                     *p_err = OS_ERR_SEM_OVF;
 2259              		.loc 1 1921 22 is_stmt 0 view .LVU899
 2260 00be FFF7FEFF 		bl	CPU_SR_Restore
 2261              	.LVL228:
1921:rtos/uCOS-III/Source/os_task.c ****                     *p_err = OS_ERR_SEM_OVF;
 2262              		.loc 1 1921 22 is_stmt 1 view .LVU900
1921:rtos/uCOS-III/Source/os_task.c ****                     *p_err = OS_ERR_SEM_OVF;
 2263              		.loc 1 1921 22 view .LVU901
1922:rtos/uCOS-III/Source/os_task.c ****                      OS_TRACE_SEM_POST_EXIT(*p_err);
 2264              		.loc 1 1922 21 view .LVU902
1922:rtos/uCOS-III/Source/os_task.c ****                      OS_TRACE_SEM_POST_EXIT(*p_err);
 2265              		.loc 1 1922 28 is_stmt 0 view .LVU903
 2266 00c2 46F6C553 		movw	r3, #28101
 2267 00c6 2380     		strh	r3, [r4]	@ movhi
1923:rtos/uCOS-III/Source/os_task.c ****                      return (0u);
 2268              		.loc 1 1923 52 is_stmt 1 view .LVU904
1924:rtos/uCOS-III/Source/os_task.c ****                  }
 2269              		.loc 1 1924 22 view .LVU905
1924:rtos/uCOS-III/Source/os_task.c ****                  }
 2270              		.loc 1 1924 29 is_stmt 0 view .LVU906
 2271 00c8 0024     		movs	r4, #0
 2272              	.LVL229:
1924:rtos/uCOS-III/Source/os_task.c ****                  }
 2273              		.loc 1 1924 29 view .LVU907
 2274 00ca A4E7     		b	.L148
 2275              	.LVL230:
 2276              	.L153:
1933:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2277              		.loc 1 1933 14 is_stmt 1 view .LVU908
1933:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2278              		.loc 1 1933 14 view .LVU909
1933:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2279              		.loc 1 1933 14 view .LVU910
 2280 00cc 3846     		mov	r0, r7
 2281              	.LVL231:
1933:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2282              		.loc 1 1933 14 is_stmt 0 view .LVU911
 2283 00ce FFF7FEFF 		bl	CPU_SR_Restore
 2284              	.LVL232:
1933:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2285              		.loc 1 1933 14 is_stmt 1 view .LVU912
1933:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2286              		.loc 1 1933 14 view .LVU913
1934:rtos/uCOS-III/Source/os_task.c ****              ctr   = 0u;
 2287              		.loc 1 1934 13 view .LVU914
1934:rtos/uCOS-III/Source/os_task.c ****              ctr   = 0u;
 2288              		.loc 1 1934 20 is_stmt 0 view .LVU915
 2289 00d2 46F62D63 		movw	r3, #28205
 2290 00d6 2380     		strh	r3, [r4]	@ movhi
1935:rtos/uCOS-III/Source/os_task.c ****              break;
ARM GAS  /tmp/ccS1bHPU.s 			page 87


 2291              		.loc 1 1935 14 is_stmt 1 view .LVU916
 2292              	.LVL233:
1936:rtos/uCOS-III/Source/os_task.c ****     }
 2293              		.loc 1 1936 14 view .LVU917
1935:rtos/uCOS-III/Source/os_task.c ****              break;
 2294              		.loc 1 1935 20 is_stmt 0 view .LVU918
 2295 00d8 0024     		movs	r4, #0
 2296              	.LVL234:
1936:rtos/uCOS-III/Source/os_task.c ****     }
 2297              		.loc 1 1936 14 view .LVU919
 2298 00da 9CE7     		b	.L148
 2299              	.L166:
 2300              		.align	2
 2301              	.L165:
 2302 00dc 00000000 		.word	OSRunning
 2303 00e0 00000000 		.word	OSTCBCurPtr
 2304              		.cfi_endproc
 2305              	.LFE13:
 2307              		.section	.text.OSTaskSemSet,"ax",%progbits
 2308              		.align	1
 2309              		.global	OSTaskSemSet
 2310              		.syntax unified
 2311              		.thumb
 2312              		.thumb_func
 2313              		.fpu fpv4-sp-d16
 2315              	OSTaskSemSet:
 2316              	.LVL235:
 2317              	.LFB14:
1943:rtos/uCOS-III/Source/os_task.c **** 
1944:rtos/uCOS-III/Source/os_task.c **** 
1945:rtos/uCOS-III/Source/os_task.c **** /*
1946:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1947:rtos/uCOS-III/Source/os_task.c **** *                                            SET THE SIGNAL COUNTER OF A TASK
1948:rtos/uCOS-III/Source/os_task.c **** *
1949:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to clear the signal counter
1950:rtos/uCOS-III/Source/os_task.c **** *
1951:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb      is the pointer to the TCB of the task to clear the counter.  If you speci
1952:rtos/uCOS-III/Source/os_task.c **** *                         then the signal counter of the current task will be cleared.
1953:rtos/uCOS-III/Source/os_task.c **** *
1954:rtos/uCOS-III/Source/os_task.c **** *              cnt        is the desired value of the semaphore counter
1955:rtos/uCOS-III/Source/os_task.c **** *
1956:rtos/uCOS-III/Source/os_task.c **** *              p_err      is a pointer to an error code returned by this function
1957:rtos/uCOS-III/Source/os_task.c **** *
1958:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_NONE             If the signal counter of the requested task i
1959:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_SET_ISR          If the function was called from an ISR
1960:rtos/uCOS-III/Source/os_task.c **** *                             OS_ERR_TASK_WAITING     One or more tasks were waiting on the semapho
1961:rtos/uCOS-III/Source/os_task.c **** *
1962:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
1963:rtos/uCOS-III/Source/os_task.c **** *
1964:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
1965:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
1966:rtos/uCOS-III/Source/os_task.c **** */
1967:rtos/uCOS-III/Source/os_task.c **** 
1968:rtos/uCOS-III/Source/os_task.c **** OS_SEM_CTR  OSTaskSemSet (OS_TCB      *p_tcb,
1969:rtos/uCOS-III/Source/os_task.c ****                           OS_SEM_CTR   cnt,
1970:rtos/uCOS-III/Source/os_task.c ****                           OS_ERR      *p_err)
1971:rtos/uCOS-III/Source/os_task.c **** {
ARM GAS  /tmp/ccS1bHPU.s 			page 88


 2318              		.loc 1 1971 1 is_stmt 1 view -0
 2319              		.cfi_startproc
 2320              		@ args = 0, pretend = 0, frame = 0
 2321              		@ frame_needed = 0, uses_anonymous_args = 0
 2322              		.loc 1 1971 1 is_stmt 0 view .LVU921
 2323 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2324              	.LCFI17:
 2325              		.cfi_def_cfa_offset 24
 2326              		.cfi_offset 3, -24
 2327              		.cfi_offset 4, -20
 2328              		.cfi_offset 5, -16
 2329              		.cfi_offset 6, -12
 2330              		.cfi_offset 7, -8
 2331              		.cfi_offset 14, -4
 2332 0002 1546     		mov	r5, r2
1972:rtos/uCOS-III/Source/os_task.c ****     OS_SEM_CTR  ctr;
 2333              		.loc 1 1972 5 is_stmt 1 view .LVU922
1973:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 2334              		.loc 1 1973 5 view .LVU923
 2335              	.LVL236:
1974:rtos/uCOS-III/Source/os_task.c **** 
1975:rtos/uCOS-III/Source/os_task.c **** 
1976:rtos/uCOS-III/Source/os_task.c **** 
1977:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1978:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
1979:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1980:rtos/uCOS-III/Source/os_task.c ****         return (0u);
1981:rtos/uCOS-III/Source/os_task.c ****     }
1982:rtos/uCOS-III/Source/os_task.c **** #endif
1983:rtos/uCOS-III/Source/os_task.c **** 
1984:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
1985:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 2336              		.loc 1 1985 5 view .LVU924
 2337              		.loc 1 1985 25 is_stmt 0 view .LVU925
 2338 0004 144B     		ldr	r3, .L175
 2339 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2340              		.loc 1 1985 8 view .LVU926
 2341 0008 2BB1     		cbz	r3, .L168
1986:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_SET_ISR;
 2342              		.loc 1 1986 8 is_stmt 1 view .LVU927
 2343              		.loc 1 1986 15 is_stmt 0 view .LVU928
 2344 000a 46F6C653 		movw	r3, #28102
 2345 000e 1380     		strh	r3, [r2]	@ movhi
1987:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 2346              		.loc 1 1987 9 is_stmt 1 view .LVU929
 2347              		.loc 1 1987 16 is_stmt 0 view .LVU930
 2348 0010 0027     		movs	r7, #0
 2349              	.LVL237:
 2350              	.L167:
1988:rtos/uCOS-III/Source/os_task.c ****     }
1989:rtos/uCOS-III/Source/os_task.c **** #endif
1990:rtos/uCOS-III/Source/os_task.c **** 
1991:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
1992:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
1993:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
1994:rtos/uCOS-III/Source/os_task.c ****     }
1995:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 89


1996:rtos/uCOS-III/Source/os_task.c ****     if (((p_tcb->TaskState   & OS_TASK_STATE_PEND) != 0u) &&    /* Not allowed when a task is waiti
1997:rtos/uCOS-III/Source/os_task.c ****          (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_SEM)) {
1998:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
1999:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_WAITING;
2000:rtos/uCOS-III/Source/os_task.c ****         return (0u);
2001:rtos/uCOS-III/Source/os_task.c ****     }
2002:rtos/uCOS-III/Source/os_task.c **** 
2003:rtos/uCOS-III/Source/os_task.c ****     ctr           =  p_tcb->SemCtr;
2004:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SemCtr = (OS_SEM_CTR)cnt;
2005:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
2006:rtos/uCOS-III/Source/os_task.c ****    *p_err         =  OS_ERR_NONE;
2007:rtos/uCOS-III/Source/os_task.c ****     return (ctr);
2008:rtos/uCOS-III/Source/os_task.c **** }
 2351              		.loc 1 2008 1 view .LVU931
 2352 0012 3846     		mov	r0, r7
 2353 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2354              	.LVL238:
 2355              	.L168:
 2356              		.loc 1 2008 1 view .LVU932
 2357 0016 0446     		mov	r4, r0
 2358 0018 0E46     		mov	r6, r1
1991:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 2359              		.loc 1 1991 5 is_stmt 1 view .LVU933
1991:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 2360              		.loc 1 1991 5 view .LVU934
1991:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 2361              		.loc 1 1991 5 view .LVU935
 2362 001a 4020     		movs	r0, #64
 2363              	.LVL239:
1991:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 2364              		.loc 1 1991 5 is_stmt 0 view .LVU936
 2365 001c FFF7FEFF 		bl	CPU_SR_Save
 2366              	.LVL240:
1991:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 2367              		.loc 1 1991 5 is_stmt 1 view .LVU937
1991:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 2368              		.loc 1 1991 5 view .LVU938
1992:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 2369              		.loc 1 1992 5 view .LVU939
1992:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 2370              		.loc 1 1992 8 is_stmt 0 view .LVU940
 2371 0020 7CB1     		cbz	r4, .L173
 2372              	.L170:
1996:rtos/uCOS-III/Source/os_task.c ****          (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_SEM)) {
 2373              		.loc 1 1996 5 is_stmt 1 view .LVU941
1996:rtos/uCOS-III/Source/os_task.c ****          (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_SEM)) {
 2374              		.loc 1 1996 16 is_stmt 0 view .LVU942
 2375 0022 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
1996:rtos/uCOS-III/Source/os_task.c ****          (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_SEM)) {
 2376              		.loc 1 1996 8 view .LVU943
 2377 0026 13F0020F 		tst	r3, #2
 2378 002a 03D0     		beq	.L171
1997:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 2379              		.loc 1 1997 16 discriminator 1 view .LVU944
 2380 002c 94F82C30 		ldrb	r3, [r4, #44]	@ zero_extendqisi2
1996:rtos/uCOS-III/Source/os_task.c ****          (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_SEM)) {
 2381              		.loc 1 1996 59 discriminator 1 view .LVU945
ARM GAS  /tmp/ccS1bHPU.s 			page 90


 2382 0030 072B     		cmp	r3, #7
 2383 0032 09D0     		beq	.L174
 2384              	.L171:
2003:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SemCtr = (OS_SEM_CTR)cnt;
 2385              		.loc 1 2003 5 is_stmt 1 view .LVU946
2003:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SemCtr = (OS_SEM_CTR)cnt;
 2386              		.loc 1 2003 19 is_stmt 0 view .LVU947
 2387 0034 276C     		ldr	r7, [r4, #64]
 2388              	.LVL241:
2004:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 2389              		.loc 1 2004 5 is_stmt 1 view .LVU948
2004:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 2390              		.loc 1 2004 19 is_stmt 0 view .LVU949
 2391 0036 2664     		str	r6, [r4, #64]
2005:rtos/uCOS-III/Source/os_task.c ****    *p_err         =  OS_ERR_NONE;
 2392              		.loc 1 2005 5 is_stmt 1 view .LVU950
2005:rtos/uCOS-III/Source/os_task.c ****    *p_err         =  OS_ERR_NONE;
 2393              		.loc 1 2005 5 view .LVU951
2005:rtos/uCOS-III/Source/os_task.c ****    *p_err         =  OS_ERR_NONE;
 2394              		.loc 1 2005 5 view .LVU952
 2395 0038 FFF7FEFF 		bl	CPU_SR_Restore
 2396              	.LVL242:
2005:rtos/uCOS-III/Source/os_task.c ****    *p_err         =  OS_ERR_NONE;
 2397              		.loc 1 2005 5 view .LVU953
2005:rtos/uCOS-III/Source/os_task.c ****    *p_err         =  OS_ERR_NONE;
 2398              		.loc 1 2005 5 view .LVU954
2006:rtos/uCOS-III/Source/os_task.c ****     return (ctr);
 2399              		.loc 1 2006 4 view .LVU955
2006:rtos/uCOS-III/Source/os_task.c ****     return (ctr);
 2400              		.loc 1 2006 19 is_stmt 0 view .LVU956
 2401 003c 0023     		movs	r3, #0
 2402 003e 2B80     		strh	r3, [r5]	@ movhi
2007:rtos/uCOS-III/Source/os_task.c **** }
 2403              		.loc 1 2007 5 is_stmt 1 view .LVU957
2007:rtos/uCOS-III/Source/os_task.c **** }
 2404              		.loc 1 2007 12 is_stmt 0 view .LVU958
 2405 0040 E7E7     		b	.L167
 2406              	.LVL243:
 2407              	.L173:
1993:rtos/uCOS-III/Source/os_task.c ****     }
 2408              		.loc 1 1993 9 is_stmt 1 view .LVU959
1993:rtos/uCOS-III/Source/os_task.c ****     }
 2409              		.loc 1 1993 15 is_stmt 0 view .LVU960
 2410 0042 064B     		ldr	r3, .L175+4
 2411 0044 1C68     		ldr	r4, [r3]
 2412              	.LVL244:
1993:rtos/uCOS-III/Source/os_task.c ****     }
 2413              		.loc 1 1993 15 view .LVU961
 2414 0046 ECE7     		b	.L170
 2415              	.L174:
1998:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_WAITING;
 2416              		.loc 1 1998 9 is_stmt 1 view .LVU962
1998:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_WAITING;
 2417              		.loc 1 1998 9 view .LVU963
1998:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_WAITING;
 2418              		.loc 1 1998 9 view .LVU964
 2419 0048 FFF7FEFF 		bl	CPU_SR_Restore
ARM GAS  /tmp/ccS1bHPU.s 			page 91


 2420              	.LVL245:
1998:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_WAITING;
 2421              		.loc 1 1998 9 view .LVU965
1998:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_WAITING;
 2422              		.loc 1 1998 9 view .LVU966
1999:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 2423              		.loc 1 1999 8 view .LVU967
1999:rtos/uCOS-III/Source/os_task.c ****         return (0u);
 2424              		.loc 1 1999 15 is_stmt 0 view .LVU968
 2425 004c 47F25F13 		movw	r3, #29023
 2426 0050 2B80     		strh	r3, [r5]	@ movhi
2000:rtos/uCOS-III/Source/os_task.c ****     }
 2427              		.loc 1 2000 9 is_stmt 1 view .LVU969
2000:rtos/uCOS-III/Source/os_task.c ****     }
 2428              		.loc 1 2000 16 is_stmt 0 view .LVU970
 2429 0052 0027     		movs	r7, #0
 2430 0054 DDE7     		b	.L167
 2431              	.L176:
 2432 0056 00BF     		.align	2
 2433              	.L175:
 2434 0058 00000000 		.word	OSIntNestingCtr
 2435 005c 00000000 		.word	OSTCBCurPtr
 2436              		.cfi_endproc
 2437              	.LFE14:
 2439              		.section	.text.OSTaskStkChk,"ax",%progbits
 2440              		.align	1
 2441              		.global	OSTaskStkChk
 2442              		.syntax unified
 2443              		.thumb
 2444              		.thumb_func
 2445              		.fpu fpv4-sp-d16
 2447              	OSTaskStkChk:
 2448              	.LVL246:
 2449              	.LFB15:
2009:rtos/uCOS-III/Source/os_task.c **** 
2010:rtos/uCOS-III/Source/os_task.c **** 
2011:rtos/uCOS-III/Source/os_task.c **** /*
2012:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2013:rtos/uCOS-III/Source/os_task.c **** *                                                    STACK CHECKING
2014:rtos/uCOS-III/Source/os_task.c **** *
2015:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to calculate the amount of free memory left on the specified
2016:rtos/uCOS-III/Source/os_task.c **** *
2017:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb       is a pointer to the TCB of the task to check.  If you specify a NULL poi
2018:rtos/uCOS-III/Source/os_task.c **** *                          you are specifying that you want to check the stack of the current task.
2019:rtos/uCOS-III/Source/os_task.c **** *
2020:rtos/uCOS-III/Source/os_task.c **** *              p_free      is a pointer to a variable that will receive the number of free 'entries
2021:rtos/uCOS-III/Source/os_task.c **** *
2022:rtos/uCOS-III/Source/os_task.c **** *              p_used      is a pointer to a variable that will receive the number of used 'entries
2023:rtos/uCOS-III/Source/os_task.c **** *
2024:rtos/uCOS-III/Source/os_task.c **** *              p_err       is a pointer to a variable that will contain an error code.
2025:rtos/uCOS-III/Source/os_task.c **** *
2026:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_NONE               Upon success
2027:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_PTR_INVALID        If either 'p_free' or 'p_used' are NULL po
2028:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_TASK_NOT_EXIST     If the stack pointer of the task is a NULL
2029:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_TASK_OPT           If you did NOT specified OS_OPT_TASK_STK_C
2030:rtos/uCOS-III/Source/os_task.c **** *                                                        was created
2031:rtos/uCOS-III/Source/os_task.c **** *                              OS_ERR_TASK_STK_CHK_ISR   You called this function from an ISR
ARM GAS  /tmp/ccS1bHPU.s 			page 92


2032:rtos/uCOS-III/Source/os_task.c **** *
2033:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
2034:rtos/uCOS-III/Source/os_task.c **** *
2035:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
2036:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2037:rtos/uCOS-III/Source/os_task.c **** */
2038:rtos/uCOS-III/Source/os_task.c **** 
2039:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_STAT_TASK_STK_CHK_EN > 0u)
2040:rtos/uCOS-III/Source/os_task.c **** void  OSTaskStkChk (OS_TCB        *p_tcb,
2041:rtos/uCOS-III/Source/os_task.c ****                     CPU_STK_SIZE  *p_free,
2042:rtos/uCOS-III/Source/os_task.c ****                     CPU_STK_SIZE  *p_used,
2043:rtos/uCOS-III/Source/os_task.c ****                     OS_ERR        *p_err)
2044:rtos/uCOS-III/Source/os_task.c **** {
 2450              		.loc 1 2044 1 is_stmt 1 view -0
 2451              		.cfi_startproc
 2452              		@ args = 0, pretend = 0, frame = 0
 2453              		@ frame_needed = 0, uses_anonymous_args = 0
 2454              		.loc 1 2044 1 is_stmt 0 view .LVU972
 2455 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2456              	.LCFI18:
 2457              		.cfi_def_cfa_offset 24
 2458              		.cfi_offset 4, -24
 2459              		.cfi_offset 5, -20
 2460              		.cfi_offset 6, -16
 2461              		.cfi_offset 7, -12
 2462              		.cfi_offset 8, -8
 2463              		.cfi_offset 14, -4
 2464 0004 1F46     		mov	r7, r3
2045:rtos/uCOS-III/Source/os_task.c ****     CPU_STK_SIZE  free_stk;
 2465              		.loc 1 2045 5 is_stmt 1 view .LVU973
2046:rtos/uCOS-III/Source/os_task.c ****     CPU_STK_SIZE  stk_size;
 2466              		.loc 1 2046 5 view .LVU974
2047:rtos/uCOS-III/Source/os_task.c ****     CPU_STK      *p_stk;
 2467              		.loc 1 2047 5 view .LVU975
2048:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 2468              		.loc 1 2048 5 view .LVU976
 2469              	.LVL247:
2049:rtos/uCOS-III/Source/os_task.c **** 
2050:rtos/uCOS-III/Source/os_task.c **** 
2051:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
2052:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
2053:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
2054:rtos/uCOS-III/Source/os_task.c ****         return;
2055:rtos/uCOS-III/Source/os_task.c ****     }
2056:rtos/uCOS-III/Source/os_task.c **** #endif
2057:rtos/uCOS-III/Source/os_task.c **** 
2058:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
2059:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to check stack fro
 2470              		.loc 1 2059 5 view .LVU977
 2471              		.loc 1 2059 25 is_stmt 0 view .LVU978
 2472 0006 254B     		ldr	r3, .L195
 2473              	.LVL248:
 2474              		.loc 1 2059 25 view .LVU979
 2475 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2476              		.loc 1 2059 8 view .LVU980
 2477 000a A3B9     		cbnz	r3, .L189
 2478 000c 0546     		mov	r5, r0
ARM GAS  /tmp/ccS1bHPU.s 			page 93


 2479 000e 0E46     		mov	r6, r1
 2480 0010 9046     		mov	r8, r2
2060:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_STK_CHK_ISR;
2061:rtos/uCOS-III/Source/os_task.c ****         return;
2062:rtos/uCOS-III/Source/os_task.c ****     }
2063:rtos/uCOS-III/Source/os_task.c **** #endif
2064:rtos/uCOS-III/Source/os_task.c **** 
2065:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
2066:rtos/uCOS-III/Source/os_task.c ****     if (p_free == (CPU_STK_SIZE *)0) {                          /* User must specify valid destinat
 2481              		.loc 1 2066 5 is_stmt 1 view .LVU981
 2482              		.loc 1 2066 8 is_stmt 0 view .LVU982
 2483 0012 A9B1     		cbz	r1, .L190
2067:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PTR_INVALID;
2068:rtos/uCOS-III/Source/os_task.c ****         return;
2069:rtos/uCOS-III/Source/os_task.c ****     }
2070:rtos/uCOS-III/Source/os_task.c **** 
2071:rtos/uCOS-III/Source/os_task.c ****     if (p_used == (CPU_STK_SIZE *)0) {
 2484              		.loc 1 2071 5 is_stmt 1 view .LVU983
 2485              		.loc 1 2071 8 is_stmt 0 view .LVU984
 2486 0014 C2B1     		cbz	r2, .L191
2072:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PTR_INVALID;
2073:rtos/uCOS-III/Source/os_task.c ****         return;
2074:rtos/uCOS-III/Source/os_task.c ****     }
2075:rtos/uCOS-III/Source/os_task.c **** #endif
2076:rtos/uCOS-III/Source/os_task.c **** 
2077:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 2487              		.loc 1 2077 5 is_stmt 1 view .LVU985
 2488              		.loc 1 2077 5 view .LVU986
 2489              		.loc 1 2077 5 view .LVU987
 2490 0016 4020     		movs	r0, #64
 2491              	.LVL249:
 2492              		.loc 1 2077 5 is_stmt 0 view .LVU988
 2493 0018 FFF7FEFF 		bl	CPU_SR_Save
 2494              	.LVL250:
 2495              		.loc 1 2077 5 is_stmt 1 view .LVU989
 2496              		.loc 1 2077 5 view .LVU990
2078:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* Check the stack of the current t
 2497              		.loc 1 2078 5 view .LVU991
 2498              		.loc 1 2078 8 is_stmt 0 view .LVU992
 2499 001c C5B1     		cbz	r5, .L192
 2500              	.L182:
2079:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;                                    /* Yes                             
2080:rtos/uCOS-III/Source/os_task.c ****     }
2081:rtos/uCOS-III/Source/os_task.c **** 
2082:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb->StkPtr == (CPU_STK *)0) {                        /* Make sure task exist            
 2501              		.loc 1 2082 5 is_stmt 1 view .LVU993
 2502              		.loc 1 2082 14 is_stmt 0 view .LVU994
 2503 001e 2B68     		ldr	r3, [r5]
 2504              		.loc 1 2082 8 view .LVU995
 2505 0020 CBB1     		cbz	r3, .L193
2083:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
2084:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
2085:rtos/uCOS-III/Source/os_task.c ****        *p_used = 0u;
2086:rtos/uCOS-III/Source/os_task.c ****        *p_err  = OS_ERR_TASK_NOT_EXIST;
2087:rtos/uCOS-III/Source/os_task.c ****         return;
2088:rtos/uCOS-III/Source/os_task.c ****     }
2089:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 94


2090:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb->Opt & OS_OPT_TASK_STK_CHK) == 0u) {             /* Make sure stack checking option 
 2506              		.loc 1 2090 5 is_stmt 1 view .LVU996
 2507              		.loc 1 2090 15 is_stmt 0 view .LVU997
 2508 0022 AB8F     		ldrh	r3, [r5, #60]
 2509              		.loc 1 2090 8 view .LVU998
 2510 0024 13F0010F 		tst	r3, #1
 2511 0028 1FD0     		beq	.L194
2091:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
2092:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
2093:rtos/uCOS-III/Source/os_task.c ****        *p_used = 0u;
2094:rtos/uCOS-III/Source/os_task.c ****        *p_err  = OS_ERR_TASK_OPT;
2095:rtos/uCOS-III/Source/os_task.c ****         return;
2096:rtos/uCOS-III/Source/os_task.c ****     }
2097:rtos/uCOS-III/Source/os_task.c **** 
2098:rtos/uCOS-III/Source/os_task.c **** #if (CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO)
2099:rtos/uCOS-III/Source/os_task.c ****     p_stk = p_tcb->StkBasePtr;                                  /* Start at the lowest memory and g
 2512              		.loc 1 2099 5 is_stmt 1 view .LVU999
 2513              		.loc 1 2099 11 is_stmt 0 view .LVU1000
 2514 002a EC69     		ldr	r4, [r5, #28]
 2515              	.LVL251:
2100:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
2101:rtos/uCOS-III/Source/os_task.c ****     p_stk += OS_CFG_TASK_STK_REDZONE_DEPTH;
2102:rtos/uCOS-III/Source/os_task.c **** #endif
2103:rtos/uCOS-III/Source/os_task.c **** #else
2104:rtos/uCOS-III/Source/os_task.c ****     p_stk = p_tcb->StkBasePtr + p_tcb->StkSize - 1u;            /* Start at the highest memory and 
2105:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
2106:rtos/uCOS-III/Source/os_task.c ****     p_stk -= OS_CFG_TASK_STK_REDZONE_DEPTH;
2107:rtos/uCOS-III/Source/os_task.c **** #endif
2108:rtos/uCOS-III/Source/os_task.c **** #endif
2109:rtos/uCOS-III/Source/os_task.c **** 
2110:rtos/uCOS-III/Source/os_task.c ****     stk_size = p_tcb->StkSize;
 2516              		.loc 1 2110 5 is_stmt 1 view .LVU1001
 2517              		.loc 1 2110 14 is_stmt 0 view .LVU1002
 2518 002c AD6B     		ldr	r5, [r5, #56]
 2519              	.LVL252:
2111:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 2520              		.loc 1 2111 5 is_stmt 1 view .LVU1003
 2521              		.loc 1 2111 5 view .LVU1004
 2522              		.loc 1 2111 5 view .LVU1005
 2523 002e FFF7FEFF 		bl	CPU_SR_Restore
 2524              	.LVL253:
 2525              		.loc 1 2111 5 view .LVU1006
 2526              		.loc 1 2111 5 view .LVU1007
2112:rtos/uCOS-III/Source/os_task.c **** 
2113:rtos/uCOS-III/Source/os_task.c ****     free_stk = 0u;
 2527              		.loc 1 2113 5 view .LVU1008
2114:rtos/uCOS-III/Source/os_task.c ****                                                                 /* Compute the number of zero entri
2115:rtos/uCOS-III/Source/os_task.c **** #if (CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO)
2116:rtos/uCOS-III/Source/os_task.c ****     while ((free_stk  < stk_size) &&
 2528              		.loc 1 2116 5 view .LVU1009
2113:rtos/uCOS-III/Source/os_task.c ****                                                                 /* Compute the number of zero entri
 2529              		.loc 1 2113 14 is_stmt 0 view .LVU1010
 2530 0032 0020     		movs	r0, #0
 2531              		.loc 1 2116 11 view .LVU1011
 2532 0034 25E0     		b	.L185
 2533              	.LVL254:
 2534              	.L189:
ARM GAS  /tmp/ccS1bHPU.s 			page 95


2060:rtos/uCOS-III/Source/os_task.c ****         return;
 2535              		.loc 1 2060 8 is_stmt 1 view .LVU1012
2060:rtos/uCOS-III/Source/os_task.c ****         return;
 2536              		.loc 1 2060 15 is_stmt 0 view .LVU1013
 2537 0036 47F25913 		movw	r3, #29017
 2538 003a 3B80     		strh	r3, [r7]	@ movhi
2061:rtos/uCOS-III/Source/os_task.c ****     }
 2539              		.loc 1 2061 9 is_stmt 1 view .LVU1014
 2540              	.LVL255:
 2541              	.L177:
2117:rtos/uCOS-III/Source/os_task.c ****            (*p_stk   ==       0u)) {
2118:rtos/uCOS-III/Source/os_task.c ****         p_stk++;
2119:rtos/uCOS-III/Source/os_task.c ****         free_stk++;
2120:rtos/uCOS-III/Source/os_task.c ****     }
2121:rtos/uCOS-III/Source/os_task.c **** #else
2122:rtos/uCOS-III/Source/os_task.c ****     while ((free_stk  < stk_size) &&
2123:rtos/uCOS-III/Source/os_task.c ****            (*p_stk   ==       0u)) {
2124:rtos/uCOS-III/Source/os_task.c ****         free_stk++;
2125:rtos/uCOS-III/Source/os_task.c ****         p_stk--;
2126:rtos/uCOS-III/Source/os_task.c ****     }
2127:rtos/uCOS-III/Source/os_task.c **** #endif
2128:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
2129:rtos/uCOS-III/Source/os_task.c ****     free_stk -= OS_CFG_TASK_STK_REDZONE_DEPTH;                  /* Compensate for stack elements us
2130:rtos/uCOS-III/Source/os_task.c **** #endif
2131:rtos/uCOS-III/Source/os_task.c ****    *p_free = free_stk;
2132:rtos/uCOS-III/Source/os_task.c ****    *p_used = (stk_size - free_stk);                             /* Compute number of entries used o
2133:rtos/uCOS-III/Source/os_task.c ****    *p_err  = OS_ERR_NONE;
2134:rtos/uCOS-III/Source/os_task.c **** }
 2542              		.loc 1 2134 1 is_stmt 0 view .LVU1015
 2543 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2544              	.LVL256:
 2545              	.L190:
2067:rtos/uCOS-III/Source/os_task.c ****         return;
 2546              		.loc 1 2067 8 is_stmt 1 view .LVU1016
2067:rtos/uCOS-III/Source/os_task.c ****         return;
 2547              		.loc 1 2067 15 is_stmt 0 view .LVU1017
 2548 0040 46F2D523 		movw	r3, #25301
 2549 0044 3B80     		strh	r3, [r7]	@ movhi
2068:rtos/uCOS-III/Source/os_task.c ****     }
 2550              		.loc 1 2068 9 is_stmt 1 view .LVU1018
 2551 0046 F9E7     		b	.L177
 2552              	.L191:
2072:rtos/uCOS-III/Source/os_task.c ****         return;
 2553              		.loc 1 2072 8 view .LVU1019
2072:rtos/uCOS-III/Source/os_task.c ****         return;
 2554              		.loc 1 2072 15 is_stmt 0 view .LVU1020
 2555 0048 46F2D523 		movw	r3, #25301
 2556 004c 3B80     		strh	r3, [r7]	@ movhi
2073:rtos/uCOS-III/Source/os_task.c ****     }
 2557              		.loc 1 2073 9 is_stmt 1 view .LVU1021
 2558 004e F5E7     		b	.L177
 2559              	.LVL257:
 2560              	.L192:
2079:rtos/uCOS-III/Source/os_task.c ****     }
 2561              		.loc 1 2079 9 view .LVU1022
2079:rtos/uCOS-III/Source/os_task.c ****     }
 2562              		.loc 1 2079 15 is_stmt 0 view .LVU1023
ARM GAS  /tmp/ccS1bHPU.s 			page 96


 2563 0050 134B     		ldr	r3, .L195+4
 2564 0052 1D68     		ldr	r5, [r3]
 2565              	.LVL258:
2079:rtos/uCOS-III/Source/os_task.c ****     }
 2566              		.loc 1 2079 15 view .LVU1024
 2567 0054 E3E7     		b	.L182
 2568              	.L193:
2083:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2569              		.loc 1 2083 9 is_stmt 1 view .LVU1025
2083:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2570              		.loc 1 2083 9 view .LVU1026
2083:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2571              		.loc 1 2083 9 view .LVU1027
 2572 0056 FFF7FEFF 		bl	CPU_SR_Restore
 2573              	.LVL259:
2083:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2574              		.loc 1 2083 9 view .LVU1028
2083:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2575              		.loc 1 2083 9 view .LVU1029
2084:rtos/uCOS-III/Source/os_task.c ****        *p_used = 0u;
 2576              		.loc 1 2084 8 view .LVU1030
2084:rtos/uCOS-III/Source/os_task.c ****        *p_used = 0u;
 2577              		.loc 1 2084 16 is_stmt 0 view .LVU1031
 2578 005a 0023     		movs	r3, #0
 2579 005c 3360     		str	r3, [r6]
2085:rtos/uCOS-III/Source/os_task.c ****        *p_err  = OS_ERR_TASK_NOT_EXIST;
 2580              		.loc 1 2085 8 is_stmt 1 view .LVU1032
2085:rtos/uCOS-III/Source/os_task.c ****        *p_err  = OS_ERR_TASK_NOT_EXIST;
 2581              		.loc 1 2085 16 is_stmt 0 view .LVU1033
 2582 005e C8F80030 		str	r3, [r8]
2086:rtos/uCOS-III/Source/os_task.c ****         return;
 2583              		.loc 1 2086 8 is_stmt 1 view .LVU1034
2086:rtos/uCOS-III/Source/os_task.c ****         return;
 2584              		.loc 1 2086 16 is_stmt 0 view .LVU1035
 2585 0062 47F25213 		movw	r3, #29010
 2586 0066 3B80     		strh	r3, [r7]	@ movhi
2087:rtos/uCOS-III/Source/os_task.c ****     }
 2587              		.loc 1 2087 9 is_stmt 1 view .LVU1036
 2588 0068 E8E7     		b	.L177
 2589              	.LVL260:
 2590              	.L194:
2091:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2591              		.loc 1 2091 9 view .LVU1037
2091:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2592              		.loc 1 2091 9 view .LVU1038
2091:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2593              		.loc 1 2091 9 view .LVU1039
 2594 006a FFF7FEFF 		bl	CPU_SR_Restore
 2595              	.LVL261:
2091:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2596              		.loc 1 2091 9 view .LVU1040
2091:rtos/uCOS-III/Source/os_task.c ****        *p_free = 0u;
 2597              		.loc 1 2091 9 view .LVU1041
2092:rtos/uCOS-III/Source/os_task.c ****        *p_used = 0u;
 2598              		.loc 1 2092 8 view .LVU1042
2092:rtos/uCOS-III/Source/os_task.c ****        *p_used = 0u;
 2599              		.loc 1 2092 16 is_stmt 0 view .LVU1043
ARM GAS  /tmp/ccS1bHPU.s 			page 97


 2600 006e 0023     		movs	r3, #0
 2601 0070 3360     		str	r3, [r6]
2093:rtos/uCOS-III/Source/os_task.c ****        *p_err  = OS_ERR_TASK_OPT;
 2602              		.loc 1 2093 8 is_stmt 1 view .LVU1044
2093:rtos/uCOS-III/Source/os_task.c ****        *p_err  = OS_ERR_TASK_OPT;
 2603              		.loc 1 2093 16 is_stmt 0 view .LVU1045
 2604 0072 C8F80030 		str	r3, [r8]
2094:rtos/uCOS-III/Source/os_task.c ****         return;
 2605              		.loc 1 2094 8 is_stmt 1 view .LVU1046
2094:rtos/uCOS-III/Source/os_task.c ****         return;
 2606              		.loc 1 2094 16 is_stmt 0 view .LVU1047
 2607 0076 47F25413 		movw	r3, #29012
 2608 007a 3B80     		strh	r3, [r7]	@ movhi
2095:rtos/uCOS-III/Source/os_task.c ****     }
 2609              		.loc 1 2095 9 is_stmt 1 view .LVU1048
 2610 007c DEE7     		b	.L177
 2611              	.LVL262:
 2612              	.L187:
2118:rtos/uCOS-III/Source/os_task.c ****         free_stk++;
 2613              		.loc 1 2118 9 view .LVU1049
2118:rtos/uCOS-III/Source/os_task.c ****         free_stk++;
 2614              		.loc 1 2118 14 is_stmt 0 view .LVU1050
 2615 007e 0434     		adds	r4, r4, #4
 2616              	.LVL263:
2119:rtos/uCOS-III/Source/os_task.c ****     }
 2617              		.loc 1 2119 9 is_stmt 1 view .LVU1051
2119:rtos/uCOS-III/Source/os_task.c ****     }
 2618              		.loc 1 2119 17 is_stmt 0 view .LVU1052
 2619 0080 0130     		adds	r0, r0, #1
 2620              	.LVL264:
 2621              	.L185:
2116:rtos/uCOS-III/Source/os_task.c ****            (*p_stk   ==       0u)) {
 2622              		.loc 1 2116 11 is_stmt 1 view .LVU1053
 2623 0082 A842     		cmp	r0, r5
 2624 0084 02D2     		bcs	.L186
2117:rtos/uCOS-III/Source/os_task.c ****         p_stk++;
 2625              		.loc 1 2117 13 is_stmt 0 discriminator 1 view .LVU1054
 2626 0086 2368     		ldr	r3, [r4]
2116:rtos/uCOS-III/Source/os_task.c ****            (*p_stk   ==       0u)) {
 2627              		.loc 1 2116 35 discriminator 1 view .LVU1055
 2628 0088 002B     		cmp	r3, #0
 2629 008a F8D0     		beq	.L187
 2630              	.L186:
2131:rtos/uCOS-III/Source/os_task.c ****    *p_used = (stk_size - free_stk);                             /* Compute number of entries used o
 2631              		.loc 1 2131 4 is_stmt 1 view .LVU1056
2131:rtos/uCOS-III/Source/os_task.c ****    *p_used = (stk_size - free_stk);                             /* Compute number of entries used o
 2632              		.loc 1 2131 12 is_stmt 0 view .LVU1057
 2633 008c 3060     		str	r0, [r6]
2132:rtos/uCOS-III/Source/os_task.c ****    *p_err  = OS_ERR_NONE;
 2634              		.loc 1 2132 4 is_stmt 1 view .LVU1058
2132:rtos/uCOS-III/Source/os_task.c ****    *p_err  = OS_ERR_NONE;
 2635              		.loc 1 2132 24 is_stmt 0 view .LVU1059
 2636 008e 281A     		subs	r0, r5, r0
 2637              	.LVL265:
2132:rtos/uCOS-III/Source/os_task.c ****    *p_err  = OS_ERR_NONE;
 2638              		.loc 1 2132 12 view .LVU1060
 2639 0090 C8F80000 		str	r0, [r8]
ARM GAS  /tmp/ccS1bHPU.s 			page 98


 2640              	.LVL266:
2133:rtos/uCOS-III/Source/os_task.c **** }
 2641              		.loc 1 2133 4 is_stmt 1 view .LVU1061
2133:rtos/uCOS-III/Source/os_task.c **** }
 2642              		.loc 1 2133 12 is_stmt 0 view .LVU1062
 2643 0094 0023     		movs	r3, #0
 2644 0096 3B80     		strh	r3, [r7]	@ movhi
 2645 0098 D0E7     		b	.L177
 2646              	.L196:
 2647 009a 00BF     		.align	2
 2648              	.L195:
 2649 009c 00000000 		.word	OSIntNestingCtr
 2650 00a0 00000000 		.word	OSTCBCurPtr
 2651              		.cfi_endproc
 2652              	.LFE15:
 2654              		.section	.text.OSTaskSuspend,"ax",%progbits
 2655              		.align	1
 2656              		.global	OSTaskSuspend
 2657              		.syntax unified
 2658              		.thumb
 2659              		.thumb_func
 2660              		.fpu fpv4-sp-d16
 2662              	OSTaskSuspend:
 2663              	.LVL267:
 2664              	.LFB16:
2135:rtos/uCOS-III/Source/os_task.c **** #endif
2136:rtos/uCOS-III/Source/os_task.c **** 
2137:rtos/uCOS-III/Source/os_task.c **** 
2138:rtos/uCOS-III/Source/os_task.c **** /*
2139:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2140:rtos/uCOS-III/Source/os_task.c **** *                                            CHECK THE STACK REDZONE OF A TASK
2141:rtos/uCOS-III/Source/os_task.c **** *
2142:rtos/uCOS-III/Source/os_task.c **** * Description: Verify a task's stack redzone.
2143:rtos/uCOS-III/Source/os_task.c **** *
2144:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb     is a pointer to the TCB of the task to check or null for the current task.
2145:rtos/uCOS-III/Source/os_task.c **** *
2146:rtos/uCOS-III/Source/os_task.c **** * Returns    : If the stack is corrupted (OS_FALSE) or not (OS_TRUE).
2147:rtos/uCOS-III/Source/os_task.c **** *
2148:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : These functions are INTERNAL to uC/OS-III and your application should not call it.
2149:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2150:rtos/uCOS-III/Source/os_task.c **** */
2151:rtos/uCOS-III/Source/os_task.c **** 
2152:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
2153:rtos/uCOS-III/Source/os_task.c **** CPU_BOOLEAN  OSTaskStkRedzoneChk (OS_TCB  *p_tcb)
2154:rtos/uCOS-III/Source/os_task.c **** {
2155:rtos/uCOS-III/Source/os_task.c ****     CPU_BOOLEAN  stk_status;
2156:rtos/uCOS-III/Source/os_task.c **** 
2157:rtos/uCOS-III/Source/os_task.c **** 
2158:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
2159:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
2160:rtos/uCOS-III/Source/os_task.c ****     }
2161:rtos/uCOS-III/Source/os_task.c ****                                                                 /* Check if SP is valid:           
2162:rtos/uCOS-III/Source/os_task.c ****                                                                 /*   StkBase <= SP < (StkBase + Stk
2163:rtos/uCOS-III/Source/os_task.c ****     if ((p_tcb->StkPtr <   p_tcb->StkBasePtr) ||
2164:rtos/uCOS-III/Source/os_task.c ****         (p_tcb->StkPtr >= (p_tcb->StkBasePtr + p_tcb->StkSize))) {
2165:rtos/uCOS-III/Source/os_task.c ****         return (OS_FALSE);
2166:rtos/uCOS-III/Source/os_task.c ****     }
ARM GAS  /tmp/ccS1bHPU.s 			page 99


2167:rtos/uCOS-III/Source/os_task.c **** 
2168:rtos/uCOS-III/Source/os_task.c ****     stk_status = OS_TaskStkRedzoneChk(p_tcb->StkBasePtr, p_tcb->StkSize);
2169:rtos/uCOS-III/Source/os_task.c **** 
2170:rtos/uCOS-III/Source/os_task.c ****     return (stk_status);
2171:rtos/uCOS-III/Source/os_task.c **** }
2172:rtos/uCOS-III/Source/os_task.c **** #endif
2173:rtos/uCOS-III/Source/os_task.c **** 
2174:rtos/uCOS-III/Source/os_task.c **** 
2175:rtos/uCOS-III/Source/os_task.c **** /*
2176:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2177:rtos/uCOS-III/Source/os_task.c **** *                                                   SUSPEND A TASK
2178:rtos/uCOS-III/Source/os_task.c **** *
2179:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to suspend a task.  The task can be the calling task if 'p_t
2180:rtos/uCOS-III/Source/os_task.c **** *              or the pointer to the TCB of the calling task.
2181:rtos/uCOS-III/Source/os_task.c **** *
2182:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb    is a pointer to the TCB to suspend.
2183:rtos/uCOS-III/Source/os_task.c **** *                       If p_tcb is a NULL pointer then, suspend the current task.
2184:rtos/uCOS-III/Source/os_task.c **** *
2185:rtos/uCOS-III/Source/os_task.c **** *              p_err    is a pointer to a variable that will receive an error code from this functi
2186:rtos/uCOS-III/Source/os_task.c **** *
2187:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_NONE                        If the requested task is suspended
2188:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_OS_NOT_RUNNING              If uC/OS-III is not running yet
2189:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_SCHED_LOCKED                You can't suspend the current task i
2190:rtos/uCOS-III/Source/os_task.c **** *                                                                  locked
2191:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_STATE_INVALID               If the task is in an invalid state
2192:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_TASK_SUSPEND_CTR_OVF        If the nesting counter overflowed.
2193:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_TASK_SUSPEND_ISR            If you called this function from an 
2194:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_TASK_SUSPEND_IDLE           If you attempted to suspend the idle
2195:rtos/uCOS-III/Source/os_task.c **** *                                                                  allowed
2196:rtos/uCOS-III/Source/os_task.c **** *                           OS_ERR_TASK_SUSPEND_INT_HANDLER    If you attempted to suspend the idle
2197:rtos/uCOS-III/Source/os_task.c **** *                                                                  allowed
2198:rtos/uCOS-III/Source/os_task.c **** *
2199:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
2200:rtos/uCOS-III/Source/os_task.c **** *
2201:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : 1) You should use this function with great care.  If you suspend a task that is wait
2202:rtos/uCOS-III/Source/os_task.c **** *                 (i.e. a message, a semaphore, a queue ...) you will prevent this task from runnin
2203:rtos/uCOS-III/Source/os_task.c **** *                 arrives.
2204:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2205:rtos/uCOS-III/Source/os_task.c **** */
2206:rtos/uCOS-III/Source/os_task.c **** 
2207:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_SUSPEND_EN > 0u)
2208:rtos/uCOS-III/Source/os_task.c **** void   OSTaskSuspend (OS_TCB  *p_tcb,
2209:rtos/uCOS-III/Source/os_task.c ****                       OS_ERR  *p_err)
2210:rtos/uCOS-III/Source/os_task.c **** {
 2665              		.loc 1 2210 1 is_stmt 1 view -0
 2666              		.cfi_startproc
 2667              		@ args = 0, pretend = 0, frame = 0
 2668              		@ frame_needed = 0, uses_anonymous_args = 0
 2669              		.loc 1 2210 1 is_stmt 0 view .LVU1064
 2670 0000 70B5     		push	{r4, r5, r6, lr}
 2671              	.LCFI19:
 2672              		.cfi_def_cfa_offset 16
 2673              		.cfi_offset 4, -16
 2674              		.cfi_offset 5, -12
 2675              		.cfi_offset 6, -8
 2676              		.cfi_offset 14, -4
 2677 0002 0D46     		mov	r5, r1
ARM GAS  /tmp/ccS1bHPU.s 			page 100


2211:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 2678              		.loc 1 2211 5 is_stmt 1 view .LVU1065
 2679              	.LVL268:
2212:rtos/uCOS-III/Source/os_task.c **** 
2213:rtos/uCOS-III/Source/os_task.c **** 
2214:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SUSPEND_ENTER(p_tcb);
 2680              		.loc 1 2214 39 view .LVU1066
2215:rtos/uCOS-III/Source/os_task.c **** 
2216:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
2217:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
2218:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
2219:rtos/uCOS-III/Source/os_task.c ****         return;
2220:rtos/uCOS-III/Source/os_task.c ****     }
2221:rtos/uCOS-III/Source/os_task.c **** #endif
2222:rtos/uCOS-III/Source/os_task.c **** 
2223:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
2224:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 2681              		.loc 1 2224 5 view .LVU1067
 2682              		.loc 1 2224 25 is_stmt 0 view .LVU1068
 2683 0004 424B     		ldr	r3, .L220
 2684 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2685              		.loc 1 2224 8 view .LVU1069
 2686 0008 C3B9     		cbnz	r3, .L214
 2687 000a 0446     		mov	r4, r0
2225:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_SUSPEND_ISR;
2226:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_ISR);
2227:rtos/uCOS-III/Source/os_task.c ****         return;
2228:rtos/uCOS-III/Source/os_task.c ****     }
2229:rtos/uCOS-III/Source/os_task.c **** #endif
2230:rtos/uCOS-III/Source/os_task.c **** 
2231:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
2232:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == &OSIdleTaskTCB) {                              /* Make sure not suspending the idl
 2688              		.loc 1 2232 5 is_stmt 1 view .LVU1070
 2689              		.loc 1 2232 8 is_stmt 0 view .LVU1071
 2690 000c 414B     		ldr	r3, .L220+4
 2691 000e 9842     		cmp	r0, r3
 2692 0010 18D0     		beq	.L215
2233:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_SUSPEND_IDLE;
2234:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_IDLE);
2235:rtos/uCOS-III/Source/os_task.c ****         return;
2236:rtos/uCOS-III/Source/os_task.c ****     }
2237:rtos/uCOS-III/Source/os_task.c **** #endif
2238:rtos/uCOS-III/Source/os_task.c **** 
2239:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
 2693              		.loc 1 2239 5 is_stmt 1 view .LVU1072
 2694              		.loc 1 2239 5 view .LVU1073
 2695              		.loc 1 2239 5 view .LVU1074
 2696 0012 4020     		movs	r0, #64
 2697              	.LVL269:
 2698              		.loc 1 2239 5 is_stmt 0 view .LVU1075
 2699 0014 FFF7FEFF 		bl	CPU_SR_Save
 2700              	.LVL270:
 2701              		.loc 1 2239 5 view .LVU1076
 2702 0018 0646     		mov	r6, r0
 2703              	.LVL271:
 2704              		.loc 1 2239 5 is_stmt 1 view .LVU1077
 2705              		.loc 1 2239 5 view .LVU1078
ARM GAS  /tmp/ccS1bHPU.s 			page 101


2240:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                                 /* See if specified to suspend self
 2706              		.loc 1 2240 5 view .LVU1079
 2707              		.loc 1 2240 8 is_stmt 0 view .LVU1080
 2708 001a BCB1     		cbz	r4, .L216
 2709              	.L201:
2241:rtos/uCOS-III/Source/os_task.c ****         if (OSRunning != OS_STATE_OS_RUNNING) {                 /* Can't suspend self when the kern
2242:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
2243:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
2244:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_OS_NOT_RUNNING);
2245:rtos/uCOS-III/Source/os_task.c ****             return;
2246:rtos/uCOS-III/Source/os_task.c ****         }
2247:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
2248:rtos/uCOS-III/Source/os_task.c ****     }
2249:rtos/uCOS-III/Source/os_task.c **** 
2250:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == OSTCBCurPtr) {
 2710              		.loc 1 2250 5 is_stmt 1 view .LVU1081
 2711              		.loc 1 2250 15 is_stmt 0 view .LVU1082
 2712 001c 3E4B     		ldr	r3, .L220+8
 2713 001e 1B68     		ldr	r3, [r3]
 2714              		.loc 1 2250 8 view .LVU1083
 2715 0020 A342     		cmp	r3, r4
 2716 0022 20D0     		beq	.L217
 2717              	.L203:
2251:rtos/uCOS-III/Source/os_task.c ****         if (OSSchedLockNestingCtr > 0u) {                       /* Can't suspend when the scheduler
2252:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
2253:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
2254:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_SCHED_LOCKED);
2255:rtos/uCOS-III/Source/os_task.c ****             return;
2256:rtos/uCOS-III/Source/os_task.c ****         }
2257:rtos/uCOS-III/Source/os_task.c ****     }
2258:rtos/uCOS-III/Source/os_task.c **** 
2259:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 2718              		.loc 1 2259 4 is_stmt 1 view .LVU1084
 2719              		.loc 1 2259 11 is_stmt 0 view .LVU1085
 2720 0024 0023     		movs	r3, #0
 2721 0026 2B80     		strh	r3, [r5]	@ movhi
2260:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 2722              		.loc 1 2260 5 is_stmt 1 view .LVU1086
 2723              		.loc 1 2260 18 is_stmt 0 view .LVU1087
 2724 0028 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
 2725 002c 072B     		cmp	r3, #7
 2726 002e 68D8     		bhi	.L204
 2727 0030 DFE803F0 		tbb	[pc, r3]
 2728              	.L206:
 2729 0034 24       		.byte	(.L210-.L206)/2
 2730 0035 37       		.byte	(.L209-.L206)/2
 2731 0036 41       		.byte	(.L208-.L206)/2
 2732 0037 4B       		.byte	(.L207-.L206)/2
 2733 0038 55       		.byte	(.L205-.L206)/2
 2734 0039 55       		.byte	(.L205-.L206)/2
 2735 003a 55       		.byte	(.L205-.L206)/2
 2736 003b 55       		.byte	(.L205-.L206)/2
 2737              	.LVL272:
 2738              		.p2align 1
 2739              	.L214:
2225:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_ISR);
 2740              		.loc 1 2225 8 is_stmt 1 view .LVU1088
ARM GAS  /tmp/ccS1bHPU.s 			page 102


2225:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_ISR);
 2741              		.loc 1 2225 15 is_stmt 0 view .LVU1089
 2742 003c 47F25D13 		movw	r3, #29021
 2743 0040 0B80     		strh	r3, [r1]	@ movhi
2226:rtos/uCOS-III/Source/os_task.c ****         return;
 2744              		.loc 1 2226 60 is_stmt 1 view .LVU1090
2227:rtos/uCOS-III/Source/os_task.c ****     }
 2745              		.loc 1 2227 9 view .LVU1091
 2746              	.LVL273:
 2747              	.L197:
2261:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
2262:rtos/uCOS-III/Source/os_task.c ****              p_tcb->TaskState  =  OS_TASK_STATE_SUSPENDED;
2263:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
2264:rtos/uCOS-III/Source/os_task.c ****              OS_RdyListRemove(p_tcb);
2265:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SUSPEND(p_tcb);
2266:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
2267:rtos/uCOS-III/Source/os_task.c ****              break;
2268:rtos/uCOS-III/Source/os_task.c **** 
2269:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY:
2270:rtos/uCOS-III/Source/os_task.c ****              p_tcb->TaskState  = OS_TASK_STATE_DLY_SUSPENDED;
2271:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
2272:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
2273:rtos/uCOS-III/Source/os_task.c ****              break;
2274:rtos/uCOS-III/Source/os_task.c **** 
2275:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND:
2276:rtos/uCOS-III/Source/os_task.c ****              p_tcb->TaskState  = OS_TASK_STATE_PEND_SUSPENDED;
2277:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
2278:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
2279:rtos/uCOS-III/Source/os_task.c ****              break;
2280:rtos/uCOS-III/Source/os_task.c **** 
2281:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
2282:rtos/uCOS-III/Source/os_task.c ****              p_tcb->TaskState  = OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED;
2283:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
2284:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
2285:rtos/uCOS-III/Source/os_task.c ****              break;
2286:rtos/uCOS-III/Source/os_task.c **** 
2287:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
2288:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
2289:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
2290:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
2291:rtos/uCOS-III/Source/os_task.c ****              if (p_tcb->SuspendCtr == (OS_NESTING_CTR)-1) {
2292:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
2293:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_TASK_SUSPEND_CTR_OVF;
2294:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_CTR_OVF);
2295:rtos/uCOS-III/Source/os_task.c ****                  return;
2296:rtos/uCOS-III/Source/os_task.c ****              }
2297:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr++;
2298:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
2299:rtos/uCOS-III/Source/os_task.c ****              break;
2300:rtos/uCOS-III/Source/os_task.c **** 
2301:rtos/uCOS-III/Source/os_task.c ****         default:
2302:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
2303:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
2304:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_STATE_INVALID);
2305:rtos/uCOS-III/Source/os_task.c ****              return;
2306:rtos/uCOS-III/Source/os_task.c ****     }
2307:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 103


2308:rtos/uCOS-III/Source/os_task.c ****     if (OSRunning == OS_STATE_OS_RUNNING) {                     /* Only schedule when the kernel is
2309:rtos/uCOS-III/Source/os_task.c ****         OSSched();
2310:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_NONE);
2311:rtos/uCOS-III/Source/os_task.c ****     }
2312:rtos/uCOS-III/Source/os_task.c **** }
 2748              		.loc 1 2312 1 is_stmt 0 view .LVU1092
 2749 0042 70BD     		pop	{r4, r5, r6, pc}
 2750              	.LVL274:
 2751              	.L215:
2233:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_IDLE);
 2752              		.loc 1 2233 8 is_stmt 1 view .LVU1093
2233:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_IDLE);
 2753              		.loc 1 2233 15 is_stmt 0 view .LVU1094
 2754 0044 47F25B13 		movw	r3, #29019
 2755 0048 0B80     		strh	r3, [r1]	@ movhi
2234:rtos/uCOS-III/Source/os_task.c ****         return;
 2756              		.loc 1 2234 61 is_stmt 1 view .LVU1095
2235:rtos/uCOS-III/Source/os_task.c ****     }
 2757              		.loc 1 2235 9 view .LVU1096
 2758 004a FAE7     		b	.L197
 2759              	.LVL275:
 2760              	.L216:
2241:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 2761              		.loc 1 2241 9 view .LVU1097
2241:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 2762              		.loc 1 2241 23 is_stmt 0 view .LVU1098
 2763 004c 334B     		ldr	r3, .L220+12
 2764 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2241:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 2765              		.loc 1 2241 12 view .LVU1099
 2766 0050 012B     		cmp	r3, #1
 2767 0052 02D1     		bne	.L218
2247:rtos/uCOS-III/Source/os_task.c ****     }
 2768              		.loc 1 2247 9 is_stmt 1 view .LVU1100
2247:rtos/uCOS-III/Source/os_task.c ****     }
 2769              		.loc 1 2247 15 is_stmt 0 view .LVU1101
 2770 0054 304B     		ldr	r3, .L220+8
 2771 0056 1C68     		ldr	r4, [r3]
 2772              	.LVL276:
2247:rtos/uCOS-III/Source/os_task.c ****     }
 2773              		.loc 1 2247 15 view .LVU1102
 2774 0058 E0E7     		b	.L201
 2775              	.L218:
2242:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 2776              		.loc 1 2242 13 is_stmt 1 view .LVU1103
2242:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 2777              		.loc 1 2242 13 view .LVU1104
2242:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 2778              		.loc 1 2242 13 view .LVU1105
 2779 005a FFF7FEFF 		bl	CPU_SR_Restore
 2780              	.LVL277:
2242:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 2781              		.loc 1 2242 13 view .LVU1106
2242:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 2782              		.loc 1 2242 13 view .LVU1107
2243:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 2783              		.loc 1 2243 12 view .LVU1108
ARM GAS  /tmp/ccS1bHPU.s 			page 104


2243:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 2784              		.loc 1 2243 19 is_stmt 0 view .LVU1109
 2785 005e 45F68963 		movw	r3, #24201
 2786 0062 2B80     		strh	r3, [r5]	@ movhi
2244:rtos/uCOS-III/Source/os_task.c ****             return;
 2787              		.loc 1 2244 62 is_stmt 1 view .LVU1110
2245:rtos/uCOS-III/Source/os_task.c ****         }
 2788              		.loc 1 2245 13 view .LVU1111
 2789 0064 EDE7     		b	.L197
 2790              	.LVL278:
 2791              	.L217:
2251:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 2792              		.loc 1 2251 9 view .LVU1112
2251:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 2793              		.loc 1 2251 35 is_stmt 0 view .LVU1113
 2794 0066 2E4B     		ldr	r3, .L220+16
 2795 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2251:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 2796              		.loc 1 2251 12 view .LVU1114
 2797 006a 002B     		cmp	r3, #0
 2798 006c DAD0     		beq	.L203
2252:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 2799              		.loc 1 2252 13 is_stmt 1 view .LVU1115
2252:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 2800              		.loc 1 2252 13 view .LVU1116
2252:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 2801              		.loc 1 2252 13 view .LVU1117
 2802 006e 3046     		mov	r0, r6
 2803              	.LVL279:
2252:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 2804              		.loc 1 2252 13 is_stmt 0 view .LVU1118
 2805 0070 FFF7FEFF 		bl	CPU_SR_Restore
 2806              	.LVL280:
2252:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 2807              		.loc 1 2252 13 is_stmt 1 view .LVU1119
2252:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 2808              		.loc 1 2252 13 view .LVU1120
2253:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_SCHED_LOCKED);
 2809              		.loc 1 2253 12 view .LVU1121
2253:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_SCHED_LOCKED);
 2810              		.loc 1 2253 19 is_stmt 0 view .LVU1122
 2811 0074 46F66353 		movw	r3, #28003
 2812 0078 2B80     		strh	r3, [r5]	@ movhi
2254:rtos/uCOS-III/Source/os_task.c ****             return;
 2813              		.loc 1 2254 60 is_stmt 1 view .LVU1123
2255:rtos/uCOS-III/Source/os_task.c ****         }
 2814              		.loc 1 2255 13 view .LVU1124
 2815 007a E2E7     		b	.L197
 2816              	.LVL281:
 2817              	.L210:
2262:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2818              		.loc 1 2262 14 view .LVU1125
2262:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2819              		.loc 1 2262 32 is_stmt 0 view .LVU1126
 2820 007c 0423     		movs	r3, #4
 2821 007e 84F82E30 		strb	r3, [r4, #46]
2263:rtos/uCOS-III/Source/os_task.c ****              OS_RdyListRemove(p_tcb);
ARM GAS  /tmp/ccS1bHPU.s 			page 105


 2822              		.loc 1 2263 14 is_stmt 1 view .LVU1127
2263:rtos/uCOS-III/Source/os_task.c ****              OS_RdyListRemove(p_tcb);
 2823              		.loc 1 2263 32 is_stmt 0 view .LVU1128
 2824 0082 0123     		movs	r3, #1
 2825 0084 84F87E30 		strb	r3, [r4, #126]
2264:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SUSPEND(p_tcb);
 2826              		.loc 1 2264 14 is_stmt 1 view .LVU1129
 2827 0088 2046     		mov	r0, r4
 2828              	.LVL282:
2264:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SUSPEND(p_tcb);
 2829              		.loc 1 2264 14 is_stmt 0 view .LVU1130
 2830 008a FFF7FEFF 		bl	OS_RdyListRemove
 2831              	.LVL283:
2265:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2832              		.loc 1 2265 42 is_stmt 1 view .LVU1131
2266:rtos/uCOS-III/Source/os_task.c ****              break;
 2833              		.loc 1 2266 14 view .LVU1132
2266:rtos/uCOS-III/Source/os_task.c ****              break;
 2834              		.loc 1 2266 14 view .LVU1133
2266:rtos/uCOS-III/Source/os_task.c ****              break;
 2835              		.loc 1 2266 14 view .LVU1134
 2836 008e 3046     		mov	r0, r6
 2837 0090 FFF7FEFF 		bl	CPU_SR_Restore
 2838              	.LVL284:
2266:rtos/uCOS-III/Source/os_task.c ****              break;
 2839              		.loc 1 2266 14 view .LVU1135
2266:rtos/uCOS-III/Source/os_task.c ****              break;
 2840              		.loc 1 2266 14 view .LVU1136
2267:rtos/uCOS-III/Source/os_task.c **** 
 2841              		.loc 1 2267 14 view .LVU1137
 2842              	.L211:
2308:rtos/uCOS-III/Source/os_task.c ****         OSSched();
 2843              		.loc 1 2308 5 view .LVU1138
2308:rtos/uCOS-III/Source/os_task.c ****         OSSched();
 2844              		.loc 1 2308 19 is_stmt 0 view .LVU1139
 2845 0094 214B     		ldr	r3, .L220+12
 2846 0096 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2308:rtos/uCOS-III/Source/os_task.c ****         OSSched();
 2847              		.loc 1 2308 8 view .LVU1140
 2848 0098 012B     		cmp	r3, #1
 2849 009a D2D1     		bne	.L197
2309:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_NONE);
 2850              		.loc 1 2309 9 is_stmt 1 view .LVU1141
 2851 009c FFF7FEFF 		bl	OSSched
 2852              	.LVL285:
2310:rtos/uCOS-III/Source/os_task.c ****     }
 2853              		.loc 1 2310 48 view .LVU1142
 2854 00a0 CFE7     		b	.L197
 2855              	.LVL286:
 2856              	.L209:
2270:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2857              		.loc 1 2270 14 view .LVU1143
2270:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2858              		.loc 1 2270 32 is_stmt 0 view .LVU1144
 2859 00a2 0523     		movs	r3, #5
 2860 00a4 84F82E30 		strb	r3, [r4, #46]
2271:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
ARM GAS  /tmp/ccS1bHPU.s 			page 106


 2861              		.loc 1 2271 14 is_stmt 1 view .LVU1145
2271:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2862              		.loc 1 2271 32 is_stmt 0 view .LVU1146
 2863 00a8 0123     		movs	r3, #1
 2864 00aa 84F87E30 		strb	r3, [r4, #126]
2272:rtos/uCOS-III/Source/os_task.c ****              break;
 2865              		.loc 1 2272 14 is_stmt 1 view .LVU1147
2272:rtos/uCOS-III/Source/os_task.c ****              break;
 2866              		.loc 1 2272 14 view .LVU1148
2272:rtos/uCOS-III/Source/os_task.c ****              break;
 2867              		.loc 1 2272 14 view .LVU1149
 2868 00ae 3046     		mov	r0, r6
 2869              	.LVL287:
2272:rtos/uCOS-III/Source/os_task.c ****              break;
 2870              		.loc 1 2272 14 is_stmt 0 view .LVU1150
 2871 00b0 FFF7FEFF 		bl	CPU_SR_Restore
 2872              	.LVL288:
2272:rtos/uCOS-III/Source/os_task.c ****              break;
 2873              		.loc 1 2272 14 is_stmt 1 view .LVU1151
2272:rtos/uCOS-III/Source/os_task.c ****              break;
 2874              		.loc 1 2272 14 view .LVU1152
2273:rtos/uCOS-III/Source/os_task.c **** 
 2875              		.loc 1 2273 14 view .LVU1153
 2876 00b4 EEE7     		b	.L211
 2877              	.LVL289:
 2878              	.L208:
2276:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2879              		.loc 1 2276 14 view .LVU1154
2276:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2880              		.loc 1 2276 32 is_stmt 0 view .LVU1155
 2881 00b6 0623     		movs	r3, #6
 2882 00b8 84F82E30 		strb	r3, [r4, #46]
2277:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2883              		.loc 1 2277 14 is_stmt 1 view .LVU1156
2277:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2884              		.loc 1 2277 32 is_stmt 0 view .LVU1157
 2885 00bc 0123     		movs	r3, #1
 2886 00be 84F87E30 		strb	r3, [r4, #126]
2278:rtos/uCOS-III/Source/os_task.c ****              break;
 2887              		.loc 1 2278 14 is_stmt 1 view .LVU1158
2278:rtos/uCOS-III/Source/os_task.c ****              break;
 2888              		.loc 1 2278 14 view .LVU1159
2278:rtos/uCOS-III/Source/os_task.c ****              break;
 2889              		.loc 1 2278 14 view .LVU1160
 2890 00c2 3046     		mov	r0, r6
 2891              	.LVL290:
2278:rtos/uCOS-III/Source/os_task.c ****              break;
 2892              		.loc 1 2278 14 is_stmt 0 view .LVU1161
 2893 00c4 FFF7FEFF 		bl	CPU_SR_Restore
 2894              	.LVL291:
2278:rtos/uCOS-III/Source/os_task.c ****              break;
 2895              		.loc 1 2278 14 is_stmt 1 view .LVU1162
2278:rtos/uCOS-III/Source/os_task.c ****              break;
 2896              		.loc 1 2278 14 view .LVU1163
2279:rtos/uCOS-III/Source/os_task.c **** 
 2897              		.loc 1 2279 14 view .LVU1164
 2898 00c8 E4E7     		b	.L211
ARM GAS  /tmp/ccS1bHPU.s 			page 107


 2899              	.LVL292:
 2900              	.L207:
2282:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2901              		.loc 1 2282 14 view .LVU1165
2282:rtos/uCOS-III/Source/os_task.c ****              p_tcb->SuspendCtr = 1u;
 2902              		.loc 1 2282 32 is_stmt 0 view .LVU1166
 2903 00ca 0723     		movs	r3, #7
 2904 00cc 84F82E30 		strb	r3, [r4, #46]
2283:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2905              		.loc 1 2283 14 is_stmt 1 view .LVU1167
2283:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2906              		.loc 1 2283 32 is_stmt 0 view .LVU1168
 2907 00d0 0123     		movs	r3, #1
 2908 00d2 84F87E30 		strb	r3, [r4, #126]
2284:rtos/uCOS-III/Source/os_task.c ****              break;
 2909              		.loc 1 2284 14 is_stmt 1 view .LVU1169
2284:rtos/uCOS-III/Source/os_task.c ****              break;
 2910              		.loc 1 2284 14 view .LVU1170
2284:rtos/uCOS-III/Source/os_task.c ****              break;
 2911              		.loc 1 2284 14 view .LVU1171
 2912 00d6 3046     		mov	r0, r6
 2913              	.LVL293:
2284:rtos/uCOS-III/Source/os_task.c ****              break;
 2914              		.loc 1 2284 14 is_stmt 0 view .LVU1172
 2915 00d8 FFF7FEFF 		bl	CPU_SR_Restore
 2916              	.LVL294:
2284:rtos/uCOS-III/Source/os_task.c ****              break;
 2917              		.loc 1 2284 14 is_stmt 1 view .LVU1173
2284:rtos/uCOS-III/Source/os_task.c ****              break;
 2918              		.loc 1 2284 14 view .LVU1174
2285:rtos/uCOS-III/Source/os_task.c **** 
 2919              		.loc 1 2285 14 view .LVU1175
 2920 00dc DAE7     		b	.L211
 2921              	.LVL295:
 2922              	.L205:
2291:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2923              		.loc 1 2291 14 view .LVU1176
2291:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2924              		.loc 1 2291 23 is_stmt 0 view .LVU1177
 2925 00de 94F87E30 		ldrb	r3, [r4, #126]	@ zero_extendqisi2
2291:rtos/uCOS-III/Source/os_task.c ****                  CPU_CRITICAL_EXIT();
 2926              		.loc 1 2291 17 view .LVU1178
 2927 00e2 FF2B     		cmp	r3, #255
 2928 00e4 06D0     		beq	.L219
2297:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2929              		.loc 1 2297 14 is_stmt 1 view .LVU1179
2297:rtos/uCOS-III/Source/os_task.c ****              CPU_CRITICAL_EXIT();
 2930              		.loc 1 2297 31 is_stmt 0 view .LVU1180
 2931 00e6 0133     		adds	r3, r3, #1
 2932 00e8 84F87E30 		strb	r3, [r4, #126]
2298:rtos/uCOS-III/Source/os_task.c ****              break;
 2933              		.loc 1 2298 14 is_stmt 1 view .LVU1181
2298:rtos/uCOS-III/Source/os_task.c ****              break;
 2934              		.loc 1 2298 14 view .LVU1182
2298:rtos/uCOS-III/Source/os_task.c ****              break;
 2935              		.loc 1 2298 14 view .LVU1183
 2936 00ec 3046     		mov	r0, r6
ARM GAS  /tmp/ccS1bHPU.s 			page 108


 2937              	.LVL296:
2298:rtos/uCOS-III/Source/os_task.c ****              break;
 2938              		.loc 1 2298 14 is_stmt 0 view .LVU1184
 2939 00ee FFF7FEFF 		bl	CPU_SR_Restore
 2940              	.LVL297:
2298:rtos/uCOS-III/Source/os_task.c ****              break;
 2941              		.loc 1 2298 14 is_stmt 1 view .LVU1185
2298:rtos/uCOS-III/Source/os_task.c ****              break;
 2942              		.loc 1 2298 14 view .LVU1186
2299:rtos/uCOS-III/Source/os_task.c **** 
 2943              		.loc 1 2299 14 view .LVU1187
 2944 00f2 CFE7     		b	.L211
 2945              	.LVL298:
 2946              	.L219:
2292:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_TASK_SUSPEND_CTR_OVF;
 2947              		.loc 1 2292 18 view .LVU1188
2292:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_TASK_SUSPEND_CTR_OVF;
 2948              		.loc 1 2292 18 view .LVU1189
2292:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_TASK_SUSPEND_CTR_OVF;
 2949              		.loc 1 2292 18 view .LVU1190
 2950 00f4 3046     		mov	r0, r6
 2951              	.LVL299:
2292:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_TASK_SUSPEND_CTR_OVF;
 2952              		.loc 1 2292 18 is_stmt 0 view .LVU1191
 2953 00f6 FFF7FEFF 		bl	CPU_SR_Restore
 2954              	.LVL300:
2292:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_TASK_SUSPEND_CTR_OVF;
 2955              		.loc 1 2292 18 is_stmt 1 view .LVU1192
2292:rtos/uCOS-III/Source/os_task.c ****                 *p_err = OS_ERR_TASK_SUSPEND_CTR_OVF;
 2956              		.loc 1 2292 18 view .LVU1193
2293:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_CTR_OVF);
 2957              		.loc 1 2293 17 view .LVU1194
2293:rtos/uCOS-III/Source/os_task.c ****                  OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_TASK_SUSPEND_CTR_OVF);
 2958              		.loc 1 2293 24 is_stmt 0 view .LVU1195
 2959 00fa 47F26013 		movw	r3, #29024
 2960 00fe 2B80     		strh	r3, [r5]	@ movhi
2294:rtos/uCOS-III/Source/os_task.c ****                  return;
 2961              		.loc 1 2294 73 is_stmt 1 view .LVU1196
2295:rtos/uCOS-III/Source/os_task.c ****              }
 2962              		.loc 1 2295 18 view .LVU1197
 2963 0100 9FE7     		b	.L197
 2964              	.LVL301:
 2965              	.L204:
2302:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2966              		.loc 1 2302 14 view .LVU1198
2302:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2967              		.loc 1 2302 14 view .LVU1199
2302:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2968              		.loc 1 2302 14 view .LVU1200
 2969 0102 3046     		mov	r0, r6
 2970              	.LVL302:
2302:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2971              		.loc 1 2302 14 is_stmt 0 view .LVU1201
 2972 0104 FFF7FEFF 		bl	CPU_SR_Restore
 2973              	.LVL303:
2302:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2974              		.loc 1 2302 14 is_stmt 1 view .LVU1202
ARM GAS  /tmp/ccS1bHPU.s 			page 109


2302:rtos/uCOS-III/Source/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 2975              		.loc 1 2302 14 view .LVU1203
2303:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_STATE_INVALID);
 2976              		.loc 1 2303 13 view .LVU1204
2303:rtos/uCOS-III/Source/os_task.c ****              OS_TRACE_TASK_SUSPEND_EXIT(OS_ERR_STATE_INVALID);
 2977              		.loc 1 2303 20 is_stmt 0 view .LVU1205
 2978 0108 46F62D63 		movw	r3, #28205
 2979 010c 2B80     		strh	r3, [r5]	@ movhi
2304:rtos/uCOS-III/Source/os_task.c ****              return;
 2980              		.loc 1 2304 62 is_stmt 1 view .LVU1206
2305:rtos/uCOS-III/Source/os_task.c ****     }
 2981              		.loc 1 2305 14 view .LVU1207
 2982 010e 98E7     		b	.L197
 2983              	.L221:
 2984              		.align	2
 2985              	.L220:
 2986 0110 00000000 		.word	OSIntNestingCtr
 2987 0114 00000000 		.word	OSIdleTaskTCB
 2988 0118 00000000 		.word	OSTCBCurPtr
 2989 011c 00000000 		.word	OSRunning
 2990 0120 00000000 		.word	OSSchedLockNestingCtr
 2991              		.cfi_endproc
 2992              	.LFE16:
 2994              		.section	.text.OSTaskTimeQuantaSet,"ax",%progbits
 2995              		.align	1
 2996              		.global	OSTaskTimeQuantaSet
 2997              		.syntax unified
 2998              		.thumb
 2999              		.thumb_func
 3000              		.fpu fpv4-sp-d16
 3002              	OSTaskTimeQuantaSet:
 3003              	.LVL304:
 3004              	.LFB17:
2313:rtos/uCOS-III/Source/os_task.c **** #endif
2314:rtos/uCOS-III/Source/os_task.c **** 
2315:rtos/uCOS-III/Source/os_task.c **** 
2316:rtos/uCOS-III/Source/os_task.c **** /*
2317:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2318:rtos/uCOS-III/Source/os_task.c **** *                                                CHANGE A TASK'S TIME SLICE
2319:rtos/uCOS-III/Source/os_task.c **** *
2320:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to change the value of the task's specific time slice.
2321:rtos/uCOS-III/Source/os_task.c **** *
2322:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb        is the pointer to the TCB of the task to change. If you specify an NULL
2323:rtos/uCOS-III/Source/os_task.c **** *                           task is assumed.
2324:rtos/uCOS-III/Source/os_task.c **** *
2325:rtos/uCOS-III/Source/os_task.c **** *              time_quanta  is the number of ticks before the CPU is taken away when round-robin sc
2326:rtos/uCOS-III/Source/os_task.c **** *
2327:rtos/uCOS-III/Source/os_task.c **** *              p_err        is a pointer to an error code returned by this function:
2328:rtos/uCOS-III/Source/os_task.c **** *
2329:rtos/uCOS-III/Source/os_task.c **** *                               OS_ERR_NONE       Upon success
2330:rtos/uCOS-III/Source/os_task.c **** *                               OS_ERR_SET_ISR    If you called this function from an ISR
2331:rtos/uCOS-III/Source/os_task.c **** *
2332:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
2333:rtos/uCOS-III/Source/os_task.c **** *
2334:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : none
2335:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2336:rtos/uCOS-III/Source/os_task.c **** */
ARM GAS  /tmp/ccS1bHPU.s 			page 110


2337:rtos/uCOS-III/Source/os_task.c **** 
2338:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_SCHED_ROUND_ROBIN_EN > 0u)
2339:rtos/uCOS-III/Source/os_task.c **** void  OSTaskTimeQuantaSet (OS_TCB   *p_tcb,
2340:rtos/uCOS-III/Source/os_task.c ****                            OS_TICK   time_quanta,
2341:rtos/uCOS-III/Source/os_task.c ****                            OS_ERR   *p_err)
2342:rtos/uCOS-III/Source/os_task.c **** {
 3005              		.loc 1 2342 1 view -0
 3006              		.cfi_startproc
 3007              		@ args = 0, pretend = 0, frame = 0
 3008              		@ frame_needed = 0, uses_anonymous_args = 0
 3009              		.loc 1 2342 1 is_stmt 0 view .LVU1209
 3010 0000 70B5     		push	{r4, r5, r6, lr}
 3011              	.LCFI20:
 3012              		.cfi_def_cfa_offset 16
 3013              		.cfi_offset 4, -16
 3014              		.cfi_offset 5, -12
 3015              		.cfi_offset 6, -8
 3016              		.cfi_offset 14, -4
 3017 0002 1546     		mov	r5, r2
2343:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 3018              		.loc 1 2343 5 is_stmt 1 view .LVU1210
 3019              	.LVL305:
2344:rtos/uCOS-III/Source/os_task.c **** 
2345:rtos/uCOS-III/Source/os_task.c **** 
2346:rtos/uCOS-III/Source/os_task.c **** 
2347:rtos/uCOS-III/Source/os_task.c **** #ifdef OS_SAFETY_CRITICAL
2348:rtos/uCOS-III/Source/os_task.c ****     if (p_err == (OS_ERR *)0) {
2349:rtos/uCOS-III/Source/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
2350:rtos/uCOS-III/Source/os_task.c ****         return;
2351:rtos/uCOS-III/Source/os_task.c ****     }
2352:rtos/uCOS-III/Source/os_task.c **** #endif
2353:rtos/uCOS-III/Source/os_task.c **** 
2354:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
2355:rtos/uCOS-III/Source/os_task.c ****     if (OSIntNestingCtr > 0u) {                                 /* Can't call this function from an
 3020              		.loc 1 2355 5 view .LVU1211
 3021              		.loc 1 2355 25 is_stmt 0 view .LVU1212
 3022 0004 0F4B     		ldr	r3, .L231
 3023 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3024              		.loc 1 2355 8 view .LVU1213
 3025 0008 1BB1     		cbz	r3, .L223
2356:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_SET_ISR;
 3026              		.loc 1 2356 8 is_stmt 1 view .LVU1214
 3027              		.loc 1 2356 15 is_stmt 0 view .LVU1215
 3028 000a 46F6C653 		movw	r3, #28102
 3029 000e 1380     		strh	r3, [r2]	@ movhi
2357:rtos/uCOS-III/Source/os_task.c ****         return;
 3030              		.loc 1 2357 9 is_stmt 1 view .LVU1216
 3031              	.LVL306:
 3032              	.L222:
2358:rtos/uCOS-III/Source/os_task.c ****     }
2359:rtos/uCOS-III/Source/os_task.c **** #endif
2360:rtos/uCOS-III/Source/os_task.c **** 
2361:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_ENTER();
2362:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
2363:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
2364:rtos/uCOS-III/Source/os_task.c ****     }
2365:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 111


2366:rtos/uCOS-III/Source/os_task.c ****     if (time_quanta == 0u) {
2367:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuanta    = OSSchedRoundRobinDfltTimeQuanta;
2368:rtos/uCOS-III/Source/os_task.c ****     } else {
2369:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuanta    = time_quanta;
2370:rtos/uCOS-III/Source/os_task.c ****     }
2371:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb->TimeQuanta > p_tcb->TimeQuantaCtr) {
2372:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;
2373:rtos/uCOS-III/Source/os_task.c ****     }
2374:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
2375:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
2376:rtos/uCOS-III/Source/os_task.c **** }
 3033              		.loc 1 2376 1 is_stmt 0 view .LVU1217
 3034 0010 70BD     		pop	{r4, r5, r6, pc}
 3035              	.LVL307:
 3036              	.L223:
 3037              		.loc 1 2376 1 view .LVU1218
 3038 0012 0446     		mov	r4, r0
 3039 0014 0E46     		mov	r6, r1
2361:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 3040              		.loc 1 2361 5 is_stmt 1 view .LVU1219
2361:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 3041              		.loc 1 2361 5 view .LVU1220
2361:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 3042              		.loc 1 2361 5 view .LVU1221
 3043 0016 4020     		movs	r0, #64
 3044              	.LVL308:
2361:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 3045              		.loc 1 2361 5 is_stmt 0 view .LVU1222
 3046 0018 FFF7FEFF 		bl	CPU_SR_Save
 3047              	.LVL309:
2361:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 3048              		.loc 1 2361 5 is_stmt 1 view .LVU1223
2361:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 3049              		.loc 1 2361 5 view .LVU1224
2362:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 3050              		.loc 1 2362 5 view .LVU1225
2362:rtos/uCOS-III/Source/os_task.c ****         p_tcb = OSTCBCurPtr;
 3051              		.loc 1 2362 8 is_stmt 0 view .LVU1226
 3052 001c 6CB1     		cbz	r4, .L230
 3053              	.L225:
2366:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuanta    = OSSchedRoundRobinDfltTimeQuanta;
 3054              		.loc 1 2366 5 is_stmt 1 view .LVU1227
2366:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuanta    = OSSchedRoundRobinDfltTimeQuanta;
 3055              		.loc 1 2366 8 is_stmt 0 view .LVU1228
 3056 001e 7EB9     		cbnz	r6, .L226
2367:rtos/uCOS-III/Source/os_task.c ****     } else {
 3057              		.loc 1 2367 9 is_stmt 1 view .LVU1229
2367:rtos/uCOS-III/Source/os_task.c ****     } else {
 3058              		.loc 1 2367 30 is_stmt 0 view .LVU1230
 3059 0020 094B     		ldr	r3, .L231+4
 3060 0022 1B68     		ldr	r3, [r3]
 3061 0024 E364     		str	r3, [r4, #76]
 3062              	.L227:
2371:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;
 3063              		.loc 1 2371 5 is_stmt 1 view .LVU1231
2371:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;
 3064              		.loc 1 2371 14 is_stmt 0 view .LVU1232
ARM GAS  /tmp/ccS1bHPU.s 			page 112


 3065 0026 E36C     		ldr	r3, [r4, #76]
2371:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;
 3066              		.loc 1 2371 34 view .LVU1233
 3067 0028 226D     		ldr	r2, [r4, #80]
2371:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;
 3068              		.loc 1 2371 8 view .LVU1234
 3069 002a 9342     		cmp	r3, r2
 3070 002c 00D9     		bls	.L228
2372:rtos/uCOS-III/Source/os_task.c ****     }
 3071              		.loc 1 2372 9 is_stmt 1 view .LVU1235
2372:rtos/uCOS-III/Source/os_task.c ****     }
 3072              		.loc 1 2372 30 is_stmt 0 view .LVU1236
 3073 002e 2365     		str	r3, [r4, #80]
 3074              	.L228:
2374:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 3075              		.loc 1 2374 5 is_stmt 1 view .LVU1237
2374:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 3076              		.loc 1 2374 5 view .LVU1238
2374:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 3077              		.loc 1 2374 5 view .LVU1239
 3078 0030 FFF7FEFF 		bl	CPU_SR_Restore
 3079              	.LVL310:
2374:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 3080              		.loc 1 2374 5 view .LVU1240
2374:rtos/uCOS-III/Source/os_task.c ****    *p_err = OS_ERR_NONE;
 3081              		.loc 1 2374 5 view .LVU1241
2375:rtos/uCOS-III/Source/os_task.c **** }
 3082              		.loc 1 2375 4 view .LVU1242
2375:rtos/uCOS-III/Source/os_task.c **** }
 3083              		.loc 1 2375 11 is_stmt 0 view .LVU1243
 3084 0034 0023     		movs	r3, #0
 3085 0036 2B80     		strh	r3, [r5]	@ movhi
 3086 0038 EAE7     		b	.L222
 3087              	.LVL311:
 3088              	.L230:
2363:rtos/uCOS-III/Source/os_task.c ****     }
 3089              		.loc 1 2363 9 is_stmt 1 view .LVU1244
2363:rtos/uCOS-III/Source/os_task.c ****     }
 3090              		.loc 1 2363 15 is_stmt 0 view .LVU1245
 3091 003a 044B     		ldr	r3, .L231+8
 3092 003c 1C68     		ldr	r4, [r3]
 3093              	.LVL312:
2363:rtos/uCOS-III/Source/os_task.c ****     }
 3094              		.loc 1 2363 15 view .LVU1246
 3095 003e EEE7     		b	.L225
 3096              	.L226:
2369:rtos/uCOS-III/Source/os_task.c ****     }
 3097              		.loc 1 2369 9 is_stmt 1 view .LVU1247
2369:rtos/uCOS-III/Source/os_task.c ****     }
 3098              		.loc 1 2369 30 is_stmt 0 view .LVU1248
 3099 0040 E664     		str	r6, [r4, #76]
 3100 0042 F0E7     		b	.L227
 3101              	.L232:
 3102              		.align	2
 3103              	.L231:
 3104 0044 00000000 		.word	OSIntNestingCtr
 3105 0048 00000000 		.word	OSSchedRoundRobinDfltTimeQuanta
ARM GAS  /tmp/ccS1bHPU.s 			page 113


 3106 004c 00000000 		.word	OSTCBCurPtr
 3107              		.cfi_endproc
 3108              	.LFE17:
 3110              		.section	.text.OS_TaskInit,"ax",%progbits
 3111              		.align	1
 3112              		.global	OS_TaskInit
 3113              		.syntax unified
 3114              		.thumb
 3115              		.thumb_func
 3116              		.fpu fpv4-sp-d16
 3118              	OS_TaskInit:
 3119              	.LVL313:
 3120              	.LFB18:
2377:rtos/uCOS-III/Source/os_task.c **** #endif
2378:rtos/uCOS-III/Source/os_task.c **** 
2379:rtos/uCOS-III/Source/os_task.c **** 
2380:rtos/uCOS-III/Source/os_task.c **** /*
2381:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2382:rtos/uCOS-III/Source/os_task.c **** *                                            ADD/REMOVE TASK TO/FROM DEBUG LIST
2383:rtos/uCOS-III/Source/os_task.c **** *
2384:rtos/uCOS-III/Source/os_task.c **** * Description: These functions are called by uC/OS-III to add or remove an OS_TCB from the debug li
2385:rtos/uCOS-III/Source/os_task.c **** *
2386:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb     is a pointer to the OS_TCB to add/remove
2387:rtos/uCOS-III/Source/os_task.c **** *
2388:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
2389:rtos/uCOS-III/Source/os_task.c **** *
2390:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : These functions are INTERNAL to uC/OS-III and your application should not call it.
2391:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2392:rtos/uCOS-III/Source/os_task.c **** */
2393:rtos/uCOS-III/Source/os_task.c **** 
2394:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
2395:rtos/uCOS-III/Source/os_task.c **** void  OS_TaskDbgListAdd (OS_TCB  *p_tcb)
2396:rtos/uCOS-III/Source/os_task.c **** {
2397:rtos/uCOS-III/Source/os_task.c ****     p_tcb->DbgPrevPtr                = (OS_TCB *)0;
2398:rtos/uCOS-III/Source/os_task.c ****     if (OSTaskDbgListPtr == (OS_TCB *)0) {
2399:rtos/uCOS-III/Source/os_task.c ****         p_tcb->DbgNextPtr            = (OS_TCB *)0;
2400:rtos/uCOS-III/Source/os_task.c ****     } else {
2401:rtos/uCOS-III/Source/os_task.c ****         p_tcb->DbgNextPtr            =  OSTaskDbgListPtr;
2402:rtos/uCOS-III/Source/os_task.c ****         OSTaskDbgListPtr->DbgPrevPtr =  p_tcb;
2403:rtos/uCOS-III/Source/os_task.c ****     }
2404:rtos/uCOS-III/Source/os_task.c ****     OSTaskDbgListPtr                 =  p_tcb;
2405:rtos/uCOS-III/Source/os_task.c **** }
2406:rtos/uCOS-III/Source/os_task.c **** 
2407:rtos/uCOS-III/Source/os_task.c **** 
2408:rtos/uCOS-III/Source/os_task.c **** 
2409:rtos/uCOS-III/Source/os_task.c **** void  OS_TaskDbgListRemove (OS_TCB  *p_tcb)
2410:rtos/uCOS-III/Source/os_task.c **** {
2411:rtos/uCOS-III/Source/os_task.c ****     OS_TCB  *p_tcb_next;
2412:rtos/uCOS-III/Source/os_task.c ****     OS_TCB  *p_tcb_prev;
2413:rtos/uCOS-III/Source/os_task.c **** 
2414:rtos/uCOS-III/Source/os_task.c **** 
2415:rtos/uCOS-III/Source/os_task.c ****     p_tcb_prev = p_tcb->DbgPrevPtr;
2416:rtos/uCOS-III/Source/os_task.c ****     p_tcb_next = p_tcb->DbgNextPtr;
2417:rtos/uCOS-III/Source/os_task.c **** 
2418:rtos/uCOS-III/Source/os_task.c ****     if (p_tcb_prev == (OS_TCB *)0) {
2419:rtos/uCOS-III/Source/os_task.c ****         OSTaskDbgListPtr = p_tcb_next;
2420:rtos/uCOS-III/Source/os_task.c ****         if (p_tcb_next != (OS_TCB *)0) {
ARM GAS  /tmp/ccS1bHPU.s 			page 114


2421:rtos/uCOS-III/Source/os_task.c ****             p_tcb_next->DbgPrevPtr = (OS_TCB *)0;
2422:rtos/uCOS-III/Source/os_task.c ****         }
2423:rtos/uCOS-III/Source/os_task.c ****         p_tcb->DbgNextPtr = (OS_TCB *)0;
2424:rtos/uCOS-III/Source/os_task.c **** 
2425:rtos/uCOS-III/Source/os_task.c ****     } else if (p_tcb_next == (OS_TCB *)0) {
2426:rtos/uCOS-III/Source/os_task.c ****         p_tcb_prev->DbgNextPtr = (OS_TCB *)0;
2427:rtos/uCOS-III/Source/os_task.c ****         p_tcb->DbgPrevPtr      = (OS_TCB *)0;
2428:rtos/uCOS-III/Source/os_task.c **** 
2429:rtos/uCOS-III/Source/os_task.c ****     } else {
2430:rtos/uCOS-III/Source/os_task.c ****         p_tcb_prev->DbgNextPtr =  p_tcb_next;
2431:rtos/uCOS-III/Source/os_task.c ****         p_tcb_next->DbgPrevPtr =  p_tcb_prev;
2432:rtos/uCOS-III/Source/os_task.c ****         p_tcb->DbgNextPtr      = (OS_TCB *)0;
2433:rtos/uCOS-III/Source/os_task.c ****         p_tcb->DbgPrevPtr      = (OS_TCB *)0;
2434:rtos/uCOS-III/Source/os_task.c ****     }
2435:rtos/uCOS-III/Source/os_task.c **** }
2436:rtos/uCOS-III/Source/os_task.c **** #endif
2437:rtos/uCOS-III/Source/os_task.c **** 
2438:rtos/uCOS-III/Source/os_task.c **** 
2439:rtos/uCOS-III/Source/os_task.c **** /*
2440:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2441:rtos/uCOS-III/Source/os_task.c **** *                                             TASK MANAGER INITIALIZATION
2442:rtos/uCOS-III/Source/os_task.c **** *
2443:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called by OSInit() to initialize the task management.
2444:rtos/uCOS-III/Source/os_task.c **** *
2445:rtos/uCOS-III/Source/os_task.c **** 
2446:rtos/uCOS-III/Source/os_task.c **** * Argument(s): p_err        is a pointer to a variable that will contain an error code returned by 
2447:rtos/uCOS-III/Source/os_task.c **** *
2448:rtos/uCOS-III/Source/os_task.c **** *                                OS_ERR_NONE     the call was successful
2449:rtos/uCOS-III/Source/os_task.c **** *
2450:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
2451:rtos/uCOS-III/Source/os_task.c **** *
2452:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
2453:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2454:rtos/uCOS-III/Source/os_task.c **** */
2455:rtos/uCOS-III/Source/os_task.c **** 
2456:rtos/uCOS-III/Source/os_task.c **** void  OS_TaskInit (OS_ERR  *p_err)
2457:rtos/uCOS-III/Source/os_task.c **** {
 3121              		.loc 1 2457 1 is_stmt 1 view -0
 3122              		.cfi_startproc
 3123              		@ args = 0, pretend = 0, frame = 0
 3124              		@ frame_needed = 0, uses_anonymous_args = 0
 3125              		@ link register save eliminated.
2458:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
2459:rtos/uCOS-III/Source/os_task.c ****     OSTaskDbgListPtr = (OS_TCB *)0;
2460:rtos/uCOS-III/Source/os_task.c **** #endif
2461:rtos/uCOS-III/Source/os_task.c **** 
2462:rtos/uCOS-III/Source/os_task.c ****     OSTaskQty        = 0u;                                      /* Clear the number of tasks       
 3126              		.loc 1 2462 5 view .LVU1250
 3127              		.loc 1 2462 22 is_stmt 0 view .LVU1251
 3128 0000 0023     		movs	r3, #0
 3129 0002 034A     		ldr	r2, .L234
 3130 0004 1380     		strh	r3, [r2]	@ movhi
2463:rtos/uCOS-III/Source/os_task.c **** 
2464:rtos/uCOS-III/Source/os_task.c **** #if ((OS_CFG_TASK_PROFILE_EN > 0u) || (OS_CFG_DBG_EN > 0u))
2465:rtos/uCOS-III/Source/os_task.c ****     OSTaskCtxSwCtr   = 0u;                                      /* Clear the context switch counter
 3131              		.loc 1 2465 5 is_stmt 1 view .LVU1252
 3132              		.loc 1 2465 22 is_stmt 0 view .LVU1253
ARM GAS  /tmp/ccS1bHPU.s 			page 115


 3133 0006 034A     		ldr	r2, .L234+4
 3134 0008 1360     		str	r3, [r2]
2466:rtos/uCOS-III/Source/os_task.c **** #endif
2467:rtos/uCOS-III/Source/os_task.c **** 
2468:rtos/uCOS-III/Source/os_task.c ****    *p_err            = OS_ERR_NONE;
 3135              		.loc 1 2468 4 is_stmt 1 view .LVU1254
 3136              		.loc 1 2468 22 is_stmt 0 view .LVU1255
 3137 000a 0380     		strh	r3, [r0]	@ movhi
2469:rtos/uCOS-III/Source/os_task.c **** }
 3138              		.loc 1 2469 1 view .LVU1256
 3139 000c 7047     		bx	lr
 3140              	.L235:
 3141 000e 00BF     		.align	2
 3142              	.L234:
 3143 0010 00000000 		.word	OSTaskQty
 3144 0014 00000000 		.word	OSTaskCtxSwCtr
 3145              		.cfi_endproc
 3146              	.LFE18:
 3148              		.section	.text.OS_TaskInitTCB,"ax",%progbits
 3149              		.align	1
 3150              		.global	OS_TaskInitTCB
 3151              		.syntax unified
 3152              		.thumb
 3153              		.thumb_func
 3154              		.fpu fpv4-sp-d16
 3156              	OS_TaskInitTCB:
 3157              	.LVL314:
 3158              	.LFB19:
2470:rtos/uCOS-III/Source/os_task.c **** 
2471:rtos/uCOS-III/Source/os_task.c **** 
2472:rtos/uCOS-III/Source/os_task.c **** /*
2473:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2474:rtos/uCOS-III/Source/os_task.c **** *                                               INITIALIZE TCB FIELDS
2475:rtos/uCOS-III/Source/os_task.c **** *
2476:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called to initialize a TCB to default values
2477:rtos/uCOS-III/Source/os_task.c **** *
2478:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb    is a pointer to the TCB to initialize
2479:rtos/uCOS-III/Source/os_task.c **** *
2480:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
2481:rtos/uCOS-III/Source/os_task.c **** *
2482:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
2483:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2484:rtos/uCOS-III/Source/os_task.c **** */
2485:rtos/uCOS-III/Source/os_task.c **** 
2486:rtos/uCOS-III/Source/os_task.c **** void  OS_TaskInitTCB (OS_TCB  *p_tcb)
2487:rtos/uCOS-III/Source/os_task.c **** {
 3159              		.loc 1 2487 1 is_stmt 1 view -0
 3160              		.cfi_startproc
 3161              		@ args = 0, pretend = 0, frame = 0
 3162              		@ frame_needed = 0, uses_anonymous_args = 0
 3163              		.loc 1 2487 1 is_stmt 0 view .LVU1258
 3164 0000 38B5     		push	{r3, r4, r5, lr}
 3165              	.LCFI21:
 3166              		.cfi_def_cfa_offset 16
 3167              		.cfi_offset 3, -16
 3168              		.cfi_offset 4, -12
 3169              		.cfi_offset 5, -8
ARM GAS  /tmp/ccS1bHPU.s 			page 116


 3170              		.cfi_offset 14, -4
 3171 0002 0446     		mov	r4, r0
2488:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
2489:rtos/uCOS-III/Source/os_task.c ****     OS_REG_ID   reg_id;
 3172              		.loc 1 2489 5 is_stmt 1 view .LVU1259
2490:rtos/uCOS-III/Source/os_task.c **** #endif
2491:rtos/uCOS-III/Source/os_task.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
2492:rtos/uCOS-III/Source/os_task.c ****     OS_TLS_ID   id;
2493:rtos/uCOS-III/Source/os_task.c **** #endif
2494:rtos/uCOS-III/Source/os_task.c **** 
2495:rtos/uCOS-III/Source/os_task.c **** 
2496:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkPtr               = (CPU_STK          *)0;
 3173              		.loc 1 2496 5 view .LVU1260
 3174              		.loc 1 2496 33 is_stmt 0 view .LVU1261
 3175 0004 0025     		movs	r5, #0
 3176 0006 0560     		str	r5, [r0]
2497:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkLimitPtr          = (CPU_STK          *)0;
 3177              		.loc 1 2497 5 is_stmt 1 view .LVU1262
 3178              		.loc 1 2497 33 is_stmt 0 view .LVU1263
 3179 0008 8560     		str	r5, [r0, #8]
2498:rtos/uCOS-III/Source/os_task.c **** 
2499:rtos/uCOS-III/Source/os_task.c ****     p_tcb->ExtPtr               = (void             *)0;
 3180              		.loc 1 2499 5 is_stmt 1 view .LVU1264
 3181              		.loc 1 2499 33 is_stmt 0 view .LVU1265
 3182 000a 4560     		str	r5, [r0, #4]
2500:rtos/uCOS-III/Source/os_task.c **** 
2501:rtos/uCOS-III/Source/os_task.c ****     p_tcb->NextPtr              = (OS_TCB           *)0;
 3183              		.loc 1 2501 5 is_stmt 1 view .LVU1266
 3184              		.loc 1 2501 33 is_stmt 0 view .LVU1267
 3185 000c C560     		str	r5, [r0, #12]
2502:rtos/uCOS-III/Source/os_task.c ****     p_tcb->PrevPtr              = (OS_TCB           *)0;
 3186              		.loc 1 2502 5 is_stmt 1 view .LVU1268
 3187              		.loc 1 2502 33 is_stmt 0 view .LVU1269
 3188 000e 0561     		str	r5, [r0, #16]
2503:rtos/uCOS-III/Source/os_task.c **** 
2504:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TICK_EN > 0u)
2505:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TickNextPtr          = (OS_TCB           *)0;
 3189              		.loc 1 2505 5 is_stmt 1 view .LVU1270
 3190              		.loc 1 2505 33 is_stmt 0 view .LVU1271
 3191 0010 4561     		str	r5, [r0, #20]
2506:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TickPrevPtr          = (OS_TCB           *)0;
 3192              		.loc 1 2506 5 is_stmt 1 view .LVU1272
 3193              		.loc 1 2506 33 is_stmt 0 view .LVU1273
 3194 0012 8561     		str	r5, [r0, #24]
2507:rtos/uCOS-III/Source/os_task.c **** #endif
2508:rtos/uCOS-III/Source/os_task.c **** 
2509:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
2510:rtos/uCOS-III/Source/os_task.c ****     p_tcb->NamePtr              = (CPU_CHAR *)((void *)"?Task");
2511:rtos/uCOS-III/Source/os_task.c **** #endif
2512:rtos/uCOS-III/Source/os_task.c **** 
2513:rtos/uCOS-III/Source/os_task.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_STK_CHK_EN > 0u))
2514:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkBasePtr           = (CPU_STK          *)0;
 3195              		.loc 1 2514 5 is_stmt 1 view .LVU1274
 3196              		.loc 1 2514 33 is_stmt 0 view .LVU1275
 3197 0014 C561     		str	r5, [r0, #28]
2515:rtos/uCOS-III/Source/os_task.c **** #endif
2516:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 117


2517:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
2518:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TaskEntryAddr        = (OS_TASK_PTR       )0;
2519:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TaskEntryArg         = (void             *)0;
2520:rtos/uCOS-III/Source/os_task.c **** #endif
2521:rtos/uCOS-III/Source/os_task.c **** 
2522:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
2523:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TS                   =                     0u;
2524:rtos/uCOS-III/Source/os_task.c **** #endif
2525:rtos/uCOS-III/Source/os_task.c **** 
2526:rtos/uCOS-III/Source/os_task.c **** #if (OS_MSG_EN > 0u)
2527:rtos/uCOS-III/Source/os_task.c ****     p_tcb->MsgPtr               = (void             *)0;
 3198              		.loc 1 2527 5 is_stmt 1 view .LVU1276
 3199              		.loc 1 2527 33 is_stmt 0 view .LVU1277
 3200 0016 4565     		str	r5, [r0, #84]
2528:rtos/uCOS-III/Source/os_task.c ****     p_tcb->MsgSize              =                     0u;
 3201              		.loc 1 2528 5 is_stmt 1 view .LVU1278
 3202              		.loc 1 2528 33 is_stmt 0 view .LVU1279
 3203 0018 A0F85850 		strh	r5, [r0, #88]	@ movhi
2529:rtos/uCOS-III/Source/os_task.c **** #endif
2530:rtos/uCOS-III/Source/os_task.c **** 
2531:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
2532:rtos/uCOS-III/Source/os_task.c ****     OS_MsgQInit(&p_tcb->MsgQ,
 3204              		.loc 1 2532 5 is_stmt 1 view .LVU1280
 3205 001c 2946     		mov	r1, r5
 3206 001e 5C30     		adds	r0, r0, #92
 3207              	.LVL315:
 3208              		.loc 1 2532 5 is_stmt 0 view .LVU1281
 3209 0020 FFF7FEFF 		bl	OS_MsgQInit
 3210              	.LVL316:
2533:rtos/uCOS-III/Source/os_task.c ****                  0u);
2534:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
2535:rtos/uCOS-III/Source/os_task.c ****     p_tcb->MsgQPendTime         =                     0u;
 3211              		.loc 1 2535 5 is_stmt 1 view .LVU1282
 3212              		.loc 1 2535 33 is_stmt 0 view .LVU1283
 3213 0024 A566     		str	r5, [r4, #104]
2536:rtos/uCOS-III/Source/os_task.c ****     p_tcb->MsgQPendTimeMax      =                     0u;
 3214              		.loc 1 2536 5 is_stmt 1 view .LVU1284
 3215              		.loc 1 2536 33 is_stmt 0 view .LVU1285
 3216 0026 E566     		str	r5, [r4, #108]
2537:rtos/uCOS-III/Source/os_task.c **** #endif
2538:rtos/uCOS-III/Source/os_task.c **** #endif
2539:rtos/uCOS-III/Source/os_task.c **** 
2540:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_FLAG_EN > 0u)
2541:rtos/uCOS-III/Source/os_task.c ****     p_tcb->FlagsPend            =                     0u;
 3217              		.loc 1 2541 5 is_stmt 1 view .LVU1286
 3218              		.loc 1 2541 33 is_stmt 0 view .LVU1287
 3219 0028 6567     		str	r5, [r4, #116]
2542:rtos/uCOS-III/Source/os_task.c ****     p_tcb->FlagsOpt             =                     0u;
 3220              		.loc 1 2542 5 is_stmt 1 view .LVU1288
 3221              		.loc 1 2542 33 is_stmt 0 view .LVU1289
 3222 002a A4F87C50 		strh	r5, [r4, #124]	@ movhi
2543:rtos/uCOS-III/Source/os_task.c ****     p_tcb->FlagsRdy             =                     0u;
 3223              		.loc 1 2543 5 is_stmt 1 view .LVU1290
 3224              		.loc 1 2543 33 is_stmt 0 view .LVU1291
 3225 002e A567     		str	r5, [r4, #120]
2544:rtos/uCOS-III/Source/os_task.c **** #endif
2545:rtos/uCOS-III/Source/os_task.c **** 
ARM GAS  /tmp/ccS1bHPU.s 			page 118


2546:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
2547:rtos/uCOS-III/Source/os_task.c ****     for (reg_id = 0u; reg_id < OS_CFG_TASK_REG_TBL_SIZE; reg_id++) {
 3226              		.loc 1 2547 5 is_stmt 1 view .LVU1292
 3227              	.LVL317:
 3228              	.L237:
 3229              		.loc 1 2547 23 discriminator 1 view .LVU1293
 3230              		.loc 1 2547 5 is_stmt 0 discriminator 1 view .LVU1294
 3231 0030 6DB3     		cbz	r5, .L238
2548:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_id]   =                     0u;
2549:rtos/uCOS-III/Source/os_task.c ****     }
2550:rtos/uCOS-III/Source/os_task.c **** #endif
2551:rtos/uCOS-III/Source/os_task.c **** 
2552:rtos/uCOS-III/Source/os_task.c **** #if defined(OS_CFG_TLS_TBL_SIZE) && (OS_CFG_TLS_TBL_SIZE > 0u)
2553:rtos/uCOS-III/Source/os_task.c ****     for (id = 0u; id < OS_CFG_TLS_TBL_SIZE; id++) {
2554:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TLS_Tbl[id]      =                     0u;
2555:rtos/uCOS-III/Source/os_task.c ****     }
2556:rtos/uCOS-III/Source/os_task.c **** #endif
2557:rtos/uCOS-III/Source/os_task.c **** 
2558:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SemCtr               =                     0u;
 3232              		.loc 1 2558 5 is_stmt 1 view .LVU1295
 3233              		.loc 1 2558 33 is_stmt 0 view .LVU1296
 3234 0032 0023     		movs	r3, #0
 3235 0034 2364     		str	r3, [r4, #64]
2559:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
2560:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SemPendTime          =                     0u;
 3236              		.loc 1 2560 5 is_stmt 1 view .LVU1297
 3237              		.loc 1 2560 33 is_stmt 0 view .LVU1298
 3238 0036 C4F89830 		str	r3, [r4, #152]
2561:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SemPendTimeMax       =                     0u;
 3239              		.loc 1 2561 5 is_stmt 1 view .LVU1299
 3240              		.loc 1 2561 33 is_stmt 0 view .LVU1300
 3241 003a C4F89C30 		str	r3, [r4, #156]
2562:rtos/uCOS-III/Source/os_task.c **** #endif
2563:rtos/uCOS-III/Source/os_task.c **** 
2564:rtos/uCOS-III/Source/os_task.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_STK_CHK_EN > 0u))
2565:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkSize              =                     0u;
 3242              		.loc 1 2565 5 is_stmt 1 view .LVU1301
 3243              		.loc 1 2565 33 is_stmt 0 view .LVU1302
 3244 003e A363     		str	r3, [r4, #56]
2566:rtos/uCOS-III/Source/os_task.c **** #endif
2567:rtos/uCOS-III/Source/os_task.c **** 
2568:rtos/uCOS-III/Source/os_task.c **** 
2569:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_SUSPEND_EN > 0u)
2570:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SuspendCtr           =                     0u;
 3245              		.loc 1 2570 5 is_stmt 1 view .LVU1303
 3246              		.loc 1 2570 33 is_stmt 0 view .LVU1304
 3247 0040 84F87E30 		strb	r3, [r4, #126]
2571:rtos/uCOS-III/Source/os_task.c **** #endif
2572:rtos/uCOS-III/Source/os_task.c **** 
2573:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_STAT_TASK_STK_CHK_EN > 0u)
2574:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkFree              =                     0u;
 3248              		.loc 1 2574 5 is_stmt 1 view .LVU1305
 3249              		.loc 1 2574 33 is_stmt 0 view .LVU1306
 3250 0044 C4F8A430 		str	r3, [r4, #164]
2575:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkUsed              =                     0u;
 3251              		.loc 1 2575 5 is_stmt 1 view .LVU1307
 3252              		.loc 1 2575 33 is_stmt 0 view .LVU1308
ARM GAS  /tmp/ccS1bHPU.s 			page 119


 3253 0048 C4F8A030 		str	r3, [r4, #160]
2576:rtos/uCOS-III/Source/os_task.c **** #endif
2577:rtos/uCOS-III/Source/os_task.c **** 
2578:rtos/uCOS-III/Source/os_task.c ****     p_tcb->Opt                  =                     0u;
 3254              		.loc 1 2578 5 is_stmt 1 view .LVU1309
 3255              		.loc 1 2578 33 is_stmt 0 view .LVU1310
 3256 004c A387     		strh	r3, [r4, #60]	@ movhi
2579:rtos/uCOS-III/Source/os_task.c **** 
2580:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TICK_EN > 0u)
2581:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TickRemain           =                     0u;
 3257              		.loc 1 2581 5 is_stmt 1 view .LVU1311
 3258              		.loc 1 2581 33 is_stmt 0 view .LVU1312
 3259 004e 6364     		str	r3, [r4, #68]
2582:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TickCtrPrev          =                     0u;
 3260              		.loc 1 2582 5 is_stmt 1 view .LVU1313
 3261              		.loc 1 2582 33 is_stmt 0 view .LVU1314
 3262 0050 A364     		str	r3, [r4, #72]
2583:rtos/uCOS-III/Source/os_task.c **** #endif
2584:rtos/uCOS-III/Source/os_task.c **** 
2585:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_SCHED_ROUND_ROBIN_EN > 0u)
2586:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TimeQuanta           =                     0u;
 3263              		.loc 1 2586 5 is_stmt 1 view .LVU1315
 3264              		.loc 1 2586 33 is_stmt 0 view .LVU1316
 3265 0052 E364     		str	r3, [r4, #76]
2587:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TimeQuantaCtr        =                     0u;
 3266              		.loc 1 2587 5 is_stmt 1 view .LVU1317
 3267              		.loc 1 2587 33 is_stmt 0 view .LVU1318
 3268 0054 2365     		str	r3, [r4, #80]
2588:rtos/uCOS-III/Source/os_task.c **** #endif
2589:rtos/uCOS-III/Source/os_task.c **** 
2590:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_PROFILE_EN > 0u)
2591:rtos/uCOS-III/Source/os_task.c ****     p_tcb->CPUUsage             =                     0u;
 3269              		.loc 1 2591 5 is_stmt 1 view .LVU1319
 3270              		.loc 1 2591 33 is_stmt 0 view .LVU1320
 3271 0056 A4F88030 		strh	r3, [r4, #128]	@ movhi
2592:rtos/uCOS-III/Source/os_task.c ****     p_tcb->CPUUsageMax          =                     0u;
 3272              		.loc 1 2592 5 is_stmt 1 view .LVU1321
 3273              		.loc 1 2592 33 is_stmt 0 view .LVU1322
 3274 005a A4F88230 		strh	r3, [r4, #130]	@ movhi
2593:rtos/uCOS-III/Source/os_task.c ****     p_tcb->CtxSwCtr             =                     0u;
 3275              		.loc 1 2593 5 is_stmt 1 view .LVU1323
 3276              		.loc 1 2593 33 is_stmt 0 view .LVU1324
 3277 005e C4F88430 		str	r3, [r4, #132]
2594:rtos/uCOS-III/Source/os_task.c ****     p_tcb->CyclesDelta          =                     0u;
 3278              		.loc 1 2594 5 is_stmt 1 view .LVU1325
 3279              		.loc 1 2594 33 is_stmt 0 view .LVU1326
 3280 0062 C4F88830 		str	r3, [r4, #136]
2595:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TS_EN > 0u)
2596:rtos/uCOS-III/Source/os_task.c ****     p_tcb->CyclesStart          =  OS_TS_GET();                 /* Read the current timestamp and s
2597:rtos/uCOS-III/Source/os_task.c **** #else
2598:rtos/uCOS-III/Source/os_task.c ****     p_tcb->CyclesStart          =                     0u;
 3281              		.loc 1 2598 5 is_stmt 1 view .LVU1327
 3282              		.loc 1 2598 33 is_stmt 0 view .LVU1328
 3283 0066 C4F88C30 		str	r3, [r4, #140]
2599:rtos/uCOS-III/Source/os_task.c **** #endif
2600:rtos/uCOS-III/Source/os_task.c ****     p_tcb->CyclesTotal          =                     0u;
 3284              		.loc 1 2600 5 is_stmt 1 view .LVU1329
ARM GAS  /tmp/ccS1bHPU.s 			page 120


 3285              		.loc 1 2600 33 is_stmt 0 view .LVU1330
 3286 006a C4F89030 		str	r3, [r4, #144]
2601:rtos/uCOS-III/Source/os_task.c **** #endif
2602:rtos/uCOS-III/Source/os_task.c **** 
2603:rtos/uCOS-III/Source/os_task.c **** #ifdef CPU_CFG_INT_DIS_MEAS_EN
2604:rtos/uCOS-III/Source/os_task.c ****     p_tcb->IntDisTimeMax        =                     0u;
2605:rtos/uCOS-III/Source/os_task.c **** #endif
2606:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u)
2607:rtos/uCOS-III/Source/os_task.c ****     p_tcb->SchedLockTimeMax     =                     0u;
2608:rtos/uCOS-III/Source/os_task.c **** #endif
2609:rtos/uCOS-III/Source/os_task.c **** 
2610:rtos/uCOS-III/Source/os_task.c ****     p_tcb->PendNextPtr          = (OS_TCB           *)0;
 3287              		.loc 1 2610 5 is_stmt 1 view .LVU1331
 3288              		.loc 1 2610 33 is_stmt 0 view .LVU1332
 3289 006e 2362     		str	r3, [r4, #32]
2611:rtos/uCOS-III/Source/os_task.c ****     p_tcb->PendPrevPtr          = (OS_TCB           *)0;
 3290              		.loc 1 2611 5 is_stmt 1 view .LVU1333
 3291              		.loc 1 2611 33 is_stmt 0 view .LVU1334
 3292 0070 6362     		str	r3, [r4, #36]
2612:rtos/uCOS-III/Source/os_task.c ****     p_tcb->PendObjPtr           = (OS_PEND_OBJ      *)0;
 3293              		.loc 1 2612 5 is_stmt 1 view .LVU1335
 3294              		.loc 1 2612 33 is_stmt 0 view .LVU1336
 3295 0072 A362     		str	r3, [r4, #40]
2613:rtos/uCOS-III/Source/os_task.c ****     p_tcb->PendOn               =  OS_TASK_PEND_ON_NOTHING;
 3296              		.loc 1 2613 5 is_stmt 1 view .LVU1337
 3297              		.loc 1 2613 33 is_stmt 0 view .LVU1338
 3298 0074 84F82C30 		strb	r3, [r4, #44]
2614:rtos/uCOS-III/Source/os_task.c ****     p_tcb->PendStatus           =  OS_STATUS_PEND_OK;
 3299              		.loc 1 2614 5 is_stmt 1 view .LVU1339
 3300              		.loc 1 2614 33 is_stmt 0 view .LVU1340
 3301 0078 84F82D30 		strb	r3, [r4, #45]
2615:rtos/uCOS-III/Source/os_task.c ****     p_tcb->TaskState            =  OS_TASK_STATE_RDY;
 3302              		.loc 1 2615 5 is_stmt 1 view .LVU1341
 3303              		.loc 1 2615 33 is_stmt 0 view .LVU1342
 3304 007c 84F82E30 		strb	r3, [r4, #46]
2616:rtos/uCOS-III/Source/os_task.c **** 
2617:rtos/uCOS-III/Source/os_task.c ****     p_tcb->Prio                 =  OS_PRIO_INIT;
 3305              		.loc 1 2617 5 is_stmt 1 view .LVU1343
 3306              		.loc 1 2617 33 is_stmt 0 view .LVU1344
 3307 0080 4022     		movs	r2, #64
 3308 0082 84F82F20 		strb	r2, [r4, #47]
2618:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
2619:rtos/uCOS-III/Source/os_task.c ****     p_tcb->BasePrio             =  OS_PRIO_INIT;
 3309              		.loc 1 2619 5 is_stmt 1 view .LVU1345
 3310              		.loc 1 2619 33 is_stmt 0 view .LVU1346
 3311 0086 84F83020 		strb	r2, [r4, #48]
2620:rtos/uCOS-III/Source/os_task.c ****     p_tcb->MutexGrpHeadPtr      = (OS_MUTEX         *)0;
 3312              		.loc 1 2620 5 is_stmt 1 view .LVU1347
 3313              		.loc 1 2620 33 is_stmt 0 view .LVU1348
 3314 008a 6363     		str	r3, [r4, #52]
2621:rtos/uCOS-III/Source/os_task.c **** #endif
2622:rtos/uCOS-III/Source/os_task.c **** 
2623:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_DBG_EN > 0u)
2624:rtos/uCOS-III/Source/os_task.c ****     p_tcb->DbgPrevPtr           = (OS_TCB           *)0;
2625:rtos/uCOS-III/Source/os_task.c ****     p_tcb->DbgNextPtr           = (OS_TCB           *)0;
2626:rtos/uCOS-III/Source/os_task.c ****     p_tcb->DbgNamePtr           = (CPU_CHAR *)((void *)" ");
2627:rtos/uCOS-III/Source/os_task.c **** #endif
ARM GAS  /tmp/ccS1bHPU.s 			page 121


2628:rtos/uCOS-III/Source/os_task.c **** }
 3315              		.loc 1 2628 1 view .LVU1349
 3316 008c 38BD     		pop	{r3, r4, r5, pc}
 3317              	.LVL318:
 3318              	.L238:
2548:rtos/uCOS-III/Source/os_task.c ****     }
 3319              		.loc 1 2548 9 is_stmt 1 discriminator 3 view .LVU1350
2548:rtos/uCOS-III/Source/os_task.c ****     }
 3320              		.loc 1 2548 33 is_stmt 0 discriminator 3 view .LVU1351
 3321 008e 05F11C03 		add	r3, r5, #28
 3322 0092 0022     		movs	r2, #0
 3323 0094 44F82320 		str	r2, [r4, r3, lsl #2]
2547:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_id]   =                     0u;
 3324              		.loc 1 2547 58 is_stmt 1 discriminator 3 view .LVU1352
2547:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_id]   =                     0u;
 3325              		.loc 1 2547 64 is_stmt 0 discriminator 3 view .LVU1353
 3326 0098 0135     		adds	r5, r5, #1
 3327              	.LVL319:
2547:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_id]   =                     0u;
 3328              		.loc 1 2547 64 discriminator 3 view .LVU1354
 3329 009a EDB2     		uxtb	r5, r5
 3330              	.LVL320:
2547:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_id]   =                     0u;
 3331              		.loc 1 2547 64 discriminator 3 view .LVU1355
 3332 009c C8E7     		b	.L237
 3333              		.cfi_endproc
 3334              	.LFE19:
 3336              		.section	.text.OSTaskCreate,"ax",%progbits
 3337              		.align	1
 3338              		.global	OSTaskCreate
 3339              		.syntax unified
 3340              		.thumb
 3341              		.thumb_func
 3342              		.fpu fpv4-sp-d16
 3344              	OSTaskCreate:
 3345              	.LVL321:
 3346              	.LFB1:
 244:rtos/uCOS-III/Source/os_task.c ****     CPU_STK_SIZE   i;
 3347              		.loc 1 244 1 is_stmt 1 view -0
 3348              		.cfi_startproc
 3349              		@ args = 36, pretend = 0, frame = 0
 3350              		@ frame_needed = 0, uses_anonymous_args = 0
 244:rtos/uCOS-III/Source/os_task.c ****     CPU_STK_SIZE   i;
 3351              		.loc 1 244 1 is_stmt 0 view .LVU1357
 3352 0000 2DE9F04E 		push	{r4, r5, r6, r7, r9, r10, fp, lr}
 3353              	.LCFI22:
 3354              		.cfi_def_cfa_offset 32
 3355              		.cfi_offset 4, -32
 3356              		.cfi_offset 5, -28
 3357              		.cfi_offset 6, -24
 3358              		.cfi_offset 7, -20
 3359              		.cfi_offset 9, -16
 3360              		.cfi_offset 10, -12
 3361              		.cfi_offset 11, -8
 3362              		.cfi_offset 14, -4
 3363 0004 82B0     		sub	sp, sp, #8
 3364              	.LCFI23:
ARM GAS  /tmp/ccS1bHPU.s 			page 122


 3365              		.cfi_def_cfa_offset 40
 3366 0006 9DF82890 		ldrb	r9, [sp, #40]	@ zero_extendqisi2
 3367 000a BDF844A0 		ldrh	r10, [sp, #68]
 245:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 3368              		.loc 1 245 5 is_stmt 1 view .LVU1358
 247:rtos/uCOS-III/Source/os_task.c **** #endif
 3369              		.loc 1 247 5 view .LVU1359
 253:rtos/uCOS-III/Source/os_task.c ****     CPU_STK       *p_stk_limit;
 3370              		.loc 1 253 5 view .LVU1360
 254:rtos/uCOS-III/Source/os_task.c ****     CPU_SR_ALLOC();
 3371              		.loc 1 254 5 view .LVU1361
 255:rtos/uCOS-III/Source/os_task.c **** 
 3372              		.loc 1 255 5 view .LVU1362
 3373              	.LVL322:
 274:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3374              		.loc 1 274 5 view .LVU1363
 274:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3375              		.loc 1 274 25 is_stmt 0 view .LVU1364
 3376 000e 5D49     		ldr	r1, .L269
 3377              	.LVL323:
 274:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3378              		.loc 1 274 25 view .LVU1365
 3379 0010 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 274:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3380              		.loc 1 274 8 view .LVU1366
 3381 0012 EDB9     		cbnz	r5, .L261
 3382 0014 0446     		mov	r4, r0
 3383 0016 1646     		mov	r6, r2
 3384 0018 1F46     		mov	r7, r3
 282:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3385              		.loc 1 282 5 is_stmt 1 view .LVU1367
 282:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3386              		.loc 1 282 8 is_stmt 0 view .LVU1368
 3387 001a 00B3     		cbz	r0, .L262
 287:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3388              		.loc 1 287 5 is_stmt 1 view .LVU1369
 287:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3389              		.loc 1 287 8 is_stmt 0 view .LVU1370
 3390 001c 22B3     		cbz	r2, .L263
 292:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3391              		.loc 1 292 5 is_stmt 1 view .LVU1371
 292:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3392              		.loc 1 292 8 is_stmt 0 view .LVU1372
 3393 001e 0B9B     		ldr	r3, [sp, #44]
 3394              	.LVL324:
 292:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3395              		.loc 1 292 8 view .LVU1373
 3396 0020 3BB3     		cbz	r3, .L264
 297:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3397              		.loc 1 297 5 is_stmt 1 view .LVU1374
 297:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3398              		.loc 1 297 18 is_stmt 0 view .LVU1375
 3399 0022 594B     		ldr	r3, .L269+4
 3400 0024 1B68     		ldr	r3, [r3]
 297:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3401              		.loc 1 297 8 view .LVU1376
 3402 0026 0D9A     		ldr	r2, [sp, #52]
ARM GAS  /tmp/ccS1bHPU.s 			page 123


 3403              	.LVL325:
 297:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3404              		.loc 1 297 8 view .LVU1377
 3405 0028 9342     		cmp	r3, r2
 3406 002a 27D8     		bhi	.L265
 302:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3407              		.loc 1 302 5 is_stmt 1 view .LVU1378
 302:rtos/uCOS-III/Source/os_task.c ****         OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3408              		.loc 1 302 8 is_stmt 0 view .LVU1379
 3409 002c 0D9B     		ldr	r3, [sp, #52]
 3410 002e 0C9A     		ldr	r2, [sp, #48]
 3411 0030 9342     		cmp	r3, r2
 3412 0032 28D9     		bls	.L266
 307:rtos/uCOS-III/Source/os_task.c ****         (prio != (OS_CFG_PRIO_MAX - 1u))) {
 3413              		.loc 1 307 5 is_stmt 1 view .LVU1380
 307:rtos/uCOS-III/Source/os_task.c ****         (prio != (OS_CFG_PRIO_MAX - 1u))) {
 3414              		.loc 1 307 8 is_stmt 0 view .LVU1381
 3415 0034 B9F13F0F 		cmp	r9, #63
 3416 0038 2AD8     		bhi	.L267
 315:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 3417              		.loc 1 315 5 is_stmt 1 view .LVU1382
 315:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_IDLE_EN > 0u)
 3418              		.loc 1 315 8 is_stmt 0 view .LVU1383
 3419 003a B9F13F0F 		cmp	r9, #63
 3420 003e 2CD1     		bne	.L249
 317:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3421              		.loc 1 317 9 is_stmt 1 view .LVU1384
 317:rtos/uCOS-III/Source/os_task.c ****             OS_TRACE_TASK_CREATE_FAILED(p_tcb);
 3422              		.loc 1 317 12 is_stmt 0 view .LVU1385
 3423 0040 524B     		ldr	r3, .L269+8
 3424 0042 9842     		cmp	r0, r3
 3425 0044 29D0     		beq	.L249
 318:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_PRIO_INVALID;                        /* Not allowed to use same priority
 3426              		.loc 1 318 47 is_stmt 1 view .LVU1386
 319:rtos/uCOS-III/Source/os_task.c ****             return;
 3427              		.loc 1 319 12 view .LVU1387
 319:rtos/uCOS-III/Source/os_task.c ****             return;
 3428              		.loc 1 319 19 is_stmt 0 view .LVU1388
 3429 0046 46F27323 		movw	r3, #25203
 3430 004a 129A     		ldr	r2, [sp, #72]
 3431 004c 1380     		strh	r3, [r2]	@ movhi
 320:rtos/uCOS-III/Source/os_task.c ****         }
 3432              		.loc 1 320 13 is_stmt 1 view .LVU1389
 3433 004e 03E0     		b	.L240
 3434              	.LVL326:
 3435              	.L261:
 275:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_CREATE_ISR;
 3436              		.loc 1 275 43 view .LVU1390
 276:rtos/uCOS-III/Source/os_task.c ****         return;
 3437              		.loc 1 276 8 view .LVU1391
 276:rtos/uCOS-III/Source/os_task.c ****         return;
 3438              		.loc 1 276 15 is_stmt 0 view .LVU1392
 3439 0050 47F24A13 		movw	r3, #29002
 3440              	.LVL327:
 276:rtos/uCOS-III/Source/os_task.c ****         return;
 3441              		.loc 1 276 15 view .LVU1393
 3442 0054 129A     		ldr	r2, [sp, #72]
ARM GAS  /tmp/ccS1bHPU.s 			page 124


 3443              	.LVL328:
 276:rtos/uCOS-III/Source/os_task.c ****         return;
 3444              		.loc 1 276 15 view .LVU1394
 3445 0056 1380     		strh	r3, [r2]	@ movhi
 277:rtos/uCOS-III/Source/os_task.c ****     }
 3446              		.loc 1 277 9 is_stmt 1 view .LVU1395
 3447              	.LVL329:
 3448              	.L240:
 458:rtos/uCOS-III/Source/os_task.c **** 
 3449              		.loc 1 458 1 is_stmt 0 view .LVU1396
 3450 0058 02B0     		add	sp, sp, #8
 3451              	.LCFI24:
 3452              		.cfi_remember_state
 3453              		.cfi_def_cfa_offset 32
 3454              		@ sp needed
 3455 005a BDE8F08E 		pop	{r4, r5, r6, r7, r9, r10, fp, pc}
 3456              	.LVL330:
 3457              	.L262:
 3458              	.LCFI25:
 3459              		.cfi_restore_state
 283:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TCB_INVALID;
 3460              		.loc 1 283 43 is_stmt 1 view .LVU1397
 284:rtos/uCOS-III/Source/os_task.c ****         return;
 3461              		.loc 1 284 8 view .LVU1398
 284:rtos/uCOS-III/Source/os_task.c ****         return;
 3462              		.loc 1 284 15 is_stmt 0 view .LVU1399
 3463 005e 47F2AD13 		movw	r3, #29101
 3464              	.LVL331:
 284:rtos/uCOS-III/Source/os_task.c ****         return;
 3465              		.loc 1 284 15 view .LVU1400
 3466 0062 129A     		ldr	r2, [sp, #72]
 3467              	.LVL332:
 284:rtos/uCOS-III/Source/os_task.c ****         return;
 3468              		.loc 1 284 15 view .LVU1401
 3469 0064 1380     		strh	r3, [r2]	@ movhi
 285:rtos/uCOS-III/Source/os_task.c ****     }
 3470              		.loc 1 285 9 is_stmt 1 view .LVU1402
 3471 0066 F7E7     		b	.L240
 3472              	.LVL333:
 3473              	.L263:
 288:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_INVALID;
 3474              		.loc 1 288 43 view .LVU1403
 289:rtos/uCOS-III/Source/os_task.c ****         return;
 3475              		.loc 1 289 8 view .LVU1404
 289:rtos/uCOS-III/Source/os_task.c ****         return;
 3476              		.loc 1 289 15 is_stmt 0 view .LVU1405
 3477 0068 47F24F13 		movw	r3, #29007
 3478              	.LVL334:
 289:rtos/uCOS-III/Source/os_task.c ****         return;
 3479              		.loc 1 289 15 view .LVU1406
 3480 006c 129A     		ldr	r2, [sp, #72]
 3481              	.LVL335:
 289:rtos/uCOS-III/Source/os_task.c ****         return;
 3482              		.loc 1 289 15 view .LVU1407
 3483 006e 1380     		strh	r3, [r2]	@ movhi
 290:rtos/uCOS-III/Source/os_task.c ****     }
 3484              		.loc 1 290 9 is_stmt 1 view .LVU1408
ARM GAS  /tmp/ccS1bHPU.s 			page 125


 3485 0070 F2E7     		b	.L240
 3486              	.LVL336:
 3487              	.L264:
 293:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_INVALID;
 3488              		.loc 1 293 43 view .LVU1409
 294:rtos/uCOS-III/Source/os_task.c ****         return;
 3489              		.loc 1 294 8 view .LVU1410
 294:rtos/uCOS-III/Source/os_task.c ****         return;
 3490              		.loc 1 294 15 is_stmt 0 view .LVU1411
 3491 0072 46F62F63 		movw	r3, #28207
 3492 0076 129A     		ldr	r2, [sp, #72]
 3493              	.LVL337:
 294:rtos/uCOS-III/Source/os_task.c ****         return;
 3494              		.loc 1 294 15 view .LVU1412
 3495 0078 1380     		strh	r3, [r2]	@ movhi
 295:rtos/uCOS-III/Source/os_task.c ****     }
 3496              		.loc 1 295 9 is_stmt 1 view .LVU1413
 3497 007a EDE7     		b	.L240
 3498              	.L265:
 298:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_SIZE_INVALID;
 3499              		.loc 1 298 43 view .LVU1414
 299:rtos/uCOS-III/Source/os_task.c ****         return;
 3500              		.loc 1 299 8 view .LVU1415
 299:rtos/uCOS-III/Source/os_task.c ****         return;
 3501              		.loc 1 299 15 is_stmt 0 view .LVU1416
 3502 007c 46F63063 		movw	r3, #28208
 3503 0080 129A     		ldr	r2, [sp, #72]
 3504 0082 1380     		strh	r3, [r2]	@ movhi
 300:rtos/uCOS-III/Source/os_task.c ****     }
 3505              		.loc 1 300 9 is_stmt 1 view .LVU1417
 3506 0084 E8E7     		b	.L240
 3507              	.L266:
 303:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_LIMIT_INVALID;
 3508              		.loc 1 303 43 view .LVU1418
 304:rtos/uCOS-III/Source/os_task.c ****         return;
 3509              		.loc 1 304 8 view .LVU1419
 304:rtos/uCOS-III/Source/os_task.c ****         return;
 3510              		.loc 1 304 15 is_stmt 0 view .LVU1420
 3511 0086 46F63163 		movw	r3, #28209
 3512 008a 129A     		ldr	r2, [sp, #72]
 3513 008c 1380     		strh	r3, [r2]	@ movhi
 305:rtos/uCOS-III/Source/os_task.c ****     }
 3514              		.loc 1 305 9 is_stmt 1 view .LVU1421
 3515 008e E3E7     		b	.L240
 3516              	.L267:
 309:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PRIO_INVALID;
 3517              		.loc 1 309 43 view .LVU1422
 310:rtos/uCOS-III/Source/os_task.c ****         return;
 3518              		.loc 1 310 8 view .LVU1423
 310:rtos/uCOS-III/Source/os_task.c ****         return;
 3519              		.loc 1 310 15 is_stmt 0 view .LVU1424
 3520 0090 46F27323 		movw	r3, #25203
 3521 0094 129A     		ldr	r2, [sp, #72]
 3522 0096 1380     		strh	r3, [r2]	@ movhi
 311:rtos/uCOS-III/Source/os_task.c ****     }
 3523              		.loc 1 311 9 is_stmt 1 view .LVU1425
 3524 0098 DEE7     		b	.L240
ARM GAS  /tmp/ccS1bHPU.s 			page 126


 3525              	.L249:
 329:rtos/uCOS-III/Source/os_task.c **** 
 3526              		.loc 1 329 5 view .LVU1426
 3527 009a 2046     		mov	r0, r4
 3528              	.LVL338:
 329:rtos/uCOS-III/Source/os_task.c **** 
 3529              		.loc 1 329 5 is_stmt 0 view .LVU1427
 3530 009c FFF7FEFF 		bl	OS_TaskInitTCB
 3531              	.LVL339:
 331:rtos/uCOS-III/Source/os_task.c ****                                                                 /* -------------- CLEAR THE TASK'S 
 3532              		.loc 1 331 4 is_stmt 1 view .LVU1428
 331:rtos/uCOS-III/Source/os_task.c ****                                                                 /* -------------- CLEAR THE TASK'S 
 3533              		.loc 1 331 11 is_stmt 0 view .LVU1429
 3534 00a0 0023     		movs	r3, #0
 3535 00a2 129A     		ldr	r2, [sp, #72]
 3536 00a4 1380     		strh	r3, [r2]	@ movhi
 333:rtos/uCOS-III/Source/os_task.c ****         ((opt & OS_OPT_TASK_STK_CLR) != 0u)) {                  /* See if stack needs to be cleared
 3537              		.loc 1 333 5 is_stmt 1 view .LVU1430
 333:rtos/uCOS-III/Source/os_task.c ****         ((opt & OS_OPT_TASK_STK_CLR) != 0u)) {                  /* See if stack needs to be cleared
 3538              		.loc 1 333 8 is_stmt 0 view .LVU1431
 3539 00a6 1AF0030F 		tst	r10, #3
 3540 00aa 02D0     		beq	.L250
 335:rtos/uCOS-III/Source/os_task.c ****             p_sp = p_stk_base;
 3541              		.loc 1 335 9 is_stmt 1 view .LVU1432
 335:rtos/uCOS-III/Source/os_task.c ****             p_sp = p_stk_base;
 3542              		.loc 1 335 12 is_stmt 0 view .LVU1433
 3543 00ac 1AF0020F 		tst	r10, #2
 3544 00b0 4FD1     		bne	.L259
 3545              	.L250:
 345:rtos/uCOS-III/Source/os_task.c **** #else
 3546              		.loc 1 345 5 is_stmt 1 view .LVU1434
 345:rtos/uCOS-III/Source/os_task.c **** #else
 3547              		.loc 1 345 17 is_stmt 0 view .LVU1435
 3548 00b2 0B9B     		ldr	r3, [sp, #44]
 3549 00b4 0C9A     		ldr	r2, [sp, #48]
 3550 00b6 03EB820B 		add	fp, r3, r2, lsl #2
 3551              	.LVL340:
 350:rtos/uCOS-III/Source/os_task.c ****                          p_arg,
 3552              		.loc 1 350 5 is_stmt 1 view .LVU1436
 350:rtos/uCOS-III/Source/os_task.c ****                          p_arg,
 3553              		.loc 1 350 12 is_stmt 0 view .LVU1437
 3554 00ba CDF804A0 		str	r10, [sp, #4]
 3555 00be 0D9B     		ldr	r3, [sp, #52]
 3556 00c0 0093     		str	r3, [sp]
 3557 00c2 5B46     		mov	r3, fp
 3558 00c4 0B9A     		ldr	r2, [sp, #44]
 3559 00c6 3946     		mov	r1, r7
 3560 00c8 3046     		mov	r0, r6
 3561 00ca FFF7FEFF 		bl	OSTaskStkInit
 3562              	.LVL341:
 358:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_OVF;
 3563              		.loc 1 358 5 is_stmt 1 view .LVU1438
 358:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STK_OVF;
 3564              		.loc 1 358 8 is_stmt 0 view .LVU1439
 3565 00ce 0B9B     		ldr	r3, [sp, #44]
 3566 00d0 8342     		cmp	r3, r0
 3567 00d2 41D8     		bhi	.L268
ARM GAS  /tmp/ccS1bHPU.s 			page 127


 382:rtos/uCOS-III/Source/os_task.c **** #endif
 3568              		.loc 1 382 5 is_stmt 1 view .LVU1440
 385:rtos/uCOS-III/Source/os_task.c **** 
 3569              		.loc 1 385 5 view .LVU1441
 385:rtos/uCOS-III/Source/os_task.c **** 
 3570              		.loc 1 385 26 is_stmt 0 view .LVU1442
 3571 00d4 84F82F90 		strb	r9, [r4, #47]
 388:rtos/uCOS-III/Source/os_task.c **** #endif
 3572              		.loc 1 388 5 is_stmt 1 view .LVU1443
 388:rtos/uCOS-III/Source/os_task.c **** #endif
 3573              		.loc 1 388 26 is_stmt 0 view .LVU1444
 3574 00d8 84F83090 		strb	r9, [r4, #48]
 391:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkLimitPtr   = p_stk_limit;                         /* Save the stack limit pointer    
 3575              		.loc 1 391 5 is_stmt 1 view .LVU1445
 391:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkLimitPtr   = p_stk_limit;                         /* Save the stack limit pointer    
 3576              		.loc 1 391 26 is_stmt 0 view .LVU1446
 3577 00dc 2060     		str	r0, [r4]
 392:rtos/uCOS-III/Source/os_task.c **** 
 3578              		.loc 1 392 5 is_stmt 1 view .LVU1447
 392:rtos/uCOS-III/Source/os_task.c **** 
 3579              		.loc 1 392 26 is_stmt 0 view .LVU1448
 3580 00de C4F808B0 		str	fp, [r4, #8]
 395:rtos/uCOS-III/Source/os_task.c ****     if (time_quanta == 0u) {
 3581              		.loc 1 395 5 is_stmt 1 view .LVU1449
 395:rtos/uCOS-III/Source/os_task.c ****     if (time_quanta == 0u) {
 3582              		.loc 1 395 26 is_stmt 0 view .LVU1450
 3583 00e2 0F9B     		ldr	r3, [sp, #60]
 3584 00e4 E364     		str	r3, [r4, #76]
 396:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 3585              		.loc 1 396 5 is_stmt 1 view .LVU1451
 396:rtos/uCOS-III/Source/os_task.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 3586              		.loc 1 396 8 is_stmt 0 view .LVU1452
 3587 00e6 002B     		cmp	r3, #0
 3588 00e8 3BD1     		bne	.L254
 397:rtos/uCOS-III/Source/os_task.c ****     } else {
 3589              		.loc 1 397 9 is_stmt 1 view .LVU1453
 397:rtos/uCOS-III/Source/os_task.c ****     } else {
 3590              		.loc 1 397 30 is_stmt 0 view .LVU1454
 3591 00ea 294B     		ldr	r3, .L269+12
 3592 00ec 1B68     		ldr	r3, [r3]
 3593 00ee 2365     		str	r3, [r4, #80]
 3594              	.L255:
 405:rtos/uCOS-III/Source/os_task.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_STK_CHK_EN > 0u) || (OS_CFG_TASK_STK_REDZONE_EN > 0u
 3595              		.loc 1 405 5 is_stmt 1 view .LVU1455
 405:rtos/uCOS-III/Source/os_task.c **** #if ((OS_CFG_DBG_EN > 0u) || (OS_CFG_STAT_TASK_STK_CHK_EN > 0u) || (OS_CFG_TASK_STK_REDZONE_EN > 0u
 3596              		.loc 1 405 26 is_stmt 0 view .LVU1456
 3597 00f0 109B     		ldr	r3, [sp, #64]
 3598 00f2 6360     		str	r3, [r4, #4]
 407:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkSize       = stk_size;                            /* Save the stack size (in number o
 3599              		.loc 1 407 5 is_stmt 1 view .LVU1457
 407:rtos/uCOS-III/Source/os_task.c ****     p_tcb->StkSize       = stk_size;                            /* Save the stack size (in number o
 3600              		.loc 1 407 26 is_stmt 0 view .LVU1458
 3601 00f4 0B9B     		ldr	r3, [sp, #44]
 3602 00f6 E361     		str	r3, [r4, #28]
 408:rtos/uCOS-III/Source/os_task.c **** #endif
 3603              		.loc 1 408 5 is_stmt 1 view .LVU1459
 408:rtos/uCOS-III/Source/os_task.c **** #endif
ARM GAS  /tmp/ccS1bHPU.s 			page 128


 3604              		.loc 1 408 26 is_stmt 0 view .LVU1460
 3605 00f8 0D9B     		ldr	r3, [sp, #52]
 3606 00fa A363     		str	r3, [r4, #56]
 410:rtos/uCOS-III/Source/os_task.c **** 
 3607              		.loc 1 410 5 is_stmt 1 view .LVU1461
 410:rtos/uCOS-III/Source/os_task.c **** 
 3608              		.loc 1 410 26 is_stmt 0 view .LVU1462
 3609 00fc A4F83CA0 		strh	r10, [r4, #60]	@ movhi
 413:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 3610              		.loc 1 413 5 is_stmt 1 view .LVU1463
 3611              	.LVL342:
 3612              	.L256:
 413:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 3613              		.loc 1 413 24 discriminator 1 view .LVU1464
 413:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 3614              		.loc 1 413 5 is_stmt 0 discriminator 1 view .LVU1465
 3615 0100 95B3     		cbz	r5, .L257
 419:rtos/uCOS-III/Source/os_task.c ****                 q_size);
 3616              		.loc 1 419 5 is_stmt 1 view .LVU1466
 3617 0102 BDF83810 		ldrh	r1, [sp, #56]
 3618 0106 04F15C00 		add	r0, r4, #92
 3619              	.LVL343:
 419:rtos/uCOS-III/Source/os_task.c ****                 q_size);
 3620              		.loc 1 419 5 is_stmt 0 view .LVU1467
 3621 010a FFF7FEFF 		bl	OS_MsgQInit
 3622              	.LVL344:
 425:rtos/uCOS-III/Source/os_task.c **** 
 3623              		.loc 1 425 5 is_stmt 1 view .LVU1468
 3624 010e 2046     		mov	r0, r4
 3625 0110 FFF7FEFF 		bl	OSTaskCreateHook
 3626              	.LVL345:
 427:rtos/uCOS-III/Source/os_task.c ****     OS_TRACE_TASK_SEM_CREATE(p_tcb, p_name);
 3627              		.loc 1 427 32 view .LVU1469
 428:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u)
 3628              		.loc 1 428 44 view .LVU1470
 430:rtos/uCOS-III/Source/os_task.c **** #endif
 3629              		.loc 1 430 53 view .LVU1471
 440:rtos/uCOS-III/Source/os_task.c ****     OS_PrioInsert(p_tcb->Prio);
 3630              		.loc 1 440 5 view .LVU1472
 440:rtos/uCOS-III/Source/os_task.c ****     OS_PrioInsert(p_tcb->Prio);
 3631              		.loc 1 440 5 view .LVU1473
 440:rtos/uCOS-III/Source/os_task.c ****     OS_PrioInsert(p_tcb->Prio);
 3632              		.loc 1 440 5 view .LVU1474
 3633 0114 4020     		movs	r0, #64
 3634 0116 FFF7FEFF 		bl	CPU_SR_Save
 3635              	.LVL346:
 3636 011a 0546     		mov	r5, r0
 3637              	.LVL347:
 440:rtos/uCOS-III/Source/os_task.c ****     OS_PrioInsert(p_tcb->Prio);
 3638              		.loc 1 440 5 view .LVU1475
 440:rtos/uCOS-III/Source/os_task.c ****     OS_PrioInsert(p_tcb->Prio);
 3639              		.loc 1 440 5 view .LVU1476
 441:rtos/uCOS-III/Source/os_task.c ****     OS_RdyListInsertTail(p_tcb);
 3640              		.loc 1 441 5 view .LVU1477
 3641 011c 94F82F00 		ldrb	r0, [r4, #47]	@ zero_extendqisi2
 3642              	.LVL348:
 441:rtos/uCOS-III/Source/os_task.c ****     OS_RdyListInsertTail(p_tcb);
ARM GAS  /tmp/ccS1bHPU.s 			page 129


 3643              		.loc 1 441 5 is_stmt 0 view .LVU1478
 3644 0120 FFF7FEFF 		bl	OS_PrioInsert
 3645              	.LVL349:
 442:rtos/uCOS-III/Source/os_task.c **** 
 3646              		.loc 1 442 5 is_stmt 1 view .LVU1479
 3647 0124 2046     		mov	r0, r4
 3648 0126 FFF7FEFF 		bl	OS_RdyListInsertTail
 3649              	.LVL350:
 448:rtos/uCOS-III/Source/os_task.c **** 
 3650              		.loc 1 448 5 view .LVU1480
 448:rtos/uCOS-III/Source/os_task.c **** 
 3651              		.loc 1 448 14 is_stmt 0 view .LVU1481
 3652 012a 1A4A     		ldr	r2, .L269+16
 3653 012c 1388     		ldrh	r3, [r2]
 3654 012e 0133     		adds	r3, r3, #1
 3655 0130 1380     		strh	r3, [r2]	@ movhi
 450:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 3656              		.loc 1 450 5 is_stmt 1 view .LVU1482
 450:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 3657              		.loc 1 450 19 is_stmt 0 view .LVU1483
 3658 0132 194B     		ldr	r3, .L269+20
 3659 0134 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 450:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 3660              		.loc 1 450 8 view .LVU1484
 3661 0136 012B     		cmp	r3, #1
 3662 0138 1ED0     		beq	.L258
 451:rtos/uCOS-III/Source/os_task.c ****         return;
 3663              		.loc 1 451 9 is_stmt 1 view .LVU1485
 451:rtos/uCOS-III/Source/os_task.c ****         return;
 3664              		.loc 1 451 9 view .LVU1486
 451:rtos/uCOS-III/Source/os_task.c ****         return;
 3665              		.loc 1 451 9 view .LVU1487
 3666 013a 2846     		mov	r0, r5
 3667 013c FFF7FEFF 		bl	CPU_SR_Restore
 3668              	.LVL351:
 451:rtos/uCOS-III/Source/os_task.c ****         return;
 3669              		.loc 1 451 9 view .LVU1488
 451:rtos/uCOS-III/Source/os_task.c ****         return;
 3670              		.loc 1 451 9 view .LVU1489
 452:rtos/uCOS-III/Source/os_task.c ****     }
 3671              		.loc 1 452 9 view .LVU1490
 3672 0140 8AE7     		b	.L240
 3673              	.LVL352:
 3674              	.L252:
 338:rtos/uCOS-III/Source/os_task.c ****                 p_sp++;
 3675              		.loc 1 338 16 discriminator 3 view .LVU1491
 338:rtos/uCOS-III/Source/os_task.c ****                 p_sp++;
 3676              		.loc 1 338 22 is_stmt 0 discriminator 3 view .LVU1492
 3677 0142 0021     		movs	r1, #0
 3678 0144 42F8041B 		str	r1, [r2], #4
 3679              	.LVL353:
 339:rtos/uCOS-III/Source/os_task.c ****             }
 3680              		.loc 1 339 17 is_stmt 1 discriminator 3 view .LVU1493
 337:rtos/uCOS-III/Source/os_task.c ****                *p_sp = 0u;                                      /* Clear from bottom of stack and u
 3681              		.loc 1 337 40 discriminator 3 view .LVU1494
 337:rtos/uCOS-III/Source/os_task.c ****                *p_sp = 0u;                                      /* Clear from bottom of stack and u
 3682              		.loc 1 337 41 is_stmt 0 discriminator 3 view .LVU1495
ARM GAS  /tmp/ccS1bHPU.s 			page 130


 3683 0148 0133     		adds	r3, r3, #1
 3684              	.LVL354:
 3685              	.L251:
 337:rtos/uCOS-III/Source/os_task.c ****                *p_sp = 0u;                                      /* Clear from bottom of stack and u
 3686              		.loc 1 337 26 is_stmt 1 discriminator 1 view .LVU1496
 337:rtos/uCOS-III/Source/os_task.c ****                *p_sp = 0u;                                      /* Clear from bottom of stack and u
 3687              		.loc 1 337 13 is_stmt 0 discriminator 1 view .LVU1497
 3688 014a 0D99     		ldr	r1, [sp, #52]
 3689 014c 8B42     		cmp	r3, r1
 3690 014e F8D3     		bcc	.L252
 3691 0150 AFE7     		b	.L250
 3692              	.LVL355:
 3693              	.L259:
 336:rtos/uCOS-III/Source/os_task.c ****             for (i = 0u; i < stk_size; i++) {                   /* Stack grows from HIGH to LOW mem
 3694              		.loc 1 336 18 view .LVU1498
 3695 0152 0B9A     		ldr	r2, [sp, #44]
 337:rtos/uCOS-III/Source/os_task.c ****                *p_sp = 0u;                                      /* Clear from bottom of stack and u
 3696              		.loc 1 337 20 view .LVU1499
 3697 0154 0023     		movs	r3, #0
 3698 0156 F8E7     		b	.L251
 3699              	.LVL356:
 3700              	.L268:
 359:rtos/uCOS-III/Source/os_task.c ****         return;
 3701              		.loc 1 359 8 is_stmt 1 view .LVU1500
 359:rtos/uCOS-III/Source/os_task.c ****         return;
 3702              		.loc 1 359 15 is_stmt 0 view .LVU1501
 3703 0158 46F63263 		movw	r3, #28210
 3704 015c 129A     		ldr	r2, [sp, #72]
 3705 015e 1380     		strh	r3, [r2]	@ movhi
 360:rtos/uCOS-III/Source/os_task.c ****     }
 3706              		.loc 1 360 9 is_stmt 1 view .LVU1502
 3707 0160 7AE7     		b	.L240
 3708              	.L254:
 399:rtos/uCOS-III/Source/os_task.c ****     }
 3709              		.loc 1 399 9 view .LVU1503
 399:rtos/uCOS-III/Source/os_task.c ****     }
 3710              		.loc 1 399 30 is_stmt 0 view .LVU1504
 3711 0162 0F9B     		ldr	r3, [sp, #60]
 3712 0164 2365     		str	r3, [r4, #80]
 3713 0166 C3E7     		b	.L255
 3714              	.LVL357:
 3715              	.L257:
 414:rtos/uCOS-III/Source/os_task.c ****     }
 3716              		.loc 1 414 9 is_stmt 1 discriminator 3 view .LVU1505
 414:rtos/uCOS-III/Source/os_task.c ****     }
 3717              		.loc 1 414 32 is_stmt 0 discriminator 3 view .LVU1506
 3718 0168 05F11C03 		add	r3, r5, #28
 3719 016c 0022     		movs	r2, #0
 3720 016e 44F82320 		str	r2, [r4, r3, lsl #2]
 413:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 3721              		.loc 1 413 60 is_stmt 1 discriminator 3 view .LVU1507
 413:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 3722              		.loc 1 413 67 is_stmt 0 discriminator 3 view .LVU1508
 3723 0172 0135     		adds	r5, r5, #1
 3724              	.LVL358:
 413:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 3725              		.loc 1 413 67 discriminator 3 view .LVU1509
ARM GAS  /tmp/ccS1bHPU.s 			page 131


 3726 0174 EDB2     		uxtb	r5, r5
 3727              	.LVL359:
 413:rtos/uCOS-III/Source/os_task.c ****         p_tcb->RegTbl[reg_nbr] = 0u;
 3728              		.loc 1 413 67 discriminator 3 view .LVU1510
 3729 0176 C3E7     		b	.L256
 3730              	.LVL360:
 3731              	.L258:
 455:rtos/uCOS-III/Source/os_task.c **** 
 3732              		.loc 1 455 5 is_stmt 1 view .LVU1511
 455:rtos/uCOS-III/Source/os_task.c **** 
 3733              		.loc 1 455 5 view .LVU1512
 455:rtos/uCOS-III/Source/os_task.c **** 
 3734              		.loc 1 455 5 view .LVU1513
 3735 0178 2846     		mov	r0, r5
 3736 017a FFF7FEFF 		bl	CPU_SR_Restore
 3737              	.LVL361:
 455:rtos/uCOS-III/Source/os_task.c **** 
 3738              		.loc 1 455 5 view .LVU1514
 455:rtos/uCOS-III/Source/os_task.c **** 
 3739              		.loc 1 455 5 view .LVU1515
 457:rtos/uCOS-III/Source/os_task.c **** }
 3740              		.loc 1 457 5 view .LVU1516
 3741 017e FFF7FEFF 		bl	OSSched
 3742              	.LVL362:
 3743 0182 69E7     		b	.L240
 3744              	.L270:
 3745              		.align	2
 3746              	.L269:
 3747 0184 00000000 		.word	OSIntNestingCtr
 3748 0188 00000000 		.word	OSCfg_StkSizeMin
 3749 018c 00000000 		.word	OSIdleTaskTCB
 3750 0190 00000000 		.word	OSSchedRoundRobinDfltTimeQuanta
 3751 0194 00000000 		.word	OSTaskQty
 3752 0198 00000000 		.word	OSRunning
 3753              		.cfi_endproc
 3754              	.LFE1:
 3756              		.section	.text.OS_TaskChangePrio,"ax",%progbits
 3757              		.align	1
 3758              		.global	OS_TaskChangePrio
 3759              		.syntax unified
 3760              		.thumb
 3761              		.thumb_func
 3762              		.fpu fpv4-sp-d16
 3764              	OS_TaskChangePrio:
 3765              	.LVL363:
 3766              	.LFB21:
2629:rtos/uCOS-III/Source/os_task.c **** 
2630:rtos/uCOS-III/Source/os_task.c **** 
2631:rtos/uCOS-III/Source/os_task.c **** /*
2632:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2633:rtos/uCOS-III/Source/os_task.c **** *                                              CATCH ACCIDENTAL TASK RETURN
2634:rtos/uCOS-III/Source/os_task.c **** *
2635:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called if a task accidentally returns without deleting itself.  In 
2636:rtos/uCOS-III/Source/os_task.c **** *              should either be an infinite loop or delete itself if it's done.
2637:rtos/uCOS-III/Source/os_task.c **** *
2638:rtos/uCOS-III/Source/os_task.c **** * Arguments  : none
2639:rtos/uCOS-III/Source/os_task.c **** *
ARM GAS  /tmp/ccS1bHPU.s 			page 132


2640:rtos/uCOS-III/Source/os_task.c **** * Returns    : none
2641:rtos/uCOS-III/Source/os_task.c **** *
2642:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
2643:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2644:rtos/uCOS-III/Source/os_task.c **** */
2645:rtos/uCOS-III/Source/os_task.c **** 
2646:rtos/uCOS-III/Source/os_task.c **** void  OS_TaskReturn (void)
2647:rtos/uCOS-III/Source/os_task.c **** {
2648:rtos/uCOS-III/Source/os_task.c ****     OS_ERR  err;
2649:rtos/uCOS-III/Source/os_task.c **** 
2650:rtos/uCOS-III/Source/os_task.c **** 
2651:rtos/uCOS-III/Source/os_task.c **** 
2652:rtos/uCOS-III/Source/os_task.c ****     OSTaskReturnHook(OSTCBCurPtr);                              /* Call hook to let user decide on 
2653:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_DEL_EN > 0u)
2654:rtos/uCOS-III/Source/os_task.c ****     OSTaskDel((OS_TCB *)0,                                      /* Delete task if it accidentally r
2655:rtos/uCOS-III/Source/os_task.c ****               &err);
2656:rtos/uCOS-III/Source/os_task.c **** #else
2657:rtos/uCOS-III/Source/os_task.c ****     for (;;) {
2658:rtos/uCOS-III/Source/os_task.c ****         OSTimeDly(OSCfg_TickRate_Hz,
2659:rtos/uCOS-III/Source/os_task.c ****                   OS_OPT_TIME_DLY,
2660:rtos/uCOS-III/Source/os_task.c ****                   &err);
2661:rtos/uCOS-III/Source/os_task.c ****     }
2662:rtos/uCOS-III/Source/os_task.c **** #endif
2663:rtos/uCOS-III/Source/os_task.c **** }
2664:rtos/uCOS-III/Source/os_task.c **** 
2665:rtos/uCOS-III/Source/os_task.c **** 
2666:rtos/uCOS-III/Source/os_task.c **** /*
2667:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2668:rtos/uCOS-III/Source/os_task.c **** *                                          CHECK THE STACK REDZONE OF A TASK
2669:rtos/uCOS-III/Source/os_task.c **** *
2670:rtos/uCOS-III/Source/os_task.c **** * Description: Verify a task's stack redzone.
2671:rtos/uCOS-III/Source/os_task.c **** *
2672:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb        is a pointer to the base of the stack.
2673:rtos/uCOS-III/Source/os_task.c **** *
2674:rtos/uCOS-III/Source/os_task.c **** *              stk_size     is the size of the stack.
2675:rtos/uCOS-III/Source/os_task.c **** *
2676:rtos/uCOS-III/Source/os_task.c **** * Returns    : If the stack is corrupted (OS_FALSE) or not (OS_TRUE).
2677:rtos/uCOS-III/Source/os_task.c **** *
2678:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application should not call it.
2679:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2680:rtos/uCOS-III/Source/os_task.c **** */
2681:rtos/uCOS-III/Source/os_task.c **** 
2682:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
2683:rtos/uCOS-III/Source/os_task.c **** CPU_BOOLEAN   OS_TaskStkRedzoneChk (CPU_STK       *p_base,
2684:rtos/uCOS-III/Source/os_task.c ****                                     CPU_STK_SIZE   stk_size)
2685:rtos/uCOS-III/Source/os_task.c **** {
2686:rtos/uCOS-III/Source/os_task.c ****     CPU_INT32U  i;
2687:rtos/uCOS-III/Source/os_task.c **** 
2688:rtos/uCOS-III/Source/os_task.c **** 
2689:rtos/uCOS-III/Source/os_task.c **** #if (CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO)
2690:rtos/uCOS-III/Source/os_task.c ****    (void)stk_size;                                              /* Prevent compiler warning for not
2691:rtos/uCOS-III/Source/os_task.c **** 
2692:rtos/uCOS-III/Source/os_task.c ****     for (i = 0u; i < OS_CFG_TASK_STK_REDZONE_DEPTH; i++) {
2693:rtos/uCOS-III/Source/os_task.c ****         if (*p_base != (CPU_DATA)OS_STACK_CHECK_VAL) {
2694:rtos/uCOS-III/Source/os_task.c ****             return (OS_FALSE);
2695:rtos/uCOS-III/Source/os_task.c ****         }
2696:rtos/uCOS-III/Source/os_task.c ****         p_base++;
ARM GAS  /tmp/ccS1bHPU.s 			page 133


2697:rtos/uCOS-III/Source/os_task.c ****     }
2698:rtos/uCOS-III/Source/os_task.c **** #else
2699:rtos/uCOS-III/Source/os_task.c ****     p_base = p_base + stk_size - 1u;
2700:rtos/uCOS-III/Source/os_task.c ****     for (i = 0u; i < OS_CFG_TASK_STK_REDZONE_DEPTH; i++) {
2701:rtos/uCOS-III/Source/os_task.c ****         if (*p_base != (CPU_DATA)OS_STACK_CHECK_VAL) {
2702:rtos/uCOS-III/Source/os_task.c ****             return (OS_FALSE);
2703:rtos/uCOS-III/Source/os_task.c ****         }
2704:rtos/uCOS-III/Source/os_task.c ****         p_base--;
2705:rtos/uCOS-III/Source/os_task.c ****     }
2706:rtos/uCOS-III/Source/os_task.c **** #endif
2707:rtos/uCOS-III/Source/os_task.c **** 
2708:rtos/uCOS-III/Source/os_task.c ****     return (OS_TRUE);
2709:rtos/uCOS-III/Source/os_task.c **** }
2710:rtos/uCOS-III/Source/os_task.c **** #endif
2711:rtos/uCOS-III/Source/os_task.c **** 
2712:rtos/uCOS-III/Source/os_task.c **** 
2713:rtos/uCOS-III/Source/os_task.c **** /*
2714:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2715:rtos/uCOS-III/Source/os_task.c **** *                                          INITIALIZE A REDZONE ENABLED STACK
2716:rtos/uCOS-III/Source/os_task.c **** *
2717:rtos/uCOS-III/Source/os_task.c **** * Description: This functions is used to initialize a stack with Redzone checking.
2718:rtos/uCOS-III/Source/os_task.c **** *
2719:rtos/uCOS-III/Source/os_task.c **** * Arguments  : p_tcb        is a pointer to the base of the stack.
2720:rtos/uCOS-III/Source/os_task.c **** *
2721:rtos/uCOS-III/Source/os_task.c **** *              stk_size     is the size of the stack.
2722:rtos/uCOS-III/Source/os_task.c **** *
2723:rtos/uCOS-III/Source/os_task.c **** * Returns    : none.
2724:rtos/uCOS-III/Source/os_task.c **** *
2725:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application should not call it.
2726:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2727:rtos/uCOS-III/Source/os_task.c **** */
2728:rtos/uCOS-III/Source/os_task.c **** 
2729:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
2730:rtos/uCOS-III/Source/os_task.c **** void  OS_TaskStkRedzoneInit (CPU_STK       *p_base,
2731:rtos/uCOS-III/Source/os_task.c ****                              CPU_STK_SIZE   stk_size)
2732:rtos/uCOS-III/Source/os_task.c **** {
2733:rtos/uCOS-III/Source/os_task.c ****     CPU_STK_SIZE   i;
2734:rtos/uCOS-III/Source/os_task.c **** 
2735:rtos/uCOS-III/Source/os_task.c **** 
2736:rtos/uCOS-III/Source/os_task.c **** #if (CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO)
2737:rtos/uCOS-III/Source/os_task.c ****    (void)stk_size;                                              /* Prevent compiler warning for not
2738:rtos/uCOS-III/Source/os_task.c **** 
2739:rtos/uCOS-III/Source/os_task.c ****     for (i = 0u; i < OS_CFG_TASK_STK_REDZONE_DEPTH; i++) {
2740:rtos/uCOS-III/Source/os_task.c ****         *(p_base + i) = (CPU_DATA)OS_STACK_CHECK_VAL;
2741:rtos/uCOS-III/Source/os_task.c ****     }
2742:rtos/uCOS-III/Source/os_task.c **** #else
2743:rtos/uCOS-III/Source/os_task.c ****     for (i = 0u; i < OS_CFG_TASK_STK_REDZONE_DEPTH; i++) {
2744:rtos/uCOS-III/Source/os_task.c ****         *(p_base + stk_size - 1u - i) = (CPU_DATA)OS_STACK_CHECK_VAL;
2745:rtos/uCOS-III/Source/os_task.c ****     }
2746:rtos/uCOS-III/Source/os_task.c **** #endif
2747:rtos/uCOS-III/Source/os_task.c **** }
2748:rtos/uCOS-III/Source/os_task.c **** #endif
2749:rtos/uCOS-III/Source/os_task.c **** 
2750:rtos/uCOS-III/Source/os_task.c **** 
2751:rtos/uCOS-III/Source/os_task.c **** /*
2752:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2753:rtos/uCOS-III/Source/os_task.c **** *                                               CHANGE PRIORITY OF A TASK
ARM GAS  /tmp/ccS1bHPU.s 			page 134


2754:rtos/uCOS-III/Source/os_task.c **** *
2755:rtos/uCOS-III/Source/os_task.c **** * Description: This function is called by the kernel to perform the actual operation of changing a 
2756:rtos/uCOS-III/Source/os_task.c **** *              Priority inheritance is updated if necessary.
2757:rtos/uCOS-III/Source/os_task.c **** *
2758:rtos/uCOS-III/Source/os_task.c **** *
2759:rtos/uCOS-III/Source/os_task.c **** *
2760:rtos/uCOS-III/Source/os_task.c **** * Argument(s): p_tcb        is a pointer to the tcb of the task to change the priority.
2761:rtos/uCOS-III/Source/os_task.c **** *
2762:rtos/uCOS-III/Source/os_task.c **** *              prio_new     is the new priority to give to the task.
2763:rtos/uCOS-III/Source/os_task.c **** *
2764:rtos/uCOS-III/Source/os_task.c **** *
2765:rtos/uCOS-III/Source/os_task.c **** * Returns    : none.
2766:rtos/uCOS-III/Source/os_task.c **** *
2767:rtos/uCOS-III/Source/os_task.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2768:rtos/uCOS-III/Source/os_task.c **** ***************************************************************************************************
2769:rtos/uCOS-III/Source/os_task.c **** */
2770:rtos/uCOS-III/Source/os_task.c **** 
2771:rtos/uCOS-III/Source/os_task.c **** void  OS_TaskChangePrio(OS_TCB  *p_tcb,
2772:rtos/uCOS-III/Source/os_task.c ****                         OS_PRIO  prio_new)
2773:rtos/uCOS-III/Source/os_task.c **** {
 3767              		.loc 1 2773 1 view -0
 3768              		.cfi_startproc
 3769              		@ args = 0, pretend = 0, frame = 0
 3770              		@ frame_needed = 0, uses_anonymous_args = 0
 3771              		.loc 1 2773 1 is_stmt 0 view .LVU1518
 3772 0000 70B5     		push	{r4, r5, r6, lr}
 3773              	.LCFI26:
 3774              		.cfi_def_cfa_offset 16
 3775              		.cfi_offset 4, -16
 3776              		.cfi_offset 5, -12
 3777              		.cfi_offset 6, -8
 3778              		.cfi_offset 14, -4
 3779 0002 0446     		mov	r4, r0
 3780 0004 0D46     		mov	r5, r1
 3781              	.LVL364:
 3782              	.L283:
2774:rtos/uCOS-III/Source/os_task.c ****     OS_TCB  *p_tcb_owner;
 3783              		.loc 1 2774 5 is_stmt 1 view .LVU1519
2775:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
2776:rtos/uCOS-III/Source/os_task.c ****     OS_PRIO  prio_cur;
 3784              		.loc 1 2776 5 view .LVU1520
2777:rtos/uCOS-III/Source/os_task.c **** #endif
2778:rtos/uCOS-III/Source/os_task.c **** 
2779:rtos/uCOS-III/Source/os_task.c **** 
2780:rtos/uCOS-III/Source/os_task.c ****     do {
 3785              		.loc 1 2780 5 view .LVU1521
2781:rtos/uCOS-III/Source/os_task.c ****         p_tcb_owner = (OS_TCB *)0;
 3786              		.loc 1 2781 9 view .LVU1522
2782:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
2783:rtos/uCOS-III/Source/os_task.c ****         prio_cur    =  p_tcb->Prio;
 3787              		.loc 1 2783 9 view .LVU1523
 3788              		.loc 1 2783 21 is_stmt 0 view .LVU1524
 3789 0006 94F82F60 		ldrb	r6, [r4, #47]	@ zero_extendqisi2
 3790              	.LVL365:
2784:rtos/uCOS-III/Source/os_task.c **** #endif
2785:rtos/uCOS-III/Source/os_task.c ****         switch (p_tcb->TaskState) {
 3791              		.loc 1 2785 9 is_stmt 1 view .LVU1525
ARM GAS  /tmp/ccS1bHPU.s 			page 135


 3792              		.loc 1 2785 22 is_stmt 0 view .LVU1526
 3793 000a 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
 3794 000e 072B     		cmp	r3, #7
 3795 0010 1BD8     		bhi	.L271
 3796 0012 DFE803F0 		tbb	[pc, r3]
 3797              	.L274:
 3798 0016 04       		.byte	(.L276-.L274)/2
 3799 0017 18       		.byte	(.L275-.L274)/2
 3800 0018 1B       		.byte	(.L273-.L274)/2
 3801 0019 1B       		.byte	(.L273-.L274)/2
 3802 001a 18       		.byte	(.L275-.L274)/2
 3803 001b 18       		.byte	(.L275-.L274)/2
 3804 001c 1B       		.byte	(.L273-.L274)/2
 3805 001d 1B       		.byte	(.L273-.L274)/2
 3806              		.p2align 1
 3807              	.L276:
2786:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_RDY:
2787:rtos/uCOS-III/Source/os_task.c ****                  OS_RdyListRemove(p_tcb);                       /* Remove from current priority    
 3808              		.loc 1 2787 18 is_stmt 1 view .LVU1527
 3809 001e 2046     		mov	r0, r4
 3810 0020 FFF7FEFF 		bl	OS_RdyListRemove
 3811              	.LVL366:
2788:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->Prio = prio_new;                        /* Set new task priority           
 3812              		.loc 1 2788 18 view .LVU1528
 3813              		.loc 1 2788 30 is_stmt 0 view .LVU1529
 3814 0024 84F82F50 		strb	r5, [r4, #47]
2789:rtos/uCOS-III/Source/os_task.c ****                  OS_PrioInsert(p_tcb->Prio);
 3815              		.loc 1 2789 18 is_stmt 1 view .LVU1530
 3816 0028 2846     		mov	r0, r5
 3817 002a FFF7FEFF 		bl	OS_PrioInsert
 3818              	.LVL367:
2790:rtos/uCOS-III/Source/os_task.c ****                  if (p_tcb == OSTCBCurPtr) {
 3819              		.loc 1 2790 18 view .LVU1531
 3820              		.loc 1 2790 28 is_stmt 0 view .LVU1532
 3821 002e 204B     		ldr	r3, .L287
 3822 0030 1B68     		ldr	r3, [r3]
 3823              		.loc 1 2790 21 view .LVU1533
 3824 0032 A342     		cmp	r3, r4
 3825 0034 03D0     		beq	.L285
2791:rtos/uCOS-III/Source/os_task.c ****                      OS_RdyListInsertHead(p_tcb);
2792:rtos/uCOS-III/Source/os_task.c ****                  } else {
2793:rtos/uCOS-III/Source/os_task.c ****                      OS_RdyListInsertTail(p_tcb);
 3826              		.loc 1 2793 22 is_stmt 1 view .LVU1534
 3827 0036 2046     		mov	r0, r4
 3828 0038 FFF7FEFF 		bl	OS_RdyListInsertTail
 3829              	.LVL368:
2794:rtos/uCOS-III/Source/os_task.c ****                  }
2795:rtos/uCOS-III/Source/os_task.c ****                  break;
2796:rtos/uCOS-III/Source/os_task.c **** 
2797:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_DLY:                             /* Nothing to do except change the 
2798:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_SUSPENDED:
2799:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_DLY_SUSPENDED:
2800:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->Prio = prio_new;                        /* Set new task priority           
2801:rtos/uCOS-III/Source/os_task.c ****                  break;
2802:rtos/uCOS-III/Source/os_task.c **** 
2803:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_PEND:
2804:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_PEND_TIMEOUT:
ARM GAS  /tmp/ccS1bHPU.s 			page 136


2805:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_PEND_SUSPENDED:
2806:rtos/uCOS-III/Source/os_task.c ****             case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
2807:rtos/uCOS-III/Source/os_task.c ****                  p_tcb->Prio = prio_new;                        /* Set new task priority           
2808:rtos/uCOS-III/Source/os_task.c ****                  switch (p_tcb->PendOn) {                       /* What to do depends on what we ar
2809:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_FLAG:
2810:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_Q:
2811:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_SEM:
2812:rtos/uCOS-III/Source/os_task.c ****                           OS_PendListChangePrio(p_tcb);
2813:rtos/uCOS-III/Source/os_task.c ****                           break;
2814:rtos/uCOS-III/Source/os_task.c **** 
2815:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_MUTEX:
2816:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
2817:rtos/uCOS-III/Source/os_task.c ****                           OS_PendListChangePrio(p_tcb);
2818:rtos/uCOS-III/Source/os_task.c ****                           p_tcb_owner = ((OS_MUTEX *)((void *)p_tcb->PendObjPtr))->OwnerTCBPtr;
2819:rtos/uCOS-III/Source/os_task.c ****                           if (prio_cur > prio_new) {            /* Are we increasing the priority? 
2820:rtos/uCOS-III/Source/os_task.c ****                               if (p_tcb_owner->Prio <= prio_new) { /* Yes, do we need to give this 
2821:rtos/uCOS-III/Source/os_task.c ****                                   p_tcb_owner = (OS_TCB *)0;
2822:rtos/uCOS-III/Source/os_task.c ****                               } else {
2823:rtos/uCOS-III/Source/os_task.c ****                                                                 /* Block is empty when trace is dis
2824:rtos/uCOS-III/Source/os_task.c ****                                  OS_TRACE_MUTEX_TASK_PRIO_INHERIT(p_tcb_owner, prio_new);
2825:rtos/uCOS-III/Source/os_task.c ****                               }
2826:rtos/uCOS-III/Source/os_task.c ****                           } else {
2827:rtos/uCOS-III/Source/os_task.c ****                               if (p_tcb_owner->Prio == prio_cur) { /* No, is it required to check f
2828:rtos/uCOS-III/Source/os_task.c ****                                   prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
2829:rtos/uCOS-III/Source/os_task.c ****                                   prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->Base
2830:rtos/uCOS-III/Source/os_task.c ****                                   if (prio_new == p_tcb_owner->Prio) {
2831:rtos/uCOS-III/Source/os_task.c ****                                       p_tcb_owner = (OS_TCB *)0;
2832:rtos/uCOS-III/Source/os_task.c ****                                   } else {
2833:rtos/uCOS-III/Source/os_task.c ****                                                                 /* Block is empty when trace is dis
2834:rtos/uCOS-III/Source/os_task.c ****                                      OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(p_tcb_owner, prio_new);
2835:rtos/uCOS-III/Source/os_task.c ****                                   }
2836:rtos/uCOS-III/Source/os_task.c ****                               }
2837:rtos/uCOS-III/Source/os_task.c ****                           }
2838:rtos/uCOS-III/Source/os_task.c **** #endif
2839:rtos/uCOS-III/Source/os_task.c ****                           break;
2840:rtos/uCOS-III/Source/os_task.c **** 
2841:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_TASK_Q:
2842:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_TASK_SEM:
2843:rtos/uCOS-III/Source/os_task.c ****                      default:
2844:rtos/uCOS-III/Source/os_task.c ****                                                                 /* Default case.                   
2845:rtos/uCOS-III/Source/os_task.c ****                           break;
2846:rtos/uCOS-III/Source/os_task.c ****                  }
2847:rtos/uCOS-III/Source/os_task.c ****                  break;
2848:rtos/uCOS-III/Source/os_task.c **** 
2849:rtos/uCOS-III/Source/os_task.c ****             default:
2850:rtos/uCOS-III/Source/os_task.c ****                  return;
2851:rtos/uCOS-III/Source/os_task.c ****         }
2852:rtos/uCOS-III/Source/os_task.c ****         p_tcb = p_tcb_owner;
 3830              		.loc 1 2852 9 view .LVU1535
2853:rtos/uCOS-III/Source/os_task.c ****     } while (p_tcb != (OS_TCB *)0);
 3831              		.loc 1 2853 13 view .LVU1536
 3832 003c 05E0     		b	.L271
 3833              	.LVL369:
 3834              	.L285:
2791:rtos/uCOS-III/Source/os_task.c ****                      OS_RdyListInsertHead(p_tcb);
 3835              		.loc 1 2791 22 view .LVU1537
 3836 003e 2046     		mov	r0, r4
ARM GAS  /tmp/ccS1bHPU.s 			page 137


 3837 0040 FFF7FEFF 		bl	OS_RdyListInsertHead
 3838              	.LVL370:
2852:rtos/uCOS-III/Source/os_task.c ****     } while (p_tcb != (OS_TCB *)0);
 3839              		.loc 1 2852 9 view .LVU1538
 3840              		.loc 1 2853 13 view .LVU1539
 3841 0044 01E0     		b	.L271
 3842              	.LVL371:
 3843              	.L275:
2800:rtos/uCOS-III/Source/os_task.c ****                  break;
 3844              		.loc 1 2800 18 view .LVU1540
2800:rtos/uCOS-III/Source/os_task.c ****                  break;
 3845              		.loc 1 2800 30 is_stmt 0 view .LVU1541
 3846 0046 84F82F50 		strb	r5, [r4, #47]
2801:rtos/uCOS-III/Source/os_task.c **** 
 3847              		.loc 1 2801 18 is_stmt 1 view .LVU1542
2852:rtos/uCOS-III/Source/os_task.c ****     } while (p_tcb != (OS_TCB *)0);
 3848              		.loc 1 2852 9 view .LVU1543
 3849              	.LVL372:
 3850              		.loc 1 2853 13 view .LVU1544
 3851              	.L271:
2854:rtos/uCOS-III/Source/os_task.c **** }
 3852              		.loc 1 2854 1 is_stmt 0 view .LVU1545
 3853 004a 70BD     		pop	{r4, r5, r6, pc}
 3854              	.LVL373:
 3855              	.L273:
2807:rtos/uCOS-III/Source/os_task.c ****                  switch (p_tcb->PendOn) {                       /* What to do depends on what we ar
 3856              		.loc 1 2807 18 is_stmt 1 view .LVU1546
2807:rtos/uCOS-III/Source/os_task.c ****                  switch (p_tcb->PendOn) {                       /* What to do depends on what we ar
 3857              		.loc 1 2807 30 is_stmt 0 view .LVU1547
 3858 004c 84F82F50 		strb	r5, [r4, #47]
2808:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_FLAG:
 3859              		.loc 1 2808 18 is_stmt 1 view .LVU1548
2808:rtos/uCOS-III/Source/os_task.c ****                      case OS_TASK_PEND_ON_FLAG:
 3860              		.loc 1 2808 31 is_stmt 0 view .LVU1549
 3861 0050 94F82C30 		ldrb	r3, [r4, #44]	@ zero_extendqisi2
 3862 0054 042B     		cmp	r3, #4
 3863 0056 0BD0     		beq	.L278
 3864 0058 04D9     		bls	.L286
 3865 005a 053B     		subs	r3, r3, #5
 3866 005c DBB2     		uxtb	r3, r3
 3867 005e 012B     		cmp	r3, #1
 3868 0060 F3D8     		bhi	.L271
 3869 0062 01E0     		b	.L280
 3870              	.L286:
 3871 0064 012B     		cmp	r3, #1
 3872 0066 F0D1     		bne	.L271
 3873              	.L280:
2812:rtos/uCOS-III/Source/os_task.c ****                           break;
 3874              		.loc 1 2812 27 is_stmt 1 view .LVU1550
 3875 0068 2046     		mov	r0, r4
 3876 006a FFF7FEFF 		bl	OS_PendListChangePrio
 3877              	.LVL374:
2813:rtos/uCOS-III/Source/os_task.c **** 
 3878              		.loc 1 2813 27 view .LVU1551
2852:rtos/uCOS-III/Source/os_task.c ****     } while (p_tcb != (OS_TCB *)0);
 3879              		.loc 1 2852 9 view .LVU1552
2853:rtos/uCOS-III/Source/os_task.c **** }
ARM GAS  /tmp/ccS1bHPU.s 			page 138


 3880              		.loc 1 2853 13 view .LVU1553
 3881 006e ECE7     		b	.L271
 3882              	.LVL375:
 3883              	.L278:
2817:rtos/uCOS-III/Source/os_task.c ****                           p_tcb_owner = ((OS_MUTEX *)((void *)p_tcb->PendObjPtr))->OwnerTCBPtr;
 3884              		.loc 1 2817 27 view .LVU1554
 3885 0070 2046     		mov	r0, r4
 3886 0072 FFF7FEFF 		bl	OS_PendListChangePrio
 3887              	.LVL376:
2818:rtos/uCOS-III/Source/os_task.c ****                           if (prio_cur > prio_new) {            /* Are we increasing the priority? 
 3888              		.loc 1 2818 27 view .LVU1555
2818:rtos/uCOS-III/Source/os_task.c ****                           if (prio_cur > prio_new) {            /* Are we increasing the priority? 
 3889              		.loc 1 2818 68 is_stmt 0 view .LVU1556
 3890 0076 A36A     		ldr	r3, [r4, #40]
2818:rtos/uCOS-III/Source/os_task.c ****                           if (prio_cur > prio_new) {            /* Are we increasing the priority? 
 3891              		.loc 1 2818 39 view .LVU1557
 3892 0078 1C69     		ldr	r4, [r3, #16]
 3893              	.LVL377:
2819:rtos/uCOS-III/Source/os_task.c ****                               if (p_tcb_owner->Prio <= prio_new) { /* Yes, do we need to give this 
 3894              		.loc 1 2819 27 is_stmt 1 view .LVU1558
2819:rtos/uCOS-III/Source/os_task.c ****                               if (p_tcb_owner->Prio <= prio_new) { /* Yes, do we need to give this 
 3895              		.loc 1 2819 30 is_stmt 0 view .LVU1559
 3896 007a B542     		cmp	r5, r6
 3897 007c 06D2     		bcs	.L281
2820:rtos/uCOS-III/Source/os_task.c ****                                   p_tcb_owner = (OS_TCB *)0;
 3898              		.loc 1 2820 31 is_stmt 1 view .LVU1560
2820:rtos/uCOS-III/Source/os_task.c ****                                   p_tcb_owner = (OS_TCB *)0;
 3899              		.loc 1 2820 46 is_stmt 0 view .LVU1561
 3900 007e 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
2820:rtos/uCOS-III/Source/os_task.c ****                                   p_tcb_owner = (OS_TCB *)0;
 3901              		.loc 1 2820 34 view .LVU1562
 3902 0082 AB42     		cmp	r3, r5
 3903 0084 E1D9     		bls	.L271
 3904              	.LVL378:
 3905              	.L282:
2852:rtos/uCOS-III/Source/os_task.c ****     } while (p_tcb != (OS_TCB *)0);
 3906              		.loc 1 2852 9 is_stmt 1 view .LVU1563
2853:rtos/uCOS-III/Source/os_task.c **** }
 3907              		.loc 1 2853 13 view .LVU1564
2853:rtos/uCOS-III/Source/os_task.c **** }
 3908              		.loc 1 2853 5 is_stmt 0 view .LVU1565
 3909 0086 002C     		cmp	r4, #0
 3910 0088 BDD1     		bne	.L283
 3911 008a DEE7     		b	.L271
 3912              	.LVL379:
 3913              	.L281:
2827:rtos/uCOS-III/Source/os_task.c ****                                   prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 3914              		.loc 1 2827 31 is_stmt 1 view .LVU1566
2827:rtos/uCOS-III/Source/os_task.c ****                                   prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 3915              		.loc 1 2827 46 is_stmt 0 view .LVU1567
 3916 008c 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
2827:rtos/uCOS-III/Source/os_task.c ****                                   prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 3917              		.loc 1 2827 34 view .LVU1568
 3918 0090 B342     		cmp	r3, r6
 3919 0092 F8D1     		bne	.L282
2828:rtos/uCOS-III/Source/os_task.c ****                                   prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->Base
 3920              		.loc 1 2828 35 is_stmt 1 view .LVU1569
ARM GAS  /tmp/ccS1bHPU.s 			page 139


2828:rtos/uCOS-III/Source/os_task.c ****                                   prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->Base
 3921              		.loc 1 2828 46 is_stmt 0 view .LVU1570
 3922 0094 2046     		mov	r0, r4
 3923 0096 FFF7FEFF 		bl	OS_MutexGrpPrioFindHighest
 3924              	.LVL380:
2829:rtos/uCOS-III/Source/os_task.c ****                                   if (prio_new == p_tcb_owner->Prio) {
 3925              		.loc 1 2829 35 is_stmt 1 view .LVU1571
2829:rtos/uCOS-III/Source/os_task.c ****                                   if (prio_new == p_tcb_owner->Prio) {
 3926              		.loc 1 2829 69 is_stmt 0 view .LVU1572
 3927 009a 94F83050 		ldrb	r5, [r4, #48]	@ zero_extendqisi2
2829:rtos/uCOS-III/Source/os_task.c ****                                   if (prio_new == p_tcb_owner->Prio) {
 3928              		.loc 1 2829 44 view .LVU1573
 3929 009e 8542     		cmp	r5, r0
 3930 00a0 28BF     		it	cs
 3931 00a2 0546     		movcs	r5, r0
 3932 00a4 EDB2     		uxtb	r5, r5
 3933              	.LVL381:
2830:rtos/uCOS-III/Source/os_task.c ****                                       p_tcb_owner = (OS_TCB *)0;
 3934              		.loc 1 2830 35 is_stmt 1 view .LVU1574
2830:rtos/uCOS-III/Source/os_task.c ****                                       p_tcb_owner = (OS_TCB *)0;
 3935              		.loc 1 2830 62 is_stmt 0 view .LVU1575
 3936 00a6 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
2830:rtos/uCOS-III/Source/os_task.c ****                                       p_tcb_owner = (OS_TCB *)0;
 3937              		.loc 1 2830 38 view .LVU1576
 3938 00aa AB42     		cmp	r3, r5
 3939 00ac EBD1     		bne	.L282
 3940 00ae CCE7     		b	.L271
 3941              	.L288:
 3942              		.align	2
 3943              	.L287:
 3944 00b0 00000000 		.word	OSTCBCurPtr
 3945              		.cfi_endproc
 3946              	.LFE21:
 3948              		.section	.text.OSTaskChangePrio,"ax",%progbits
 3949              		.align	1
 3950              		.global	OSTaskChangePrio
 3951              		.syntax unified
 3952              		.thumb
 3953              		.thumb_func
 3954              		.fpu fpv4-sp-d16
 3956              	OSTaskChangePrio:
 3957              	.LVL382:
 3958              	.LFB0:
  73:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 3959              		.loc 1 73 1 is_stmt 1 view -0
 3960              		.cfi_startproc
 3961              		@ args = 0, pretend = 0, frame = 0
 3962              		@ frame_needed = 0, uses_anonymous_args = 0
  73:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 3963              		.loc 1 73 1 is_stmt 0 view .LVU1578
 3964 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3965              	.LCFI27:
 3966              		.cfi_def_cfa_offset 24
 3967              		.cfi_offset 3, -24
 3968              		.cfi_offset 4, -20
 3969              		.cfi_offset 5, -16
 3970              		.cfi_offset 6, -12
ARM GAS  /tmp/ccS1bHPU.s 			page 140


 3971              		.cfi_offset 7, -8
 3972              		.cfi_offset 14, -4
 3973 0002 0C46     		mov	r4, r1
 3974 0004 1646     		mov	r6, r2
  75:rtos/uCOS-III/Source/os_task.c **** #endif
 3975              		.loc 1 75 5 is_stmt 1 view .LVU1579
  77:rtos/uCOS-III/Source/os_task.c **** 
 3976              		.loc 1 77 5 view .LVU1580
 3977              	.LVL383:
  88:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STATE_INVALID;
 3978              		.loc 1 88 5 view .LVU1581
  88:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STATE_INVALID;
 3979              		.loc 1 88 8 is_stmt 0 view .LVU1582
 3980 0006 0546     		mov	r5, r0
 3981 0008 18B1     		cbz	r0, .L290
  88:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STATE_INVALID;
 3982              		.loc 1 88 41 discriminator 1 view .LVU1583
 3983 000a 90F82E30 		ldrb	r3, [r0, #46]	@ zero_extendqisi2
  88:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_STATE_INVALID;
 3984              		.loc 1 88 32 discriminator 1 view .LVU1584
 3985 000e FF2B     		cmp	r3, #255
 3986 0010 08D0     		beq	.L300
 3987              	.L290:
  95:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_CHANGE_PRIO_ISR;
 3988              		.loc 1 95 5 is_stmt 1 view .LVU1585
  95:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_CHANGE_PRIO_ISR;
 3989              		.loc 1 95 25 is_stmt 0 view .LVU1586
 3990 0012 214B     		ldr	r3, .L306
 3991 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  95:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_CHANGE_PRIO_ISR;
 3992              		.loc 1 95 8 view .LVU1587
 3993 0016 4BB9     		cbnz	r3, .L301
 101:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PRIO_INVALID;
 3994              		.loc 1 101 5 is_stmt 1 view .LVU1588
 101:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_PRIO_INVALID;
 3995              		.loc 1 101 8 is_stmt 0 view .LVU1589
 3996 0018 3E2C     		cmp	r4, #62
 3997 001a 0BD9     		bls	.L293
 102:rtos/uCOS-III/Source/os_task.c ****         return;
 3998              		.loc 1 102 8 is_stmt 1 view .LVU1590
 102:rtos/uCOS-III/Source/os_task.c ****         return;
 3999              		.loc 1 102 15 is_stmt 0 view .LVU1591
 4000 001c 46F27323 		movw	r3, #25203
 4001 0020 3380     		strh	r3, [r6]	@ movhi
 103:rtos/uCOS-III/Source/os_task.c ****     }
 4002              		.loc 1 103 9 is_stmt 1 view .LVU1592
 4003 0022 06E0     		b	.L289
 4004              	.L300:
  89:rtos/uCOS-III/Source/os_task.c ****         return;
 4005              		.loc 1 89 8 view .LVU1593
  89:rtos/uCOS-III/Source/os_task.c ****         return;
 4006              		.loc 1 89 15 is_stmt 0 view .LVU1594
 4007 0024 46F62D63 		movw	r3, #28205
 4008 0028 1380     		strh	r3, [r2]	@ movhi
  90:rtos/uCOS-III/Source/os_task.c ****     }
 4009              		.loc 1 90 9 is_stmt 1 view .LVU1595
 4010 002a 02E0     		b	.L289
ARM GAS  /tmp/ccS1bHPU.s 			page 141


 4011              	.L301:
  96:rtos/uCOS-III/Source/os_task.c ****         return;
 4012              		.loc 1 96 8 view .LVU1596
  96:rtos/uCOS-III/Source/os_task.c ****         return;
 4013              		.loc 1 96 15 is_stmt 0 view .LVU1597
 4014 002c 47F24913 		movw	r3, #29001
 4015 0030 3380     		strh	r3, [r6]	@ movhi
  97:rtos/uCOS-III/Source/os_task.c ****     }
 4016              		.loc 1 97 9 is_stmt 1 view .LVU1598
 4017              	.LVL384:
 4018              	.L289:
 140:rtos/uCOS-III/Source/os_task.c **** #endif
 4019              		.loc 1 140 1 is_stmt 0 view .LVU1599
 4020 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4021              	.LVL385:
 4022              	.L293:
 106:rtos/uCOS-III/Source/os_task.c **** 
 4023              		.loc 1 106 5 is_stmt 1 view .LVU1600
 106:rtos/uCOS-III/Source/os_task.c **** 
 4024              		.loc 1 106 5 view .LVU1601
 106:rtos/uCOS-III/Source/os_task.c **** 
 4025              		.loc 1 106 5 view .LVU1602
 4026 0034 4020     		movs	r0, #64
 4027              	.LVL386:
 106:rtos/uCOS-III/Source/os_task.c **** 
 4028              		.loc 1 106 5 is_stmt 0 view .LVU1603
 4029 0036 FFF7FEFF 		bl	CPU_SR_Save
 4030              	.LVL387:
 106:rtos/uCOS-III/Source/os_task.c **** 
 4031              		.loc 1 106 5 view .LVU1604
 4032 003a 0746     		mov	r7, r0
 4033              	.LVL388:
 106:rtos/uCOS-III/Source/os_task.c **** 
 4034              		.loc 1 106 5 is_stmt 1 view .LVU1605
 106:rtos/uCOS-III/Source/os_task.c **** 
 4035              		.loc 1 106 5 view .LVU1606
 108:rtos/uCOS-III/Source/os_task.c ****         if (OSRunning != OS_STATE_OS_RUNNING) {
 4036              		.loc 1 108 5 view .LVU1607
 108:rtos/uCOS-III/Source/os_task.c ****         if (OSRunning != OS_STATE_OS_RUNNING) {
 4037              		.loc 1 108 8 is_stmt 0 view .LVU1608
 4038 003c ADB1     		cbz	r5, .L302
 4039              	.L294:
 118:rtos/uCOS-III/Source/os_task.c **** 
 4040              		.loc 1 118 5 is_stmt 1 view .LVU1609
 118:rtos/uCOS-III/Source/os_task.c **** 
 4041              		.loc 1 118 21 is_stmt 0 view .LVU1610
 4042 003e 85F83040 		strb	r4, [r5, #48]
 120:rtos/uCOS-III/Source/os_task.c ****         if (prio_new > p_tcb->Prio) {
 4043              		.loc 1 120 5 is_stmt 1 view .LVU1611
 120:rtos/uCOS-III/Source/os_task.c ****         if (prio_new > p_tcb->Prio) {
 4044              		.loc 1 120 14 is_stmt 0 view .LVU1612
 4045 0042 6B6B     		ldr	r3, [r5, #52]
 120:rtos/uCOS-III/Source/os_task.c ****         if (prio_new > p_tcb->Prio) {
 4046              		.loc 1 120 8 view .LVU1613
 4047 0044 1BB1     		cbz	r3, .L296
 121:rtos/uCOS-III/Source/os_task.c ****             prio_high = OS_MutexGrpPrioFindHighest(p_tcb);
 4048              		.loc 1 121 9 is_stmt 1 view .LVU1614
ARM GAS  /tmp/ccS1bHPU.s 			page 142


 121:rtos/uCOS-III/Source/os_task.c ****             prio_high = OS_MutexGrpPrioFindHighest(p_tcb);
 4049              		.loc 1 121 29 is_stmt 0 view .LVU1615
 4050 0046 95F82F30 		ldrb	r3, [r5, #47]	@ zero_extendqisi2
 121:rtos/uCOS-III/Source/os_task.c ****             prio_high = OS_MutexGrpPrioFindHighest(p_tcb);
 4051              		.loc 1 121 12 view .LVU1616
 4052 004a A342     		cmp	r3, r4
 4053 004c 1AD3     		bcc	.L303
 4054              	.LVL389:
 4055              	.L296:
 130:rtos/uCOS-III/Source/os_task.c **** 
 4056              		.loc 1 130 5 is_stmt 1 view .LVU1617
 4057 004e 2146     		mov	r1, r4
 4058 0050 2846     		mov	r0, r5
 4059 0052 FFF7FEFF 		bl	OS_TaskChangePrio
 4060              	.LVL390:
 132:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 4061              		.loc 1 132 47 view .LVU1618
 133:rtos/uCOS-III/Source/os_task.c **** 
 4062              		.loc 1 133 5 view .LVU1619
 133:rtos/uCOS-III/Source/os_task.c **** 
 4063              		.loc 1 133 5 view .LVU1620
 133:rtos/uCOS-III/Source/os_task.c **** 
 4064              		.loc 1 133 5 view .LVU1621
 4065 0056 3846     		mov	r0, r7
 4066 0058 FFF7FEFF 		bl	CPU_SR_Restore
 4067              	.LVL391:
 133:rtos/uCOS-III/Source/os_task.c **** 
 4068              		.loc 1 133 5 view .LVU1622
 133:rtos/uCOS-III/Source/os_task.c **** 
 4069              		.loc 1 133 5 view .LVU1623
 135:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run highest priority task ready 
 4070              		.loc 1 135 5 view .LVU1624
 135:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run highest priority task ready 
 4071              		.loc 1 135 19 is_stmt 0 view .LVU1625
 4072 005c 0F4B     		ldr	r3, .L306+4
 4073 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 135:rtos/uCOS-III/Source/os_task.c ****         OSSched();                                              /* Run highest priority task ready 
 4074              		.loc 1 135 8 view .LVU1626
 4075 0060 012B     		cmp	r3, #1
 4076 0062 16D0     		beq	.L304
 4077              	.L297:
 139:rtos/uCOS-III/Source/os_task.c **** }
 4078              		.loc 1 139 4 is_stmt 1 view .LVU1627
 139:rtos/uCOS-III/Source/os_task.c **** }
 4079              		.loc 1 139 11 is_stmt 0 view .LVU1628
 4080 0064 0023     		movs	r3, #0
 4081 0066 3380     		strh	r3, [r6]	@ movhi
 4082 0068 E3E7     		b	.L289
 4083              	.LVL392:
 4084              	.L302:
 109:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 4085              		.loc 1 109 9 is_stmt 1 view .LVU1629
 109:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
 4086              		.loc 1 109 23 is_stmt 0 view .LVU1630
 4087 006a 0C4B     		ldr	r3, .L306+4
 4088 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 109:rtos/uCOS-III/Source/os_task.c ****             CPU_CRITICAL_EXIT();
ARM GAS  /tmp/ccS1bHPU.s 			page 143


 4089              		.loc 1 109 12 view .LVU1631
 4090 006e 012B     		cmp	r3, #1
 4091 0070 02D1     		bne	.L305
 114:rtos/uCOS-III/Source/os_task.c ****     }
 4092              		.loc 1 114 9 is_stmt 1 view .LVU1632
 114:rtos/uCOS-III/Source/os_task.c ****     }
 4093              		.loc 1 114 15 is_stmt 0 view .LVU1633
 4094 0072 0B4B     		ldr	r3, .L306+8
 4095 0074 1D68     		ldr	r5, [r3]
 4096              	.LVL393:
 114:rtos/uCOS-III/Source/os_task.c ****     }
 4097              		.loc 1 114 15 view .LVU1634
 4098 0076 E2E7     		b	.L294
 4099              	.L305:
 110:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 4100              		.loc 1 110 13 is_stmt 1 view .LVU1635
 110:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 4101              		.loc 1 110 13 view .LVU1636
 110:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 4102              		.loc 1 110 13 view .LVU1637
 4103 0078 FFF7FEFF 		bl	CPU_SR_Restore
 4104              	.LVL394:
 110:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 4105              		.loc 1 110 13 view .LVU1638
 110:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_OS_NOT_RUNNING;
 4106              		.loc 1 110 13 view .LVU1639
 111:rtos/uCOS-III/Source/os_task.c ****             return;
 4107              		.loc 1 111 12 view .LVU1640
 111:rtos/uCOS-III/Source/os_task.c ****             return;
 4108              		.loc 1 111 19 is_stmt 0 view .LVU1641
 4109 007c 45F68963 		movw	r3, #24201
 4110 0080 3380     		strh	r3, [r6]	@ movhi
 112:rtos/uCOS-III/Source/os_task.c ****         }
 4111              		.loc 1 112 13 is_stmt 1 view .LVU1642
 4112 0082 D6E7     		b	.L289
 4113              	.LVL395:
 4114              	.L303:
 122:rtos/uCOS-III/Source/os_task.c ****             if (prio_new > prio_high) {
 4115              		.loc 1 122 13 view .LVU1643
 122:rtos/uCOS-III/Source/os_task.c ****             if (prio_new > prio_high) {
 4116              		.loc 1 122 25 is_stmt 0 view .LVU1644
 4117 0084 2846     		mov	r0, r5
 4118              	.LVL396:
 122:rtos/uCOS-III/Source/os_task.c ****             if (prio_new > prio_high) {
 4119              		.loc 1 122 25 view .LVU1645
 4120 0086 FFF7FEFF 		bl	OS_MutexGrpPrioFindHighest
 4121              	.LVL397:
 123:rtos/uCOS-III/Source/os_task.c ****                 prio_new = prio_high;
 4122              		.loc 1 123 13 is_stmt 1 view .LVU1646
 123:rtos/uCOS-III/Source/os_task.c ****                 prio_new = prio_high;
 4123              		.loc 1 123 16 is_stmt 0 view .LVU1647
 4124 008a 8442     		cmp	r4, r0
 4125 008c DFD9     		bls	.L296
 124:rtos/uCOS-III/Source/os_task.c ****             }
 4126              		.loc 1 124 26 view .LVU1648
 4127 008e 0446     		mov	r4, r0
 4128 0090 DDE7     		b	.L296
ARM GAS  /tmp/ccS1bHPU.s 			page 144


 4129              	.LVL398:
 4130              	.L304:
 136:rtos/uCOS-III/Source/os_task.c ****     }
 4131              		.loc 1 136 9 is_stmt 1 view .LVU1649
 4132 0092 FFF7FEFF 		bl	OSSched
 4133              	.LVL399:
 4134 0096 E5E7     		b	.L297
 4135              	.L307:
 4136              		.align	2
 4137              	.L306:
 4138 0098 00000000 		.word	OSIntNestingCtr
 4139 009c 00000000 		.word	OSRunning
 4140 00a0 00000000 		.word	OSTCBCurPtr
 4141              		.cfi_endproc
 4142              	.LFE0:
 4144              		.section	.text.OSTaskDel,"ax",%progbits
 4145              		.align	1
 4146              		.global	OSTaskDel
 4147              		.syntax unified
 4148              		.thumb
 4149              		.thumb_func
 4150              		.fpu fpv4-sp-d16
 4152              	OSTaskDel:
 4153              	.LVL400:
 4154              	.LFB2:
 493:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 4155              		.loc 1 493 1 view -0
 4156              		.cfi_startproc
 4157              		@ args = 0, pretend = 0, frame = 0
 4158              		@ frame_needed = 0, uses_anonymous_args = 0
 493:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_MUTEX_EN > 0u)
 4159              		.loc 1 493 1 is_stmt 0 view .LVU1651
 4160 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4161              	.LCFI28:
 4162              		.cfi_def_cfa_offset 24
 4163              		.cfi_offset 4, -24
 4164              		.cfi_offset 5, -20
 4165              		.cfi_offset 6, -16
 4166              		.cfi_offset 7, -12
 4167              		.cfi_offset 8, -8
 4168              		.cfi_offset 14, -4
 4169 0004 0D46     		mov	r5, r1
 495:rtos/uCOS-III/Source/os_task.c ****     OS_PRIO   prio_new;
 4170              		.loc 1 495 5 is_stmt 1 view .LVU1652
 496:rtos/uCOS-III/Source/os_task.c **** #endif
 4171              		.loc 1 496 5 view .LVU1653
 498:rtos/uCOS-III/Source/os_task.c **** 
 4172              		.loc 1 498 5 view .LVU1654
 4173              	.LVL401:
 516:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_DEL_ISR;
 4174              		.loc 1 516 5 view .LVU1655
 516:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_DEL_ISR;
 4175              		.loc 1 516 25 is_stmt 0 view .LVU1656
 4176 0006 4D4B     		ldr	r3, .L333
 4177 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 516:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_DEL_ISR;
 4178              		.loc 1 516 8 view .LVU1657
ARM GAS  /tmp/ccS1bHPU.s 			page 145


 4179 000a 43B9     		cbnz	r3, .L328
 4180 000c 0446     		mov	r4, r0
 523:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 4181              		.loc 1 523 5 is_stmt 1 view .LVU1658
 523:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 4182              		.loc 1 523 19 is_stmt 0 view .LVU1659
 4183 000e 4C4B     		ldr	r3, .L333+4
 4184 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 523:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 4185              		.loc 1 523 8 view .LVU1660
 4186 0012 012B     		cmp	r3, #1
 4187 0014 08D0     		beq	.L311
 524:rtos/uCOS-III/Source/os_task.c ****         return;
 4188              		.loc 1 524 8 is_stmt 1 view .LVU1661
 524:rtos/uCOS-III/Source/os_task.c ****         return;
 4189              		.loc 1 524 15 is_stmt 0 view .LVU1662
 4190 0016 45F68963 		movw	r3, #24201
 4191 001a 0B80     		strh	r3, [r1]	@ movhi
 525:rtos/uCOS-III/Source/os_task.c ****     }
 4192              		.loc 1 525 9 is_stmt 1 view .LVU1663
 4193 001c 02E0     		b	.L308
 4194              	.L328:
 517:rtos/uCOS-III/Source/os_task.c ****         return;
 4195              		.loc 1 517 8 view .LVU1664
 517:rtos/uCOS-III/Source/os_task.c ****         return;
 4196              		.loc 1 517 15 is_stmt 0 view .LVU1665
 4197 001e 47F24E13 		movw	r3, #29006
 4198 0022 0B80     		strh	r3, [r1]	@ movhi
 518:rtos/uCOS-III/Source/os_task.c ****     }
 4199              		.loc 1 518 9 is_stmt 1 view .LVU1666
 4200              	.LVL402:
 4201              	.L308:
 644:rtos/uCOS-III/Source/os_task.c **** #endif
 4202              		.loc 1 644 1 is_stmt 0 view .LVU1667
 4203 0024 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4204              	.LVL403:
 4205              	.L311:
 530:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_DEL_IDLE;
 4206              		.loc 1 530 5 is_stmt 1 view .LVU1668
 530:rtos/uCOS-III/Source/os_task.c ****        *p_err = OS_ERR_TASK_DEL_IDLE;
 4207              		.loc 1 530 8 is_stmt 0 view .LVU1669
 4208 0028 464B     		ldr	r3, .L333+8
 4209 002a 9842     		cmp	r0, r3
 4210 002c 0ED0     		beq	.L329
 536:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_ENTER();
 4211              		.loc 1 536 5 is_stmt 1 view .LVU1670
 536:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_ENTER();
 4212              		.loc 1 536 8 is_stmt 0 view .LVU1671
 4213 002e 88B1     		cbz	r0, .L330
 4214              	.LVL404:
 4215              	.L313:
 539:rtos/uCOS-III/Source/os_task.c ****     }
 4216              		.loc 1 539 9 is_stmt 1 discriminator 1 view .LVU1672
 539:rtos/uCOS-III/Source/os_task.c ****     }
 4217              		.loc 1 539 9 discriminator 1 view .LVU1673
 542:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 4218              		.loc 1 542 5 discriminator 1 view .LVU1674
ARM GAS  /tmp/ccS1bHPU.s 			page 146


 542:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 4219              		.loc 1 542 5 discriminator 1 view .LVU1675
 542:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 4220              		.loc 1 542 5 discriminator 1 view .LVU1676
 4221 0030 4020     		movs	r0, #64
 4222 0032 FFF7FEFF 		bl	CPU_SR_Save
 4223              	.LVL405:
 4224 0036 0646     		mov	r6, r0
 4225              	.LVL406:
 542:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 4226              		.loc 1 542 5 discriminator 1 view .LVU1677
 542:rtos/uCOS-III/Source/os_task.c ****     switch (p_tcb->TaskState) {
 4227              		.loc 1 542 5 discriminator 1 view .LVU1678
 543:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 4228              		.loc 1 543 5 discriminator 1 view .LVU1679
 543:rtos/uCOS-III/Source/os_task.c ****         case OS_TASK_STATE_RDY:
 4229              		.loc 1 543 18 is_stmt 0 discriminator 1 view .LVU1680
 4230 0038 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
 4231 003c 072B     		cmp	r3, #7
 4232 003e 77D8     		bhi	.L314
 4233 0040 DFE803F0 		tbb	[pc, r3]
 4234              	.L316:
 4235 0044 10       		.byte	(.L319-.L316)/2
 4236 0045 31       		.byte	(.L317-.L316)/2
 4237 0046 35       		.byte	(.L315-.L316)/2
 4238 0047 35       		.byte	(.L315-.L316)/2
 4239 0048 13       		.byte	(.L318-.L316)/2
 4240 0049 31       		.byte	(.L317-.L316)/2
 4241 004a 35       		.byte	(.L315-.L316)/2
 4242 004b 35       		.byte	(.L315-.L316)/2
 4243              	.LVL407:
 4244              		.p2align 1
 4245              	.L329:
 531:rtos/uCOS-III/Source/os_task.c ****         return;
 4246              		.loc 1 531 8 is_stmt 1 view .LVU1681
 531:rtos/uCOS-III/Source/os_task.c ****         return;
 4247              		.loc 1 531 15 is_stmt 0 view .LVU1682
 4248 004c 47F24C13 		movw	r3, #29004
 4249 0050 0B80     		strh	r3, [r1]	@ movhi
 532:rtos/uCOS-III/Source/os_task.c ****     }
 4250              		.loc 1 532 9 is_stmt 1 view .LVU1683
 4251 0052 E7E7     		b	.L308
 4252              	.L330:
 537:rtos/uCOS-III/Source/os_task.c ****         p_tcb  = OSTCBCurPtr;                                   /* Yes.                            
 4253              		.loc 1 537 9 view .LVU1684
 537:rtos/uCOS-III/Source/os_task.c ****         p_tcb  = OSTCBCurPtr;                                   /* Yes.                            
 4254              		.loc 1 537 9 view .LVU1685
 537:rtos/uCOS-III/Source/os_task.c ****         p_tcb  = OSTCBCurPtr;                                   /* Yes.                            
 4255              		.loc 1 537 9 view .LVU1686
 4256 0054 4020     		movs	r0, #64
 4257              	.LVL408:
 537:rtos/uCOS-III/Source/os_task.c ****         p_tcb  = OSTCBCurPtr;                                   /* Yes.                            
 4258              		.loc 1 537 9 is_stmt 0 view .LVU1687
 4259 0056 FFF7FEFF 		bl	CPU_SR_Save
 4260              	.LVL409:
 537:rtos/uCOS-III/Source/os_task.c ****         p_tcb  = OSTCBCurPtr;                                   /* Yes.                            
 4261              		.loc 1 537 9 is_stmt 1 view .LVU1688
ARM GAS  /tmp/ccS1bHPU.s 			page 147


 537:rtos/uCOS-III/Source/os_task.c ****         p_tcb  = OSTCBCurPtr;                                   /* Yes.                            
 4262              		.loc 1 537 9 view .LVU1689
 538:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 4263              		.loc 1 538 9 view .LVU1690
 538:rtos/uCOS-III/Source/os_task.c ****         CPU_CRITICAL_EXIT();
 4264              		.loc 1 538 16 is_stmt 0 view .LVU1691
 4265 005a 3B4B     		ldr	r3, .L333+12
 4266 005c 1C68     		ldr	r4, [r3]
 4267              	.LVL410:
 539:rtos/uCOS-III/Source/os_task.c ****     }
 4268              		.loc 1 539 9 is_stmt 1 view .LVU1692
 539:rtos/uCOS-III/Source/os_task.c ****     }
 4269              		.loc 1 539 9 view .LVU1693
 539:rtos/uCOS-III/Source/os_task.c ****     }
 4270              		.loc 1 539 9 view .LVU1694
 4271 005e FFF7FEFF 		bl	CPU_SR_Restore
 4272              	.LVL411:
 539:rtos/uCOS-III/Source/os_task.c ****     }
 4273              		.loc 1 539 9 is_stmt 0 view .LVU1695
 4274 0062 E5E7     		b	.L313
 4275              	.LVL412:
 4276              	.L319:
 545:rtos/uCOS-III/Source/os_task.c ****              break;
 4277              		.loc 1 545 14 is_stmt 1 view .LVU1696
 4278 0064 2046     		mov	r0, r4
 4279              	.LVL413:
 545:rtos/uCOS-III/Source/os_task.c ****              break;
 4280              		.loc 1 545 14 is_stmt 0 view .LVU1697
 4281 0066 FFF7FEFF 		bl	OS_RdyListRemove
 4282              	.LVL414:
 546:rtos/uCOS-III/Source/os_task.c **** 
 4283              		.loc 1 546 14 is_stmt 1 view .LVU1698
 4284              	.L318:
 612:rtos/uCOS-III/Source/os_task.c ****         OS_MutexGrpPostAll(p_tcb);
 4285              		.loc 1 612 5 view .LVU1699
 612:rtos/uCOS-III/Source/os_task.c ****         OS_MutexGrpPostAll(p_tcb);
 4286              		.loc 1 612 13 is_stmt 0 view .LVU1700
 4287 006a 636B     		ldr	r3, [r4, #52]
 612:rtos/uCOS-III/Source/os_task.c ****         OS_MutexGrpPostAll(p_tcb);
 4288              		.loc 1 612 7 view .LVU1701
 4289 006c 13B1     		cbz	r3, .L326
 613:rtos/uCOS-III/Source/os_task.c ****     }
 4290              		.loc 1 613 9 is_stmt 1 view .LVU1702
 4291 006e 2046     		mov	r0, r4
 4292 0070 FFF7FEFF 		bl	OS_MutexGrpPostAll
 4293              	.LVL415:
 4294              	.L326:
 618:rtos/uCOS-III/Source/os_task.c **** #endif
 4295              		.loc 1 618 5 view .LVU1703
 618:rtos/uCOS-III/Source/os_task.c **** #endif
 4296              		.loc 1 618 11 is_stmt 0 view .LVU1704
 4297 0074 04F15C00 		add	r0, r4, #92
 4298 0078 FFF7FEFF 		bl	OS_MsgQFreeAll
 4299              	.LVL416:
 621:rtos/uCOS-III/Source/os_task.c **** 
 4300              		.loc 1 621 5 is_stmt 1 view .LVU1705
 4301 007c 2046     		mov	r0, r4
ARM GAS  /tmp/ccS1bHPU.s 			page 148


 4302 007e FFF7FEFF 		bl	OSTaskDelHook
 4303              	.LVL417:
 631:rtos/uCOS-III/Source/os_task.c **** 
 4304              		.loc 1 631 5 view .LVU1706
 631:rtos/uCOS-III/Source/os_task.c **** 
 4305              		.loc 1 631 14 is_stmt 0 view .LVU1707
 4306 0082 324A     		ldr	r2, .L333+16
 4307 0084 1388     		ldrh	r3, [r2]
 4308 0086 013B     		subs	r3, r3, #1
 4309 0088 1380     		strh	r3, [r2]	@ movhi
 633:rtos/uCOS-III/Source/os_task.c **** 
 4310              		.loc 1 633 29 is_stmt 1 view .LVU1708
 636:rtos/uCOS-III/Source/os_task.c **** #endif
 4311              		.loc 1 636 5 view .LVU1709
 4312 008a 2046     		mov	r0, r4
 4313 008c FFF7FEFF 		bl	OS_TaskInitTCB
 4314              	.LVL418:
 638:rtos/uCOS-III/Source/os_task.c **** 
 4315              		.loc 1 638 5 view .LVU1710
 638:rtos/uCOS-III/Source/os_task.c **** 
 4316              		.loc 1 638 22 is_stmt 0 view .LVU1711
 4317 0090 FF23     		movs	r3, #255
 4318 0092 84F82E30 		strb	r3, [r4, #46]
 640:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 4319              		.loc 1 640 4 is_stmt 1 view .LVU1712
 640:rtos/uCOS-III/Source/os_task.c ****     CPU_CRITICAL_EXIT();
 4320              		.loc 1 640 11 is_stmt 0 view .LVU1713
 4321 0096 0023     		movs	r3, #0
 4322 0098 2B80     		strh	r3, [r5]	@ movhi
 641:rtos/uCOS-III/Source/os_task.c **** 
 4323              		.loc 1 641 5 is_stmt 1 view .LVU1714
 641:rtos/uCOS-III/Source/os_task.c **** 
 4324              		.loc 1 641 5 view .LVU1715
 641:rtos/uCOS-III/Source/os_task.c **** 
 4325              		.loc 1 641 5 view .LVU1716
 4326 009a 3046     		mov	r0, r6
 4327 009c FFF7FEFF 		bl	CPU_SR_Restore
 4328              	.LVL419:
 641:rtos/uCOS-III/Source/os_task.c **** 
 4329              		.loc 1 641 5 view .LVU1717
 641:rtos/uCOS-III/Source/os_task.c **** 
 4330              		.loc 1 641 5 view .LVU1718
 643:rtos/uCOS-III/Source/os_task.c **** }
 4331              		.loc 1 643 5 view .LVU1719
 4332 00a0 FFF7FEFF 		bl	OSSched
 4333              	.LVL420:
 4334 00a4 BEE7     		b	.L308
 4335              	.LVL421:
 4336              	.L317:
 554:rtos/uCOS-III/Source/os_task.c **** #endif
 4337              		.loc 1 554 14 view .LVU1720
 4338 00a6 2046     		mov	r0, r4
 4339              	.LVL422:
 554:rtos/uCOS-III/Source/os_task.c **** #endif
 4340              		.loc 1 554 14 is_stmt 0 view .LVU1721
 4341 00a8 FFF7FEFF 		bl	OS_TickListRemove
 4342              	.LVL423:
ARM GAS  /tmp/ccS1bHPU.s 			page 149


 556:rtos/uCOS-III/Source/os_task.c **** 
 4343              		.loc 1 556 14 is_stmt 1 view .LVU1722
 4344 00ac DDE7     		b	.L318
 4345              	.LVL424:
 4346              	.L315:
 562:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_NOTHING:
 4347              		.loc 1 562 14 view .LVU1723
 562:rtos/uCOS-III/Source/os_task.c ****                  case OS_TASK_PEND_ON_NOTHING:
 4348              		.loc 1 562 27 is_stmt 0 view .LVU1724
 4349 00ae 94F82C30 		ldrb	r3, [r4, #44]	@ zero_extendqisi2
 4350 00b2 042B     		cmp	r3, #4
 4351 00b4 14D0     		beq	.L320
 4352 00b6 07D9     		bls	.L331
 4353 00b8 053B     		subs	r3, r3, #5
 4354 00ba DBB2     		uxtb	r3, r3
 4355 00bc 012B     		cmp	r3, #1
 4356 00be 05D8     		bhi	.L323
 4357              	.L322:
 571:rtos/uCOS-III/Source/os_task.c ****                       break;
 4358              		.loc 1 571 23 is_stmt 1 view .LVU1725
 4359 00c0 2046     		mov	r0, r4
 4360              	.LVL425:
 571:rtos/uCOS-III/Source/os_task.c ****                       break;
 4361              		.loc 1 571 23 is_stmt 0 view .LVU1726
 4362 00c2 FFF7FEFF 		bl	OS_PendListRemove
 4363              	.LVL426:
 572:rtos/uCOS-III/Source/os_task.c **** 
 4364              		.loc 1 572 23 is_stmt 1 view .LVU1727
 4365 00c6 01E0     		b	.L323
 4366              	.LVL427:
 4367              	.L331:
 572:rtos/uCOS-III/Source/os_task.c **** 
 4368              		.loc 1 572 23 is_stmt 0 view .LVU1728
 4369 00c8 012B     		cmp	r3, #1
 4370 00ca F9D0     		beq	.L322
 4371              	.LVL428:
 4372              	.L323:
 598:rtos/uCOS-III/Source/os_task.c ****                  (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED)) {
 4373              		.loc 1 598 14 is_stmt 1 view .LVU1729
 598:rtos/uCOS-III/Source/os_task.c ****                  (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED)) {
 4374              		.loc 1 598 24 is_stmt 0 view .LVU1730
 4375 00cc 94F82E30 		ldrb	r3, [r4, #46]	@ zero_extendqisi2
 598:rtos/uCOS-III/Source/os_task.c ****                  (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED)) {
 4376              		.loc 1 598 17 view .LVU1731
 4377 00d0 032B     		cmp	r3, #3
 4378 00d2 01D0     		beq	.L325
 598:rtos/uCOS-III/Source/os_task.c ****                  (p_tcb->TaskState == OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED)) {
 4379              		.loc 1 598 67 discriminator 1 view .LVU1732
 4380 00d4 072B     		cmp	r3, #7
 4381 00d6 C8D1     		bne	.L318
 4382              	.L325:
 600:rtos/uCOS-III/Source/os_task.c ****              }
 4383              		.loc 1 600 18 is_stmt 1 view .LVU1733
 4384 00d8 2046     		mov	r0, r4
 4385 00da FFF7FEFF 		bl	OS_TickListRemove
 4386              	.LVL429:
 4387 00de C4E7     		b	.L318
ARM GAS  /tmp/ccS1bHPU.s 			page 150


 4388              	.LVL430:
 4389              	.L320:
 576:rtos/uCOS-III/Source/os_task.c ****                       prio_new = p_tcb_owner->Prio;
 4390              		.loc 1 576 23 view .LVU1734
 576:rtos/uCOS-III/Source/os_task.c ****                       prio_new = p_tcb_owner->Prio;
 4391              		.loc 1 576 64 is_stmt 0 view .LVU1735
 4392 00e0 A36A     		ldr	r3, [r4, #40]
 576:rtos/uCOS-III/Source/os_task.c ****                       prio_new = p_tcb_owner->Prio;
 4393              		.loc 1 576 35 view .LVU1736
 4394 00e2 1F69     		ldr	r7, [r3, #16]
 4395              	.LVL431:
 577:rtos/uCOS-III/Source/os_task.c ****                       OS_PendListRemove(p_tcb);
 4396              		.loc 1 577 23 is_stmt 1 view .LVU1737
 577:rtos/uCOS-III/Source/os_task.c ****                       OS_PendListRemove(p_tcb);
 4397              		.loc 1 577 32 is_stmt 0 view .LVU1738
 4398 00e4 97F82F80 		ldrb	r8, [r7, #47]	@ zero_extendqisi2
 4399              	.LVL432:
 578:rtos/uCOS-III/Source/os_task.c ****                       if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 4400              		.loc 1 578 23 is_stmt 1 view .LVU1739
 4401 00e8 2046     		mov	r0, r4
 4402              	.LVL433:
 578:rtos/uCOS-III/Source/os_task.c ****                       if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 4403              		.loc 1 578 23 is_stmt 0 view .LVU1740
 4404 00ea FFF7FEFF 		bl	OS_PendListRemove
 4405              	.LVL434:
 579:rtos/uCOS-III/Source/os_task.c ****                           (p_tcb_owner->Prio == p_tcb->Prio)) { /* Has the owner inherited a priori
 4406              		.loc 1 579 23 is_stmt 1 view .LVU1741
 579:rtos/uCOS-III/Source/os_task.c ****                           (p_tcb_owner->Prio == p_tcb->Prio)) { /* Has the owner inherited a priori
 4407              		.loc 1 579 39 is_stmt 0 view .LVU1742
 4408 00ee 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 579:rtos/uCOS-III/Source/os_task.c ****                           (p_tcb_owner->Prio == p_tcb->Prio)) { /* Has the owner inherited a priori
 4409              		.loc 1 579 60 view .LVU1743
 4410 00f2 97F83020 		ldrb	r2, [r7, #48]	@ zero_extendqisi2
 579:rtos/uCOS-III/Source/os_task.c ****                           (p_tcb_owner->Prio == p_tcb->Prio)) { /* Has the owner inherited a priori
 4411              		.loc 1 579 26 view .LVU1744
 4412 00f6 9342     		cmp	r3, r2
 4413 00f8 03D0     		beq	.L324
 580:rtos/uCOS-III/Source/os_task.c ****                           prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 4414              		.loc 1 580 54 discriminator 1 view .LVU1745
 4415 00fa 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
 579:rtos/uCOS-III/Source/os_task.c ****                           (p_tcb_owner->Prio == p_tcb->Prio)) { /* Has the owner inherited a priori
 4416              		.loc 1 579 72 discriminator 1 view .LVU1746
 4417 00fe 9342     		cmp	r3, r2
 4418 0100 0BD0     		beq	.L332
 4419              	.L324:
 584:rtos/uCOS-III/Source/os_task.c **** 
 4420              		.loc 1 584 23 is_stmt 1 view .LVU1747
 584:rtos/uCOS-III/Source/os_task.c **** 
 4421              		.loc 1 584 37 is_stmt 0 view .LVU1748
 4422 0102 0023     		movs	r3, #0
 4423 0104 84F82C30 		strb	r3, [r4, #44]
 586:rtos/uCOS-III/Source/os_task.c ****                           OS_TaskChangePrio(p_tcb_owner, prio_new);
 4424              		.loc 1 586 23 is_stmt 1 view .LVU1749
 586:rtos/uCOS-III/Source/os_task.c ****                           OS_TaskChangePrio(p_tcb_owner, prio_new);
 4425              		.loc 1 586 50 is_stmt 0 view .LVU1750
 4426 0108 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 586:rtos/uCOS-III/Source/os_task.c ****                           OS_TaskChangePrio(p_tcb_owner, prio_new);
ARM GAS  /tmp/ccS1bHPU.s 			page 151


 4427              		.loc 1 586 26 view .LVU1751
 4428 010c 4345     		cmp	r3, r8
 4429 010e DDD0     		beq	.L323
 587:rtos/uCOS-III/Source/os_task.c ****                           OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(p_tcb_owner, p_tcb_owner->Prio);
 4430              		.loc 1 587 27 is_stmt 1 view .LVU1752
 4431 0110 4146     		mov	r1, r8
 4432 0112 3846     		mov	r0, r7
 4433 0114 FFF7FEFF 		bl	OS_TaskChangePrio
 4434              	.LVL435:
 4435 0118 D8E7     		b	.L323
 4436              	.L332:
 581:rtos/uCOS-III/Source/os_task.c ****                           prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : p
 4437              		.loc 1 581 27 view .LVU1753
 581:rtos/uCOS-III/Source/os_task.c ****                           prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : p
 4438              		.loc 1 581 38 is_stmt 0 view .LVU1754
 4439 011a 3846     		mov	r0, r7
 4440 011c FFF7FEFF 		bl	OS_MutexGrpPrioFindHighest
 4441              	.LVL436:
 582:rtos/uCOS-III/Source/os_task.c ****                       }
 4442              		.loc 1 582 27 is_stmt 1 view .LVU1755
 582:rtos/uCOS-III/Source/os_task.c ****                       }
 4443              		.loc 1 582 61 is_stmt 0 view .LVU1756
 4444 0120 97F83080 		ldrb	r8, [r7, #48]	@ zero_extendqisi2
 582:rtos/uCOS-III/Source/os_task.c ****                       }
 4445              		.loc 1 582 36 view .LVU1757
 4446 0124 8045     		cmp	r8, r0
 4447 0126 28BF     		it	cs
 4448 0128 8046     		movcs	r8, r0
 4449 012a 5FFA88F8 		uxtb	r8, r8
 4450              	.LVL437:
 582:rtos/uCOS-III/Source/os_task.c ****                       }
 4451              		.loc 1 582 36 view .LVU1758
 4452 012e E8E7     		b	.L324
 4453              	.LVL438:
 4454              	.L314:
 606:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_STATE_INVALID;
 4455              		.loc 1 606 13 is_stmt 1 view .LVU1759
 606:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_STATE_INVALID;
 4456              		.loc 1 606 13 view .LVU1760
 606:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_STATE_INVALID;
 4457              		.loc 1 606 13 view .LVU1761
 4458 0130 FFF7FEFF 		bl	CPU_SR_Restore
 4459              	.LVL439:
 606:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_STATE_INVALID;
 4460              		.loc 1 606 13 view .LVU1762
 606:rtos/uCOS-III/Source/os_task.c ****            *p_err = OS_ERR_STATE_INVALID;
 4461              		.loc 1 606 13 view .LVU1763
 607:rtos/uCOS-III/Source/os_task.c ****             return;
 4462              		.loc 1 607 12 view .LVU1764
 607:rtos/uCOS-III/Source/os_task.c ****             return;
 4463              		.loc 1 607 19 is_stmt 0 view .LVU1765
 4464 0134 46F62D63 		movw	r3, #28205
 4465 0138 2B80     		strh	r3, [r5]	@ movhi
 608:rtos/uCOS-III/Source/os_task.c ****     }
 4466              		.loc 1 608 13 is_stmt 1 view .LVU1766
 4467 013a 73E7     		b	.L308
 4468              	.L334:
ARM GAS  /tmp/ccS1bHPU.s 			page 152


 4469              		.align	2
 4470              	.L333:
 4471 013c 00000000 		.word	OSIntNestingCtr
 4472 0140 00000000 		.word	OSRunning
 4473 0144 00000000 		.word	OSIdleTaskTCB
 4474 0148 00000000 		.word	OSTCBCurPtr
 4475 014c 00000000 		.word	OSTaskQty
 4476              		.cfi_endproc
 4477              	.LFE2:
 4479              		.section	.text.OS_TaskReturn,"ax",%progbits
 4480              		.align	1
 4481              		.global	OS_TaskReturn
 4482              		.syntax unified
 4483              		.thumb
 4484              		.thumb_func
 4485              		.fpu fpv4-sp-d16
 4487              	OS_TaskReturn:
 4488              	.LFB20:
2647:rtos/uCOS-III/Source/os_task.c ****     OS_ERR  err;
 4489              		.loc 1 2647 1 view -0
 4490              		.cfi_startproc
 4491              		@ args = 0, pretend = 0, frame = 8
 4492              		@ frame_needed = 0, uses_anonymous_args = 0
 4493 0000 00B5     		push	{lr}
 4494              	.LCFI29:
 4495              		.cfi_def_cfa_offset 4
 4496              		.cfi_offset 14, -4
 4497 0002 83B0     		sub	sp, sp, #12
 4498              	.LCFI30:
 4499              		.cfi_def_cfa_offset 16
2648:rtos/uCOS-III/Source/os_task.c **** 
 4500              		.loc 1 2648 5 view .LVU1768
2652:rtos/uCOS-III/Source/os_task.c **** #if (OS_CFG_TASK_DEL_EN > 0u)
 4501              		.loc 1 2652 5 view .LVU1769
 4502 0004 054B     		ldr	r3, .L337
 4503 0006 1868     		ldr	r0, [r3]
 4504 0008 FFF7FEFF 		bl	OSTaskReturnHook
 4505              	.LVL440:
2654:rtos/uCOS-III/Source/os_task.c ****               &err);
 4506              		.loc 1 2654 5 view .LVU1770
 4507 000c 0DF10601 		add	r1, sp, #6
 4508 0010 0020     		movs	r0, #0
 4509 0012 FFF7FEFF 		bl	OSTaskDel
 4510              	.LVL441:
2663:rtos/uCOS-III/Source/os_task.c **** 
 4511              		.loc 1 2663 1 is_stmt 0 view .LVU1771
 4512 0016 03B0     		add	sp, sp, #12
 4513              	.LCFI31:
 4514              		.cfi_def_cfa_offset 4
 4515              		@ sp needed
 4516 0018 5DF804FB 		ldr	pc, [sp], #4
 4517              	.L338:
 4518              		.align	2
 4519              	.L337:
 4520 001c 00000000 		.word	OSTCBCurPtr
 4521              		.cfi_endproc
 4522              	.LFE20:
ARM GAS  /tmp/ccS1bHPU.s 			page 153


 4524              		.text
 4525              	.Letext0:
 4526              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 4527              		.file 3 "rtos/uC-CPU/cpu_core.h"
 4528              		.file 4 "rtos/uCOS-III/Source/os_type.h"
 4529              		.file 5 "rtos/uCOS-III/Source/os.h"
 4530              		.file 6 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/GNU/os_cpu.h"
ARM GAS  /tmp/ccS1bHPU.s 			page 154


DEFINED SYMBOLS
                            *ABS*:0000000000000000 os_task.c
     /tmp/ccS1bHPU.s:18     .text.OSTaskQFlush:0000000000000000 $t
     /tmp/ccS1bHPU.s:26     .text.OSTaskQFlush:0000000000000000 OSTaskQFlush
     /tmp/ccS1bHPU.s:151    .text.OSTaskQFlush:000000000000005c $d
     /tmp/ccS1bHPU.s:158    .text.OSTaskQPend:0000000000000000 $t
     /tmp/ccS1bHPU.s:165    .text.OSTaskQPend:0000000000000000 OSTaskQPend
     /tmp/ccS1bHPU.s:495    .text.OSTaskQPend:0000000000000124 $d
     /tmp/ccS1bHPU.s:503    .text.OSTaskQPendAbort:0000000000000000 $t
     /tmp/ccS1bHPU.s:510    .text.OSTaskQPendAbort:0000000000000000 OSTaskQPendAbort
     /tmp/ccS1bHPU.s:684    .text.OSTaskQPendAbort:000000000000009c $d
     /tmp/ccS1bHPU.s:691    .text.OSTaskQPost:0000000000000000 $t
     /tmp/ccS1bHPU.s:698    .text.OSTaskQPost:0000000000000000 OSTaskQPost
     /tmp/ccS1bHPU.s:798    .text.OSTaskQPost:000000000000004c $d
     /tmp/ccS1bHPU.s:807    .text.OSTaskQPost:0000000000000054 $t
     /tmp/ccS1bHPU.s:932    .text.OSTaskQPost:00000000000000d8 $d
     /tmp/ccS1bHPU.s:938    .text.OSTaskRegGet:0000000000000000 $t
     /tmp/ccS1bHPU.s:945    .text.OSTaskRegGet:0000000000000000 OSTaskRegGet
     /tmp/ccS1bHPU.s:1029   .text.OSTaskRegGet:0000000000000034 $d
     /tmp/ccS1bHPU.s:1034   .text.OSTaskRegGetID:0000000000000000 $t
     /tmp/ccS1bHPU.s:1041   .text.OSTaskRegGetID:0000000000000000 OSTaskRegGetID
     /tmp/ccS1bHPU.s:1120   .text.OSTaskRegGetID:0000000000000030 $d
     /tmp/ccS1bHPU.s:1125   .text.OSTaskRegSet:0000000000000000 $t
     /tmp/ccS1bHPU.s:1132   .text.OSTaskRegSet:0000000000000000 OSTaskRegSet
     /tmp/ccS1bHPU.s:1214   .text.OSTaskRegSet:0000000000000034 $d
     /tmp/ccS1bHPU.s:1219   .text.OSTaskResume:0000000000000000 $t
     /tmp/ccS1bHPU.s:1226   .text.OSTaskResume:0000000000000000 OSTaskResume
     /tmp/ccS1bHPU.s:1326   .text.OSTaskResume:0000000000000050 $d
     /tmp/ccS1bHPU.s:1334   .text.OSTaskResume:0000000000000058 $t
     /tmp/ccS1bHPU.s:1520   .text.OSTaskResume:00000000000000fc $d
     /tmp/ccS1bHPU.s:1527   .text.OSTaskSemPend:0000000000000000 $t
     /tmp/ccS1bHPU.s:1534   .text.OSTaskSemPend:0000000000000000 OSTaskSemPend
     /tmp/ccS1bHPU.s:1802   .text.OSTaskSemPend:00000000000000d8 $d
     /tmp/ccS1bHPU.s:1810   .text.OSTaskSemPendAbort:0000000000000000 $t
     /tmp/ccS1bHPU.s:1817   .text.OSTaskSemPendAbort:0000000000000000 OSTaskSemPendAbort
     /tmp/ccS1bHPU.s:2003   .text.OSTaskSemPendAbort:00000000000000a4 $d
     /tmp/ccS1bHPU.s:2010   .text.OSTaskSemPost:0000000000000000 $t
     /tmp/ccS1bHPU.s:2017   .text.OSTaskSemPost:0000000000000000 OSTaskSemPost
     /tmp/ccS1bHPU.s:2122   .text.OSTaskSemPost:000000000000004c $d
     /tmp/ccS1bHPU.s:2130   .text.OSTaskSemPost:0000000000000054 $t
     /tmp/ccS1bHPU.s:2302   .text.OSTaskSemPost:00000000000000dc $d
     /tmp/ccS1bHPU.s:2308   .text.OSTaskSemSet:0000000000000000 $t
     /tmp/ccS1bHPU.s:2315   .text.OSTaskSemSet:0000000000000000 OSTaskSemSet
     /tmp/ccS1bHPU.s:2434   .text.OSTaskSemSet:0000000000000058 $d
     /tmp/ccS1bHPU.s:2440   .text.OSTaskStkChk:0000000000000000 $t
     /tmp/ccS1bHPU.s:2447   .text.OSTaskStkChk:0000000000000000 OSTaskStkChk
     /tmp/ccS1bHPU.s:2649   .text.OSTaskStkChk:000000000000009c $d
     /tmp/ccS1bHPU.s:2655   .text.OSTaskSuspend:0000000000000000 $t
     /tmp/ccS1bHPU.s:2662   .text.OSTaskSuspend:0000000000000000 OSTaskSuspend
     /tmp/ccS1bHPU.s:2729   .text.OSTaskSuspend:0000000000000034 $d
     /tmp/ccS1bHPU.s:2738   .text.OSTaskSuspend:000000000000003c $t
     /tmp/ccS1bHPU.s:2986   .text.OSTaskSuspend:0000000000000110 $d
     /tmp/ccS1bHPU.s:2995   .text.OSTaskTimeQuantaSet:0000000000000000 $t
     /tmp/ccS1bHPU.s:3002   .text.OSTaskTimeQuantaSet:0000000000000000 OSTaskTimeQuantaSet
     /tmp/ccS1bHPU.s:3104   .text.OSTaskTimeQuantaSet:0000000000000044 $d
     /tmp/ccS1bHPU.s:3111   .text.OS_TaskInit:0000000000000000 $t
     /tmp/ccS1bHPU.s:3118   .text.OS_TaskInit:0000000000000000 OS_TaskInit
ARM GAS  /tmp/ccS1bHPU.s 			page 155


     /tmp/ccS1bHPU.s:3143   .text.OS_TaskInit:0000000000000010 $d
     /tmp/ccS1bHPU.s:3149   .text.OS_TaskInitTCB:0000000000000000 $t
     /tmp/ccS1bHPU.s:3156   .text.OS_TaskInitTCB:0000000000000000 OS_TaskInitTCB
     /tmp/ccS1bHPU.s:3337   .text.OSTaskCreate:0000000000000000 $t
     /tmp/ccS1bHPU.s:3344   .text.OSTaskCreate:0000000000000000 OSTaskCreate
     /tmp/ccS1bHPU.s:3747   .text.OSTaskCreate:0000000000000184 $d
     /tmp/ccS1bHPU.s:3757   .text.OS_TaskChangePrio:0000000000000000 $t
     /tmp/ccS1bHPU.s:3764   .text.OS_TaskChangePrio:0000000000000000 OS_TaskChangePrio
     /tmp/ccS1bHPU.s:3798   .text.OS_TaskChangePrio:0000000000000016 $d
     /tmp/ccS1bHPU.s:3806   .text.OS_TaskChangePrio:000000000000001e $t
     /tmp/ccS1bHPU.s:3944   .text.OS_TaskChangePrio:00000000000000b0 $d
     /tmp/ccS1bHPU.s:3949   .text.OSTaskChangePrio:0000000000000000 $t
     /tmp/ccS1bHPU.s:3956   .text.OSTaskChangePrio:0000000000000000 OSTaskChangePrio
     /tmp/ccS1bHPU.s:4138   .text.OSTaskChangePrio:0000000000000098 $d
     /tmp/ccS1bHPU.s:4145   .text.OSTaskDel:0000000000000000 $t
     /tmp/ccS1bHPU.s:4152   .text.OSTaskDel:0000000000000000 OSTaskDel
     /tmp/ccS1bHPU.s:4235   .text.OSTaskDel:0000000000000044 $d
     /tmp/ccS1bHPU.s:4244   .text.OSTaskDel:000000000000004c $t
     /tmp/ccS1bHPU.s:4471   .text.OSTaskDel:000000000000013c $d
     /tmp/ccS1bHPU.s:4480   .text.OS_TaskReturn:0000000000000000 $t
     /tmp/ccS1bHPU.s:4487   .text.OS_TaskReturn:0000000000000000 OS_TaskReturn
     /tmp/ccS1bHPU.s:4520   .text.OS_TaskReturn:000000000000001c $d
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.os.h.38.05c7a360e844508f9424830362f7eef3
                           .group:0000000000000000 wm4.os_cfg.h.36.1682609214807c39119743015cd1b75b
                           .group:0000000000000000 wm4.os_cfg_app.h.36.9d01bed009cfc3a5184d9a87250e45bf
                           .group:0000000000000000 wm4.cpu_core.h.51.7b35a59c319673f88ae4a256248776ec
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.143.d3b700e12b3a14ed3bee14c822b49a7d
                           .group:0000000000000000 wm4.os_cpu.h.45.281d793567585e56a091270c28fc7efc
                           .group:0000000000000000 wm4.os_trace.h.37.a6badbf6e748c370e142a9584653748e
                           .group:0000000000000000 wm4.os.h.95.7b45e7e080367d299efd03f7510809bc

UNDEFINED SYMBOLS
CPU_SR_Save
OS_MsgQFreeAll
CPU_SR_Restore
OSIntNestingCtr
OSRunning
OSTCBCurPtr
OS_MsgQGet
OS_Pend
OSSched
OSSchedLockNestingCtr
OS_PendAbort
OS_MsgQPut
OS_Post
OSTaskRegNextAvailID
OS_RdyListInsert
OS_RdyListRemove
OSIdleTaskTCB
OSSchedRoundRobinDfltTimeQuanta
OSTaskQty
OSTaskCtxSwCtr
ARM GAS  /tmp/ccS1bHPU.s 			page 156


OS_MsgQInit
OSTaskStkInit
OSTaskCreateHook
OS_PrioInsert
OS_RdyListInsertTail
OSCfg_StkSizeMin
OS_RdyListInsertHead
OS_PendListChangePrio
OS_MutexGrpPrioFindHighest
OS_MutexGrpPostAll
OSTaskDelHook
OS_TickListRemove
OS_PendListRemove
OSTaskReturnHook
