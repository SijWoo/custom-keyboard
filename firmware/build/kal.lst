ARM GAS  /tmp/ccAqnR1x.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"kal.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.KAL_TmrFnctWrapper,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	KAL_TmrFnctWrapper:
  26              	.LVL0:
  27              	.LFB26:
  28              		.file 1 "rtos/uC-Common/KAL/uCOS-III/kal.c"
   1:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
   2:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
   3:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                              uC/Common
   4:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                 Common Features for Micrium Stacks
   5:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
   6:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                         (c) Copyright 2013-2019; Silicon Laboratories Inc.,
   7:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
   9:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
  11:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                  license, you may not use this software.
  15:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
  16:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
  19:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
  21:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  23:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
  24:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  25:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
  26:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  27:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
  28:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                             uC/Common - Kernel Abstraction Layer (KAL)
  29:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                              uCOS-III
  30:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
ARM GAS  /tmp/ccAqnR1x.s 			page 2


  31:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Filename : kal.c
  32:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Version  : V1.01.02
  33:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  34:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)  : (1) 'goto' statements were used in this software module. Their usage
  35:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                is restricted to cleanup purposes in exceptional program flow (e.g.
  36:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                error handling), in compliance with CERT MEM12-C and MISRA C:2012
  37:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                rules 15.2, 15.3 and 15.4.
  38:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  39:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
  40:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  41:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
  42:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  43:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  44:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             INCLUDE FILES
  45:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  46:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  47:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
  48:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  49:rtos/uC-Common/KAL/uCOS-III/kal.c **** #define  MICRIUM_SOURCE
  50:rtos/uC-Common/KAL/uCOS-III/kal.c **** #define  KAL_MODULE
  51:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  52:rtos/uC-Common/KAL/uCOS-III/kal.c **** #include  "../kal.h"
  53:rtos/uC-Common/KAL/uCOS-III/kal.c **** #include  <lib_math.h>
  54:rtos/uC-Common/KAL/uCOS-III/kal.c **** #include  <lib_mem.h>
  55:rtos/uC-Common/KAL/uCOS-III/kal.c **** #include  <os.h>
  56:rtos/uC-Common/KAL/uCOS-III/kal.c **** #include  <os_cfg.h>
  57:rtos/uC-Common/KAL/uCOS-III/kal.c **** #include  <os_cfg_app.h>
  58:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  59:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  60:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
  61:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  62:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  63:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             LOCAL DEFINES
  64:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  65:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  66:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
  67:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  68:rtos/uC-Common/KAL/uCOS-III/kal.c **** #define  KAL_CFG_ARG_CHK_EXT_EN                 OS_CFG_ARG_CHK_EN
  69:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  70:rtos/uC-Common/KAL/uCOS-III/kal.c **** #define  KAL_CFG_TASK_STK_SIZE_PCT_FULL       90u
  71:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  72:rtos/uC-Common/KAL/uCOS-III/kal.c **** #define  KAL_INIT_STATUS_NONE                   0u
  73:rtos/uC-Common/KAL/uCOS-III/kal.c **** #define  KAL_INIT_STATUS_OK                     1u
  74:rtos/uC-Common/KAL/uCOS-III/kal.c **** #define  KAL_INIT_STATUS_FAIL                   2u
  75:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  76:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  77:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
  78:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  79:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  80:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            LOCAL CONSTANTS
  81:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  82:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  83:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
  84:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  85:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  CPU_INT32U           KAL_Version           =  10000u;
  86:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  KAL_TICK_RATE_HZ     KAL_TickRate          =  OS_CFG_TICK_RATE_HZ;
  87:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 3


  88:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  KAL_TASK_HANDLE      KAL_TaskHandleNull    = {DEF_NULL};
  89:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  KAL_LOCK_HANDLE      KAL_LockHandleNull    = {DEF_NULL};
  90:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  KAL_SEM_HANDLE       KAL_SemHandleNull     = {DEF_NULL};
  91:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  KAL_TMR_HANDLE       KAL_TmrHandleNull     = {DEF_NULL};
  92:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  KAL_Q_HANDLE         KAL_QHandleNull       = {DEF_NULL};
  93:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_CPP_EXT  const  KAL_TASK_REG_HANDLE  KAL_TaskRegHandleNull = {DEF_NULL};
  94:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  95:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
  96:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
  97:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  98:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
  99:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           LOCAL DATA TYPES
 100:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 101:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 102:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 103:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 104:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* ------------------ KAL TASK TYPE
 105:rtos/uC-Common/KAL/uCOS-III/kal.c **** typedef  struct  kal_task {
 106:rtos/uC-Common/KAL/uCOS-III/kal.c ****            OS_TCB       TCB;                                    /* TCB for OS-III.                 
 107:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 108:rtos/uC-Common/KAL/uCOS-III/kal.c ****            CPU_STK     *StkBasePtr;                             /* Task stack base ptr.            
 109:rtos/uC-Common/KAL/uCOS-III/kal.c ****            CPU_INT32U   StkSizeBytes;                           /* Task stack size (in bytes).     
 110:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 111:rtos/uC-Common/KAL/uCOS-III/kal.c ****     const  CPU_CHAR    *NamePtr;                                /* Task name string.               
 112:rtos/uC-Common/KAL/uCOS-III/kal.c **** } KAL_TASK;
 113:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 114:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* ------------------- KAL LOCK TYP
 115:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_MUTEX_EN == DEF_ENABLED)
 116:rtos/uC-Common/KAL/uCOS-III/kal.c **** typedef  struct  kal_lock {
 117:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_MUTEX    Mutex;                                          /* OS-III mutex obj.               
 118:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_INT08U  OptFlags;                                       /* Opt flags associated with this l
 119:rtos/uC-Common/KAL/uCOS-III/kal.c **** } KAL_LOCK;
 120:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 121:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 122:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* ------------------- KAL TMR TYPE
 123:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_TMR_EN == DEF_ENABLED)
 124:rtos/uC-Common/KAL/uCOS-III/kal.c **** typedef  struct  kal_tmr {
 125:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_TMR    Tmr;                                              /* OS-III tmr obj.                 
 126:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 127:rtos/uC-Common/KAL/uCOS-III/kal.c ****     void    (*CallbackFnct)(void  *p_arg);                      /* Tmr registered callback fnct.   
 128:rtos/uC-Common/KAL/uCOS-III/kal.c ****     void     *CallbackArg;                                      /* Arg to pass to callback fnct.   
 129:rtos/uC-Common/KAL/uCOS-III/kal.c **** } KAL_TMR;
 130:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 131:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 132:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* ---------------- KAL TASK REG TY
 133:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 134:rtos/uC-Common/KAL/uCOS-III/kal.c **** typedef  struct  kal_task_reg {
 135:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_REG_ID  Id;                                              /* Id of the task reg.             
 136:rtos/uC-Common/KAL/uCOS-III/kal.c **** } KAL_TASK_REG;
 137:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 138:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 139:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* -------------- KAL INTERNAL DATA
 140:rtos/uC-Common/KAL/uCOS-III/kal.c **** typedef  struct  kal_data {
 141:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_SEG       *MemSegPtr;                                   /* Mem Seg to alloc from.          
 142:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 143:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_MUTEX_EN == DEF_ENABLED)
 144:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_DYN_POOL   MutexPool;                                   /* Dyn mem pool used to alloc mutex
ARM GAS  /tmp/ccAqnR1x.s 			page 4


 145:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 146:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 147:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_SEM_EN == DEF_ENABLED)
 148:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_DYN_POOL   SemPool;                                     /* Dyn mem pool used to alloc sems.
 149:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 150:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 151:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_TMR_EN == DEF_ENABLED)
 152:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_DYN_POOL   TmrPool;                                     /* Dyn mem pool used to alloc tmrs.
 153:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 154:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 155:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 156:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_DYN_POOL   TaskRegPool;                                 /* Dyn mem pool used to alloc task 
 157:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 158:rtos/uC-Common/KAL/uCOS-III/kal.c **** } KAL_DATA;
 159:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 160:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 161:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 162:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 163:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 164:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                              LOCAL TABLES
 165:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 166:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 167:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 168:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 169:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 170:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 171:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 172:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 173:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                         LOCAL GLOBAL VARIABLES
 174:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 175:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 176:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 177:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 178:rtos/uC-Common/KAL/uCOS-III/kal.c **** static            KAL_DATA     *KAL_DataPtr    = DEF_NULL;
 179:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 180:rtos/uC-Common/KAL/uCOS-III/kal.c **** static            CPU_BOOLEAN   KAL_IsInit     = DEF_NO;
 181:rtos/uC-Common/KAL/uCOS-III/kal.c **** static  volatile  CPU_INT08U    KAL_InitStatus = KAL_INIT_STATUS_NONE;
 182:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 183:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 184:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 185:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 186:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 187:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                       LOCAL FUNCTION PROTOTYPES
 188:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 189:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 190:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 191:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 192:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_TMR_EN == DEF_ENABLED)
 193:rtos/uC-Common/KAL/uCOS-III/kal.c **** static  void      KAL_TmrFnctWrapper(void        *p_tmr_os,
 194:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                      void        *p_arg);
 195:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
 196:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 197:rtos/uC-Common/KAL/uCOS-III/kal.c **** static  KAL_TICK  KAL_msToTicks     (CPU_INT32U   ms);
 198:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 199:rtos/uC-Common/KAL/uCOS-III/kal.c **** static  RTOS_ERR  KAL_ErrConvert    (OS_ERR       err_os);
 200:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 201:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 5


 202:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 203:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 204:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 205:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                       LOCAL CONFIGURATION ERRORS
 206:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 207:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 208:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 209:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 210:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 211:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 212:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 213:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 214:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            GLOBAL FUNCTIONS
 215:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 216:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 217:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 218:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 219:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 220:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 221:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                         KAL CORE API FUNCTIONS
 222:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 223:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 224:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 225:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 226:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 227:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                              KAL_Init()
 228:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 229:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Initialize the Kernel Abstraction Layer.
 230:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 231:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_cfg       Pointer to KAL configuration structure.
 232:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 233:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 234:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 235:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
 236:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Concurrent initialization failed.
 237:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALREADY_INIT       Already initialized and p_cfg is no
 238:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALLOC              Memory segment allocation failed.
 239:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INIT               Memory pool initialization failed.
 240:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 241:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
 242:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 243:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : (1) This function must be called prior to any product initialization function if th
 244:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                   application needs to specify a memory segment.
 245:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 246:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 247:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 248:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_Init (KAL_CFG   *p_cfg,
 249:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 RTOS_ERR  *p_err)
 250:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
 251:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_SEG  *p_seg;
 252:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR    err_os;
 253:rtos/uC-Common/KAL/uCOS-III/kal.c ****     LIB_ERR   err_lib;
 254:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_SR_ALLOC();
 255:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 256:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 257:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 258:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
ARM GAS  /tmp/ccAqnR1x.s 			page 6


 259:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 260:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 261:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 262:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 263:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_ENTER();
 264:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (KAL_IsInit == DEF_YES) {                                /* Chk if KAL already init. See not
 265:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT08U  init_status = KAL_InitStatus;
 266:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 267:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 268:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_CRITICAL_EXIT();
 269:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 270:rtos/uC-Common/KAL/uCOS-III/kal.c ****         while (init_status == KAL_INIT_STATUS_NONE) {           /* Wait until init is done before r
 271:rtos/uC-Common/KAL/uCOS-III/kal.c ****             OSTimeDly(100u,
 272:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       OS_OPT_TIME_DLY,
 273:rtos/uC-Common/KAL/uCOS-III/kal.c ****                      &err_os);
 274:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (void)err_os;
 275:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_CRITICAL_ENTER();
 276:rtos/uC-Common/KAL/uCOS-III/kal.c ****             init_status = KAL_InitStatus;
 277:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_CRITICAL_EXIT();
 278:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 279:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (init_status == KAL_INIT_STATUS_OK) {                /* Check resulting init status.    
 280:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (p_cfg == DEF_NULL) {
 281:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;                          /* KAL_Init() can be called many ti
 282:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 283:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_ALREADY_INIT;                  /* If a cfg is given and KAL is alr
 284:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 285:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 286:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_OS;                                /* Concurrent init failed.         
 287:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 288:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
 289:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 290:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 291:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_IsInit = DEF_YES;                                       /* Prevent another init, even in ca
 292:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 293:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 294:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_seg = DEF_NULL;
 295:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (p_cfg != DEF_NULL) {                                    /* Load cfg if given.              
 296:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_seg = p_cfg->MemSegPtr;
 297:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 298:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 299:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_DataPtr = (KAL_DATA *)Mem_SegAlloc("KAL internal data",
 300:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             p_seg,
 301:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             sizeof(KAL_DATA),
 302:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                            &err_lib);
 303:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (err_lib != LIB_MEM_ERR_NONE) {
 304:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
 305:rtos/uC-Common/KAL/uCOS-III/kal.c ****         goto end_err;
 306:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 307:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 308:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_DataPtr->MemSegPtr = p_seg;
 309:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 310:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_MUTEX_EN == DEF_ENABLED)
 311:rtos/uC-Common/KAL/uCOS-III/kal.c ****         Mem_DynPoolCreate("KAL mutex pool",
 312:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->MutexPool,
 313:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            KAL_DataPtr->MemSegPtr,
 314:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(KAL_LOCK),
 315:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(CPU_ALIGN),
ARM GAS  /tmp/ccAqnR1x.s 			page 7


 316:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            0u,
 317:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            LIB_MEM_BLK_QTY_UNLIMITED,
 318:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &err_lib);
 319:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
 320:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 321:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 322:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 323:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 324:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 325:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_SEM_EN == DEF_ENABLED)
 326:rtos/uC-Common/KAL/uCOS-III/kal.c ****         Mem_DynPoolCreate("KAL sem pool",
 327:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->SemPool,
 328:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            KAL_DataPtr->MemSegPtr,
 329:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(OS_SEM),
 330:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(CPU_ALIGN),
 331:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            0u,
 332:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            LIB_MEM_BLK_QTY_UNLIMITED,
 333:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &err_lib);
 334:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
 335:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 336:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 337:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 338:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 339:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 340:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TMR_EN == DEF_ENABLED)
 341:rtos/uC-Common/KAL/uCOS-III/kal.c ****         Mem_DynPoolCreate("KAL tmr pool",
 342:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->TmrPool,
 343:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            KAL_DataPtr->MemSegPtr,
 344:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(KAL_TMR),
 345:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(CPU_ALIGN),
 346:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            0u,
 347:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            LIB_MEM_BLK_QTY_UNLIMITED,
 348:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &err_lib);
 349:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
 350:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 351:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 352:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 353:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 354:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 355:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 356:rtos/uC-Common/KAL/uCOS-III/kal.c ****         Mem_DynPoolCreate("KAL task reg pool",
 357:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->TaskRegPool,
 358:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            KAL_DataPtr->MemSegPtr,
 359:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(KAL_TASK_REG),
 360:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            sizeof(CPU_ALIGN),
 361:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            0u,
 362:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            LIB_MEM_BLK_QTY_UNLIMITED,
 363:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &err_lib);
 364:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
 365:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 366:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 367:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 368:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 369:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 370:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_ENTER();
 371:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_OK;
 372:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
ARM GAS  /tmp/ccAqnR1x.s 			page 8


 373:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 374:rtos/uC-Common/KAL/uCOS-III/kal.c ****    *p_err = RTOS_ERR_NONE;
 375:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 376:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return;
 377:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 378:rtos/uC-Common/KAL/uCOS-III/kal.c **** end_err:                                                        /* Init failed. Handle vars for oth
 379:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_ENTER();
 380:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_FAIL;                      /* Indicate potential concurrent in
 381:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 382:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 383:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return;
 384:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 385:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 386:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 387:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 388:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 389:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                          KAL_FeatureQuery()
 390:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 391:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Check if specified feature is available.
 392:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 393:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : feature     Feature to query.
 394:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 395:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               opt         Option associated with the feature requested.
 396:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 397:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : DEF_YES, if feature is available.
 398:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 399:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               DEF_NO,  otherwise.
 400:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 401:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
 402:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 403:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 404:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 405:rtos/uC-Common/KAL/uCOS-III/kal.c **** CPU_BOOLEAN  KAL_FeatureQuery (KAL_FEATURE  feature,
 406:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                KAL_OPT      opt)
 407:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
 408:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_BOOLEAN  is_en;
 409:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 410:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 411:rtos/uC-Common/KAL/uCOS-III/kal.c ****     (void)opt;
 412:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 413:rtos/uC-Common/KAL/uCOS-III/kal.c ****     is_en = DEF_NO;
 414:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 415:rtos/uC-Common/KAL/uCOS-III/kal.c ****     switch (feature) {
 416:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_TASK_CREATE:                           /* ---------------------- TASKS ---
 417:rtos/uC-Common/KAL/uCOS-III/kal.c ****              is_en = DEF_YES;
 418:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 419:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 420:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 421:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_TASK_DEL:
 422:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_TASK_DEL_EN == DEF_ENABLED)
 423:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 424:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 425:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 426:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 427:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 428:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_MUTEX_EN == DEF_ENABLED)                            /* ----------------------- LOCKS --
 429:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_LOCK_CREATE:
ARM GAS  /tmp/ccAqnR1x.s 			page 9


 430:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_LOCK_ACQUIRE:
 431:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_LOCK_RELEASE:
 432:rtos/uC-Common/KAL/uCOS-III/kal.c ****              is_en = DEF_YES;
 433:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 434:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 435:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 436:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_LOCK_DEL:
 437:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_MUTEX_DEL_EN == DEF_ENABLED)
 438:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 439:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 440:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 441:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif /* OS_CFG_MUTEX_EN */
 442:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 443:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 444:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_SEM_EN == DEF_ENABLED)                              /* ----------------------- SEMS ---
 445:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_SEM_CREATE:
 446:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_SEM_PEND:
 447:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_SEM_POST:
 448:rtos/uC-Common/KAL/uCOS-III/kal.c ****              is_en = DEF_YES;
 449:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 450:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 451:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 452:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_SEM_ABORT:
 453:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_SEM_PEND_ABORT_EN == DEF_ENABLED)
 454:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 455:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 456:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 457:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 458:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 459:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_SEM_SET:
 460:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_SEM_SET_EN == DEF_ENABLED)
 461:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 462:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 463:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 464:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 465:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 466:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_SEM_DEL:
 467:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_SEM_DEL_EN == DEF_ENABLED)
 468:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 469:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 470:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 471:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif /* OS_CFG_SEM_EN */
 472:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 473:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 474:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_TMR:                                   /* ----------------------- TMRS ---
 475:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_TMR_EN == DEF_ENABLED)
 476:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 477:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 478:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 479:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 480:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 481:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_Q_CREATE:                              /* ---------------------- QUEUES --
 482:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_Q_PEND:
 483:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_Q_POST:
 484:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_Q_EN == DEF_ENABLED)
 485:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 486:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
ARM GAS  /tmp/ccAqnR1x.s 			page 10


 487:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 488:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 489:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 490:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_DLY:                                   /* ----------------------- DLYS ---
 491:rtos/uC-Common/KAL/uCOS-III/kal.c ****              is_en = DEF_YES;
 492:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 493:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 494:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 495:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_TASK_REG:                              /* ------------------- TASK STORAGE
 496:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
 497:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  is_en = DEF_YES;
 498:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 499:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 500:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 501:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 502:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_TICK_GET:                              /* ------------------- TICK CTR INF
 503:rtos/uC-Common/KAL/uCOS-III/kal.c ****              is_en = DEF_YES;
 504:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 505:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 506:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 507:rtos/uC-Common/KAL/uCOS-III/kal.c ****         default:
 508:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 509:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 510:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 511:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return (is_en);
 512:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 513:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 514:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 515:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 516:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 517:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                         TASK API FUNCTIONS
 518:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 519:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 520:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 521:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 522:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 523:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            KAL_TaskAlloc()
 524:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 525:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Allocate a task object and its stack.
 526:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 527:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_name          Pointer to name of the task.
 528:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 529:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_stk_base      Pointer to start of task stack. If NULL, the stack will be allocate
 530:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                               the KAL memory segment.
 531:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 532:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               stk_size_bytes  Size (in bytes) of the task stack.
 533:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 534:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_cfg           Pointer to KAL task configuration structure.
 535:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 536:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
 537:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 538:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
 539:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Specified stack size is invalid.
 540:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_SUPPORTED      'p_cfg' parameter was not NULL.
 541:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALLOC              Task stack or control block allocat
 542:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 543:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Allocated task's handle.
ARM GAS  /tmp/ccAqnR1x.s 			page 11


 544:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 545:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
 546:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 547:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 548:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 549:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_TASK_HANDLE  KAL_TaskAlloc (const  CPU_CHAR          *p_name,
 550:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        void              *p_stk_base,
 551:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        CPU_SIZE_T         stk_size_bytes,
 552:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        KAL_TASK_EXT_CFG  *p_cfg,
 553:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        RTOS_ERR          *p_err)
 554:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
 555:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK_HANDLE   handle = KAL_TaskHandleNull;
 556:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK         *p_task;
 557:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_ADDR          stk_addr;
 558:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_ADDR          stk_addr_aligned;
 559:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_SIZE_T        actual_stk_size_bytes;
 560:rtos/uC-Common/KAL/uCOS-III/kal.c ****     LIB_ERR           err_lib;
 561:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 562:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 563:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 564:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
 565:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 566:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 567:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 568:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (stk_size_bytes < (OS_CFG_STK_SIZE_MIN * sizeof(CPU_STK))) {
 569:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 570:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 571:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 572:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 573:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_cfg != DEF_NULL) {                                /* Make sure no unsupported cfg rec
 574:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 575:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 576:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 577:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
 578:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_cfg;
 579:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 580:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 581:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (p_stk_base == DEF_NULL) {                               /* Must alloc task stk on mem seg. 
 582:rtos/uC-Common/KAL/uCOS-III/kal.c ****         stk_addr_aligned = (CPU_ADDR)Mem_SegAllocExt("KAL task stk",
 583:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                       KAL_DataPtr->MemSegPtr,
 584:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                       stk_size_bytes,
 585:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                       CPU_CFG_STK_ALIGN_BYTES,
 586:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                       DEF_NULL,
 587:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                      &err_lib);
 588:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
 589:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 590:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 591:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 592:rtos/uC-Common/KAL/uCOS-III/kal.c ****         actual_stk_size_bytes = stk_size_bytes;
 593:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
 594:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Align stk ptr, if needed.       
 595:rtos/uC-Common/KAL/uCOS-III/kal.c ****         stk_addr              = (CPU_ADDR)p_stk_base;
 596:rtos/uC-Common/KAL/uCOS-III/kal.c ****         stk_addr_aligned      =  MATH_ROUND_INC_UP_PWR2(stk_addr, CPU_CFG_STK_ALIGN_BYTES);
 597:rtos/uC-Common/KAL/uCOS-III/kal.c ****         actual_stk_size_bytes =  stk_size_bytes - (stk_addr_aligned - stk_addr);
 598:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 599:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 600:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task = (KAL_TASK *)Mem_SegAlloc("KAL task",
ARM GAS  /tmp/ccAqnR1x.s 			page 12


 601:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        KAL_DataPtr->MemSegPtr,
 602:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        sizeof(KAL_TASK),
 603:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       &err_lib);
 604:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (err_lib != LIB_MEM_ERR_NONE) {
 605:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
 606:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
 607:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 608:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 609:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task->StkBasePtr   = (CPU_STK *)stk_addr_aligned;
 610:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task->StkSizeBytes =  actual_stk_size_bytes;
 611:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task->NamePtr      =  p_name;
 612:rtos/uC-Common/KAL/uCOS-III/kal.c ****     handle.TaskObjPtr    = (void *)p_task;
 613:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 614:rtos/uC-Common/KAL/uCOS-III/kal.c ****    *p_err = RTOS_ERR_NONE;
 615:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 616:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return (handle);
 617:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 618:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 619:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 620:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 621:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 622:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           KAL_TaskCreate()
 623:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 624:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Create and start a task.
 625:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 626:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : task_handle     Handle of the task to create.
 627:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 628:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_fnct          Pointer to task function.
 629:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 630:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_task_arg      Pointer to argument that will be passed to task function (can be DE
 631:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 632:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               prio            Task priority.
 633:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 634:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_cfg           Pointer to KAL task configuration structure.
 635:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 636:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
 637:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 638:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
 639:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_SUPPORTED      'p_cfg' parameter was not NULL.
 640:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
 641:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Invalid argument passed to function
 642:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
 643:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 644:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
 645:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 646:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : (1) The task must be allocated prior to this call using KAL_TaskAlloc().
 647:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 648:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 649:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 650:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_TaskCreate (KAL_TASK_HANDLE     task_handle,
 651:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       void              (*p_fnct)(void  *p_arg),
 652:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       void               *p_task_arg,
 653:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       CPU_INT08U          prio,
 654:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       KAL_TASK_EXT_CFG   *p_cfg,
 655:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       RTOS_ERR           *p_err)
 656:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
 657:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK      *p_task;
ARM GAS  /tmp/ccAqnR1x.s 			page 13


 658:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_STK_SIZE   stk_size_words;
 659:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_STK_SIZE   stk_limit;
 660:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR         err_os;
 661:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 662:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 663:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 664:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
 665:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 666:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 667:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 668:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_TASK_HANDLE_IS_NULL(task_handle) == DEF_YES) {
 669:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 670:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 671:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 672:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 673:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_cfg != DEF_NULL) {                                /* Make sure no unsupported cfg rec
 674:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 675:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 676:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 677:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
 678:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_cfg;
 679:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 680:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 681:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task         = (KAL_TASK *)task_handle.TaskObjPtr;
 682:rtos/uC-Common/KAL/uCOS-III/kal.c ****     stk_size_words =  p_task->StkSizeBytes / sizeof(CPU_STK);
 683:rtos/uC-Common/KAL/uCOS-III/kal.c ****     stk_limit      = (stk_size_words * (100u - KAL_CFG_TASK_STK_SIZE_PCT_FULL)) / 100u;
 684:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 685:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OSTaskCreate(&p_task->TCB,
 686:rtos/uC-Common/KAL/uCOS-III/kal.c ****       (CPU_CHAR *)p_task->NamePtr,
 687:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   p_fnct,
 688:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   p_task_arg,
 689:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   prio,
 690:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   p_task->StkBasePtr,
 691:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   stk_limit,
 692:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   stk_size_words,
 693:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   0u,
 694:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   0u,
 695:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   DEF_NULL,
 696:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  (OS_OPT_TASK_STK_CHK | OS_OPT_TASK_STK_CLR),
 697:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  &err_os);
 698:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (err_os == OS_ERR_NONE) {
 699:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
 700:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
 701:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = KAL_ErrConvert(err_os);
 702:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 703:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 704:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return;
 705:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 706:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 707:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 708:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 709:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 710:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_TaskDel()
 711:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 712:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Delete a task.
 713:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 714:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : task_handle     Handle of the task to delete.
ARM GAS  /tmp/ccAqnR1x.s 			page 14


 715:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 716:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
 717:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 718:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
 719:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
 720:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
 721:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Invalid argument passed to function
 722:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
 723:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Generic OS error.
 724:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 725:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
 726:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 727:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
 728:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 729:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 730:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 731:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_TaskDel (KAL_TASK_HANDLE   task_handle,
 732:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    RTOS_ERR         *p_err)
 733:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
 734:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 735:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
 736:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 737:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 738:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 739:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_TASK_HANDLE_IS_NULL(task_handle) == DEF_YES) {
 740:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 741:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 742:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 743:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 744:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 745:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TASK_DEL_EN == DEF_ENABLED)
 746:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
 747:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_TCB  *p_tcb;
 748:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR   err_os;
 749:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 750:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 751:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_tcb = &((KAL_TASK *)task_handle.TaskObjPtr)->TCB;     /* Get TCB from task handle provide
 752:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 753:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSTaskDel(p_tcb,
 754:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  &err_os);
 755:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 756:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 757:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 758:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 759:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 760:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 761:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
 762:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 763:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
 764:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)task_handle;
 765:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 766:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
 767:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 768:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
 769:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 770:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 771:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 15


 772:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 773:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 774:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 775:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                         LOCK API FUNCTIONS
 776:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 777:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 778:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 779:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 780:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 781:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           KAL_LockCreate()
 782:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 783:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Create a lock, which is unlocked by default.
 784:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 785:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_name          Pointer to name of the lock.
 786:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 787:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_cfg           Pointer to KAL lock configuration structure.
 788:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 789:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
 790:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 791:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
 792:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
 793:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALLOC              Unable to allocate memory for lock.
 794:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
 795:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Invalid argument passed to function
 796:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 797:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Created lock handle.
 798:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 799:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
 800:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 801:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 802:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 803:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_LOCK_HANDLE  KAL_LockCreate (const  CPU_CHAR          *p_name,
 804:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                         KAL_LOCK_EXT_CFG  *p_cfg,
 805:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                         RTOS_ERR          *p_err)
 806:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
 807:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_LOCK_HANDLE  handle = KAL_LockHandleNull;
 808:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 809:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 810:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 811:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
 812:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 813:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 814:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 815:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 816:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_MUTEX_EN == DEF_ENABLED)
 817:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
 818:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_LOCK    *p_kal_lock;
 819:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT08U   opt_flags;
 820:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR      err_lib;
 821:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR       err_os;
 822:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 823:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 824:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_kal_lock = (KAL_LOCK *)Mem_DynPoolBlkGet(&KAL_DataPtr->MutexPool,
 825:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                    &err_lib);
 826:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
 827:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 828:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
ARM GAS  /tmp/ccAqnR1x.s 			page 16


 829:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 830:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 831:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSMutexCreate(           &p_kal_lock->Mutex,
 832:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       (CPU_CHAR *)p_name,
 833:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                  &err_os);
 834:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 835:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if ((p_cfg                                                != DEF_NULL) &&
 836:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_CREATE_REENTRANT) == DEF_YES)) {
 837:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 opt_flags = KAL_OPT_CREATE_REENTRANT;
 838:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 839:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 opt_flags = KAL_OPT_CREATE_NON_REENTRANT;
 840:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 841:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_kal_lock->OptFlags =  opt_flags;
 842:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.LockObjPtr    = (void *)p_kal_lock;
 843:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err                =  RTOS_ERR_NONE;
 844:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 845:rtos/uC-Common/KAL/uCOS-III/kal.c ****             Mem_DynPoolBlkFree(       &KAL_DataPtr->MutexPool,
 846:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
 847:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       &err_lib);
 848:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (void)err_lib;                                     /* Err ignored.                     
 849:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 850:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 851:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 852:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
 853:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 854:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
 855:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_name;
 856:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_cfg;
 857:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 858:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
 859:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 860:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
 861:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 862:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 863:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 864:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 865:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 866:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 867:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           KAL_LockAcquire()
 868:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 869:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Acquire a lock.
 870:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 871:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : lock_handle     Handle of the lock to acquire.
 872:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 873:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               opt             Options available:
 874:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_NONE:          block until timeout expires or lock
 875:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_BLOCKING:      block until timeout expires or lock
 876:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_NON_BLOCKING:  return immediately even if lock is 
 877:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 878:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               timeout_ms      Timeout, in milliseconds. A value of 0 will never timeout.
 879:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 880:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
 881:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 882:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
 883:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
 884:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
 885:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle or options specified is inva
ARM GAS  /tmp/ccAqnR1x.s 			page 17


 886:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
 887:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ABORT              Pend operation was aborted.
 888:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_TIMEOUT            Operation timed-out.
 889:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OWNERSHIP          Calling task already owns the lock.
 890:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_WOULD_BLOCK        KAL_OPT_PEND_NON_BLOCKING opt speci
 891:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                                               lock is not available.
 892:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Generic OS error.
 893:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 894:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
 895:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 896:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
 897:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 898:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 899:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 900:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_LockAcquire (KAL_LOCK_HANDLE   lock_handle,
 901:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        KAL_OPT           opt,
 902:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        CPU_INT32U        timeout_ms,
 903:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        RTOS_ERR         *p_err)
 904:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
 905:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 906:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
 907:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 908:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 909:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 910:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_LOCK_HANDLE_IS_NULL(lock_handle) == DEF_YES) {
 911:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 912:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 913:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 914:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 915:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_SET_ANY(opt, ~(KAL_OPT_PEND_NONE | KAL_OPT_PEND_NON_BLOCKING)) == DEF_YES) {
 916:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 917:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 918:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 919:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 920:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 921:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_MUTEX_EN == DEF_ENABLED)
 922:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
 923:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_LOCK    *p_kal_lock;
 924:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U   timeout_ticks;
 925:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT       opt_os;
 926:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR       err_os;
 927:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 928:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 929:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (timeout_ms != KAL_TIMEOUT_INFINITE) {
 930:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
 931:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 932:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = 0u;
 933:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 934:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 935:rtos/uC-Common/KAL/uCOS-III/kal.c ****         opt_os = OS_OPT_NONE;
 936:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_CLR(opt, KAL_OPT_PEND_NON_BLOCKING) == DEF_YES) {
 937:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
 938:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 939:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_NON_BLOCKING;
 940:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 941:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 942:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_kal_lock = (KAL_LOCK *)lock_handle.LockObjPtr;
ARM GAS  /tmp/ccAqnR1x.s 			page 18


 943:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSMutexPend(&p_kal_lock->Mutex,
 944:rtos/uC-Common/KAL/uCOS-III/kal.c ****                      timeout_ticks,
 945:rtos/uC-Common/KAL/uCOS-III/kal.c ****                      opt_os,
 946:rtos/uC-Common/KAL/uCOS-III/kal.c ****                      DEF_NULL,
 947:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     &err_os);
 948:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 949:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 950:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_OWNER) {
 951:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 952:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 953:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (DEF_BIT_IS_SET(p_kal_lock->OptFlags, KAL_OPT_CREATE_REENTRANT) == DEF_YES) {
 954:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
 955:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 956:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 OSMutexPost(&p_kal_lock->Mutex,                 /* Post mutex to decrement nesting 
 957:rtos/uC-Common/KAL/uCOS-III/kal.c ****                              OS_OPT_POST_NONE,
 958:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             &err_os);
 959:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 (void)err_os;
 960:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_OWNERSHIP;
 961:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 962:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 963:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 964:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
 965:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 966:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
 967:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)lock_handle;
 968:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)opt;
 969:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)timeout_ms;
 970:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 971:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
 972:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 973:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
 974:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
 975:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 976:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 977:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 978:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
 979:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 980:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           KAL_LockRelease()
 981:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 982:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Release a lock.
 983:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 984:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : lock_handle     Handle of the lock to release.
 985:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 986:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
 987:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 988:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
 989:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
 990:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
 991:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Task releasing lock does not own lo
 992:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
 993:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 994:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
 995:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
 996:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
 997:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
 998:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
 999:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 19


1000:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_LockRelease (KAL_LOCK_HANDLE   lock_handle,
1001:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        RTOS_ERR         *p_err)
1002:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1003:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1004:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1005:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1006:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1007:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1008:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_LOCK_HANDLE_IS_NULL(lock_handle) == DEF_YES) {
1009:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1010:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1011:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1012:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1013:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1014:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_MUTEX_EN == DEF_ENABLED)
1015:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1016:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_LOCK  *p_kal_lock;
1017:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR     err_os;
1018:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1019:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1020:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_kal_lock = (KAL_LOCK *)lock_handle.LockObjPtr;
1021:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSMutexPost(&p_kal_lock->Mutex,
1022:rtos/uC-Common/KAL/uCOS-III/kal.c ****                      OS_OPT_POST_NONE,
1023:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     &err_os);
1024:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1025:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1026:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_NESTING) {
1027:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1028:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1029:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (DEF_BIT_IS_SET(p_kal_lock->OptFlags, KAL_OPT_CREATE_REENTRANT) == DEF_YES) {
1030:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
1031:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
1032:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_OS;
1033:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
1034:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1035:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1036:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1037:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1038:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1039:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)lock_handle;
1040:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1041:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1042:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1043:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1044:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1045:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1046:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1047:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1048:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1049:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1050:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_LockDel()
1051:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1052:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Delete a lock.
1053:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1054:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : lock_handle     Handle of the lock to delete.
1055:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1056:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
ARM GAS  /tmp/ccAqnR1x.s 			page 20


1057:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1058:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1059:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1060:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
1061:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle or options specified is inva
1062:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function was called from an ISR.
1063:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Generic OS error.
1064:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1065:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
1066:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1067:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1068:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1069:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1070:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1071:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_LockDel (KAL_LOCK_HANDLE   lock_handle,
1072:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    RTOS_ERR         *p_err)
1073:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1074:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1075:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1076:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1077:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1078:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1079:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_LOCK_HANDLE_IS_NULL(lock_handle) == DEF_YES) {
1080:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1081:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1082:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1083:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1084:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1085:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if ((OS_CFG_MUTEX_EN     == DEF_ENABLED) && \
1086:rtos/uC-Common/KAL/uCOS-III/kal.c ****          (OS_CFG_MUTEX_DEL_EN == DEF_ENABLED))                  /* Mutex and mutex del are avail.  
1087:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1088:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_LOCK  *p_kal_lock;
1089:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR     err_os;
1090:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1091:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1092:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_kal_lock = (KAL_LOCK *)lock_handle.LockObjPtr;
1093:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1094:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)OSMutexDel(&p_kal_lock->Mutex,
1095:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           OS_OPT_DEL_ALWAYS,
1096:rtos/uC-Common/KAL/uCOS-III/kal.c ****                          &err_os);
1097:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1098:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
1099:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1100:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1101:rtos/uC-Common/KAL/uCOS-III/kal.c ****             Mem_DynPoolBlkFree(       &KAL_DataPtr->MutexPool,
1102:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
1103:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       &err_lib);
1104:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (void)err_lib;
1105:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1106:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1107:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1108:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1109:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1110:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1111:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1112:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else                                                       /* Mutex or mutex del is not avail.
1113:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)lock_handle;
ARM GAS  /tmp/ccAqnR1x.s 			page 21


1114:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1115:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1116:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1117:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1118:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1119:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1120:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1121:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1122:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1123:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1124:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                          SEM API FUNCTIONS
1125:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1126:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1127:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1128:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1129:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1130:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            KAL_SemCreate()
1131:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1132:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Create a semaphore, with a count of 0.
1133:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1134:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_name          Pointer to name of the semaphore.
1135:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1136:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_cfg           Pointer to KAL semaphore configuration structure.
1137:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1138:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1139:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1140:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1141:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1142:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_SUPPORTED      'p_cfg' parameter was not NULL.
1143:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALLOC              Unable to allocate memory for semap
1144:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Invalid argument passed to function
1145:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
1146:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1147:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Created semaphore's handle.
1148:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1149:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1150:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1151:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1152:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1153:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_SEM_HANDLE  KAL_SemCreate (const  CPU_CHAR         *p_name,
1154:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       KAL_SEM_EXT_CFG  *p_cfg,
1155:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       RTOS_ERR         *p_err)
1156:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1157:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_SEM_HANDLE  handle = KAL_SemHandleNull;
1158:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1159:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1160:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1161:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1162:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
1163:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1164:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1165:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_cfg != DEF_NULL) {                                /* Make sure no unsupported cfg rec
1166:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
1167:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
1168:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1169:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1170:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_cfg;
ARM GAS  /tmp/ccAqnR1x.s 			page 22


1171:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1172:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1173:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_SEM_EN == DEF_ENABLED)
1174:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1175:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_SEM   *p_sem;
1176:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR   err_lib;
1177:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR    err_os;
1178:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1179:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1180:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_sem = (OS_SEM *)Mem_DynPoolBlkGet(&KAL_DataPtr->SemPool,
1181:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             &err_lib);
1182:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
1183:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
1184:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
1185:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1186:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1187:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSSemCreate(            p_sem,
1188:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (CPU_CHAR *)p_name,
1189:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 0u,
1190:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                &err_os);
1191:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1192:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.SemObjPtr = (void *)p_sem;
1193:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err            =  RTOS_ERR_NONE;
1194:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1195:rtos/uC-Common/KAL/uCOS-III/kal.c ****             Mem_DynPoolBlkFree(       &KAL_DataPtr->SemPool,
1196:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
1197:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       &err_lib);
1198:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (void)err_lib;
1199:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1200:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1201:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1202:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
1203:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1204:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1205:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_name;
1206:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1207:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1208:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1209:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
1210:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1211:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1212:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1213:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1214:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1215:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1216:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_SemPend()
1217:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1218:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Pend on a semaphore.
1219:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1220:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : sem_handle      Handle of the semaphore to pend on.
1221:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1222:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               opt             Options available:
1223:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_NONE:          block until timeout expires or sema
1224:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_BLOCKING:      block until timeout expires or sema
1225:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_NON_BLOCKING:  return immediately even if semaphor
1226:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1227:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               timeout_ms      Timeout, in milliseconds. A value of 0 will never timeout.
ARM GAS  /tmp/ccAqnR1x.s 			page 23


1228:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1229:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1230:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1231:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1232:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1233:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
1234:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle or options specified is inva
1235:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ABORT              Pend operation was aborted.
1236:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_TIMEOUT            Operation timed-out.
1237:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function was called from an ISR.
1238:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_WOULD_BLOCK        KAL_OPT_PEND_NON_BLOCKING opt speci
1239:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                                               semaphore is not available.
1240:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Generic OS error.
1241:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1242:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
1243:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1244:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1245:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1246:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1247:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1248:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_SemPend (KAL_SEM_HANDLE   sem_handle,
1249:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    KAL_OPT          opt,
1250:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    CPU_INT32U       timeout_ms,
1251:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    RTOS_ERR        *p_err)
1252:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1253:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1254:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1255:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1256:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1257:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1258:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_SEM_HANDLE_IS_NULL(sem_handle) == DEF_YES) {
1259:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1260:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1261:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1262:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1263:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_SET_ANY(opt, ~(KAL_OPT_PEND_NONE | KAL_OPT_PEND_NON_BLOCKING)) == DEF_YES) {
1264:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
1265:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1266:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1267:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1268:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1269:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_SEM_EN == DEF_ENABLED)
1270:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1271:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U  timeout_ticks;
1272:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT      opt_os;
1273:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR      err_os;
1274:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1275:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1276:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (timeout_ms != KAL_TIMEOUT_INFINITE) {
1277:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
1278:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1279:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = 0u;
1280:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1281:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1282:rtos/uC-Common/KAL/uCOS-III/kal.c ****         opt_os = OS_OPT_NONE;
1283:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_CLR(opt, KAL_OPT_PEND_NON_BLOCKING) == DEF_YES) {
1284:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
ARM GAS  /tmp/ccAqnR1x.s 			page 24


1285:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1286:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_NON_BLOCKING;
1287:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1288:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1289:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSSemPend((OS_SEM *)sem_handle.SemObjPtr,
1290:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             timeout_ticks,
1291:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             opt_os,
1292:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             DEF_NULL,
1293:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            &err_os);
1294:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1295:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1296:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1297:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1298:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1299:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1300:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1301:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1302:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1303:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)sem_handle;
1304:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)opt;
1305:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)timeout_ms;
1306:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1307:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1308:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1309:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1310:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1311:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1312:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1313:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1314:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1315:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1316:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_SemPost()
1317:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1318:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Post a semaphore.
1319:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1320:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : sem_handle      Handle of the semaphore to post.
1321:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1322:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               opt             Options available:
1323:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_POST_NONE:     wake only the highest priority task pend
1324:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1325:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1326:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1327:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1328:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1329:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
1330:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle or options specified is inva
1331:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_WOULD_OVF          Semaphore would overflow.
1332:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1333:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
1334:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1335:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1336:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1337:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1338:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1339:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_SemPost (KAL_SEM_HANDLE   sem_handle,
1340:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    KAL_OPT          opt,
1341:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    RTOS_ERR        *p_err)
ARM GAS  /tmp/ccAqnR1x.s 			page 25


1342:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1343:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1344:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1345:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1346:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1347:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1348:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_SEM_HANDLE_IS_NULL(sem_handle) == DEF_YES) {
1349:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1350:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1351:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1352:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1353:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (opt != KAL_OPT_POST_NONE) {
1354:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
1355:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1356:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1357:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1358:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1359:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_SEM_EN == DEF_ENABLED)
1360:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1361:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR  err_os;
1362:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1363:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1364:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSSemPost((OS_SEM *)sem_handle.SemObjPtr,
1365:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             OS_OPT_POST_1,
1366:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            &err_os);
1367:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1368:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1369:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1370:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1371:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1372:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1373:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1374:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1375:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1376:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)sem_handle;
1377:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)opt;
1378:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1379:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1380:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1381:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1382:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1383:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1384:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1385:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1386:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1387:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1388:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                          KAL_SemPendAbort()
1389:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1390:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Abort given semaphore and resume all the tasks pending on it.
1391:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1392:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : sem_handle      Handle of the sempahore to abort.
1393:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1394:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1395:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1396:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1397:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1398:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
ARM GAS  /tmp/ccAqnR1x.s 			page 26


1399:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle specified is invalid.
1400:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
1401:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1402:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
1403:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1404:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1405:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1406:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1407:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1408:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_SemPendAbort (KAL_SEM_HANDLE   sem_handle,
1409:rtos/uC-Common/KAL/uCOS-III/kal.c ****                         RTOS_ERR        *p_err)
1410:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1411:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1412:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1413:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1414:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1415:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1416:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_SEM_HANDLE_IS_NULL(sem_handle) == DEF_YES) {
1417:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1418:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1419:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1420:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1421:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1422:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if ((OS_CFG_SEM_EN            == DEF_ENABLED) && \
1423:rtos/uC-Common/KAL/uCOS-III/kal.c ****          (OS_CFG_SEM_PEND_ABORT_EN == DEF_ENABLED))
1424:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1425:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR  err_os;
1426:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1427:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1428:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)OSSemPendAbort((OS_SEM *)sem_handle.SemObjPtr,
1429:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        OS_OPT_PEND_ABORT_ALL,
1430:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       &err_os);
1431:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1432:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1433:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1434:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1435:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1436:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1437:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1438:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1439:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1440:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)sem_handle;
1441:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1442:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1443:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1444:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1445:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1446:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1447:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1448:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1449:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1450:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1451:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_SemSet()
1452:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1453:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Set value of semaphore.
1454:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1455:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : sem_handle      Handle of the semaphore to set.
ARM GAS  /tmp/ccAqnR1x.s 			page 27


1456:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1457:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               cnt             Count value to set semaphore.
1458:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1459:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1460:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1461:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1462:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1463:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
1464:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle specified is invalid.
1465:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1466:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
1467:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1468:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1469:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1470:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1471:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1472:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_SemSet (KAL_SEM_HANDLE   sem_handle,
1473:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   CPU_INT16U       cnt,
1474:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   RTOS_ERR        *p_err)
1475:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1476:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ------------------ VALIDATE ARGS
1477:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1478:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1479:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1480:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1481:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_SEM_HANDLE_IS_NULL(sem_handle) == DEF_YES) {    /* Validate handle.                
1482:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1483:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1484:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1485:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1486:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1487:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if ((OS_CFG_SEM_EN      == DEF_ENABLED) && \
1488:rtos/uC-Common/KAL/uCOS-III/kal.c ****          (OS_CFG_SEM_SET_EN  == DEF_ENABLED))
1489:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1490:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR  err_os;
1491:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1492:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1493:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSSemSet((OS_SEM *)sem_handle.SemObjPtr,
1494:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            cnt,
1495:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &err_os);
1496:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1497:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1498:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1499:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1500:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1501:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1502:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1503:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1504:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1505:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)sem_handle;
1506:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)cnt;
1507:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1508:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1509:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1510:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1511:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1512:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
ARM GAS  /tmp/ccAqnR1x.s 			page 28


1513:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1514:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1515:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1516:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1517:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_SemDel()
1518:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1519:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Delete a semaphore.
1520:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1521:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : sem_handle      Handle of the semaphore to delete.
1522:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1523:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1524:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1525:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1526:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1527:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
1528:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle specified is invalid.
1529:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function was called from an ISR.
1530:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1531:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
1532:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1533:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1534:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1535:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1536:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1537:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_SemDel (KAL_SEM_HANDLE   sem_handle,
1538:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   RTOS_ERR        *p_err)
1539:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1540:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1541:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1542:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1543:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1544:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1545:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_SEM_HANDLE_IS_NULL(sem_handle) == DEF_YES) {
1546:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1547:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1548:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1549:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1550:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1551:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if ((OS_CFG_SEM_EN     == DEF_ENABLED) && \
1552:rtos/uC-Common/KAL/uCOS-III/kal.c ****          (OS_CFG_SEM_DEL_EN == DEF_ENABLED))
1553:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1554:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_SEM  *p_sem;
1555:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR   err_os;
1556:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1557:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1558:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_sem = (OS_SEM *)sem_handle.SemObjPtr;
1559:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1560:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)OSSemDel(p_sem,
1561:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        OS_OPT_DEL_ALWAYS,
1562:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       &err_os);
1563:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1564:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
1565:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1566:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1567:rtos/uC-Common/KAL/uCOS-III/kal.c ****             Mem_DynPoolBlkFree(       &KAL_DataPtr->SemPool,
1568:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
1569:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       &err_lib);
ARM GAS  /tmp/ccAqnR1x.s 			page 29


1570:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (void)err_lib;
1571:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1573:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1574:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1575:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1576:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1577:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1578:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1579:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)sem_handle;
1580:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1581:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1582:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1583:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1584:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1585:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1586:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1587:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1588:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1589:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1590:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                          TMR API FUNCTIONS
1591:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1592:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1593:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1594:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1595:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1596:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            KAL_TmrCreate()
1597:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1598:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Create a single-shot timer.
1599:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1600:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_name          Pointer to name of the timer.
1601:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1602:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_callback      Pointer to the callback function that will be called on completion 
1603:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1604:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_callback_arg  Argument passed to callback function.
1605:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1606:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               interval_ms     If timer is 'one-shot', delay  used by the timer, in milliseconds.
1607:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                               If timer is 'periodic', period used by the timer, in milliseconds.
1608:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1609:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_cfg           Pointer to KAL timer configuration structure.
1610:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1611:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1612:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1613:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1614:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1615:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Null pointer passed to function.
1616:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALLOC              Unable to allocate memory for semap
1617:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Invalid argument passed to function
1618:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
1619:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Generic OS error.
1620:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1621:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Created timer handle.
1622:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1623:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1624:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1625:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1626:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 30


1627:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_TMR_HANDLE  KAL_TmrCreate (const  CPU_CHAR          *p_name,
1628:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       void             (*p_callback)(void  *p_arg),
1629:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       void              *p_callback_arg,
1630:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       CPU_INT32U         interval_ms,
1631:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       KAL_TMR_EXT_CFG   *p_cfg,
1632:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       RTOS_ERR          *p_err)
1633:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1634:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TMR_HANDLE  handle = KAL_TmrHandleNull;
1635:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1636:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1637:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1638:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1639:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
1640:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1641:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1642:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_callback == DEF_NULL) {                           /* Validate callback fnct ptr.     
1643:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1644:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
1645:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1646:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1647:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (interval_ms == 0u) {                                /* Validate time.                  
1648:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
1649:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
1650:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1651:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1652:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_cfg != DEF_NULL) {
1653:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (DEF_BIT_IS_SET_ANY(p_cfg->Opt, ~(KAL_OPT_TMR_NONE | KAL_OPT_TMR_PERIODIC)) == DEF_Y
1654:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_INVALID_ARG;
1655:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 return (handle);
1656:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
1657:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1658:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1659:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1660:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TMR_EN == DEF_ENABLED)
1661:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1662:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_TMR     *p_tmr;
1663:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U   tmr_dly;
1664:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U   tmr_period;
1665:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT       opt_os;
1666:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_TICK     ticks;
1667:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR       err_os;
1668:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR      err_lib;
1669:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #if  ((OS_CFG_TMR_TASK_RATE_HZ         >= 1000u) && \
1670:rtos/uC-Common/KAL/uCOS-III/kal.c ****               (OS_CFG_TMR_TASK_RATE_HZ % 1000u ==    0u))
1671:rtos/uC-Common/KAL/uCOS-III/kal.c ****         const  CPU_INT08U   mult = OS_CFG_TMR_TASK_RATE_HZ / 1000u;
1672:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #endif
1673:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1674:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1675:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_tmr  = (KAL_TMR *)Mem_DynPoolBlkGet(&KAL_DataPtr->TmrPool,
1676:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                               &err_lib);
1677:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
1678:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
1679:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
1680:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1681:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1682:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_tmr->CallbackFnct = p_callback;
1683:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_tmr->CallbackArg  = p_callback_arg;
ARM GAS  /tmp/ccAqnR1x.s 			page 31


1684:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Calc nbr of tmr ticks (rounded u
1685:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #if  ((OS_CFG_TMR_TASK_RATE_HZ         >= 1000u) && \
1686:rtos/uC-Common/KAL/uCOS-III/kal.c ****               (OS_CFG_TMR_TASK_RATE_HZ % 1000u ==    0u))       /* Optimize calc if possible for of
1687:rtos/uC-Common/KAL/uCOS-III/kal.c ****             ticks =    interval_ms * mult;
1688:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #elif (OS_CFG_TMR_TASK_RATE_HZ ==  100u)
1689:rtos/uC-Common/KAL/uCOS-III/kal.c ****             ticks =  ((interval_ms +  9u) /  10u);
1690:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #elif (OS_CFG_TMR_TASK_RATE_HZ ==   10u)
1691:rtos/uC-Common/KAL/uCOS-III/kal.c ****             ticks =  ((interval_ms + 99u) / 100u);
1692:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #else                                                   /* General formula.                
1693:rtos/uC-Common/KAL/uCOS-III/kal.c ****             ticks = (((interval_ms * OS_CFG_TMR_TASK_RATE_HZ)  + 1000u - 1u) / 1000u);
1694:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #endif
1695:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Tmr is 'periodic'.              
1696:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if ((p_cfg                                            != DEF_NULL) &&
1697:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_TMR_PERIODIC) == DEF_YES)) {
1698:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os     = OS_OPT_TMR_PERIODIC;
1699:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_dly    = 0u;
1700:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_period = ticks;
1701:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1702:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os     = OS_OPT_TMR_ONE_SHOT;                   /* Tmr is 'one-shot'.              
1703:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_dly    = ticks;
1704:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_period = 0u;
1705:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1706:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1707:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSTmrCreate(           &p_tmr->Tmr,                     /* Create tmr obj.                 
1708:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (CPU_CHAR *)p_name,
1709:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 tmr_dly,
1710:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 tmr_period,
1711:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 opt_os,
1712:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 KAL_TmrFnctWrapper,
1713:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (void     *)p_tmr,
1714:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                &err_os);
1715:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1716:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TmrObjPtr = p_tmr;
1717:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err            = RTOS_ERR_NONE;
1718:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1719:rtos/uC-Common/KAL/uCOS-III/kal.c ****             Mem_DynPoolBlkFree(&KAL_DataPtr->TmrPool,
1720:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 p_tmr,
1721:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                &err_lib);
1722:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (void)err_lib;
1723:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1724:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1725:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1726:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
1727:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1728:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1729:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_name;
1730:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_callback;
1731:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_callback_arg;
1732:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)interval_ms;
1733:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_cfg;
1734:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1735:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1736:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1737:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
1738:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1739:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1740:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 32


1741:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1742:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1743:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1744:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            KAL_TmrStart()
1745:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1746:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Start timer.
1747:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1748:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : tmr_handle      Handle of timer to start.
1749:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1750:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1751:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1752:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1753:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1754:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Null timer handle passed to functio
1755:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
1756:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Generic OS error.
1757:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1758:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
1759:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1760:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1761:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1762:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1763:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1764:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_TmrStart (KAL_TMR_HANDLE   tmr_handle,
1765:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     RTOS_ERR        *p_err)
1766:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1767:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1768:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1769:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
1770:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1771:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1772:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_TMR_HANDLE_IS_NULL(tmr_handle) == DEF_YES) {
1773:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1774:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
1775:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1776:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1777:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1778:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TMR_EN == DEF_ENABLED)
1779:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1780:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_TMR  *p_tmr;
1781:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR    err_os;
1782:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1783:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1784:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_tmr = (KAL_TMR *)tmr_handle.TmrObjPtr;
1785:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1786:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSTmrStart(&p_tmr->Tmr,
1787:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    &err_os);
1788:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1789:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1790:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1791:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1792:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1793:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1794:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1795:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1796:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1797:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)tmr_handle;
ARM GAS  /tmp/ccAqnR1x.s 			page 33


1798:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1799:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1800:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1801:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
1802:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1803:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1804:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1805:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1806:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1807:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1808:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           Q API FUNCTIONS
1809:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1810:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1811:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1812:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1813:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1814:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_QCreate()
1815:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1816:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Create an empty queue.
1817:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1818:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_name          Pointer to name of the queue.
1819:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1820:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               max_msg_qty     Maximum number of message contained in the queue.
1821:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1822:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_cfg           Pointer to KAL queue configuration structure.
1823:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1824:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1825:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1826:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1827:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1828:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_SUPPORTED      'p_cfg' parameter was not NULL.
1829:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALLOC              Unable to allocate memory for queue
1830:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function called from an ISR context
1831:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Argument passed to function is inva
1832:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1833:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Created queue handle.
1834:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1835:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1836:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1837:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1838:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1839:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_Q_HANDLE  KAL_QCreate (const  CPU_CHAR       *p_name,
1840:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                   KAL_MSG_QTY     max_msg_qty,
1841:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                   KAL_Q_EXT_CFG  *p_cfg,
1842:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                   RTOS_ERR       *p_err)
1843:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1844:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_Q_HANDLE  handle = KAL_QHandleNull;
1845:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1846:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1847:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1848:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1849:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
1850:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1851:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1852:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_cfg != DEF_NULL) {                                /* Make sure no unsupported cfg rec
1853:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
1854:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
ARM GAS  /tmp/ccAqnR1x.s 			page 34


1855:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1856:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1857:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_cfg;
1858:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1859:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1860:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_Q_EN == DEF_ENABLED)
1861:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1862:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_Q     *p_q;
1863:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR   err_lib;
1864:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR    err_os;
1865:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1866:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1867:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_q = (OS_Q *)Mem_SegAlloc("KAL Q",
1868:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                     KAL_DataPtr->MemSegPtr,
1869:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                     sizeof(OS_Q),
1870:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                    &err_lib);
1871:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
1872:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
1873:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
1874:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1875:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1876:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSQCreate(            p_q,
1877:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   (CPU_CHAR *)p_name,
1878:rtos/uC-Common/KAL/uCOS-III/kal.c ****                               max_msg_qty,
1879:rtos/uC-Common/KAL/uCOS-III/kal.c ****                              &err_os);
1880:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1881:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.QObjPtr = (void *)p_q;
1882:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err          =  RTOS_ERR_NONE;
1883:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1884:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1885:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1886:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1887:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
1888:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1889:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1890:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_name;
1891:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)max_msg_qty;
1892:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1893:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
1894:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1895:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
1896:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1897:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
1898:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1899:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1900:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
1901:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1902:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                              KAL_QPend()
1903:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1904:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Pend/get first message of queue.
1905:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1906:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : q_handle        Handle of the queue to pend on.
1907:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1908:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               opt             Options available:
1909:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_NONE:          block until timeout expires or mess
1910:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_BLOCKING:      block until timeout expires or mess
1911:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_PEND_NON_BLOCKING:  return immediately with or without 
ARM GAS  /tmp/ccAqnR1x.s 			page 35


1912:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1913:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               timeout_ms      Timeout, in milliseconds. A value of 0 will never timeout.
1914:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1915:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
1916:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1917:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
1918:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
1919:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
1920:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle or options specified is inva
1921:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ABORT              Pend operation was aborted.
1922:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_TIMEOUT            Operation timed-out.
1923:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ISR                Function was called from an ISR.
1924:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_WOULD_BLOCK        KAL_OPT_PEND_NON_BLOCKING opt speci
1925:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                                               message is available.
1926:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_OS                 Generic OS error.
1927:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1928:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Pointer to message obtained, if any, if no error.
1929:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1930:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               Null pointer,                        otherwise.
1931:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
1932:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
1933:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
1934:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
1935:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1936:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  *KAL_QPend (KAL_Q_HANDLE   q_handle,
1937:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   KAL_OPT        opt,
1938:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   CPU_INT32U     timeout_ms,
1939:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   RTOS_ERR      *p_err)
1940:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
1941:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
1942:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
1943:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(DEF_NULL);
1944:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1945:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1946:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_Q_HANDLE_IS_NULL(q_handle) == DEF_YES) {
1947:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
1948:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (DEF_NULL);
1949:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1950:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1951:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_SET_ANY(opt, ~(KAL_OPT_PEND_NONE | KAL_OPT_PEND_NON_BLOCKING)) == DEF_YES) {
1952:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
1953:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (DEF_NULL);
1954:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1955:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
1956:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1957:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_Q_EN == DEF_ENABLED)
1958:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
1959:rtos/uC-Common/KAL/uCOS-III/kal.c ****         void         *p_msg;
1960:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U    timeout_ticks;
1961:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_MSG_SIZE   msg_size;
1962:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT        opt_os;
1963:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR        err_os;
1964:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1965:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1966:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (timeout_ms != KAL_TIMEOUT_INFINITE) {
1967:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
1968:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
ARM GAS  /tmp/ccAqnR1x.s 			page 36


1969:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = 0u;
1970:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1971:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1972:rtos/uC-Common/KAL/uCOS-III/kal.c ****         opt_os = OS_OPT_NONE;
1973:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_CLR(opt, KAL_OPT_PEND_NON_BLOCKING) == DEF_YES) {
1974:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
1975:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1976:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_NON_BLOCKING;
1977:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1978:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1979:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_msg = OSQPend((OS_Q *)q_handle.QObjPtr,
1980:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 timeout_ticks,
1981:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 opt_os,
1982:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                &msg_size,
1983:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 DEF_NULL,
1984:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                &err_os);
1985:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)msg_size;
1986:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
1987:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
1988:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
1989:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
1990:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
1991:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1992:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (p_msg);
1993:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
1994:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
1995:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)q_handle;
1996:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)opt;
1997:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)timeout_ms;
1998:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
1999:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
2000:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2001:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (DEF_NULL);
2002:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2003:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2004:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2005:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2006:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2007:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2008:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                              KAL_QPost()
2009:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2010:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Post message on queue.
2011:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2012:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : q_handle        Handle of the queue on which to post message.
2013:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2014:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_msg           Pointer to message to post.
2015:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2016:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               opt             Options available:
2017:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_POST_NONE:     wake only the highest priority task pend
2018:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2019:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
2020:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2021:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
2022:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
2023:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Handle contains a NULL/invalid poin
2024:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle or options specified is inva
2025:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NO_MORE_RSRC       Queue cannot contain any more messa
ARM GAS  /tmp/ccAqnR1x.s 			page 37


2026:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                                               no more message available.
2027:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2028:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
2029:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2030:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2031:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2032:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2033:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2034:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_QPost (KAL_Q_HANDLE   q_handle,
2035:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  void          *p_msg,
2036:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  KAL_OPT        opt,
2037:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  RTOS_ERR      *p_err)
2038:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
2039:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
2040:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
2041:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
2042:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2043:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2044:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_Q_HANDLE_IS_NULL(q_handle) == DEF_YES) {
2045:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
2046:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
2047:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2048:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2049:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (opt != KAL_OPT_POST_NONE) {
2050:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
2051:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
2052:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2053:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2054:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)opt;
2055:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2056:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2057:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_Q_EN == DEF_ENABLED)                            /* Qs are available.               
2058:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
2059:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR  err_os;
2060:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2061:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2062:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSQPost((OS_Q *)q_handle.QObjPtr,
2063:rtos/uC-Common/KAL/uCOS-III/kal.c ****                         p_msg,
2064:rtos/uC-Common/KAL/uCOS-III/kal.c ****                         0u,
2065:rtos/uC-Common/KAL/uCOS-III/kal.c ****                         OS_OPT_POST_1,
2066:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        &err_os);
2067:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
2068:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
2069:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
2070:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
2071:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2072:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2073:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
2074:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
2075:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2076:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)q_handle;
2077:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_msg;
2078:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2079:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
2080:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2081:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
2082:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
ARM GAS  /tmp/ccAqnR1x.s 			page 38


2083:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2084:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2085:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2086:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2087:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2088:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                          DLY API FUNCTIONS
2089:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2090:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2091:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2092:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2093:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2094:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                               KAL_Dly()
2095:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2096:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Delay current task (in milliseconds).
2097:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2098:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : dly_ms          Delay value, in milliseconds.
2099:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2100:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
2101:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2102:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2103:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2104:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2105:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2106:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_Dly (CPU_INT32U  dly_ms)
2107:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
2108:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_INT32U  dly_ticks;
2109:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR      err_os;
2110:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2111:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2112:rtos/uC-Common/KAL/uCOS-III/kal.c ****     dly_ticks = KAL_msToTicks(dly_ms);
2113:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2114:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OSTimeDly(dly_ticks,
2115:rtos/uC-Common/KAL/uCOS-III/kal.c ****               OS_OPT_TIME_DLY,
2116:rtos/uC-Common/KAL/uCOS-III/kal.c ****              &err_os);
2117:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)
2118:rtos/uC-Common/KAL/uCOS-III/kal.c ****         switch (err_os) {
2119:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_NONE:
2120:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_TIME_ZERO_DLY:
2121:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
2122:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2123:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_OPT_INVALID:
2124:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_SCHED_LOCKED:
2125:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_TIME_DLY_ISR:
2126:rtos/uC-Common/KAL/uCOS-III/kal.c ****             default:
2127:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  CPU_SW_EXCEPTION(;);
2128:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
2129:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2130:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2131:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)err_os;                                          /* Ignore err from OSTimeDly().     
2132:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2133:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2134:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return;
2135:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2136:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2137:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2138:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2139:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
ARM GAS  /tmp/ccAqnR1x.s 			page 39


2140:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_DlyTick()
2141:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2142:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Delay current task (in ticks).
2143:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2144:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : dly_ticks       Delay value, in ticks.
2145:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2146:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               opt             Options available:
2147:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_DLY_NONE:       apply a 'normal' delay.
2148:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_DLY:            apply a 'normal' delay.
2149:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   KAL_OPT_DLY_PERIODIC:   apply a periodic delay.
2150:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2151:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
2152:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2153:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2154:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2155:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2156:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2157:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_DlyTick (KAL_TICK  dly_ticks,
2158:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    KAL_OPT   opt)
2159:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
2160:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_OPT  opt_os;
2161:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR  err_os;
2162:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2163:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2164:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (DEF_BIT_IS_SET(opt, KAL_OPT_DLY_PERIODIC) == DEF_YES) {
2165:rtos/uC-Common/KAL/uCOS-III/kal.c ****         opt_os = OS_OPT_TIME_PERIODIC;
2166:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
2167:rtos/uC-Common/KAL/uCOS-III/kal.c ****         opt_os = OS_OPT_TIME_DLY;
2168:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
2169:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2170:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OSTimeDly(dly_ticks,
2171:rtos/uC-Common/KAL/uCOS-III/kal.c ****               opt_os,
2172:rtos/uC-Common/KAL/uCOS-III/kal.c ****              &err_os);
2173:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)
2174:rtos/uC-Common/KAL/uCOS-III/kal.c ****         switch (err_os) {
2175:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_NONE:
2176:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_TIME_ZERO_DLY:
2177:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
2178:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2179:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_OPT_INVALID:
2180:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_SCHED_LOCKED:
2181:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_TIME_DLY_ISR:
2182:rtos/uC-Common/KAL/uCOS-III/kal.c ****             default:
2183:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  CPU_SW_EXCEPTION(;);
2184:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
2185:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2186:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2187:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)err_os;                                          /* Ignore err from OSTimeDly().     
2188:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2189:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2190:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return;
2191:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2192:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2193:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2194:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2195:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2196:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                       TASK REG API FUNCTIONS
ARM GAS  /tmp/ccAqnR1x.s 			page 40


2197:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2198:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2199:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2200:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2201:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2202:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                          KAL_TaskRegCreate()
2203:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2204:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Create a task register.
2205:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2206:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_cfg           Pointer to KAL task register configuration structure.
2207:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2208:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
2209:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2210:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
2211:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
2212:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_SUPPORTED      'p_cfg' parameter was not NULL.
2213:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_ALLOC              Unable to allocate memory for task 
2214:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NO_MORE_RSRC       No more task register available.
2215:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2216:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Created task register's handle.
2217:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2218:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2219:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2220:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2221:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2222:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_TASK_REG_HANDLE  KAL_TaskRegCreate (KAL_TASK_REG_EXT_CFG  *p_cfg,
2223:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                         RTOS_ERR              *p_err)
2224:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
2225:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK_REG_HANDLE  handle = KAL_TaskRegHandleNull;
2226:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2227:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2228:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
2229:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
2230:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
2231:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2232:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2233:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_cfg != DEF_NULL) {                                /* Make sure no unsupported cfg rec
2234:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
2235:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
2236:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2237:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2238:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)p_cfg;
2239:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2240:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2241:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
2242:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
2243:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_TASK_REG  *p_task_reg;
2244:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR        err_lib;
2245:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR         err_os;
2246:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2247:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2248:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_task_reg = (KAL_TASK_REG *)Mem_DynPoolBlkGet(&KAL_DataPtr->TaskRegPool,
2249:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                        &err_lib);
2250:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_lib != LIB_MEM_ERR_NONE) {
2251:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
2252:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
2253:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
ARM GAS  /tmp/ccAqnR1x.s 			page 41


2254:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_task_reg->Id = OSTaskRegGetID(&err_os);
2256:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
2257:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TaskRegObjPtr = (void *)p_task_reg;
2258:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err                =  RTOS_ERR_NONE;
2259:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
2260:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Free rsrc to pool.              
2261:rtos/uC-Common/KAL/uCOS-III/kal.c ****             Mem_DynPoolBlkFree(       &KAL_DataPtr->TaskRegPool,
2262:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_task_reg,
2263:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                       &err_lib);
2264:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (void)err_lib;                                     /* Err ignored.                     
2265:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
2266:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2267:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2268:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
2269:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
2270:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2271:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
2272:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2273:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
2274:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2275:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2276:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2277:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2278:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2279:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2280:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           KAL_TaskRegGet()
2281:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2282:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Get value from a task register.
2283:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2284:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : task_handle     Handle of the task associated to the task register. Current task is
2285:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2286:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               task_reg_handle Handle of the task register to read.
2287:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2288:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
2289:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2290:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
2291:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
2292:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Task register handle is NULL.
2293:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle specified is invalid.
2294:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2295:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Value read from the task register, if no error.
2296:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               0,                                 otherwise.
2297:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2298:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2299:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2300:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2301:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2302:rtos/uC-Common/KAL/uCOS-III/kal.c **** CPU_INT32U  KAL_TaskRegGet (KAL_TASK_HANDLE       task_handle,
2303:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             KAL_TASK_REG_HANDLE   task_reg_handle,
2304:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             RTOS_ERR             *p_err)
2305:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
2306:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
2307:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
2308:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(0u);
2309:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2310:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 42


2311:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_TASK_REG_HANDLE_IS_NULL(task_reg_handle) == DEF_YES) {
2312:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
2313:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (0u);
2314:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2315:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2316:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2317:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
2318:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
2319:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_TASK_REG  *p_task_reg;
2320:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_TCB        *p_task_tcb;
2321:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U     ret_val;
2322:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR         err_os;
2323:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2324:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2325:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_task_reg = (KAL_TASK_REG *)task_reg_handle.TaskRegObjPtr;
2326:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2327:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_TASK_HANDLE_IS_NULL(task_handle) == DEF_YES) {
2328:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = OSTCBCurPtr;                           /* Use cur task if no task handle i
2329:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
2330:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Get TCB from task handle provide
2331:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = &((KAL_TASK *)task_handle.TaskObjPtr)->TCB;
2332:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2333:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2334:rtos/uC-Common/KAL/uCOS-III/kal.c ****         ret_val = OSTaskRegGet(p_task_tcb,
2335:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                p_task_reg->Id,
2336:rtos/uC-Common/KAL/uCOS-III/kal.c ****                               &err_os);
2337:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
2338:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
2339:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
2340:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
2341:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2342:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2343:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (ret_val);
2344:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
2345:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2346:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)task_handle;
2347:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)task_reg_handle;
2348:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2349:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
2350:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2351:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (0u);
2352:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2353:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2354:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2355:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2356:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2357:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2358:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           KAL_TaskRegSet()
2359:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2360:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Set value of task register.
2361:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2362:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : task_handle     Handle of the task associated to the task register. Current task is
2363:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2364:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               task_reg_handle Handle of the task register to write to.
2365:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2366:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               val             Value to write in the task register.
2367:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
ARM GAS  /tmp/ccAqnR1x.s 			page 43


2368:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_err           Pointer to variable that will receive the return error code from th
2369:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2370:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
2371:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NOT_AVAIL          Configuration does not allow operat
2372:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NULL_PTR           Task register handle is NULL.
2373:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_INVALID_ARG        Handle specified is invalid.
2374:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2375:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
2376:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2377:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2378:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2379:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2380:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2381:rtos/uC-Common/KAL/uCOS-III/kal.c **** void  KAL_TaskRegSet (KAL_TASK_HANDLE       task_handle,
2382:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       KAL_TASK_REG_HANDLE   task_reg_handle,
2383:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       CPU_INT32U            val,
2384:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       RTOS_ERR             *p_err)
2385:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
2386:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
2387:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
2388:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
2389:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2390:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2391:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_TASK_REG_HANDLE_IS_NULL(task_reg_handle) == DEF_YES) {
2392:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
2393:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
2394:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2395:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2396:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2397:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (OS_CFG_TASK_REG_TBL_SIZE > 0u)
2398:rtos/uC-Common/KAL/uCOS-III/kal.c ****     {
2399:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_TASK_REG  *p_task_reg;
2400:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_TCB        *p_task_tcb;
2401:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR         err_os;
2402:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2403:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2404:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_task_reg = (KAL_TASK_REG *)task_reg_handle.TaskRegObjPtr;
2405:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2406:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (KAL_TASK_HANDLE_IS_NULL(task_handle) == DEF_YES) {
2407:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = OSTCBCurPtr;                           /* Use cur task if no task handle i
2408:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
2409:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Get TCB from task handle provide
2410:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = &((KAL_TASK *)task_handle.TaskObjPtr)->TCB;
2411:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2412:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2413:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSTaskRegSet(       p_task_tcb,
2414:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             p_task_reg->Id,
2415:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (OS_REG)val,
2416:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            &err_os);
2417:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
2418:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
2419:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
2420:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
2421:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2422:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2423:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
2424:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
ARM GAS  /tmp/ccAqnR1x.s 			page 44


2425:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else
2426:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)task_handle;
2427:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)task_reg_handle;
2428:rtos/uC-Common/KAL/uCOS-III/kal.c ****         (void)val;
2429:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2430:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NOT_AVAIL;
2431:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2432:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return;
2433:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2434:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2435:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2436:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2437:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2438:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2439:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                             KAL_TickGet()
2440:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2441:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Get value of OS' tick counter.
2442:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2443:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_err           Pointer to variable that will receive the return error code from th
2444:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2445:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                   RTOS_ERR_NONE               No error.
2446:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2447:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : OS tick counter's value.
2448:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2449:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2450:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2451:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2452:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2453:rtos/uC-Common/KAL/uCOS-III/kal.c **** KAL_TICK  KAL_TickGet (RTOS_ERR  *p_err)
2454:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
2455:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TICK  tick_cnt;
2456:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR    err_os;
2457:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2458:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2459:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
2460:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (p_err == DEF_NULL) {                                /* Validate err ptr.               
2461:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(0u);
2462:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
2463:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2464:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2465:rtos/uC-Common/KAL/uCOS-III/kal.c ****     tick_cnt = OSTimeGet(&err_os);
2466:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (err_os == OS_ERR_NONE) {
2467:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
2468:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
2469:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = KAL_ErrConvert(err_os);
2470:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
2471:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2472:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return (tick_cnt);
2473:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
2474:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2475:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2476:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2477:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2478:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2479:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            LOCAL FUNCTIONS
2480:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2481:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
ARM GAS  /tmp/ccAqnR1x.s 			page 45


2482:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2483:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2484:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2485:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2486:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                         KAL_TmrFnctWrapper()
2487:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2488:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Wrapper function for timer callback.
2489:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2490:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : p_tmr_os        Pointer to OS timer object.
2491:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2492:rtos/uC-Common/KAL/uCOS-III/kal.c **** *               p_arg           Pointer to KAL timer object.
2493:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2494:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : none.
2495:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2496:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2497:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2498:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2499:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2500:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if (OS_CFG_TMR_EN == DEF_ENABLED)
2501:rtos/uC-Common/KAL/uCOS-III/kal.c **** static  void  KAL_TmrFnctWrapper (void  *p_tmr_os,
2502:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                   void  *p_arg)
2503:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
  29              		.loc 1 2503 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 2503 1 is_stmt 0 view .LVU1
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
2504:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TMR  *p_tmr;
  39              		.loc 1 2504 5 is_stmt 1 view .LVU2
2505:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2506:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2507:rtos/uC-Common/KAL/uCOS-III/kal.c ****     (void)p_tmr_os;
  40              		.loc 1 2507 5 view .LVU3
2508:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2509:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_tmr = (KAL_TMR *)p_arg;
  41              		.loc 1 2509 5 view .LVU4
  42              	.LVL1:
2510:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_tmr->CallbackFnct(p_tmr->CallbackArg);
  43              		.loc 1 2510 5 view .LVU5
  44              		.loc 1 2510 10 is_stmt 0 view .LVU6
  45 0002 4B6A     		ldr	r3, [r1, #36]
  46              		.loc 1 2510 5 view .LVU7
  47 0004 886A     		ldr	r0, [r1, #40]
  48              	.LVL2:
  49              		.loc 1 2510 5 view .LVU8
  50 0006 9847     		blx	r3
  51              	.LVL3:
2511:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
  52              		.loc 1 2511 1 view .LVU9
  53 0008 08BD     		pop	{r3, pc}
  54              		.cfi_endproc
  55              	.LFE26:
ARM GAS  /tmp/ccAqnR1x.s 			page 46


  57              		.section	.text.KAL_msToTicks,"ax",%progbits
  58              		.align	1
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu fpv4-sp-d16
  64              	KAL_msToTicks:
  65              	.LVL4:
  66              	.LFB27:
2512:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
2513:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2514:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2515:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2516:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2517:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                            KAL_msToTicks()
2518:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2519:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Convert milliseconds value in tick value.
2520:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2521:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : ms              Millisecond value to convert.
2522:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2523:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : Number of ticks corresponding to the millisecond value, rounded up, if needed.
2524:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2525:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2526:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2527:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2528:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2529:rtos/uC-Common/KAL/uCOS-III/kal.c **** static  KAL_TICK  KAL_msToTicks (CPU_INT32U  ms)
2530:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
  67              		.loc 1 2530 1 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71              		@ link register save eliminated.
2531:rtos/uC-Common/KAL/uCOS-III/kal.c ****            KAL_TICK    ticks;
  72              		.loc 1 2531 12 view .LVU11
2532:rtos/uC-Common/KAL/uCOS-III/kal.c **** #if  ((OS_CFG_TICK_RATE_HZ         >= 1000u) && \
2533:rtos/uC-Common/KAL/uCOS-III/kal.c ****       (OS_CFG_TICK_RATE_HZ % 1000u ==    0u))
2534:rtos/uC-Common/KAL/uCOS-III/kal.c ****     const  CPU_INT08U  mult = OS_CFG_TICK_RATE_HZ / 1000u;
  73              		.loc 1 2534 5 view .LVU12
2535:rtos/uC-Common/KAL/uCOS-III/kal.c **** #endif
2536:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2537:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2538:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if  ((OS_CFG_TICK_RATE_HZ         >= 1000u) && \
2539:rtos/uC-Common/KAL/uCOS-III/kal.c ****           (OS_CFG_TICK_RATE_HZ % 1000u ==    0u))               /* Optimize calc if possible for of
2540:rtos/uC-Common/KAL/uCOS-III/kal.c ****         ticks =    ms * mult;
  74              		.loc 1 2540 9 view .LVU13
2541:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #elif (OS_CFG_TICK_RATE_HZ ==  100u)
2542:rtos/uC-Common/KAL/uCOS-III/kal.c ****         ticks =  ((ms +  9u) /  10u);
2543:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #elif (OS_CFG_TICK_RATE_HZ ==   10u)
2544:rtos/uC-Common/KAL/uCOS-III/kal.c ****         ticks =  ((ms + 99u) / 100u);
2545:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #else                                                       /* General formula.                
2546:rtos/uC-Common/KAL/uCOS-III/kal.c ****         ticks = (((ms * OS_CFG_TICK_RATE_HZ)  + 1000u - 1u) / 1000u);
2547:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #endif
2548:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2549:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return (ticks);
  75              		.loc 1 2549 5 view .LVU14
2550:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
ARM GAS  /tmp/ccAqnR1x.s 			page 47


  76              		.loc 1 2550 1 is_stmt 0 view .LVU15
  77 0000 7047     		bx	lr
  78              		.cfi_endproc
  79              	.LFE27:
  81              		.section	.text.KAL_ErrConvert,"ax",%progbits
  82              		.align	1
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  86              		.fpu fpv4-sp-d16
  88              	KAL_ErrConvert:
  89              	.LVL5:
  90              	.LFB28:
2551:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2552:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2553:rtos/uC-Common/KAL/uCOS-III/kal.c **** /*
2554:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2555:rtos/uC-Common/KAL/uCOS-III/kal.c **** *                                           KAL_ErrConvert()
2556:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2557:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Description : Convert OS errors in KAL errors.
2558:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2559:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Argument(s) : err_os          Error value used by the OS.
2560:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2561:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Return(s)   : KAL error.
2562:rtos/uC-Common/KAL/uCOS-III/kal.c **** *
2563:rtos/uC-Common/KAL/uCOS-III/kal.c **** * Note(s)     : none.
2564:rtos/uC-Common/KAL/uCOS-III/kal.c **** ***************************************************************************************************
2565:rtos/uC-Common/KAL/uCOS-III/kal.c **** */
2566:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2567:rtos/uC-Common/KAL/uCOS-III/kal.c **** static  RTOS_ERR  KAL_ErrConvert (OS_ERR  err_os)
2568:rtos/uC-Common/KAL/uCOS-III/kal.c **** {
  91              		.loc 1 2568 1 is_stmt 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		@ link register save eliminated.
2569:rtos/uC-Common/KAL/uCOS-III/kal.c ****     RTOS_ERR  err_rtos;
  96              		.loc 1 2569 5 view .LVU17
2570:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2571:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****     switch (err_os) {
  97              		.loc 1 2572 5 view .LVU18
  98 0000 46F2B013 		movw	r3, #25008
  99 0004 9842     		cmp	r0, r3
 100 0006 66D8     		bhi	.L5
 101 0008 46F2A913 		movw	r3, #25001
 102 000c 9842     		cmp	r0, r3
 103 000e 35D2     		bcs	.L6
 104 0010 45F28273 		movw	r3, #22402
 105 0014 9842     		cmp	r0, r3
 106 0016 00F0F380 		beq	.L29
 107 001a 11D9     		bls	.L64
 108 001c 45F6C353 		movw	r3, #24003
 109 0020 9842     		cmp	r0, r3
 110 0022 00F0F980 		beq	.L38
 111 0026 42D9     		bls	.L65
 112 0028 45F6C453 		movw	r3, #24004
ARM GAS  /tmp/ccAqnR1x.s 			page 48


 113 002c 9842     		cmp	r0, r3
 114 002e 00F0FB80 		beq	.L43
 115 0032 45F62563 		movw	r3, #24101
 116 0036 9842     		cmp	r0, r3
 117 0038 40F0F880 		bne	.L44
2573:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
2574:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_PEND_ABORT_NONE:
2575:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TIME_ZERO_DLY:
2576:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_NONE;
2577:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2578:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2579:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2580:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_MUTEX_NOT_OWNER:
2581:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NAME:
2582:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_OBJ_TYPE:
2583:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_OPT_INVALID:
2584:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_PRIO_INVALID:
2585:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_Q_SIZE:
2586:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_REG_ID_INVALID:
2587:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_STK_INVALID:
2588:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_STK_SIZE_INVALID:
2589:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_STK_LIMIT_INVALID:
2590:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TASK_DEL_IDLE:
2591:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TASK_INVALID:
2592:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TCB_INVALID:
2593:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TMR_INVALID_PERIOD:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_INVALID_ARG;
 118              		.loc 1 2594 23 is_stmt 0 view .LVU19
 119 003c 0320     		movs	r0, #3
 120              	.LVL6:
 121              		.loc 1 2594 23 view .LVU20
 122 003e 7047     		bx	lr
 123              	.LVL7:
 124              	.L64:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 125              		.loc 1 2572 5 view .LVU21
 126 0040 43F2C923 		movw	r3, #13001
 127 0044 9842     		cmp	r0, r3
 128 0046 00F0DD80 		beq	.L30
 129 004a 05D9     		bls	.L66
 130 004c 45F21D73 		movw	r3, #22301
 131 0050 9842     		cmp	r0, r3
 132 0052 24D1     		bne	.L67
2595:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2596:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2597:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2598:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_OBJ_PTR_NULL:
2599:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_PTR_INVALID:
2600:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_NULL_PTR;
2601:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2602:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2603:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2604:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_ILLEGAL_CREATE_RUN_TIME:
2605:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_MUTEX_NESTING:
2606:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_OBJ_DEL:
2607:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_SCHED_LOCKED:
2608:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_STATE_INVALID:
ARM GAS  /tmp/ccAqnR1x.s 			page 49


2609:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_STATUS_INVALID:
2610:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TASK_WAITING:
2611:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TMR_INACTIVE:
2612:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TMR_INVALID_DLY:
2613:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TMR_INVALID_STATE:
2614:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TMR_INVALID:
2615:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_OS;
2616:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2617:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2618:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2619:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TIMEOUT:
2620:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_TIMEOUT;
2621:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2622:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2623:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2624:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_PEND_ABORT:
2625:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_ABORT;
2626:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2627:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2628:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2629:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_PEND_WOULD_BLOCK:
2630:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_WOULD_BLOCK;
2631:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2632:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2633:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2634:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_CREATE_ISR:
2635:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_DEL_ISR:
2636:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_PEND_ISR:
2637:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_PEND_ABORT_ISR:
2638:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_POST_ISR:
2639:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_SET_ISR:
2640:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TASK_CREATE_ISR:
2641:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TASK_DEL_ISR:
2642:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TIME_DLY_ISR:
2643:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_TMR_ISR:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_ISR;
2645:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2646:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2647:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2648:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_SEM_OVF:
2649:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_WOULD_OVF;
2650:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2651:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2652:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2653:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_MSG_POOL_EMPTY:
2654:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NO_MORE_ID_AVAIL:
2655:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_Q_MAX:
2656:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_NO_MORE_RSRC;
 133              		.loc 1 2656 23 view .LVU22
 134 0054 0A20     		movs	r0, #10
 135              	.LVL8:
 136              		.loc 1 2656 23 view .LVU23
 137 0056 7047     		bx	lr
 138              	.LVL9:
 139              	.L66:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 140              		.loc 1 2572 5 view .LVU24
ARM GAS  /tmp/ccAqnR1x.s 			page 50


 141 0058 08B9     		cbnz	r0, .L68
 142 005a 0020     		movs	r0, #0
 143              	.LVL10:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 144              		.loc 1 2572 5 view .LVU25
 145 005c 7047     		bx	lr
 146              	.LVL11:
 147              	.L68:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 148              		.loc 1 2572 5 view .LVU26
 149 005e 42F6E163 		movw	r3, #12001
 150 0062 9842     		cmp	r0, r3
 151 0064 40F0D080 		bne	.L32
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 152              		.loc 1 2644 23 view .LVU27
 153 0068 1320     		movs	r0, #19
 154              	.LVL12:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 155              		.loc 1 2644 23 view .LVU28
 156 006a 7047     		bx	lr
 157              	.L10:
 158 006c 1320     		movs	r0, #19
 159 006e 7047     		bx	lr
 160              	.L12:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 161              		.loc 1 2594 23 view .LVU29
 162 0070 0320     		movs	r0, #3
 163 0072 7047     		bx	lr
 164              	.L13:
 165 0074 0320     		movs	r0, #3
 166 0076 7047     		bx	lr
 167              	.L15:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 168              		.loc 1 2644 23 view .LVU30
 169 0078 1320     		movs	r0, #19
 170 007a 7047     		bx	lr
 171              	.LVL13:
 172              	.L6:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 173              		.loc 1 2644 23 view .LVU31
 174 007c A0F5C340 		sub	r0, r0, #24960
 175              	.LVL14:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 176              		.loc 1 2644 23 view .LVU32
 177 0080 2938     		subs	r0, r0, #41
 178 0082 0728     		cmp	r0, #7
 179 0084 09D8     		bhi	.L16
 180 0086 DFE800F0 		tbb	[pc, r0]
 181              	.L18:
 182 008a C5       		.byte	(.L35-.L18)/2
 183 008b 06       		.byte	(.L19-.L18)/2
 184 008c 04       		.byte	(.L20-.L18)/2
 185 008d 08       		.byte	(.L16-.L18)/2
 186 008e 08       		.byte	(.L16-.L18)/2
 187 008f 06       		.byte	(.L19-.L18)/2
 188 0090 08       		.byte	(.L16-.L18)/2
 189 0091 B9       		.byte	(.L17-.L18)/2
ARM GAS  /tmp/ccAqnR1x.s 			page 51


 190              		.p2align 1
 191              	.L20:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 192              		.loc 1 2572 5 view .LVU33
 193 0092 0020     		movs	r0, #0
 194 0094 7047     		bx	lr
 195              	.L19:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 196              		.loc 1 2644 23 view .LVU34
 197 0096 1320     		movs	r0, #19
 198 0098 7047     		bx	lr
 199              	.L16:
2657:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2658:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2659:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2660:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_MUTEX_OWNER:
2661:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_OWNERSHIP;
2662:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2663:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2664:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2665:rtos/uC-Common/KAL/uCOS-III/kal.c ****         default:
2666:rtos/uC-Common/KAL/uCOS-III/kal.c ****              err_rtos = RTOS_ERR_OS;
 200              		.loc 1 2666 23 view .LVU35
 201 009a 1420     		movs	r0, #20
 202 009c 7047     		bx	lr
 203              	.LVL15:
 204              	.L67:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 205              		.loc 1 2572 5 view .LVU36
 206 009e 45F28173 		movw	r3, #22401
 207 00a2 9842     		cmp	r0, r3
 208 00a4 01D1     		bne	.L69
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 209              		.loc 1 2594 23 view .LVU37
 210 00a6 0320     		movs	r0, #3
 211              	.LVL16:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 212              		.loc 1 2594 23 view .LVU38
 213 00a8 7047     		bx	lr
 214              	.LVL17:
 215              	.L69:
 216              		.loc 1 2666 23 view .LVU39
 217 00aa 1420     		movs	r0, #20
 218              	.LVL18:
 219              		.loc 1 2666 23 view .LVU40
 220 00ac 7047     		bx	lr
 221              	.LVL19:
 222              	.L65:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 223              		.loc 1 2572 5 view .LVU41
 224 00ae 45F6DA13 		movw	r3, #23002
 225 00b2 9842     		cmp	r0, r3
 226 00b4 00F0B280 		beq	.L39
 227 00b8 01D9     		bls	.L70
 228              		.loc 1 2666 23 view .LVU42
 229 00ba 1420     		movs	r0, #20
 230              	.LVL20:
ARM GAS  /tmp/ccAqnR1x.s 			page 52


 231              		.loc 1 2666 23 view .LVU43
 232 00bc 7047     		bx	lr
 233              	.LVL21:
 234              	.L70:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 235              		.loc 1 2572 5 view .LVU44
 236 00be 45F28373 		movw	r3, #22403
 237 00c2 9842     		cmp	r0, r3
 238 00c4 00F0AC80 		beq	.L41
 239 00c8 45F6D913 		movw	r3, #23001
 240 00cc 9842     		cmp	r0, r3
 241 00ce 40F0A980 		bne	.L42
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 242              		.loc 1 2594 23 view .LVU45
 243 00d2 0320     		movs	r0, #3
 244              	.LVL22:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 245              		.loc 1 2594 23 view .LVU46
 246 00d4 7047     		bx	lr
 247              	.LVL23:
 248              	.L5:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 249              		.loc 1 2572 5 view .LVU47
 250 00d6 46F63163 		movw	r3, #28209
 251 00da 9842     		cmp	r0, r3
 252 00dc 40D8     		bhi	.L22
 253 00de 46F62F63 		movw	r3, #28207
 254 00e2 9842     		cmp	r0, r3
 255 00e4 80F0A480 		bcs	.L45
 256 00e8 46F66353 		movw	r3, #28003
 257 00ec 9842     		cmp	r0, r3
 258 00ee 00F0A180 		beq	.L46
 259 00f2 05D9     		bls	.L71
 260 00f4 46F6C553 		movw	r3, #28101
 261 00f8 9842     		cmp	r0, r3
 262 00fa 27D1     		bne	.L72
2649:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 263              		.loc 1 2649 23 view .LVU48
 264 00fc 1220     		movs	r0, #18
 265              	.LVL24:
2649:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 266              		.loc 1 2649 23 view .LVU49
 267 00fe 7047     		bx	lr
 268              	.LVL25:
 269              	.L71:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 270              		.loc 1 2572 5 view .LVU50
 271 0100 46F2D523 		movw	r3, #25301
 272 0104 9842     		cmp	r0, r3
 273 0106 00F09780 		beq	.L47
 274 010a 05D9     		bls	.L73
 275 010c 46F29353 		movw	r3, #26003
 276 0110 9842     		cmp	r0, r3
 277 0112 0DD1     		bne	.L74
2656:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 278              		.loc 1 2656 23 view .LVU51
 279 0114 0A20     		movs	r0, #10
ARM GAS  /tmp/ccAqnR1x.s 			page 53


 280              	.LVL26:
2656:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 281              		.loc 1 2656 23 view .LVU52
 282 0116 7047     		bx	lr
 283              	.LVL27:
 284              	.L73:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 285              		.loc 1 2572 5 view .LVU53
 286 0118 46F20E23 		movw	r3, #25102
 287 011c 9842     		cmp	r0, r3
 288 011e 00F08D80 		beq	.L48
 289 0122 46F27323 		movw	r3, #25203
 290 0126 9842     		cmp	r0, r3
 291 0128 40F08A80 		bne	.L49
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 292              		.loc 1 2594 23 view .LVU54
 293 012c 0320     		movs	r0, #3
 294              	.LVL28:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 295              		.loc 1 2594 23 view .LVU55
 296 012e 7047     		bx	lr
 297              	.LVL29:
 298              	.L74:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 299              		.loc 1 2572 5 view .LVU56
 300 0130 01D2     		bcs	.L75
 301              		.loc 1 2666 23 view .LVU57
 302 0132 1420     		movs	r0, #20
 303              	.LVL30:
 304              		.loc 1 2666 23 view .LVU58
 305 0134 7047     		bx	lr
 306              	.LVL31:
 307              	.L75:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 308              		.loc 1 2572 5 view .LVU59
 309 0136 46F29453 		movw	r3, #26004
 310 013a 9842     		cmp	r0, r3
 311 013c 00F08280 		beq	.L52
 312 0140 46F67913 		movw	r3, #27001
 313 0144 9842     		cmp	r0, r3
 314 0146 7FD1     		bne	.L53
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 315              		.loc 1 2594 23 view .LVU60
 316 0148 0320     		movs	r0, #3
 317              	.LVL32:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 318              		.loc 1 2594 23 view .LVU61
 319 014a 7047     		bx	lr
 320              	.LVL33:
 321              	.L72:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 322              		.loc 1 2572 5 view .LVU62
 323 014c 7ED3     		bcc	.L55
 324 014e 46F6C653 		movw	r3, #28102
 325 0152 9842     		cmp	r0, r3
 326 0154 7CD0     		beq	.L56
 327 0156 01D2     		bcs	.L76
ARM GAS  /tmp/ccAqnR1x.s 			page 54


 328              		.loc 1 2666 23 view .LVU63
 329 0158 1420     		movs	r0, #20
 330              	.LVL34:
 331              		.loc 1 2666 23 view .LVU64
 332 015a 7047     		bx	lr
 333              	.LVL35:
 334              	.L76:
2615:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 335              		.loc 1 2615 23 view .LVU65
 336 015c 1420     		movs	r0, #20
 337              	.LVL36:
2615:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 338              		.loc 1 2615 23 view .LVU66
 339 015e 7047     		bx	lr
 340              	.LVL37:
 341              	.L22:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 342              		.loc 1 2572 5 view .LVU67
 343 0160 47F2D923 		movw	r3, #29401
 344 0164 9842     		cmp	r0, r3
 345 0166 75D0     		beq	.L58
 346 0168 18D9     		bls	.L77
 347 016a 47F24333 		movw	r3, #29507
 348 016e 9842     		cmp	r0, r3
 349 0170 7AD8     		bhi	.L63
 350 0172 47F23D33 		movw	r3, #29501
 351 0176 9842     		cmp	r0, r3
 352 0178 3ED3     		bcc	.L78
 353 017a A0F5E640 		sub	r0, r0, #29440
 354              	.LVL38:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 355              		.loc 1 2572 5 view .LVU68
 356 017e 4038     		subs	r0, r0, #64
 357 0180 0328     		cmp	r0, #3
 358 0182 43D8     		bhi	.L33
 359 0184 01A3     		adr	r3, .L11
 360 0186 53F820F0 		ldr	pc, [r3, r0, lsl #2]
 361 018a 00BF     		.p2align 2
 362              	.L11:
 363 018c 71000000 		.word	.L12+1
 364 0190 0D020000 		.word	.L33+1
 365 0194 0D020000 		.word	.L33+1
 366 0198 6D000000 		.word	.L10+1
 367              	.LVL39:
 368              		.p2align 1
 369              	.L77:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 370              		.loc 1 2572 5 view .LVU69
 371 019c 47F2AD13 		movw	r3, #29101
 372 01a0 9842     		cmp	r0, r3
 373 01a2 59D0     		beq	.L59
 374 01a4 09D9     		bls	.L79
 375 01a6 47F27523 		movw	r3, #29301
 376 01aa 9842     		cmp	r0, r3
 377 01ac 58D0     		beq	.L61
 378 01ae 47F27E23 		movw	r3, #29310
 379 01b2 9842     		cmp	r0, r3
ARM GAS  /tmp/ccAqnR1x.s 			page 55


 380 01b4 56D1     		bne	.L62
 381 01b6 0020     		movs	r0, #0
 382              	.LVL40:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 383              		.loc 1 2572 5 view .LVU70
 384 01b8 7047     		bx	lr
 385              	.LVL41:
 386              	.L79:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 387              		.loc 1 2572 5 view .LVU71
 388 01ba 47F25F13 		movw	r3, #29023
 389 01be 9842     		cmp	r0, r3
 390 01c0 4CD8     		bhi	.L60
 391 01c2 47F24A13 		movw	r3, #29002
 392 01c6 9842     		cmp	r0, r3
 393 01c8 14D3     		bcc	.L80
 394 01ca A0F5E240 		sub	r0, r0, #28928
 395              	.LVL42:
2572:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case OS_ERR_NONE:
 396              		.loc 1 2572 5 view .LVU72
 397 01ce 4A38     		subs	r0, r0, #74
 398 01d0 0528     		cmp	r0, #5
 399 01d2 1DD8     		bhi	.L34
 400 01d4 01A3     		adr	r3, .L14
 401 01d6 53F820F0 		ldr	pc, [r3, r0, lsl #2]
 402 01da 00BF     		.p2align 2
 403              	.L14:
 404 01dc 79000000 		.word	.L15+1
 405 01e0 11020000 		.word	.L34+1
 406 01e4 75000000 		.word	.L13+1
 407 01e8 11020000 		.word	.L34+1
 408 01ec 79000000 		.word	.L15+1
 409 01f0 75000000 		.word	.L13+1
 410              	.LVL43:
 411              		.p2align 1
 412              	.L80:
 413              		.loc 1 2666 23 view .LVU73
 414 01f4 1420     		movs	r0, #20
 415              	.LVL44:
 416              		.loc 1 2666 23 view .LVU74
 417 01f6 7047     		bx	lr
 418              	.LVL45:
 419              	.L78:
 420              		.loc 1 2666 23 view .LVU75
 421 01f8 1420     		movs	r0, #20
 422              	.LVL46:
 423              		.loc 1 2666 23 view .LVU76
 424 01fa 7047     		bx	lr
 425              	.L17:
2630:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 426              		.loc 1 2630 14 is_stmt 1 view .LVU77
 427              	.LVL47:
2631:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 428              		.loc 1 2631 14 view .LVU78
2630:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 429              		.loc 1 2630 23 is_stmt 0 view .LVU79
 430 01fc 1020     		movs	r0, #16
ARM GAS  /tmp/ccAqnR1x.s 			page 56


2631:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 431              		.loc 1 2631 14 view .LVU80
 432 01fe 7047     		bx	lr
 433              	.LVL48:
 434              	.L29:
2661:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 435              		.loc 1 2661 23 view .LVU81
 436 0200 1120     		movs	r0, #17
 437              	.LVL49:
2661:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 438              		.loc 1 2661 23 view .LVU82
 439 0202 7047     		bx	lr
 440              	.LVL50:
 441              	.L30:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 442              		.loc 1 2644 23 view .LVU83
 443 0204 1320     		movs	r0, #19
 444              	.LVL51:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 445              		.loc 1 2644 23 view .LVU84
 446 0206 7047     		bx	lr
 447              	.LVL52:
 448              	.L32:
 449              		.loc 1 2666 23 view .LVU85
 450 0208 1420     		movs	r0, #20
 451              	.LVL53:
 452              		.loc 1 2666 23 view .LVU86
 453 020a 7047     		bx	lr
 454              	.L33:
 455 020c 1420     		movs	r0, #20
 456 020e 7047     		bx	lr
 457              	.L34:
 458 0210 1420     		movs	r0, #20
 459 0212 7047     		bx	lr
 460              	.L35:
2625:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 461              		.loc 1 2625 23 view .LVU87
 462 0214 0E20     		movs	r0, #14
 463 0216 7047     		bx	lr
 464              	.LVL54:
 465              	.L38:
2600:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 466              		.loc 1 2600 23 view .LVU88
 467 0218 0420     		movs	r0, #4
 468              	.LVL55:
2600:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 469              		.loc 1 2600 23 view .LVU89
 470 021a 7047     		bx	lr
 471              	.LVL56:
 472              	.L39:
2656:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 473              		.loc 1 2656 23 view .LVU90
 474 021c 0A20     		movs	r0, #10
 475              	.LVL57:
2656:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 476              		.loc 1 2656 23 view .LVU91
 477 021e 7047     		bx	lr
ARM GAS  /tmp/ccAqnR1x.s 			page 57


 478              	.LVL58:
 479              	.L41:
2615:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 480              		.loc 1 2615 23 view .LVU92
 481 0220 1420     		movs	r0, #20
 482              	.LVL59:
2615:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 483              		.loc 1 2615 23 view .LVU93
 484 0222 7047     		bx	lr
 485              	.LVL60:
 486              	.L42:
 487              		.loc 1 2666 23 view .LVU94
 488 0224 1420     		movs	r0, #20
 489              	.LVL61:
 490              		.loc 1 2666 23 view .LVU95
 491 0226 7047     		bx	lr
 492              	.LVL62:
 493              	.L43:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 494              		.loc 1 2594 23 view .LVU96
 495 0228 0320     		movs	r0, #3
 496              	.LVL63:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 497              		.loc 1 2594 23 view .LVU97
 498 022a 7047     		bx	lr
 499              	.LVL64:
 500              	.L44:
 501              		.loc 1 2666 23 view .LVU98
 502 022c 1420     		movs	r0, #20
 503              	.LVL65:
 504              		.loc 1 2666 23 view .LVU99
 505 022e 7047     		bx	lr
 506              	.LVL66:
 507              	.L45:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 508              		.loc 1 2594 23 view .LVU100
 509 0230 0320     		movs	r0, #3
 510              	.LVL67:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 511              		.loc 1 2594 23 view .LVU101
 512 0232 7047     		bx	lr
 513              	.LVL68:
 514              	.L46:
2615:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 515              		.loc 1 2615 23 view .LVU102
 516 0234 1420     		movs	r0, #20
 517              	.LVL69:
2615:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 518              		.loc 1 2615 23 view .LVU103
 519 0236 7047     		bx	lr
 520              	.LVL70:
 521              	.L47:
2600:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 522              		.loc 1 2600 23 view .LVU104
 523 0238 0420     		movs	r0, #4
 524              	.LVL71:
2600:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
ARM GAS  /tmp/ccAqnR1x.s 			page 58


 525              		.loc 1 2600 23 view .LVU105
 526 023a 7047     		bx	lr
 527              	.LVL72:
 528              	.L48:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 529              		.loc 1 2644 23 view .LVU106
 530 023c 1320     		movs	r0, #19
 531              	.LVL73:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 532              		.loc 1 2644 23 view .LVU107
 533 023e 7047     		bx	lr
 534              	.LVL74:
 535              	.L49:
 536              		.loc 1 2666 23 view .LVU108
 537 0240 1420     		movs	r0, #20
 538              	.LVL75:
 539              		.loc 1 2666 23 view .LVU109
 540 0242 7047     		bx	lr
 541              	.LVL76:
 542              	.L52:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 543              		.loc 1 2594 23 view .LVU110
 544 0244 0320     		movs	r0, #3
 545              	.LVL77:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 546              		.loc 1 2594 23 view .LVU111
 547 0246 7047     		bx	lr
 548              	.LVL78:
 549              	.L53:
 550              		.loc 1 2666 23 view .LVU112
 551 0248 1420     		movs	r0, #20
 552              	.LVL79:
 553              		.loc 1 2666 23 view .LVU113
 554 024a 7047     		bx	lr
 555              	.LVL80:
 556              	.L55:
 557              		.loc 1 2666 23 view .LVU114
 558 024c 1420     		movs	r0, #20
 559              	.LVL81:
 560              		.loc 1 2666 23 view .LVU115
 561 024e 7047     		bx	lr
 562              	.LVL82:
 563              	.L56:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 564              		.loc 1 2644 23 view .LVU116
 565 0250 1320     		movs	r0, #19
 566              	.LVL83:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 567              		.loc 1 2644 23 view .LVU117
 568 0252 7047     		bx	lr
 569              	.LVL84:
 570              	.L58:
2620:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 571              		.loc 1 2620 23 view .LVU118
 572 0254 0F20     		movs	r0, #15
 573              	.LVL85:
2620:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
ARM GAS  /tmp/ccAqnR1x.s 			page 59


 574              		.loc 1 2620 23 view .LVU119
 575 0256 7047     		bx	lr
 576              	.LVL86:
 577              	.L59:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 578              		.loc 1 2594 23 view .LVU120
 579 0258 0320     		movs	r0, #3
 580              	.LVL87:
2594:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 581              		.loc 1 2594 23 view .LVU121
 582 025a 7047     		bx	lr
 583              	.LVL88:
 584              	.L60:
 585              		.loc 1 2666 23 view .LVU122
 586 025c 1420     		movs	r0, #20
 587              	.LVL89:
 588              		.loc 1 2666 23 view .LVU123
 589 025e 7047     		bx	lr
 590              	.LVL90:
 591              	.L61:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 592              		.loc 1 2644 23 view .LVU124
 593 0260 1320     		movs	r0, #19
 594              	.LVL91:
2644:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 595              		.loc 1 2644 23 view .LVU125
 596 0262 7047     		bx	lr
 597              	.LVL92:
 598              	.L62:
 599              		.loc 1 2666 23 view .LVU126
 600 0264 1420     		movs	r0, #20
 601              	.LVL93:
 602              		.loc 1 2666 23 view .LVU127
 603 0266 7047     		bx	lr
 604              	.LVL94:
 605              	.L63:
 606              		.loc 1 2666 23 view .LVU128
 607 0268 1420     		movs	r0, #20
 608              	.LVL95:
2667:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
2668:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
2669:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
2670:rtos/uC-Common/KAL/uCOS-III/kal.c ****     return (err_rtos);
 609              		.loc 1 2670 5 is_stmt 1 view .LVU129
2671:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 610              		.loc 1 2671 1 is_stmt 0 view .LVU130
 611 026a 7047     		bx	lr
 612              		.cfi_endproc
 613              	.LFE28:
 615              		.section	.rodata.KAL_Init.str1.4,"aMS",%progbits,1
 616              		.align	2
 617              	.LC0:
 618 0000 4B414C20 		.ascii	"KAL internal data\000"
 618      696E7465 
 618      726E616C 
 618      20646174 
 618      6100
ARM GAS  /tmp/ccAqnR1x.s 			page 60


 619 0012 0000     		.align	2
 620              	.LC1:
 621 0014 4B414C20 		.ascii	"KAL mutex pool\000"
 621      6D757465 
 621      7820706F 
 621      6F6C00
 622 0023 00       		.align	2
 623              	.LC2:
 624 0024 4B414C20 		.ascii	"KAL sem pool\000"
 624      73656D20 
 624      706F6F6C 
 624      00
 625 0031 000000   		.align	2
 626              	.LC3:
 627 0034 4B414C20 		.ascii	"KAL tmr pool\000"
 627      746D7220 
 627      706F6F6C 
 627      00
 628 0041 000000   		.align	2
 629              	.LC4:
 630 0044 4B414C20 		.ascii	"KAL task reg pool\000"
 630      7461736B 
 630      20726567 
 630      20706F6F 
 630      6C00
 631              		.section	.text.KAL_Init,"ax",%progbits
 632              		.align	1
 633              		.global	KAL_Init
 634              		.syntax unified
 635              		.thumb
 636              		.thumb_func
 637              		.fpu fpv4-sp-d16
 639              	KAL_Init:
 640              	.LVL96:
 641              	.LFB0:
 250:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_SEG  *p_seg;
 642              		.loc 1 250 1 is_stmt 1 view -0
 643              		.cfi_startproc
 644              		@ args = 0, pretend = 0, frame = 8
 645              		@ frame_needed = 0, uses_anonymous_args = 0
 250:rtos/uC-Common/KAL/uCOS-III/kal.c ****     MEM_SEG  *p_seg;
 646              		.loc 1 250 1 is_stmt 0 view .LVU132
 647 0000 70B5     		push	{r4, r5, r6, lr}
 648              	.LCFI1:
 649              		.cfi_def_cfa_offset 16
 650              		.cfi_offset 4, -16
 651              		.cfi_offset 5, -12
 652              		.cfi_offset 6, -8
 653              		.cfi_offset 14, -4
 654 0002 86B0     		sub	sp, sp, #24
 655              	.LCFI2:
 656              		.cfi_def_cfa_offset 40
 657 0004 0546     		mov	r5, r0
 251:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR    err_os;
 658              		.loc 1 251 5 is_stmt 1 view .LVU133
 252:rtos/uC-Common/KAL/uCOS-III/kal.c ****     LIB_ERR   err_lib;
 659              		.loc 1 252 5 view .LVU134
ARM GAS  /tmp/ccAqnR1x.s 			page 61


 253:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_SR_ALLOC();
 660              		.loc 1 253 5 view .LVU135
 254:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 661              		.loc 1 254 5 view .LVU136
 662              	.LVL97:
 258:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 663              		.loc 1 258 9 view .LVU137
 258:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 664              		.loc 1 258 12 is_stmt 0 view .LVU138
 665 0006 0E46     		mov	r6, r1
 666 0008 39B3     		cbz	r1, .L98
 667              	.LVL98:
 668              	.L82:
 259:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 669              		.loc 1 259 13 is_stmt 1 discriminator 1 view .LVU139
 263:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (KAL_IsInit == DEF_YES) {                                /* Chk if KAL already init. See not
 670              		.loc 1 263 5 discriminator 1 view .LVU140
 263:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (KAL_IsInit == DEF_YES) {                                /* Chk if KAL already init. See not
 671              		.loc 1 263 5 discriminator 1 view .LVU141
 263:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (KAL_IsInit == DEF_YES) {                                /* Chk if KAL already init. See not
 672              		.loc 1 263 5 discriminator 1 view .LVU142
 673 000a 4020     		movs	r0, #64
 674 000c FFF7FEFF 		bl	CPU_SR_Save
 675              	.LVL99:
 263:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (KAL_IsInit == DEF_YES) {                                /* Chk if KAL already init. See not
 676              		.loc 1 263 5 discriminator 1 view .LVU143
 263:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (KAL_IsInit == DEF_YES) {                                /* Chk if KAL already init. See not
 677              		.loc 1 263 5 discriminator 1 view .LVU144
 264:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT08U  init_status = KAL_InitStatus;
 678              		.loc 1 264 5 discriminator 1 view .LVU145
 264:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT08U  init_status = KAL_InitStatus;
 679              		.loc 1 264 20 is_stmt 0 discriminator 1 view .LVU146
 680 0010 5A4B     		ldr	r3, .L102
 681 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 264:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT08U  init_status = KAL_InitStatus;
 682              		.loc 1 264 8 discriminator 1 view .LVU147
 683 0014 012B     		cmp	r3, #1
 684 0016 23D0     		beq	.L99
 291:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 685              		.loc 1 291 5 is_stmt 1 view .LVU148
 291:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 686              		.loc 1 291 16 is_stmt 0 view .LVU149
 687 0018 584B     		ldr	r3, .L102
 688 001a 0122     		movs	r2, #1
 689 001c 1A70     		strb	r2, [r3]
 292:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 690              		.loc 1 292 5 is_stmt 1 view .LVU150
 292:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 691              		.loc 1 292 5 view .LVU151
 292:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 692              		.loc 1 292 5 view .LVU152
 693 001e FFF7FEFF 		bl	CPU_SR_Restore
 694              	.LVL100:
 292:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 695              		.loc 1 292 5 view .LVU153
 292:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 696              		.loc 1 292 5 view .LVU154
ARM GAS  /tmp/ccAqnR1x.s 			page 62


 294:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (p_cfg != DEF_NULL) {                                    /* Load cfg if given.              
 697              		.loc 1 294 5 view .LVU155
 295:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_seg = p_cfg->MemSegPtr;
 698              		.loc 1 295 5 view .LVU156
 295:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_seg = p_cfg->MemSegPtr;
 699              		.loc 1 295 8 is_stmt 0 view .LVU157
 700 0022 05B1     		cbz	r5, .L90
 296:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 701              		.loc 1 296 9 is_stmt 1 view .LVU158
 296:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 702              		.loc 1 296 15 is_stmt 0 view .LVU159
 703 0024 2D68     		ldr	r5, [r5]
 704              	.LVL101:
 705              	.L90:
 299:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             p_seg,
 706              		.loc 1 299 5 is_stmt 1 view .LVU160
 299:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             p_seg,
 707              		.loc 1 299 31 is_stmt 0 view .LVU161
 708 0026 05AB     		add	r3, sp, #20
 709 0028 7422     		movs	r2, #116
 710 002a 2946     		mov	r1, r5
 711 002c 5448     		ldr	r0, .L102+4
 712 002e FFF7FEFF 		bl	Mem_SegAlloc
 713              	.LVL102:
 299:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             p_seg,
 714              		.loc 1 299 17 view .LVU162
 715 0032 544B     		ldr	r3, .L102+8
 716 0034 1860     		str	r0, [r3]
 303:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
 717              		.loc 1 303 5 is_stmt 1 view .LVU163
 303:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
 718              		.loc 1 303 17 is_stmt 0 view .LVU164
 719 0036 BDF81420 		ldrh	r2, [sp, #20]
 303:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
 720              		.loc 1 303 8 view .LVU165
 721 003a 42F21073 		movw	r3, #10000
 722 003e 9A42     		cmp	r2, r3
 723 0040 30D0     		beq	.L91
 304:rtos/uC-Common/KAL/uCOS-III/kal.c ****         goto end_err;
 724              		.loc 1 304 8 is_stmt 1 view .LVU166
 304:rtos/uC-Common/KAL/uCOS-III/kal.c ****         goto end_err;
 725              		.loc 1 304 15 is_stmt 0 view .LVU167
 726 0042 0823     		movs	r3, #8
 727 0044 3370     		strb	r3, [r6]
 305:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 728              		.loc 1 305 9 is_stmt 1 view .LVU168
 729              	.L92:
 379:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_FAIL;                      /* Indicate potential concurrent in
 730              		.loc 1 379 5 view .LVU169
 379:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_FAIL;                      /* Indicate potential concurrent in
 731              		.loc 1 379 5 view .LVU170
 379:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_FAIL;                      /* Indicate potential concurrent in
 732              		.loc 1 379 5 view .LVU171
 733 0046 4020     		movs	r0, #64
 734 0048 FFF7FEFF 		bl	CPU_SR_Save
 735              	.LVL103:
 379:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_FAIL;                      /* Indicate potential concurrent in
ARM GAS  /tmp/ccAqnR1x.s 			page 63


 736              		.loc 1 379 5 view .LVU172
 379:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_FAIL;                      /* Indicate potential concurrent in
 737              		.loc 1 379 5 view .LVU173
 380:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 738              		.loc 1 380 5 view .LVU174
 380:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 739              		.loc 1 380 20 is_stmt 0 view .LVU175
 740 004c 4E4B     		ldr	r3, .L102+12
 741 004e 0222     		movs	r2, #2
 742 0050 1A70     		strb	r2, [r3]
 381:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 743              		.loc 1 381 5 is_stmt 1 view .LVU176
 381:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 744              		.loc 1 381 5 view .LVU177
 381:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 745              		.loc 1 381 5 view .LVU178
 746 0052 FFF7FEFF 		bl	CPU_SR_Restore
 747              	.LVL104:
 381:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 748              		.loc 1 381 5 view .LVU179
 381:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 749              		.loc 1 381 5 view .LVU180
 383:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 750              		.loc 1 383 5 view .LVU181
 751              	.L81:
 384:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 752              		.loc 1 384 1 is_stmt 0 view .LVU182
 753 0056 06B0     		add	sp, sp, #24
 754              	.LCFI3:
 755              		.cfi_remember_state
 756              		.cfi_def_cfa_offset 16
 757              		@ sp needed
 758 0058 70BD     		pop	{r4, r5, r6, pc}
 759              	.LVL105:
 760              	.L98:
 761              	.LCFI4:
 762              		.cfi_restore_state
 259:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 763              		.loc 1 259 13 is_stmt 1 view .LVU183
 259:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 764              		.loc 1 259 13 view .LVU184
 765 005a FFF7FEFF 		bl	CPU_SW_Exception
 766              	.LVL106:
 259:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 767              		.loc 1 259 13 is_stmt 0 view .LVU185
 768 005e D4E7     		b	.L82
 769              	.LVL107:
 770              	.L99:
 771              	.LBB2:
 265:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 772              		.loc 1 265 9 is_stmt 1 view .LVU186
 265:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 773              		.loc 1 265 21 is_stmt 0 view .LVU187
 774 0060 494B     		ldr	r3, .L102+12
 775 0062 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 776 0064 E4B2     		uxtb	r4, r4
 777              	.LVL108:
ARM GAS  /tmp/ccAqnR1x.s 			page 64


 268:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 778              		.loc 1 268 9 is_stmt 1 view .LVU188
 268:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 779              		.loc 1 268 9 view .LVU189
 268:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 780              		.loc 1 268 9 view .LVU190
 781 0066 FFF7FEFF 		bl	CPU_SR_Restore
 782              	.LVL109:
 268:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 783              		.loc 1 268 9 view .LVU191
 268:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 784              		.loc 1 268 9 view .LVU192
 270:rtos/uC-Common/KAL/uCOS-III/kal.c ****             OSTimeDly(100u,
 785              		.loc 1 270 9 view .LVU193
 270:rtos/uC-Common/KAL/uCOS-III/kal.c ****             OSTimeDly(100u,
 786              		.loc 1 270 15 is_stmt 0 view .LVU194
 787 006a 0DE0     		b	.L84
 788              	.L85:
 271:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       OS_OPT_TIME_DLY,
 789              		.loc 1 271 13 is_stmt 1 view .LVU195
 790 006c 0DF11602 		add	r2, sp, #22
 791 0070 0021     		movs	r1, #0
 792 0072 6420     		movs	r0, #100
 793 0074 FFF7FEFF 		bl	OSTimeDly
 794              	.LVL110:
 274:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_CRITICAL_ENTER();
 795              		.loc 1 274 13 view .LVU196
 275:rtos/uC-Common/KAL/uCOS-III/kal.c ****             init_status = KAL_InitStatus;
 796              		.loc 1 275 13 view .LVU197
 275:rtos/uC-Common/KAL/uCOS-III/kal.c ****             init_status = KAL_InitStatus;
 797              		.loc 1 275 13 view .LVU198
 275:rtos/uC-Common/KAL/uCOS-III/kal.c ****             init_status = KAL_InitStatus;
 798              		.loc 1 275 13 view .LVU199
 799 0078 4020     		movs	r0, #64
 800 007a FFF7FEFF 		bl	CPU_SR_Save
 801              	.LVL111:
 275:rtos/uC-Common/KAL/uCOS-III/kal.c ****             init_status = KAL_InitStatus;
 802              		.loc 1 275 13 view .LVU200
 275:rtos/uC-Common/KAL/uCOS-III/kal.c ****             init_status = KAL_InitStatus;
 803              		.loc 1 275 13 view .LVU201
 276:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_CRITICAL_EXIT();
 804              		.loc 1 276 13 view .LVU202
 276:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_CRITICAL_EXIT();
 805              		.loc 1 276 25 is_stmt 0 view .LVU203
 806 007e 424B     		ldr	r3, .L102+12
 807 0080 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 808              	.LVL112:
 276:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_CRITICAL_EXIT();
 809              		.loc 1 276 25 view .LVU204
 810 0082 E4B2     		uxtb	r4, r4
 811              	.LVL113:
 277:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 812              		.loc 1 277 13 is_stmt 1 view .LVU205
 277:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 813              		.loc 1 277 13 view .LVU206
 277:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 814              		.loc 1 277 13 view .LVU207
ARM GAS  /tmp/ccAqnR1x.s 			page 65


 815 0084 FFF7FEFF 		bl	CPU_SR_Restore
 816              	.LVL114:
 817              	.L84:
 277:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 818              		.loc 1 277 13 discriminator 1 view .LVU208
 277:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 819              		.loc 1 277 13 discriminator 1 view .LVU209
 270:rtos/uC-Common/KAL/uCOS-III/kal.c ****             OSTimeDly(100u,
 820              		.loc 1 270 15 discriminator 1 view .LVU210
 821 0088 002C     		cmp	r4, #0
 822 008a EFD0     		beq	.L85
 279:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (p_cfg == DEF_NULL) {
 823              		.loc 1 279 9 view .LVU211
 279:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (p_cfg == DEF_NULL) {
 824              		.loc 1 279 12 is_stmt 0 view .LVU212
 825 008c 012C     		cmp	r4, #1
 826 008e 02D0     		beq	.L100
 286:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 827              		.loc 1 286 12 is_stmt 1 view .LVU213
 286:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 828              		.loc 1 286 19 is_stmt 0 view .LVU214
 829 0090 1423     		movs	r3, #20
 830 0092 3370     		strb	r3, [r6]
 288:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 831              		.loc 1 288 9 is_stmt 1 view .LVU215
 832 0094 DFE7     		b	.L81
 833              	.L100:
 280:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;                          /* KAL_Init() can be called many ti
 834              		.loc 1 280 13 view .LVU216
 280:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;                          /* KAL_Init() can be called many ti
 835              		.loc 1 280 16 is_stmt 0 view .LVU217
 836 0096 15B1     		cbz	r5, .L101
 283:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 837              		.loc 1 283 16 is_stmt 1 view .LVU218
 283:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 838              		.loc 1 283 23 is_stmt 0 view .LVU219
 839 0098 0C23     		movs	r3, #12
 840 009a 3370     		strb	r3, [r6]
 841 009c DBE7     		b	.L81
 842              	.L101:
 281:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 843              		.loc 1 281 16 is_stmt 1 view .LVU220
 281:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 844              		.loc 1 281 23 is_stmt 0 view .LVU221
 845 009e 0023     		movs	r3, #0
 846 00a0 3370     		strb	r3, [r6]
 847 00a2 D8E7     		b	.L81
 848              	.LVL115:
 849              	.L91:
 281:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 850              		.loc 1 281 23 view .LVU222
 851              	.LBE2:
 308:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 852              		.loc 1 308 5 is_stmt 1 view .LVU223
 308:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 853              		.loc 1 308 28 is_stmt 0 view .LVU224
 854 00a4 0146     		mov	r1, r0
ARM GAS  /tmp/ccAqnR1x.s 			page 66


 855 00a6 41F8045B 		str	r5, [r1], #4
 311:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->MutexPool,
 856              		.loc 1 311 9 is_stmt 1 view .LVU225
 857 00aa 05AB     		add	r3, sp, #20
 858 00ac 0393     		str	r3, [sp, #12]
 859 00ae 0023     		movs	r3, #0
 860 00b0 0293     		str	r3, [sp, #8]
 861 00b2 0193     		str	r3, [sp, #4]
 862 00b4 0423     		movs	r3, #4
 863 00b6 0093     		str	r3, [sp]
 864 00b8 1C23     		movs	r3, #28
 865 00ba 2A46     		mov	r2, r5
 866 00bc 3348     		ldr	r0, .L102+16
 867 00be FFF7FEFF 		bl	Mem_DynPoolCreate
 868              	.LVL116:
 319:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 869              		.loc 1 319 9 view .LVU226
 319:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 870              		.loc 1 319 21 is_stmt 0 view .LVU227
 871 00c2 BDF81420 		ldrh	r2, [sp, #20]
 319:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 872              		.loc 1 319 12 view .LVU228
 873 00c6 42F21073 		movw	r3, #10000
 874 00ca 9A42     		cmp	r2, r3
 875 00cc 02D0     		beq	.L93
 320:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 876              		.loc 1 320 12 is_stmt 1 view .LVU229
 320:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 877              		.loc 1 320 19 is_stmt 0 view .LVU230
 878 00ce 0B23     		movs	r3, #11
 879 00d0 3370     		strb	r3, [r6]
 321:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 880              		.loc 1 321 13 is_stmt 1 view .LVU231
 881 00d2 B8E7     		b	.L92
 882              	.L93:
 326:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->SemPool,
 883              		.loc 1 326 9 view .LVU232
 884 00d4 2B4B     		ldr	r3, .L102+8
 885 00d6 1968     		ldr	r1, [r3]
 886 00d8 51F8202B 		ldr	r2, [r1], #32
 887 00dc 05AB     		add	r3, sp, #20
 888 00de 0393     		str	r3, [sp, #12]
 889 00e0 0023     		movs	r3, #0
 890 00e2 0293     		str	r3, [sp, #8]
 891 00e4 0193     		str	r3, [sp, #4]
 892 00e6 0423     		movs	r3, #4
 893 00e8 0093     		str	r3, [sp]
 894 00ea 1023     		movs	r3, #16
 895 00ec 2848     		ldr	r0, .L102+20
 896 00ee FFF7FEFF 		bl	Mem_DynPoolCreate
 897              	.LVL117:
 334:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 898              		.loc 1 334 9 view .LVU233
 334:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 899              		.loc 1 334 21 is_stmt 0 view .LVU234
 900 00f2 BDF81420 		ldrh	r2, [sp, #20]
 334:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
ARM GAS  /tmp/ccAqnR1x.s 			page 67


 901              		.loc 1 334 12 view .LVU235
 902 00f6 42F21073 		movw	r3, #10000
 903 00fa 9A42     		cmp	r2, r3
 904 00fc 02D0     		beq	.L94
 335:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 905              		.loc 1 335 12 is_stmt 1 view .LVU236
 335:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 906              		.loc 1 335 19 is_stmt 0 view .LVU237
 907 00fe 0B23     		movs	r3, #11
 908 0100 3370     		strb	r3, [r6]
 336:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 909              		.loc 1 336 13 is_stmt 1 view .LVU238
 910 0102 A0E7     		b	.L92
 911              	.L94:
 341:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->TmrPool,
 912              		.loc 1 341 9 view .LVU239
 913 0104 1F4B     		ldr	r3, .L102+8
 914 0106 1968     		ldr	r1, [r3]
 915 0108 51F83C2B 		ldr	r2, [r1], #60
 916 010c 05AB     		add	r3, sp, #20
 917 010e 0393     		str	r3, [sp, #12]
 918 0110 0023     		movs	r3, #0
 919 0112 0293     		str	r3, [sp, #8]
 920 0114 0193     		str	r3, [sp, #4]
 921 0116 0423     		movs	r3, #4
 922 0118 0093     		str	r3, [sp]
 923 011a 2C23     		movs	r3, #44
 924 011c 1D48     		ldr	r0, .L102+24
 925 011e FFF7FEFF 		bl	Mem_DynPoolCreate
 926              	.LVL118:
 349:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 927              		.loc 1 349 9 view .LVU240
 349:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 928              		.loc 1 349 21 is_stmt 0 view .LVU241
 929 0122 BDF81420 		ldrh	r2, [sp, #20]
 349:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 930              		.loc 1 349 12 view .LVU242
 931 0126 42F21073 		movw	r3, #10000
 932 012a 9A42     		cmp	r2, r3
 933 012c 02D0     		beq	.L95
 350:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 934              		.loc 1 350 12 is_stmt 1 view .LVU243
 350:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 935              		.loc 1 350 19 is_stmt 0 view .LVU244
 936 012e 0B23     		movs	r3, #11
 937 0130 3370     		strb	r3, [r6]
 351:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 938              		.loc 1 351 13 is_stmt 1 view .LVU245
 939 0132 88E7     		b	.L92
 940              	.L95:
 356:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           &KAL_DataPtr->TaskRegPool,
 941              		.loc 1 356 9 view .LVU246
 942 0134 134B     		ldr	r3, .L102+8
 943 0136 1968     		ldr	r1, [r3]
 944 0138 51F8582B 		ldr	r2, [r1], #88
 945 013c 05AB     		add	r3, sp, #20
 946 013e 0393     		str	r3, [sp, #12]
ARM GAS  /tmp/ccAqnR1x.s 			page 68


 947 0140 0023     		movs	r3, #0
 948 0142 0293     		str	r3, [sp, #8]
 949 0144 0193     		str	r3, [sp, #4]
 950 0146 0423     		movs	r3, #4
 951 0148 0093     		str	r3, [sp]
 952 014a 0123     		movs	r3, #1
 953 014c 1248     		ldr	r0, .L102+28
 954 014e FFF7FEFF 		bl	Mem_DynPoolCreate
 955              	.LVL119:
 364:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 956              		.loc 1 364 9 view .LVU247
 364:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 957              		.loc 1 364 21 is_stmt 0 view .LVU248
 958 0152 BDF81420 		ldrh	r2, [sp, #20]
 364:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INIT;
 959              		.loc 1 364 12 view .LVU249
 960 0156 42F21073 		movw	r3, #10000
 961 015a 9A42     		cmp	r2, r3
 962 015c 02D0     		beq	.L96
 365:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 963              		.loc 1 365 12 is_stmt 1 view .LVU250
 365:rtos/uC-Common/KAL/uCOS-III/kal.c ****             goto end_err;
 964              		.loc 1 365 19 is_stmt 0 view .LVU251
 965 015e 0B23     		movs	r3, #11
 966 0160 3370     		strb	r3, [r6]
 366:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 967              		.loc 1 366 13 is_stmt 1 view .LVU252
 968 0162 70E7     		b	.L92
 969              	.L96:
 370:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_OK;
 970              		.loc 1 370 5 view .LVU253
 370:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_OK;
 971              		.loc 1 370 5 view .LVU254
 370:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_OK;
 972              		.loc 1 370 5 view .LVU255
 973 0164 4020     		movs	r0, #64
 974 0166 FFF7FEFF 		bl	CPU_SR_Save
 975              	.LVL120:
 370:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_OK;
 976              		.loc 1 370 5 view .LVU256
 370:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_InitStatus = KAL_INIT_STATUS_OK;
 977              		.loc 1 370 5 view .LVU257
 371:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 978              		.loc 1 371 5 view .LVU258
 371:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_CRITICAL_EXIT();
 979              		.loc 1 371 20 is_stmt 0 view .LVU259
 980 016a 074B     		ldr	r3, .L102+12
 981 016c 0122     		movs	r2, #1
 982 016e 1A70     		strb	r2, [r3]
 372:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 983              		.loc 1 372 5 is_stmt 1 view .LVU260
 372:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 984              		.loc 1 372 5 view .LVU261
 372:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 985              		.loc 1 372 5 view .LVU262
 986 0170 FFF7FEFF 		bl	CPU_SR_Restore
 987              	.LVL121:
ARM GAS  /tmp/ccAqnR1x.s 			page 69


 372:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 988              		.loc 1 372 5 view .LVU263
 372:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 989              		.loc 1 372 5 view .LVU264
 374:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 990              		.loc 1 374 4 view .LVU265
 374:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 991              		.loc 1 374 11 is_stmt 0 view .LVU266
 992 0174 0023     		movs	r3, #0
 993 0176 3370     		strb	r3, [r6]
 376:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 994              		.loc 1 376 5 is_stmt 1 view .LVU267
 995 0178 6DE7     		b	.L81
 996              	.L103:
 997 017a 00BF     		.align	2
 998              	.L102:
 999 017c 00000000 		.word	.LANCHOR0
 1000 0180 00000000 		.word	.LC0
 1001 0184 00000000 		.word	.LANCHOR2
 1002 0188 00000000 		.word	.LANCHOR1
 1003 018c 14000000 		.word	.LC1
 1004 0190 24000000 		.word	.LC2
 1005 0194 34000000 		.word	.LC3
 1006 0198 44000000 		.word	.LC4
 1007              		.cfi_endproc
 1008              	.LFE0:
 1010              		.section	.text.KAL_FeatureQuery,"ax",%progbits
 1011              		.align	1
 1012              		.global	KAL_FeatureQuery
 1013              		.syntax unified
 1014              		.thumb
 1015              		.thumb_func
 1016              		.fpu fpv4-sp-d16
 1018              	KAL_FeatureQuery:
 1019              	.LVL122:
 1020              	.LFB1:
 407:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_BOOLEAN  is_en;
 1021              		.loc 1 407 1 view -0
 1022              		.cfi_startproc
 1023              		@ args = 0, pretend = 0, frame = 0
 1024              		@ frame_needed = 0, uses_anonymous_args = 0
 1025              		@ link register save eliminated.
 408:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1026              		.loc 1 408 5 view .LVU269
 411:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1027              		.loc 1 411 5 view .LVU270
 413:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1028              		.loc 1 413 5 view .LVU271
 415:rtos/uC-Common/KAL/uCOS-III/kal.c ****         case KAL_FEATURE_TASK_CREATE:                           /* ---------------------- TASKS ---
 1029              		.loc 1 415 5 view .LVU272
 1030 0000 1228     		cmp	r0, #18
 1031 0002 0BD8     		bhi	.L105
 1032 0004 DFE800F0 		tbb	[pc, r0]
 1033              	.L107:
 1034 0008 0C       		.byte	(.L109-.L107)/2
 1035 0009 0D       		.byte	(.L106-.L107)/2
 1036 000a 0C       		.byte	(.L109-.L107)/2
ARM GAS  /tmp/ccAqnR1x.s 			page 70


 1037 000b 0C       		.byte	(.L109-.L107)/2
 1038 000c 0C       		.byte	(.L109-.L107)/2
 1039 000d 0C       		.byte	(.L109-.L107)/2
 1040 000e 0C       		.byte	(.L109-.L107)/2
 1041 000f 0C       		.byte	(.L109-.L107)/2
 1042 0010 0C       		.byte	(.L109-.L107)/2
 1043 0011 0C       		.byte	(.L109-.L107)/2
 1044 0012 0C       		.byte	(.L109-.L107)/2
 1045 0013 0C       		.byte	(.L109-.L107)/2
 1046 0014 0C       		.byte	(.L109-.L107)/2
 1047 0015 0C       		.byte	(.L109-.L107)/2
 1048 0016 0C       		.byte	(.L109-.L107)/2
 1049 0017 0C       		.byte	(.L109-.L107)/2
 1050 0018 0C       		.byte	(.L109-.L107)/2
 1051 0019 0C       		.byte	(.L109-.L107)/2
 1052 001a 0C       		.byte	(.L109-.L107)/2
 1053 001b 00       		.p2align 1
 1054              	.L105:
 423:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 1055              		.loc 1 423 24 is_stmt 0 view .LVU273
 1056 001c 0020     		movs	r0, #0
 1057              	.LVL123:
 423:rtos/uC-Common/KAL/uCOS-III/kal.c ****              #endif
 1058              		.loc 1 423 24 view .LVU274
 1059 001e 7047     		bx	lr
 1060              	.LVL124:
 1061              	.L109:
 417:rtos/uC-Common/KAL/uCOS-III/kal.c ****              break;
 1062              		.loc 1 417 20 view .LVU275
 1063 0020 0120     		movs	r0, #1
 1064              	.LVL125:
 1065              	.L106:
 511:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 1066              		.loc 1 511 5 is_stmt 1 view .LVU276
 512:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1067              		.loc 1 512 1 is_stmt 0 view .LVU277
 1068 0022 7047     		bx	lr
 1069              		.cfi_endproc
 1070              	.LFE1:
 1072              		.section	.rodata.KAL_TaskAlloc.str1.4,"aMS",%progbits,1
 1073              		.align	2
 1074              	.LC5:
 1075 0000 4B414C20 		.ascii	"KAL task stk\000"
 1075      7461736B 
 1075      2073746B 
 1075      00
 1076 000d 000000   		.align	2
 1077              	.LC6:
 1078 0010 4B414C20 		.ascii	"KAL task\000"
 1078      7461736B 
 1078      00
 1079              		.section	.text.KAL_TaskAlloc,"ax",%progbits
 1080              		.align	1
 1081              		.global	KAL_TaskAlloc
 1082              		.syntax unified
 1083              		.thumb
 1084              		.thumb_func
ARM GAS  /tmp/ccAqnR1x.s 			page 71


 1085              		.fpu fpv4-sp-d16
 1087              	KAL_TaskAlloc:
 1088              	.LVL126:
 1089              	.LFB2:
 554:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK_HANDLE   handle = KAL_TaskHandleNull;
 1090              		.loc 1 554 1 is_stmt 1 view -0
 1091              		.cfi_startproc
 1092              		@ args = 4, pretend = 0, frame = 8
 1093              		@ frame_needed = 0, uses_anonymous_args = 0
 554:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK_HANDLE   handle = KAL_TaskHandleNull;
 1094              		.loc 1 554 1 is_stmt 0 view .LVU279
 1095 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1096              	.LCFI5:
 1097              		.cfi_def_cfa_offset 28
 1098              		.cfi_offset 4, -28
 1099              		.cfi_offset 5, -24
 1100              		.cfi_offset 6, -20
 1101              		.cfi_offset 7, -16
 1102              		.cfi_offset 8, -12
 1103              		.cfi_offset 9, -8
 1104              		.cfi_offset 14, -4
 1105 0004 85B0     		sub	sp, sp, #20
 1106              	.LCFI6:
 1107              		.cfi_def_cfa_offset 48
 1108 0006 8046     		mov	r8, r0
 1109 0008 0C46     		mov	r4, r1
 1110 000a 9146     		mov	r9, r2
 1111 000c 1E46     		mov	r6, r3
 1112 000e 0C9F     		ldr	r7, [sp, #48]
 555:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK         *p_task;
 1113              		.loc 1 555 5 is_stmt 1 view .LVU280
 555:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK         *p_task;
 1114              		.loc 1 555 23 is_stmt 0 view .LVU281
 1115 0010 0025     		movs	r5, #0
 1116              	.LVL127:
 556:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_ADDR          stk_addr;
 1117              		.loc 1 556 5 is_stmt 1 view .LVU282
 557:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_ADDR          stk_addr_aligned;
 1118              		.loc 1 557 5 view .LVU283
 558:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_SIZE_T        actual_stk_size_bytes;
 1119              		.loc 1 558 5 view .LVU284
 559:rtos/uC-Common/KAL/uCOS-III/kal.c ****     LIB_ERR           err_lib;
 1120              		.loc 1 559 5 view .LVU285
 560:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1121              		.loc 1 560 5 view .LVU286
 564:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 1122              		.loc 1 564 9 view .LVU287
 564:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 1123              		.loc 1 564 12 is_stmt 0 view .LVU288
 1124 0012 4FB1     		cbz	r7, .L121
 1125              	.LVL128:
 1126              	.L111:
 565:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1127              		.loc 1 565 13 is_stmt 1 discriminator 1 view .LVU289
 568:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 1128              		.loc 1 568 9 discriminator 1 view .LVU290
 568:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
ARM GAS  /tmp/ccAqnR1x.s 			page 72


 1129              		.loc 1 568 12 is_stmt 0 discriminator 1 view .LVU291
 1130 0014 B9F1FF0F 		cmp	r9, #255
 1131 0018 09D9     		bls	.L122
 573:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 1132              		.loc 1 573 9 is_stmt 1 view .LVU292
 573:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 1133              		.loc 1 573 12 is_stmt 0 view .LVU293
 1134 001a 66B1     		cbz	r6, .L114
 574:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1135              		.loc 1 574 12 is_stmt 1 view .LVU294
 574:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1136              		.loc 1 574 19 is_stmt 0 view .LVU295
 1137 001c 0223     		movs	r3, #2
 1138 001e 3B70     		strb	r3, [r7]
 575:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1139              		.loc 1 575 13 is_stmt 1 view .LVU296
 1140              	.LVL129:
 575:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1141              		.loc 1 575 20 is_stmt 0 view .LVU297
 1142 0020 2846     		mov	r0, r5
 1143              	.LVL130:
 1144              	.L113:
 617:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1145              		.loc 1 617 1 view .LVU298
 1146 0022 05B0     		add	sp, sp, #20
 1147              	.LCFI7:
 1148              		.cfi_remember_state
 1149              		.cfi_def_cfa_offset 28
 1150              		@ sp needed
 1151 0024 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1152              	.LVL131:
 1153              	.L121:
 1154              	.LCFI8:
 1155              		.cfi_restore_state
 565:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1156              		.loc 1 565 13 is_stmt 1 view .LVU299
 565:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1157              		.loc 1 565 13 view .LVU300
 1158 0028 FFF7FEFF 		bl	CPU_SW_Exception
 1159              	.LVL132:
 565:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1160              		.loc 1 565 13 is_stmt 0 view .LVU301
 1161 002c F2E7     		b	.L111
 1162              	.L122:
 569:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1163              		.loc 1 569 12 is_stmt 1 view .LVU302
 569:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1164              		.loc 1 569 19 is_stmt 0 view .LVU303
 1165 002e 0323     		movs	r3, #3
 1166 0030 3B70     		strb	r3, [r7]
 570:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1167              		.loc 1 570 13 is_stmt 1 view .LVU304
 1168              	.LVL133:
 570:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1169              		.loc 1 570 20 is_stmt 0 view .LVU305
 1170 0032 2846     		mov	r0, r5
 1171 0034 F5E7     		b	.L113
ARM GAS  /tmp/ccAqnR1x.s 			page 73


 1172              	.LVL134:
 1173              	.L114:
 581:rtos/uC-Common/KAL/uCOS-III/kal.c ****         stk_addr_aligned = (CPU_ADDR)Mem_SegAllocExt("KAL task stk",
 1174              		.loc 1 581 5 is_stmt 1 view .LVU306
 581:rtos/uC-Common/KAL/uCOS-III/kal.c ****         stk_addr_aligned = (CPU_ADDR)Mem_SegAllocExt("KAL task stk",
 1175              		.loc 1 581 8 is_stmt 0 view .LVU307
 1176 0036 DCB1     		cbz	r4, .L123
 595:rtos/uC-Common/KAL/uCOS-III/kal.c ****         stk_addr_aligned      =  MATH_ROUND_INC_UP_PWR2(stk_addr, CPU_CFG_STK_ALIGN_BYTES);
 1177              		.loc 1 595 9 is_stmt 1 view .LVU308
 1178              	.LVL135:
 596:rtos/uC-Common/KAL/uCOS-III/kal.c ****         actual_stk_size_bytes =  stk_size_bytes - (stk_addr_aligned - stk_addr);
 1179              		.loc 1 596 9 view .LVU309
 596:rtos/uC-Common/KAL/uCOS-III/kal.c ****         actual_stk_size_bytes =  stk_size_bytes - (stk_addr_aligned - stk_addr);
 1180              		.loc 1 596 34 is_stmt 0 view .LVU310
 1181 0038 24F00706 		bic	r6, r4, #7
 1182              	.LVL136:
 596:rtos/uC-Common/KAL/uCOS-III/kal.c ****         actual_stk_size_bytes =  stk_size_bytes - (stk_addr_aligned - stk_addr);
 1183              		.loc 1 596 34 view .LVU311
 1184 003c 14F00700 		ands	r0, r4, #7
 1185 0040 00D0     		beq	.L117
 1186 0042 0820     		movs	r0, #8
 1187              	.L117:
 596:rtos/uC-Common/KAL/uCOS-III/kal.c ****         actual_stk_size_bytes =  stk_size_bytes - (stk_addr_aligned - stk_addr);
 1188              		.loc 1 596 31 discriminator 4 view .LVU312
 1189 0044 0644     		add	r6, r6, r0
 1190              	.LVL137:
 597:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1191              		.loc 1 597 9 is_stmt 1 discriminator 4 view .LVU313
 597:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1192              		.loc 1 597 69 is_stmt 0 discriminator 4 view .LVU314
 1193 0046 A41B     		subs	r4, r4, r6
 1194              	.LVL138:
 597:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1195              		.loc 1 597 31 discriminator 4 view .LVU315
 1196 0048 A144     		add	r9, r9, r4
 1197              	.LVL139:
 1198              	.L116:
 600:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        KAL_DataPtr->MemSegPtr,
 1199              		.loc 1 600 5 is_stmt 1 view .LVU316
 601:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        sizeof(KAL_TASK),
 1200              		.loc 1 601 51 is_stmt 0 view .LVU317
 1201 004a 1A4B     		ldr	r3, .L124
 1202 004c 1968     		ldr	r1, [r3]
 600:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        KAL_DataPtr->MemSegPtr,
 1203              		.loc 1 600 26 view .LVU318
 1204 004e 0DF10E03 		add	r3, sp, #14
 1205 0052 B422     		movs	r2, #180
 1206 0054 0968     		ldr	r1, [r1]
 1207 0056 1848     		ldr	r0, .L124+4
 1208 0058 FFF7FEFF 		bl	Mem_SegAlloc
 1209              	.LVL140:
 604:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
 1210              		.loc 1 604 5 is_stmt 1 view .LVU319
 604:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
 1211              		.loc 1 604 17 is_stmt 0 view .LVU320
 1212 005c BDF80E20 		ldrh	r2, [sp, #14]
 604:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_ALLOC;
ARM GAS  /tmp/ccAqnR1x.s 			page 74


 1213              		.loc 1 604 8 view .LVU321
 1214 0060 42F21073 		movw	r3, #10000
 1215 0064 9A42     		cmp	r2, r3
 1216 0066 1BD0     		beq	.L118
 605:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
 1217              		.loc 1 605 8 is_stmt 1 view .LVU322
 605:rtos/uC-Common/KAL/uCOS-III/kal.c ****         return (handle);
 1218              		.loc 1 605 15 is_stmt 0 view .LVU323
 1219 0068 0823     		movs	r3, #8
 1220 006a 3B70     		strb	r3, [r7]
 606:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1221              		.loc 1 606 9 is_stmt 1 view .LVU324
 1222              	.LVL141:
 606:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1223              		.loc 1 606 16 is_stmt 0 view .LVU325
 1224 006c 2846     		mov	r0, r5
 1225              	.LVL142:
 606:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1226              		.loc 1 606 16 view .LVU326
 1227 006e D8E7     		b	.L113
 1228              	.LVL143:
 1229              	.L123:
 582:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                       KAL_DataPtr->MemSegPtr,
 1230              		.loc 1 582 9 is_stmt 1 view .LVU327
 583:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                       stk_size_bytes,
 1231              		.loc 1 583 66 is_stmt 0 view .LVU328
 1232 0070 104B     		ldr	r3, .L124
 1233 0072 1B68     		ldr	r3, [r3]
 582:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                       KAL_DataPtr->MemSegPtr,
 1234              		.loc 1 582 38 view .LVU329
 1235 0074 1968     		ldr	r1, [r3]
 1236 0076 0DF10E03 		add	r3, sp, #14
 1237 007a 0193     		str	r3, [sp, #4]
 1238 007c 0023     		movs	r3, #0
 1239 007e 0093     		str	r3, [sp]
 1240 0080 0823     		movs	r3, #8
 1241 0082 4A46     		mov	r2, r9
 1242 0084 0D48     		ldr	r0, .L124+8
 1243 0086 FFF7FEFF 		bl	Mem_SegAllocExt
 1244              	.LVL144:
 1245 008a 0646     		mov	r6, r0
 1246              	.LVL145:
 588:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 1247              		.loc 1 588 9 is_stmt 1 view .LVU330
 588:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 1248              		.loc 1 588 21 is_stmt 0 view .LVU331
 1249 008c BDF80E20 		ldrh	r2, [sp, #14]
 588:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 1250              		.loc 1 588 12 view .LVU332
 1251 0090 42F21073 		movw	r3, #10000
 1252 0094 9A42     		cmp	r2, r3
 1253 0096 D8D0     		beq	.L116
 589:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1254              		.loc 1 589 12 is_stmt 1 view .LVU333
 589:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1255              		.loc 1 589 19 is_stmt 0 view .LVU334
 1256 0098 0823     		movs	r3, #8
ARM GAS  /tmp/ccAqnR1x.s 			page 75


 1257 009a 3B70     		strb	r3, [r7]
 590:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1258              		.loc 1 590 13 is_stmt 1 view .LVU335
 1259              	.LVL146:
 590:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1260              		.loc 1 590 20 is_stmt 0 view .LVU336
 1261 009c 2846     		mov	r0, r5
 1262              	.LVL147:
 590:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1263              		.loc 1 590 20 view .LVU337
 1264 009e C0E7     		b	.L113
 1265              	.LVL148:
 1266              	.L118:
 609:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task->StkSizeBytes =  actual_stk_size_bytes;
 1267              		.loc 1 609 5 is_stmt 1 view .LVU338
 609:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task->StkSizeBytes =  actual_stk_size_bytes;
 1268              		.loc 1 609 26 is_stmt 0 view .LVU339
 1269 00a0 C0F8A860 		str	r6, [r0, #168]
 610:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task->NamePtr      =  p_name;
 1270              		.loc 1 610 5 is_stmt 1 view .LVU340
 610:rtos/uC-Common/KAL/uCOS-III/kal.c ****     p_task->NamePtr      =  p_name;
 1271              		.loc 1 610 26 is_stmt 0 view .LVU341
 1272 00a4 C0F8AC90 		str	r9, [r0, #172]
 611:rtos/uC-Common/KAL/uCOS-III/kal.c ****     handle.TaskObjPtr    = (void *)p_task;
 1273              		.loc 1 611 5 is_stmt 1 view .LVU342
 611:rtos/uC-Common/KAL/uCOS-III/kal.c ****     handle.TaskObjPtr    = (void *)p_task;
 1274              		.loc 1 611 26 is_stmt 0 view .LVU343
 1275 00a8 C0F8B080 		str	r8, [r0, #176]
 612:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1276              		.loc 1 612 5 is_stmt 1 view .LVU344
 614:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1277              		.loc 1 614 4 view .LVU345
 614:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1278              		.loc 1 614 11 is_stmt 0 view .LVU346
 1279 00ac 0023     		movs	r3, #0
 1280 00ae 3B70     		strb	r3, [r7]
 616:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 1281              		.loc 1 616 5 is_stmt 1 view .LVU347
 616:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 1282              		.loc 1 616 12 is_stmt 0 view .LVU348
 1283 00b0 B7E7     		b	.L113
 1284              	.L125:
 1285 00b2 00BF     		.align	2
 1286              	.L124:
 1287 00b4 00000000 		.word	.LANCHOR2
 1288 00b8 10000000 		.word	.LC6
 1289 00bc 00000000 		.word	.LC5
 1290              		.cfi_endproc
 1291              	.LFE2:
 1293              		.section	.text.KAL_TaskCreate,"ax",%progbits
 1294              		.align	1
 1295              		.global	KAL_TaskCreate
 1296              		.syntax unified
 1297              		.thumb
 1298              		.thumb_func
 1299              		.fpu fpv4-sp-d16
 1301              	KAL_TaskCreate:
ARM GAS  /tmp/ccAqnR1x.s 			page 76


 1302              	.LVL149:
 1303              	.LFB3:
 656:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK      *p_task;
 1304              		.loc 1 656 1 is_stmt 1 view -0
 1305              		.cfi_startproc
 1306              		@ args = 8, pretend = 0, frame = 8
 1307              		@ frame_needed = 0, uses_anonymous_args = 0
 656:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK      *p_task;
 1308              		.loc 1 656 1 is_stmt 0 view .LVU350
 1309 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1310              	.LCFI9:
 1311              		.cfi_def_cfa_offset 24
 1312              		.cfi_offset 4, -24
 1313              		.cfi_offset 5, -20
 1314              		.cfi_offset 6, -16
 1315              		.cfi_offset 7, -12
 1316              		.cfi_offset 8, -8
 1317              		.cfi_offset 14, -4
 1318 0004 8CB0     		sub	sp, sp, #48
 1319              	.LCFI10:
 1320              		.cfi_def_cfa_offset 72
 1321 0006 0446     		mov	r4, r0
 1322              	.LVL150:
 656:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK      *p_task;
 1323              		.loc 1 656 1 view .LVU351
 1324 0008 8846     		mov	r8, r1
 1325 000a 1646     		mov	r6, r2
 1326 000c 1F46     		mov	r7, r3
 1327 000e 139D     		ldr	r5, [sp, #76]
 657:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_STK_SIZE   stk_size_words;
 1328              		.loc 1 657 5 is_stmt 1 view .LVU352
 658:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_STK_SIZE   stk_limit;
 1329              		.loc 1 658 5 view .LVU353
 659:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR         err_os;
 1330              		.loc 1 659 5 view .LVU354
 660:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1331              		.loc 1 660 5 view .LVU355
 664:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1332              		.loc 1 664 9 view .LVU356
 664:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1333              		.loc 1 664 12 is_stmt 0 view .LVU357
 1334 0010 3DB1     		cbz	r5, .L133
 1335              	.LVL151:
 1336              	.L127:
 665:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1337              		.loc 1 665 13 is_stmt 1 discriminator 1 view .LVU358
 668:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 1338              		.loc 1 668 9 discriminator 1 view .LVU359
 668:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 1339              		.loc 1 668 12 is_stmt 0 discriminator 1 view .LVU360
 1340 0012 4CB1     		cbz	r4, .L134
 673:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 1341              		.loc 1 673 9 is_stmt 1 view .LVU361
 673:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 1342              		.loc 1 673 12 is_stmt 0 view .LVU362
 1343 0014 129B     		ldr	r3, [sp, #72]
 1344 0016 53B1     		cbz	r3, .L130
ARM GAS  /tmp/ccAqnR1x.s 			page 77


 674:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1345              		.loc 1 674 12 is_stmt 1 view .LVU363
 674:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1346              		.loc 1 674 19 is_stmt 0 view .LVU364
 1347 0018 0223     		movs	r3, #2
 1348 001a 2B70     		strb	r3, [r5]
 675:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1349              		.loc 1 675 13 is_stmt 1 view .LVU365
 1350              	.L126:
 705:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1351              		.loc 1 705 1 is_stmt 0 view .LVU366
 1352 001c 0CB0     		add	sp, sp, #48
 1353              	.LCFI11:
 1354              		.cfi_remember_state
 1355              		.cfi_def_cfa_offset 24
 1356              		@ sp needed
 1357 001e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1358              	.LVL152:
 1359              	.L133:
 1360              	.LCFI12:
 1361              		.cfi_restore_state
 665:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1362              		.loc 1 665 13 is_stmt 1 view .LVU367
 665:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1363              		.loc 1 665 13 view .LVU368
 1364 0022 FFF7FEFF 		bl	CPU_SW_Exception
 1365              	.LVL153:
 665:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1366              		.loc 1 665 13 is_stmt 0 view .LVU369
 1367 0026 F4E7     		b	.L127
 1368              	.LVL154:
 1369              	.L134:
 669:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1370              		.loc 1 669 12 is_stmt 1 view .LVU370
 669:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1371              		.loc 1 669 19 is_stmt 0 view .LVU371
 1372 0028 0423     		movs	r3, #4
 1373 002a 2B70     		strb	r3, [r5]
 670:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1374              		.loc 1 670 13 is_stmt 1 view .LVU372
 1375 002c F6E7     		b	.L126
 1376              	.L130:
 681:rtos/uC-Common/KAL/uCOS-III/kal.c ****     stk_size_words =  p_task->StkSizeBytes / sizeof(CPU_STK);
 1377              		.loc 1 681 5 view .LVU373
 1378              	.LVL155:
 682:rtos/uC-Common/KAL/uCOS-III/kal.c ****     stk_limit      = (stk_size_words * (100u - KAL_CFG_TASK_STK_SIZE_PCT_FULL)) / 100u;
 1379              		.loc 1 682 5 view .LVU374
 682:rtos/uC-Common/KAL/uCOS-III/kal.c ****     stk_limit      = (stk_size_words * (100u - KAL_CFG_TASK_STK_SIZE_PCT_FULL)) / 100u;
 1380              		.loc 1 682 29 is_stmt 0 view .LVU375
 1381 002e D4F8AC20 		ldr	r2, [r4, #172]
 682:rtos/uC-Common/KAL/uCOS-III/kal.c ****     stk_limit      = (stk_size_words * (100u - KAL_CFG_TASK_STK_SIZE_PCT_FULL)) / 100u;
 1382              		.loc 1 682 20 view .LVU376
 1383 0032 9008     		lsrs	r0, r2, #2
 1384              	.LVL156:
 683:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1385              		.loc 1 683 5 is_stmt 1 view .LVU377
 683:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 78


 1386              		.loc 1 683 38 is_stmt 0 view .LVU378
 1387 0034 22F00303 		bic	r3, r2, #3
 1388 0038 03EB9203 		add	r3, r3, r2, lsr #2
 1389 003c 5B00     		lsls	r3, r3, #1
 683:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1390              		.loc 1 683 20 view .LVU379
 1391 003e 124A     		ldr	r2, .L135
 1392 0040 A2FB0323 		umull	r2, r3, r2, r3
 1393 0044 5B09     		lsrs	r3, r3, #5
 1394              	.LVL157:
 685:rtos/uC-Common/KAL/uCOS-III/kal.c ****       (CPU_CHAR *)p_task->NamePtr,
 1395              		.loc 1 685 5 is_stmt 1 view .LVU380
 686:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   p_fnct,
 1396              		.loc 1 686 25 is_stmt 0 view .LVU381
 1397 0046 D4F8B010 		ldr	r1, [r4, #176]
 685:rtos/uC-Common/KAL/uCOS-III/kal.c ****       (CPU_CHAR *)p_task->NamePtr,
 1398              		.loc 1 685 5 view .LVU382
 1399 004a 0DF12E02 		add	r2, sp, #46
 1400 004e 0892     		str	r2, [sp, #32]
 1401 0050 0322     		movs	r2, #3
 1402 0052 0792     		str	r2, [sp, #28]
 1403 0054 0022     		movs	r2, #0
 1404 0056 0692     		str	r2, [sp, #24]
 1405 0058 0592     		str	r2, [sp, #20]
 1406 005a 0492     		str	r2, [sp, #16]
 1407 005c 0390     		str	r0, [sp, #12]
 1408 005e 0293     		str	r3, [sp, #8]
 1409 0060 D4F8A830 		ldr	r3, [r4, #168]
 1410              	.LVL158:
 685:rtos/uC-Common/KAL/uCOS-III/kal.c ****       (CPU_CHAR *)p_task->NamePtr,
 1411              		.loc 1 685 5 view .LVU383
 1412 0064 0193     		str	r3, [sp, #4]
 1413 0066 0097     		str	r7, [sp]
 1414 0068 3346     		mov	r3, r6
 1415 006a 4246     		mov	r2, r8
 1416 006c 2046     		mov	r0, r4
 1417              	.LVL159:
 685:rtos/uC-Common/KAL/uCOS-III/kal.c ****       (CPU_CHAR *)p_task->NamePtr,
 1418              		.loc 1 685 5 view .LVU384
 1419 006e FFF7FEFF 		bl	OSTaskCreate
 1420              	.LVL160:
 698:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
 1421              		.loc 1 698 5 is_stmt 1 view .LVU385
 698:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
 1422              		.loc 1 698 16 is_stmt 0 view .LVU386
 1423 0072 BDF82E00 		ldrh	r0, [sp, #46]
 698:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
 1424              		.loc 1 698 8 view .LVU387
 1425 0076 10B9     		cbnz	r0, .L131
 699:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
 1426              		.loc 1 699 8 is_stmt 1 view .LVU388
 699:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
 1427              		.loc 1 699 15 is_stmt 0 view .LVU389
 1428 0078 0023     		movs	r3, #0
 1429 007a 2B70     		strb	r3, [r5]
 1430 007c CEE7     		b	.L126
 1431              	.L131:
ARM GAS  /tmp/ccAqnR1x.s 			page 79


 701:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1432              		.loc 1 701 8 is_stmt 1 view .LVU390
 701:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1433              		.loc 1 701 17 is_stmt 0 view .LVU391
 1434 007e FFF7FEFF 		bl	KAL_ErrConvert
 1435              	.LVL161:
 701:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1436              		.loc 1 701 15 view .LVU392
 1437 0082 2870     		strb	r0, [r5]
 1438 0084 CAE7     		b	.L126
 1439              	.L136:
 1440 0086 00BF     		.align	2
 1441              	.L135:
 1442 0088 1F85EB51 		.word	1374389535
 1443              		.cfi_endproc
 1444              	.LFE3:
 1446              		.section	.text.KAL_TaskDel,"ax",%progbits
 1447              		.align	1
 1448              		.global	KAL_TaskDel
 1449              		.syntax unified
 1450              		.thumb
 1451              		.thumb_func
 1452              		.fpu fpv4-sp-d16
 1454              	KAL_TaskDel:
 1455              	.LVL162:
 1456              	.LFB4:
 733:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 1457              		.loc 1 733 1 is_stmt 1 view -0
 1458              		.cfi_startproc
 1459              		@ args = 0, pretend = 0, frame = 8
 1460              		@ frame_needed = 0, uses_anonymous_args = 0
 733:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 1461              		.loc 1 733 1 is_stmt 0 view .LVU394
 1462 0000 30B5     		push	{r4, r5, lr}
 1463              	.LCFI13:
 1464              		.cfi_def_cfa_offset 12
 1465              		.cfi_offset 4, -12
 1466              		.cfi_offset 5, -8
 1467              		.cfi_offset 14, -4
 1468 0002 83B0     		sub	sp, sp, #12
 1469              	.LCFI14:
 1470              		.cfi_def_cfa_offset 24
 1471 0004 0446     		mov	r4, r0
 1472              	.LVL163:
 735:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1473              		.loc 1 735 9 is_stmt 1 view .LVU395
 735:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1474              		.loc 1 735 12 is_stmt 0 view .LVU396
 1475 0006 0D46     		mov	r5, r1
 1476 0008 61B1     		cbz	r1, .L144
 1477              	.LVL164:
 1478              	.L138:
 736:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1479              		.loc 1 736 13 is_stmt 1 discriminator 1 view .LVU397
 739:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 1480              		.loc 1 739 9 discriminator 1 view .LVU398
 739:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
ARM GAS  /tmp/ccAqnR1x.s 			page 80


 1481              		.loc 1 739 12 is_stmt 0 discriminator 1 view .LVU399
 1482 000a 74B1     		cbz	r4, .L145
 1483              	.LBB3:
 747:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR   err_os;
 1484              		.loc 1 747 9 is_stmt 1 view .LVU400
 748:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1485              		.loc 1 748 9 view .LVU401
 751:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1486              		.loc 1 751 9 view .LVU402
 1487              	.LVL165:
 753:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  &err_os);
 1488              		.loc 1 753 9 view .LVU403
 1489 000c 0DF10601 		add	r1, sp, #6
 1490 0010 2046     		mov	r0, r4
 1491 0012 FFF7FEFF 		bl	OSTaskDel
 1492              	.LVL166:
 755:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1493              		.loc 1 755 9 view .LVU404
 755:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1494              		.loc 1 755 20 is_stmt 0 view .LVU405
 1495 0016 BDF80600 		ldrh	r0, [sp, #6]
 755:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1496              		.loc 1 755 12 view .LVU406
 1497 001a 48B9     		cbnz	r0, .L141
 756:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1498              		.loc 1 756 12 is_stmt 1 view .LVU407
 756:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1499              		.loc 1 756 19 is_stmt 0 view .LVU408
 1500 001c 0023     		movs	r3, #0
 1501 001e 2B70     		strb	r3, [r5]
 1502              	.LVL167:
 1503              	.L137:
 756:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1504              		.loc 1 756 19 view .LVU409
 1505              	.LBE3:
 770:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1506              		.loc 1 770 1 view .LVU410
 1507 0020 03B0     		add	sp, sp, #12
 1508              	.LCFI15:
 1509              		.cfi_remember_state
 1510              		.cfi_def_cfa_offset 12
 1511              		@ sp needed
 1512 0022 30BD     		pop	{r4, r5, pc}
 1513              	.LVL168:
 1514              	.L144:
 1515              	.LCFI16:
 1516              		.cfi_restore_state
 736:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1517              		.loc 1 736 13 is_stmt 1 view .LVU411
 736:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1518              		.loc 1 736 13 view .LVU412
 1519 0024 FFF7FEFF 		bl	CPU_SW_Exception
 1520              	.LVL169:
 736:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1521              		.loc 1 736 13 is_stmt 0 view .LVU413
 1522 0028 EFE7     		b	.L138
 1523              	.LVL170:
ARM GAS  /tmp/ccAqnR1x.s 			page 81


 1524              	.L145:
 740:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1525              		.loc 1 740 12 is_stmt 1 view .LVU414
 740:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1526              		.loc 1 740 19 is_stmt 0 view .LVU415
 1527 002a 0423     		movs	r3, #4
 1528 002c 2B70     		strb	r3, [r5]
 741:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1529              		.loc 1 741 13 is_stmt 1 view .LVU416
 1530 002e F7E7     		b	.L137
 1531              	.LVL171:
 1532              	.L141:
 1533              	.LBB4:
 758:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1534              		.loc 1 758 12 view .LVU417
 758:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1535              		.loc 1 758 21 is_stmt 0 view .LVU418
 1536 0030 FFF7FEFF 		bl	KAL_ErrConvert
 1537              	.LVL172:
 758:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1538              		.loc 1 758 19 view .LVU419
 1539 0034 2870     		strb	r0, [r5]
 761:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1540              		.loc 1 761 9 is_stmt 1 view .LVU420
 1541 0036 F3E7     		b	.L137
 1542              	.LBE4:
 1543              		.cfi_endproc
 1544              	.LFE4:
 1546              		.section	.text.KAL_LockCreate,"ax",%progbits
 1547              		.align	1
 1548              		.global	KAL_LockCreate
 1549              		.syntax unified
 1550              		.thumb
 1551              		.thumb_func
 1552              		.fpu fpv4-sp-d16
 1554              	KAL_LockCreate:
 1555              	.LVL173:
 1556              	.LFB5:
 806:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_LOCK_HANDLE  handle = KAL_LockHandleNull;
 1557              		.loc 1 806 1 view -0
 1558              		.cfi_startproc
 1559              		@ args = 0, pretend = 0, frame = 8
 1560              		@ frame_needed = 0, uses_anonymous_args = 0
 806:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_LOCK_HANDLE  handle = KAL_LockHandleNull;
 1561              		.loc 1 806 1 is_stmt 0 view .LVU422
 1562 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1563              	.LCFI17:
 1564              		.cfi_def_cfa_offset 24
 1565              		.cfi_offset 4, -24
 1566              		.cfi_offset 5, -20
 1567              		.cfi_offset 6, -16
 1568              		.cfi_offset 7, -12
 1569              		.cfi_offset 8, -8
 1570              		.cfi_offset 14, -4
 1571 0004 82B0     		sub	sp, sp, #8
 1572              	.LCFI18:
 1573              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/ccAqnR1x.s 			page 82


 1574 0006 0646     		mov	r6, r0
 1575 0008 0D46     		mov	r5, r1
 807:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1576              		.loc 1 807 5 is_stmt 1 view .LVU423
 807:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1577              		.loc 1 807 22 is_stmt 0 view .LVU424
 1578 000a 0024     		movs	r4, #0
 1579              	.LVL174:
 811:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 1580              		.loc 1 811 9 is_stmt 1 view .LVU425
 811:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 1581              		.loc 1 811 12 is_stmt 0 view .LVU426
 1582 000c 1746     		mov	r7, r2
 1583 000e 92B1     		cbz	r2, .L156
 1584              	.LVL175:
 1585              	.L147:
 812:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1586              		.loc 1 812 13 is_stmt 1 discriminator 1 view .LVU427
 1587              	.LBB5:
 818:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT08U   opt_flags;
 1588              		.loc 1 818 9 discriminator 1 view .LVU428
 819:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR      err_lib;
 1589              		.loc 1 819 9 discriminator 1 view .LVU429
 820:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR       err_os;
 1590              		.loc 1 820 9 discriminator 1 view .LVU430
 821:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1591              		.loc 1 821 9 discriminator 1 view .LVU431
 824:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                    &err_lib);
 1592              		.loc 1 824 9 discriminator 1 view .LVU432
 824:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                    &err_lib);
 1593              		.loc 1 824 64 is_stmt 0 discriminator 1 view .LVU433
 1594 0010 1D4B     		ldr	r3, .L157
 1595 0012 1868     		ldr	r0, [r3]
 824:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                    &err_lib);
 1596              		.loc 1 824 34 discriminator 1 view .LVU434
 1597 0014 01A9     		add	r1, sp, #4
 1598 0016 0430     		adds	r0, r0, #4
 1599 0018 FFF7FEFF 		bl	Mem_DynPoolBlkGet
 1600              	.LVL176:
 1601 001c 8046     		mov	r8, r0
 1602              	.LVL177:
 826:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 1603              		.loc 1 826 9 is_stmt 1 discriminator 1 view .LVU435
 826:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 1604              		.loc 1 826 21 is_stmt 0 discriminator 1 view .LVU436
 1605 001e BDF80420 		ldrh	r2, [sp, #4]
 826:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 1606              		.loc 1 826 12 discriminator 1 view .LVU437
 1607 0022 42F21073 		movw	r3, #10000
 1608 0026 9A42     		cmp	r2, r3
 1609 0028 08D0     		beq	.L148
 827:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1610              		.loc 1 827 12 is_stmt 1 view .LVU438
 827:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 1611              		.loc 1 827 19 is_stmt 0 view .LVU439
 1612 002a 0823     		movs	r3, #8
 1613 002c 3B70     		strb	r3, [r7]
ARM GAS  /tmp/ccAqnR1x.s 			page 83


 828:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1614              		.loc 1 828 13 is_stmt 1 view .LVU440
 1615              	.LVL178:
 828:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1616              		.loc 1 828 20 is_stmt 0 view .LVU441
 1617 002e 2046     		mov	r0, r4
 1618              	.LVL179:
 1619              	.L149:
 828:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1620              		.loc 1 828 20 view .LVU442
 1621              	.LBE5:
 862:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1622              		.loc 1 862 1 view .LVU443
 1623 0030 02B0     		add	sp, sp, #8
 1624              	.LCFI19:
 1625              		.cfi_remember_state
 1626              		.cfi_def_cfa_offset 24
 1627              		@ sp needed
 1628 0032 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1629              	.LVL180:
 1630              	.L156:
 1631              	.LCFI20:
 1632              		.cfi_restore_state
 812:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1633              		.loc 1 812 13 is_stmt 1 view .LVU444
 812:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1634              		.loc 1 812 13 view .LVU445
 1635 0036 FFF7FEFF 		bl	CPU_SW_Exception
 1636              	.LVL181:
 812:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1637              		.loc 1 812 13 is_stmt 0 view .LVU446
 1638 003a E9E7     		b	.L147
 1639              	.LVL182:
 1640              	.L148:
 1641              	.LBB6:
 831:rtos/uC-Common/KAL/uCOS-III/kal.c ****                       (CPU_CHAR *)p_name,
 1642              		.loc 1 831 9 is_stmt 1 view .LVU447
 1643 003c 0DF10602 		add	r2, sp, #6
 1644 0040 3146     		mov	r1, r6
 1645 0042 FFF7FEFF 		bl	OSMutexCreate
 1646              	.LVL183:
 834:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if ((p_cfg                                                != DEF_NULL) &&
 1647              		.loc 1 834 9 view .LVU448
 834:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if ((p_cfg                                                != DEF_NULL) &&
 1648              		.loc 1 834 20 is_stmt 0 view .LVU449
 1649 0046 BDF80630 		ldrh	r3, [sp, #6]
 834:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if ((p_cfg                                                != DEF_NULL) &&
 1650              		.loc 1 834 12 view .LVU450
 1651 004a 83B9     		cbnz	r3, .L150
 835:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_CREATE_REENTRANT) == DEF_YES)) {
 1652              		.loc 1 835 13 is_stmt 1 view .LVU451
 835:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_CREATE_REENTRANT) == DEF_YES)) {
 1653              		.loc 1 835 16 is_stmt 0 view .LVU452
 1654 004c 5DB1     		cbz	r5, .L153
 836:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 opt_flags = KAL_OPT_CREATE_REENTRANT;
 1655              		.loc 1 836 18 discriminator 1 view .LVU453
 1656 004e 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
ARM GAS  /tmp/ccAqnR1x.s 			page 84


 835:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_CREATE_REENTRANT) == DEF_YES)) {
 1657              		.loc 1 835 84 discriminator 1 view .LVU454
 1658 0050 13F0010F 		tst	r3, #1
 1659 0054 09D1     		bne	.L154
 839:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 1660              		.loc 1 839 27 view .LVU455
 1661 0056 0023     		movs	r3, #0
 1662              	.L151:
 1663              	.LVL184:
 841:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.LockObjPtr    = (void *)p_kal_lock;
 1664              		.loc 1 841 13 is_stmt 1 view .LVU456
 841:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.LockObjPtr    = (void *)p_kal_lock;
 1665              		.loc 1 841 34 is_stmt 0 view .LVU457
 1666 0058 88F81830 		strb	r3, [r8, #24]
 842:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err                =  RTOS_ERR_NONE;
 1667              		.loc 1 842 13 is_stmt 1 view .LVU458
 842:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err                =  RTOS_ERR_NONE;
 1668              		.loc 1 842 34 is_stmt 0 view .LVU459
 1669 005c 4446     		mov	r4, r8
 843:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1670              		.loc 1 843 12 is_stmt 1 view .LVU460
 843:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1671              		.loc 1 843 34 is_stmt 0 view .LVU461
 1672 005e 0023     		movs	r3, #0
 1673              	.LVL185:
 843:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1674              		.loc 1 843 34 view .LVU462
 1675 0060 3B70     		strb	r3, [r7]
 1676              	.LVL186:
 1677              	.L152:
 852:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1678              		.loc 1 852 9 is_stmt 1 view .LVU463
 852:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1679              		.loc 1 852 16 is_stmt 0 view .LVU464
 1680 0062 2046     		mov	r0, r4
 1681 0064 E4E7     		b	.L149
 1682              	.LVL187:
 1683              	.L153:
 839:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 1684              		.loc 1 839 27 view .LVU465
 1685 0066 0023     		movs	r3, #0
 1686 0068 F6E7     		b	.L151
 1687              	.L154:
 837:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 1688              		.loc 1 837 27 view .LVU466
 1689 006a 0123     		movs	r3, #1
 1690 006c F4E7     		b	.L151
 1691              	.L150:
 845:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
 1692              		.loc 1 845 13 is_stmt 1 view .LVU467
 845:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
 1693              		.loc 1 845 51 is_stmt 0 view .LVU468
 1694 006e 064B     		ldr	r3, .L157
 1695 0070 1868     		ldr	r0, [r3]
 845:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
 1696              		.loc 1 845 13 view .LVU469
 1697 0072 01AA     		add	r2, sp, #4
ARM GAS  /tmp/ccAqnR1x.s 			page 85


 1698 0074 4146     		mov	r1, r8
 1699 0076 0430     		adds	r0, r0, #4
 1700 0078 FFF7FEFF 		bl	Mem_DynPoolBlkFree
 1701              	.LVL188:
 848:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 1702              		.loc 1 848 13 is_stmt 1 view .LVU470
 849:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1703              		.loc 1 849 12 view .LVU471
 849:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1704              		.loc 1 849 21 is_stmt 0 view .LVU472
 1705 007c BDF80600 		ldrh	r0, [sp, #6]
 1706 0080 FFF7FEFF 		bl	KAL_ErrConvert
 1707              	.LVL189:
 849:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1708              		.loc 1 849 19 view .LVU473
 1709 0084 3870     		strb	r0, [r7]
 1710 0086 ECE7     		b	.L152
 1711              	.L158:
 1712              		.align	2
 1713              	.L157:
 1714 0088 00000000 		.word	.LANCHOR2
 1715              	.LBE6:
 1716              		.cfi_endproc
 1717              	.LFE5:
 1719              		.section	.text.KAL_LockAcquire,"ax",%progbits
 1720              		.align	1
 1721              		.global	KAL_LockAcquire
 1722              		.syntax unified
 1723              		.thumb
 1724              		.thumb_func
 1725              		.fpu fpv4-sp-d16
 1727              	KAL_LockAcquire:
 1728              	.LVL190:
 1729              	.LFB6:
 904:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 1730              		.loc 1 904 1 is_stmt 1 view -0
 1731              		.cfi_startproc
 1732              		@ args = 0, pretend = 0, frame = 8
 1733              		@ frame_needed = 0, uses_anonymous_args = 0
 904:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 1734              		.loc 1 904 1 is_stmt 0 view .LVU475
 1735 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1736              	.LCFI21:
 1737              		.cfi_def_cfa_offset 20
 1738              		.cfi_offset 4, -20
 1739              		.cfi_offset 5, -16
 1740              		.cfi_offset 6, -12
 1741              		.cfi_offset 7, -8
 1742              		.cfi_offset 14, -4
 1743 0002 85B0     		sub	sp, sp, #20
 1744              	.LCFI22:
 1745              		.cfi_def_cfa_offset 40
 1746 0004 0546     		mov	r5, r0
 1747              	.LVL191:
 904:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 1748              		.loc 1 904 1 view .LVU476
 1749 0006 0E46     		mov	r6, r1
ARM GAS  /tmp/ccAqnR1x.s 			page 86


 1750 0008 1446     		mov	r4, r2
 906:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1751              		.loc 1 906 9 is_stmt 1 view .LVU477
 906:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1752              		.loc 1 906 12 is_stmt 0 view .LVU478
 1753 000a 1F46     		mov	r7, r3
 1754 000c D3B1     		cbz	r3, .L172
 1755              	.LVL192:
 1756              	.L160:
 907:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1757              		.loc 1 907 13 is_stmt 1 discriminator 1 view .LVU479
 910:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 1758              		.loc 1 910 9 discriminator 1 view .LVU480
 910:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 1759              		.loc 1 910 12 is_stmt 0 discriminator 1 view .LVU481
 1760 000e E5B1     		cbz	r5, .L173
 915:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 1761              		.loc 1 915 9 is_stmt 1 view .LVU482
 915:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 1762              		.loc 1 915 12 is_stmt 0 view .LVU483
 1763 0010 36F00103 		bics	r3, r6, #1
 1764 0014 1CD1     		bne	.L174
 1765              	.LBB7:
 923:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U   timeout_ticks;
 1766              		.loc 1 923 9 is_stmt 1 view .LVU484
 924:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT       opt_os;
 1767              		.loc 1 924 9 view .LVU485
 925:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR       err_os;
 1768              		.loc 1 925 9 view .LVU486
 926:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1769              		.loc 1 926 9 view .LVU487
 929:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
 1770              		.loc 1 929 9 view .LVU488
 929:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
 1771              		.loc 1 929 12 is_stmt 0 view .LVU489
 1772 0016 1CB1     		cbz	r4, .L164
 930:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1773              		.loc 1 930 13 is_stmt 1 view .LVU490
 930:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1774              		.loc 1 930 29 is_stmt 0 view .LVU491
 1775 0018 2046     		mov	r0, r4
 1776 001a FFF7FEFF 		bl	KAL_msToTicks
 1777              	.LVL193:
 1778 001e 0446     		mov	r4, r0
 1779              	.LVL194:
 1780              	.L164:
 935:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_CLR(opt, KAL_OPT_PEND_NON_BLOCKING) == DEF_YES) {
 1781              		.loc 1 935 9 is_stmt 1 view .LVU492
 936:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
 1782              		.loc 1 936 9 view .LVU493
 936:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
 1783              		.loc 1 936 12 is_stmt 0 view .LVU494
 1784 0020 16F0010F 		tst	r6, #1
 1785 0024 18D1     		bne	.L170
 937:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1786              		.loc 1 937 20 view .LVU495
 1787 0026 0022     		movs	r2, #0
ARM GAS  /tmp/ccAqnR1x.s 			page 87


 1788              	.L165:
 1789              	.LVL195:
 942:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSMutexPend(&p_kal_lock->Mutex,
 1790              		.loc 1 942 9 is_stmt 1 view .LVU496
 943:rtos/uC-Common/KAL/uCOS-III/kal.c ****                      timeout_ticks,
 1791              		.loc 1 943 9 view .LVU497
 1792 0028 0DF10E03 		add	r3, sp, #14
 1793 002c 0093     		str	r3, [sp]
 1794 002e 0023     		movs	r3, #0
 1795 0030 2146     		mov	r1, r4
 1796 0032 2846     		mov	r0, r5
 1797 0034 FFF7FEFF 		bl	OSMutexPend
 1798              	.LVL196:
 948:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1799              		.loc 1 948 9 view .LVU498
 948:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1800              		.loc 1 948 20 is_stmt 0 view .LVU499
 1801 0038 BDF80E00 		ldrh	r0, [sp, #14]
 948:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1802              		.loc 1 948 12 view .LVU500
 1803 003c 78B9     		cbnz	r0, .L166
 949:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_OWNER) {
 1804              		.loc 1 949 12 is_stmt 1 view .LVU501
 949:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_OWNER) {
 1805              		.loc 1 949 19 is_stmt 0 view .LVU502
 1806 003e 0023     		movs	r3, #0
 1807 0040 3B70     		strb	r3, [r7]
 1808 0042 07E0     		b	.L159
 1809              	.LVL197:
 1810              	.L172:
 949:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_OWNER) {
 1811              		.loc 1 949 19 view .LVU503
 1812              	.LBE7:
 907:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1813              		.loc 1 907 13 is_stmt 1 view .LVU504
 907:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1814              		.loc 1 907 13 view .LVU505
 1815 0044 FFF7FEFF 		bl	CPU_SW_Exception
 1816              	.LVL198:
 907:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1817              		.loc 1 907 13 is_stmt 0 view .LVU506
 1818 0048 E1E7     		b	.L160
 1819              	.LVL199:
 1820              	.L173:
 911:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1821              		.loc 1 911 12 is_stmt 1 view .LVU507
 911:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1822              		.loc 1 911 19 is_stmt 0 view .LVU508
 1823 004a 0423     		movs	r3, #4
 1824 004c 3B70     		strb	r3, [r7]
 912:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1825              		.loc 1 912 13 is_stmt 1 view .LVU509
 1826 004e 01E0     		b	.L159
 1827              	.L174:
 916:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1828              		.loc 1 916 12 view .LVU510
 916:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
ARM GAS  /tmp/ccAqnR1x.s 			page 88


 1829              		.loc 1 916 19 is_stmt 0 view .LVU511
 1830 0050 0323     		movs	r3, #3
 1831 0052 3B70     		strb	r3, [r7]
 917:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1832              		.loc 1 917 13 is_stmt 1 view .LVU512
 1833              	.LVL200:
 1834              	.L159:
 975:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1835              		.loc 1 975 1 is_stmt 0 view .LVU513
 1836 0054 05B0     		add	sp, sp, #20
 1837              	.LCFI23:
 1838              		.cfi_remember_state
 1839              		.cfi_def_cfa_offset 20
 1840              		@ sp needed
 1841 0056 F0BD     		pop	{r4, r5, r6, r7, pc}
 1842              	.LVL201:
 1843              	.L170:
 1844              	.LCFI24:
 1845              		.cfi_restore_state
 1846              	.LBB8:
 939:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1847              		.loc 1 939 20 view .LVU514
 1848 0058 4FF40042 		mov	r2, #32768
 1849 005c E4E7     		b	.L165
 1850              	.LVL202:
 1851              	.L166:
 950:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 1852              		.loc 1 950 16 is_stmt 1 view .LVU515
 950:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 1853              		.loc 1 950 19 is_stmt 0 view .LVU516
 1854 005e 45F28273 		movw	r3, #22402
 1855 0062 9842     		cmp	r0, r3
 1856 0064 03D0     		beq	.L168
 951:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1857              		.loc 1 951 12 is_stmt 1 view .LVU517
 951:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1858              		.loc 1 951 21 is_stmt 0 view .LVU518
 1859 0066 FFF7FEFF 		bl	KAL_ErrConvert
 1860              	.LVL203:
 951:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1861              		.loc 1 951 19 view .LVU519
 1862 006a 3870     		strb	r0, [r7]
 1863 006c F2E7     		b	.L159
 1864              	.L168:
 953:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
 1865              		.loc 1 953 13 is_stmt 1 view .LVU520
 953:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
 1866              		.loc 1 953 17 is_stmt 0 view .LVU521
 1867 006e 2B7E     		ldrb	r3, [r5, #24]	@ zero_extendqisi2
 953:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
 1868              		.loc 1 953 16 view .LVU522
 1869 0070 13F0010F 		tst	r3, #1
 1870 0074 02D0     		beq	.L169
 954:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 1871              		.loc 1 954 16 is_stmt 1 view .LVU523
 954:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 1872              		.loc 1 954 23 is_stmt 0 view .LVU524
ARM GAS  /tmp/ccAqnR1x.s 			page 89


 1873 0076 0023     		movs	r3, #0
 1874 0078 3B70     		strb	r3, [r7]
 1875 007a EBE7     		b	.L159
 1876              	.L169:
 956:rtos/uC-Common/KAL/uCOS-III/kal.c ****                              OS_OPT_POST_NONE,
 1877              		.loc 1 956 17 is_stmt 1 view .LVU525
 1878 007c 0DF10E02 		add	r2, sp, #14
 1879 0080 0021     		movs	r1, #0
 1880 0082 2846     		mov	r0, r5
 1881 0084 FFF7FEFF 		bl	OSMutexPost
 1882              	.LVL204:
 959:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_OWNERSHIP;
 1883              		.loc 1 959 17 view .LVU526
 960:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 1884              		.loc 1 960 16 view .LVU527
 960:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 1885              		.loc 1 960 23 is_stmt 0 view .LVU528
 1886 0088 1123     		movs	r3, #17
 1887 008a 3B70     		strb	r3, [r7]
 964:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 1888              		.loc 1 964 9 is_stmt 1 view .LVU529
 1889 008c E2E7     		b	.L159
 1890              	.LBE8:
 1891              		.cfi_endproc
 1892              	.LFE6:
 1894              		.section	.text.KAL_LockRelease,"ax",%progbits
 1895              		.align	1
 1896              		.global	KAL_LockRelease
 1897              		.syntax unified
 1898              		.thumb
 1899              		.thumb_func
 1900              		.fpu fpv4-sp-d16
 1902              	KAL_LockRelease:
 1903              	.LVL205:
 1904              	.LFB7:
1002:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 1905              		.loc 1 1002 1 view -0
 1906              		.cfi_startproc
 1907              		@ args = 0, pretend = 0, frame = 8
 1908              		@ frame_needed = 0, uses_anonymous_args = 0
1002:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 1909              		.loc 1 1002 1 is_stmt 0 view .LVU531
 1910 0000 30B5     		push	{r4, r5, lr}
 1911              	.LCFI25:
 1912              		.cfi_def_cfa_offset 12
 1913              		.cfi_offset 4, -12
 1914              		.cfi_offset 5, -8
 1915              		.cfi_offset 14, -4
 1916 0002 83B0     		sub	sp, sp, #12
 1917              	.LCFI26:
 1918              		.cfi_def_cfa_offset 24
 1919 0004 0446     		mov	r4, r0
 1920              	.LVL206:
1004:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1921              		.loc 1 1004 9 is_stmt 1 view .LVU532
1004:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 1922              		.loc 1 1004 12 is_stmt 0 view .LVU533
ARM GAS  /tmp/ccAqnR1x.s 			page 90


 1923 0006 0D46     		mov	r5, r1
 1924 0008 69B1     		cbz	r1, .L184
 1925              	.LVL207:
 1926              	.L176:
1005:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1927              		.loc 1 1005 13 is_stmt 1 discriminator 1 view .LVU534
1008:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 1928              		.loc 1 1008 9 discriminator 1 view .LVU535
1008:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 1929              		.loc 1 1008 12 is_stmt 0 discriminator 1 view .LVU536
 1930 000a 7CB1     		cbz	r4, .L185
 1931              	.LBB9:
1016:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR     err_os;
 1932              		.loc 1 1016 9 is_stmt 1 view .LVU537
1017:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1933              		.loc 1 1017 9 view .LVU538
1020:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OSMutexPost(&p_kal_lock->Mutex,
 1934              		.loc 1 1020 9 view .LVU539
 1935              	.LVL208:
1021:rtos/uC-Common/KAL/uCOS-III/kal.c ****                      OS_OPT_POST_NONE,
 1936              		.loc 1 1021 9 view .LVU540
 1937 000c 0DF10602 		add	r2, sp, #6
 1938 0010 0021     		movs	r1, #0
 1939 0012 2046     		mov	r0, r4
 1940 0014 FFF7FEFF 		bl	OSMutexPost
 1941              	.LVL209:
1024:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1942              		.loc 1 1024 9 view .LVU541
1024:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1943              		.loc 1 1024 20 is_stmt 0 view .LVU542
 1944 0018 BDF80600 		ldrh	r0, [sp, #6]
1024:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 1945              		.loc 1 1024 12 view .LVU543
 1946 001c 48B9     		cbnz	r0, .L179
1025:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_NESTING) {
 1947              		.loc 1 1025 12 is_stmt 1 view .LVU544
1025:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_NESTING) {
 1948              		.loc 1 1025 19 is_stmt 0 view .LVU545
 1949 001e 0023     		movs	r3, #0
 1950 0020 2B70     		strb	r3, [r5]
 1951              	.LVL210:
 1952              	.L175:
1025:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else if (err_os != OS_ERR_MUTEX_NESTING) {
 1953              		.loc 1 1025 19 view .LVU546
 1954              	.LBE9:
1045:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 1955              		.loc 1 1045 1 view .LVU547
 1956 0022 03B0     		add	sp, sp, #12
 1957              	.LCFI27:
 1958              		.cfi_remember_state
 1959              		.cfi_def_cfa_offset 12
 1960              		@ sp needed
 1961 0024 30BD     		pop	{r4, r5, pc}
 1962              	.LVL211:
 1963              	.L184:
 1964              	.LCFI28:
 1965              		.cfi_restore_state
ARM GAS  /tmp/ccAqnR1x.s 			page 91


1005:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1966              		.loc 1 1005 13 is_stmt 1 view .LVU548
1005:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1967              		.loc 1 1005 13 view .LVU549
 1968 0026 FFF7FEFF 		bl	CPU_SW_Exception
 1969              	.LVL212:
1005:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1970              		.loc 1 1005 13 is_stmt 0 view .LVU550
 1971 002a EEE7     		b	.L176
 1972              	.LVL213:
 1973              	.L185:
1009:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1974              		.loc 1 1009 12 is_stmt 1 view .LVU551
1009:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 1975              		.loc 1 1009 19 is_stmt 0 view .LVU552
 1976 002c 0423     		movs	r3, #4
 1977 002e 2B70     		strb	r3, [r5]
1010:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 1978              		.loc 1 1010 13 is_stmt 1 view .LVU553
 1979 0030 F7E7     		b	.L175
 1980              	.LVL214:
 1981              	.L179:
 1982              	.LBB10:
1026:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 1983              		.loc 1 1026 16 view .LVU554
1026:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 1984              		.loc 1 1026 19 is_stmt 0 view .LVU555
 1985 0032 45F28373 		movw	r3, #22403
 1986 0036 9842     		cmp	r0, r3
 1987 0038 03D0     		beq	.L181
1027:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1988              		.loc 1 1027 12 is_stmt 1 view .LVU556
1027:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1989              		.loc 1 1027 21 is_stmt 0 view .LVU557
 1990 003a FFF7FEFF 		bl	KAL_ErrConvert
 1991              	.LVL215:
1027:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 1992              		.loc 1 1027 19 view .LVU558
 1993 003e 2870     		strb	r0, [r5]
 1994 0040 EFE7     		b	.L175
 1995              	.L181:
1029:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
 1996              		.loc 1 1029 13 is_stmt 1 view .LVU559
1029:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
 1997              		.loc 1 1029 17 is_stmt 0 view .LVU560
 1998 0042 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
1029:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_NONE;
 1999              		.loc 1 1029 16 view .LVU561
 2000 0044 13F0010F 		tst	r3, #1
 2001 0048 02D0     		beq	.L182
1030:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 2002              		.loc 1 1030 16 is_stmt 1 view .LVU562
1030:rtos/uC-Common/KAL/uCOS-III/kal.c ****             } else {
 2003              		.loc 1 1030 23 is_stmt 0 view .LVU563
 2004 004a 0023     		movs	r3, #0
 2005 004c 2B70     		strb	r3, [r5]
 2006 004e E8E7     		b	.L175
ARM GAS  /tmp/ccAqnR1x.s 			page 92


 2007              	.L182:
1032:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 2008              		.loc 1 1032 16 is_stmt 1 view .LVU564
1032:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 2009              		.loc 1 1032 23 is_stmt 0 view .LVU565
 2010 0050 1423     		movs	r3, #20
 2011 0052 2B70     		strb	r3, [r5]
1036:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2012              		.loc 1 1036 9 is_stmt 1 view .LVU566
 2013 0054 E5E7     		b	.L175
 2014              	.LBE10:
 2015              		.cfi_endproc
 2016              	.LFE7:
 2018              		.section	.text.KAL_LockDel,"ax",%progbits
 2019              		.align	1
 2020              		.global	KAL_LockDel
 2021              		.syntax unified
 2022              		.thumb
 2023              		.thumb_func
 2024              		.fpu fpv4-sp-d16
 2026              	KAL_LockDel:
 2027              	.LVL216:
 2028              	.LFB8:
1073:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2029              		.loc 1 1073 1 view -0
 2030              		.cfi_startproc
 2031              		@ args = 0, pretend = 0, frame = 8
 2032              		@ frame_needed = 0, uses_anonymous_args = 0
1073:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2033              		.loc 1 1073 1 is_stmt 0 view .LVU568
 2034 0000 30B5     		push	{r4, r5, lr}
 2035              	.LCFI29:
 2036              		.cfi_def_cfa_offset 12
 2037              		.cfi_offset 4, -12
 2038              		.cfi_offset 5, -8
 2039              		.cfi_offset 14, -4
 2040 0002 83B0     		sub	sp, sp, #12
 2041              	.LCFI30:
 2042              		.cfi_def_cfa_offset 24
 2043 0004 0446     		mov	r4, r0
 2044              	.LVL217:
1075:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2045              		.loc 1 1075 9 is_stmt 1 view .LVU569
1075:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2046              		.loc 1 1075 12 is_stmt 0 view .LVU570
 2047 0006 0D46     		mov	r5, r1
 2048 0008 69B1     		cbz	r1, .L193
 2049              	.LVL218:
 2050              	.L187:
1076:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2051              		.loc 1 1076 13 is_stmt 1 discriminator 1 view .LVU571
1079:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2052              		.loc 1 1079 9 discriminator 1 view .LVU572
1079:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2053              		.loc 1 1079 12 is_stmt 0 discriminator 1 view .LVU573
 2054 000a 7CB1     		cbz	r4, .L194
 2055              	.LBB11:
ARM GAS  /tmp/ccAqnR1x.s 			page 93


1088:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR     err_os;
 2056              		.loc 1 1088 9 is_stmt 1 view .LVU574
1089:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2057              		.loc 1 1089 9 view .LVU575
1092:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2058              		.loc 1 1092 9 view .LVU576
 2059              	.LVL219:
1094:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           OS_OPT_DEL_ALWAYS,
 2060              		.loc 1 1094 9 view .LVU577
1094:rtos/uC-Common/KAL/uCOS-III/kal.c ****                           OS_OPT_DEL_ALWAYS,
 2061              		.loc 1 1094 15 is_stmt 0 view .LVU578
 2062 000c 01AA     		add	r2, sp, #4
 2063 000e 0121     		movs	r1, #1
 2064 0010 2046     		mov	r0, r4
 2065 0012 FFF7FEFF 		bl	OSMutexDel
 2066              	.LVL220:
1097:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
 2067              		.loc 1 1097 9 is_stmt 1 view .LVU579
1097:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
 2068              		.loc 1 1097 20 is_stmt 0 view .LVU580
 2069 0016 BDF80400 		ldrh	r0, [sp, #4]
1097:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
 2070              		.loc 1 1097 12 view .LVU581
 2071 001a 50B1     		cbz	r0, .L195
1107:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2072              		.loc 1 1107 12 is_stmt 1 view .LVU582
1107:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2073              		.loc 1 1107 21 is_stmt 0 view .LVU583
 2074 001c FFF7FEFF 		bl	KAL_ErrConvert
 2075              	.LVL221:
1107:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2076              		.loc 1 1107 19 view .LVU584
 2077 0020 2870     		strb	r0, [r5]
1110:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2078              		.loc 1 1110 9 is_stmt 1 view .LVU585
 2079              	.LVL222:
 2080              	.L186:
1110:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2081              		.loc 1 1110 9 is_stmt 0 view .LVU586
 2082              	.LBE11:
1119:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2083              		.loc 1 1119 1 view .LVU587
 2084 0022 03B0     		add	sp, sp, #12
 2085              	.LCFI31:
 2086              		.cfi_remember_state
 2087              		.cfi_def_cfa_offset 12
 2088              		@ sp needed
 2089 0024 30BD     		pop	{r4, r5, pc}
 2090              	.LVL223:
 2091              	.L193:
 2092              	.LCFI32:
 2093              		.cfi_restore_state
1076:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2094              		.loc 1 1076 13 is_stmt 1 view .LVU588
1076:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2095              		.loc 1 1076 13 view .LVU589
 2096 0026 FFF7FEFF 		bl	CPU_SW_Exception
ARM GAS  /tmp/ccAqnR1x.s 			page 94


 2097              	.LVL224:
1076:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2098              		.loc 1 1076 13 is_stmt 0 view .LVU590
 2099 002a EEE7     		b	.L187
 2100              	.LVL225:
 2101              	.L194:
1080:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2102              		.loc 1 1080 12 is_stmt 1 view .LVU591
1080:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2103              		.loc 1 1080 19 is_stmt 0 view .LVU592
 2104 002c 0423     		movs	r3, #4
 2105 002e 2B70     		strb	r3, [r5]
1081:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2106              		.loc 1 1081 13 is_stmt 1 view .LVU593
 2107 0030 F7E7     		b	.L186
 2108              	.LVL226:
 2109              	.L195:
 2110              	.LBB13:
 2111              	.LBB12:
1098:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2112              		.loc 1 1098 13 view .LVU594
1101:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
 2113              		.loc 1 1101 13 view .LVU595
1101:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
 2114              		.loc 1 1101 51 is_stmt 0 view .LVU596
 2115 0032 054B     		ldr	r3, .L196
 2116 0034 1868     		ldr	r0, [r3]
1101:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_kal_lock,
 2117              		.loc 1 1101 13 view .LVU597
 2118 0036 0DF10602 		add	r2, sp, #6
 2119 003a 2146     		mov	r1, r4
 2120 003c 0430     		adds	r0, r0, #4
 2121 003e FFF7FEFF 		bl	Mem_DynPoolBlkFree
 2122              	.LVL227:
1104:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2123              		.loc 1 1104 13 is_stmt 1 view .LVU598
1105:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2124              		.loc 1 1105 12 view .LVU599
1105:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2125              		.loc 1 1105 19 is_stmt 0 view .LVU600
 2126 0042 0023     		movs	r3, #0
 2127 0044 2B70     		strb	r3, [r5]
 2128              	.LBE12:
 2129 0046 ECE7     		b	.L186
 2130              	.L197:
 2131              		.align	2
 2132              	.L196:
 2133 0048 00000000 		.word	.LANCHOR2
 2134              	.LBE13:
 2135              		.cfi_endproc
 2136              	.LFE8:
 2138              		.section	.text.KAL_SemCreate,"ax",%progbits
 2139              		.align	1
 2140              		.global	KAL_SemCreate
 2141              		.syntax unified
 2142              		.thumb
 2143              		.thumb_func
ARM GAS  /tmp/ccAqnR1x.s 			page 95


 2144              		.fpu fpv4-sp-d16
 2146              	KAL_SemCreate:
 2147              	.LVL228:
 2148              	.LFB9:
1156:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_SEM_HANDLE  handle = KAL_SemHandleNull;
 2149              		.loc 1 1156 1 is_stmt 1 view -0
 2150              		.cfi_startproc
 2151              		@ args = 0, pretend = 0, frame = 8
 2152              		@ frame_needed = 0, uses_anonymous_args = 0
1156:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_SEM_HANDLE  handle = KAL_SemHandleNull;
 2153              		.loc 1 1156 1 is_stmt 0 view .LVU602
 2154 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2155              	.LCFI33:
 2156              		.cfi_def_cfa_offset 20
 2157              		.cfi_offset 4, -20
 2158              		.cfi_offset 5, -16
 2159              		.cfi_offset 6, -12
 2160              		.cfi_offset 7, -8
 2161              		.cfi_offset 14, -4
 2162 0002 83B0     		sub	sp, sp, #12
 2163              	.LCFI34:
 2164              		.cfi_def_cfa_offset 32
 2165 0004 0646     		mov	r6, r0
 2166 0006 0D46     		mov	r5, r1
1157:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2167              		.loc 1 1157 5 is_stmt 1 view .LVU603
1157:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2168              		.loc 1 1157 21 is_stmt 0 view .LVU604
 2169 0008 0024     		movs	r4, #0
 2170              	.LVL229:
1161:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 2171              		.loc 1 1161 9 is_stmt 1 view .LVU605
1161:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 2172              		.loc 1 1161 12 is_stmt 0 view .LVU606
 2173 000a 1746     		mov	r7, r2
 2174 000c 2AB1     		cbz	r2, .L207
 2175              	.LVL230:
 2176              	.L199:
1162:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2177              		.loc 1 1162 13 is_stmt 1 discriminator 1 view .LVU607
1165:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 2178              		.loc 1 1165 9 discriminator 1 view .LVU608
1165:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 2179              		.loc 1 1165 12 is_stmt 0 discriminator 1 view .LVU609
 2180 000e 3DB1     		cbz	r5, .L200
1166:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2181              		.loc 1 1166 12 is_stmt 1 view .LVU610
1166:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2182              		.loc 1 1166 19 is_stmt 0 view .LVU611
 2183 0010 0223     		movs	r3, #2
 2184 0012 3B70     		strb	r3, [r7]
1167:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2185              		.loc 1 1167 13 is_stmt 1 view .LVU612
 2186              	.LVL231:
1167:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2187              		.loc 1 1167 20 is_stmt 0 view .LVU613
 2188 0014 2046     		mov	r0, r4
ARM GAS  /tmp/ccAqnR1x.s 			page 96


 2189              	.LVL232:
 2190              	.L201:
1211:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2191              		.loc 1 1211 1 discriminator 1 view .LVU614
 2192 0016 03B0     		add	sp, sp, #12
 2193              	.LCFI35:
 2194              		.cfi_remember_state
 2195              		.cfi_def_cfa_offset 20
 2196              		@ sp needed
 2197 0018 F0BD     		pop	{r4, r5, r6, r7, pc}
 2198              	.LVL233:
 2199              	.L207:
 2200              	.LCFI36:
 2201              		.cfi_restore_state
1162:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2202              		.loc 1 1162 13 is_stmt 1 view .LVU615
1162:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2203              		.loc 1 1162 13 view .LVU616
 2204 001a FFF7FEFF 		bl	CPU_SW_Exception
 2205              	.LVL234:
1162:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2206              		.loc 1 1162 13 is_stmt 0 view .LVU617
 2207 001e F6E7     		b	.L199
 2208              	.L200:
 2209              	.LBB14:
1175:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR   err_lib;
 2210              		.loc 1 1175 9 is_stmt 1 view .LVU618
1176:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR    err_os;
 2211              		.loc 1 1176 9 view .LVU619
1177:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2212              		.loc 1 1177 9 view .LVU620
1180:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             &err_lib);
 2213              		.loc 1 1180 9 view .LVU621
1180:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             &err_lib);
 2214              		.loc 1 1180 57 is_stmt 0 view .LVU622
 2215 0020 154B     		ldr	r3, .L208
 2216 0022 1868     		ldr	r0, [r3]
1180:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                             &err_lib);
 2217              		.loc 1 1180 27 view .LVU623
 2218 0024 01A9     		add	r1, sp, #4
 2219 0026 2030     		adds	r0, r0, #32
 2220 0028 FFF7FEFF 		bl	Mem_DynPoolBlkGet
 2221              	.LVL235:
 2222 002c 0546     		mov	r5, r0
 2223              	.LVL236:
1182:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 2224              		.loc 1 1182 9 is_stmt 1 view .LVU624
1182:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 2225              		.loc 1 1182 21 is_stmt 0 view .LVU625
 2226 002e BDF80420 		ldrh	r2, [sp, #4]
1182:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 2227              		.loc 1 1182 12 view .LVU626
 2228 0032 42F21073 		movw	r3, #10000
 2229 0036 9A42     		cmp	r2, r3
 2230 0038 03D0     		beq	.L202
1183:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2231              		.loc 1 1183 12 is_stmt 1 view .LVU627
ARM GAS  /tmp/ccAqnR1x.s 			page 97


1183:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2232              		.loc 1 1183 19 is_stmt 0 view .LVU628
 2233 003a 0823     		movs	r3, #8
 2234 003c 3B70     		strb	r3, [r7]
1184:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2235              		.loc 1 1184 13 is_stmt 1 view .LVU629
 2236              	.LVL237:
1184:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2237              		.loc 1 1184 20 is_stmt 0 view .LVU630
 2238 003e 2046     		mov	r0, r4
 2239              	.LVL238:
1184:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2240              		.loc 1 1184 20 view .LVU631
 2241 0040 E9E7     		b	.L201
 2242              	.LVL239:
 2243              	.L202:
1187:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (CPU_CHAR *)p_name,
 2244              		.loc 1 1187 9 is_stmt 1 view .LVU632
 2245 0042 0DF10603 		add	r3, sp, #6
 2246 0046 0022     		movs	r2, #0
 2247 0048 3146     		mov	r1, r6
 2248 004a FFF7FEFF 		bl	OSSemCreate
 2249              	.LVL240:
1191:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.SemObjPtr = (void *)p_sem;
 2250              		.loc 1 1191 9 view .LVU633
1191:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.SemObjPtr = (void *)p_sem;
 2251              		.loc 1 1191 20 is_stmt 0 view .LVU634
 2252 004e BDF80630 		ldrh	r3, [sp, #6]
1191:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.SemObjPtr = (void *)p_sem;
 2253              		.loc 1 1191 12 view .LVU635
 2254 0052 1BB9     		cbnz	r3, .L204
1192:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err            =  RTOS_ERR_NONE;
 2255              		.loc 1 1192 13 is_stmt 1 view .LVU636
1192:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err            =  RTOS_ERR_NONE;
 2256              		.loc 1 1192 30 is_stmt 0 view .LVU637
 2257 0054 2C46     		mov	r4, r5
1193:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2258              		.loc 1 1193 12 is_stmt 1 view .LVU638
1193:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2259              		.loc 1 1193 30 is_stmt 0 view .LVU639
 2260 0056 3B70     		strb	r3, [r7]
 2261              	.L205:
1202:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2262              		.loc 1 1202 9 is_stmt 1 view .LVU640
 2263              	.LVL241:
1202:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2264              		.loc 1 1202 16 is_stmt 0 view .LVU641
 2265 0058 2046     		mov	r0, r4
 2266 005a DCE7     		b	.L201
 2267              	.LVL242:
 2268              	.L204:
1195:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
 2269              		.loc 1 1195 13 is_stmt 1 view .LVU642
1195:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
 2270              		.loc 1 1195 51 is_stmt 0 view .LVU643
 2271 005c 064B     		ldr	r3, .L208
 2272 005e 1868     		ldr	r0, [r3]
ARM GAS  /tmp/ccAqnR1x.s 			page 98


1195:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
 2273              		.loc 1 1195 13 view .LVU644
 2274 0060 01AA     		add	r2, sp, #4
 2275 0062 2946     		mov	r1, r5
 2276 0064 2030     		adds	r0, r0, #32
 2277 0066 FFF7FEFF 		bl	Mem_DynPoolBlkFree
 2278              	.LVL243:
1198:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 2279              		.loc 1 1198 13 is_stmt 1 view .LVU645
1199:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2280              		.loc 1 1199 12 view .LVU646
1199:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2281              		.loc 1 1199 21 is_stmt 0 view .LVU647
 2282 006a BDF80600 		ldrh	r0, [sp, #6]
 2283 006e FFF7FEFF 		bl	KAL_ErrConvert
 2284              	.LVL244:
1199:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2285              		.loc 1 1199 19 view .LVU648
 2286 0072 3870     		strb	r0, [r7]
 2287 0074 F0E7     		b	.L205
 2288              	.L209:
 2289 0076 00BF     		.align	2
 2290              	.L208:
 2291 0078 00000000 		.word	.LANCHOR2
 2292              	.LBE14:
 2293              		.cfi_endproc
 2294              	.LFE9:
 2296              		.section	.text.KAL_SemPend,"ax",%progbits
 2297              		.align	1
 2298              		.global	KAL_SemPend
 2299              		.syntax unified
 2300              		.thumb
 2301              		.thumb_func
 2302              		.fpu fpv4-sp-d16
 2304              	KAL_SemPend:
 2305              	.LVL245:
 2306              	.LFB10:
1252:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2307              		.loc 1 1252 1 is_stmt 1 view -0
 2308              		.cfi_startproc
 2309              		@ args = 0, pretend = 0, frame = 8
 2310              		@ frame_needed = 0, uses_anonymous_args = 0
1252:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2311              		.loc 1 1252 1 is_stmt 0 view .LVU650
 2312 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2313              	.LCFI37:
 2314              		.cfi_def_cfa_offset 20
 2315              		.cfi_offset 4, -20
 2316              		.cfi_offset 5, -16
 2317              		.cfi_offset 6, -12
 2318              		.cfi_offset 7, -8
 2319              		.cfi_offset 14, -4
 2320 0002 85B0     		sub	sp, sp, #20
 2321              	.LCFI38:
 2322              		.cfi_def_cfa_offset 40
 2323 0004 0546     		mov	r5, r0
 2324              	.LVL246:
ARM GAS  /tmp/ccAqnR1x.s 			page 99


1252:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2325              		.loc 1 1252 1 view .LVU651
 2326 0006 0E46     		mov	r6, r1
 2327 0008 1446     		mov	r4, r2
1254:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2328              		.loc 1 1254 9 is_stmt 1 view .LVU652
1254:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2329              		.loc 1 1254 12 is_stmt 0 view .LVU653
 2330 000a 1F46     		mov	r7, r3
 2331 000c D3B1     		cbz	r3, .L221
 2332              	.LVL247:
 2333              	.L211:
1255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2334              		.loc 1 1255 13 is_stmt 1 discriminator 1 view .LVU654
1258:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2335              		.loc 1 1258 9 discriminator 1 view .LVU655
1258:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2336              		.loc 1 1258 12 is_stmt 0 discriminator 1 view .LVU656
 2337 000e E5B1     		cbz	r5, .L222
1263:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 2338              		.loc 1 1263 9 is_stmt 1 view .LVU657
1263:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 2339              		.loc 1 1263 12 is_stmt 0 view .LVU658
 2340 0010 36F00103 		bics	r3, r6, #1
 2341 0014 1CD1     		bne	.L223
 2342              	.LBB15:
1271:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT      opt_os;
 2343              		.loc 1 1271 9 is_stmt 1 view .LVU659
1272:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR      err_os;
 2344              		.loc 1 1272 9 view .LVU660
1273:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2345              		.loc 1 1273 9 view .LVU661
1276:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
 2346              		.loc 1 1276 9 view .LVU662
1276:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
 2347              		.loc 1 1276 12 is_stmt 0 view .LVU663
 2348 0016 1CB1     		cbz	r4, .L215
1277:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2349              		.loc 1 1277 13 is_stmt 1 view .LVU664
1277:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2350              		.loc 1 1277 29 is_stmt 0 view .LVU665
 2351 0018 2046     		mov	r0, r4
 2352 001a FFF7FEFF 		bl	KAL_msToTicks
 2353              	.LVL248:
 2354 001e 0446     		mov	r4, r0
 2355              	.LVL249:
 2356              	.L215:
1282:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_CLR(opt, KAL_OPT_PEND_NON_BLOCKING) == DEF_YES) {
 2357              		.loc 1 1282 9 is_stmt 1 view .LVU666
1283:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
 2358              		.loc 1 1283 9 view .LVU667
1283:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
 2359              		.loc 1 1283 12 is_stmt 0 view .LVU668
 2360 0020 16F0010F 		tst	r6, #1
 2361 0024 18D1     		bne	.L219
1284:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2362              		.loc 1 1284 20 view .LVU669
ARM GAS  /tmp/ccAqnR1x.s 			page 100


 2363 0026 0022     		movs	r2, #0
 2364              	.L216:
 2365              	.LVL250:
1289:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             timeout_ticks,
 2366              		.loc 1 1289 9 is_stmt 1 view .LVU670
 2367 0028 0DF10E03 		add	r3, sp, #14
 2368 002c 0093     		str	r3, [sp]
 2369 002e 0023     		movs	r3, #0
 2370 0030 2146     		mov	r1, r4
 2371 0032 2846     		mov	r0, r5
 2372 0034 FFF7FEFF 		bl	OSSemPend
 2373              	.LVL251:
1294:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2374              		.loc 1 1294 9 view .LVU671
1294:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2375              		.loc 1 1294 20 is_stmt 0 view .LVU672
 2376 0038 BDF80E00 		ldrh	r0, [sp, #14]
1294:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2377              		.loc 1 1294 12 view .LVU673
 2378 003c 78B9     		cbnz	r0, .L217
1295:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2379              		.loc 1 1295 12 is_stmt 1 view .LVU674
1295:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2380              		.loc 1 1295 19 is_stmt 0 view .LVU675
 2381 003e 0023     		movs	r3, #0
 2382 0040 3B70     		strb	r3, [r7]
 2383 0042 07E0     		b	.L210
 2384              	.LVL252:
 2385              	.L221:
1295:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2386              		.loc 1 1295 19 view .LVU676
 2387              	.LBE15:
1255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2388              		.loc 1 1255 13 is_stmt 1 view .LVU677
1255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2389              		.loc 1 1255 13 view .LVU678
 2390 0044 FFF7FEFF 		bl	CPU_SW_Exception
 2391              	.LVL253:
1255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2392              		.loc 1 1255 13 is_stmt 0 view .LVU679
 2393 0048 E1E7     		b	.L211
 2394              	.LVL254:
 2395              	.L222:
1259:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2396              		.loc 1 1259 12 is_stmt 1 view .LVU680
1259:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2397              		.loc 1 1259 19 is_stmt 0 view .LVU681
 2398 004a 0423     		movs	r3, #4
 2399 004c 3B70     		strb	r3, [r7]
1260:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2400              		.loc 1 1260 13 is_stmt 1 view .LVU682
 2401 004e 01E0     		b	.L210
 2402              	.L223:
1264:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2403              		.loc 1 1264 12 view .LVU683
1264:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2404              		.loc 1 1264 19 is_stmt 0 view .LVU684
ARM GAS  /tmp/ccAqnR1x.s 			page 101


 2405 0050 0323     		movs	r3, #3
 2406 0052 3B70     		strb	r3, [r7]
1265:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2407              		.loc 1 1265 13 is_stmt 1 view .LVU685
 2408              	.LVL255:
 2409              	.L210:
1311:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2410              		.loc 1 1311 1 is_stmt 0 view .LVU686
 2411 0054 05B0     		add	sp, sp, #20
 2412              	.LCFI39:
 2413              		.cfi_remember_state
 2414              		.cfi_def_cfa_offset 20
 2415              		@ sp needed
 2416 0056 F0BD     		pop	{r4, r5, r6, r7, pc}
 2417              	.LVL256:
 2418              	.L219:
 2419              	.LCFI40:
 2420              		.cfi_restore_state
 2421              	.LBB16:
1286:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2422              		.loc 1 1286 20 view .LVU687
 2423 0058 4FF40042 		mov	r2, #32768
 2424 005c E4E7     		b	.L216
 2425              	.LVL257:
 2426              	.L217:
1297:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2427              		.loc 1 1297 12 is_stmt 1 view .LVU688
1297:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2428              		.loc 1 1297 21 is_stmt 0 view .LVU689
 2429 005e FFF7FEFF 		bl	KAL_ErrConvert
 2430              	.LVL258:
1297:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2431              		.loc 1 1297 19 view .LVU690
 2432 0062 3870     		strb	r0, [r7]
1300:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2433              		.loc 1 1300 9 is_stmt 1 view .LVU691
 2434 0064 F6E7     		b	.L210
 2435              	.LBE16:
 2436              		.cfi_endproc
 2437              	.LFE10:
 2439              		.section	.text.KAL_SemPost,"ax",%progbits
 2440              		.align	1
 2441              		.global	KAL_SemPost
 2442              		.syntax unified
 2443              		.thumb
 2444              		.thumb_func
 2445              		.fpu fpv4-sp-d16
 2447              	KAL_SemPost:
 2448              	.LVL259:
 2449              	.LFB11:
1342:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2450              		.loc 1 1342 1 view -0
 2451              		.cfi_startproc
 2452              		@ args = 0, pretend = 0, frame = 8
 2453              		@ frame_needed = 0, uses_anonymous_args = 0
1342:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2454              		.loc 1 1342 1 is_stmt 0 view .LVU693
ARM GAS  /tmp/ccAqnR1x.s 			page 102


 2455 0000 70B5     		push	{r4, r5, r6, lr}
 2456              	.LCFI41:
 2457              		.cfi_def_cfa_offset 16
 2458              		.cfi_offset 4, -16
 2459              		.cfi_offset 5, -12
 2460              		.cfi_offset 6, -8
 2461              		.cfi_offset 14, -4
 2462 0002 82B0     		sub	sp, sp, #8
 2463              	.LCFI42:
 2464              		.cfi_def_cfa_offset 24
 2465 0004 0446     		mov	r4, r0
 2466              	.LVL260:
1342:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2467              		.loc 1 1342 1 view .LVU694
 2468 0006 0D46     		mov	r5, r1
1344:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2469              		.loc 1 1344 9 is_stmt 1 view .LVU695
1344:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2470              		.loc 1 1344 12 is_stmt 0 view .LVU696
 2471 0008 1646     		mov	r6, r2
 2472 000a 2AB1     		cbz	r2, .L232
 2473              	.LVL261:
 2474              	.L225:
1345:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2475              		.loc 1 1345 13 is_stmt 1 discriminator 1 view .LVU697
1348:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2476              		.loc 1 1348 9 discriminator 1 view .LVU698
1348:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2477              		.loc 1 1348 12 is_stmt 0 discriminator 1 view .LVU699
 2478 000c 3CB1     		cbz	r4, .L233
1353:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 2479              		.loc 1 1353 9 is_stmt 1 view .LVU700
1353:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 2480              		.loc 1 1353 12 is_stmt 0 view .LVU701
 2481 000e 4DB1     		cbz	r5, .L228
1354:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2482              		.loc 1 1354 12 is_stmt 1 view .LVU702
1354:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2483              		.loc 1 1354 19 is_stmt 0 view .LVU703
 2484 0010 0323     		movs	r3, #3
 2485 0012 3370     		strb	r3, [r6]
1355:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2486              		.loc 1 1355 13 is_stmt 1 view .LVU704
 2487              	.L224:
1383:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2488              		.loc 1 1383 1 is_stmt 0 view .LVU705
 2489 0014 02B0     		add	sp, sp, #8
 2490              	.LCFI43:
 2491              		.cfi_remember_state
 2492              		.cfi_def_cfa_offset 16
 2493              		@ sp needed
 2494 0016 70BD     		pop	{r4, r5, r6, pc}
 2495              	.LVL262:
 2496              	.L232:
 2497              	.LCFI44:
 2498              		.cfi_restore_state
1345:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
ARM GAS  /tmp/ccAqnR1x.s 			page 103


 2499              		.loc 1 1345 13 is_stmt 1 view .LVU706
1345:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2500              		.loc 1 1345 13 view .LVU707
 2501 0018 FFF7FEFF 		bl	CPU_SW_Exception
 2502              	.LVL263:
1345:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2503              		.loc 1 1345 13 is_stmt 0 view .LVU708
 2504 001c F6E7     		b	.L225
 2505              	.LVL264:
 2506              	.L233:
1349:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2507              		.loc 1 1349 12 is_stmt 1 view .LVU709
1349:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2508              		.loc 1 1349 19 is_stmt 0 view .LVU710
 2509 001e 0423     		movs	r3, #4
 2510 0020 3370     		strb	r3, [r6]
1350:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2511              		.loc 1 1350 13 is_stmt 1 view .LVU711
 2512 0022 F7E7     		b	.L224
 2513              	.L228:
 2514              	.LBB17:
1361:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2515              		.loc 1 1361 9 view .LVU712
1364:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             OS_OPT_POST_1,
 2516              		.loc 1 1364 9 view .LVU713
 2517 0024 0DF10602 		add	r2, sp, #6
 2518 0028 0021     		movs	r1, #0
 2519 002a 2046     		mov	r0, r4
 2520 002c FFF7FEFF 		bl	OSSemPost
 2521              	.LVL265:
1367:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2522              		.loc 1 1367 9 view .LVU714
1367:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2523              		.loc 1 1367 20 is_stmt 0 view .LVU715
 2524 0030 BDF80600 		ldrh	r0, [sp, #6]
1367:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2525              		.loc 1 1367 12 view .LVU716
 2526 0034 10B9     		cbnz	r0, .L229
1368:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2527              		.loc 1 1368 12 is_stmt 1 view .LVU717
1368:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2528              		.loc 1 1368 19 is_stmt 0 view .LVU718
 2529 0036 0023     		movs	r3, #0
 2530 0038 3370     		strb	r3, [r6]
 2531 003a EBE7     		b	.L224
 2532              	.L229:
1370:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2533              		.loc 1 1370 12 is_stmt 1 view .LVU719
1370:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2534              		.loc 1 1370 21 is_stmt 0 view .LVU720
 2535 003c FFF7FEFF 		bl	KAL_ErrConvert
 2536              	.LVL266:
1370:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2537              		.loc 1 1370 19 view .LVU721
 2538 0040 3070     		strb	r0, [r6]
1373:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2539              		.loc 1 1373 9 is_stmt 1 view .LVU722
ARM GAS  /tmp/ccAqnR1x.s 			page 104


 2540 0042 E7E7     		b	.L224
 2541              	.LBE17:
 2542              		.cfi_endproc
 2543              	.LFE11:
 2545              		.section	.text.KAL_SemPendAbort,"ax",%progbits
 2546              		.align	1
 2547              		.global	KAL_SemPendAbort
 2548              		.syntax unified
 2549              		.thumb
 2550              		.thumb_func
 2551              		.fpu fpv4-sp-d16
 2553              	KAL_SemPendAbort:
 2554              	.LVL267:
 2555              	.LFB12:
1410:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2556              		.loc 1 1410 1 view -0
 2557              		.cfi_startproc
 2558              		@ args = 0, pretend = 0, frame = 8
 2559              		@ frame_needed = 0, uses_anonymous_args = 0
1410:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2560              		.loc 1 1410 1 is_stmt 0 view .LVU724
 2561 0000 30B5     		push	{r4, r5, lr}
 2562              	.LCFI45:
 2563              		.cfi_def_cfa_offset 12
 2564              		.cfi_offset 4, -12
 2565              		.cfi_offset 5, -8
 2566              		.cfi_offset 14, -4
 2567 0002 83B0     		sub	sp, sp, #12
 2568              	.LCFI46:
 2569              		.cfi_def_cfa_offset 24
 2570 0004 0446     		mov	r4, r0
 2571              	.LVL268:
1412:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2572              		.loc 1 1412 9 is_stmt 1 view .LVU725
1412:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2573              		.loc 1 1412 12 is_stmt 0 view .LVU726
 2574 0006 0D46     		mov	r5, r1
 2575 0008 71B1     		cbz	r1, .L241
 2576              	.LVL269:
 2577              	.L235:
1413:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2578              		.loc 1 1413 13 is_stmt 1 discriminator 1 view .LVU727
1416:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2579              		.loc 1 1416 9 discriminator 1 view .LVU728
1416:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2580              		.loc 1 1416 12 is_stmt 0 discriminator 1 view .LVU729
 2581 000a 84B1     		cbz	r4, .L242
 2582              	.LBB18:
1425:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2583              		.loc 1 1425 9 is_stmt 1 view .LVU730
1428:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        OS_OPT_PEND_ABORT_ALL,
 2584              		.loc 1 1428 9 view .LVU731
1428:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                        OS_OPT_PEND_ABORT_ALL,
 2585              		.loc 1 1428 15 is_stmt 0 view .LVU732
 2586 000c 0DF10602 		add	r2, sp, #6
 2587 0010 4FF48071 		mov	r1, #256
 2588 0014 2046     		mov	r0, r4
ARM GAS  /tmp/ccAqnR1x.s 			page 105


 2589 0016 FFF7FEFF 		bl	OSSemPendAbort
 2590              	.LVL270:
1431:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2591              		.loc 1 1431 9 is_stmt 1 view .LVU733
1431:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2592              		.loc 1 1431 20 is_stmt 0 view .LVU734
 2593 001a BDF80600 		ldrh	r0, [sp, #6]
1431:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2594              		.loc 1 1431 12 view .LVU735
 2595 001e 48B9     		cbnz	r0, .L238
1432:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2596              		.loc 1 1432 12 is_stmt 1 view .LVU736
1432:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2597              		.loc 1 1432 19 is_stmt 0 view .LVU737
 2598 0020 0023     		movs	r3, #0
 2599 0022 2B70     		strb	r3, [r5]
 2600              	.L234:
1432:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2601              		.loc 1 1432 19 view .LVU738
 2602              	.LBE18:
1446:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2603              		.loc 1 1446 1 view .LVU739
 2604 0024 03B0     		add	sp, sp, #12
 2605              	.LCFI47:
 2606              		.cfi_remember_state
 2607              		.cfi_def_cfa_offset 12
 2608              		@ sp needed
 2609 0026 30BD     		pop	{r4, r5, pc}
 2610              	.LVL271:
 2611              	.L241:
 2612              	.LCFI48:
 2613              		.cfi_restore_state
1413:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2614              		.loc 1 1413 13 is_stmt 1 view .LVU740
1413:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2615              		.loc 1 1413 13 view .LVU741
 2616 0028 FFF7FEFF 		bl	CPU_SW_Exception
 2617              	.LVL272:
1413:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2618              		.loc 1 1413 13 is_stmt 0 view .LVU742
 2619 002c EDE7     		b	.L235
 2620              	.LVL273:
 2621              	.L242:
1417:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2622              		.loc 1 1417 12 is_stmt 1 view .LVU743
1417:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2623              		.loc 1 1417 19 is_stmt 0 view .LVU744
 2624 002e 0423     		movs	r3, #4
 2625 0030 2B70     		strb	r3, [r5]
1418:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2626              		.loc 1 1418 13 is_stmt 1 view .LVU745
 2627 0032 F7E7     		b	.L234
 2628              	.L238:
 2629              	.LBB19:
1434:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2630              		.loc 1 1434 12 view .LVU746
1434:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
ARM GAS  /tmp/ccAqnR1x.s 			page 106


 2631              		.loc 1 1434 21 is_stmt 0 view .LVU747
 2632 0034 FFF7FEFF 		bl	KAL_ErrConvert
 2633              	.LVL274:
1434:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2634              		.loc 1 1434 19 view .LVU748
 2635 0038 2870     		strb	r0, [r5]
1437:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2636              		.loc 1 1437 9 is_stmt 1 view .LVU749
 2637 003a F3E7     		b	.L234
 2638              	.LBE19:
 2639              		.cfi_endproc
 2640              	.LFE12:
 2642              		.section	.text.KAL_SemSet,"ax",%progbits
 2643              		.align	1
 2644              		.global	KAL_SemSet
 2645              		.syntax unified
 2646              		.thumb
 2647              		.thumb_func
 2648              		.fpu fpv4-sp-d16
 2650              	KAL_SemSet:
 2651              	.LVL275:
 2652              	.LFB13:
1475:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ------------------ VALIDATE ARGS
 2653              		.loc 1 1475 1 view -0
 2654              		.cfi_startproc
 2655              		@ args = 0, pretend = 0, frame = 8
 2656              		@ frame_needed = 0, uses_anonymous_args = 0
1475:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ------------------ VALIDATE ARGS
 2657              		.loc 1 1475 1 is_stmt 0 view .LVU751
 2658 0000 70B5     		push	{r4, r5, r6, lr}
 2659              	.LCFI49:
 2660              		.cfi_def_cfa_offset 16
 2661              		.cfi_offset 4, -16
 2662              		.cfi_offset 5, -12
 2663              		.cfi_offset 6, -8
 2664              		.cfi_offset 14, -4
 2665 0002 82B0     		sub	sp, sp, #8
 2666              	.LCFI50:
 2667              		.cfi_def_cfa_offset 24
 2668 0004 0446     		mov	r4, r0
 2669              	.LVL276:
1475:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ------------------ VALIDATE ARGS
 2670              		.loc 1 1475 1 view .LVU752
 2671 0006 0D46     		mov	r5, r1
1477:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2672              		.loc 1 1477 9 is_stmt 1 view .LVU753
1477:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2673              		.loc 1 1477 12 is_stmt 0 view .LVU754
 2674 0008 1646     		mov	r6, r2
 2675 000a 6AB1     		cbz	r2, .L250
 2676              	.LVL277:
 2677              	.L244:
1478:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2678              		.loc 1 1478 13 is_stmt 1 discriminator 1 view .LVU755
1481:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2679              		.loc 1 1481 9 discriminator 1 view .LVU756
1481:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
ARM GAS  /tmp/ccAqnR1x.s 			page 107


 2680              		.loc 1 1481 12 is_stmt 0 discriminator 1 view .LVU757
 2681 000c 7CB1     		cbz	r4, .L251
 2682              	.LBB20:
1490:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2683              		.loc 1 1490 9 is_stmt 1 view .LVU758
1493:rtos/uC-Common/KAL/uCOS-III/kal.c ****                            cnt,
 2684              		.loc 1 1493 9 view .LVU759
 2685 000e 0DF10602 		add	r2, sp, #6
 2686 0012 2946     		mov	r1, r5
 2687 0014 2046     		mov	r0, r4
 2688 0016 FFF7FEFF 		bl	OSSemSet
 2689              	.LVL278:
1496:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2690              		.loc 1 1496 9 view .LVU760
1496:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2691              		.loc 1 1496 20 is_stmt 0 view .LVU761
 2692 001a BDF80600 		ldrh	r0, [sp, #6]
1496:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2693              		.loc 1 1496 12 view .LVU762
 2694 001e 48B9     		cbnz	r0, .L247
1497:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2695              		.loc 1 1497 12 is_stmt 1 view .LVU763
1497:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2696              		.loc 1 1497 19 is_stmt 0 view .LVU764
 2697 0020 0023     		movs	r3, #0
 2698 0022 3370     		strb	r3, [r6]
 2699              	.L243:
1497:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2700              		.loc 1 1497 19 view .LVU765
 2701              	.LBE20:
1512:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2702              		.loc 1 1512 1 view .LVU766
 2703 0024 02B0     		add	sp, sp, #8
 2704              	.LCFI51:
 2705              		.cfi_remember_state
 2706              		.cfi_def_cfa_offset 16
 2707              		@ sp needed
 2708 0026 70BD     		pop	{r4, r5, r6, pc}
 2709              	.LVL279:
 2710              	.L250:
 2711              	.LCFI52:
 2712              		.cfi_restore_state
1478:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2713              		.loc 1 1478 13 is_stmt 1 view .LVU767
1478:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2714              		.loc 1 1478 13 view .LVU768
 2715 0028 FFF7FEFF 		bl	CPU_SW_Exception
 2716              	.LVL280:
1478:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2717              		.loc 1 1478 13 is_stmt 0 view .LVU769
 2718 002c EEE7     		b	.L244
 2719              	.LVL281:
 2720              	.L251:
1482:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2721              		.loc 1 1482 12 is_stmt 1 view .LVU770
1482:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2722              		.loc 1 1482 19 is_stmt 0 view .LVU771
ARM GAS  /tmp/ccAqnR1x.s 			page 108


 2723 002e 0423     		movs	r3, #4
 2724 0030 3370     		strb	r3, [r6]
1483:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2725              		.loc 1 1483 13 is_stmt 1 view .LVU772
 2726 0032 F7E7     		b	.L243
 2727              	.L247:
 2728              	.LBB21:
1499:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2729              		.loc 1 1499 12 view .LVU773
1499:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2730              		.loc 1 1499 21 is_stmt 0 view .LVU774
 2731 0034 FFF7FEFF 		bl	KAL_ErrConvert
 2732              	.LVL282:
1499:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2733              		.loc 1 1499 19 view .LVU775
 2734 0038 3070     		strb	r0, [r6]
1502:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2735              		.loc 1 1502 9 is_stmt 1 view .LVU776
 2736 003a F3E7     		b	.L243
 2737              	.LBE21:
 2738              		.cfi_endproc
 2739              	.LFE13:
 2741              		.section	.text.KAL_SemDel,"ax",%progbits
 2742              		.align	1
 2743              		.global	KAL_SemDel
 2744              		.syntax unified
 2745              		.thumb
 2746              		.thumb_func
 2747              		.fpu fpv4-sp-d16
 2749              	KAL_SemDel:
 2750              	.LVL283:
 2751              	.LFB14:
1539:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2752              		.loc 1 1539 1 view -0
 2753              		.cfi_startproc
 2754              		@ args = 0, pretend = 0, frame = 8
 2755              		@ frame_needed = 0, uses_anonymous_args = 0
1539:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 2756              		.loc 1 1539 1 is_stmt 0 view .LVU778
 2757 0000 30B5     		push	{r4, r5, lr}
 2758              	.LCFI53:
 2759              		.cfi_def_cfa_offset 12
 2760              		.cfi_offset 4, -12
 2761              		.cfi_offset 5, -8
 2762              		.cfi_offset 14, -4
 2763 0002 83B0     		sub	sp, sp, #12
 2764              	.LCFI54:
 2765              		.cfi_def_cfa_offset 24
 2766 0004 0446     		mov	r4, r0
 2767              	.LVL284:
1541:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2768              		.loc 1 1541 9 is_stmt 1 view .LVU779
1541:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 2769              		.loc 1 1541 12 is_stmt 0 view .LVU780
 2770 0006 0D46     		mov	r5, r1
 2771 0008 69B1     		cbz	r1, .L259
 2772              	.LVL285:
ARM GAS  /tmp/ccAqnR1x.s 			page 109


 2773              	.L253:
1542:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2774              		.loc 1 1542 13 is_stmt 1 discriminator 1 view .LVU781
1545:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2775              		.loc 1 1545 9 discriminator 1 view .LVU782
1545:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2776              		.loc 1 1545 12 is_stmt 0 discriminator 1 view .LVU783
 2777 000a 7CB1     		cbz	r4, .L260
 2778              	.LBB22:
1554:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR   err_os;
 2779              		.loc 1 1554 9 is_stmt 1 view .LVU784
1555:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2780              		.loc 1 1555 9 view .LVU785
1558:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2781              		.loc 1 1558 9 view .LVU786
 2782              	.LVL286:
1560:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        OS_OPT_DEL_ALWAYS,
 2783              		.loc 1 1560 9 view .LVU787
1560:rtos/uC-Common/KAL/uCOS-III/kal.c ****                        OS_OPT_DEL_ALWAYS,
 2784              		.loc 1 1560 15 is_stmt 0 view .LVU788
 2785 000c 01AA     		add	r2, sp, #4
 2786 000e 0121     		movs	r1, #1
 2787 0010 2046     		mov	r0, r4
 2788 0012 FFF7FEFF 		bl	OSSemDel
 2789              	.LVL287:
1563:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
 2790              		.loc 1 1563 9 is_stmt 1 view .LVU789
1563:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
 2791              		.loc 1 1563 20 is_stmt 0 view .LVU790
 2792 0016 BDF80400 		ldrh	r0, [sp, #4]
1563:rtos/uC-Common/KAL/uCOS-III/kal.c ****             LIB_ERR  err_lib;
 2793              		.loc 1 1563 12 view .LVU791
 2794 001a 50B1     		cbz	r0, .L261
1573:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2795              		.loc 1 1573 12 is_stmt 1 view .LVU792
1573:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2796              		.loc 1 1573 21 is_stmt 0 view .LVU793
 2797 001c FFF7FEFF 		bl	KAL_ErrConvert
 2798              	.LVL288:
1573:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2799              		.loc 1 1573 19 view .LVU794
 2800 0020 2870     		strb	r0, [r5]
1576:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2801              		.loc 1 1576 9 is_stmt 1 view .LVU795
 2802              	.LVL289:
 2803              	.L252:
1576:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 2804              		.loc 1 1576 9 is_stmt 0 view .LVU796
 2805              	.LBE22:
1585:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2806              		.loc 1 1585 1 view .LVU797
 2807 0022 03B0     		add	sp, sp, #12
 2808              	.LCFI55:
 2809              		.cfi_remember_state
 2810              		.cfi_def_cfa_offset 12
 2811              		@ sp needed
 2812 0024 30BD     		pop	{r4, r5, pc}
ARM GAS  /tmp/ccAqnR1x.s 			page 110


 2813              	.LVL290:
 2814              	.L259:
 2815              	.LCFI56:
 2816              		.cfi_restore_state
1542:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2817              		.loc 1 1542 13 is_stmt 1 view .LVU798
1542:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2818              		.loc 1 1542 13 view .LVU799
 2819 0026 FFF7FEFF 		bl	CPU_SW_Exception
 2820              	.LVL291:
1542:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2821              		.loc 1 1542 13 is_stmt 0 view .LVU800
 2822 002a EEE7     		b	.L253
 2823              	.LVL292:
 2824              	.L260:
1546:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2825              		.loc 1 1546 12 is_stmt 1 view .LVU801
1546:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 2826              		.loc 1 1546 19 is_stmt 0 view .LVU802
 2827 002c 0423     		movs	r3, #4
 2828 002e 2B70     		strb	r3, [r5]
1547:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2829              		.loc 1 1547 13 is_stmt 1 view .LVU803
 2830 0030 F7E7     		b	.L252
 2831              	.LVL293:
 2832              	.L261:
 2833              	.LBB24:
 2834              	.LBB23:
1564:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2835              		.loc 1 1564 13 view .LVU804
1567:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
 2836              		.loc 1 1567 13 view .LVU805
1567:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
 2837              		.loc 1 1567 51 is_stmt 0 view .LVU806
 2838 0032 054B     		ldr	r3, .L262
 2839 0034 1868     		ldr	r0, [r3]
1567:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_sem,
 2840              		.loc 1 1567 13 view .LVU807
 2841 0036 0DF10602 		add	r2, sp, #6
 2842 003a 2146     		mov	r1, r4
 2843 003c 2030     		adds	r0, r0, #32
 2844 003e FFF7FEFF 		bl	Mem_DynPoolBlkFree
 2845              	.LVL294:
1570:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 2846              		.loc 1 1570 13 is_stmt 1 view .LVU808
1571:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2847              		.loc 1 1571 12 view .LVU809
1571:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 2848              		.loc 1 1571 19 is_stmt 0 view .LVU810
 2849 0042 0023     		movs	r3, #0
 2850 0044 2B70     		strb	r3, [r5]
 2851              	.LBE23:
 2852 0046 ECE7     		b	.L252
 2853              	.L263:
 2854              		.align	2
 2855              	.L262:
 2856 0048 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/ccAqnR1x.s 			page 111


 2857              	.LBE24:
 2858              		.cfi_endproc
 2859              	.LFE14:
 2861              		.section	.text.KAL_TmrCreate,"ax",%progbits
 2862              		.align	1
 2863              		.global	KAL_TmrCreate
 2864              		.syntax unified
 2865              		.thumb
 2866              		.thumb_func
 2867              		.fpu fpv4-sp-d16
 2869              	KAL_TmrCreate:
 2870              	.LVL295:
 2871              	.LFB15:
1633:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TMR_HANDLE  handle = KAL_TmrHandleNull;
 2872              		.loc 1 1633 1 is_stmt 1 view -0
 2873              		.cfi_startproc
 2874              		@ args = 8, pretend = 0, frame = 8
 2875              		@ frame_needed = 0, uses_anonymous_args = 0
1633:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TMR_HANDLE  handle = KAL_TmrHandleNull;
 2876              		.loc 1 1633 1 is_stmt 0 view .LVU812
 2877 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2878              	.LCFI57:
 2879              		.cfi_def_cfa_offset 36
 2880              		.cfi_offset 4, -36
 2881              		.cfi_offset 5, -32
 2882              		.cfi_offset 6, -28
 2883              		.cfi_offset 7, -24
 2884              		.cfi_offset 8, -20
 2885              		.cfi_offset 9, -16
 2886              		.cfi_offset 10, -12
 2887              		.cfi_offset 11, -8
 2888              		.cfi_offset 14, -4
 2889 0004 87B0     		sub	sp, sp, #28
 2890              	.LCFI58:
 2891              		.cfi_def_cfa_offset 64
 2892 0006 8046     		mov	r8, r0
 2893 0008 8A46     		mov	r10, r1
 2894 000a 9346     		mov	fp, r2
 2895 000c 1C46     		mov	r4, r3
 2896 000e 109D     		ldr	r5, [sp, #64]
 2897 0010 119F     		ldr	r7, [sp, #68]
1634:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2898              		.loc 1 1634 5 is_stmt 1 view .LVU813
1634:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2899              		.loc 1 1634 21 is_stmt 0 view .LVU814
 2900 0012 0026     		movs	r6, #0
 2901              	.LVL296:
1638:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 2902              		.loc 1 1638 9 is_stmt 1 view .LVU815
1638:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 2903              		.loc 1 1638 12 is_stmt 0 view .LVU816
 2904 0014 D7B1     		cbz	r7, .L278
 2905              	.LVL297:
 2906              	.L265:
1639:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2907              		.loc 1 1639 13 is_stmt 1 discriminator 1 view .LVU817
1642:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
ARM GAS  /tmp/ccAqnR1x.s 			page 112


 2908              		.loc 1 1642 9 discriminator 1 view .LVU818
1642:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 2909              		.loc 1 1642 12 is_stmt 0 discriminator 1 view .LVU819
 2910 0016 BAF1000F 		cmp	r10, #0
 2911 001a 1AD0     		beq	.L279
1647:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 2912              		.loc 1 1647 9 is_stmt 1 view .LVU820
1647:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 2913              		.loc 1 1647 12 is_stmt 0 view .LVU821
 2914 001c ECB1     		cbz	r4, .L280
1652:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (DEF_BIT_IS_SET_ANY(p_cfg->Opt, ~(KAL_OPT_TMR_NONE | KAL_OPT_TMR_PERIODIC)) == DEF_Y
 2915              		.loc 1 1652 9 is_stmt 1 view .LVU822
1652:rtos/uC-Common/KAL/uCOS-III/kal.c ****             if (DEF_BIT_IS_SET_ANY(p_cfg->Opt, ~(KAL_OPT_TMR_NONE | KAL_OPT_TMR_PERIODIC)) == DEF_Y
 2916              		.loc 1 1652 12 is_stmt 0 view .LVU823
 2917 001e 1DB1     		cbz	r5, .L269
1653:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_INVALID_ARG;
 2918              		.loc 1 1653 13 is_stmt 1 view .LVU824
1653:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_INVALID_ARG;
 2919              		.loc 1 1653 17 is_stmt 0 view .LVU825
 2920 0020 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
1653:rtos/uC-Common/KAL/uCOS-III/kal.c ****                *p_err = RTOS_ERR_INVALID_ARG;
 2921              		.loc 1 1653 16 view .LVU826
 2922 0022 33F00103 		bics	r3, r3, #1
 2923 0026 1ED1     		bne	.L281
 2924              	.L269:
 2925              	.LBB25:
1662:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U   tmr_dly;
 2926              		.loc 1 1662 9 is_stmt 1 view .LVU827
1663:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U   tmr_period;
 2927              		.loc 1 1663 9 view .LVU828
1664:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT       opt_os;
 2928              		.loc 1 1664 9 view .LVU829
1665:rtos/uC-Common/KAL/uCOS-III/kal.c ****         KAL_TICK     ticks;
 2929              		.loc 1 1665 9 view .LVU830
1666:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR       err_os;
 2930              		.loc 1 1666 9 view .LVU831
1667:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR      err_lib;
 2931              		.loc 1 1667 9 view .LVU832
1668:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #if  ((OS_CFG_TMR_TASK_RATE_HZ         >= 1000u) && \
 2932              		.loc 1 1668 9 view .LVU833
1675:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                               &err_lib);
 2933              		.loc 1 1675 9 view .LVU834
1675:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                               &err_lib);
 2934              		.loc 1 1675 59 is_stmt 0 view .LVU835
 2935 0028 2D4B     		ldr	r3, .L282
 2936 002a 1868     		ldr	r0, [r3]
1675:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                               &err_lib);
 2937              		.loc 1 1675 29 view .LVU836
 2938 002c 0DF11601 		add	r1, sp, #22
 2939 0030 3C30     		adds	r0, r0, #60
 2940 0032 FFF7FEFF 		bl	Mem_DynPoolBlkGet
 2941              	.LVL298:
 2942 0036 8146     		mov	r9, r0
 2943              	.LVL299:
1677:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 2944              		.loc 1 1677 9 is_stmt 1 view .LVU837
1677:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
ARM GAS  /tmp/ccAqnR1x.s 			page 113


 2945              		.loc 1 1677 21 is_stmt 0 view .LVU838
 2946 0038 BDF81620 		ldrh	r2, [sp, #22]
1677:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 2947              		.loc 1 1677 12 view .LVU839
 2948 003c 42F21073 		movw	r3, #10000
 2949 0040 9A42     		cmp	r2, r3
 2950 0042 14D0     		beq	.L270
1678:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2951              		.loc 1 1678 12 is_stmt 1 view .LVU840
1678:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2952              		.loc 1 1678 19 is_stmt 0 view .LVU841
 2953 0044 0823     		movs	r3, #8
 2954 0046 3B70     		strb	r3, [r7]
1679:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2955              		.loc 1 1679 13 is_stmt 1 view .LVU842
 2956              	.LVL300:
1679:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2957              		.loc 1 1679 20 is_stmt 0 view .LVU843
 2958 0048 3046     		mov	r0, r6
 2959              	.LVL301:
1679:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2960              		.loc 1 1679 20 view .LVU844
 2961 004a 09E0     		b	.L267
 2962              	.LVL302:
 2963              	.L278:
1679:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2964              		.loc 1 1679 20 view .LVU845
 2965              	.LBE25:
1639:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2966              		.loc 1 1639 13 is_stmt 1 view .LVU846
1639:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2967              		.loc 1 1639 13 view .LVU847
 2968 004c FFF7FEFF 		bl	CPU_SW_Exception
 2969              	.LVL303:
1639:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2970              		.loc 1 1639 13 is_stmt 0 view .LVU848
 2971 0050 E1E7     		b	.L265
 2972              	.L279:
1643:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2973              		.loc 1 1643 12 is_stmt 1 view .LVU849
1643:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2974              		.loc 1 1643 19 is_stmt 0 view .LVU850
 2975 0052 0423     		movs	r3, #4
 2976 0054 3B70     		strb	r3, [r7]
1644:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2977              		.loc 1 1644 13 is_stmt 1 view .LVU851
 2978              	.LVL304:
1644:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2979              		.loc 1 1644 20 is_stmt 0 view .LVU852
 2980 0056 3046     		mov	r0, r6
 2981 0058 02E0     		b	.L267
 2982              	.LVL305:
 2983              	.L280:
1648:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2984              		.loc 1 1648 12 is_stmt 1 view .LVU853
1648:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 2985              		.loc 1 1648 19 is_stmt 0 view .LVU854
ARM GAS  /tmp/ccAqnR1x.s 			page 114


 2986 005a 0323     		movs	r3, #3
 2987 005c 3B70     		strb	r3, [r7]
1649:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2988              		.loc 1 1649 13 is_stmt 1 view .LVU855
 2989              	.LVL306:
1649:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 2990              		.loc 1 1649 20 is_stmt 0 view .LVU856
 2991 005e 3046     		mov	r0, r6
 2992              	.LVL307:
 2993              	.L267:
1739:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 2994              		.loc 1 1739 1 discriminator 1 view .LVU857
 2995 0060 07B0     		add	sp, sp, #28
 2996              	.LCFI59:
 2997              		.cfi_remember_state
 2998              		.cfi_def_cfa_offset 36
 2999              		@ sp needed
 3000 0062 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3001              	.LVL308:
 3002              	.L281:
 3003              	.LCFI60:
 3004              		.cfi_restore_state
1654:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 return (handle);
 3005              		.loc 1 1654 16 is_stmt 1 view .LVU858
1654:rtos/uC-Common/KAL/uCOS-III/kal.c ****                 return (handle);
 3006              		.loc 1 1654 23 is_stmt 0 view .LVU859
 3007 0066 0323     		movs	r3, #3
 3008 0068 3B70     		strb	r3, [r7]
1655:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 3009              		.loc 1 1655 17 is_stmt 1 view .LVU860
 3010              	.LVL309:
1655:rtos/uC-Common/KAL/uCOS-III/kal.c ****             }
 3011              		.loc 1 1655 24 is_stmt 0 view .LVU861
 3012 006a 3046     		mov	r0, r6
 3013 006c F8E7     		b	.L267
 3014              	.LVL310:
 3015              	.L270:
 3016              	.LBB26:
1682:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_tmr->CallbackArg  = p_callback_arg;
 3017              		.loc 1 1682 9 is_stmt 1 view .LVU862
1682:rtos/uC-Common/KAL/uCOS-III/kal.c ****         p_tmr->CallbackArg  = p_callback_arg;
 3018              		.loc 1 1682 29 is_stmt 0 view .LVU863
 3019 006e C0F824A0 		str	r10, [r0, #36]
1683:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Calc nbr of tmr ticks (rounded u
 3020              		.loc 1 1683 9 is_stmt 1 view .LVU864
1683:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                                 /* Calc nbr of tmr ticks (rounded u
 3021              		.loc 1 1683 29 is_stmt 0 view .LVU865
 3022 0072 C0F828B0 		str	fp, [r0, #40]
1691:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #else                                                   /* General formula.                
 3023              		.loc 1 1691 13 is_stmt 1 view .LVU866
1691:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #else                                                   /* General formula.                
 3024              		.loc 1 1691 36 is_stmt 0 view .LVU867
 3025 0076 04F16302 		add	r2, r4, #99
1691:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #else                                                   /* General formula.                
 3026              		.loc 1 1691 19 view .LVU868
 3027 007a 1A4C     		ldr	r4, .L282+4
 3028              	.LVL311:
ARM GAS  /tmp/ccAqnR1x.s 			page 115


1691:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #else                                                   /* General formula.                
 3029              		.loc 1 1691 19 view .LVU869
 3030 007c A4FB0232 		umull	r3, r2, r4, r2
 3031              	.LVL312:
1691:rtos/uC-Common/KAL/uCOS-III/kal.c ****         #else                                                   /* General formula.                
 3032              		.loc 1 1691 19 view .LVU870
 3033 0080 5209     		lsrs	r2, r2, #5
 3034              	.LVL313:
1696:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_TMR_PERIODIC) == DEF_YES)) {
 3035              		.loc 1 1696 9 is_stmt 1 view .LVU871
1696:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_TMR_PERIODIC) == DEF_YES)) {
 3036              		.loc 1 1696 12 is_stmt 0 view .LVU872
 3037 0082 BDB1     		cbz	r5, .L275
1697:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os     = OS_OPT_TMR_PERIODIC;
 3038              		.loc 1 1697 14 discriminator 1 view .LVU873
 3039 0084 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
1696:rtos/uC-Common/KAL/uCOS-III/kal.c ****             (DEF_BIT_IS_SET(p_cfg->Opt, KAL_OPT_TMR_PERIODIC) == DEF_YES)) {
 3040              		.loc 1 1696 76 discriminator 1 view .LVU874
 3041 0086 13F0010F 		tst	r3, #1
 3042 008a 16D1     		bne	.L276
1702:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_dly    = ticks;
 3043              		.loc 1 1702 24 view .LVU875
 3044 008c 0121     		movs	r1, #1
1704:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3045              		.loc 1 1704 24 view .LVU876
 3046 008e 0023     		movs	r3, #0
 3047              	.LVL314:
 3048              	.L272:
1707:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (CPU_CHAR *)p_name,
 3049              		.loc 1 1707 9 is_stmt 1 view .LVU877
 3050 0090 05A8     		add	r0, sp, #20
 3051              	.LVL315:
1707:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (CPU_CHAR *)p_name,
 3052              		.loc 1 1707 9 is_stmt 0 view .LVU878
 3053 0092 0390     		str	r0, [sp, #12]
 3054 0094 CDF80890 		str	r9, [sp, #8]
 3055 0098 1348     		ldr	r0, .L282+8
 3056 009a 0190     		str	r0, [sp, #4]
 3057 009c 0091     		str	r1, [sp]
 3058 009e 4146     		mov	r1, r8
 3059              	.LVL316:
1707:rtos/uC-Common/KAL/uCOS-III/kal.c ****                     (CPU_CHAR *)p_name,
 3060              		.loc 1 1707 9 view .LVU879
 3061 00a0 4846     		mov	r0, r9
 3062 00a2 FFF7FEFF 		bl	OSTmrCreate
 3063              	.LVL317:
1715:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TmrObjPtr = p_tmr;
 3064              		.loc 1 1715 9 is_stmt 1 view .LVU880
1715:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TmrObjPtr = p_tmr;
 3065              		.loc 1 1715 20 is_stmt 0 view .LVU881
 3066 00a6 BDF81430 		ldrh	r3, [sp, #20]
1715:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TmrObjPtr = p_tmr;
 3067              		.loc 1 1715 12 view .LVU882
 3068 00aa 53B9     		cbnz	r3, .L273
1716:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err            = RTOS_ERR_NONE;
 3069              		.loc 1 1716 13 is_stmt 1 view .LVU883
1716:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err            = RTOS_ERR_NONE;
ARM GAS  /tmp/ccAqnR1x.s 			page 116


 3070              		.loc 1 1716 30 is_stmt 0 view .LVU884
 3071 00ac 4E46     		mov	r6, r9
1717:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3072              		.loc 1 1717 12 is_stmt 1 view .LVU885
1717:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3073              		.loc 1 1717 30 is_stmt 0 view .LVU886
 3074 00ae 3B70     		strb	r3, [r7]
 3075              	.L274:
1726:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3076              		.loc 1 1726 9 is_stmt 1 view .LVU887
 3077              	.LVL318:
1726:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3078              		.loc 1 1726 16 is_stmt 0 view .LVU888
 3079 00b0 3046     		mov	r0, r6
 3080 00b2 D5E7     		b	.L267
 3081              	.LVL319:
 3082              	.L275:
1702:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_dly    = ticks;
 3083              		.loc 1 1702 24 view .LVU889
 3084 00b4 0121     		movs	r1, #1
1704:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3085              		.loc 1 1704 24 view .LVU890
 3086 00b6 0023     		movs	r3, #0
 3087 00b8 EAE7     		b	.L272
 3088              	.L276:
1700:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3089              		.loc 1 1700 24 view .LVU891
 3090 00ba 1346     		mov	r3, r2
1698:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_dly    = 0u;
 3091              		.loc 1 1698 24 view .LVU892
 3092 00bc 0221     		movs	r1, #2
1699:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_period = ticks;
 3093              		.loc 1 1699 24 view .LVU893
 3094 00be 0022     		movs	r2, #0
 3095              	.LVL320:
1699:rtos/uC-Common/KAL/uCOS-III/kal.c ****             tmr_period = ticks;
 3096              		.loc 1 1699 24 view .LVU894
 3097 00c0 E6E7     		b	.L272
 3098              	.LVL321:
 3099              	.L273:
1719:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 p_tmr,
 3100              		.loc 1 1719 13 is_stmt 1 view .LVU895
1719:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 p_tmr,
 3101              		.loc 1 1719 44 is_stmt 0 view .LVU896
 3102 00c2 074B     		ldr	r3, .L282
 3103 00c4 1868     		ldr	r0, [r3]
1719:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 p_tmr,
 3104              		.loc 1 1719 13 view .LVU897
 3105 00c6 0DF11602 		add	r2, sp, #22
 3106 00ca 4946     		mov	r1, r9
 3107 00cc 3C30     		adds	r0, r0, #60
 3108 00ce FFF7FEFF 		bl	Mem_DynPoolBlkFree
 3109              	.LVL322:
1722:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 3110              		.loc 1 1722 13 is_stmt 1 view .LVU898
1723:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3111              		.loc 1 1723 12 view .LVU899
ARM GAS  /tmp/ccAqnR1x.s 			page 117


1723:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3112              		.loc 1 1723 21 is_stmt 0 view .LVU900
 3113 00d2 BDF81400 		ldrh	r0, [sp, #20]
 3114 00d6 FFF7FEFF 		bl	KAL_ErrConvert
 3115              	.LVL323:
1723:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3116              		.loc 1 1723 19 view .LVU901
 3117 00da 3870     		strb	r0, [r7]
 3118 00dc E8E7     		b	.L274
 3119              	.L283:
 3120 00de 00BF     		.align	2
 3121              	.L282:
 3122 00e0 00000000 		.word	.LANCHOR2
 3123 00e4 1F85EB51 		.word	1374389535
 3124 00e8 00000000 		.word	KAL_TmrFnctWrapper
 3125              	.LBE26:
 3126              		.cfi_endproc
 3127              	.LFE15:
 3129              		.section	.text.KAL_TmrStart,"ax",%progbits
 3130              		.align	1
 3131              		.global	KAL_TmrStart
 3132              		.syntax unified
 3133              		.thumb
 3134              		.thumb_func
 3135              		.fpu fpv4-sp-d16
 3137              	KAL_TmrStart:
 3138              	.LVL324:
 3139              	.LFB16:
1766:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3140              		.loc 1 1766 1 is_stmt 1 view -0
 3141              		.cfi_startproc
 3142              		@ args = 0, pretend = 0, frame = 8
 3143              		@ frame_needed = 0, uses_anonymous_args = 0
1766:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3144              		.loc 1 1766 1 is_stmt 0 view .LVU903
 3145 0000 30B5     		push	{r4, r5, lr}
 3146              	.LCFI61:
 3147              		.cfi_def_cfa_offset 12
 3148              		.cfi_offset 4, -12
 3149              		.cfi_offset 5, -8
 3150              		.cfi_offset 14, -4
 3151 0002 83B0     		sub	sp, sp, #12
 3152              	.LCFI62:
 3153              		.cfi_def_cfa_offset 24
 3154 0004 0446     		mov	r4, r0
 3155              	.LVL325:
1768:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 3156              		.loc 1 1768 9 is_stmt 1 view .LVU904
1768:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 3157              		.loc 1 1768 12 is_stmt 0 view .LVU905
 3158 0006 0D46     		mov	r5, r1
 3159 0008 61B1     		cbz	r1, .L291
 3160              	.LVL326:
 3161              	.L285:
1769:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3162              		.loc 1 1769 13 is_stmt 1 discriminator 1 view .LVU906
1772:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
ARM GAS  /tmp/ccAqnR1x.s 			page 118


 3163              		.loc 1 1772 9 discriminator 1 view .LVU907
1772:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3164              		.loc 1 1772 12 is_stmt 0 discriminator 1 view .LVU908
 3165 000a 74B1     		cbz	r4, .L292
 3166              	.LBB27:
1780:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR    err_os;
 3167              		.loc 1 1780 9 is_stmt 1 view .LVU909
1781:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3168              		.loc 1 1781 9 view .LVU910
1784:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3169              		.loc 1 1784 9 view .LVU911
 3170              	.LVL327:
1786:rtos/uC-Common/KAL/uCOS-III/kal.c ****                    &err_os);
 3171              		.loc 1 1786 9 view .LVU912
 3172 000c 0DF10601 		add	r1, sp, #6
 3173 0010 2046     		mov	r0, r4
 3174 0012 FFF7FEFF 		bl	OSTmrStart
 3175              	.LVL328:
1788:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3176              		.loc 1 1788 9 view .LVU913
1788:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3177              		.loc 1 1788 20 is_stmt 0 view .LVU914
 3178 0016 BDF80600 		ldrh	r0, [sp, #6]
1788:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3179              		.loc 1 1788 12 view .LVU915
 3180 001a 48B9     		cbnz	r0, .L288
1789:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3181              		.loc 1 1789 12 is_stmt 1 view .LVU916
1789:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3182              		.loc 1 1789 19 is_stmt 0 view .LVU917
 3183 001c 0023     		movs	r3, #0
 3184 001e 2B70     		strb	r3, [r5]
 3185              	.LVL329:
 3186              	.L284:
1789:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3187              		.loc 1 1789 19 view .LVU918
 3188              	.LBE27:
1803:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3189              		.loc 1 1803 1 view .LVU919
 3190 0020 03B0     		add	sp, sp, #12
 3191              	.LCFI63:
 3192              		.cfi_remember_state
 3193              		.cfi_def_cfa_offset 12
 3194              		@ sp needed
 3195 0022 30BD     		pop	{r4, r5, pc}
 3196              	.LVL330:
 3197              	.L291:
 3198              	.LCFI64:
 3199              		.cfi_restore_state
1769:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3200              		.loc 1 1769 13 is_stmt 1 view .LVU920
1769:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3201              		.loc 1 1769 13 view .LVU921
 3202 0024 FFF7FEFF 		bl	CPU_SW_Exception
 3203              	.LVL331:
1769:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3204              		.loc 1 1769 13 is_stmt 0 view .LVU922
ARM GAS  /tmp/ccAqnR1x.s 			page 119


 3205 0028 EFE7     		b	.L285
 3206              	.LVL332:
 3207              	.L292:
1773:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 3208              		.loc 1 1773 12 is_stmt 1 view .LVU923
1773:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 3209              		.loc 1 1773 19 is_stmt 0 view .LVU924
 3210 002a 0423     		movs	r3, #4
 3211 002c 2B70     		strb	r3, [r5]
1774:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3212              		.loc 1 1774 13 is_stmt 1 view .LVU925
 3213 002e F7E7     		b	.L284
 3214              	.LVL333:
 3215              	.L288:
 3216              	.LBB28:
1791:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3217              		.loc 1 1791 12 view .LVU926
1791:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3218              		.loc 1 1791 21 is_stmt 0 view .LVU927
 3219 0030 FFF7FEFF 		bl	KAL_ErrConvert
 3220              	.LVL334:
1791:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3221              		.loc 1 1791 19 view .LVU928
 3222 0034 2870     		strb	r0, [r5]
1794:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3223              		.loc 1 1794 9 is_stmt 1 view .LVU929
 3224 0036 F3E7     		b	.L284
 3225              	.LBE28:
 3226              		.cfi_endproc
 3227              	.LFE16:
 3229              		.section	.rodata.KAL_QCreate.str1.4,"aMS",%progbits,1
 3230              		.align	2
 3231              	.LC7:
 3232 0000 4B414C20 		.ascii	"KAL Q\000"
 3232      5100
 3233              		.section	.text.KAL_QCreate,"ax",%progbits
 3234              		.align	1
 3235              		.global	KAL_QCreate
 3236              		.syntax unified
 3237              		.thumb
 3238              		.thumb_func
 3239              		.fpu fpv4-sp-d16
 3241              	KAL_QCreate:
 3242              	.LVL335:
 3243              	.LFB17:
1843:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_Q_HANDLE  handle = KAL_QHandleNull;
 3244              		.loc 1 1843 1 view -0
 3245              		.cfi_startproc
 3246              		@ args = 0, pretend = 0, frame = 8
 3247              		@ frame_needed = 0, uses_anonymous_args = 0
1843:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_Q_HANDLE  handle = KAL_QHandleNull;
 3248              		.loc 1 1843 1 is_stmt 0 view .LVU931
 3249 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3250              	.LCFI65:
 3251              		.cfi_def_cfa_offset 24
 3252              		.cfi_offset 4, -24
 3253              		.cfi_offset 5, -20
ARM GAS  /tmp/ccAqnR1x.s 			page 120


 3254              		.cfi_offset 6, -16
 3255              		.cfi_offset 7, -12
 3256              		.cfi_offset 8, -8
 3257              		.cfi_offset 14, -4
 3258 0004 82B0     		sub	sp, sp, #8
 3259              	.LCFI66:
 3260              		.cfi_def_cfa_offset 32
 3261 0006 0746     		mov	r7, r0
 3262 0008 0E46     		mov	r6, r1
 3263 000a 1546     		mov	r5, r2
1844:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3264              		.loc 1 1844 5 is_stmt 1 view .LVU932
1844:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3265              		.loc 1 1844 19 is_stmt 0 view .LVU933
 3266 000c 0024     		movs	r4, #0
 3267              	.LVL336:
1848:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 3268              		.loc 1 1848 9 is_stmt 1 view .LVU934
1848:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 3269              		.loc 1 1848 12 is_stmt 0 view .LVU935
 3270 000e 9846     		mov	r8, r3
 3271 0010 3BB1     		cbz	r3, .L302
 3272              	.LVL337:
 3273              	.L294:
1849:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3274              		.loc 1 1849 13 is_stmt 1 discriminator 1 view .LVU936
1852:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 3275              		.loc 1 1852 9 discriminator 1 view .LVU937
1852:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 3276              		.loc 1 1852 12 is_stmt 0 discriminator 1 view .LVU938
 3277 0012 4DB1     		cbz	r5, .L295
1853:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3278              		.loc 1 1853 12 is_stmt 1 view .LVU939
1853:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3279              		.loc 1 1853 19 is_stmt 0 view .LVU940
 3280 0014 0223     		movs	r3, #2
 3281 0016 88F80030 		strb	r3, [r8]
1854:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3282              		.loc 1 1854 13 is_stmt 1 view .LVU941
 3283              	.LVL338:
1854:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3284              		.loc 1 1854 20 is_stmt 0 view .LVU942
 3285 001a 2046     		mov	r0, r4
 3286              	.LVL339:
 3287              	.L296:
1897:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3288              		.loc 1 1897 1 discriminator 1 view .LVU943
 3289 001c 02B0     		add	sp, sp, #8
 3290              	.LCFI67:
 3291              		.cfi_remember_state
 3292              		.cfi_def_cfa_offset 24
 3293              		@ sp needed
 3294 001e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3295              	.LVL340:
 3296              	.L302:
 3297              	.LCFI68:
 3298              		.cfi_restore_state
ARM GAS  /tmp/ccAqnR1x.s 			page 121


1849:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3299              		.loc 1 1849 13 is_stmt 1 view .LVU944
1849:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3300              		.loc 1 1849 13 view .LVU945
 3301 0022 FFF7FEFF 		bl	CPU_SW_Exception
 3302              	.LVL341:
1849:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3303              		.loc 1 1849 13 is_stmt 0 view .LVU946
 3304 0026 F4E7     		b	.L294
 3305              	.L295:
 3306              	.LBB29:
1862:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR   err_lib;
 3307              		.loc 1 1862 9 is_stmt 1 view .LVU947
1863:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR    err_os;
 3308              		.loc 1 1863 9 view .LVU948
1864:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3309              		.loc 1 1864 9 view .LVU949
1867:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                     KAL_DataPtr->MemSegPtr,
 3310              		.loc 1 1867 9 view .LVU950
1868:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                     sizeof(OS_Q),
 3311              		.loc 1 1868 48 is_stmt 0 view .LVU951
 3312 0028 134B     		ldr	r3, .L303
 3313 002a 1968     		ldr	r1, [r3]
1867:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                     KAL_DataPtr->MemSegPtr,
 3314              		.loc 1 1867 23 view .LVU952
 3315 002c 01AB     		add	r3, sp, #4
 3316 002e 1822     		movs	r2, #24
 3317 0030 0968     		ldr	r1, [r1]
 3318 0032 1248     		ldr	r0, .L303+4
 3319 0034 FFF7FEFF 		bl	Mem_SegAlloc
 3320              	.LVL342:
 3321 0038 0546     		mov	r5, r0
 3322              	.LVL343:
1871:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 3323              		.loc 1 1871 9 is_stmt 1 view .LVU953
1871:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 3324              		.loc 1 1871 21 is_stmt 0 view .LVU954
 3325 003a BDF80420 		ldrh	r2, [sp, #4]
1871:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 3326              		.loc 1 1871 12 view .LVU955
 3327 003e 42F21073 		movw	r3, #10000
 3328 0042 9A42     		cmp	r2, r3
 3329 0044 04D0     		beq	.L297
1872:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3330              		.loc 1 1872 12 is_stmt 1 view .LVU956
1872:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3331              		.loc 1 1872 19 is_stmt 0 view .LVU957
 3332 0046 0823     		movs	r3, #8
 3333 0048 88F80030 		strb	r3, [r8]
1873:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3334              		.loc 1 1873 13 is_stmt 1 view .LVU958
 3335              	.LVL344:
1873:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3336              		.loc 1 1873 20 is_stmt 0 view .LVU959
 3337 004c 2046     		mov	r0, r4
 3338              	.LVL345:
1873:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
ARM GAS  /tmp/ccAqnR1x.s 			page 122


 3339              		.loc 1 1873 20 view .LVU960
 3340 004e E5E7     		b	.L296
 3341              	.LVL346:
 3342              	.L297:
1876:rtos/uC-Common/KAL/uCOS-III/kal.c ****                   (CPU_CHAR *)p_name,
 3343              		.loc 1 1876 9 is_stmt 1 view .LVU961
 3344 0050 0DF10603 		add	r3, sp, #6
 3345 0054 3246     		mov	r2, r6
 3346 0056 3946     		mov	r1, r7
 3347 0058 FFF7FEFF 		bl	OSQCreate
 3348              	.LVL347:
1880:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.QObjPtr = (void *)p_q;
 3349              		.loc 1 1880 9 view .LVU962
1880:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.QObjPtr = (void *)p_q;
 3350              		.loc 1 1880 20 is_stmt 0 view .LVU963
 3351 005c BDF80600 		ldrh	r0, [sp, #6]
1880:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.QObjPtr = (void *)p_q;
 3352              		.loc 1 1880 12 view .LVU964
 3353 0060 28B9     		cbnz	r0, .L299
1881:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err          =  RTOS_ERR_NONE;
 3354              		.loc 1 1881 13 is_stmt 1 view .LVU965
1881:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err          =  RTOS_ERR_NONE;
 3355              		.loc 1 1881 28 is_stmt 0 view .LVU966
 3356 0062 2C46     		mov	r4, r5
1882:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3357              		.loc 1 1882 12 is_stmt 1 view .LVU967
1882:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3358              		.loc 1 1882 28 is_stmt 0 view .LVU968
 3359 0064 0023     		movs	r3, #0
 3360 0066 88F80030 		strb	r3, [r8]
 3361              	.L300:
1887:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3362              		.loc 1 1887 9 is_stmt 1 view .LVU969
 3363              	.LVL348:
1887:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3364              		.loc 1 1887 16 is_stmt 0 view .LVU970
 3365 006a 2046     		mov	r0, r4
 3366 006c D6E7     		b	.L296
 3367              	.LVL349:
 3368              	.L299:
1884:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3369              		.loc 1 1884 12 is_stmt 1 view .LVU971
1884:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3370              		.loc 1 1884 21 is_stmt 0 view .LVU972
 3371 006e FFF7FEFF 		bl	KAL_ErrConvert
 3372              	.LVL350:
1884:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3373              		.loc 1 1884 19 view .LVU973
 3374 0072 88F80000 		strb	r0, [r8]
 3375 0076 F8E7     		b	.L300
 3376              	.L304:
 3377              		.align	2
 3378              	.L303:
 3379 0078 00000000 		.word	.LANCHOR2
 3380 007c 00000000 		.word	.LC7
 3381              	.LBE29:
 3382              		.cfi_endproc
ARM GAS  /tmp/ccAqnR1x.s 			page 123


 3383              	.LFE17:
 3385              		.section	.text.KAL_QPend,"ax",%progbits
 3386              		.align	1
 3387              		.global	KAL_QPend
 3388              		.syntax unified
 3389              		.thumb
 3390              		.thumb_func
 3391              		.fpu fpv4-sp-d16
 3393              	KAL_QPend:
 3394              	.LVL351:
 3395              	.LFB18:
1940:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3396              		.loc 1 1940 1 is_stmt 1 view -0
 3397              		.cfi_startproc
 3398              		@ args = 0, pretend = 0, frame = 8
 3399              		@ frame_needed = 0, uses_anonymous_args = 0
1940:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3400              		.loc 1 1940 1 is_stmt 0 view .LVU975
 3401 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3402              	.LCFI69:
 3403              		.cfi_def_cfa_offset 24
 3404              		.cfi_offset 4, -24
 3405              		.cfi_offset 5, -20
 3406              		.cfi_offset 6, -16
 3407              		.cfi_offset 7, -12
 3408              		.cfi_offset 8, -8
 3409              		.cfi_offset 14, -4
 3410 0004 84B0     		sub	sp, sp, #16
 3411              	.LCFI70:
 3412              		.cfi_def_cfa_offset 40
 3413 0006 0746     		mov	r7, r0
 3414              	.LVL352:
1940:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3415              		.loc 1 1940 1 view .LVU976
 3416 0008 0D46     		mov	r5, r1
 3417 000a 1446     		mov	r4, r2
1942:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(DEF_NULL);
 3418              		.loc 1 1942 9 is_stmt 1 view .LVU977
1942:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(DEF_NULL);
 3419              		.loc 1 1942 12 is_stmt 0 view .LVU978
 3420 000c 9846     		mov	r8, r3
 3421 000e 13B3     		cbz	r3, .L316
 3422              	.LVL353:
 3423              	.L306:
1943:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3424              		.loc 1 1943 13 is_stmt 1 discriminator 1 view .LVU979
1946:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3425              		.loc 1 1946 9 discriminator 1 view .LVU980
1946:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3426              		.loc 1 1946 13 is_stmt 0 discriminator 1 view .LVU981
 3427 0010 3E46     		mov	r6, r7
1946:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3428              		.loc 1 1946 12 discriminator 1 view .LVU982
 3429 0012 1FB3     		cbz	r7, .L317
1951:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 3430              		.loc 1 1951 9 is_stmt 1 view .LVU983
1951:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
ARM GAS  /tmp/ccAqnR1x.s 			page 124


 3431              		.loc 1 1951 12 is_stmt 0 view .LVU984
 3432 0014 35F00103 		bics	r3, r5, #1
 3433 0018 24D1     		bne	.L318
 3434              	.LBB30:
1959:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U    timeout_ticks;
 3435              		.loc 1 1959 9 is_stmt 1 view .LVU985
1960:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_MSG_SIZE   msg_size;
 3436              		.loc 1 1960 9 view .LVU986
1961:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_OPT        opt_os;
 3437              		.loc 1 1961 9 view .LVU987
1962:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR        err_os;
 3438              		.loc 1 1962 9 view .LVU988
1963:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3439              		.loc 1 1963 9 view .LVU989
1966:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
 3440              		.loc 1 1966 9 view .LVU990
1966:rtos/uC-Common/KAL/uCOS-III/kal.c ****             timeout_ticks = KAL_msToTicks(timeout_ms);
 3441              		.loc 1 1966 12 is_stmt 0 view .LVU991
 3442 001a 1CB1     		cbz	r4, .L310
1967:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3443              		.loc 1 1967 13 is_stmt 1 view .LVU992
1967:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3444              		.loc 1 1967 29 is_stmt 0 view .LVU993
 3445 001c 2046     		mov	r0, r4
 3446 001e FFF7FEFF 		bl	KAL_msToTicks
 3447              	.LVL354:
 3448 0022 0446     		mov	r4, r0
 3449              	.LVL355:
 3450              	.L310:
1972:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (DEF_BIT_IS_CLR(opt, KAL_OPT_PEND_NON_BLOCKING) == DEF_YES) {
 3451              		.loc 1 1972 9 is_stmt 1 view .LVU994
1973:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
 3452              		.loc 1 1973 9 view .LVU995
1973:rtos/uC-Common/KAL/uCOS-III/kal.c ****             opt_os |= OS_OPT_PEND_BLOCKING;
 3453              		.loc 1 1973 12 is_stmt 0 view .LVU996
 3454 0024 15F0010F 		tst	r5, #1
 3455 0028 21D1     		bne	.L314
1974:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3456              		.loc 1 1974 20 view .LVU997
 3457 002a 0022     		movs	r2, #0
 3458              	.L311:
 3459              	.LVL356:
1979:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 timeout_ticks,
 3460              		.loc 1 1979 9 is_stmt 1 view .LVU998
1979:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 timeout_ticks,
 3461              		.loc 1 1979 17 is_stmt 0 view .LVU999
 3462 002c 0DF10E03 		add	r3, sp, #14
 3463 0030 0193     		str	r3, [sp, #4]
 3464 0032 0023     		movs	r3, #0
 3465 0034 0093     		str	r3, [sp]
 3466 0036 03AB     		add	r3, sp, #12
 3467 0038 2146     		mov	r1, r4
 3468 003a 3846     		mov	r0, r7
 3469 003c FFF7FEFF 		bl	OSQPend
 3470              	.LVL357:
1979:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                 timeout_ticks,
 3471              		.loc 1 1979 17 view .LVU1000
ARM GAS  /tmp/ccAqnR1x.s 			page 125


 3472 0040 0646     		mov	r6, r0
 3473              	.LVL358:
1985:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 3474              		.loc 1 1985 9 is_stmt 1 view .LVU1001
1986:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3475              		.loc 1 1986 9 view .LVU1002
1986:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3476              		.loc 1 1986 20 is_stmt 0 view .LVU1003
 3477 0042 BDF80E00 		ldrh	r0, [sp, #14]
 3478              	.LVL359:
1986:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3479              		.loc 1 1986 12 view .LVU1004
 3480 0046 A8B9     		cbnz	r0, .L312
1987:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3481              		.loc 1 1987 12 is_stmt 1 view .LVU1005
1987:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3482              		.loc 1 1987 19 is_stmt 0 view .LVU1006
 3483 0048 0023     		movs	r3, #0
 3484 004a 88F80030 		strb	r3, [r8]
 3485              	.LVL360:
 3486              	.L305:
1987:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3487              		.loc 1 1987 19 view .LVU1007
 3488              	.LBE30:
2003:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3489              		.loc 1 2003 1 view .LVU1008
 3490 004e 3046     		mov	r0, r6
 3491 0050 04B0     		add	sp, sp, #16
 3492              	.LCFI71:
 3493              		.cfi_remember_state
 3494              		.cfi_def_cfa_offset 24
 3495              		@ sp needed
 3496 0052 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3497              	.LVL361:
 3498              	.L316:
 3499              	.LCFI72:
 3500              		.cfi_restore_state
1943:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3501              		.loc 1 1943 13 is_stmt 1 view .LVU1009
1943:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3502              		.loc 1 1943 13 view .LVU1010
 3503 0056 FFF7FEFF 		bl	CPU_SW_Exception
 3504              	.LVL362:
1943:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3505              		.loc 1 1943 13 is_stmt 0 view .LVU1011
 3506 005a D9E7     		b	.L306
 3507              	.LVL363:
 3508              	.L317:
1947:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (DEF_NULL);
 3509              		.loc 1 1947 12 is_stmt 1 view .LVU1012
1947:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (DEF_NULL);
 3510              		.loc 1 1947 19 is_stmt 0 view .LVU1013
 3511 005c 0423     		movs	r3, #4
 3512 005e 88F80030 		strb	r3, [r8]
1948:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3513              		.loc 1 1948 13 is_stmt 1 view .LVU1014
1948:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
ARM GAS  /tmp/ccAqnR1x.s 			page 126


 3514              		.loc 1 1948 20 is_stmt 0 view .LVU1015
 3515 0062 F4E7     		b	.L305
 3516              	.L318:
1952:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (DEF_NULL);
 3517              		.loc 1 1952 12 is_stmt 1 view .LVU1016
1952:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (DEF_NULL);
 3518              		.loc 1 1952 19 is_stmt 0 view .LVU1017
 3519 0064 0323     		movs	r3, #3
 3520 0066 88F80030 		strb	r3, [r8]
1953:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3521              		.loc 1 1953 13 is_stmt 1 view .LVU1018
1953:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3522              		.loc 1 1953 20 is_stmt 0 view .LVU1019
 3523 006a 0026     		movs	r6, #0
 3524 006c EFE7     		b	.L305
 3525              	.LVL364:
 3526              	.L314:
 3527              	.LBB31:
1976:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3528              		.loc 1 1976 20 view .LVU1020
 3529 006e 4FF40042 		mov	r2, #32768
 3530 0072 DBE7     		b	.L311
 3531              	.LVL365:
 3532              	.L312:
1989:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3533              		.loc 1 1989 12 is_stmt 1 view .LVU1021
1989:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3534              		.loc 1 1989 21 is_stmt 0 view .LVU1022
 3535 0074 FFF7FEFF 		bl	KAL_ErrConvert
 3536              	.LVL366:
1989:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3537              		.loc 1 1989 19 view .LVU1023
 3538 0078 88F80000 		strb	r0, [r8]
1992:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3539              		.loc 1 1992 9 is_stmt 1 view .LVU1024
 3540 007c E7E7     		b	.L305
 3541              	.LBE31:
 3542              		.cfi_endproc
 3543              	.LFE18:
 3545              		.section	.text.KAL_QPost,"ax",%progbits
 3546              		.align	1
 3547              		.global	KAL_QPost
 3548              		.syntax unified
 3549              		.thumb
 3550              		.thumb_func
 3551              		.fpu fpv4-sp-d16
 3553              	KAL_QPost:
 3554              	.LVL367:
 3555              	.LFB19:
2038:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3556              		.loc 1 2038 1 view -0
 3557              		.cfi_startproc
 3558              		@ args = 0, pretend = 0, frame = 8
 3559              		@ frame_needed = 0, uses_anonymous_args = 0
2038:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3560              		.loc 1 2038 1 is_stmt 0 view .LVU1026
 3561 0000 F0B5     		push	{r4, r5, r6, r7, lr}
ARM GAS  /tmp/ccAqnR1x.s 			page 127


 3562              	.LCFI73:
 3563              		.cfi_def_cfa_offset 20
 3564              		.cfi_offset 4, -20
 3565              		.cfi_offset 5, -16
 3566              		.cfi_offset 6, -12
 3567              		.cfi_offset 7, -8
 3568              		.cfi_offset 14, -4
 3569 0002 85B0     		sub	sp, sp, #20
 3570              	.LCFI74:
 3571              		.cfi_def_cfa_offset 40
 3572 0004 0446     		mov	r4, r0
 3573              	.LVL368:
2038:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3574              		.loc 1 2038 1 view .LVU1027
 3575 0006 0E46     		mov	r6, r1
 3576 0008 1546     		mov	r5, r2
2040:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 3577              		.loc 1 2040 9 is_stmt 1 view .LVU1028
2040:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 3578              		.loc 1 2040 12 is_stmt 0 view .LVU1029
 3579 000a 1F46     		mov	r7, r3
 3580 000c 2BB1     		cbz	r3, .L327
 3581              	.LVL369:
 3582              	.L320:
2041:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3583              		.loc 1 2041 13 is_stmt 1 discriminator 1 view .LVU1030
2044:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3584              		.loc 1 2044 9 discriminator 1 view .LVU1031
2044:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3585              		.loc 1 2044 12 is_stmt 0 discriminator 1 view .LVU1032
 3586 000e 3CB1     		cbz	r4, .L328
2049:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 3587              		.loc 1 2049 9 is_stmt 1 view .LVU1033
2049:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_INVALID_ARG;
 3588              		.loc 1 2049 12 is_stmt 0 view .LVU1034
 3589 0010 4DB1     		cbz	r5, .L323
2050:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 3590              		.loc 1 2050 12 is_stmt 1 view .LVU1035
2050:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 3591              		.loc 1 2050 19 is_stmt 0 view .LVU1036
 3592 0012 0323     		movs	r3, #3
 3593 0014 3B70     		strb	r3, [r7]
2051:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3594              		.loc 1 2051 13 is_stmt 1 view .LVU1037
 3595              	.L319:
2083:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3596              		.loc 1 2083 1 is_stmt 0 view .LVU1038
 3597 0016 05B0     		add	sp, sp, #20
 3598              	.LCFI75:
 3599              		.cfi_remember_state
 3600              		.cfi_def_cfa_offset 20
 3601              		@ sp needed
 3602 0018 F0BD     		pop	{r4, r5, r6, r7, pc}
 3603              	.LVL370:
 3604              	.L327:
 3605              	.LCFI76:
 3606              		.cfi_restore_state
ARM GAS  /tmp/ccAqnR1x.s 			page 128


2041:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3607              		.loc 1 2041 13 is_stmt 1 view .LVU1039
2041:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3608              		.loc 1 2041 13 view .LVU1040
 3609 001a FFF7FEFF 		bl	CPU_SW_Exception
 3610              	.LVL371:
2041:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3611              		.loc 1 2041 13 is_stmt 0 view .LVU1041
 3612 001e F6E7     		b	.L320
 3613              	.LVL372:
 3614              	.L328:
2045:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 3615              		.loc 1 2045 12 is_stmt 1 view .LVU1042
2045:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 3616              		.loc 1 2045 19 is_stmt 0 view .LVU1043
 3617 0020 0423     		movs	r3, #4
 3618 0022 3B70     		strb	r3, [r7]
2046:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3619              		.loc 1 2046 13 is_stmt 1 view .LVU1044
 3620 0024 F7E7     		b	.L319
 3621              	.L323:
 3622              	.LBB32:
2059:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3623              		.loc 1 2059 9 view .LVU1045
2062:rtos/uC-Common/KAL/uCOS-III/kal.c ****                         p_msg,
 3624              		.loc 1 2062 9 view .LVU1046
 3625 0026 0DF10E03 		add	r3, sp, #14
 3626 002a 0093     		str	r3, [sp]
 3627 002c 0023     		movs	r3, #0
 3628 002e 1A46     		mov	r2, r3
 3629 0030 3146     		mov	r1, r6
 3630 0032 2046     		mov	r0, r4
 3631 0034 FFF7FEFF 		bl	OSQPost
 3632              	.LVL373:
2067:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3633              		.loc 1 2067 9 view .LVU1047
2067:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3634              		.loc 1 2067 20 is_stmt 0 view .LVU1048
 3635 0038 BDF80E00 		ldrh	r0, [sp, #14]
2067:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 3636              		.loc 1 2067 12 view .LVU1049
 3637 003c 10B9     		cbnz	r0, .L324
2068:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3638              		.loc 1 2068 12 is_stmt 1 view .LVU1050
2068:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3639              		.loc 1 2068 19 is_stmt 0 view .LVU1051
 3640 003e 0023     		movs	r3, #0
 3641 0040 3B70     		strb	r3, [r7]
 3642 0042 E8E7     		b	.L319
 3643              	.L324:
2070:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3644              		.loc 1 2070 12 is_stmt 1 view .LVU1052
2070:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3645              		.loc 1 2070 21 is_stmt 0 view .LVU1053
 3646 0044 FFF7FEFF 		bl	KAL_ErrConvert
 3647              	.LVL374:
2070:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
ARM GAS  /tmp/ccAqnR1x.s 			page 129


 3648              		.loc 1 2070 19 view .LVU1054
 3649 0048 3870     		strb	r0, [r7]
2073:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3650              		.loc 1 2073 9 is_stmt 1 view .LVU1055
 3651 004a E4E7     		b	.L319
 3652              	.LBE32:
 3653              		.cfi_endproc
 3654              	.LFE19:
 3656              		.section	.text.KAL_Dly,"ax",%progbits
 3657              		.align	1
 3658              		.global	KAL_Dly
 3659              		.syntax unified
 3660              		.thumb
 3661              		.thumb_func
 3662              		.fpu fpv4-sp-d16
 3664              	KAL_Dly:
 3665              	.LVL375:
 3666              	.LFB20:
2107:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_INT32U  dly_ticks;
 3667              		.loc 1 2107 1 view -0
 3668              		.cfi_startproc
 3669              		@ args = 0, pretend = 0, frame = 8
 3670              		@ frame_needed = 0, uses_anonymous_args = 0
2107:rtos/uC-Common/KAL/uCOS-III/kal.c ****     CPU_INT32U  dly_ticks;
 3671              		.loc 1 2107 1 is_stmt 0 view .LVU1057
 3672 0000 00B5     		push	{lr}
 3673              	.LCFI77:
 3674              		.cfi_def_cfa_offset 4
 3675              		.cfi_offset 14, -4
 3676 0002 83B0     		sub	sp, sp, #12
 3677              	.LCFI78:
 3678              		.cfi_def_cfa_offset 16
2108:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR      err_os;
 3679              		.loc 1 2108 5 is_stmt 1 view .LVU1058
2109:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3680              		.loc 1 2109 5 view .LVU1059
2112:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3681              		.loc 1 2112 5 view .LVU1060
2112:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3682              		.loc 1 2112 17 is_stmt 0 view .LVU1061
 3683 0004 FFF7FEFF 		bl	KAL_msToTicks
 3684              	.LVL376:
2114:rtos/uC-Common/KAL/uCOS-III/kal.c ****               OS_OPT_TIME_DLY,
 3685              		.loc 1 2114 5 is_stmt 1 view .LVU1062
 3686 0008 0DF10602 		add	r2, sp, #6
 3687 000c 0021     		movs	r1, #0
 3688 000e FFF7FEFF 		bl	OSTimeDly
 3689              	.LVL377:
2118:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_NONE:
 3690              		.loc 1 2118 9 view .LVU1063
 3691 0012 BDF80630 		ldrh	r3, [sp, #6]
 3692 0016 1BB1     		cbz	r3, .L329
 3693 0018 47F27E22 		movw	r2, #29310
 3694 001c 9342     		cmp	r3, r2
 3695 001e 02D1     		bne	.L332
 3696              	.L329:
2135:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
ARM GAS  /tmp/ccAqnR1x.s 			page 130


 3697              		.loc 1 2135 1 is_stmt 0 view .LVU1064
 3698 0020 03B0     		add	sp, sp, #12
 3699              	.LCFI79:
 3700              		.cfi_remember_state
 3701              		.cfi_def_cfa_offset 4
 3702              		@ sp needed
 3703 0022 5DF804FB 		ldr	pc, [sp], #4
 3704              	.L332:
 3705              	.LCFI80:
 3706              		.cfi_restore_state
2127:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
 3707              		.loc 1 2127 18 is_stmt 1 view .LVU1065
2127:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
 3708              		.loc 1 2127 18 view .LVU1066
 3709 0026 FFF7FEFF 		bl	CPU_SW_Exception
 3710              	.LVL378:
2127:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
 3711              		.loc 1 2127 18 view .LVU1067
2128:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3712              		.loc 1 2128 18 view .LVU1068
2134:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 3713              		.loc 1 2134 5 view .LVU1069
 3714 002a F9E7     		b	.L329
 3715              		.cfi_endproc
 3716              	.LFE20:
 3718              		.section	.text.KAL_DlyTick,"ax",%progbits
 3719              		.align	1
 3720              		.global	KAL_DlyTick
 3721              		.syntax unified
 3722              		.thumb
 3723              		.thumb_func
 3724              		.fpu fpv4-sp-d16
 3726              	KAL_DlyTick:
 3727              	.LVL379:
 3728              	.LFB21:
2159:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_OPT  opt_os;
 3729              		.loc 1 2159 1 view -0
 3730              		.cfi_startproc
 3731              		@ args = 0, pretend = 0, frame = 8
 3732              		@ frame_needed = 0, uses_anonymous_args = 0
2159:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_OPT  opt_os;
 3733              		.loc 1 2159 1 is_stmt 0 view .LVU1071
 3734 0000 00B5     		push	{lr}
 3735              	.LCFI81:
 3736              		.cfi_def_cfa_offset 4
 3737              		.cfi_offset 14, -4
 3738 0002 83B0     		sub	sp, sp, #12
 3739              	.LCFI82:
 3740              		.cfi_def_cfa_offset 16
2160:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR  err_os;
 3741              		.loc 1 2160 5 is_stmt 1 view .LVU1072
2161:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3742              		.loc 1 2161 5 view .LVU1073
2164:rtos/uC-Common/KAL/uCOS-III/kal.c ****         opt_os = OS_OPT_TIME_PERIODIC;
 3743              		.loc 1 2164 5 view .LVU1074
2164:rtos/uC-Common/KAL/uCOS-III/kal.c ****         opt_os = OS_OPT_TIME_PERIODIC;
 3744              		.loc 1 2164 8 is_stmt 0 view .LVU1075
ARM GAS  /tmp/ccAqnR1x.s 			page 131


 3745 0004 11F0010F 		tst	r1, #1
 3746 0008 0ED0     		beq	.L336
2165:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
 3747              		.loc 1 2165 16 view .LVU1076
 3748 000a 0821     		movs	r1, #8
 3749              	.LVL380:
 3750              	.L334:
2170:rtos/uC-Common/KAL/uCOS-III/kal.c ****               opt_os,
 3751              		.loc 1 2170 5 is_stmt 1 view .LVU1077
 3752 000c 0DF10602 		add	r2, sp, #6
 3753 0010 FFF7FEFF 		bl	OSTimeDly
 3754              	.LVL381:
2174:rtos/uC-Common/KAL/uCOS-III/kal.c ****             case OS_ERR_NONE:
 3755              		.loc 1 2174 9 view .LVU1078
 3756 0014 BDF80630 		ldrh	r3, [sp, #6]
 3757 0018 1BB1     		cbz	r3, .L333
 3758 001a 47F27E22 		movw	r2, #29310
 3759 001e 9342     		cmp	r3, r2
 3760 0020 04D1     		bne	.L338
 3761              	.L333:
2191:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3762              		.loc 1 2191 1 is_stmt 0 view .LVU1079
 3763 0022 03B0     		add	sp, sp, #12
 3764              	.LCFI83:
 3765              		.cfi_remember_state
 3766              		.cfi_def_cfa_offset 4
 3767              		@ sp needed
 3768 0024 5DF804FB 		ldr	pc, [sp], #4
 3769              	.LVL382:
 3770              	.L336:
 3771              	.LCFI84:
 3772              		.cfi_restore_state
2167:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3773              		.loc 1 2167 16 view .LVU1080
 3774 0028 0021     		movs	r1, #0
 3775              	.LVL383:
2167:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3776              		.loc 1 2167 16 view .LVU1081
 3777 002a EFE7     		b	.L334
 3778              	.LVL384:
 3779              	.L338:
2183:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
 3780              		.loc 1 2183 18 is_stmt 1 view .LVU1082
2183:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
 3781              		.loc 1 2183 18 view .LVU1083
 3782 002c FFF7FEFF 		bl	CPU_SW_Exception
 3783              	.LVL385:
2183:rtos/uC-Common/KAL/uCOS-III/kal.c ****                  break;
 3784              		.loc 1 2183 18 view .LVU1084
2184:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3785              		.loc 1 2184 18 view .LVU1085
2190:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 3786              		.loc 1 2190 5 view .LVU1086
 3787 0030 F7E7     		b	.L333
 3788              		.cfi_endproc
 3789              	.LFE21:
 3791              		.section	.text.KAL_TaskRegCreate,"ax",%progbits
ARM GAS  /tmp/ccAqnR1x.s 			page 132


 3792              		.align	1
 3793              		.global	KAL_TaskRegCreate
 3794              		.syntax unified
 3795              		.thumb
 3796              		.thumb_func
 3797              		.fpu fpv4-sp-d16
 3799              	KAL_TaskRegCreate:
 3800              	.LVL386:
 3801              	.LFB22:
2224:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK_REG_HANDLE  handle = KAL_TaskRegHandleNull;
 3802              		.loc 1 2224 1 view -0
 3803              		.cfi_startproc
 3804              		@ args = 0, pretend = 0, frame = 8
 3805              		@ frame_needed = 0, uses_anonymous_args = 0
2224:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TASK_REG_HANDLE  handle = KAL_TaskRegHandleNull;
 3806              		.loc 1 2224 1 is_stmt 0 view .LVU1088
 3807 0000 70B5     		push	{r4, r5, r6, lr}
 3808              	.LCFI85:
 3809              		.cfi_def_cfa_offset 16
 3810              		.cfi_offset 4, -16
 3811              		.cfi_offset 5, -12
 3812              		.cfi_offset 6, -8
 3813              		.cfi_offset 14, -4
 3814 0002 82B0     		sub	sp, sp, #8
 3815              	.LCFI86:
 3816              		.cfi_def_cfa_offset 24
 3817 0004 0546     		mov	r5, r0
2225:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3818              		.loc 1 2225 5 is_stmt 1 view .LVU1089
2225:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3819              		.loc 1 2225 26 is_stmt 0 view .LVU1090
 3820 0006 0024     		movs	r4, #0
 3821              	.LVL387:
2229:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 3822              		.loc 1 2229 9 is_stmt 1 view .LVU1091
2229:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(handle);
 3823              		.loc 1 2229 12 is_stmt 0 view .LVU1092
 3824 0008 0E46     		mov	r6, r1
 3825 000a 29B1     		cbz	r1, .L348
 3826              	.LVL388:
 3827              	.L340:
2230:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3828              		.loc 1 2230 13 is_stmt 1 discriminator 1 view .LVU1093
2233:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 3829              		.loc 1 2233 9 discriminator 1 view .LVU1094
2233:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NOT_SUPPORTED;
 3830              		.loc 1 2233 12 is_stmt 0 discriminator 1 view .LVU1095
 3831 000c 3DB1     		cbz	r5, .L341
2234:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3832              		.loc 1 2234 12 is_stmt 1 view .LVU1096
2234:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3833              		.loc 1 2234 19 is_stmt 0 view .LVU1097
 3834 000e 0223     		movs	r3, #2
 3835 0010 3370     		strb	r3, [r6]
2235:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3836              		.loc 1 2235 13 is_stmt 1 view .LVU1098
 3837              	.LVL389:
ARM GAS  /tmp/ccAqnR1x.s 			page 133


2235:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3838              		.loc 1 2235 20 is_stmt 0 view .LVU1099
 3839 0012 2046     		mov	r0, r4
 3840              	.LVL390:
 3841              	.L342:
2275:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3842              		.loc 1 2275 1 discriminator 1 view .LVU1100
 3843 0014 02B0     		add	sp, sp, #8
 3844              	.LCFI87:
 3845              		.cfi_remember_state
 3846              		.cfi_def_cfa_offset 16
 3847              		@ sp needed
 3848 0016 70BD     		pop	{r4, r5, r6, pc}
 3849              	.LVL391:
 3850              	.L348:
 3851              	.LCFI88:
 3852              		.cfi_restore_state
2230:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3853              		.loc 1 2230 13 is_stmt 1 view .LVU1101
2230:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3854              		.loc 1 2230 13 view .LVU1102
 3855 0018 FFF7FEFF 		bl	CPU_SW_Exception
 3856              	.LVL392:
2230:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3857              		.loc 1 2230 13 is_stmt 0 view .LVU1103
 3858 001c F6E7     		b	.L340
 3859              	.L341:
 3860              	.LBB33:
2243:rtos/uC-Common/KAL/uCOS-III/kal.c ****         LIB_ERR        err_lib;
 3861              		.loc 1 2243 9 is_stmt 1 view .LVU1104
2244:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR         err_os;
 3862              		.loc 1 2244 9 view .LVU1105
2245:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3863              		.loc 1 2245 9 view .LVU1106
2248:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                        &err_lib);
 3864              		.loc 1 2248 9 view .LVU1107
2248:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                        &err_lib);
 3865              		.loc 1 2248 68 is_stmt 0 view .LVU1108
 3866 001e 154B     		ldr	r3, .L349
 3867 0020 1868     		ldr	r0, [r3]
2248:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                                        &err_lib);
 3868              		.loc 1 2248 38 view .LVU1109
 3869 0022 01A9     		add	r1, sp, #4
 3870 0024 5830     		adds	r0, r0, #88
 3871 0026 FFF7FEFF 		bl	Mem_DynPoolBlkGet
 3872              	.LVL393:
 3873 002a 0546     		mov	r5, r0
 3874              	.LVL394:
2250:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 3875              		.loc 1 2250 9 is_stmt 1 view .LVU1110
2250:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 3876              		.loc 1 2250 21 is_stmt 0 view .LVU1111
 3877 002c BDF80420 		ldrh	r2, [sp, #4]
2250:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_ALLOC;
 3878              		.loc 1 2250 12 view .LVU1112
 3879 0030 42F21073 		movw	r3, #10000
 3880 0034 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccAqnR1x.s 			page 134


 3881 0036 03D0     		beq	.L343
2251:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3882              		.loc 1 2251 12 is_stmt 1 view .LVU1113
2251:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (handle);
 3883              		.loc 1 2251 19 is_stmt 0 view .LVU1114
 3884 0038 0823     		movs	r3, #8
 3885 003a 3370     		strb	r3, [r6]
2252:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3886              		.loc 1 2252 13 is_stmt 1 view .LVU1115
 3887              	.LVL395:
2252:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3888              		.loc 1 2252 20 is_stmt 0 view .LVU1116
 3889 003c 2046     		mov	r0, r4
 3890              	.LVL396:
2252:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3891              		.loc 1 2252 20 view .LVU1117
 3892 003e E9E7     		b	.L342
 3893              	.LVL397:
 3894              	.L343:
2255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 3895              		.loc 1 2255 9 is_stmt 1 view .LVU1118
2255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 3896              		.loc 1 2255 26 is_stmt 0 view .LVU1119
 3897 0040 0DF10600 		add	r0, sp, #6
 3898              	.LVL398:
2255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 3899              		.loc 1 2255 26 view .LVU1120
 3900 0044 FFF7FEFF 		bl	OSTaskRegGetID
 3901              	.LVL399:
2255:rtos/uC-Common/KAL/uCOS-III/kal.c ****         if (err_os == OS_ERR_NONE) {
 3902              		.loc 1 2255 24 view .LVU1121
 3903 0048 2870     		strb	r0, [r5]
2256:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TaskRegObjPtr = (void *)p_task_reg;
 3904              		.loc 1 2256 9 is_stmt 1 view .LVU1122
2256:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TaskRegObjPtr = (void *)p_task_reg;
 3905              		.loc 1 2256 20 is_stmt 0 view .LVU1123
 3906 004a BDF80630 		ldrh	r3, [sp, #6]
2256:rtos/uC-Common/KAL/uCOS-III/kal.c ****             handle.TaskRegObjPtr = (void *)p_task_reg;
 3907              		.loc 1 2256 12 view .LVU1124
 3908 004e 1BB9     		cbnz	r3, .L345
2257:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err                =  RTOS_ERR_NONE;
 3909              		.loc 1 2257 13 is_stmt 1 view .LVU1125
2257:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err                =  RTOS_ERR_NONE;
 3910              		.loc 1 2257 34 is_stmt 0 view .LVU1126
 3911 0050 2C46     		mov	r4, r5
2258:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3912              		.loc 1 2258 12 is_stmt 1 view .LVU1127
2258:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 3913              		.loc 1 2258 34 is_stmt 0 view .LVU1128
 3914 0052 3370     		strb	r3, [r6]
 3915              	.L346:
2268:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3916              		.loc 1 2268 9 is_stmt 1 view .LVU1129
 3917              	.LVL400:
2268:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 3918              		.loc 1 2268 16 is_stmt 0 view .LVU1130
 3919 0054 2046     		mov	r0, r4
ARM GAS  /tmp/ccAqnR1x.s 			page 135


 3920 0056 DDE7     		b	.L342
 3921              	.LVL401:
 3922              	.L345:
2261:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_task_reg,
 3923              		.loc 1 2261 13 is_stmt 1 view .LVU1131
2261:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_task_reg,
 3924              		.loc 1 2261 51 is_stmt 0 view .LVU1132
 3925 0058 064B     		ldr	r3, .L349
 3926 005a 1868     		ldr	r0, [r3]
2261:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                (void *)p_task_reg,
 3927              		.loc 1 2261 13 view .LVU1133
 3928 005c 01AA     		add	r2, sp, #4
 3929 005e 2946     		mov	r1, r5
 3930 0060 5830     		adds	r0, r0, #88
 3931 0062 FFF7FEFF 		bl	Mem_DynPoolBlkFree
 3932              	.LVL402:
2264:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = KAL_ErrConvert(err_os);
 3933              		.loc 1 2264 13 is_stmt 1 view .LVU1134
2265:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3934              		.loc 1 2265 12 view .LVU1135
2265:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3935              		.loc 1 2265 21 is_stmt 0 view .LVU1136
 3936 0066 BDF80600 		ldrh	r0, [sp, #6]
 3937 006a FFF7FEFF 		bl	KAL_ErrConvert
 3938              	.LVL403:
2265:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3939              		.loc 1 2265 19 view .LVU1137
 3940 006e 3070     		strb	r0, [r6]
 3941 0070 F0E7     		b	.L346
 3942              	.L350:
 3943 0072 00BF     		.align	2
 3944              	.L349:
 3945 0074 00000000 		.word	.LANCHOR2
 3946              	.LBE33:
 3947              		.cfi_endproc
 3948              	.LFE22:
 3950              		.section	.text.KAL_TaskRegGet,"ax",%progbits
 3951              		.align	1
 3952              		.global	KAL_TaskRegGet
 3953              		.syntax unified
 3954              		.thumb
 3955              		.thumb_func
 3956              		.fpu fpv4-sp-d16
 3958              	KAL_TaskRegGet:
 3959              	.LVL404:
 3960              	.LFB23:
2305:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3961              		.loc 1 2305 1 is_stmt 1 view -0
 3962              		.cfi_startproc
 3963              		@ args = 0, pretend = 0, frame = 8
 3964              		@ frame_needed = 0, uses_anonymous_args = 0
2305:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3965              		.loc 1 2305 1 is_stmt 0 view .LVU1139
 3966 0000 70B5     		push	{r4, r5, r6, lr}
 3967              	.LCFI89:
 3968              		.cfi_def_cfa_offset 16
 3969              		.cfi_offset 4, -16
ARM GAS  /tmp/ccAqnR1x.s 			page 136


 3970              		.cfi_offset 5, -12
 3971              		.cfi_offset 6, -8
 3972              		.cfi_offset 14, -4
 3973 0002 82B0     		sub	sp, sp, #8
 3974              	.LCFI90:
 3975              		.cfi_def_cfa_offset 24
 3976 0004 0446     		mov	r4, r0
 3977              	.LVL405:
2305:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 3978              		.loc 1 2305 1 view .LVU1140
 3979 0006 0D46     		mov	r5, r1
 3980              	.LVL406:
2307:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(0u);
 3981              		.loc 1 2307 9 is_stmt 1 view .LVU1141
2307:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(0u);
 3982              		.loc 1 2307 12 is_stmt 0 view .LVU1142
 3983 0008 1646     		mov	r6, r2
 3984 000a 82B1     		cbz	r2, .L360
 3985              	.LVL407:
 3986              	.L352:
2308:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 3987              		.loc 1 2308 13 is_stmt 1 discriminator 1 view .LVU1143
2311:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3988              		.loc 1 2311 9 discriminator 1 view .LVU1144
2311:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 3989              		.loc 1 2311 12 is_stmt 0 discriminator 1 view .LVU1145
 3990 000c 95B1     		cbz	r5, .L361
 3991              	.LBB34:
2319:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_TCB        *p_task_tcb;
 3992              		.loc 1 2319 9 is_stmt 1 view .LVU1146
2320:rtos/uC-Common/KAL/uCOS-III/kal.c ****         CPU_INT32U     ret_val;
 3993              		.loc 1 2320 9 view .LVU1147
2321:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR         err_os;
 3994              		.loc 1 2321 9 view .LVU1148
2322:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3995              		.loc 1 2322 9 view .LVU1149
2325:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 3996              		.loc 1 2325 9 view .LVU1150
 3997              	.LVL408:
2327:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = OSTCBCurPtr;                           /* Use cur task if no task handle i
 3998              		.loc 1 2327 9 view .LVU1151
2327:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = OSTCBCurPtr;                           /* Use cur task if no task handle i
 3999              		.loc 1 2327 12 is_stmt 0 view .LVU1152
 4000 000e ACB1     		cbz	r4, .L362
2331:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4001              		.loc 1 2331 13 is_stmt 1 view .LVU1153
2331:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4002              		.loc 1 2331 24 is_stmt 0 view .LVU1154
 4003 0010 2046     		mov	r0, r4
 4004              	.LVL409:
 4005              	.L356:
2334:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                p_task_reg->Id,
 4006              		.loc 1 2334 9 is_stmt 1 view .LVU1155
2334:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                p_task_reg->Id,
 4007              		.loc 1 2334 19 is_stmt 0 view .LVU1156
 4008 0012 0DF10602 		add	r2, sp, #6
 4009 0016 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
ARM GAS  /tmp/ccAqnR1x.s 			page 137


 4010 0018 FFF7FEFF 		bl	OSTaskRegGet
 4011              	.LVL410:
2334:rtos/uC-Common/KAL/uCOS-III/kal.c ****                                p_task_reg->Id,
 4012              		.loc 1 2334 19 view .LVU1157
 4013 001c 0446     		mov	r4, r0
 4014              	.LVL411:
2337:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 4015              		.loc 1 2337 9 is_stmt 1 view .LVU1158
2337:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 4016              		.loc 1 2337 20 is_stmt 0 view .LVU1159
 4017 001e BDF80600 		ldrh	r0, [sp, #6]
 4018              	.LVL412:
2337:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 4019              		.loc 1 2337 12 view .LVU1160
 4020 0022 70B9     		cbnz	r0, .L357
2338:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4021              		.loc 1 2338 12 is_stmt 1 view .LVU1161
2338:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4022              		.loc 1 2338 19 is_stmt 0 view .LVU1162
 4023 0024 0023     		movs	r3, #0
 4024 0026 3370     		strb	r3, [r6]
 4025              	.LVL413:
 4026              	.L351:
2338:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4027              		.loc 1 2338 19 view .LVU1163
 4028              	.LBE34:
2353:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 4029              		.loc 1 2353 1 view .LVU1164
 4030 0028 2046     		mov	r0, r4
 4031 002a 02B0     		add	sp, sp, #8
 4032              	.LCFI91:
 4033              		.cfi_remember_state
 4034              		.cfi_def_cfa_offset 16
 4035              		@ sp needed
 4036 002c 70BD     		pop	{r4, r5, r6, pc}
 4037              	.LVL414:
 4038              	.L360:
 4039              	.LCFI92:
 4040              		.cfi_restore_state
2308:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4041              		.loc 1 2308 13 is_stmt 1 view .LVU1165
2308:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4042              		.loc 1 2308 13 view .LVU1166
 4043 002e FFF7FEFF 		bl	CPU_SW_Exception
 4044              	.LVL415:
2308:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4045              		.loc 1 2308 13 is_stmt 0 view .LVU1167
 4046 0032 EBE7     		b	.L352
 4047              	.LVL416:
 4048              	.L361:
2312:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (0u);
 4049              		.loc 1 2312 12 is_stmt 1 view .LVU1168
2312:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return (0u);
 4050              		.loc 1 2312 19 is_stmt 0 view .LVU1169
 4051 0034 0423     		movs	r3, #4
 4052 0036 3370     		strb	r3, [r6]
2313:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
ARM GAS  /tmp/ccAqnR1x.s 			page 138


 4053              		.loc 1 2313 13 is_stmt 1 view .LVU1170
2313:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4054              		.loc 1 2313 20 is_stmt 0 view .LVU1171
 4055 0038 0024     		movs	r4, #0
 4056 003a F5E7     		b	.L351
 4057              	.LVL417:
 4058              	.L362:
 4059              	.LBB35:
2328:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4060              		.loc 1 2328 13 is_stmt 1 view .LVU1172
2328:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4061              		.loc 1 2328 24 is_stmt 0 view .LVU1173
 4062 003c 034B     		ldr	r3, .L363
 4063 003e 1868     		ldr	r0, [r3]
 4064              	.LVL418:
2328:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4065              		.loc 1 2328 24 view .LVU1174
 4066 0040 E7E7     		b	.L356
 4067              	.LVL419:
 4068              	.L357:
2340:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4069              		.loc 1 2340 12 is_stmt 1 view .LVU1175
2340:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4070              		.loc 1 2340 21 is_stmt 0 view .LVU1176
 4071 0042 FFF7FEFF 		bl	KAL_ErrConvert
 4072              	.LVL420:
2340:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4073              		.loc 1 2340 19 view .LVU1177
 4074 0046 3070     		strb	r0, [r6]
2343:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 4075              		.loc 1 2343 9 is_stmt 1 view .LVU1178
 4076 0048 EEE7     		b	.L351
 4077              	.L364:
 4078 004a 00BF     		.align	2
 4079              	.L363:
 4080 004c 00000000 		.word	OSTCBCurPtr
 4081              	.LBE35:
 4082              		.cfi_endproc
 4083              	.LFE23:
 4085              		.section	.text.KAL_TaskRegSet,"ax",%progbits
 4086              		.align	1
 4087              		.global	KAL_TaskRegSet
 4088              		.syntax unified
 4089              		.thumb
 4090              		.thumb_func
 4091              		.fpu fpv4-sp-d16
 4093              	KAL_TaskRegSet:
 4094              	.LVL421:
 4095              	.LFB24:
2385:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 4096              		.loc 1 2385 1 view -0
 4097              		.cfi_startproc
 4098              		@ args = 0, pretend = 0, frame = 8
 4099              		@ frame_needed = 0, uses_anonymous_args = 0
2385:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 4100              		.loc 1 2385 1 is_stmt 0 view .LVU1180
 4101 0000 F0B5     		push	{r4, r5, r6, r7, lr}
ARM GAS  /tmp/ccAqnR1x.s 			page 139


 4102              	.LCFI93:
 4103              		.cfi_def_cfa_offset 20
 4104              		.cfi_offset 4, -20
 4105              		.cfi_offset 5, -16
 4106              		.cfi_offset 6, -12
 4107              		.cfi_offset 7, -8
 4108              		.cfi_offset 14, -4
 4109 0002 83B0     		sub	sp, sp, #12
 4110              	.LCFI94:
 4111              		.cfi_def_cfa_offset 32
 4112 0004 0446     		mov	r4, r0
 4113              	.LVL422:
2385:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 4114              		.loc 1 2385 1 view .LVU1181
 4115 0006 0D46     		mov	r5, r1
 4116              	.LVL423:
2385:rtos/uC-Common/KAL/uCOS-III/kal.c ****     #if (KAL_CFG_ARG_CHK_EXT_EN == DEF_ENABLED)                 /* ---------------- VALIDATE ARGUME
 4117              		.loc 1 2385 1 view .LVU1182
 4118 0008 1646     		mov	r6, r2
2387:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 4119              		.loc 1 2387 9 is_stmt 1 view .LVU1183
2387:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(;);
 4120              		.loc 1 2387 12 is_stmt 0 view .LVU1184
 4121 000a 1F46     		mov	r7, r3
 4122 000c 7BB1     		cbz	r3, .L374
 4123              	.LVL424:
 4124              	.L366:
2388:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4125              		.loc 1 2388 13 is_stmt 1 discriminator 1 view .LVU1185
2391:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 4126              		.loc 1 2391 9 discriminator 1 view .LVU1186
2391:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NULL_PTR;
 4127              		.loc 1 2391 12 is_stmt 0 discriminator 1 view .LVU1187
 4128 000e 8DB1     		cbz	r5, .L375
 4129              	.LBB36:
2399:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_TCB        *p_task_tcb;
 4130              		.loc 1 2399 9 is_stmt 1 view .LVU1188
2400:rtos/uC-Common/KAL/uCOS-III/kal.c ****         OS_ERR         err_os;
 4131              		.loc 1 2400 9 view .LVU1189
2401:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 4132              		.loc 1 2401 9 view .LVU1190
2404:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 4133              		.loc 1 2404 9 view .LVU1191
 4134              	.LVL425:
2406:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = OSTCBCurPtr;                           /* Use cur task if no task handle i
 4135              		.loc 1 2406 9 view .LVU1192
2406:rtos/uC-Common/KAL/uCOS-III/kal.c ****             p_task_tcb = OSTCBCurPtr;                           /* Use cur task if no task handle i
 4136              		.loc 1 2406 12 is_stmt 0 view .LVU1193
 4137 0010 9CB1     		cbz	r4, .L376
2410:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4138              		.loc 1 2410 13 is_stmt 1 view .LVU1194
2410:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4139              		.loc 1 2410 24 is_stmt 0 view .LVU1195
 4140 0012 2046     		mov	r0, r4
 4141              	.LVL426:
 4142              	.L370:
2413:rtos/uC-Common/KAL/uCOS-III/kal.c ****                             p_task_reg->Id,
ARM GAS  /tmp/ccAqnR1x.s 			page 140


 4143              		.loc 1 2413 9 is_stmt 1 view .LVU1196
 4144 0014 0DF10603 		add	r3, sp, #6
 4145 0018 3246     		mov	r2, r6
 4146 001a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 4147 001c FFF7FEFF 		bl	OSTaskRegSet
 4148              	.LVL427:
2417:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 4149              		.loc 1 2417 9 view .LVU1197
2417:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 4150              		.loc 1 2417 20 is_stmt 0 view .LVU1198
 4151 0020 BDF80600 		ldrh	r0, [sp, #6]
2417:rtos/uC-Common/KAL/uCOS-III/kal.c ****            *p_err = RTOS_ERR_NONE;
 4152              		.loc 1 2417 12 view .LVU1199
 4153 0024 60B9     		cbnz	r0, .L371
2418:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4154              		.loc 1 2418 12 is_stmt 1 view .LVU1200
2418:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4155              		.loc 1 2418 19 is_stmt 0 view .LVU1201
 4156 0026 0023     		movs	r3, #0
 4157 0028 3B70     		strb	r3, [r7]
 4158              	.LVL428:
 4159              	.L365:
2418:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4160              		.loc 1 2418 19 view .LVU1202
 4161              	.LBE36:
2434:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 4162              		.loc 1 2434 1 view .LVU1203
 4163 002a 03B0     		add	sp, sp, #12
 4164              	.LCFI95:
 4165              		.cfi_remember_state
 4166              		.cfi_def_cfa_offset 20
 4167              		@ sp needed
 4168 002c F0BD     		pop	{r4, r5, r6, r7, pc}
 4169              	.LVL429:
 4170              	.L374:
 4171              	.LCFI96:
 4172              		.cfi_restore_state
2388:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4173              		.loc 1 2388 13 is_stmt 1 view .LVU1204
2388:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4174              		.loc 1 2388 13 view .LVU1205
 4175 002e FFF7FEFF 		bl	CPU_SW_Exception
 4176              	.LVL430:
2388:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4177              		.loc 1 2388 13 is_stmt 0 view .LVU1206
 4178 0032 ECE7     		b	.L366
 4179              	.LVL431:
 4180              	.L375:
2392:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 4181              		.loc 1 2392 12 is_stmt 1 view .LVU1207
2392:rtos/uC-Common/KAL/uCOS-III/kal.c ****             return;
 4182              		.loc 1 2392 19 is_stmt 0 view .LVU1208
 4183 0034 0423     		movs	r3, #4
 4184 0036 3B70     		strb	r3, [r7]
2393:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4185              		.loc 1 2393 13 is_stmt 1 view .LVU1209
 4186 0038 F7E7     		b	.L365
ARM GAS  /tmp/ccAqnR1x.s 			page 141


 4187              	.LVL432:
 4188              	.L376:
 4189              	.LBB37:
2407:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4190              		.loc 1 2407 13 view .LVU1210
2407:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4191              		.loc 1 2407 24 is_stmt 0 view .LVU1211
 4192 003a 034B     		ldr	r3, .L377
 4193 003c 1868     		ldr	r0, [r3]
 4194              	.LVL433:
2407:rtos/uC-Common/KAL/uCOS-III/kal.c ****         } else {
 4195              		.loc 1 2407 24 view .LVU1212
 4196 003e E9E7     		b	.L370
 4197              	.LVL434:
 4198              	.L371:
2420:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4199              		.loc 1 2420 12 is_stmt 1 view .LVU1213
2420:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4200              		.loc 1 2420 21 is_stmt 0 view .LVU1214
 4201 0040 FFF7FEFF 		bl	KAL_ErrConvert
 4202              	.LVL435:
2420:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4203              		.loc 1 2420 19 view .LVU1215
 4204 0044 3870     		strb	r0, [r7]
2423:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 4205              		.loc 1 2423 9 is_stmt 1 view .LVU1216
 4206 0046 F0E7     		b	.L365
 4207              	.L378:
 4208              		.align	2
 4209              	.L377:
 4210 0048 00000000 		.word	OSTCBCurPtr
 4211              	.LBE37:
 4212              		.cfi_endproc
 4213              	.LFE24:
 4215              		.section	.text.KAL_TickGet,"ax",%progbits
 4216              		.align	1
 4217              		.global	KAL_TickGet
 4218              		.syntax unified
 4219              		.thumb
 4220              		.thumb_func
 4221              		.fpu fpv4-sp-d16
 4223              	KAL_TickGet:
 4224              	.LVL436:
 4225              	.LFB25:
2454:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TICK  tick_cnt;
 4226              		.loc 1 2454 1 view -0
 4227              		.cfi_startproc
 4228              		@ args = 0, pretend = 0, frame = 8
 4229              		@ frame_needed = 0, uses_anonymous_args = 0
2454:rtos/uC-Common/KAL/uCOS-III/kal.c ****     KAL_TICK  tick_cnt;
 4230              		.loc 1 2454 1 is_stmt 0 view .LVU1218
 4231 0000 30B5     		push	{r4, r5, lr}
 4232              	.LCFI97:
 4233              		.cfi_def_cfa_offset 12
 4234              		.cfi_offset 4, -12
 4235              		.cfi_offset 5, -8
 4236              		.cfi_offset 14, -4
ARM GAS  /tmp/ccAqnR1x.s 			page 142


 4237 0002 83B0     		sub	sp, sp, #12
 4238              	.LCFI98:
 4239              		.cfi_def_cfa_offset 24
2455:rtos/uC-Common/KAL/uCOS-III/kal.c ****     OS_ERR    err_os;
 4240              		.loc 1 2455 5 is_stmt 1 view .LVU1219
2456:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 4241              		.loc 1 2456 5 view .LVU1220
2460:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(0u);
 4242              		.loc 1 2460 9 view .LVU1221
2460:rtos/uC-Common/KAL/uCOS-III/kal.c ****             CPU_SW_EXCEPTION(0u);
 4243              		.loc 1 2460 12 is_stmt 0 view .LVU1222
 4244 0004 0546     		mov	r5, r0
 4245 0006 60B1     		cbz	r0, .L384
 4246              	.LVL437:
 4247              	.L380:
2461:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4248              		.loc 1 2461 13 is_stmt 1 discriminator 1 view .LVU1223
2465:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (err_os == OS_ERR_NONE) {
 4249              		.loc 1 2465 5 discriminator 1 view .LVU1224
2465:rtos/uC-Common/KAL/uCOS-III/kal.c ****     if (err_os == OS_ERR_NONE) {
 4250              		.loc 1 2465 16 is_stmt 0 discriminator 1 view .LVU1225
 4251 0008 0DF10600 		add	r0, sp, #6
 4252 000c FFF7FEFF 		bl	OSTimeGet
 4253              	.LVL438:
 4254 0010 0446     		mov	r4, r0
 4255              	.LVL439:
2466:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
 4256              		.loc 1 2466 5 is_stmt 1 discriminator 1 view .LVU1226
2466:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
 4257              		.loc 1 2466 16 is_stmt 0 discriminator 1 view .LVU1227
 4258 0012 BDF80600 		ldrh	r0, [sp, #6]
 4259              	.LVL440:
2466:rtos/uC-Common/KAL/uCOS-III/kal.c ****        *p_err = RTOS_ERR_NONE;
 4260              		.loc 1 2466 8 discriminator 1 view .LVU1228
 4261 0016 38B9     		cbnz	r0, .L381
2467:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
 4262              		.loc 1 2467 8 is_stmt 1 view .LVU1229
2467:rtos/uC-Common/KAL/uCOS-III/kal.c ****     } else {
 4263              		.loc 1 2467 15 is_stmt 0 view .LVU1230
 4264 0018 0023     		movs	r3, #0
 4265 001a 2B70     		strb	r3, [r5]
 4266              	.L379:
2473:rtos/uC-Common/KAL/uCOS-III/kal.c **** 
 4267              		.loc 1 2473 1 view .LVU1231
 4268 001c 2046     		mov	r0, r4
 4269 001e 03B0     		add	sp, sp, #12
 4270              	.LCFI99:
 4271              		.cfi_remember_state
 4272              		.cfi_def_cfa_offset 12
 4273              		@ sp needed
 4274 0020 30BD     		pop	{r4, r5, pc}
 4275              	.LVL441:
 4276              	.L384:
 4277              	.LCFI100:
 4278              		.cfi_restore_state
2461:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4279              		.loc 1 2461 13 is_stmt 1 view .LVU1232
ARM GAS  /tmp/ccAqnR1x.s 			page 143


2461:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4280              		.loc 1 2461 13 view .LVU1233
 4281 0022 FFF7FEFF 		bl	CPU_SW_Exception
 4282              	.LVL442:
2461:rtos/uC-Common/KAL/uCOS-III/kal.c ****         }
 4283              		.loc 1 2461 13 is_stmt 0 view .LVU1234
 4284 0026 EFE7     		b	.L380
 4285              	.LVL443:
 4286              	.L381:
2469:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 4287              		.loc 1 2469 8 is_stmt 1 view .LVU1235
2469:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 4288              		.loc 1 2469 17 is_stmt 0 view .LVU1236
 4289 0028 FFF7FEFF 		bl	KAL_ErrConvert
 4290              	.LVL444:
2469:rtos/uC-Common/KAL/uCOS-III/kal.c ****     }
 4291              		.loc 1 2469 15 view .LVU1237
 4292 002c 2870     		strb	r0, [r5]
2472:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 4293              		.loc 1 2472 5 is_stmt 1 view .LVU1238
2472:rtos/uC-Common/KAL/uCOS-III/kal.c **** }
 4294              		.loc 1 2472 12 is_stmt 0 view .LVU1239
 4295 002e F5E7     		b	.L379
 4296              		.cfi_endproc
 4297              	.LFE25:
 4299              		.global	KAL_TaskRegHandleNull
 4300              		.global	KAL_QHandleNull
 4301              		.global	KAL_TmrHandleNull
 4302              		.global	KAL_SemHandleNull
 4303              		.global	KAL_LockHandleNull
 4304              		.global	KAL_TaskHandleNull
 4305              		.global	KAL_TickRate
 4306              		.global	KAL_Version
 4307              		.section	.bss.KAL_DataPtr,"aw",%nobits
 4308              		.align	2
 4309              		.set	.LANCHOR2,. + 0
 4312              	KAL_DataPtr:
 4313 0000 00000000 		.space	4
 4314              		.section	.bss.KAL_InitStatus,"aw",%nobits
 4315              		.set	.LANCHOR1,. + 0
 4318              	KAL_InitStatus:
 4319 0000 00       		.space	1
 4320              		.section	.bss.KAL_IsInit,"aw",%nobits
 4321              		.set	.LANCHOR0,. + 0
 4324              	KAL_IsInit:
 4325 0000 00       		.space	1
 4326              		.section	.rodata.KAL_LockHandleNull,"a"
 4327              		.align	2
 4330              	KAL_LockHandleNull:
 4331 0000 00000000 		.space	4
 4332              		.section	.rodata.KAL_QHandleNull,"a"
 4333              		.align	2
 4336              	KAL_QHandleNull:
 4337 0000 00000000 		.space	4
 4338              		.section	.rodata.KAL_SemHandleNull,"a"
 4339              		.align	2
 4342              	KAL_SemHandleNull:
ARM GAS  /tmp/ccAqnR1x.s 			page 144


 4343 0000 00000000 		.space	4
 4344              		.section	.rodata.KAL_TaskHandleNull,"a"
 4345              		.align	2
 4348              	KAL_TaskHandleNull:
 4349 0000 00000000 		.space	4
 4350              		.section	.rodata.KAL_TaskRegHandleNull,"a"
 4351              		.align	2
 4354              	KAL_TaskRegHandleNull:
 4355 0000 00000000 		.space	4
 4356              		.section	.rodata.KAL_TickRate,"a"
 4357              		.align	2
 4360              	KAL_TickRate:
 4361 0000 E8030000 		.word	1000
 4362              		.section	.rodata.KAL_TmrHandleNull,"a"
 4363              		.align	2
 4366              	KAL_TmrHandleNull:
 4367 0000 00000000 		.space	4
 4368              		.section	.rodata.KAL_Version,"a"
 4369              		.align	2
 4372              	KAL_Version:
 4373 0000 10270000 		.word	10000
 4374              		.text
 4375              	.Letext0:
 4376              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 4377              		.file 3 "rtos/uC-LIB/lib_def.h"
 4378              		.file 4 "rtos/uC-CPU/cpu_core.h"
 4379              		.file 5 "rtos/uC-LIB/lib_mem.h"
 4380              		.file 6 "rtos/uC-Common/KAL/uCOS-III/../../common_err.h"
 4381              		.file 7 "rtos/uC-Common/KAL/uCOS-III/../kal.h"
 4382              		.file 8 "rtos/uCOS-III/Source/os_type.h"
 4383              		.file 9 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/GNU/os_cpu.h"
 4384              		.file 10 "rtos/uCOS-III/Source/os.h"
ARM GAS  /tmp/ccAqnR1x.s 			page 145


DEFINED SYMBOLS
                            *ABS*:0000000000000000 kal.c
     /tmp/ccAqnR1x.s:18     .text.KAL_TmrFnctWrapper:0000000000000000 $t
     /tmp/ccAqnR1x.s:25     .text.KAL_TmrFnctWrapper:0000000000000000 KAL_TmrFnctWrapper
     /tmp/ccAqnR1x.s:58     .text.KAL_msToTicks:0000000000000000 $t
     /tmp/ccAqnR1x.s:64     .text.KAL_msToTicks:0000000000000000 KAL_msToTicks
     /tmp/ccAqnR1x.s:82     .text.KAL_ErrConvert:0000000000000000 $t
     /tmp/ccAqnR1x.s:88     .text.KAL_ErrConvert:0000000000000000 KAL_ErrConvert
     /tmp/ccAqnR1x.s:182    .text.KAL_ErrConvert:000000000000008a $d
     /tmp/ccAqnR1x.s:190    .text.KAL_ErrConvert:0000000000000092 $t
     /tmp/ccAqnR1x.s:363    .text.KAL_ErrConvert:000000000000018c $d
     /tmp/ccAqnR1x.s:368    .text.KAL_ErrConvert:000000000000019c $t
     /tmp/ccAqnR1x.s:404    .text.KAL_ErrConvert:00000000000001dc $d
     /tmp/ccAqnR1x.s:411    .text.KAL_ErrConvert:00000000000001f4 $t
     /tmp/ccAqnR1x.s:616    .rodata.KAL_Init.str1.4:0000000000000000 $d
     /tmp/ccAqnR1x.s:632    .text.KAL_Init:0000000000000000 $t
     /tmp/ccAqnR1x.s:639    .text.KAL_Init:0000000000000000 KAL_Init
     /tmp/ccAqnR1x.s:999    .text.KAL_Init:000000000000017c $d
     /tmp/ccAqnR1x.s:1011   .text.KAL_FeatureQuery:0000000000000000 $t
     /tmp/ccAqnR1x.s:1018   .text.KAL_FeatureQuery:0000000000000000 KAL_FeatureQuery
     /tmp/ccAqnR1x.s:1034   .text.KAL_FeatureQuery:0000000000000008 $d
     /tmp/ccAqnR1x.s:1073   .rodata.KAL_TaskAlloc.str1.4:0000000000000000 $d
     /tmp/ccAqnR1x.s:1080   .text.KAL_TaskAlloc:0000000000000000 $t
     /tmp/ccAqnR1x.s:1087   .text.KAL_TaskAlloc:0000000000000000 KAL_TaskAlloc
     /tmp/ccAqnR1x.s:1287   .text.KAL_TaskAlloc:00000000000000b4 $d
     /tmp/ccAqnR1x.s:1294   .text.KAL_TaskCreate:0000000000000000 $t
     /tmp/ccAqnR1x.s:1301   .text.KAL_TaskCreate:0000000000000000 KAL_TaskCreate
     /tmp/ccAqnR1x.s:1442   .text.KAL_TaskCreate:0000000000000088 $d
     /tmp/ccAqnR1x.s:1447   .text.KAL_TaskDel:0000000000000000 $t
     /tmp/ccAqnR1x.s:1454   .text.KAL_TaskDel:0000000000000000 KAL_TaskDel
     /tmp/ccAqnR1x.s:1547   .text.KAL_LockCreate:0000000000000000 $t
     /tmp/ccAqnR1x.s:1554   .text.KAL_LockCreate:0000000000000000 KAL_LockCreate
     /tmp/ccAqnR1x.s:1714   .text.KAL_LockCreate:0000000000000088 $d
     /tmp/ccAqnR1x.s:1720   .text.KAL_LockAcquire:0000000000000000 $t
     /tmp/ccAqnR1x.s:1727   .text.KAL_LockAcquire:0000000000000000 KAL_LockAcquire
     /tmp/ccAqnR1x.s:1895   .text.KAL_LockRelease:0000000000000000 $t
     /tmp/ccAqnR1x.s:1902   .text.KAL_LockRelease:0000000000000000 KAL_LockRelease
     /tmp/ccAqnR1x.s:2019   .text.KAL_LockDel:0000000000000000 $t
     /tmp/ccAqnR1x.s:2026   .text.KAL_LockDel:0000000000000000 KAL_LockDel
     /tmp/ccAqnR1x.s:2133   .text.KAL_LockDel:0000000000000048 $d
     /tmp/ccAqnR1x.s:2139   .text.KAL_SemCreate:0000000000000000 $t
     /tmp/ccAqnR1x.s:2146   .text.KAL_SemCreate:0000000000000000 KAL_SemCreate
     /tmp/ccAqnR1x.s:2291   .text.KAL_SemCreate:0000000000000078 $d
     /tmp/ccAqnR1x.s:2297   .text.KAL_SemPend:0000000000000000 $t
     /tmp/ccAqnR1x.s:2304   .text.KAL_SemPend:0000000000000000 KAL_SemPend
     /tmp/ccAqnR1x.s:2440   .text.KAL_SemPost:0000000000000000 $t
     /tmp/ccAqnR1x.s:2447   .text.KAL_SemPost:0000000000000000 KAL_SemPost
     /tmp/ccAqnR1x.s:2546   .text.KAL_SemPendAbort:0000000000000000 $t
     /tmp/ccAqnR1x.s:2553   .text.KAL_SemPendAbort:0000000000000000 KAL_SemPendAbort
     /tmp/ccAqnR1x.s:2643   .text.KAL_SemSet:0000000000000000 $t
     /tmp/ccAqnR1x.s:2650   .text.KAL_SemSet:0000000000000000 KAL_SemSet
     /tmp/ccAqnR1x.s:2742   .text.KAL_SemDel:0000000000000000 $t
     /tmp/ccAqnR1x.s:2749   .text.KAL_SemDel:0000000000000000 KAL_SemDel
     /tmp/ccAqnR1x.s:2856   .text.KAL_SemDel:0000000000000048 $d
     /tmp/ccAqnR1x.s:2862   .text.KAL_TmrCreate:0000000000000000 $t
     /tmp/ccAqnR1x.s:2869   .text.KAL_TmrCreate:0000000000000000 KAL_TmrCreate
     /tmp/ccAqnR1x.s:3122   .text.KAL_TmrCreate:00000000000000e0 $d
ARM GAS  /tmp/ccAqnR1x.s 			page 146


     /tmp/ccAqnR1x.s:3130   .text.KAL_TmrStart:0000000000000000 $t
     /tmp/ccAqnR1x.s:3137   .text.KAL_TmrStart:0000000000000000 KAL_TmrStart
     /tmp/ccAqnR1x.s:3230   .rodata.KAL_QCreate.str1.4:0000000000000000 $d
     /tmp/ccAqnR1x.s:3234   .text.KAL_QCreate:0000000000000000 $t
     /tmp/ccAqnR1x.s:3241   .text.KAL_QCreate:0000000000000000 KAL_QCreate
     /tmp/ccAqnR1x.s:3379   .text.KAL_QCreate:0000000000000078 $d
     /tmp/ccAqnR1x.s:3386   .text.KAL_QPend:0000000000000000 $t
     /tmp/ccAqnR1x.s:3393   .text.KAL_QPend:0000000000000000 KAL_QPend
     /tmp/ccAqnR1x.s:3546   .text.KAL_QPost:0000000000000000 $t
     /tmp/ccAqnR1x.s:3553   .text.KAL_QPost:0000000000000000 KAL_QPost
     /tmp/ccAqnR1x.s:3657   .text.KAL_Dly:0000000000000000 $t
     /tmp/ccAqnR1x.s:3664   .text.KAL_Dly:0000000000000000 KAL_Dly
     /tmp/ccAqnR1x.s:3719   .text.KAL_DlyTick:0000000000000000 $t
     /tmp/ccAqnR1x.s:3726   .text.KAL_DlyTick:0000000000000000 KAL_DlyTick
     /tmp/ccAqnR1x.s:3792   .text.KAL_TaskRegCreate:0000000000000000 $t
     /tmp/ccAqnR1x.s:3799   .text.KAL_TaskRegCreate:0000000000000000 KAL_TaskRegCreate
     /tmp/ccAqnR1x.s:3945   .text.KAL_TaskRegCreate:0000000000000074 $d
     /tmp/ccAqnR1x.s:3951   .text.KAL_TaskRegGet:0000000000000000 $t
     /tmp/ccAqnR1x.s:3958   .text.KAL_TaskRegGet:0000000000000000 KAL_TaskRegGet
     /tmp/ccAqnR1x.s:4080   .text.KAL_TaskRegGet:000000000000004c $d
     /tmp/ccAqnR1x.s:4086   .text.KAL_TaskRegSet:0000000000000000 $t
     /tmp/ccAqnR1x.s:4093   .text.KAL_TaskRegSet:0000000000000000 KAL_TaskRegSet
     /tmp/ccAqnR1x.s:4210   .text.KAL_TaskRegSet:0000000000000048 $d
     /tmp/ccAqnR1x.s:4216   .text.KAL_TickGet:0000000000000000 $t
     /tmp/ccAqnR1x.s:4223   .text.KAL_TickGet:0000000000000000 KAL_TickGet
     /tmp/ccAqnR1x.s:4354   .rodata.KAL_TaskRegHandleNull:0000000000000000 KAL_TaskRegHandleNull
     /tmp/ccAqnR1x.s:4336   .rodata.KAL_QHandleNull:0000000000000000 KAL_QHandleNull
     /tmp/ccAqnR1x.s:4366   .rodata.KAL_TmrHandleNull:0000000000000000 KAL_TmrHandleNull
     /tmp/ccAqnR1x.s:4342   .rodata.KAL_SemHandleNull:0000000000000000 KAL_SemHandleNull
     /tmp/ccAqnR1x.s:4330   .rodata.KAL_LockHandleNull:0000000000000000 KAL_LockHandleNull
     /tmp/ccAqnR1x.s:4348   .rodata.KAL_TaskHandleNull:0000000000000000 KAL_TaskHandleNull
     /tmp/ccAqnR1x.s:4360   .rodata.KAL_TickRate:0000000000000000 KAL_TickRate
     /tmp/ccAqnR1x.s:4372   .rodata.KAL_Version:0000000000000000 KAL_Version
     /tmp/ccAqnR1x.s:4308   .bss.KAL_DataPtr:0000000000000000 $d
     /tmp/ccAqnR1x.s:4312   .bss.KAL_DataPtr:0000000000000000 KAL_DataPtr
     /tmp/ccAqnR1x.s:4318   .bss.KAL_InitStatus:0000000000000000 KAL_InitStatus
     /tmp/ccAqnR1x.s:4319   .bss.KAL_InitStatus:0000000000000000 $d
     /tmp/ccAqnR1x.s:4324   .bss.KAL_IsInit:0000000000000000 KAL_IsInit
     /tmp/ccAqnR1x.s:4325   .bss.KAL_IsInit:0000000000000000 $d
     /tmp/ccAqnR1x.s:4327   .rodata.KAL_LockHandleNull:0000000000000000 $d
     /tmp/ccAqnR1x.s:4333   .rodata.KAL_QHandleNull:0000000000000000 $d
     /tmp/ccAqnR1x.s:4339   .rodata.KAL_SemHandleNull:0000000000000000 $d
     /tmp/ccAqnR1x.s:4345   .rodata.KAL_TaskHandleNull:0000000000000000 $d
     /tmp/ccAqnR1x.s:4351   .rodata.KAL_TaskRegHandleNull:0000000000000000 $d
     /tmp/ccAqnR1x.s:4357   .rodata.KAL_TickRate:0000000000000000 $d
     /tmp/ccAqnR1x.s:4363   .rodata.KAL_TmrHandleNull:0000000000000000 $d
     /tmp/ccAqnR1x.s:4369   .rodata.KAL_Version:0000000000000000 $d
     /tmp/ccAqnR1x.s:1053   .text.KAL_FeatureQuery:000000000000001b $d
     /tmp/ccAqnR1x.s:1053   .text.KAL_FeatureQuery:000000000000001c $t
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.51.bda0b8f45c33e87ce41267758624493c
                           .group:0000000000000000 wm4.lib_cfg.h.40.b2958733f73e73af70f675ca0f89303e
                           .group:0000000000000000 wm4.lib_mem.h.121.89b942a057fb20091baad8bf6b28b1e6
ARM GAS  /tmp/ccAqnR1x.s 			page 147


                           .group:0000000000000000 wm4.kal.h.73.f0d6aab0dc0d5c025d73fc9a68f5745d
                           .group:0000000000000000 wm4.lib_math.h.71.573f4f2b01b7c6b014b60b4987cfb00b
                           .group:0000000000000000 wm4.os.h.38.05c7a360e844508f9424830362f7eef3
                           .group:0000000000000000 wm4.os_cfg.h.36.1682609214807c39119743015cd1b75b
                           .group:0000000000000000 wm4.os_cfg_app.h.36.9d01bed009cfc3a5184d9a87250e45bf
                           .group:0000000000000000 wm4.os_cpu.h.45.281d793567585e56a091270c28fc7efc
                           .group:0000000000000000 wm4.os_trace.h.37.a6badbf6e748c370e142a9584653748e
                           .group:0000000000000000 wm4.os.h.95.7b45e7e080367d299efd03f7510809bc

UNDEFINED SYMBOLS
CPU_SR_Save
CPU_SR_Restore
Mem_SegAlloc
CPU_SW_Exception
OSTimeDly
Mem_DynPoolCreate
Mem_SegAllocExt
OSTaskCreate
OSTaskDel
Mem_DynPoolBlkGet
OSMutexCreate
Mem_DynPoolBlkFree
OSMutexPend
OSMutexPost
OSMutexDel
OSSemCreate
OSSemPend
OSSemPost
OSSemPendAbort
OSSemSet
OSSemDel
OSTmrCreate
OSTmrStart
OSQCreate
OSQPend
OSQPost
OSTaskRegGetID
OSTaskRegGet
OSTCBCurPtr
OSTaskRegSet
OSTimeGet
