ARM GAS  /tmp/cccHCpmH.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fs_file.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.FSFile_ObjClr,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	FSFile_ObjClr:
  26              	.LVL0:
  27              	.LFB27:
  28              		.file 1 "rtos/uC-FS/Source/fs_file.c"
   1:rtos/uC-FS/Source/fs_file.c **** /*
   2:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
   3:rtos/uC-FS/Source/fs_file.c **** *                                                uC/FS
   4:rtos/uC-FS/Source/fs_file.c **** *                                      The Embedded File System
   5:rtos/uC-FS/Source/fs_file.c **** *
   6:rtos/uC-FS/Source/fs_file.c **** *                         (c) Copyright 2008-2019; Silicon Laboratories Inc.,
   7:rtos/uC-FS/Source/fs_file.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uC-FS/Source/fs_file.c **** *
   9:rtos/uC-FS/Source/fs_file.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uC-FS/Source/fs_file.c **** *
  11:rtos/uC-FS/Source/fs_file.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uC-FS/Source/fs_file.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uC-FS/Source/fs_file.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uC-FS/Source/fs_file.c **** *                  license, you may not use this software.
  15:rtos/uC-FS/Source/fs_file.c **** *
  16:rtos/uC-FS/Source/fs_file.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uC-FS/Source/fs_file.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uC-FS/Source/fs_file.c **** *
  19:rtos/uC-FS/Source/fs_file.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uC-FS/Source/fs_file.c **** *
  21:rtos/uC-FS/Source/fs_file.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  23:rtos/uC-FS/Source/fs_file.c **** */
  24:rtos/uC-FS/Source/fs_file.c **** 
  25:rtos/uC-FS/Source/fs_file.c **** /*
  26:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  27:rtos/uC-FS/Source/fs_file.c **** *
  28:rtos/uC-FS/Source/fs_file.c **** *                                  FILE SYSTEM SUITE FILE MANAGEMENT
  29:rtos/uC-FS/Source/fs_file.c **** *
  30:rtos/uC-FS/Source/fs_file.c **** * Filename : fs_file.c
ARM GAS  /tmp/cccHCpmH.s 			page 2


  31:rtos/uC-FS/Source/fs_file.c **** * Version  : v4.07.06
  32:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  33:rtos/uC-FS/Source/fs_file.c **** */
  34:rtos/uC-FS/Source/fs_file.c **** 
  35:rtos/uC-FS/Source/fs_file.c **** /*
  36:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  37:rtos/uC-FS/Source/fs_file.c **** *                                               MODULE
  38:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  39:rtos/uC-FS/Source/fs_file.c **** */
  40:rtos/uC-FS/Source/fs_file.c **** 
  41:rtos/uC-FS/Source/fs_file.c **** #define  MICRIUM_SOURCE
  42:rtos/uC-FS/Source/fs_file.c **** #define  FS_FILE_MODULE
  43:rtos/uC-FS/Source/fs_file.c **** 
  44:rtos/uC-FS/Source/fs_file.c **** 
  45:rtos/uC-FS/Source/fs_file.c **** /*
  46:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  47:rtos/uC-FS/Source/fs_file.c **** *                                            INCLUDE FILES
  48:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  49:rtos/uC-FS/Source/fs_file.c **** */
  50:rtos/uC-FS/Source/fs_file.c **** 
  51:rtos/uC-FS/Source/fs_file.c **** #include  <cpu.h>
  52:rtos/uC-FS/Source/fs_file.c **** #include  <cpu_core.h>
  53:rtos/uC-FS/Source/fs_file.c **** #include  <lib_mem.h>
  54:rtos/uC-FS/Source/fs_file.c **** #include  "fs.h"
  55:rtos/uC-FS/Source/fs_file.c **** #include  "fs_buf.h"
  56:rtos/uC-FS/Source/fs_file.c **** #include  "fs_dev.h"
  57:rtos/uC-FS/Source/fs_file.c **** #include  "fs_file.h"
  58:rtos/uC-FS/Source/fs_file.c **** #include  "fs_sys.h"
  59:rtos/uC-FS/Source/fs_file.c **** #include  "fs_vol.h"
  60:rtos/uC-FS/Source/fs_file.c **** #include  "../FAT/fs_fat.h"
  61:rtos/uC-FS/Source/fs_file.c **** 
  62:rtos/uC-FS/Source/fs_file.c **** 
  63:rtos/uC-FS/Source/fs_file.c **** /*
  64:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  65:rtos/uC-FS/Source/fs_file.c **** *                                            LOCAL DEFINES
  66:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  67:rtos/uC-FS/Source/fs_file.c **** */
  68:rtos/uC-FS/Source/fs_file.c **** 
  69:rtos/uC-FS/Source/fs_file.c **** #define FS_FILE_ALL_WR_ACCESS_MODE          (FS_FILE_ACCESS_MODE_WR       | FS_FILE_ACCESS_MODE_CRE
  70:rtos/uC-FS/Source/fs_file.c ****                                              FS_FILE_ACCESS_MODE_EXCL     | FS_FILE_ACCESS_MODE_APP
  71:rtos/uC-FS/Source/fs_file.c ****                                              FS_FILE_ACCESS_MODE_TRUNCATE)
  72:rtos/uC-FS/Source/fs_file.c **** 
  73:rtos/uC-FS/Source/fs_file.c **** /*
  74:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  75:rtos/uC-FS/Source/fs_file.c **** *                                           LOCAL CONSTANTS
  76:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  77:rtos/uC-FS/Source/fs_file.c **** */
  78:rtos/uC-FS/Source/fs_file.c **** 
  79:rtos/uC-FS/Source/fs_file.c **** 
  80:rtos/uC-FS/Source/fs_file.c **** /*
  81:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  82:rtos/uC-FS/Source/fs_file.c **** *                                          LOCAL DATA TYPES
  83:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  84:rtos/uC-FS/Source/fs_file.c **** */
  85:rtos/uC-FS/Source/fs_file.c **** 
  86:rtos/uC-FS/Source/fs_file.c **** 
  87:rtos/uC-FS/Source/fs_file.c **** /*
ARM GAS  /tmp/cccHCpmH.s 			page 3


  88:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  89:rtos/uC-FS/Source/fs_file.c **** *                                            LOCAL TABLES
  90:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  91:rtos/uC-FS/Source/fs_file.c **** */
  92:rtos/uC-FS/Source/fs_file.c **** 
  93:rtos/uC-FS/Source/fs_file.c **** 
  94:rtos/uC-FS/Source/fs_file.c **** /*
  95:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  96:rtos/uC-FS/Source/fs_file.c **** *                                       LOCAL GLOBAL VARIABLES
  97:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
  98:rtos/uC-FS/Source/fs_file.c **** */
  99:rtos/uC-FS/Source/fs_file.c **** 
 100:rtos/uC-FS/Source/fs_file.c **** FS_STATIC  MEM_POOL    FSFile_Pool;                             /* Pool of files.                  
 101:rtos/uC-FS/Source/fs_file.c **** FS_STATIC  FS_FILE   **FSFile_Tbl;                              /* Tbl of files.                   
 102:rtos/uC-FS/Source/fs_file.c **** 
 103:rtos/uC-FS/Source/fs_file.c **** FS_STATIC  FS_QTY      FSFile_FileCntMax;                       /* Maximum number of open files.   
 104:rtos/uC-FS/Source/fs_file.c **** FS_STATIC  FS_QTY      FSFile_Cnt;
 105:rtos/uC-FS/Source/fs_file.c **** 
 106:rtos/uC-FS/Source/fs_file.c **** 
 107:rtos/uC-FS/Source/fs_file.c **** /*
 108:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 109:rtos/uC-FS/Source/fs_file.c **** *                                      LOCAL FUNCTION PROTOTYPES
 110:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 111:rtos/uC-FS/Source/fs_file.c **** */
 112:rtos/uC-FS/Source/fs_file.c **** 
 113:rtos/uC-FS/Source/fs_file.c ****                                                                             /* ------------- BUFFER
 114:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
 115:rtos/uC-FS/Source/fs_file.c **** static  void         FSFile_BufEmpty          (FS_FILE       *p_file,       /* Empty a file's buffe
 116:rtos/uC-FS/Source/fs_file.c ****                                                FS_ERR        *p_err);
 117:rtos/uC-FS/Source/fs_file.c **** 
 118:rtos/uC-FS/Source/fs_file.c **** static  CPU_SIZE_T   FSFile_BufRd             (FS_FILE       *p_file,       /* Read from a file (th
 119:rtos/uC-FS/Source/fs_file.c ****                                                void          *p_dest,
 120:rtos/uC-FS/Source/fs_file.c ****                                                CPU_SIZE_T     size,
 121:rtos/uC-FS/Source/fs_file.c ****                                                FS_ERR        *p_err);
 122:rtos/uC-FS/Source/fs_file.c **** 
 123:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
 124:rtos/uC-FS/Source/fs_file.c **** static  CPU_SIZE_T   FSFile_BufWr             (FS_FILE       *p_file,       /* Write to a file (thr
 125:rtos/uC-FS/Source/fs_file.c ****                                                void          *p_src,
 126:rtos/uC-FS/Source/fs_file.c ****                                                CPU_SIZE_T     size,
 127:rtos/uC-FS/Source/fs_file.c ****                                                FS_ERR        *p_err);
 128:rtos/uC-FS/Source/fs_file.c **** #endif
 129:rtos/uC-FS/Source/fs_file.c **** #endif
 130:rtos/uC-FS/Source/fs_file.c **** 
 131:rtos/uC-FS/Source/fs_file.c **** 
 132:rtos/uC-FS/Source/fs_file.c ****                                                                             /* ------------ ACCESS 
 133:rtos/uC-FS/Source/fs_file.c **** static  FS_FILE      *FSFile_AcquireLockChk   (FS_FILE       *p_file,       /* Acquire file referen
 134:rtos/uC-FS/Source/fs_file.c ****                                                FS_ERR        *p_err);
 135:rtos/uC-FS/Source/fs_file.c **** 
 136:rtos/uC-FS/Source/fs_file.c **** static  FS_FILE      *FSFile_Acquire          (FS_FILE       *p_file);      /* Acquire file referen
 137:rtos/uC-FS/Source/fs_file.c **** 
 138:rtos/uC-FS/Source/fs_file.c **** static  void          FSFile_ReleaseUnlock    (FS_FILE       *p_file);      /* Release file referen
 139:rtos/uC-FS/Source/fs_file.c **** 
 140:rtos/uC-FS/Source/fs_file.c **** static  void          FSFile_Release          (FS_FILE       *p_file);      /* Release file referen
 141:rtos/uC-FS/Source/fs_file.c **** 
 142:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN   FSFile_Lock             (FS_FILE       *p_file);      /* Acquire file lock.  
 143:rtos/uC-FS/Source/fs_file.c **** 
 144:rtos/uC-FS/Source/fs_file.c **** static  void          FSFile_Unlock           (FS_FILE       *p_file);      /* Release file lock.  
ARM GAS  /tmp/cccHCpmH.s 			page 4


 145:rtos/uC-FS/Source/fs_file.c **** 
 146:rtos/uC-FS/Source/fs_file.c **** 
 147:rtos/uC-FS/Source/fs_file.c ****                                                                             /* ----------- FILE LOC
 148:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
 149:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN   FSFile_LockAcceptHandler(FS_FILE       *p_file);      /* Accept  file lock.  
 150:rtos/uC-FS/Source/fs_file.c **** 
 151:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN   FSFile_LockGetHandler   (FS_FILE       *p_file);      /* Acquire file lock.  
 152:rtos/uC-FS/Source/fs_file.c **** 
 153:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN   FSFile_LockSetHandler   (FS_FILE       *p_file);      /* Release file lock.  
 154:rtos/uC-FS/Source/fs_file.c **** #endif
 155:rtos/uC-FS/Source/fs_file.c **** 
 156:rtos/uC-FS/Source/fs_file.c **** 
 157:rtos/uC-FS/Source/fs_file.c ****                                                                             /* -------- FILE OBJECT
 158:rtos/uC-FS/Source/fs_file.c **** static  void          FSFile_ObjClr           (FS_FILE       *p_file);      /* Clear    a file obje
 159:rtos/uC-FS/Source/fs_file.c **** 
 160:rtos/uC-FS/Source/fs_file.c **** static  void          FSFile_ObjFree          (FS_FILE       *p_file);      /* Free     a file obje
 161:rtos/uC-FS/Source/fs_file.c **** 
 162:rtos/uC-FS/Source/fs_file.c **** static  FS_FILE      *FSFile_ObjGet           (FS_ERR        *p_err);       /* Allocate a file obje
 163:rtos/uC-FS/Source/fs_file.c **** 
 164:rtos/uC-FS/Source/fs_file.c **** 
 165:rtos/uC-FS/Source/fs_file.c ****                                                                             /* ------------- NAME P
 166:rtos/uC-FS/Source/fs_file.c **** static  CPU_CHAR     *FSFile_NameParseChk     (CPU_CHAR      *name_full,    /* Parse full file name
 167:rtos/uC-FS/Source/fs_file.c ****                                                FS_VOL       **pp_vol,
 168:rtos/uC-FS/Source/fs_file.c ****                                                FS_ERR        *p_err);
 169:rtos/uC-FS/Source/fs_file.c **** 
 170:rtos/uC-FS/Source/fs_file.c **** 
 171:rtos/uC-FS/Source/fs_file.c **** /*
 172:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 173:rtos/uC-FS/Source/fs_file.c **** *                                     LOCAL CONFIGURATION ERRORS
 174:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 175:rtos/uC-FS/Source/fs_file.c **** */
 176:rtos/uC-FS/Source/fs_file.c **** 
 177:rtos/uC-FS/Source/fs_file.c **** 
 178:rtos/uC-FS/Source/fs_file.c **** /*
 179:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 180:rtos/uC-FS/Source/fs_file.c **** *                                         FSFile_BufAssign()
 181:rtos/uC-FS/Source/fs_file.c **** *
 182:rtos/uC-FS/Source/fs_file.c **** * Description : Assign buffer to a file.
 183:rtos/uC-FS/Source/fs_file.c **** *
 184:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 185:rtos/uC-FS/Source/fs_file.c **** *
 186:rtos/uC-FS/Source/fs_file.c **** *               p_buf       Pointer to buffer.
 187:rtos/uC-FS/Source/fs_file.c **** *
 188:rtos/uC-FS/Source/fs_file.c **** *               mode        Buffer mode :
 189:rtos/uC-FS/Source/fs_file.c **** *
 190:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_BUF_MODE_RD       Data buffered for reads.
 191:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_BUF_MODE_WR       Data buffered for writes.
 192:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_BUF_MODE_RD_WR    Data buffered for reads & writes.
 193:rtos/uC-FS/Source/fs_file.c **** *
 194:rtos/uC-FS/Source/fs_file.c **** *               size        Size of buffer, in octets.
 195:rtos/uC-FS/Source/fs_file.c **** *
 196:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 197:rtos/uC-FS/Source/fs_file.c **** *
 198:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                         File buffer assigned.
 199:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR                     Argument 'p_file' or 'p_buf' pa
 200:rtos/uC-FS/Source/fs_file.c **** *                                                                       NULL pointer.
 201:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE                 Argument 'p_file's TYPE is inva
ARM GAS  /tmp/cccHCpmH.s 			page 5


 202:rtos/uC-FS/Source/fs_file.c **** *                                                                       unknown.
 203:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_BUF_MODE        Invalid buffer mode.
 204:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_BUF_SIZE        Invalid buffer size.
 205:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_BUF_ALREADY_ASSIGNED    Buffer already assigned.
 206:rtos/uC-FS/Source/fs_file.c **** *
 207:rtos/uC-FS/Source/fs_file.c **** *                                                                   --- RETURNED BY FSFile_AcquireL
 208:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD                    Device has changed.
 209:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN                File NOT open.
 210:rtos/uC-FS/Source/fs_file.c **** *
 211:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
 212:rtos/uC-FS/Source/fs_file.c **** *
 213:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) 'FSFile_BufAssign()' MUST be used after 'p_file' is opened but before any other
 214:rtos/uC-FS/Source/fs_file.c **** *                   operation is performed on 'p_file', except 'FSFile_Query()'.
 215:rtos/uC-FS/Source/fs_file.c **** *
 216:rtos/uC-FS/Source/fs_file.c **** *               (2) 'size' MUST be more than or equal to the size of one sector; it will be rounded
 217:rtos/uC-FS/Source/fs_file.c **** *                   to the nearest size of a multiple of full sectors.
 218:rtos/uC-FS/Source/fs_file.c **** *
 219:rtos/uC-FS/Source/fs_file.c **** *               (3) Once a buffer is assigned to a file, a new buffer may not be assigned nor may t
 220:rtos/uC-FS/Source/fs_file.c **** *                   assigned buffer be removed.  To change the buffer, the file should be closed &
 221:rtos/uC-FS/Source/fs_file.c **** *                   re-opened.
 222:rtos/uC-FS/Source/fs_file.c **** *
 223:rtos/uC-FS/Source/fs_file.c **** *               (4) Upon power loss, any data stored in file buffers will be lost.
 224:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 225:rtos/uC-FS/Source/fs_file.c **** */
 226:rtos/uC-FS/Source/fs_file.c **** 
 227:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
 228:rtos/uC-FS/Source/fs_file.c **** void  FSFile_BufAssign (FS_FILE     *p_file,
 229:rtos/uC-FS/Source/fs_file.c ****                         void        *p_buf,
 230:rtos/uC-FS/Source/fs_file.c ****                         FS_FLAGS     mode,
 231:rtos/uC-FS/Source/fs_file.c ****                         CPU_SIZE_T   size,
 232:rtos/uC-FS/Source/fs_file.c ****                         FS_ERR      *p_err)
 233:rtos/uC-FS/Source/fs_file.c **** {
 234:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS    access_mode;
 235:rtos/uC-FS/Source/fs_file.c ****     FS_STATE    buf_status;
 236:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  sec_size;
 237:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  size_rem;
 238:rtos/uC-FS/Source/fs_file.c **** 
 239:rtos/uC-FS/Source/fs_file.c **** 
 240:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 241:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 242:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 243:rtos/uC-FS/Source/fs_file.c ****     }
 244:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 245:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 246:rtos/uC-FS/Source/fs_file.c ****         return;
 247:rtos/uC-FS/Source/fs_file.c ****     }
 248:rtos/uC-FS/Source/fs_file.c ****     if (p_buf == (void *)0) {                                   /* Validate buf ptr.               
 249:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 250:rtos/uC-FS/Source/fs_file.c ****         return;
 251:rtos/uC-FS/Source/fs_file.c ****     }
 252:rtos/uC-FS/Source/fs_file.c ****     if (mode == FS_FILE_BUF_MODE_NONE) {                        /* Validate 'none' cache mode.     
 253:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 254:rtos/uC-FS/Source/fs_file.c ****         return;
 255:rtos/uC-FS/Source/fs_file.c ****     }
 256:rtos/uC-FS/Source/fs_file.c ****     if ((mode != FS_FILE_BUF_MODE_RD) &&                        /* Validate cache mode.            
 257:rtos/uC-FS/Source/fs_file.c ****         (mode != FS_FILE_BUF_MODE_WR) &&
 258:rtos/uC-FS/Source/fs_file.c ****         (mode != FS_FILE_BUF_MODE_RD_WR)) {
ARM GAS  /tmp/cccHCpmH.s 			page 6


 259:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_BUF_MODE;
 260:rtos/uC-FS/Source/fs_file.c ****         return;
 261:rtos/uC-FS/Source/fs_file.c ****     }
 262:rtos/uC-FS/Source/fs_file.c **** #endif
 263:rtos/uC-FS/Source/fs_file.c **** 
 264:rtos/uC-FS/Source/fs_file.c **** 
 265:rtos/uC-FS/Source/fs_file.c **** 
 266:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
 267:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
 268:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 269:rtos/uC-FS/Source/fs_file.c ****          return;
 270:rtos/uC-FS/Source/fs_file.c ****     }
 271:rtos/uC-FS/Source/fs_file.c **** 
 272:rtos/uC-FS/Source/fs_file.c **** 
 273:rtos/uC-FS/Source/fs_file.c **** 
 274:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- VALIDATE BUF
 275:rtos/uC-FS/Source/fs_file.c ****     sec_size = (CPU_SIZE_T)p_file->BufSecSize;
 276:rtos/uC-FS/Source/fs_file.c ****     if (size < sec_size) {                                      /* Rtn err if size is less than sec
 277:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_BUF_SIZE;
 278:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 279:rtos/uC-FS/Source/fs_file.c ****         return;
 280:rtos/uC-FS/Source/fs_file.c ****     }
 281:rtos/uC-FS/Source/fs_file.c **** 
 282:rtos/uC-FS/Source/fs_file.c ****     access_mode = p_file->AccessMode;                           /* If buf mode does not match acces
 283:rtos/uC-FS/Source/fs_file.c ****     if (((mode == FS_FILE_BUF_MODE_RD) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_RD) == D
 284:rtos/uC-FS/Source/fs_file.c ****         ((mode == FS_FILE_BUF_MODE_WR) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_WR) == D
 285:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_BUF_MODE;
 286:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 287:rtos/uC-FS/Source/fs_file.c ****         return;
 288:rtos/uC-FS/Source/fs_file.c ****     }
 289:rtos/uC-FS/Source/fs_file.c **** 
 290:rtos/uC-FS/Source/fs_file.c ****     buf_status = p_file->BufStatus;                             /* If buf has already been assigned
 291:rtos/uC-FS/Source/fs_file.c ****     if (buf_status != FS_FILE_BUF_STATUS_NONE) {
 292:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_BUF_ALREADY_ASSIGNED;
 293:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 294:rtos/uC-FS/Source/fs_file.c ****         return;
 295:rtos/uC-FS/Source/fs_file.c ****     }
 296:rtos/uC-FS/Source/fs_file.c **** 
 297:rtos/uC-FS/Source/fs_file.c **** 
 298:rtos/uC-FS/Source/fs_file.c **** 
 299:rtos/uC-FS/Source/fs_file.c ****                                                                 /* -------------------- ASSIGN BUF 
 300:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Rnd size DOWN to nearest sec siz
 301:rtos/uC-FS/Source/fs_file.c ****     size_rem           = size % sec_size;
 302:rtos/uC-FS/Source/fs_file.c ****     size              -= size_rem;
 303:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMode    = mode;
 304:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStatus  = FS_FILE_BUF_STATUS_EMPTY;
 305:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStart   = 0u;
 306:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMaxPos  = 0u;
 307:rtos/uC-FS/Source/fs_file.c ****     p_file->BufSize    = size;
 308:rtos/uC-FS/Source/fs_file.c ****     p_file->BufPtr     = p_buf;
 309:rtos/uC-FS/Source/fs_file.c **** 
 310:rtos/uC-FS/Source/fs_file.c **** 
 311:rtos/uC-FS/Source/fs_file.c **** 
 312:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
 313:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
 314:rtos/uC-FS/Source/fs_file.c **** 
 315:rtos/uC-FS/Source/fs_file.c ****    *p_err = FS_ERR_NONE;
ARM GAS  /tmp/cccHCpmH.s 			page 7


 316:rtos/uC-FS/Source/fs_file.c **** }
 317:rtos/uC-FS/Source/fs_file.c **** #endif
 318:rtos/uC-FS/Source/fs_file.c **** 
 319:rtos/uC-FS/Source/fs_file.c **** 
 320:rtos/uC-FS/Source/fs_file.c **** /*
 321:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 322:rtos/uC-FS/Source/fs_file.c **** *                                            FSFile_BufFlush()
 323:rtos/uC-FS/Source/fs_file.c **** *
 324:rtos/uC-FS/Source/fs_file.c **** * Description : Flush buffer contents to file.
 325:rtos/uC-FS/Source/fs_file.c **** *
 326:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 327:rtos/uC-FS/Source/fs_file.c **** *
 328:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 329:rtos/uC-FS/Source/fs_file.c **** *
 330:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                File buffer flushed successfully.
 331:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR            Argument 'p_file' passed a NULL pointer.
 332:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE        Argument 'p_file's TYPE is invalid or un
 333:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_ERR            File has error (see Note #3).
 334:rtos/uC-FS/Source/fs_file.c **** *
 335:rtos/uC-FS/Source/fs_file.c **** *                                                          ----- RETURNED BY FSFile_AcquireLockChk(
 336:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD           Device has changed.
 337:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN       File NOT open.
 338:rtos/uC-FS/Source/fs_file.c **** *
 339:rtos/uC-FS/Source/fs_file.c **** *                                                          -------- RETURNED BY FSFile_BufEmpty() -
 340:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL      No buffer available.
 341:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV                 Device access error.
 342:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL            Device is full (no space could be alloca
 343:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT       File system entry is corrupt.
 344:rtos/uC-FS/Source/fs_file.c **** *
 345:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
 346:rtos/uC-FS/Source/fs_file.c **** *
 347:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) (a) If the most recent operation is output (write), all unwritten data is writt
 348:rtos/uC-FS/Source/fs_file.c **** *                       to the file.
 349:rtos/uC-FS/Source/fs_file.c **** *
 350:rtos/uC-FS/Source/fs_file.c **** *                   (b) If the most recent operation is input  (read),  all buffered  data is clear
 351:rtos/uC-FS/Source/fs_file.c **** *
 352:rtos/uC-FS/Source/fs_file.c **** *                   (c) If a read or write error occurs, the error indicator is set.
 353:rtos/uC-FS/Source/fs_file.c **** *
 354:rtos/uC-FS/Source/fs_file.c **** *               (2) See 'fs_flush()  Note(s)'.
 355:rtos/uC-FS/Source/fs_file.c **** *
 356:rtos/uC-FS/Source/fs_file.c **** *               (3) If an error occurred in the previous file access, the error indicator must be
 357:rtos/uC-FS/Source/fs_file.c **** *                   cleared (with 'FSFile_ClrErr()') before another access will be allowed.
 358:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 359:rtos/uC-FS/Source/fs_file.c **** */
 360:rtos/uC-FS/Source/fs_file.c **** 
 361:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
 362:rtos/uC-FS/Source/fs_file.c **** void  FSFile_BufFlush (FS_FILE  *p_file,
 363:rtos/uC-FS/Source/fs_file.c ****                        FS_ERR   *p_err)
 364:rtos/uC-FS/Source/fs_file.c **** {
 365:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 366:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 367:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 368:rtos/uC-FS/Source/fs_file.c ****     }
 369:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 370:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 371:rtos/uC-FS/Source/fs_file.c ****         return;
 372:rtos/uC-FS/Source/fs_file.c ****     }
ARM GAS  /tmp/cccHCpmH.s 			page 8


 373:rtos/uC-FS/Source/fs_file.c **** #endif
 374:rtos/uC-FS/Source/fs_file.c **** 
 375:rtos/uC-FS/Source/fs_file.c **** 
 376:rtos/uC-FS/Source/fs_file.c **** 
 377:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
 378:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
 379:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 380:rtos/uC-FS/Source/fs_file.c ****          return;
 381:rtos/uC-FS/Source/fs_file.c ****     }
 382:rtos/uC-FS/Source/fs_file.c **** 
 383:rtos/uC-FS/Source/fs_file.c ****     if (p_file->FlagErr == DEF_YES) {                           /* Chk for file err (see Note #3). 
 384:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 385:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
 386:rtos/uC-FS/Source/fs_file.c ****         return;
 387:rtos/uC-FS/Source/fs_file.c ****     }
 388:rtos/uC-FS/Source/fs_file.c **** 
 389:rtos/uC-FS/Source/fs_file.c **** 
 390:rtos/uC-FS/Source/fs_file.c **** 
 391:rtos/uC-FS/Source/fs_file.c ****                                                                 /* --------------------- EMPTY BUF 
 392:rtos/uC-FS/Source/fs_file.c ****     if ((p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_RD) ||
 393:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 394:rtos/uC-FS/Source/fs_file.c ****         FSFile_BufEmpty(p_file, p_err);                         /* Empty buf (see Notes #1a, 1b).  
 395:rtos/uC-FS/Source/fs_file.c **** 
 396:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {                            /* Rtn if rd/wr err (see Note #1c).
 397:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 398:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 399:rtos/uC-FS/Source/fs_file.c ****             return;
 400:rtos/uC-FS/Source/fs_file.c ****         }
 401:rtos/uC-FS/Source/fs_file.c ****     }
 402:rtos/uC-FS/Source/fs_file.c **** 
 403:rtos/uC-FS/Source/fs_file.c ****     p_file->IO_State = FS_FILE_IO_STATE_NONE;
 404:rtos/uC-FS/Source/fs_file.c **** 
 405:rtos/uC-FS/Source/fs_file.c **** 
 406:rtos/uC-FS/Source/fs_file.c **** 
 407:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
 408:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
 409:rtos/uC-FS/Source/fs_file.c **** }
 410:rtos/uC-FS/Source/fs_file.c **** #endif
 411:rtos/uC-FS/Source/fs_file.c **** 
 412:rtos/uC-FS/Source/fs_file.c **** 
 413:rtos/uC-FS/Source/fs_file.c **** /*
 414:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 415:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_Close()
 416:rtos/uC-FS/Source/fs_file.c **** *
 417:rtos/uC-FS/Source/fs_file.c **** * Description : Close & free a file.
 418:rtos/uC-FS/Source/fs_file.c **** *
 419:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 420:rtos/uC-FS/Source/fs_file.c **** *
 421:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 422:rtos/uC-FS/Source/fs_file.c **** *
 423:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File closed.
 424:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
 425:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
 426:rtos/uC-FS/Source/fs_file.c **** *
 427:rtos/uC-FS/Source/fs_file.c **** *
 428:rtos/uC-FS/Source/fs_file.c **** *                                                       ------ RETURNED BY FSFile_AcquireLockChk() 
 429:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
ARM GAS  /tmp/cccHCpmH.s 			page 9


 430:rtos/uC-FS/Source/fs_file.c **** *
 431:rtos/uC-FS/Source/fs_file.c **** *                                                       --------- RETURNED BY FSFile_BufEmpty() ---
 432:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL   No buffer available.
 433:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV              Device access error.
 434:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL         Device is full (no space could be allocated
 435:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT    File system entry is corrupt.
 436:rtos/uC-FS/Source/fs_file.c **** *
 437:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
 438:rtos/uC-FS/Source/fs_file.c **** *
 439:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) After a file is closed, the application must desist from accessing its file poi
 440:rtos/uC-FS/Source/fs_file.c **** *                   This could cause file system corruption, since this handle may be re-used for a
 441:rtos/uC-FS/Source/fs_file.c **** *                   different file..
 442:rtos/uC-FS/Source/fs_file.c **** *
 443:rtos/uC-FS/Source/fs_file.c **** *               (2) (a) If the most recent operation is output (write), all unwritten data is writt
 444:rtos/uC-FS/Source/fs_file.c **** *                       to the file.
 445:rtos/uC-FS/Source/fs_file.c **** *
 446:rtos/uC-FS/Source/fs_file.c **** *                   (b) Any buffer assigned with 'FSFile_BufAssign()' shall no longer be accessed b
 447:rtos/uC-FS/Source/fs_file.c **** *                       file system & may be re-used by the application.
 448:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 449:rtos/uC-FS/Source/fs_file.c **** */
 450:rtos/uC-FS/Source/fs_file.c **** 
 451:rtos/uC-FS/Source/fs_file.c **** void  FSFile_Close (FS_FILE  *p_file,
 452:rtos/uC-FS/Source/fs_file.c ****                     FS_ERR   *p_err)
 453:rtos/uC-FS/Source/fs_file.c **** {
 454:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 455:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 456:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 457:rtos/uC-FS/Source/fs_file.c ****     }
 458:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 459:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 460:rtos/uC-FS/Source/fs_file.c ****         return;
 461:rtos/uC-FS/Source/fs_file.c ****     }
 462:rtos/uC-FS/Source/fs_file.c **** #endif
 463:rtos/uC-FS/Source/fs_file.c **** 
 464:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
 465:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
 466:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 467:rtos/uC-FS/Source/fs_file.c ****          return;
 468:rtos/uC-FS/Source/fs_file.c ****     }
 469:rtos/uC-FS/Source/fs_file.c **** 
 470:rtos/uC-FS/Source/fs_file.c **** 
 471:rtos/uC-FS/Source/fs_file.c **** 
 472:rtos/uC-FS/Source/fs_file.c ****                                                                 /* -------------------- CLOSE FILE 
 473:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)                         /* Flush file buf (see Note #2a).  
 474:rtos/uC-FS/Source/fs_file.c ****     FSFile_BufEmpty(p_file, p_err);
 475:rtos/uC-FS/Source/fs_file.c **** #endif
 476:rtos/uC-FS/Source/fs_file.c **** 
 477:rtos/uC-FS/Source/fs_file.c ****     FSSys_FileClose(p_file, p_err);
 478:rtos/uC-FS/Source/fs_file.c **** 
 479:rtos/uC-FS/Source/fs_file.c ****     FSVol_FileRemove(p_file->VolPtr, p_file);                   /* Unlink file from vol file list. 
 480:rtos/uC-FS/Source/fs_file.c ****     p_file->State = FS_FILE_STATE_CLOSING;
 481:rtos/uC-FS/Source/fs_file.c **** 
 482:rtos/uC-FS/Source/fs_file.c **** 
 483:rtos/uC-FS/Source/fs_file.c **** 
 484:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
 485:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
 486:rtos/uC-FS/Source/fs_file.c ****     FSFile_Release(p_file);                                     /* Release file ref init.          
ARM GAS  /tmp/cccHCpmH.s 			page 10


 487:rtos/uC-FS/Source/fs_file.c **** }
 488:rtos/uC-FS/Source/fs_file.c **** 
 489:rtos/uC-FS/Source/fs_file.c **** 
 490:rtos/uC-FS/Source/fs_file.c **** 
 491:rtos/uC-FS/Source/fs_file.c **** /*
 492:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 493:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_ClrErr()
 494:rtos/uC-FS/Source/fs_file.c **** *
 495:rtos/uC-FS/Source/fs_file.c **** * Description : Clear EOF & error indicators on a file.
 496:rtos/uC-FS/Source/fs_file.c **** *
 497:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 498:rtos/uC-FS/Source/fs_file.c **** *
 499:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 500:rtos/uC-FS/Source/fs_file.c **** *
 501:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             Error & end-of-file indicators cleared.
 502:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
 503:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
 504:rtos/uC-FS/Source/fs_file.c **** *
 505:rtos/uC-FS/Source/fs_file.c **** *                                                       ------ RETURNED BY FSFile_AcquireLockChk() 
 506:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD        Device has changed.
 507:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
 508:rtos/uC-FS/Source/fs_file.c **** *
 509:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
 510:rtos/uC-FS/Source/fs_file.c **** *
 511:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If an error occurred during the last access, either a read or a write will be p
 512:rtos/uC-FS/Source/fs_file.c **** *                   following the clearing of the error indicator.
 513:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 514:rtos/uC-FS/Source/fs_file.c **** */
 515:rtos/uC-FS/Source/fs_file.c **** 
 516:rtos/uC-FS/Source/fs_file.c **** void  FSFile_ClrErr (FS_FILE  *p_file,
 517:rtos/uC-FS/Source/fs_file.c ****                      FS_ERR   *p_err)
 518:rtos/uC-FS/Source/fs_file.c **** {
 519:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  was_err;
 520:rtos/uC-FS/Source/fs_file.c **** 
 521:rtos/uC-FS/Source/fs_file.c **** 
 522:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 523:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 524:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 525:rtos/uC-FS/Source/fs_file.c ****     }
 526:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 527:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 528:rtos/uC-FS/Source/fs_file.c ****         return;
 529:rtos/uC-FS/Source/fs_file.c ****     }
 530:rtos/uC-FS/Source/fs_file.c **** #endif
 531:rtos/uC-FS/Source/fs_file.c **** 
 532:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
 533:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
 534:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 535:rtos/uC-FS/Source/fs_file.c ****          return;
 536:rtos/uC-FS/Source/fs_file.c ****     }
 537:rtos/uC-FS/Source/fs_file.c **** 
 538:rtos/uC-FS/Source/fs_file.c **** 
 539:rtos/uC-FS/Source/fs_file.c **** 
 540:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- CLR ERR & EO
 541:rtos/uC-FS/Source/fs_file.c ****     was_err         = p_file->FlagErr;
 542:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagErr = DEF_NO;
 543:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;
ARM GAS  /tmp/cccHCpmH.s 			page 11


 544:rtos/uC-FS/Source/fs_file.c **** 
 545:rtos/uC-FS/Source/fs_file.c ****     if (was_err == DEF_YES) {
 546:rtos/uC-FS/Source/fs_file.c ****         p_file->IO_State = FS_FILE_IO_STATE_NONE;               /* See Note #1.                    
 547:rtos/uC-FS/Source/fs_file.c ****     }
 548:rtos/uC-FS/Source/fs_file.c **** 
 549:rtos/uC-FS/Source/fs_file.c **** 
 550:rtos/uC-FS/Source/fs_file.c **** 
 551:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
 552:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
 553:rtos/uC-FS/Source/fs_file.c **** 
 554:rtos/uC-FS/Source/fs_file.c ****    *p_err = FS_ERR_NONE;
 555:rtos/uC-FS/Source/fs_file.c **** }
 556:rtos/uC-FS/Source/fs_file.c **** 
 557:rtos/uC-FS/Source/fs_file.c **** 
 558:rtos/uC-FS/Source/fs_file.c **** /*
 559:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 560:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_IsEOF()
 561:rtos/uC-FS/Source/fs_file.c **** *
 562:rtos/uC-FS/Source/fs_file.c **** * Description : Test EOF indicator on a file.
 563:rtos/uC-FS/Source/fs_file.c **** *
 564:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 565:rtos/uC-FS/Source/fs_file.c **** *
 566:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 567:rtos/uC-FS/Source/fs_file.c **** *
 568:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             EOF indicator obtained.
 569:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
 570:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
 571:rtos/uC-FS/Source/fs_file.c **** *
 572:rtos/uC-FS/Source/fs_file.c **** *                                                       ------ RETURNED BY FSFile_AcquireLockChk() 
 573:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD        Device has changed.
 574:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
 575:rtos/uC-FS/Source/fs_file.c **** *
 576:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : DEF_NO,  if EOF indicator is NOT set OR if an error occurred.
 577:rtos/uC-FS/Source/fs_file.c **** *               DEF_YES, if EOF indicator is     set.
 578:rtos/uC-FS/Source/fs_file.c **** *
 579:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If the EOF indicator is set (i.e., 'FSFile_IsEOF()' returns DEF_YES), 'FSFile_C
 580:rtos/uC-FS/Source/fs_file.c **** *                   can be used to clear that indicator.
 581:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 582:rtos/uC-FS/Source/fs_file.c **** */
 583:rtos/uC-FS/Source/fs_file.c **** 
 584:rtos/uC-FS/Source/fs_file.c **** CPU_BOOLEAN  FSFile_IsEOF (FS_FILE  *p_file,
 585:rtos/uC-FS/Source/fs_file.c ****                            FS_ERR   *p_err)
 586:rtos/uC-FS/Source/fs_file.c **** {
 587:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  is_eof;
 588:rtos/uC-FS/Source/fs_file.c **** 
 589:rtos/uC-FS/Source/fs_file.c **** 
 590:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 591:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 592:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_NO);
 593:rtos/uC-FS/Source/fs_file.c ****     }
 594:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 595:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 596:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 597:rtos/uC-FS/Source/fs_file.c ****     }
 598:rtos/uC-FS/Source/fs_file.c **** #endif
 599:rtos/uC-FS/Source/fs_file.c **** 
 600:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
ARM GAS  /tmp/cccHCpmH.s 			page 12


 601:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
 602:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 603:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 604:rtos/uC-FS/Source/fs_file.c ****     }
 605:rtos/uC-FS/Source/fs_file.c **** 
 606:rtos/uC-FS/Source/fs_file.c ****     is_eof = p_file->FlagEOF;
 607:rtos/uC-FS/Source/fs_file.c **** 
 608:rtos/uC-FS/Source/fs_file.c **** 
 609:rtos/uC-FS/Source/fs_file.c **** 
 610:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
 611:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
 612:rtos/uC-FS/Source/fs_file.c **** 
 613:rtos/uC-FS/Source/fs_file.c ****    *p_err = FS_ERR_NONE;
 614:rtos/uC-FS/Source/fs_file.c ****     return (is_eof);
 615:rtos/uC-FS/Source/fs_file.c **** }
 616:rtos/uC-FS/Source/fs_file.c **** 
 617:rtos/uC-FS/Source/fs_file.c **** 
 618:rtos/uC-FS/Source/fs_file.c **** /*
 619:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 620:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_IsErr()
 621:rtos/uC-FS/Source/fs_file.c **** *
 622:rtos/uC-FS/Source/fs_file.c **** * Description : Test error indicator on a file.
 623:rtos/uC-FS/Source/fs_file.c **** *
 624:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 625:rtos/uC-FS/Source/fs_file.c **** *
 626:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 627:rtos/uC-FS/Source/fs_file.c **** *
 628:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             Error indicator obtained.
 629:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
 630:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
 631:rtos/uC-FS/Source/fs_file.c **** *
 632:rtos/uC-FS/Source/fs_file.c **** *                                                       ------ RETURNED BY FSFile_AcquireLockChk() 
 633:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD        Device has changed.
 634:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
 635:rtos/uC-FS/Source/fs_file.c **** *
 636:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : DEF_NO,  if error indicator is NOT set OR if an error occurred.
 637:rtos/uC-FS/Source/fs_file.c **** *               DEF_YES, if error indicator is     set.
 638:rtos/uC-FS/Source/fs_file.c **** *
 639:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If the error indicator is set (i.e., 'FSFile_IsErr()' returns DEF_YES), 'FSFile
 640:rtos/uC-FS/Source/fs_file.c **** *                   can be used to clear that indicator.
 641:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 642:rtos/uC-FS/Source/fs_file.c **** */
 643:rtos/uC-FS/Source/fs_file.c **** 
 644:rtos/uC-FS/Source/fs_file.c **** CPU_BOOLEAN  FSFile_IsErr (FS_FILE  *p_file,
 645:rtos/uC-FS/Source/fs_file.c ****                            FS_ERR   *p_err)
 646:rtos/uC-FS/Source/fs_file.c **** {
 647:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  is_err;
 648:rtos/uC-FS/Source/fs_file.c **** 
 649:rtos/uC-FS/Source/fs_file.c **** 
 650:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 651:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 652:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_NO);
 653:rtos/uC-FS/Source/fs_file.c ****     }
 654:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 655:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 656:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 657:rtos/uC-FS/Source/fs_file.c ****     }
ARM GAS  /tmp/cccHCpmH.s 			page 13


 658:rtos/uC-FS/Source/fs_file.c **** #endif
 659:rtos/uC-FS/Source/fs_file.c **** 
 660:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
 661:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
 662:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 663:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 664:rtos/uC-FS/Source/fs_file.c ****     }
 665:rtos/uC-FS/Source/fs_file.c **** 
 666:rtos/uC-FS/Source/fs_file.c ****     is_err = p_file->FlagErr;
 667:rtos/uC-FS/Source/fs_file.c **** 
 668:rtos/uC-FS/Source/fs_file.c **** 
 669:rtos/uC-FS/Source/fs_file.c **** 
 670:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
 671:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
 672:rtos/uC-FS/Source/fs_file.c **** 
 673:rtos/uC-FS/Source/fs_file.c ****    *p_err = FS_ERR_NONE;
 674:rtos/uC-FS/Source/fs_file.c ****     return (is_err);
 675:rtos/uC-FS/Source/fs_file.c **** }
 676:rtos/uC-FS/Source/fs_file.c **** 
 677:rtos/uC-FS/Source/fs_file.c **** 
 678:rtos/uC-FS/Source/fs_file.c **** /*
 679:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 680:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_IsOpen()
 681:rtos/uC-FS/Source/fs_file.c **** *
 682:rtos/uC-FS/Source/fs_file.c **** * Description : Validate if file is already open.
 683:rtos/uC-FS/Source/fs_file.c **** *
 684:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : name_full   Name of the file.
 685:rtos/uC-FS/Source/fs_file.c **** *
 686:rtos/uC-FS/Source/fs_file.c **** *               p_mode      Pointer to variable that will receive the file access mode.
 687:rtos/uC-FS/Source/fs_file.c **** *                           bit-wise OR of one or more of the following:
 688:rtos/uC-FS/Source/fs_file.c **** *
 689:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_RD          File opened for reads.
 690:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_WR          File opened for writes.
 691:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_TRUNCATE    File length is truncated to 0.
 692:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_APPEND      All writes are performed at EOF.
 693:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_CACHED      File data is cached.
 694:rtos/uC-FS/Source/fs_file.c **** *
 695:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code:
 696:rtos/uC-FS/Source/fs_file.c **** *
 697:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                     File opened successfully.
 698:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_NULL                Argument 'name_full' passed a NULL 
 699:rtos/uC-FS/Source/fs_file.c **** *
 700:rtos/uC-FS/Source/fs_file.c **** *                                                      ---- RETURNED BY FS_FAT_LowFileFirstClusGet(
 701:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL           No buffer available.
 702:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_NOT_FILE           Entry not a file.
 703:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_INVALID             Invalid file name or path.
 704:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_VOL_INVALID_SEC_NBR      Invalid sector number found in dire
 705:rtos/uC-FS/Source/fs_file.c **** *                                                                   entry.
 706:rtos/uC-FS/Source/fs_file.c **** *
 707:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : DEF_NO,  if file is NOT open.
 708:rtos/uC-FS/Source/fs_file.c **** *
 709:rtos/uC-FS/Source/fs_file.c **** *               DEF_YES, if file is     open.
 710:rtos/uC-FS/Source/fs_file.c **** *
 711:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
 712:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 713:rtos/uC-FS/Source/fs_file.c **** */
 714:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 14


 715:rtos/uC-FS/Source/fs_file.c **** CPU_BOOLEAN  FSFile_IsOpen(CPU_CHAR  *name_full,
 716:rtos/uC-FS/Source/fs_file.c ****                            FS_FLAGS  *p_mode,
 717:rtos/uC-FS/Source/fs_file.c ****                            FS_ERR    *p_err)
 718:rtos/uC-FS/Source/fs_file.c **** {
 719:rtos/uC-FS/Source/fs_file.c ****     FS_FILE            *p_file;
 720:rtos/uC-FS/Source/fs_file.c ****     FS_QTY              max_ix;
 721:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U          ix;
 722:rtos/uC-FS/Source/fs_file.c ****     FS_FAT_FILE_DATA    disk_file_fat_data;
 723:rtos/uC-FS/Source/fs_file.c ****     FS_FAT_FILE_DATA   *p_fat_file_data;
 724:rtos/uC-FS/Source/fs_file.c ****     FS_VOL             *p_open_vol;
 725:rtos/uC-FS/Source/fs_file.c ****     FS_VOL             *p_disk_vol;
 726:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR           *file_name;
 727:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN         file_open;
 728:rtos/uC-FS/Source/fs_file.c **** 
 729:rtos/uC-FS/Source/fs_file.c **** 
 730:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 731:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 732:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_YES);
 733:rtos/uC-FS/Source/fs_file.c ****     }
 734:rtos/uC-FS/Source/fs_file.c ****     if (name_full == (CPU_CHAR *)0) {                           /* Validate name  ptr.             
 735:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NAME_NULL;
 736:rtos/uC-FS/Source/fs_file.c ****         return (DEF_YES);
 737:rtos/uC-FS/Source/fs_file.c ****     }
 738:rtos/uC-FS/Source/fs_file.c ****     if (p_mode == (FS_FLAGS *)0) {                              /* Validate mode  ptr.             
 739:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 740:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 741:rtos/uC-FS/Source/fs_file.c ****     }
 742:rtos/uC-FS/Source/fs_file.c **** #endif
 743:rtos/uC-FS/Source/fs_file.c **** 
 744:rtos/uC-FS/Source/fs_file.c **** 
 745:rtos/uC-FS/Source/fs_file.c ****                                                                 /* --------------------- INIT MODE 
 746:rtos/uC-FS/Source/fs_file.c ****    *p_mode    = FS_FILE_ACCESS_MODE_NONE;
 747:rtos/uC-FS/Source/fs_file.c **** 
 748:rtos/uC-FS/Source/fs_file.c ****                                                                 /* --------------- GET FILE INFO ON
 749:rtos/uC-FS/Source/fs_file.c ****     file_name = FSFile_NameParseChk( name_full,                 /* Acquire vol ptr.                
 750:rtos/uC-FS/Source/fs_file.c ****                                     &p_disk_vol,
 751:rtos/uC-FS/Source/fs_file.c ****                                      p_err);
 752:rtos/uC-FS/Source/fs_file.c **** 
 753:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 754:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_NONE;
 755:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 756:rtos/uC-FS/Source/fs_file.c ****     }
 757:rtos/uC-FS/Source/fs_file.c **** 
 758:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Get fat data from disk.         
 759:rtos/uC-FS/Source/fs_file.c ****     FS_FAT_LowEntryFind(p_disk_vol, &disk_file_fat_data, file_name, FS_FAT_MODE_FILE | FS_FAT_MODE_
 760:rtos/uC-FS/Source/fs_file.c **** 
 761:rtos/uC-FS/Source/fs_file.c **** 
 762:rtos/uC-FS/Source/fs_file.c ****     FSVol_Unlock(p_disk_vol);
 763:rtos/uC-FS/Source/fs_file.c ****     FSVol_Release(p_disk_vol);
 764:rtos/uC-FS/Source/fs_file.c **** 
 765:rtos/uC-FS/Source/fs_file.c ****     switch (*p_err) {
 766:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NONE:
 767:rtos/uC-FS/Source/fs_file.c ****              break;
 768:rtos/uC-FS/Source/fs_file.c **** 
 769:rtos/uC-FS/Source/fs_file.c **** 
 770:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_ENTRY_NOT_FOUND:                            /* Entry do not exist. Cannot be op
 771:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_ENTRY_PARENT_NOT_FOUND:
ARM GAS  /tmp/cccHCpmH.s 			page 15


 772:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_ENTRY_PARENT_NOT_DIR:
 773:rtos/uC-FS/Source/fs_file.c ****             *p_err = FS_ERR_NONE;
 774:rtos/uC-FS/Source/fs_file.c ****              return (DEF_NO);
 775:rtos/uC-FS/Source/fs_file.c **** 
 776:rtos/uC-FS/Source/fs_file.c **** 
 777:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NAME_INVALID:
 778:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_VOL_INVALID_SEC_NBR:
 779:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_BUF_NONE_AVAIL:
 780:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_ENTRY_NOT_FILE:
 781:rtos/uC-FS/Source/fs_file.c ****         default:
 782:rtos/uC-FS/Source/fs_file.c ****              return (DEF_NO);
 783:rtos/uC-FS/Source/fs_file.c ****     }
 784:rtos/uC-FS/Source/fs_file.c **** 
 785:rtos/uC-FS/Source/fs_file.c **** 
 786:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------- CMP TO EVERY FILE 
 787:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Lock(p_err);
 788:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 789:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 790:rtos/uC-FS/Source/fs_file.c ****     }
 791:rtos/uC-FS/Source/fs_file.c **** 
 792:rtos/uC-FS/Source/fs_file.c ****     max_ix = FSFile_FileCntMax;
 793:rtos/uC-FS/Source/fs_file.c **** 
 794:rtos/uC-FS/Source/fs_file.c ****     file_open = DEF_NO;
 795:rtos/uC-FS/Source/fs_file.c ****     ix        = 0u;
 796:rtos/uC-FS/Source/fs_file.c ****     while ((ix < max_ix) &&
 797:rtos/uC-FS/Source/fs_file.c ****            (file_open == DEF_NO)) {
 798:rtos/uC-FS/Source/fs_file.c ****         p_file = FSFile_Tbl[ix];
 799:rtos/uC-FS/Source/fs_file.c **** 
 800:rtos/uC-FS/Source/fs_file.c ****         if (p_file != DEF_NULL) {
 801:rtos/uC-FS/Source/fs_file.c ****             p_open_vol = p_file->VolPtr;
 802:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Cmp vol ptr.                    
 803:rtos/uC-FS/Source/fs_file.c ****             if (p_open_vol == p_disk_vol) {
 804:rtos/uC-FS/Source/fs_file.c ****                 p_fat_file_data         = (FS_FAT_FILE_DATA *)p_file->DataPtr;
 805:rtos/uC-FS/Source/fs_file.c **** 
 806:rtos/uC-FS/Source/fs_file.c ****                                                                 /* If dir entry has same loc, file 
 807:rtos/uC-FS/Source/fs_file.c ****                 if (p_fat_file_data->DirEndSecPos == disk_file_fat_data.DirEndSecPos) {
 808:rtos/uC-FS/Source/fs_file.c ****                     if (p_fat_file_data->DirEndSec == disk_file_fat_data.DirEndSec) {
 809:rtos/uC-FS/Source/fs_file.c ****                         if (p_fat_file_data->DirStartSecPos == disk_file_fat_data.DirStartSecPos) {
 810:rtos/uC-FS/Source/fs_file.c ****                             if (p_fat_file_data->DirStartSec == disk_file_fat_data.DirStartSec) {
 811:rtos/uC-FS/Source/fs_file.c ****                                *p_mode = p_file->AccessMode;
 812:rtos/uC-FS/Source/fs_file.c ****                                 file_open = DEF_YES;
 813:rtos/uC-FS/Source/fs_file.c ****                             }
 814:rtos/uC-FS/Source/fs_file.c ****                         }
 815:rtos/uC-FS/Source/fs_file.c ****                     }
 816:rtos/uC-FS/Source/fs_file.c ****                 }
 817:rtos/uC-FS/Source/fs_file.c ****             }
 818:rtos/uC-FS/Source/fs_file.c ****         }
 819:rtos/uC-FS/Source/fs_file.c **** 
 820:rtos/uC-FS/Source/fs_file.c ****         ix++;
 821:rtos/uC-FS/Source/fs_file.c ****     }
 822:rtos/uC-FS/Source/fs_file.c **** 
 823:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Unlock();
 824:rtos/uC-FS/Source/fs_file.c **** 
 825:rtos/uC-FS/Source/fs_file.c **** 
 826:rtos/uC-FS/Source/fs_file.c ****    *p_err   = FS_ERR_NONE;
 827:rtos/uC-FS/Source/fs_file.c **** 
 828:rtos/uC-FS/Source/fs_file.c ****     return (file_open);
ARM GAS  /tmp/cccHCpmH.s 			page 16


 829:rtos/uC-FS/Source/fs_file.c **** }
 830:rtos/uC-FS/Source/fs_file.c **** 
 831:rtos/uC-FS/Source/fs_file.c **** 
 832:rtos/uC-FS/Source/fs_file.c **** /*
 833:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 834:rtos/uC-FS/Source/fs_file.c **** *                                          FSFile_LockAccept()
 835:rtos/uC-FS/Source/fs_file.c **** *
 836:rtos/uC-FS/Source/fs_file.c **** * Description : Acquire task ownership of a file (if available).
 837:rtos/uC-FS/Source/fs_file.c **** *
 838:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 839:rtos/uC-FS/Source/fs_file.c **** *
 840:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 841:rtos/uC-FS/Source/fs_file.c **** *
 842:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File lock acquired.
 843:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
 844:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
 845:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
 846:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_LOCKED      File owned by another task.
 847:rtos/uC-FS/Source/fs_file.c **** *
 848:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
 849:rtos/uC-FS/Source/fs_file.c **** *
 850:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) 'FSFile_LockAccept()' is the non-blocking version of 'FSFile_LockGet()'; if the
 851:rtos/uC-FS/Source/fs_file.c **** *                   is not available, the function returns an error.
 852:rtos/uC-FS/Source/fs_file.c **** *
 853:rtos/uC-FS/Source/fs_file.c **** *               (2) See 'FSFile_LockGet()  Note(s)'.
 854:rtos/uC-FS/Source/fs_file.c **** *
 855:rtos/uC-FS/Source/fs_file.c **** *               (3) See 'fs_ftrylockfile()  Note(s)'.
 856:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 857:rtos/uC-FS/Source/fs_file.c **** */
 858:rtos/uC-FS/Source/fs_file.c **** 
 859:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
 860:rtos/uC-FS/Source/fs_file.c **** void  FSFile_LockAccept (FS_FILE  *p_file,
 861:rtos/uC-FS/Source/fs_file.c ****                          FS_ERR   *p_err)
 862:rtos/uC-FS/Source/fs_file.c **** 
 863:rtos/uC-FS/Source/fs_file.c **** {
 864:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  locked;
 865:rtos/uC-FS/Source/fs_file.c **** 
 866:rtos/uC-FS/Source/fs_file.c **** 
 867:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 868:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 869:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 870:rtos/uC-FS/Source/fs_file.c ****     }
 871:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 872:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 873:rtos/uC-FS/Source/fs_file.c ****         return;
 874:rtos/uC-FS/Source/fs_file.c ****     }
 875:rtos/uC-FS/Source/fs_file.c **** #endif
 876:rtos/uC-FS/Source/fs_file.c **** 
 877:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
 878:rtos/uC-FS/Source/fs_file.c ****     p_file = FSFile_Acquire(p_file);                            /* Acquire file ref.               
 879:rtos/uC-FS/Source/fs_file.c **** 
 880:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Rtn err if file not found.      
 881:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NOT_OPEN;
 882:rtos/uC-FS/Source/fs_file.c ****         return;
 883:rtos/uC-FS/Source/fs_file.c ****     }
 884:rtos/uC-FS/Source/fs_file.c **** 
 885:rtos/uC-FS/Source/fs_file.c ****     locked = FSFile_LockAcceptHandler(p_file);
ARM GAS  /tmp/cccHCpmH.s 			page 17


 886:rtos/uC-FS/Source/fs_file.c ****     FSFile_Release(p_file);                                     /* Release file ref.               
 887:rtos/uC-FS/Source/fs_file.c **** 
 888:rtos/uC-FS/Source/fs_file.c ****     if (locked == DEF_NO) {
 889:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_LOCKED;
 890:rtos/uC-FS/Source/fs_file.c ****     } else {
 891:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 892:rtos/uC-FS/Source/fs_file.c ****     }
 893:rtos/uC-FS/Source/fs_file.c **** }
 894:rtos/uC-FS/Source/fs_file.c **** #endif
 895:rtos/uC-FS/Source/fs_file.c **** 
 896:rtos/uC-FS/Source/fs_file.c **** 
 897:rtos/uC-FS/Source/fs_file.c **** /*
 898:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 899:rtos/uC-FS/Source/fs_file.c **** *                                          FSFile_LockGet()
 900:rtos/uC-FS/Source/fs_file.c **** *
 901:rtos/uC-FS/Source/fs_file.c **** * Description : Acquire task ownership of a file.
 902:rtos/uC-FS/Source/fs_file.c **** *
 903:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 904:rtos/uC-FS/Source/fs_file.c **** *
 905:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 906:rtos/uC-FS/Source/fs_file.c **** *
 907:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File lock acquired.
 908:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
 909:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
 910:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
 911:rtos/uC-FS/Source/fs_file.c **** *
 912:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
 913:rtos/uC-FS/Source/fs_file.c **** *
 914:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) A lock count is associated with each file.
 915:rtos/uC-FS/Source/fs_file.c **** *
 916:rtos/uC-FS/Source/fs_file.c **** *                   (a) The file is unlocked when the lock count is zero.
 917:rtos/uC-FS/Source/fs_file.c **** *
 918:rtos/uC-FS/Source/fs_file.c **** *                   (b) If the lock count is positive, a task owns the file.
 919:rtos/uC-FS/Source/fs_file.c **** *
 920:rtos/uC-FS/Source/fs_file.c **** *                   (c) When 'FSFile_LockGet()' is called, if...
 921:rtos/uC-FS/Source/fs_file.c **** *
 922:rtos/uC-FS/Source/fs_file.c **** *                       (1) ...the lock count is zero                                   OR
 923:rtos/uC-FS/Source/fs_file.c **** *                       (2) ...the lock count is positive and the caller owns the file...
 924:rtos/uC-FS/Source/fs_file.c **** *
 925:rtos/uC-FS/Source/fs_file.c **** *                       ...the lock count will be incremented and the caller will own the file.
 926:rtos/uC-FS/Source/fs_file.c **** *                       Otherwise, the caller waits until the lock count returns to zero.
 927:rtos/uC-FS/Source/fs_file.c **** *
 928:rtos/uC-FS/Source/fs_file.c **** *                   (d) Each call to 'FSFile_LockSet()' increments the lock count.
 929:rtos/uC-FS/Source/fs_file.c **** *
 930:rtos/uC-FS/Source/fs_file.c **** *                   (e) Matching calls to 'FSFile_LockGet()' (or 'FSFile_LockAccept()') & 'FSFile_L
 931:rtos/uC-FS/Source/fs_file.c **** *                       can be nested.
 932:rtos/uC-FS/Source/fs_file.c **** *
 933:rtos/uC-FS/Source/fs_file.c **** *               (2) See 'fs_flockfile()  Note(s)'.
 934:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 935:rtos/uC-FS/Source/fs_file.c **** */
 936:rtos/uC-FS/Source/fs_file.c **** 
 937:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
 938:rtos/uC-FS/Source/fs_file.c **** void  FSFile_LockGet (FS_FILE  *p_file,
 939:rtos/uC-FS/Source/fs_file.c ****                       FS_ERR   *p_err)
 940:rtos/uC-FS/Source/fs_file.c **** 
 941:rtos/uC-FS/Source/fs_file.c **** {
 942:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  locked;
ARM GAS  /tmp/cccHCpmH.s 			page 18


 943:rtos/uC-FS/Source/fs_file.c **** 
 944:rtos/uC-FS/Source/fs_file.c **** 
 945:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 946:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
 947:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 948:rtos/uC-FS/Source/fs_file.c ****     }
 949:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 950:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 951:rtos/uC-FS/Source/fs_file.c ****         return;
 952:rtos/uC-FS/Source/fs_file.c ****     }
 953:rtos/uC-FS/Source/fs_file.c **** #endif
 954:rtos/uC-FS/Source/fs_file.c **** 
 955:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
 956:rtos/uC-FS/Source/fs_file.c ****     p_file = FSFile_Acquire(p_file);                            /* Acquire file ref.               
 957:rtos/uC-FS/Source/fs_file.c **** 
 958:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Rtn err if file not found.      
 959:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NOT_OPEN;
 960:rtos/uC-FS/Source/fs_file.c ****         return;
 961:rtos/uC-FS/Source/fs_file.c ****     }
 962:rtos/uC-FS/Source/fs_file.c **** 
 963:rtos/uC-FS/Source/fs_file.c ****     locked = FSFile_LockGetHandler(p_file);
 964:rtos/uC-FS/Source/fs_file.c ****     FSFile_Release(p_file);                                     /* Release file ref.               
 965:rtos/uC-FS/Source/fs_file.c **** 
 966:rtos/uC-FS/Source/fs_file.c ****     if (locked == DEF_NO) {
 967:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_LOCKED;
 968:rtos/uC-FS/Source/fs_file.c ****     } else {
 969:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 970:rtos/uC-FS/Source/fs_file.c ****     }
 971:rtos/uC-FS/Source/fs_file.c **** }
 972:rtos/uC-FS/Source/fs_file.c **** #endif
 973:rtos/uC-FS/Source/fs_file.c **** 
 974:rtos/uC-FS/Source/fs_file.c **** 
 975:rtos/uC-FS/Source/fs_file.c **** /*
 976:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 977:rtos/uC-FS/Source/fs_file.c **** *                                          FSFile_LockSet()
 978:rtos/uC-FS/Source/fs_file.c **** *
 979:rtos/uC-FS/Source/fs_file.c **** * Description : Release task ownership of a file.
 980:rtos/uC-FS/Source/fs_file.c **** *
 981:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
 982:rtos/uC-FS/Source/fs_file.c **** *
 983:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 984:rtos/uC-FS/Source/fs_file.c **** *
 985:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE               File lock released.
 986:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR           Argument 'p_file' passed a NULL pointer.
 987:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE       Argument 'p_file's TYPE is invalid or unk
 988:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN      File NOT open.
 989:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_LOCKED    File NOT locked or locked by a different 
 990:rtos/uC-FS/Source/fs_file.c **** *
 991:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
 992:rtos/uC-FS/Source/fs_file.c **** *
 993:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) See 'FSFile_LockGet()  Note #1b'.
 994:rtos/uC-FS/Source/fs_file.c **** *
 995:rtos/uC-FS/Source/fs_file.c **** *               (2) If the lock is not held by the calling thread, no action is taken.
 996:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
 997:rtos/uC-FS/Source/fs_file.c **** */
 998:rtos/uC-FS/Source/fs_file.c **** 
 999:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
ARM GAS  /tmp/cccHCpmH.s 			page 19


1000:rtos/uC-FS/Source/fs_file.c **** void  FSFile_LockSet (FS_FILE  *p_file,
1001:rtos/uC-FS/Source/fs_file.c ****                       FS_ERR   *p_err)
1002:rtos/uC-FS/Source/fs_file.c **** 
1003:rtos/uC-FS/Source/fs_file.c **** {
1004:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  unlocked;
1005:rtos/uC-FS/Source/fs_file.c **** 
1006:rtos/uC-FS/Source/fs_file.c **** 
1007:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
1008:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
1009:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
1010:rtos/uC-FS/Source/fs_file.c ****     }
1011:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
1012:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
1013:rtos/uC-FS/Source/fs_file.c ****         return;
1014:rtos/uC-FS/Source/fs_file.c ****     }
1015:rtos/uC-FS/Source/fs_file.c **** #endif
1016:rtos/uC-FS/Source/fs_file.c **** 
1017:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
1018:rtos/uC-FS/Source/fs_file.c ****     p_file = FSFile_Acquire(p_file);                            /* Acquire file ref.               
1019:rtos/uC-FS/Source/fs_file.c **** 
1020:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Rtn err if file not found.      
1021:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NOT_OPEN;
1022:rtos/uC-FS/Source/fs_file.c ****         return;
1023:rtos/uC-FS/Source/fs_file.c ****     }
1024:rtos/uC-FS/Source/fs_file.c **** 
1025:rtos/uC-FS/Source/fs_file.c ****     unlocked = FSFile_LockSetHandler(p_file);
1026:rtos/uC-FS/Source/fs_file.c ****     FSFile_Release(p_file);                                     /* Release file ref.               
1027:rtos/uC-FS/Source/fs_file.c **** 
1028:rtos/uC-FS/Source/fs_file.c ****     if (unlocked == DEF_NO) {
1029:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NOT_LOCKED;
1030:rtos/uC-FS/Source/fs_file.c ****     } else {
1031:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
1032:rtos/uC-FS/Source/fs_file.c ****     }
1033:rtos/uC-FS/Source/fs_file.c **** }
1034:rtos/uC-FS/Source/fs_file.c **** #endif
1035:rtos/uC-FS/Source/fs_file.c **** 
1036:rtos/uC-FS/Source/fs_file.c **** 
1037:rtos/uC-FS/Source/fs_file.c **** /*
1038:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1039:rtos/uC-FS/Source/fs_file.c **** *                                            FSFile_Open()
1040:rtos/uC-FS/Source/fs_file.c **** *
1041:rtos/uC-FS/Source/fs_file.c **** * Description : Open a file.
1042:rtos/uC-FS/Source/fs_file.c **** *
1043:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : name_full   Name of the file.
1044:rtos/uC-FS/Source/fs_file.c **** *
1045:rtos/uC-FS/Source/fs_file.c **** *               mode        File access mode; valid bit-wise OR of one or more of the following (se
1046:rtos/uC-FS/Source/fs_file.c **** *
1047:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_RD          File opened for reads.
1048:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_WR          File opened for writes.
1049:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_CREATE      File will be created, if necessary.
1050:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_TRUNCATE    File length will be truncated to 0.
1051:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_APPEND      All writes will be performed at EOF
1052:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_EXCL        File will be opened if & only if it
1053:rtos/uC-FS/Source/fs_file.c **** *                                                                   not already exist.
1054:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ACCESS_MODE_CACHED      File data will be cached.
1055:rtos/uC-FS/Source/fs_file.c **** *
1056:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
ARM GAS  /tmp/cccHCpmH.s 			page 20


1057:rtos/uC-FS/Source/fs_file.c **** *
1058:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                        File opened successfully.
1059:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_NULL                   Argument 'name_full' passed a NU
1060:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NONE_AVAIL             No file available.
1061:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_ACCESS_MODE    Access mode is specified invalid
1062:rtos/uC-FS/Source/fs_file.c **** *
1063:rtos/uC-FS/Source/fs_file.c **** *                                                                  --- RETURNED BY FSFile_NameParse
1064:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_INVALID                Entry name could not be parsed, 
1065:rtos/uC-FS/Source/fs_file.c **** *                                                                     initial path separator charac
1066:rtos/uC-FS/Source/fs_file.c **** *                                                                     includes an invalid volume na
1067:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_PATH_TOO_LONG          Entry path is too long.
1068:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_VOL_NOT_OPEN                Volume not opened.
1069:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_VOL_NOT_MOUNTED             Volume not mounted.
1070:rtos/uC-FS/Source/fs_file.c **** *
1071:rtos/uC-FS/Source/fs_file.c **** *                                                                  ------ RETURNED BY FSSys_FileOpe
1072:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL              Buffer not available.
1073:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV                         Device access error.
1074:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL                    Device is full (space could not 
1075:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DIR_FULL                    Directory is full (space could n
1076:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT               File system entry is corrupt.
1077:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_EXISTS                File system entry exists.
1078:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_NOT_FILE              File system entry NOT a file.
1079:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_NOT_FOUND             File system entry NOT found
1080:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_PARENT_NOT_FOUND      Entry parent NOT found.
1081:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_PARENT_NOT_DIR        Entry parent NOT a directory.
1082:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_RD_ONLY               File system entry marked read-on
1083:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_INVALID                Invalid file name or path.
1084:rtos/uC-FS/Source/fs_file.c **** *
1085:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Pointer to a file, if NO errors.
1086:rtos/uC-FS/Source/fs_file.c **** *               Pointer to NULL,   otherwise.
1087:rtos/uC-FS/Source/fs_file.c **** *
1088:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) Standard 'fopen()' access modes can be translated to mode flags according to th
1089:rtos/uC-FS/Source/fs_file.c **** *
1090:rtos/uC-FS/Source/fs_file.c **** *                     -----------------------------------------------------------------------------
1091:rtos/uC-FS/Source/fs_file.c **** *                     |        STRINGS       |   READ?   |   WRITE?  | TRUNCATE? |  CREATE?  |  APP
1092:rtos/uC-FS/Source/fs_file.c **** *                     |----------------------------------------------------------------------------
1093:rtos/uC-FS/Source/fs_file.c **** *                     | "r"  / "rb"          | DEF_TRUE  | DEF_FALSE | DEF_FALSE | DEF_FALSE | DEF_
1094:rtos/uC-FS/Source/fs_file.c **** *                     | "w"  / "wb           | DEF_FALSE | DEF_TRUE  | DEF_TRUE  | DEF_TRUE  | DEF_
1095:rtos/uC-FS/Source/fs_file.c **** *                     | "a"  / "ab"          | DEF_FALSE | DEF_TRUE  | DEF_FALSE | DEF_TRUE  | DEF_
1096:rtos/uC-FS/Source/fs_file.c **** *                     | "r+" / "rb+" / "r+b" | DEF_TRUE  | DEF_TRUE  | DEF_FALSE | DEF_FALSE | DEF_
1097:rtos/uC-FS/Source/fs_file.c **** *                     | "w+" / "wb+" / "w+b" | DEF_TRUE  | DEF_TRUE  | DEF_TRUE  | DEF_TRUE  | DEF_
1098:rtos/uC-FS/Source/fs_file.c **** *                     | "a+" / "ab+" / "a+b" | DEF_TRUE  | DEF_TRUE  | DEF_FALSE | DEF_TRUE  | DEF_
1099:rtos/uC-FS/Source/fs_file.c **** *                     -----------------------------------------------------------------------------
1100:rtos/uC-FS/Source/fs_file.c **** *
1101:rtos/uC-FS/Source/fs_file.c **** *               (2) (a) The following undefined mode combinations result in return errors :
1102:rtos/uC-FS/Source/fs_file.c **** *
1103:rtos/uC-FS/Source/fs_file.c **** *                       (1) Set FS_FILE_ACCESS_MODE_TRUNCATE & clear FS_FILE_ACCESS_MODE_WR;
1104:rtos/uC-FS/Source/fs_file.c **** *
1105:rtos/uC-FS/Source/fs_file.c **** *                       (2) Set FS_FILE_ACCESS_MODE_EXCL     & clear FS_FILE_ACCESS_MODE_CREATE.
1106:rtos/uC-FS/Source/fs_file.c **** *
1107:rtos/uC-FS/Source/fs_file.c **** *                       (3) Set FS_FILE_ACCESS_MODE_APPEND   & clear FS_FILE_ACCESS_MODE_WR.
1108:rtos/uC-FS/Source/fs_file.c **** *
1109:rtos/uC-FS/Source/fs_file.c **** *                       (4) Any other bits set.
1110:rtos/uC-FS/Source/fs_file.c **** *
1111:rtos/uC-FS/Source/fs_file.c **** *                   (b) FS_FILE_ACCESS_MODE_RD &/or FS_FILE_ACCESS_MODE_WR MUST be set.
1112:rtos/uC-FS/Source/fs_file.c **** *
1113:rtos/uC-FS/Source/fs_file.c **** *               (3) The file position indicator is set to 0 when a file is opened. If the file is o
ARM GAS  /tmp/cccHCpmH.s 			page 21


1114:rtos/uC-FS/Source/fs_file.c **** *                   in append mode, the position indicator will be set at the end of file for each
1115:rtos/uC-FS/Source/fs_file.c **** *                   subsequent write operation. The file position indicator should then not be set 
1116:rtos/uC-FS/Source/fs_file.c **** *                   value different than 0 within this function.
1117:rtos/uC-FS/Source/fs_file.c **** *
1118:rtos/uC-FS/Source/fs_file.c **** *               (4) This check is redundant, since either both 'p_vol' & 'name_file' will receive v
1119:rtos/uC-FS/Source/fs_file.c **** *                   pointers, or neither 'p_vol' nor 'name_file' will receive valid pointers.
1120:rtos/uC-FS/Source/fs_file.c **** *
1121:rtos/uC-FS/Source/fs_file.c **** *               (5) See 'fs_fopen()  Note(s)'.
1122:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1123:rtos/uC-FS/Source/fs_file.c **** */
1124:rtos/uC-FS/Source/fs_file.c **** 
1125:rtos/uC-FS/Source/fs_file.c **** FS_FILE  *FSFile_Open (CPU_CHAR  *name_full,
1126:rtos/uC-FS/Source/fs_file.c ****                        FS_FLAGS   mode,
1127:rtos/uC-FS/Source/fs_file.c ****                        FS_ERR    *p_err)
1128:rtos/uC-FS/Source/fs_file.c **** {
1129:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR       *name_file;
1130:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR       *name_full_temp;
1131:rtos/uC-FS/Source/fs_file.c ****     FS_FILE        *p_file;
1132:rtos/uC-FS/Source/fs_file.c ****     FS_VOL         *p_vol;
1133:rtos/uC-FS/Source/fs_file.c ****     FS_ERR          err;
1134:rtos/uC-FS/Source/fs_file.c ****     FS_ENTRY_INFO   file_info;
1135:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_CONCURRENT_ENTRIES_ACCESS_EN == DEF_DISABLED)
1136:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN     file_open;
1137:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN     is_write_mode;
1138:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS        open_mode;
1139:rtos/uC-FS/Source/fs_file.c **** #endif
1140:rtos/uC-FS/Source/fs_file.c **** 
1141:rtos/uC-FS/Source/fs_file.c **** 
1142:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
1143:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
1144:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION((FS_FILE *)0);
1145:rtos/uC-FS/Source/fs_file.c ****     }
1146:rtos/uC-FS/Source/fs_file.c **** 
1147:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_ENABLED)                          /* Rd-only mode                    
1148:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
1149:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1150:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *) 0);
1151:rtos/uC-FS/Source/fs_file.c ****     }
1152:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_CREATE) == DEF_YES) {
1153:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1154:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *) 0);
1155:rtos/uC-FS/Source/fs_file.c ****     }
1156:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_EXCL) == DEF_YES) {
1157:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1158:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *) 0);
1159:rtos/uC-FS/Source/fs_file.c ****     }
1160:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
1161:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1162:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *) 0);
1163:rtos/uC-FS/Source/fs_file.c ****     }
1164:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_TRUNCATE) == DEF_YES) {
1165:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1166:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *) 0);
1167:rtos/uC-FS/Source/fs_file.c ****     }
1168:rtos/uC-FS/Source/fs_file.c **** #endif
1169:rtos/uC-FS/Source/fs_file.c **** 
1170:rtos/uC-FS/Source/fs_file.c ****     if (name_full == (CPU_CHAR *)0) {                           /* Validate name ptr.              
ARM GAS  /tmp/cccHCpmH.s 			page 22


1171:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NAME_NULL;
1172:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1173:rtos/uC-FS/Source/fs_file.c ****     }
1174:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Validate mode (see Note #2b).   
1175:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_RD | FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
1176:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1177:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1178:rtos/uC-FS/Source/fs_file.c ****     }
1179:rtos/uC-FS/Source/fs_file.c ****                                                                 /* See Note #2a1.                  
1180:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_TRUNCATE) == DEF_YES) {
1181:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
1182:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1183:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
1184:rtos/uC-FS/Source/fs_file.c ****         }
1185:rtos/uC-FS/Source/fs_file.c ****     }
1186:rtos/uC-FS/Source/fs_file.c ****                                                                 /* See Note #2a2.                  
1187:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_EXCL) == DEF_YES) {
1188:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_CREATE) == DEF_YES) {
1189:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1190:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
1191:rtos/uC-FS/Source/fs_file.c ****         }
1192:rtos/uC-FS/Source/fs_file.c ****     }
1193:rtos/uC-FS/Source/fs_file.c ****                                                                 /* See Note #2a3.                  
1194:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
1195:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
1196:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1197:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
1198:rtos/uC-FS/Source/fs_file.c ****         }
1199:rtos/uC-FS/Source/fs_file.c ****     }
1200:rtos/uC-FS/Source/fs_file.c ****                                                                 /* See Note #2a4.                  
1201:rtos/uC-FS/Source/fs_file.c ****     if ((mode & (FS_FILE_ACCESS_MODE_RD       | FS_FILE_ACCESS_MODE_WR     | FS_FILE_ACCESS_MODE_AP
1202:rtos/uC-FS/Source/fs_file.c ****                  FS_FILE_ACCESS_MODE_TRUNCATE | FS_FILE_ACCESS_MODE_CREATE | FS_FILE_ACCESS_MODE_EX
1203:rtos/uC-FS/Source/fs_file.c ****                  FS_FILE_ACCESS_MODE_CACHED                                                        
1204:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1205:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1206:rtos/uC-FS/Source/fs_file.c ****     }
1207:rtos/uC-FS/Source/fs_file.c **** #endif
1208:rtos/uC-FS/Source/fs_file.c **** 
1209:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_ENABLED)
1210:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
1211:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1212:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1213:rtos/uC-FS/Source/fs_file.c ****     }
1214:rtos/uC-FS/Source/fs_file.c **** 
1215:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
1216:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
1217:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1218:rtos/uC-FS/Source/fs_file.c ****     }
1219:rtos/uC-FS/Source/fs_file.c **** #endif
1220:rtos/uC-FS/Source/fs_file.c **** 
1221:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- GET FREE FIL
1222:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Lock(p_err);                                          /* Acquire FS lock.                
1223:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1224:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1225:rtos/uC-FS/Source/fs_file.c ****     }
1226:rtos/uC-FS/Source/fs_file.c **** 
1227:rtos/uC-FS/Source/fs_file.c ****     p_file = FSFile_ObjGet(p_err);                              /* Alloc file.                     
ARM GAS  /tmp/cccHCpmH.s 			page 23


1228:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1229:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NONE_AVAIL;
1230:rtos/uC-FS/Source/fs_file.c ****         FS_OS_Unlock();
1231:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1232:rtos/uC-FS/Source/fs_file.c ****     }
1233:rtos/uC-FS/Source/fs_file.c **** 
1234:rtos/uC-FS/Source/fs_file.c ****     p_file->AccessMode =  mode;
1235:rtos/uC-FS/Source/fs_file.c ****     p_file->RefCnt     =  1u;
1236:rtos/uC-FS/Source/fs_file.c ****     p_file->State      =  FS_FILE_STATE_OPENING;
1237:rtos/uC-FS/Source/fs_file.c ****     p_file->VolPtr     = (FS_VOL *)0;
1238:rtos/uC-FS/Source/fs_file.c **** 
1239:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Unlock();                                             /* Release FS lock.                
1240:rtos/uC-FS/Source/fs_file.c **** 
1241:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
1242:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_LockGetHandler(p_file);
1243:rtos/uC-FS/Source/fs_file.c **** #endif
1244:rtos/uC-FS/Source/fs_file.c **** 
1245:rtos/uC-FS/Source/fs_file.c **** 
1246:rtos/uC-FS/Source/fs_file.c **** 
1247:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ FORM FULL PAT
1248:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
1249:rtos/uC-FS/Source/fs_file.c ****     name_full_temp = FS_WorkingDirPathForm(name_full, p_err);   /* Try to form path.               
1250:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1251:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
1252:rtos/uC-FS/Source/fs_file.c ****         (void)FSFile_LockSetHandler(p_file);
1253:rtos/uC-FS/Source/fs_file.c **** #endif
1254:rtos/uC-FS/Source/fs_file.c ****         FSFile_Release(p_file);
1255:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1256:rtos/uC-FS/Source/fs_file.c ****     }
1257:rtos/uC-FS/Source/fs_file.c **** #else
1258:rtos/uC-FS/Source/fs_file.c ****     name_full_temp = name_full;
1259:rtos/uC-FS/Source/fs_file.c **** #endif
1260:rtos/uC-FS/Source/fs_file.c **** 
1261:rtos/uC-FS/Source/fs_file.c **** 
1262:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------- VERIFY IF FILE OPEN I
1263:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_CONCURRENT_ENTRIES_ACCESS_EN == DEF_DISABLED)
1264:rtos/uC-FS/Source/fs_file.c ****     file_open = FSFile_IsOpen(name_full_temp, &open_mode, p_err);
1265:rtos/uC-FS/Source/fs_file.c **** 
1266:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1267:rtos/uC-FS/Source/fs_file.c **** 
1268:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN ==   DEF_ENABLED)
1269:rtos/uC-FS/Source/fs_file.c ****         (void)FSFile_LockSetHandler(p_file);
1270:rtos/uC-FS/Source/fs_file.c **** #endif
1271:rtos/uC-FS/Source/fs_file.c ****         FSFile_Release(p_file);                                 /* ... release file ref.           
1272:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
1273:rtos/uC-FS/Source/fs_file.c ****         if (name_full_temp != name_full) {
1274:rtos/uC-FS/Source/fs_file.c ****             FS_WorkingDirObjFree(name_full_temp);
1275:rtos/uC-FS/Source/fs_file.c ****         }
1276:rtos/uC-FS/Source/fs_file.c **** #endif
1277:rtos/uC-FS/Source/fs_file.c **** 
1278:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
1279:rtos/uC-FS/Source/fs_file.c ****     }
1280:rtos/uC-FS/Source/fs_file.c **** 
1281:rtos/uC-FS/Source/fs_file.c **** 
1282:rtos/uC-FS/Source/fs_file.c ****     if (file_open == DEF_YES) {
1283:rtos/uC-FS/Source/fs_file.c ****                                                                 /* If file is already open ...     
1284:rtos/uC-FS/Source/fs_file.c ****                                                                 /*                         ... or g
ARM GAS  /tmp/cccHCpmH.s 			page 24


1285:rtos/uC-FS/Source/fs_file.c ****                                                                 /*                         ... in w
1286:rtos/uC-FS/Source/fs_file.c ****         is_write_mode = ((open_mode & FS_FILE_ALL_WR_ACCESS_MODE) != 0u);
1287:rtos/uC-FS/Source/fs_file.c ****         is_write_mode = ((mode      & FS_FILE_ALL_WR_ACCESS_MODE) != 0u) || is_write_mode;
1288:rtos/uC-FS/Source/fs_file.c **** 
1289:rtos/uC-FS/Source/fs_file.c ****         if (is_write_mode == DEF_YES) {
1290:rtos/uC-FS/Source/fs_file.c **** 
1291:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN ==   DEF_ENABLED)
1292:rtos/uC-FS/Source/fs_file.c ****             (void)FSFile_LockSetHandler(p_file);
1293:rtos/uC-FS/Source/fs_file.c **** #endif
1294:rtos/uC-FS/Source/fs_file.c ****             FSFile_Release(p_file);                             /* ... release file ref.           
1295:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
1296:rtos/uC-FS/Source/fs_file.c ****             if (name_full_temp != name_full) {
1297:rtos/uC-FS/Source/fs_file.c ****                 FS_WorkingDirObjFree(name_full_temp);
1298:rtos/uC-FS/Source/fs_file.c ****             }
1299:rtos/uC-FS/Source/fs_file.c **** #endif
1300:rtos/uC-FS/Source/fs_file.c **** 
1301:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_ALREADY_OPEN;
1302:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
1303:rtos/uC-FS/Source/fs_file.c ****         }
1304:rtos/uC-FS/Source/fs_file.c ****     }
1305:rtos/uC-FS/Source/fs_file.c **** #endif
1306:rtos/uC-FS/Source/fs_file.c **** 
1307:rtos/uC-FS/Source/fs_file.c **** 
1308:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ ACQUIRE VOL R
1309:rtos/uC-FS/Source/fs_file.c ****     name_file = FSFile_NameParseChk( name_full_temp,
1310:rtos/uC-FS/Source/fs_file.c ****                                     &p_vol,
1311:rtos/uC-FS/Source/fs_file.c ****                                      p_err);
1312:rtos/uC-FS/Source/fs_file.c **** 
1313:rtos/uC-FS/Source/fs_file.c **** 
1314:rtos/uC-FS/Source/fs_file.c ****     if ((p_vol     == (FS_VOL   *)0) ||                         /* If no vol found                 
1315:rtos/uC-FS/Source/fs_file.c ****         (name_file == (CPU_CHAR *)0)) {                         /* ... or file name not parsed (see
1316:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN ==   DEF_ENABLED)
1317:rtos/uC-FS/Source/fs_file.c ****         (void)FSFile_LockSetHandler(p_file);
1318:rtos/uC-FS/Source/fs_file.c **** #endif
1319:rtos/uC-FS/Source/fs_file.c ****         FSFile_Release(p_file);                                 /* ... release file ref.           
1320:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
1321:rtos/uC-FS/Source/fs_file.c ****         if (name_full_temp != name_full) {
1322:rtos/uC-FS/Source/fs_file.c ****             FS_WorkingDirObjFree(name_full_temp);
1323:rtos/uC-FS/Source/fs_file.c ****         }
1324:rtos/uC-FS/Source/fs_file.c **** #endif
1325:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1326:rtos/uC-FS/Source/fs_file.c ****     }
1327:rtos/uC-FS/Source/fs_file.c **** 
1328:rtos/uC-FS/Source/fs_file.c **** 
1329:rtos/uC-FS/Source/fs_file.c **** 
1330:rtos/uC-FS/Source/fs_file.c ****                                                                 /* --------------------- OPEN FILE 
1331:rtos/uC-FS/Source/fs_file.c ****     p_file->VolPtr = p_vol;
1332:rtos/uC-FS/Source/fs_file.c **** 
1333:rtos/uC-FS/Source/fs_file.c ****     if (name_file[0] == (CPU_CHAR)ASCII_CHAR_NULL) {            /* Rtn err if entry specifies root 
1334:rtos/uC-FS/Source/fs_file.c ****         p_file->State = FS_FILE_STATE_CLOSING;
1335:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1336:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_ENTRY_ROOT_DIR;
1337:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1338:rtos/uC-FS/Source/fs_file.c ****     }
1339:rtos/uC-FS/Source/fs_file.c **** 
1340:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Chk vol mode.                   
1341:rtos/uC-FS/Source/fs_file.c ****     if ((DEF_BIT_IS_CLR(p_vol->AccessMode, FS_VOL_ACCESS_MODE_WR)  == DEF_YES) &&
ARM GAS  /tmp/cccHCpmH.s 			page 25


1342:rtos/uC-FS/Source/fs_file.c ****         (DEF_BIT_IS_SET(mode,              FS_FILE_ACCESS_MODE_WR) == DEF_YES)) {
1343:rtos/uC-FS/Source/fs_file.c ****         p_file->State = FS_FILE_STATE_CLOSING;
1344:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1345:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_VOL_INVALID_OP;
1346:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
1347:rtos/uC-FS/Source/fs_file.c ****     }
1348:rtos/uC-FS/Source/fs_file.c **** 
1349:rtos/uC-FS/Source/fs_file.c ****     FSSys_FileOpen(p_file,                                      /* Open file.                      
1350:rtos/uC-FS/Source/fs_file.c ****                    name_file,
1351:rtos/uC-FS/Source/fs_file.c ****                    p_err);
1352:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
1353:rtos/uC-FS/Source/fs_file.c ****     if (name_full_temp != name_full) {
1354:rtos/uC-FS/Source/fs_file.c ****         FS_WorkingDirObjFree(name_full_temp);
1355:rtos/uC-FS/Source/fs_file.c ****     }
1356:rtos/uC-FS/Source/fs_file.c **** #endif
1357:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1358:rtos/uC-FS/Source/fs_file.c ****          p_file->State = FS_FILE_STATE_CLOSING;
1359:rtos/uC-FS/Source/fs_file.c ****          FSFile_ReleaseUnlock(p_file);
1360:rtos/uC-FS/Source/fs_file.c ****          return ((FS_FILE *)0);
1361:rtos/uC-FS/Source/fs_file.c ****     }
1362:rtos/uC-FS/Source/fs_file.c **** 
1363:rtos/uC-FS/Source/fs_file.c ****     p_file->State      = FS_FILE_STATE_OPEN;
1364:rtos/uC-FS/Source/fs_file.c ****     p_file->RefreshCnt = p_vol->RefreshCnt;
1365:rtos/uC-FS/Source/fs_file.c ****     FSVol_FileAdd(p_vol, p_file);                               /* Link file to vol file list.     
1366:rtos/uC-FS/Source/fs_file.c **** 
1367:rtos/uC-FS/Source/fs_file.c ****     FSSys_FileQuery(p_file, &file_info, p_err);
1368:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1369:rtos/uC-FS/Source/fs_file.c ****          FSSys_FileClose(p_file, &err);
1370:rtos/uC-FS/Source/fs_file.c ****          p_file->State = FS_FILE_STATE_CLOSING;
1371:rtos/uC-FS/Source/fs_file.c ****          FSFile_ReleaseUnlock(p_file);
1372:rtos/uC-FS/Source/fs_file.c ****          return ((FS_FILE *)0);
1373:rtos/uC-FS/Source/fs_file.c ****     }
1374:rtos/uC-FS/Source/fs_file.c **** 
1375:rtos/uC-FS/Source/fs_file.c ****     p_file->Size = file_info.Size;
1376:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;
1377:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos = 0u;                                           /* Set init file pos indicator to 0
1378:rtos/uC-FS/Source/fs_file.c **** 
1379:rtos/uC-FS/Source/fs_file.c **** 
1380:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
1381:rtos/uC-FS/Source/fs_file.c ****     p_file->BufSecSize = p_vol->SecSize;
1382:rtos/uC-FS/Source/fs_file.c **** #endif
1383:rtos/uC-FS/Source/fs_file.c **** 
1384:rtos/uC-FS/Source/fs_file.c **** 
1385:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
1386:rtos/uC-FS/Source/fs_file.c ****     FSFile_Unlock(p_file);                                      /* Keep init ref.                  
1387:rtos/uC-FS/Source/fs_file.c **** 
1388:rtos/uC-FS/Source/fs_file.c ****     return (p_file);
1389:rtos/uC-FS/Source/fs_file.c **** }
1390:rtos/uC-FS/Source/fs_file.c **** 
1391:rtos/uC-FS/Source/fs_file.c **** 
1392:rtos/uC-FS/Source/fs_file.c **** /*
1393:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1394:rtos/uC-FS/Source/fs_file.c **** *                                            FSFile_PosGet()
1395:rtos/uC-FS/Source/fs_file.c **** *
1396:rtos/uC-FS/Source/fs_file.c **** * Description : Get file position indicator.
1397:rtos/uC-FS/Source/fs_file.c **** *
1398:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
ARM GAS  /tmp/cccHCpmH.s 			page 26


1399:rtos/uC-FS/Source/fs_file.c **** *
1400:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1401:rtos/uC-FS/Source/fs_file.c **** *
1402:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File position gotten successfully.
1403:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
1404:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
1405:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_ERR         File has error (see Note #3).
1406:rtos/uC-FS/Source/fs_file.c **** *
1407:rtos/uC-FS/Source/fs_file.c **** *                                                       ------ RETURNED BY FSFile_AcquireLockChk() 
1408:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD        Device has changed.
1409:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
1410:rtos/uC-FS/Source/fs_file.c **** *
1411:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : The current file position, if no errors (see Note #1).
1412:rtos/uC-FS/Source/fs_file.c **** *               0,                         otherwise.
1413:rtos/uC-FS/Source/fs_file.c **** *
1414:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) The file position returned is measured in bytes from the beginning of the file.
1415:rtos/uC-FS/Source/fs_file.c **** *
1416:rtos/uC-FS/Source/fs_file.c **** *               (2) See 'fs_ftell()  Note(s)'.
1417:rtos/uC-FS/Source/fs_file.c **** *
1418:rtos/uC-FS/Source/fs_file.c **** *               (3) If an error occurred in the previous file access, the error indicator must be
1419:rtos/uC-FS/Source/fs_file.c **** *                   cleared (with 'FSFile_ClrErr()') before another access will be allowed.
1420:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1421:rtos/uC-FS/Source/fs_file.c **** */
1422:rtos/uC-FS/Source/fs_file.c **** 
1423:rtos/uC-FS/Source/fs_file.c **** FS_FILE_SIZE  FSFile_PosGet (FS_FILE  *p_file,
1424:rtos/uC-FS/Source/fs_file.c ****                              FS_ERR   *p_err)
1425:rtos/uC-FS/Source/fs_file.c **** {
1426:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos;
1427:rtos/uC-FS/Source/fs_file.c **** 
1428:rtos/uC-FS/Source/fs_file.c **** 
1429:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
1430:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
1431:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
1432:rtos/uC-FS/Source/fs_file.c ****     }
1433:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
1434:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
1435:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1436:rtos/uC-FS/Source/fs_file.c ****     }
1437:rtos/uC-FS/Source/fs_file.c **** #endif
1438:rtos/uC-FS/Source/fs_file.c **** 
1439:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
1440:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
1441:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1442:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1443:rtos/uC-FS/Source/fs_file.c ****     }
1444:rtos/uC-FS/Source/fs_file.c **** 
1445:rtos/uC-FS/Source/fs_file.c ****     if (p_file->FlagErr == DEF_YES) {                           /* Chk for file err (see Note #3). 
1446:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1447:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
1448:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1449:rtos/uC-FS/Source/fs_file.c ****     }
1450:rtos/uC-FS/Source/fs_file.c **** 
1451:rtos/uC-FS/Source/fs_file.c **** 
1452:rtos/uC-FS/Source/fs_file.c **** 
1453:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------------- GET POS -
1454:rtos/uC-FS/Source/fs_file.c ****     pos = p_file->Pos;
1455:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 27


1456:rtos/uC-FS/Source/fs_file.c **** 
1457:rtos/uC-FS/Source/fs_file.c **** 
1458:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
1459:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
1460:rtos/uC-FS/Source/fs_file.c ****     return (pos);
1461:rtos/uC-FS/Source/fs_file.c **** }
1462:rtos/uC-FS/Source/fs_file.c **** 
1463:rtos/uC-FS/Source/fs_file.c **** 
1464:rtos/uC-FS/Source/fs_file.c **** /*
1465:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1466:rtos/uC-FS/Source/fs_file.c **** *                                            FSFile_PosSet()
1467:rtos/uC-FS/Source/fs_file.c **** *
1468:rtos/uC-FS/Source/fs_file.c **** * Description : Set file position indicator.
1469:rtos/uC-FS/Source/fs_file.c **** *
1470:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
1471:rtos/uC-FS/Source/fs_file.c **** *
1472:rtos/uC-FS/Source/fs_file.c **** *               offset      Offset from the file position specified by 'origin'.
1473:rtos/uC-FS/Source/fs_file.c **** *
1474:rtos/uC-FS/Source/fs_file.c **** *               origin      Reference position for offset :
1475:rtos/uC-FS/Source/fs_file.c **** *
1476:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ORIGIN_START    Offset is from the beginning of the file.
1477:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ORIGIN_CUR      Offset is from current file position.
1478:rtos/uC-FS/Source/fs_file.c **** *                               FS_FILE_ORIGIN_END      Offset is from the end       of the file.
1479:rtos/uC-FS/Source/fs_file.c **** *
1480:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1481:rtos/uC-FS/Source/fs_file.c **** *
1482:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                   File position set successfully.
1483:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR               Argument 'p_file' passed a NULL point
1484:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE           Argument 'p_file's TYPE is invalid or
1485:rtos/uC-FS/Source/fs_file.c **** *                                                                 unknown.
1486:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_ERR               File has error (see Note #5).
1487:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_OP        Invalid operation on file (see Note #
1488:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_ORIGIN    Invalid origin specified.
1489:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_OFFSET    Invalid offset specified.
1490:rtos/uC-FS/Source/fs_file.c **** *
1491:rtos/uC-FS/Source/fs_file.c **** *                                                             --- RETURNED BY FSFile_AcquireLockChk
1492:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD              Device has changed.
1493:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN          File NOT open.
1494:rtos/uC-FS/Source/fs_file.c **** *
1495:rtos/uC-FS/Source/fs_file.c **** *                                                             ------ RETURNED BY FSFile_BufEmpty() 
1496:rtos/uC-FS/Source/fs_file.c **** *                                                             ------ RETURNED BY FSSys_PosSet() ---
1497:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL         No buffer available.
1498:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV                    Device access error.
1499:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL               Device is full (no space could be all
1500:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT          File system entry is corrupt.
1501:rtos/uC-FS/Source/fs_file.c **** *
1502:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
1503:rtos/uC-FS/Source/fs_file.c **** *
1504:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) (a) If a read or write error occurs, the error indicator is set.
1505:rtos/uC-FS/Source/fs_file.c **** *
1506:rtos/uC-FS/Source/fs_file.c **** *                   (b) The new file position, measured in bytes from the beginning of the file is
1507:rtos/uC-FS/Source/fs_file.c **** *                       obtained by adding 'offset' to...
1508:rtos/uC-FS/Source/fs_file.c **** *
1509:rtos/uC-FS/Source/fs_file.c **** *                       (1) ...0 (the beginning of the file) if 'origin' is FS_FILE_ORIGIN_START,
1510:rtos/uC-FS/Source/fs_file.c **** *
1511:rtos/uC-FS/Source/fs_file.c **** *                       (2) ...the current file position     if 'origin' is FS_FILE_ORIGIN_CUR.
1512:rtos/uC-FS/Source/fs_file.c **** *
ARM GAS  /tmp/cccHCpmH.s 			page 28


1513:rtos/uC-FS/Source/fs_file.c **** *                       (3) ...the file size                 if 'origin' is FS_FILE_ORIGIN_END.
1514:rtos/uC-FS/Source/fs_file.c **** *
1515:rtos/uC-FS/Source/fs_file.c **** *                   (c) The end-of-file indicator is cleared.
1516:rtos/uC-FS/Source/fs_file.c **** *
1517:rtos/uC-FS/Source/fs_file.c **** *               (2) If the file position indicator is set beyond the file's current data...
1518:rtos/uC-FS/Source/fs_file.c **** *
1519:rtos/uC-FS/Source/fs_file.c **** *                   (a) ...& data is later written to that point, reads from the gap will read 0.
1520:rtos/uC-FS/Source/fs_file.c **** *
1521:rtos/uC-FS/Source/fs_file.c **** *                   (b) ...the file MUST be opened in write or read/write mode.
1522:rtos/uC-FS/Source/fs_file.c **** *
1523:rtos/uC-FS/Source/fs_file.c **** *               (3) See also 'fs_fseek()  Note(s)'.
1524:rtos/uC-FS/Source/fs_file.c **** *
1525:rtos/uC-FS/Source/fs_file.c **** *               (4) If an error occurred in the previous file access, the error indicator must be
1526:rtos/uC-FS/Source/fs_file.c **** *                   cleared (with 'FSFile_ClrErr()') before another access will be allowed.
1527:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1528:rtos/uC-FS/Source/fs_file.c **** */
1529:rtos/uC-FS/Source/fs_file.c **** 
1530:rtos/uC-FS/Source/fs_file.c **** void  FSFile_PosSet (FS_FILE         *p_file,
1531:rtos/uC-FS/Source/fs_file.c ****                      FS_FILE_OFFSET   offset,
1532:rtos/uC-FS/Source/fs_file.c ****                      FS_STATE         origin,
1533:rtos/uC-FS/Source/fs_file.c ****                      FS_ERR          *p_err)
1534:rtos/uC-FS/Source/fs_file.c **** {
1535:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_OFFSET   chk_pos;
1536:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE     start_pos;
1537:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE     set_pos;
1538:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
1539:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       fill_size;
1540:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       wr_size;
1541:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       buf_size;
1542:rtos/uC-FS/Source/fs_file.c ****     FS_BUF          *p_buf;
1543:rtos/uC-FS/Source/fs_file.c **** #endif
1544:rtos/uC-FS/Source/fs_file.c **** 
1545:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
1546:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
1547:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
1548:rtos/uC-FS/Source/fs_file.c ****     }
1549:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
1550:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
1551:rtos/uC-FS/Source/fs_file.c ****         return;
1552:rtos/uC-FS/Source/fs_file.c ****     }
1553:rtos/uC-FS/Source/fs_file.c ****     if (origin != FS_FILE_ORIGIN_START) {                       /* Validate origin.                
1554:rtos/uC-FS/Source/fs_file.c ****         if (origin != FS_FILE_ORIGIN_CUR) {
1555:rtos/uC-FS/Source/fs_file.c ****             if (origin != FS_FILE_ORIGIN_END) {
1556:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_ORIGIN;
1557:rtos/uC-FS/Source/fs_file.c ****                 return;
1558:rtos/uC-FS/Source/fs_file.c ****             }
1559:rtos/uC-FS/Source/fs_file.c ****         }
1560:rtos/uC-FS/Source/fs_file.c ****     }
1561:rtos/uC-FS/Source/fs_file.c **** #endif
1562:rtos/uC-FS/Source/fs_file.c **** 
1563:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
1564:rtos/uC-FS/Source/fs_file.c ****    (void)FSFile_AcquireLockChk(p_file, p_err);
1565:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1566:rtos/uC-FS/Source/fs_file.c ****          return;
1567:rtos/uC-FS/Source/fs_file.c ****     }
1568:rtos/uC-FS/Source/fs_file.c **** 
1569:rtos/uC-FS/Source/fs_file.c ****     if (p_file->FlagErr == DEF_YES) {                           /* Chk for file err (see Note #5). 
ARM GAS  /tmp/cccHCpmH.s 			page 29


1570:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1571:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
1572:rtos/uC-FS/Source/fs_file.c ****         return;
1573:rtos/uC-FS/Source/fs_file.c ****     }
1574:rtos/uC-FS/Source/fs_file.c **** 
1575:rtos/uC-FS/Source/fs_file.c **** 
1576:rtos/uC-FS/Source/fs_file.c **** 
1577:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------- HANDLE FILE BUF
1578:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
1579:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONE) {         /* Blk buf assignment.             
1580:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
1581:rtos/uC-FS/Source/fs_file.c ****     }
1582:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Flush buf before pos set.       
1583:rtos/uC-FS/Source/fs_file.c ****     if ((p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_RD) ||
1584:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
1585:rtos/uC-FS/Source/fs_file.c ****         FSFile_BufEmpty(p_file, p_err);
1586:rtos/uC-FS/Source/fs_file.c **** 
1587:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {                            /* Rtn if rd/wr err (see Note #1a).
1588:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
1589:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagEOF = DEF_NO;
1590:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
1591:rtos/uC-FS/Source/fs_file.c ****             return;
1592:rtos/uC-FS/Source/fs_file.c ****         }
1593:rtos/uC-FS/Source/fs_file.c ****     }
1594:rtos/uC-FS/Source/fs_file.c **** #endif
1595:rtos/uC-FS/Source/fs_file.c **** 
1596:rtos/uC-FS/Source/fs_file.c **** 
1597:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- CALC NEW POS
1598:rtos/uC-FS/Source/fs_file.c ****     if ((offset == 0) && (origin == FS_FILE_ORIGIN_CUR)) {      /* If 0 offset from cur       ...  
1599:rtos/uC-FS/Source/fs_file.c ****         p_file->IO_State = FS_FILE_IO_STATE_NONE;
1600:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF  = DEF_NO;                              /* ... clr EOF (see Note #1b) ...  
1601:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1602:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
1603:rtos/uC-FS/Source/fs_file.c ****         return;                                                 /* ... & rtn.                      
1604:rtos/uC-FS/Source/fs_file.c ****     }
1605:rtos/uC-FS/Source/fs_file.c **** 
1606:rtos/uC-FS/Source/fs_file.c ****     switch (origin) {                                           /* Start (ref) pos for offset (see 
1607:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_ORIGIN_CUR:                                /* ... current file pos            
1608:rtos/uC-FS/Source/fs_file.c ****              start_pos = p_file->Pos;
1609:rtos/uC-FS/Source/fs_file.c ****              break;
1610:rtos/uC-FS/Source/fs_file.c **** 
1611:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_ORIGIN_END:                                /* ... EOF                         
1612:rtos/uC-FS/Source/fs_file.c ****              start_pos = p_file->Size;
1613:rtos/uC-FS/Source/fs_file.c ****              break;
1614:rtos/uC-FS/Source/fs_file.c **** 
1615:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_ORIGIN_START:                              /* ... start of file.              
1616:rtos/uC-FS/Source/fs_file.c ****         default:
1617:rtos/uC-FS/Source/fs_file.c ****              start_pos = 0u;
1618:rtos/uC-FS/Source/fs_file.c ****              break;
1619:rtos/uC-FS/Source/fs_file.c **** 
1620:rtos/uC-FS/Source/fs_file.c ****     }
1621:rtos/uC-FS/Source/fs_file.c **** 
1622:rtos/uC-FS/Source/fs_file.c ****     if (offset < 0) {                                           /* Neg offset ... chk for neg ovf. 
1623:rtos/uC-FS/Source/fs_file.c ****         if (offset == FS_FILE_OFFSET_MIN) {
1624:rtos/uC-FS/Source/fs_file.c ****             if ((FS_FILE_SIZE)FS_FILE_OFFSET_MAX + 1u > start_pos) {
1625:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
1626:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
ARM GAS  /tmp/cccHCpmH.s 			page 30


1627:rtos/uC-FS/Source/fs_file.c ****                 return;
1628:rtos/uC-FS/Source/fs_file.c ****             }
1629:rtos/uC-FS/Source/fs_file.c ****         } else {
1630:rtos/uC-FS/Source/fs_file.c ****             chk_pos = (FS_FILE_OFFSET)start_pos + offset;
1631:rtos/uC-FS/Source/fs_file.c ****             if (chk_pos < 0) {
1632:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
1633:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
1634:rtos/uC-FS/Source/fs_file.c ****                 return;
1635:rtos/uC-FS/Source/fs_file.c ****             }
1636:rtos/uC-FS/Source/fs_file.c ****         }
1637:rtos/uC-FS/Source/fs_file.c ****     } else {
1638:rtos/uC-FS/Source/fs_file.c ****         if (offset > 0) {                                       /* Pos offset ... chk for pos ovf. 
1639:rtos/uC-FS/Source/fs_file.c ****             if (FS_FILE_SIZE_MAX - (FS_FILE_SIZE)offset < start_pos) {
1640:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
1641:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
1642:rtos/uC-FS/Source/fs_file.c ****                 return;
1643:rtos/uC-FS/Source/fs_file.c ****             }
1644:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Chk file mode (see Note #2b).   
1645:rtos/uC-FS/Source/fs_file.c ****             if ((FS_FILE_SIZE)offset + start_pos > p_file->Size) {
1646:rtos/uC-FS/Source/fs_file.c ****                 if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
1647:rtos/uC-FS/Source/fs_file.c ****                    *p_err = FS_ERR_FILE_INVALID_OFFSET;
1648:rtos/uC-FS/Source/fs_file.c ****                     FSFile_ReleaseUnlock(p_file);
1649:rtos/uC-FS/Source/fs_file.c ****                     return;
1650:rtos/uC-FS/Source/fs_file.c ****                 }
1651:rtos/uC-FS/Source/fs_file.c ****             }
1652:rtos/uC-FS/Source/fs_file.c ****         }
1653:rtos/uC-FS/Source/fs_file.c ****     }
1654:rtos/uC-FS/Source/fs_file.c **** 
1655:rtos/uC-FS/Source/fs_file.c ****     set_pos = start_pos + offset;                               /* Calc pos to set.                
1656:rtos/uC-FS/Source/fs_file.c **** 
1657:rtos/uC-FS/Source/fs_file.c **** 
1658:rtos/uC-FS/Source/fs_file.c ****     if (set_pos > p_file->Size) {                               /* If pos past file data ...       
1659:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_ENABLED)
1660:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OFFSET;
1661:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1662:rtos/uC-FS/Source/fs_file.c ****         return;
1663:rtos/uC-FS/Source/fs_file.c **** #else
1664:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ... there is no need to chk file
1665:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ... it has already been chk'd (s
1666:rtos/uC-FS/Source/fs_file.c **** 
1667:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Fill empty area with '\0'       
1668:rtos/uC-FS/Source/fs_file.c ****         fill_size = set_pos - p_file->Size;
1669:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Alloc buf filled with '\0'      
1670:rtos/uC-FS/Source/fs_file.c ****         p_buf = FSBuf_Get(p_file->VolPtr);
1671:rtos/uC-FS/Source/fs_file.c ****         if (p_buf == (FS_BUF *)0) {
1672:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_BUF_NONE_AVAIL;
1673:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
1674:rtos/uC-FS/Source/fs_file.c ****             return;
1675:rtos/uC-FS/Source/fs_file.c ****         }
1676:rtos/uC-FS/Source/fs_file.c ****         buf_size = p_buf->Size;
1677:rtos/uC-FS/Source/fs_file.c **** 
1678:rtos/uC-FS/Source/fs_file.c ****         Mem_Set ((void *)      p_buf->DataPtr,
1679:rtos/uC-FS/Source/fs_file.c ****                  (CPU_INT08U)  ASCII_CHAR_NULL,
1680:rtos/uC-FS/Source/fs_file.c ****                  (CPU_SIZE_T)  buf_size);
1681:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Set pos after last valid data   
1682:rtos/uC-FS/Source/fs_file.c ****         FSSys_FilePosSet(p_file, p_file->Size, p_err);
1683:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
ARM GAS  /tmp/cccHCpmH.s 			page 31


1684:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
1685:rtos/uC-FS/Source/fs_file.c ****             FSBuf_Free(p_buf);
1686:rtos/uC-FS/Source/fs_file.c ****             return;
1687:rtos/uC-FS/Source/fs_file.c ****         }
1688:rtos/uC-FS/Source/fs_file.c **** 
1689:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Write '\0' to file              
1690:rtos/uC-FS/Source/fs_file.c **** 
1691:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Wr rem of sec.                  
1692:rtos/uC-FS/Source/fs_file.c ****         wr_size = p_file->VolPtr->SecSize - (p_file->Pos % p_file->VolPtr->SecSize);
1693:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
1694:rtos/uC-FS/Source/fs_file.c ****             wr_size = fill_size;
1695:rtos/uC-FS/Source/fs_file.c ****         }
1696:rtos/uC-FS/Source/fs_file.c **** 
1697:rtos/uC-FS/Source/fs_file.c ****         while (fill_size > 0u) {
1698:rtos/uC-FS/Source/fs_file.c ****             FSSys_FileWr (p_file,
1699:rtos/uC-FS/Source/fs_file.c ****                           p_buf->DataPtr,
1700:rtos/uC-FS/Source/fs_file.c ****                           wr_size,
1701:rtos/uC-FS/Source/fs_file.c ****                           p_err);
1702:rtos/uC-FS/Source/fs_file.c ****             if (*p_err != FS_ERR_NONE) {
1703:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
1704:rtos/uC-FS/Source/fs_file.c ****                 FSBuf_Free(p_buf);
1705:rtos/uC-FS/Source/fs_file.c ****                 return;
1706:rtos/uC-FS/Source/fs_file.c ****             }
1707:rtos/uC-FS/Source/fs_file.c ****             fill_size    -= wr_size;
1708:rtos/uC-FS/Source/fs_file.c ****             p_file->Size += wr_size;
1709:rtos/uC-FS/Source/fs_file.c **** 
1710:rtos/uC-FS/Source/fs_file.c ****             if (fill_size > buf_size) {                         /* Limit wr to buf size.           
1711:rtos/uC-FS/Source/fs_file.c ****                 wr_size = buf_size;
1712:rtos/uC-FS/Source/fs_file.c ****             } else {
1713:rtos/uC-FS/Source/fs_file.c ****                 wr_size = fill_size;
1714:rtos/uC-FS/Source/fs_file.c ****             }
1715:rtos/uC-FS/Source/fs_file.c ****         }
1716:rtos/uC-FS/Source/fs_file.c ****         FSBuf_Free(p_buf);
1717:rtos/uC-FS/Source/fs_file.c **** #endif
1718:rtos/uC-FS/Source/fs_file.c ****     }
1719:rtos/uC-FS/Source/fs_file.c **** 
1720:rtos/uC-FS/Source/fs_file.c ****     FSSys_FilePosSet(p_file, set_pos, p_err);
1721:rtos/uC-FS/Source/fs_file.c **** 
1722:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1723:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;                              /* Set err indicator (see Note #1a)
1724:rtos/uC-FS/Source/fs_file.c ****     } else {
1725:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF = DEF_NO;                               /* Clr EOF (see Note #1b).         
1726:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos     = set_pos;
1727:rtos/uC-FS/Source/fs_file.c ****     }
1728:rtos/uC-FS/Source/fs_file.c **** 
1729:rtos/uC-FS/Source/fs_file.c ****     p_file->IO_State = FS_FILE_IO_STATE_NONE;
1730:rtos/uC-FS/Source/fs_file.c **** 
1731:rtos/uC-FS/Source/fs_file.c **** 
1732:rtos/uC-FS/Source/fs_file.c **** 
1733:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
1734:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
1735:rtos/uC-FS/Source/fs_file.c **** }
1736:rtos/uC-FS/Source/fs_file.c **** 
1737:rtos/uC-FS/Source/fs_file.c **** 
1738:rtos/uC-FS/Source/fs_file.c **** /*
1739:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1740:rtos/uC-FS/Source/fs_file.c **** *                                             FSFile_Query()
ARM GAS  /tmp/cccHCpmH.s 			page 32


1741:rtos/uC-FS/Source/fs_file.c **** *
1742:rtos/uC-FS/Source/fs_file.c **** * Description : Get information about a file.
1743:rtos/uC-FS/Source/fs_file.c **** *
1744:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
1745:rtos/uC-FS/Source/fs_file.c **** *
1746:rtos/uC-FS/Source/fs_file.c **** *               p_info      Pointer to structure that will receive the file information.
1747:rtos/uC-FS/Source/fs_file.c **** *
1748:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1749:rtos/uC-FS/Source/fs_file.c **** *
1750:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File information obtained successfully.
1751:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file'/'p_info' passed a NULL po
1752:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or
1753:rtos/uC-FS/Source/fs_file.c **** *                                                           unknown.
1754:rtos/uC-FS/Source/fs_file.c **** *
1755:rtos/uC-FS/Source/fs_file.c **** *                                                       ------ RETURNED BY FSFile_AcquireLockChk() 
1756:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD        Device has changed.
1757:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
1758:rtos/uC-FS/Source/fs_file.c **** *
1759:rtos/uC-FS/Source/fs_file.c **** *                                                       --------- RETURNED BY FSSys_FileQuery() ---
1760:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL   No buffer available.
1761:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV              Device access error.
1762:rtos/uC-FS/Source/fs_file.c **** *
1763:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
1764:rtos/uC-FS/Source/fs_file.c **** *
1765:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If data is stored in the file buffer waiting to be written to the storage mediu
1766:rtos/uC-FS/Source/fs_file.c **** *                   the actual file size may need to be adjusted to account for that buffered data.
1767:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1768:rtos/uC-FS/Source/fs_file.c **** */
1769:rtos/uC-FS/Source/fs_file.c **** 
1770:rtos/uC-FS/Source/fs_file.c **** void  FSFile_Query (FS_FILE        *p_file,
1771:rtos/uC-FS/Source/fs_file.c ****                     FS_ENTRY_INFO  *p_info,
1772:rtos/uC-FS/Source/fs_file.c ****                     FS_ERR         *p_err)
1773:rtos/uC-FS/Source/fs_file.c **** 
1774:rtos/uC-FS/Source/fs_file.c **** {
1775:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
1776:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
1777:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
1778:rtos/uC-FS/Source/fs_file.c ****     }
1779:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
1780:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
1781:rtos/uC-FS/Source/fs_file.c ****         return;
1782:rtos/uC-FS/Source/fs_file.c ****     }
1783:rtos/uC-FS/Source/fs_file.c ****     if (p_info == (FS_ENTRY_INFO *)0) {                         /* Validate file info ptr.         
1784:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
1785:rtos/uC-FS/Source/fs_file.c ****         return;
1786:rtos/uC-FS/Source/fs_file.c ****     }
1787:rtos/uC-FS/Source/fs_file.c **** #endif
1788:rtos/uC-FS/Source/fs_file.c **** 
1789:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
1790:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
1791:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1792:rtos/uC-FS/Source/fs_file.c ****         return;
1793:rtos/uC-FS/Source/fs_file.c ****     }
1794:rtos/uC-FS/Source/fs_file.c **** 
1795:rtos/uC-FS/Source/fs_file.c ****                                                                 /* --------------------- GET INFO -
1796:rtos/uC-FS/Source/fs_file.c ****     FSSys_FileQuery(p_file, p_info, p_err);
1797:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
ARM GAS  /tmp/cccHCpmH.s 			page 33


1798:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1799:rtos/uC-FS/Source/fs_file.c ****         return;
1800:rtos/uC-FS/Source/fs_file.c ****     }
1801:rtos/uC-FS/Source/fs_file.c **** 
1802:rtos/uC-FS/Source/fs_file.c **** 
1803:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------- HANDLE FILE BUF
1804:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
1805:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR) {  /* See Note #1.                    
1806:rtos/uC-FS/Source/fs_file.c ****         p_info->Size = p_file->Size;
1807:rtos/uC-FS/Source/fs_file.c **** 
1808:rtos/uC-FS/Source/fs_file.c **** 
1809:rtos/uC-FS/Source/fs_file.c ****     }
1810:rtos/uC-FS/Source/fs_file.c **** #endif
1811:rtos/uC-FS/Source/fs_file.c **** 
1812:rtos/uC-FS/Source/fs_file.c **** 
1813:rtos/uC-FS/Source/fs_file.c **** 
1814:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
1815:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
1816:rtos/uC-FS/Source/fs_file.c **** }
1817:rtos/uC-FS/Source/fs_file.c **** 
1818:rtos/uC-FS/Source/fs_file.c **** 
1819:rtos/uC-FS/Source/fs_file.c **** /*
1820:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1821:rtos/uC-FS/Source/fs_file.c **** *                                              FSFile_Rd()
1822:rtos/uC-FS/Source/fs_file.c **** *
1823:rtos/uC-FS/Source/fs_file.c **** * Description : Read from a file.
1824:rtos/uC-FS/Source/fs_file.c **** *
1825:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
1826:rtos/uC-FS/Source/fs_file.c **** *
1827:rtos/uC-FS/Source/fs_file.c **** *               p_dest      Pointer to destination buffer.
1828:rtos/uC-FS/Source/fs_file.c **** *
1829:rtos/uC-FS/Source/fs_file.c **** *               size        Number of octets to read.
1830:rtos/uC-FS/Source/fs_file.c **** *
1831:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1832:rtos/uC-FS/Source/fs_file.c **** *
1833:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                   File read successfully.
1834:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR               Argument 'p_file'/'p_dest' passed a N
1835:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE           Argument 'p_file's TYPE is invalid or
1836:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_ERR               File has error (see Note #5).
1837:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_OP        Invalid operation on file (see Note #
1838:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_OP_SEQ    Invalid operation sequence on file (s
1839:rtos/uC-FS/Source/fs_file.c **** *
1840:rtos/uC-FS/Source/fs_file.c **** *                                                             --- RETURNED BY FSFile_AcquireLockChk
1841:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD              Device has changed.
1842:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN          File NOT open.
1843:rtos/uC-FS/Source/fs_file.c **** *
1844:rtos/uC-FS/Source/fs_file.c **** *                                                             -------- RETURNED BY FSSys_FileRd() -
1845:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL         No buffer available.
1846:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV                    Device access error.
1847:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT          File system entry corrupt.
1848:rtos/uC-FS/Source/fs_file.c **** *
1849:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Number of bytes read, if no error.
1850:rtos/uC-FS/Source/fs_file.c **** *               0,                    otherwise.
1851:rtos/uC-FS/Source/fs_file.c **** *
1852:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If 'size' is zero, then the file is unchanged & zero is returned.
1853:rtos/uC-FS/Source/fs_file.c **** *
1854:rtos/uC-FS/Source/fs_file.c **** *               (2) If the last operation is output (write), then a call to 'FSFile_BufFlush()' or
ARM GAS  /tmp/cccHCpmH.s 			page 34


1855:rtos/uC-FS/Source/fs_file.c **** *                  'FSFile_PosSet()' MUST occur before input (read) can be performed.  See 'fs_fope
1856:rtos/uC-FS/Source/fs_file.c **** *                   Note #1e'.
1857:rtos/uC-FS/Source/fs_file.c **** *
1858:rtos/uC-FS/Source/fs_file.c **** *                   (a) This check of the buffer status is redundant; the buffer should NEVER be no
1859:rtos/uC-FS/Source/fs_file.c **** *                       empty with write data without the file being in the I/O write state.
1860:rtos/uC-FS/Source/fs_file.c **** *
1861:rtos/uC-FS/Source/fs_file.c **** *               (3) The file MUST have been opened in read or update (read/write) mode.
1862:rtos/uC-FS/Source/fs_file.c **** *
1863:rtos/uC-FS/Source/fs_file.c **** *               (4) See 'fs_fread()  Note(s)'.
1864:rtos/uC-FS/Source/fs_file.c **** *
1865:rtos/uC-FS/Source/fs_file.c **** *               (5) If an error occurred in the previous file access, the error indicator must be
1866:rtos/uC-FS/Source/fs_file.c **** *                   cleared (with 'FSFile_ClrErr()') before another access will be allowed.
1867:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1868:rtos/uC-FS/Source/fs_file.c **** */
1869:rtos/uC-FS/Source/fs_file.c **** 
1870:rtos/uC-FS/Source/fs_file.c **** CPU_SIZE_T  FSFile_Rd (FS_FILE     *p_file,
1871:rtos/uC-FS/Source/fs_file.c ****                        void        *p_dest,
1872:rtos/uC-FS/Source/fs_file.c ****                        CPU_SIZE_T   size,
1873:rtos/uC-FS/Source/fs_file.c ****                        FS_ERR      *p_err)
1874:rtos/uC-FS/Source/fs_file.c **** {
1875:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  size_rd;
1876:rtos/uC-FS/Source/fs_file.c **** 
1877:rtos/uC-FS/Source/fs_file.c **** 
1878:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
1879:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
1880:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
1881:rtos/uC-FS/Source/fs_file.c ****     }
1882:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
1883:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
1884:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1885:rtos/uC-FS/Source/fs_file.c ****     }
1886:rtos/uC-FS/Source/fs_file.c ****     if (p_dest == (void *)0) {                                  /* Validate dest ptr.              
1887:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
1888:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1889:rtos/uC-FS/Source/fs_file.c ****     }
1890:rtos/uC-FS/Source/fs_file.c **** #endif
1891:rtos/uC-FS/Source/fs_file.c **** 
1892:rtos/uC-FS/Source/fs_file.c **** 
1893:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
1894:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
1895:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
1896:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1897:rtos/uC-FS/Source/fs_file.c ****     }
1898:rtos/uC-FS/Source/fs_file.c **** 
1899:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Chk file mode (see Note #3).    
1900:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_RD) == DEF_YES) {
1901:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1902:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP;
1903:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1904:rtos/uC-FS/Source/fs_file.c ****     }
1905:rtos/uC-FS/Source/fs_file.c **** 
1906:rtos/uC-FS/Source/fs_file.c ****     if (p_file->IO_State == FS_FILE_IO_STATE_WR) {              /* Chk state (see Note #2).        
1907:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1908:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP_SEQ;
1909:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1910:rtos/uC-FS/Source/fs_file.c ****     }
1911:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 35


1912:rtos/uC-FS/Source/fs_file.c ****     if (p_file->FlagErr == DEF_YES) {                           /* Chk for file err (see Note #5). 
1913:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1914:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
1915:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1916:rtos/uC-FS/Source/fs_file.c ****     }
1917:rtos/uC-FS/Source/fs_file.c **** 
1918:rtos/uC-FS/Source/fs_file.c ****     if (size == 0u) {                                           /* Rtn 0 bytes rd (see Note #1).   
1919:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1920:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
1921:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1922:rtos/uC-FS/Source/fs_file.c ****     }
1923:rtos/uC-FS/Source/fs_file.c **** 
1924:rtos/uC-FS/Source/fs_file.c **** 
1925:rtos/uC-FS/Source/fs_file.c **** 
1926:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------- HANDLE FILE BUF
1927:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
1928:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN  == DEF_DISABLED)
1929:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR) {  /* Chk buf status (see Note #2a).  
1930:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1931:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP_SEQ;
1932:rtos/uC-FS/Source/fs_file.c ****         return (0u);
1933:rtos/uC-FS/Source/fs_file.c ****     }
1934:rtos/uC-FS/Source/fs_file.c **** #endif
1935:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Read from buf.                  
1936:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(p_file->BufMode, FS_FILE_BUF_MODE_RD) == DEF_YES) {
1937:rtos/uC-FS/Source/fs_file.c ****         size_rd = FSFile_BufRd(p_file,
1938:rtos/uC-FS/Source/fs_file.c ****                                p_dest,
1939:rtos/uC-FS/Source/fs_file.c ****                                size,
1940:rtos/uC-FS/Source/fs_file.c ****                                p_err);
1941:rtos/uC-FS/Source/fs_file.c **** 
1942:rtos/uC-FS/Source/fs_file.c ****         if (size_rd != 0u) {                                    /* If data rd, set I/O state.      
1943:rtos/uC-FS/Source/fs_file.c ****             p_file->IO_State = FS_FILE_IO_STATE_RD;
1944:rtos/uC-FS/Source/fs_file.c ****         }
1945:rtos/uC-FS/Source/fs_file.c **** 
1946:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
1947:rtos/uC-FS/Source/fs_file.c ****         return (size_rd);
1948:rtos/uC-FS/Source/fs_file.c ****     }
1949:rtos/uC-FS/Source/fs_file.c **** 
1950:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Blk buf assignment.             
1951:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONE) {
1952:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
1953:rtos/uC-FS/Source/fs_file.c ****     }
1954:rtos/uC-FS/Source/fs_file.c **** #endif
1955:rtos/uC-FS/Source/fs_file.c **** 
1956:rtos/uC-FS/Source/fs_file.c **** 
1957:rtos/uC-FS/Source/fs_file.c **** 
1958:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------------- RD FILE -
1959:rtos/uC-FS/Source/fs_file.c ****     size_rd = FSSys_FileRd(p_file,
1960:rtos/uC-FS/Source/fs_file.c ****                            p_dest,
1961:rtos/uC-FS/Source/fs_file.c ****                            size,
1962:rtos/uC-FS/Source/fs_file.c ****                            p_err);
1963:rtos/uC-FS/Source/fs_file.c **** 
1964:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos += size_rd;
1965:rtos/uC-FS/Source/fs_file.c **** 
1966:rtos/uC-FS/Source/fs_file.c **** 
1967:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- UPDATE FILE FL
1968:rtos/uC-FS/Source/fs_file.c ****     switch (*p_err) {
ARM GAS  /tmp/cccHCpmH.s 			page 36


1969:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_BUF_NONE_AVAIL:
1970:rtos/uC-FS/Source/fs_file.c ****              break;
1971:rtos/uC-FS/Source/fs_file.c **** 
1972:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NONE:
1973:rtos/uC-FS/Source/fs_file.c ****              if (size_rd != 0u) {
1974:rtos/uC-FS/Source/fs_file.c ****                  p_file->IO_State = FS_FILE_IO_STATE_RD;
1975:rtos/uC-FS/Source/fs_file.c ****              }
1976:rtos/uC-FS/Source/fs_file.c ****              if (size_rd != size) {
1977:rtos/uC-FS/Source/fs_file.c ****                  p_file->FlagEOF = DEF_YES;
1978:rtos/uC-FS/Source/fs_file.c ****              } else {
1979:rtos/uC-FS/Source/fs_file.c ****                  p_file->FlagEOF = DEF_NO;
1980:rtos/uC-FS/Source/fs_file.c ****              }
1981:rtos/uC-FS/Source/fs_file.c ****              break;
1982:rtos/uC-FS/Source/fs_file.c **** 
1983:rtos/uC-FS/Source/fs_file.c ****         default:                                                /* Update err flag.                
1984:rtos/uC-FS/Source/fs_file.c ****              p_file->FlagEOF = DEF_NO;
1985:rtos/uC-FS/Source/fs_file.c ****              p_file->FlagErr = DEF_YES;
1986:rtos/uC-FS/Source/fs_file.c ****              break;
1987:rtos/uC-FS/Source/fs_file.c ****     }
1988:rtos/uC-FS/Source/fs_file.c **** 
1989:rtos/uC-FS/Source/fs_file.c **** 
1990:rtos/uC-FS/Source/fs_file.c **** 
1991:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
1992:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
1993:rtos/uC-FS/Source/fs_file.c ****     return (size_rd);
1994:rtos/uC-FS/Source/fs_file.c **** }
1995:rtos/uC-FS/Source/fs_file.c **** 
1996:rtos/uC-FS/Source/fs_file.c **** 
1997:rtos/uC-FS/Source/fs_file.c **** /*
1998:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
1999:rtos/uC-FS/Source/fs_file.c **** *                                          FSFile_Truncate()
2000:rtos/uC-FS/Source/fs_file.c **** *
2001:rtos/uC-FS/Source/fs_file.c **** * Description : Truncate a file.
2002:rtos/uC-FS/Source/fs_file.c **** *
2003:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
2004:rtos/uC-FS/Source/fs_file.c **** *
2005:rtos/uC-FS/Source/fs_file.c **** *               size        Size of file after truncation.
2006:rtos/uC-FS/Source/fs_file.c **** *
2007:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
2008:rtos/uC-FS/Source/fs_file.c **** *
2009:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File truncated successfully.
2010:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR         Argument 'p_file' passed a NULL pointer.
2011:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE     Argument 'p_file's TYPE is invalid or unkno
2012:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_ERR         File has error (see Note #5).
2013:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_OP  Invalid operation on file.
2014:rtos/uC-FS/Source/fs_file.c **** *
2015:rtos/uC-FS/Source/fs_file.c **** *                                                       ------ RETURNED BY FSFile_AcquireLockChk() 
2016:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD        Device has changed.
2017:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
2018:rtos/uC-FS/Source/fs_file.c **** *
2019:rtos/uC-FS/Source/fs_file.c **** *                                                       --------- RETURNED BY FSFile_BufEmpty() ---
2020:rtos/uC-FS/Source/fs_file.c **** *                                                       --------- RETURNED BY FSSys_Truncate() ----
2021:rtos/uC-FS/Source/fs_file.c **** *                                                       --------- RETURNED BY FSSys_PosSet() ------
2022:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL   No buffer available.
2023:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV              Device access error.
2024:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL         Device is full (no space could be allocated
2025:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT    File system entry is corrupt.
ARM GAS  /tmp/cccHCpmH.s 			page 37


2026:rtos/uC-FS/Source/fs_file.c **** *
2027:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
2028:rtos/uC-FS/Source/fs_file.c **** *
2029:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) The file MUST be opened in write or read/write mode.
2030:rtos/uC-FS/Source/fs_file.c **** *
2031:rtos/uC-FS/Source/fs_file.c **** *               (2) If 'FSFile_Truncate()' succeeds, the size of the file shall be equal to 'size':
2032:rtos/uC-FS/Source/fs_file.c **** *
2033:rtos/uC-FS/Source/fs_file.c **** *                   (a) If the size of the file was previously greater than 'size', the extra data 
2034:rtos/uC-FS/Source/fs_file.c **** *                       no longer be available.
2035:rtos/uC-FS/Source/fs_file.c **** *
2036:rtos/uC-FS/Source/fs_file.c **** *                   (b) If the file previously was smaller than this 'size', the size of the file s
2037:rtos/uC-FS/Source/fs_file.c **** *                       be increased.
2038:rtos/uC-FS/Source/fs_file.c **** *
2039:rtos/uC-FS/Source/fs_file.c **** *               (3) If the file position indicator before the call to 'FSFile_Truncate()' lay in th
2040:rtos/uC-FS/Source/fs_file.c **** *                   extra data destroyed by the function, then the file position will be set to the
2041:rtos/uC-FS/Source/fs_file.c **** *                   end-of-file.
2042:rtos/uC-FS/Source/fs_file.c **** *
2043:rtos/uC-FS/Source/fs_file.c **** *               (4) See 'fs_ftruncate()  Note(s)'.
2044:rtos/uC-FS/Source/fs_file.c **** *
2045:rtos/uC-FS/Source/fs_file.c **** *               (5) If an error occurred in the previous file access, the error indicator must be
2046:rtos/uC-FS/Source/fs_file.c **** *                   cleared (with 'FSFile_ClrErr()') before another access will be allowed.
2047:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2048:rtos/uC-FS/Source/fs_file.c **** */
2049:rtos/uC-FS/Source/fs_file.c **** 
2050:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
2051:rtos/uC-FS/Source/fs_file.c **** void  FSFile_Truncate (FS_FILE       *p_file,
2052:rtos/uC-FS/Source/fs_file.c ****                        FS_FILE_SIZE   size,
2053:rtos/uC-FS/Source/fs_file.c ****                        FS_ERR        *p_err)
2054:rtos/uC-FS/Source/fs_file.c **** {
2055:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       fill_size;
2056:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       wr_size;
2057:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       buf_size;
2058:rtos/uC-FS/Source/fs_file.c ****     FS_BUF          *p_buf;
2059:rtos/uC-FS/Source/fs_file.c **** 
2060:rtos/uC-FS/Source/fs_file.c **** 
2061:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
2062:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
2063:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
2064:rtos/uC-FS/Source/fs_file.c ****     }
2065:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
2066:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
2067:rtos/uC-FS/Source/fs_file.c ****         return;
2068:rtos/uC-FS/Source/fs_file.c ****     }
2069:rtos/uC-FS/Source/fs_file.c **** #endif
2070:rtos/uC-FS/Source/fs_file.c **** 
2071:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
2072:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
2073:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
2074:rtos/uC-FS/Source/fs_file.c ****          return;
2075:rtos/uC-FS/Source/fs_file.c ****     }
2076:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Chk file mode (see Note #1).    
2077:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
2078:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2079:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP;
2080:rtos/uC-FS/Source/fs_file.c ****         return;
2081:rtos/uC-FS/Source/fs_file.c ****     }
2082:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 38


2083:rtos/uC-FS/Source/fs_file.c ****     if (p_file->FlagErr == DEF_YES) {                           /* Chk for file err (see Note #5). 
2084:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2085:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
2086:rtos/uC-FS/Source/fs_file.c ****         return;
2087:rtos/uC-FS/Source/fs_file.c ****     }
2088:rtos/uC-FS/Source/fs_file.c **** 
2089:rtos/uC-FS/Source/fs_file.c **** 
2090:rtos/uC-FS/Source/fs_file.c **** 
2091:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------- HANDLE FILE BUF
2092:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
2093:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Blk buf assignment.             
2094:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONE) {
2095:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
2096:rtos/uC-FS/Source/fs_file.c **** 
2097:rtos/uC-FS/Source/fs_file.c **** 
2098:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Empty buf.                      
2099:rtos/uC-FS/Source/fs_file.c ****     } else {
2100:rtos/uC-FS/Source/fs_file.c ****         FSFile_BufEmpty(p_file, p_err);
2101:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
2102:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
2103:rtos/uC-FS/Source/fs_file.c ****             return;
2104:rtos/uC-FS/Source/fs_file.c ****         }
2105:rtos/uC-FS/Source/fs_file.c ****     }
2106:rtos/uC-FS/Source/fs_file.c **** #endif
2107:rtos/uC-FS/Source/fs_file.c **** 
2108:rtos/uC-FS/Source/fs_file.c **** 
2109:rtos/uC-FS/Source/fs_file.c **** 
2110:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- TRUNCATE FIL
2111:rtos/uC-FS/Source/fs_file.c ****     if (size == p_file->Size) {                                 /* If no chng in size ...          
2112:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2113:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;                                    /* ... nothing to do.              
2114:rtos/uC-FS/Source/fs_file.c ****         return;
2115:rtos/uC-FS/Source/fs_file.c ****     }
2116:rtos/uC-FS/Source/fs_file.c **** 
2117:rtos/uC-FS/Source/fs_file.c ****     if (size > p_file->Size) {                                  /* Check if the file must be trunca
2118:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Extension needed ... */
2119:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ... fill empty area with '\0'   
2120:rtos/uC-FS/Source/fs_file.c ****         fill_size = size - p_file->Size;
2121:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Alloc buf filled with '\0'      
2122:rtos/uC-FS/Source/fs_file.c ****         p_buf = FSBuf_Get(p_file->VolPtr);
2123:rtos/uC-FS/Source/fs_file.c ****         if (p_buf == (FS_BUF *)0) {
2124:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_BUF_NONE_AVAIL;
2125:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
2126:rtos/uC-FS/Source/fs_file.c ****             return;
2127:rtos/uC-FS/Source/fs_file.c ****         }
2128:rtos/uC-FS/Source/fs_file.c ****         buf_size = p_buf->Size;
2129:rtos/uC-FS/Source/fs_file.c **** 
2130:rtos/uC-FS/Source/fs_file.c ****         Mem_Set ((void *)      p_buf->DataPtr,
2131:rtos/uC-FS/Source/fs_file.c ****                  (CPU_INT08U)  ASCII_CHAR_NULL,
2132:rtos/uC-FS/Source/fs_file.c ****                  (CPU_SIZE_T)  buf_size);
2133:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Set pos after last valid data   
2134:rtos/uC-FS/Source/fs_file.c ****         FSSys_FilePosSet(p_file, p_file->Size, p_err);
2135:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
2136:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
2137:rtos/uC-FS/Source/fs_file.c ****             FSBuf_Free(p_buf);
2138:rtos/uC-FS/Source/fs_file.c ****             return;
2139:rtos/uC-FS/Source/fs_file.c ****         }
ARM GAS  /tmp/cccHCpmH.s 			page 39


2140:rtos/uC-FS/Source/fs_file.c **** 
2141:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Write '\0' to file              
2142:rtos/uC-FS/Source/fs_file.c **** 
2143:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Wr rem of sec.                  
2144:rtos/uC-FS/Source/fs_file.c ****         wr_size = p_file->VolPtr->SecSize - (p_file->Pos % p_file->VolPtr->SecSize);
2145:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
2146:rtos/uC-FS/Source/fs_file.c ****             wr_size = fill_size;
2147:rtos/uC-FS/Source/fs_file.c ****         }
2148:rtos/uC-FS/Source/fs_file.c **** 
2149:rtos/uC-FS/Source/fs_file.c ****         while (fill_size > 0u) {
2150:rtos/uC-FS/Source/fs_file.c ****             FSSys_FileWr (p_file,
2151:rtos/uC-FS/Source/fs_file.c ****                           p_buf->DataPtr,
2152:rtos/uC-FS/Source/fs_file.c ****                           wr_size,
2153:rtos/uC-FS/Source/fs_file.c ****                           p_err);
2154:rtos/uC-FS/Source/fs_file.c ****             if (*p_err != FS_ERR_NONE) {
2155:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
2156:rtos/uC-FS/Source/fs_file.c ****                 FSBuf_Free(p_buf);
2157:rtos/uC-FS/Source/fs_file.c ****                 return;
2158:rtos/uC-FS/Source/fs_file.c ****             }
2159:rtos/uC-FS/Source/fs_file.c ****             fill_size    -= wr_size;
2160:rtos/uC-FS/Source/fs_file.c ****             p_file->Size += wr_size;
2161:rtos/uC-FS/Source/fs_file.c **** 
2162:rtos/uC-FS/Source/fs_file.c ****             if (fill_size > buf_size) {                         /* Limit wr to buf size.           
2163:rtos/uC-FS/Source/fs_file.c ****                 wr_size = buf_size;
2164:rtos/uC-FS/Source/fs_file.c ****             } else {
2165:rtos/uC-FS/Source/fs_file.c ****                 wr_size = fill_size;
2166:rtos/uC-FS/Source/fs_file.c ****             }
2167:rtos/uC-FS/Source/fs_file.c ****         }
2168:rtos/uC-FS/Source/fs_file.c **** 
2169:rtos/uC-FS/Source/fs_file.c ****         FSSys_FilePosSet(p_file, p_file->Pos, p_err);           /* Restore the original position.  
2170:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
2171:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
2172:rtos/uC-FS/Source/fs_file.c ****             FSBuf_Free(p_buf);
2173:rtos/uC-FS/Source/fs_file.c ****             return;
2174:rtos/uC-FS/Source/fs_file.c ****         }
2175:rtos/uC-FS/Source/fs_file.c **** 
2176:rtos/uC-FS/Source/fs_file.c ****         FSBuf_Free(p_buf);
2177:rtos/uC-FS/Source/fs_file.c **** 
2178:rtos/uC-FS/Source/fs_file.c ****     } else {
2179:rtos/uC-FS/Source/fs_file.c ****         FSSys_FileTruncate(p_file,                              /* Truncate file.                  
2180:rtos/uC-FS/Source/fs_file.c ****                            size,
2181:rtos/uC-FS/Source/fs_file.c ****                            p_err);
2182:rtos/uC-FS/Source/fs_file.c ****     }
2183:rtos/uC-FS/Source/fs_file.c **** 
2184:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
2185:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF = DEF_NO;
2186:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
2187:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2188:rtos/uC-FS/Source/fs_file.c ****         return;
2189:rtos/uC-FS/Source/fs_file.c ****     }
2190:rtos/uC-FS/Source/fs_file.c **** 
2191:rtos/uC-FS/Source/fs_file.c ****     if (size < p_file->Pos) {
2192:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos = size;                                     /* Set file pos to new EOF (see Not
2193:rtos/uC-FS/Source/fs_file.c ****     }
2194:rtos/uC-FS/Source/fs_file.c **** 
2195:rtos/uC-FS/Source/fs_file.c ****     p_file->Size    =  size;
2196:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF =  DEF_NO;
ARM GAS  /tmp/cccHCpmH.s 			page 40


2197:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagErr = (*p_err != FS_ERR_NONE) ? DEF_YES : DEF_NO;
2198:rtos/uC-FS/Source/fs_file.c **** 
2199:rtos/uC-FS/Source/fs_file.c **** 
2200:rtos/uC-FS/Source/fs_file.c **** 
2201:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
2202:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
2203:rtos/uC-FS/Source/fs_file.c **** }
2204:rtos/uC-FS/Source/fs_file.c **** #endif
2205:rtos/uC-FS/Source/fs_file.c **** 
2206:rtos/uC-FS/Source/fs_file.c **** 
2207:rtos/uC-FS/Source/fs_file.c **** /*
2208:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2209:rtos/uC-FS/Source/fs_file.c **** *                                              FSFile_Wr()
2210:rtos/uC-FS/Source/fs_file.c **** *
2211:rtos/uC-FS/Source/fs_file.c **** * Description : Write to a file.
2212:rtos/uC-FS/Source/fs_file.c **** *
2213:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
2214:rtos/uC-FS/Source/fs_file.c **** *
2215:rtos/uC-FS/Source/fs_file.c **** *               p_src       Pointer to source buffer.
2216:rtos/uC-FS/Source/fs_file.c **** *
2217:rtos/uC-FS/Source/fs_file.c **** *               size        Number of octets to write.
2218:rtos/uC-FS/Source/fs_file.c **** *
2219:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
2220:rtos/uC-FS/Source/fs_file.c **** *
2221:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                   File written successfully.
2222:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR               Argument 'p_file'/'p_src' passed a NU
2223:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_INVALID_TYPE           Argument 'p_file's TYPE is invalid or
2224:rtos/uC-FS/Source/fs_file.c **** *                                                                 unknown.
2225:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_ERR               File has error (see Note #6).
2226:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_OP        Invalid operation on file (see Note #
2227:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_INVALID_OP_SEQ    Invalid operation sequence on file (s
2228:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_OVF               File size/position would be overflowe
2229:rtos/uC-FS/Source/fs_file.c **** *                                                                 write were executed (see Note #4)
2230:rtos/uC-FS/Source/fs_file.c **** *
2231:rtos/uC-FS/Source/fs_file.c **** *                                                             --- RETURNED BY FSFile_AcquireLockChk
2232:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD              Device has changed.
2233:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN          File NOT open.
2234:rtos/uC-FS/Source/fs_file.c **** *
2235:rtos/uC-FS/Source/fs_file.c **** *                                                             -------- RETURNED BY FSSys_FileWr() -
2236:rtos/uC-FS/Source/fs_file.c **** *                                                             -------- RETURNED BY FSSys_PosSet() -
2237:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL         No buffer available.
2238:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV                    Device access error.
2239:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL               Device is full (no space could be all
2240:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT          File system entry is corrupt.
2241:rtos/uC-FS/Source/fs_file.c **** *
2242:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Number of octets written, if no error (see Notes #1a & #1b).
2243:rtos/uC-FS/Source/fs_file.c **** *               0,                        otherwise.
2244:rtos/uC-FS/Source/fs_file.c **** *
2245:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If 'size' is zero, then the file is unchanged & zero is returned.
2246:rtos/uC-FS/Source/fs_file.c **** *
2247:rtos/uC-FS/Source/fs_file.c **** *               (2) If the last operation is input (read), then a call to 'FSFile_PosSet()' MUST oc
2248:rtos/uC-FS/Source/fs_file.c **** *                   before output (write) can be performed, unless the end-of-file was encountered.
2249:rtos/uC-FS/Source/fs_file.c **** *                  'fs_fopen()  Note #1e'.
2250:rtos/uC-FS/Source/fs_file.c **** *
2251:rtos/uC-FS/Source/fs_file.c **** *                   (a) If data is in the read buffer, the buffer MUST be emptied before the write.
2252:rtos/uC-FS/Source/fs_file.c **** *
2253:rtos/uC-FS/Source/fs_file.c **** *               (3) The file MUST have been opened in write or update (read/write) mode.
ARM GAS  /tmp/cccHCpmH.s 			page 41


2254:rtos/uC-FS/Source/fs_file.c **** *
2255:rtos/uC-FS/Source/fs_file.c **** *               (4) If the file was opened in append mode, all writes are forced to the EOF.
2256:rtos/uC-FS/Source/fs_file.c **** *
2257:rtos/uC-FS/Source/fs_file.c **** *                   (a) This is only necessary if the file buffer is non-empty; if the file buffer
2258:rtos/uC-FS/Source/fs_file.c **** *                       contains data, then all writes are automatically at the EOF (since the file
2259:rtos/uC-FS/Source/fs_file.c **** *                       position was set to the EOF before the first write to the buffer).
2260:rtos/uC-FS/Source/fs_file.c **** *
2261:rtos/uC-FS/Source/fs_file.c **** *               (5) Overflow of the file position MUST be checked.  If the write would result in ov
2262:rtos/uC-FS/Source/fs_file.c **** *                   no data shall be written & an error shall be returned.
2263:rtos/uC-FS/Source/fs_file.c **** *
2264:rtos/uC-FS/Source/fs_file.c **** *               (6) If an error occurred in the previous file access, the error indicator must be
2265:rtos/uC-FS/Source/fs_file.c **** *                   cleared (with 'FSFile_ClrErr()') before another access will be allowed.
2266:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2267:rtos/uC-FS/Source/fs_file.c **** */
2268:rtos/uC-FS/Source/fs_file.c **** 
2269:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
2270:rtos/uC-FS/Source/fs_file.c **** CPU_SIZE_T  FSFile_Wr (FS_FILE     *p_file,
2271:rtos/uC-FS/Source/fs_file.c ****                        void        *p_src,
2272:rtos/uC-FS/Source/fs_file.c ****                        CPU_SIZE_T   size,
2273:rtos/uC-FS/Source/fs_file.c ****                        FS_ERR      *p_err)
2274:rtos/uC-FS/Source/fs_file.c **** {
2275:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos;
2276:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T    size_wr;
2277:rtos/uC-FS/Source/fs_file.c **** 
2278:rtos/uC-FS/Source/fs_file.c **** 
2279:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
2280:rtos/uC-FS/Source/fs_file.c ****     if (p_err == (FS_ERR *)0) {                                 /* Validate error ptr.             
2281:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
2282:rtos/uC-FS/Source/fs_file.c ****     }
2283:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
2284:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
2285:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2286:rtos/uC-FS/Source/fs_file.c ****     }
2287:rtos/uC-FS/Source/fs_file.c ****     if (p_src == (void *)0) {                                   /* Validate src ptr.               
2288:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
2289:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2290:rtos/uC-FS/Source/fs_file.c ****     }
2291:rtos/uC-FS/Source/fs_file.c **** #endif
2292:rtos/uC-FS/Source/fs_file.c **** 
2293:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
2294:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_AcquireLockChk(p_file, p_err);
2295:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
2296:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2297:rtos/uC-FS/Source/fs_file.c ****     }
2298:rtos/uC-FS/Source/fs_file.c **** 
2299:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Chk file mode (see Note #3).    
2300:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
2301:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2302:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP;
2303:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2304:rtos/uC-FS/Source/fs_file.c ****     }
2305:rtos/uC-FS/Source/fs_file.c **** 
2306:rtos/uC-FS/Source/fs_file.c ****     if (p_file->IO_State == FS_FILE_IO_STATE_RD) {              /* Chk for wr state (see Note #2) .
2307:rtos/uC-FS/Source/fs_file.c ****         if (p_file->FlagEOF == DEF_NO) {                        /* ... or EOF exceeded            .
2308:rtos/uC-FS/Source/fs_file.c ****             if (p_file->Pos != p_file->Size) {                  /* ... or EOF met.                 
2309:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
2310:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OP_SEQ;
ARM GAS  /tmp/cccHCpmH.s 			page 42


2311:rtos/uC-FS/Source/fs_file.c ****                 return (0u);
2312:rtos/uC-FS/Source/fs_file.c ****             }
2313:rtos/uC-FS/Source/fs_file.c ****         }
2314:rtos/uC-FS/Source/fs_file.c ****     }
2315:rtos/uC-FS/Source/fs_file.c **** 
2316:rtos/uC-FS/Source/fs_file.c ****     if (p_file->FlagErr == DEF_YES) {                           /* Chk for file err (see Note #6). 
2317:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2318:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
2319:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2320:rtos/uC-FS/Source/fs_file.c ****     }
2321:rtos/uC-FS/Source/fs_file.c **** 
2322:rtos/uC-FS/Source/fs_file.c ****     if (size == 0u) {                                           /* Rtn 0 bytes wr (see Note #1).   
2323:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2324:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
2325:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2326:rtos/uC-FS/Source/fs_file.c ****     }
2327:rtos/uC-FS/Source/fs_file.c **** 
2328:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;                                   /* Clr EOF.                        
2329:rtos/uC-FS/Source/fs_file.c **** 
2330:rtos/uC-FS/Source/fs_file.c **** 
2331:rtos/uC-FS/Source/fs_file.c **** 
2332:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------- HANDLE FILE BUF
2333:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
2334:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_RD) {  /* Chk buf status (see Note #2a).  
2335:rtos/uC-FS/Source/fs_file.c ****         FSFile_BufEmpty(p_file, p_err);
2336:rtos/uC-FS/Source/fs_file.c **** 
2337:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {                            /* Rtn if rd/wr err.               
2338:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
2339:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
2340:rtos/uC-FS/Source/fs_file.c ****             return (0u);
2341:rtos/uC-FS/Source/fs_file.c ****         }
2342:rtos/uC-FS/Source/fs_file.c ****     }
2343:rtos/uC-FS/Source/fs_file.c **** 
2344:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Wr to buf.                      
2345:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
2346:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(p_file->BufMode, FS_FILE_BUF_MODE_WR) == DEF_YES) {
2347:rtos/uC-FS/Source/fs_file.c ****         if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
2348:rtos/uC-FS/Source/fs_file.c ****             if (DEF_BIT_IS_SET(p_file->AccessMode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
2349:rtos/uC-FS/Source/fs_file.c ****                 if (p_file->Pos != p_file->Size) {                  /* If pos NOT at EOF ...       
2350:rtos/uC-FS/Source/fs_file.c ****                     FSSys_FilePosSet(p_file, p_file->Size, p_err);  /* ... set pos to EOF (see Note
2351:rtos/uC-FS/Source/fs_file.c **** 
2352:rtos/uC-FS/Source/fs_file.c ****                     if (*p_err != FS_ERR_NONE) {
2353:rtos/uC-FS/Source/fs_file.c ****                         p_file->FlagErr = DEF_YES;
2354:rtos/uC-FS/Source/fs_file.c ****                         FSFile_ReleaseUnlock(p_file);
2355:rtos/uC-FS/Source/fs_file.c ****                         return (0u);
2356:rtos/uC-FS/Source/fs_file.c ****                     }
2357:rtos/uC-FS/Source/fs_file.c **** 
2358:rtos/uC-FS/Source/fs_file.c ****                     p_file->Pos = p_file->Size;
2359:rtos/uC-FS/Source/fs_file.c ****                 }
2360:rtos/uC-FS/Source/fs_file.c ****             }
2361:rtos/uC-FS/Source/fs_file.c ****         }
2362:rtos/uC-FS/Source/fs_file.c **** 
2363:rtos/uC-FS/Source/fs_file.c ****         size_wr = FSFile_BufWr(p_file,
2364:rtos/uC-FS/Source/fs_file.c ****                                p_src,
2365:rtos/uC-FS/Source/fs_file.c ****                                size,
2366:rtos/uC-FS/Source/fs_file.c ****                                p_err);
2367:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 43


2368:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE ) {
2369:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_NO;
2370:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
2371:rtos/uC-FS/Source/fs_file.c ****             return (0u);
2372:rtos/uC-FS/Source/fs_file.c ****         }
2373:rtos/uC-FS/Source/fs_file.c **** 
2374:rtos/uC-FS/Source/fs_file.c ****         if (size_wr != 0u) {                                    /* Set I/O state.                  
2375:rtos/uC-FS/Source/fs_file.c ****             p_file->IO_State = FS_FILE_IO_STATE_WR;
2376:rtos/uC-FS/Source/fs_file.c ****         }
2377:rtos/uC-FS/Source/fs_file.c **** 
2378:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2379:rtos/uC-FS/Source/fs_file.c ****         return (size_wr);
2380:rtos/uC-FS/Source/fs_file.c ****     }
2381:rtos/uC-FS/Source/fs_file.c **** #endif
2382:rtos/uC-FS/Source/fs_file.c **** 
2383:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Blk buf assignment.             
2384:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONE) {
2385:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
2386:rtos/uC-FS/Source/fs_file.c ****     }
2387:rtos/uC-FS/Source/fs_file.c **** #endif
2388:rtos/uC-FS/Source/fs_file.c **** 
2389:rtos/uC-FS/Source/fs_file.c **** 
2390:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- SET FILE POS
2391:rtos/uC-FS/Source/fs_file.c ****                                                                 /* See Note #4.                    
2392:rtos/uC-FS/Source/fs_file.c ****     if (DEF_BIT_IS_SET(p_file->AccessMode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
2393:rtos/uC-FS/Source/fs_file.c ****         if (p_file->Pos != p_file->Size) {                      /* If pos NOT at EOF ...           
2394:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Size, p_err);      /* ... set pos to EOF.             
2395:rtos/uC-FS/Source/fs_file.c **** 
2396:rtos/uC-FS/Source/fs_file.c ****             if (*p_err != FS_ERR_NONE) {
2397:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
2398:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
2399:rtos/uC-FS/Source/fs_file.c ****                 return (0u);
2400:rtos/uC-FS/Source/fs_file.c ****             }
2401:rtos/uC-FS/Source/fs_file.c **** 
2402:rtos/uC-FS/Source/fs_file.c ****             p_file->Pos = p_file->Size;
2403:rtos/uC-FS/Source/fs_file.c ****         }
2404:rtos/uC-FS/Source/fs_file.c ****     }
2405:rtos/uC-FS/Source/fs_file.c **** 
2406:rtos/uC-FS/Source/fs_file.c **** 
2407:rtos/uC-FS/Source/fs_file.c **** 
2408:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------------------- WR FILE -
2409:rtos/uC-FS/Source/fs_file.c ****     pos = p_file->Pos;                                          /* See Note #5.                    
2410:rtos/uC-FS/Source/fs_file.c ****     if (FS_FILE_SIZE_MAX - (FS_FILE_SIZE)size < pos) {          /* Rtn err & 0 bytes wr'n if wr wil
2411:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2412:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_OVF;
2413:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2414:rtos/uC-FS/Source/fs_file.c ****     }
2415:rtos/uC-FS/Source/fs_file.c **** 
2416:rtos/uC-FS/Source/fs_file.c ****     size_wr = FSSys_FileWr(p_file,                              /* Wr to file.                     
2417:rtos/uC-FS/Source/fs_file.c ****                            p_src,
2418:rtos/uC-FS/Source/fs_file.c ****                            size,
2419:rtos/uC-FS/Source/fs_file.c ****                            p_err);
2420:rtos/uC-FS/Source/fs_file.c **** 
2421:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE ) {
2422:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
2423:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
2424:rtos/uC-FS/Source/fs_file.c ****         return (0u);
ARM GAS  /tmp/cccHCpmH.s 			page 44


2425:rtos/uC-FS/Source/fs_file.c ****     }
2426:rtos/uC-FS/Source/fs_file.c **** 
2427:rtos/uC-FS/Source/fs_file.c ****     p_file->IO_State = FS_FILE_IO_STATE_WR;
2428:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos += size_wr;
2429:rtos/uC-FS/Source/fs_file.c ****     if (p_file->Size < p_file->Pos) {
2430:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
2431:rtos/uC-FS/Source/fs_file.c ****     }
2432:rtos/uC-FS/Source/fs_file.c **** 
2433:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE FILE L
2434:rtos/uC-FS/Source/fs_file.c ****     FSFile_ReleaseUnlock(p_file);
2435:rtos/uC-FS/Source/fs_file.c ****     return (size_wr);
2436:rtos/uC-FS/Source/fs_file.c **** }
2437:rtos/uC-FS/Source/fs_file.c **** #endif
2438:rtos/uC-FS/Source/fs_file.c **** 
2439:rtos/uC-FS/Source/fs_file.c **** 
2440:rtos/uC-FS/Source/fs_file.c **** /*
2441:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2442:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2443:rtos/uC-FS/Source/fs_file.c **** *                                      FILE MANAGEMENT FUNCTIONS
2444:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2445:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2446:rtos/uC-FS/Source/fs_file.c **** */
2447:rtos/uC-FS/Source/fs_file.c **** 
2448:rtos/uC-FS/Source/fs_file.c **** /*
2449:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2450:rtos/uC-FS/Source/fs_file.c **** *                                         FSFile_GetFileCnt()
2451:rtos/uC-FS/Source/fs_file.c **** *
2452:rtos/uC-FS/Source/fs_file.c **** * Description : Get the number of open files.
2453:rtos/uC-FS/Source/fs_file.c **** *
2454:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : none.
2455:rtos/uC-FS/Source/fs_file.c **** *
2456:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : The number of open files.
2457:rtos/uC-FS/Source/fs_file.c **** *
2458:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
2459:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2460:rtos/uC-FS/Source/fs_file.c **** */
2461:rtos/uC-FS/Source/fs_file.c **** 
2462:rtos/uC-FS/Source/fs_file.c **** FS_QTY  FSFile_GetFileCnt (void)
2463:rtos/uC-FS/Source/fs_file.c **** {
2464:rtos/uC-FS/Source/fs_file.c ****     FS_QTY  file_cnt;
2465:rtos/uC-FS/Source/fs_file.c ****     FS_ERR  err;
2466:rtos/uC-FS/Source/fs_file.c **** 
2467:rtos/uC-FS/Source/fs_file.c **** 
2468:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ ACQUIRE FS LO
2469:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Lock(&err);
2470:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
2471:rtos/uC-FS/Source/fs_file.c ****         return (0u);
2472:rtos/uC-FS/Source/fs_file.c ****     }
2473:rtos/uC-FS/Source/fs_file.c **** 
2474:rtos/uC-FS/Source/fs_file.c **** 
2475:rtos/uC-FS/Source/fs_file.c **** 
2476:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- GET FILE CNT
2477:rtos/uC-FS/Source/fs_file.c ****     file_cnt = FSFile_Cnt;
2478:rtos/uC-FS/Source/fs_file.c **** 
2479:rtos/uC-FS/Source/fs_file.c **** 
2480:rtos/uC-FS/Source/fs_file.c **** 
2481:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ RELEASE FS LO
ARM GAS  /tmp/cccHCpmH.s 			page 45


2482:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Unlock();
2483:rtos/uC-FS/Source/fs_file.c **** 
2484:rtos/uC-FS/Source/fs_file.c ****     return (file_cnt);
2485:rtos/uC-FS/Source/fs_file.c **** }
2486:rtos/uC-FS/Source/fs_file.c **** 
2487:rtos/uC-FS/Source/fs_file.c **** 
2488:rtos/uC-FS/Source/fs_file.c **** /*
2489:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2490:rtos/uC-FS/Source/fs_file.c **** *                                       FSFile_GetFileCntMax()
2491:rtos/uC-FS/Source/fs_file.c **** *
2492:rtos/uC-FS/Source/fs_file.c **** * Description : Get the maximum possible number of open files.
2493:rtos/uC-FS/Source/fs_file.c **** *
2494:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : none.
2495:rtos/uC-FS/Source/fs_file.c **** *
2496:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : The maximum number of open files.
2497:rtos/uC-FS/Source/fs_file.c **** *
2498:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
2499:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2500:rtos/uC-FS/Source/fs_file.c **** */
2501:rtos/uC-FS/Source/fs_file.c **** 
2502:rtos/uC-FS/Source/fs_file.c **** FS_QTY  FSFile_GetFileCntMax (void)
2503:rtos/uC-FS/Source/fs_file.c **** {
2504:rtos/uC-FS/Source/fs_file.c ****     FS_QTY  file_cnt_max;
2505:rtos/uC-FS/Source/fs_file.c **** 
2506:rtos/uC-FS/Source/fs_file.c **** 
2507:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- GET FILE CNT M
2508:rtos/uC-FS/Source/fs_file.c ****     file_cnt_max = FSFile_FileCntMax;
2509:rtos/uC-FS/Source/fs_file.c **** 
2510:rtos/uC-FS/Source/fs_file.c ****     return (file_cnt_max);
2511:rtos/uC-FS/Source/fs_file.c **** }
2512:rtos/uC-FS/Source/fs_file.c **** 
2513:rtos/uC-FS/Source/fs_file.c **** 
2514:rtos/uC-FS/Source/fs_file.c **** /*
2515:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2516:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2517:rtos/uC-FS/Source/fs_file.c **** *                                         INTERNAL FUNCTIONS
2518:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2519:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2520:rtos/uC-FS/Source/fs_file.c **** */
2521:rtos/uC-FS/Source/fs_file.c **** 
2522:rtos/uC-FS/Source/fs_file.c **** /*
2523:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2524:rtos/uC-FS/Source/fs_file.c **** *                                         FSFile_ModuleInit()
2525:rtos/uC-FS/Source/fs_file.c **** *
2526:rtos/uC-FS/Source/fs_file.c **** * Description : Initialize File System File Management module.
2527:rtos/uC-FS/Source/fs_file.c **** *
2528:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : file_cnt    Number of files to allocate.
2529:rtos/uC-FS/Source/fs_file.c **** *
2530:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
2531:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2532:rtos/uC-FS/Source/fs_file.c **** *
2533:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE         Module initialized.
2534:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_MEM_ALLOC    Memory could not be allocated.
2535:rtos/uC-FS/Source/fs_file.c **** *
2536:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
2537:rtos/uC-FS/Source/fs_file.c **** *
2538:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
ARM GAS  /tmp/cccHCpmH.s 			page 46


2539:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2540:rtos/uC-FS/Source/fs_file.c **** */
2541:rtos/uC-FS/Source/fs_file.c **** 
2542:rtos/uC-FS/Source/fs_file.c **** void  FSFile_ModuleInit (FS_QTY   file_cnt,
2543:rtos/uC-FS/Source/fs_file.c ****                          FS_ERR  *p_err)
2544:rtos/uC-FS/Source/fs_file.c **** {
2545:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  octets_reqd;
2546:rtos/uC-FS/Source/fs_file.c ****     LIB_ERR     pool_err;
2547:rtos/uC-FS/Source/fs_file.c **** 
2548:rtos/uC-FS/Source/fs_file.c **** 
2549:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_TRIAL_EN == DEF_ENABLED)                            /* Trial limitation: max 1 file.   
2550:rtos/uC-FS/Source/fs_file.c ****     if (file_cnt > FS_TRIAL_MAX_FILE_CNT) {
2551:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_INVALID_CFG;
2552:rtos/uC-FS/Source/fs_file.c ****         return;
2553:rtos/uC-FS/Source/fs_file.c ****     }
2554:rtos/uC-FS/Source/fs_file.c **** #endif
2555:rtos/uC-FS/Source/fs_file.c **** 
2556:rtos/uC-FS/Source/fs_file.c ****     FSFile_FileCntMax = 0u;
2557:rtos/uC-FS/Source/fs_file.c ****     FSFile_Cnt        = 0u;
2558:rtos/uC-FS/Source/fs_file.c **** 
2559:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)                        /* -------------- PERFORM FS/OS FIL
2560:rtos/uC-FS/Source/fs_file.c ****     FS_OS_FileInit(file_cnt, p_err);
2561:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
2562:rtos/uC-FS/Source/fs_file.c ****         return;
2563:rtos/uC-FS/Source/fs_file.c ****     }
2564:rtos/uC-FS/Source/fs_file.c **** #endif
2565:rtos/uC-FS/Source/fs_file.c **** 
2566:rtos/uC-FS/Source/fs_file.c **** 
2567:rtos/uC-FS/Source/fs_file.c **** 
2568:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ INIT FILE POO
2569:rtos/uC-FS/Source/fs_file.c ****     Mem_PoolCreate(&FSFile_Pool,
2570:rtos/uC-FS/Source/fs_file.c ****                     DEF_NULL,
2571:rtos/uC-FS/Source/fs_file.c ****                     0,
2572:rtos/uC-FS/Source/fs_file.c ****                     file_cnt,
2573:rtos/uC-FS/Source/fs_file.c ****                     sizeof(FS_FILE),
2574:rtos/uC-FS/Source/fs_file.c ****                     sizeof(CPU_ALIGN),
2575:rtos/uC-FS/Source/fs_file.c ****                    &octets_reqd,
2576:rtos/uC-FS/Source/fs_file.c ****                    &pool_err);
2577:rtos/uC-FS/Source/fs_file.c **** 
2578:rtos/uC-FS/Source/fs_file.c ****     if (pool_err != LIB_MEM_ERR_NONE) {
2579:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_MEM_ALLOC;
2580:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ModuleInit(): Could not alloc mem for files: %d octets required.\r\n
2581:rtos/uC-FS/Source/fs_file.c ****         return;
2582:rtos/uC-FS/Source/fs_file.c ****     }
2583:rtos/uC-FS/Source/fs_file.c **** 
2584:rtos/uC-FS/Source/fs_file.c ****     FSFile_Tbl = (FS_FILE **)Mem_HeapAlloc(file_cnt * sizeof(FS_FILE *),
2585:rtos/uC-FS/Source/fs_file.c ****                                            sizeof(CPU_ALIGN),
2586:rtos/uC-FS/Source/fs_file.c ****                                           &octets_reqd,
2587:rtos/uC-FS/Source/fs_file.c ****                                           &pool_err);
2588:rtos/uC-FS/Source/fs_file.c ****     if (pool_err != LIB_MEM_ERR_NONE) {
2589:rtos/uC-FS/Source/fs_file.c ****        *p_err  = FS_ERR_MEM_ALLOC;
2590:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ModuleInit(): Could not alloc mem for files: %d octets required.\r\n
2591:rtos/uC-FS/Source/fs_file.c ****         return;
2592:rtos/uC-FS/Source/fs_file.c ****     }
2593:rtos/uC-FS/Source/fs_file.c **** 
2594:rtos/uC-FS/Source/fs_file.c ****     Mem_Clr(FSFile_Tbl, file_cnt * sizeof(FS_FILE *));
2595:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 47


2596:rtos/uC-FS/Source/fs_file.c ****     FSFile_FileCntMax = file_cnt;
2597:rtos/uC-FS/Source/fs_file.c **** 
2598:rtos/uC-FS/Source/fs_file.c ****    *p_err = FS_ERR_NONE;
2599:rtos/uC-FS/Source/fs_file.c **** }
2600:rtos/uC-FS/Source/fs_file.c **** 
2601:rtos/uC-FS/Source/fs_file.c **** 
2602:rtos/uC-FS/Source/fs_file.c **** /*
2603:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2604:rtos/uC-FS/Source/fs_file.c **** *                                         FSFile_ModeParse()
2605:rtos/uC-FS/Source/fs_file.c **** *
2606:rtos/uC-FS/Source/fs_file.c **** * Description : Parse mode string.
2607:rtos/uC-FS/Source/fs_file.c **** *
2608:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : str_mode        Access mode of the file.
2609:rtos/uC-FS/Source/fs_file.c **** *               --------        Argument validated by caller.
2610:rtos/uC-FS/Source/fs_file.c **** *
2611:rtos/uC-FS/Source/fs_file.c **** *               str_len         Length of the mode string.
2612:rtos/uC-FS/Source/fs_file.c **** *
2613:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Mode identifier, if mode string invalid.
2614:rtos/uC-FS/Source/fs_file.c **** *               0, otherwise.
2615:rtos/uC-FS/Source/fs_file.c **** *
2616:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) See 'FSFile_Open()  Note #2' for a description of mode string interpretation.
2617:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2618:rtos/uC-FS/Source/fs_file.c **** */
2619:rtos/uC-FS/Source/fs_file.c **** FS_FLAGS  FSFile_ModeParse (CPU_CHAR    *str_mode,
2620:rtos/uC-FS/Source/fs_file.c ****                             CPU_SIZE_T   str_len)
2621:rtos/uC-FS/Source/fs_file.c **** {
2622:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS     mode;
2623:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  b_present;
2624:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  plus_present;
2625:rtos/uC-FS/Source/fs_file.c **** 
2626:rtos/uC-FS/Source/fs_file.c **** 
2627:rtos/uC-FS/Source/fs_file.c ****                                                                 /* -------------------- PARSE MODE 
2628:rtos/uC-FS/Source/fs_file.c ****     switch (*str_mode) {                                        /* Interpret first letter: rd, wr, 
2629:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_R:
2630:rtos/uC-FS/Source/fs_file.c ****              mode = FS_FILE_ACCESS_MODE_RD;
2631:rtos/uC-FS/Source/fs_file.c ****              break;
2632:rtos/uC-FS/Source/fs_file.c **** 
2633:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_W:
2634:rtos/uC-FS/Source/fs_file.c ****              mode = FS_FILE_ACCESS_MODE_WR | FS_FILE_ACCESS_MODE_TRUNCATE | FS_FILE_ACCESS_MODE_CRE
2635:rtos/uC-FS/Source/fs_file.c ****              break;
2636:rtos/uC-FS/Source/fs_file.c **** 
2637:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_A:
2638:rtos/uC-FS/Source/fs_file.c ****              mode = FS_FILE_ACCESS_MODE_WR | FS_FILE_ACCESS_MODE_CREATE   | FS_FILE_ACCESS_MODE_APP
2639:rtos/uC-FS/Source/fs_file.c ****              break;
2640:rtos/uC-FS/Source/fs_file.c **** 
2641:rtos/uC-FS/Source/fs_file.c ****         default:
2642:rtos/uC-FS/Source/fs_file.c ****              return (FS_FILE_ACCESS_MODE_NONE);
2643:rtos/uC-FS/Source/fs_file.c ****     }
2644:rtos/uC-FS/Source/fs_file.c ****     str_mode++;
2645:rtos/uC-FS/Source/fs_file.c ****     str_len--;
2646:rtos/uC-FS/Source/fs_file.c **** 
2647:rtos/uC-FS/Source/fs_file.c **** 
2648:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Interpret remaining str: "", "+"
2649:rtos/uC-FS/Source/fs_file.c ****     b_present    = DEF_NO;
2650:rtos/uC-FS/Source/fs_file.c ****     plus_present = DEF_NO;
2651:rtos/uC-FS/Source/fs_file.c **** 
2652:rtos/uC-FS/Source/fs_file.c ****     while (str_len > 0u) {
ARM GAS  /tmp/cccHCpmH.s 			page 48


2653:rtos/uC-FS/Source/fs_file.c ****         if (*str_mode == (CPU_CHAR)ASCII_CHAR_PLUS_SIGN) {
2654:rtos/uC-FS/Source/fs_file.c **** 
2655:rtos/uC-FS/Source/fs_file.c ****             if (plus_present == DEF_YES) {
2656:rtos/uC-FS/Source/fs_file.c ****                 mode  = FS_FILE_ACCESS_MODE_NONE;               /* Invalid mode.                   
2657:rtos/uC-FS/Source/fs_file.c ****                 return (mode);
2658:rtos/uC-FS/Source/fs_file.c ****             }
2659:rtos/uC-FS/Source/fs_file.c ****             mode |= FS_FILE_ACCESS_MODE_RD | FS_FILE_ACCESS_MODE_WR;
2660:rtos/uC-FS/Source/fs_file.c ****             plus_present = DEF_YES;
2661:rtos/uC-FS/Source/fs_file.c **** 
2662:rtos/uC-FS/Source/fs_file.c ****         } else if (*str_mode == (CPU_CHAR)ASCII_CHAR_LATIN_LOWER_B) {
2663:rtos/uC-FS/Source/fs_file.c **** 
2664:rtos/uC-FS/Source/fs_file.c ****             if (b_present == DEF_YES) {
2665:rtos/uC-FS/Source/fs_file.c ****                 mode  = FS_FILE_ACCESS_MODE_NONE;               /* Invalid mode.                   
2666:rtos/uC-FS/Source/fs_file.c ****                 return (mode);
2667:rtos/uC-FS/Source/fs_file.c ****             }
2668:rtos/uC-FS/Source/fs_file.c ****             b_present = DEF_YES;
2669:rtos/uC-FS/Source/fs_file.c **** 
2670:rtos/uC-FS/Source/fs_file.c ****         } else {
2671:rtos/uC-FS/Source/fs_file.c **** 
2672:rtos/uC-FS/Source/fs_file.c ****             mode  = FS_FILE_ACCESS_MODE_NONE;                   /* Invalid mode.                   
2673:rtos/uC-FS/Source/fs_file.c ****             return(mode);
2674:rtos/uC-FS/Source/fs_file.c **** 
2675:rtos/uC-FS/Source/fs_file.c ****         }
2676:rtos/uC-FS/Source/fs_file.c ****         str_mode++;
2677:rtos/uC-FS/Source/fs_file.c ****         str_len--;
2678:rtos/uC-FS/Source/fs_file.c ****     }
2679:rtos/uC-FS/Source/fs_file.c **** 
2680:rtos/uC-FS/Source/fs_file.c ****     return (mode);
2681:rtos/uC-FS/Source/fs_file.c **** }
2682:rtos/uC-FS/Source/fs_file.c **** 
2683:rtos/uC-FS/Source/fs_file.c **** /*
2684:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2685:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2686:rtos/uC-FS/Source/fs_file.c **** *                                             LOCAL FUNCTIONS
2687:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2688:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2689:rtos/uC-FS/Source/fs_file.c **** */
2690:rtos/uC-FS/Source/fs_file.c **** 
2691:rtos/uC-FS/Source/fs_file.c **** /*
2692:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2693:rtos/uC-FS/Source/fs_file.c **** *                                            FSFile_BufEmpty()
2694:rtos/uC-FS/Source/fs_file.c **** *
2695:rtos/uC-FS/Source/fs_file.c **** * Description : Empty a file's buffer.
2696:rtos/uC-FS/Source/fs_file.c **** *
2697:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
2698:rtos/uC-FS/Source/fs_file.c **** *               ------      Argument validated by 'FSFile_Rd()'.
2699:rtos/uC-FS/Source/fs_file.c **** *
2700:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
2701:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2702:rtos/uC-FS/Source/fs_file.c **** *
2703:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File buffer flushed successfully.
2704:rtos/uC-FS/Source/fs_file.c **** *
2705:rtos/uC-FS/Source/fs_file.c **** *                                                       ----------- RETURNED BY FSSys_FileWr() ----
2706:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL   No buffer available.
2707:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV              Device access error.
2708:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL         Device is full (no space could be allocated
2709:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT    File system entry is corrupt.
ARM GAS  /tmp/cccHCpmH.s 			page 49


2710:rtos/uC-FS/Source/fs_file.c **** *
2711:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
2712:rtos/uC-FS/Source/fs_file.c **** *
2713:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If valid read data exists in the file buffer, the underlying file position migh
2714:rtos/uC-FS/Source/fs_file.c **** *                   correctly reflect the apparent file position to the application, since the maxi
2715:rtos/uC-FS/Source/fs_file.c **** *                   file position reflected in the buffered data may exceed the location last read 
2716:rtos/uC-FS/Source/fs_file.c **** *                   the application.
2717:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2718:rtos/uC-FS/Source/fs_file.c **** */
2719:rtos/uC-FS/Source/fs_file.c **** 
2720:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
2721:rtos/uC-FS/Source/fs_file.c **** static  void  FSFile_BufEmpty (FS_FILE  *p_file,
2722:rtos/uC-FS/Source/fs_file.c ****                                FS_ERR   *p_err)
2723:rtos/uC-FS/Source/fs_file.c **** {
2724:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos_offset;
2725:rtos/uC-FS/Source/fs_file.c **** 
2726:rtos/uC-FS/Source/fs_file.c **** 
2727:rtos/uC-FS/Source/fs_file.c ****     *p_err = FS_ERR_NONE;
2728:rtos/uC-FS/Source/fs_file.c **** 
2729:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
2730:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR) {
2731:rtos/uC-FS/Source/fs_file.c ****        (void)FSSys_FileWr(p_file,
2732:rtos/uC-FS/Source/fs_file.c ****                           p_file->BufPtr,
2733:rtos/uC-FS/Source/fs_file.c ****                           p_file->BufMaxPos,
2734:rtos/uC-FS/Source/fs_file.c ****                           p_err);
2735:rtos/uC-FS/Source/fs_file.c **** 
2736:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStart  = 0u;
2737:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
2738:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
2739:rtos/uC-FS/Source/fs_file.c **** 
2740:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_DBG_MEM_CLR_EN == DEF_ENABLED)
2741:rtos/uC-FS/Source/fs_file.c ****         Mem_Clr(p_file->BufPtr, p_file->BufSize);               /* Clr buf.                        
2742:rtos/uC-FS/Source/fs_file.c **** #endif
2743:rtos/uC-FS/Source/fs_file.c ****     }
2744:rtos/uC-FS/Source/fs_file.c **** #endif
2745:rtos/uC-FS/Source/fs_file.c **** 
2746:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_RD) {
2747:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Calc pos offset (see Note #1) ..
2748:rtos/uC-FS/Source/fs_file.c ****         pos_offset = (FS_FILE_SIZE)p_file->BufMaxPos;
2749:rtos/uC-FS/Source/fs_file.c ****         if (pos_offset != 0u) {
2750:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Pos, p_err);       /* ... correct file pos.           
2751:rtos/uC-FS/Source/fs_file.c ****         }
2752:rtos/uC-FS/Source/fs_file.c **** 
2753:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStart  = 0u;
2754:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
2755:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
2756:rtos/uC-FS/Source/fs_file.c **** 
2757:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_DBG_MEM_CLR_EN == DEF_ENABLED)
2758:rtos/uC-FS/Source/fs_file.c ****         Mem_Clr(p_file->BufPtr, p_file->BufSize);               /* Clr buf.                        
2759:rtos/uC-FS/Source/fs_file.c **** #endif
2760:rtos/uC-FS/Source/fs_file.c ****     }
2761:rtos/uC-FS/Source/fs_file.c **** 
2762:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
2763:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
2764:rtos/uC-FS/Source/fs_file.c ****     }
2765:rtos/uC-FS/Source/fs_file.c **** }
2766:rtos/uC-FS/Source/fs_file.c **** #endif
ARM GAS  /tmp/cccHCpmH.s 			page 50


2767:rtos/uC-FS/Source/fs_file.c **** 
2768:rtos/uC-FS/Source/fs_file.c **** 
2769:rtos/uC-FS/Source/fs_file.c **** /*
2770:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2771:rtos/uC-FS/Source/fs_file.c **** *                                             FSFile_BufRd()
2772:rtos/uC-FS/Source/fs_file.c **** *
2773:rtos/uC-FS/Source/fs_file.c **** * Description : Read from a file (through file buffer).
2774:rtos/uC-FS/Source/fs_file.c **** *
2775:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
2776:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2777:rtos/uC-FS/Source/fs_file.c **** *
2778:rtos/uC-FS/Source/fs_file.c **** *               p_dest      Pointer to buffer that will hold data read by this file.
2779:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2780:rtos/uC-FS/Source/fs_file.c **** *
2781:rtos/uC-FS/Source/fs_file.c **** *               size        Number of octets to read.
2782:rtos/uC-FS/Source/fs_file.c **** *
2783:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
2784:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2785:rtos/uC-FS/Source/fs_file.c **** *
2786:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE              File read successfully.
2787:rtos/uC-FS/Source/fs_file.c **** *
2788:rtos/uC-FS/Source/fs_file.c **** *                                                        ---------- RETURNED BY FSSys_FileRd() ----
2789:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL    No buffer available.
2790:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV               Device access error.
2791:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT     File system entry corrupt.
2792:rtos/uC-FS/Source/fs_file.c **** *
2793:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Number of octets read.
2794:rtos/uC-FS/Source/fs_file.c **** *
2795:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) (a) Data is first copied from the buffer, up to the length of the request OR th
2796:rtos/uC-FS/Source/fs_file.c **** *                       amount stored in the buffer (whichever is less).
2797:rtos/uC-FS/Source/fs_file.c **** *
2798:rtos/uC-FS/Source/fs_file.c **** *                   (b) (1) Any large remaining read (longer than the file buffer) is satisfied by
2799:rtos/uC-FS/Source/fs_file.c **** *                           reading directly into the destination buffer.
2800:rtos/uC-FS/Source/fs_file.c **** *
2801:rtos/uC-FS/Source/fs_file.c **** *                       (2) Otherwise, the buffer is then filled (if possible) and data copied into
2802:rtos/uC-FS/Source/fs_file.c **** *                           user buffer, up to the length of the remaining request OR the amount st
2803:rtos/uC-FS/Source/fs_file.c **** *                           in the buffer (whichever is less).
2804:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2805:rtos/uC-FS/Source/fs_file.c **** */
2806:rtos/uC-FS/Source/fs_file.c **** 
2807:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
2808:rtos/uC-FS/Source/fs_file.c **** static  CPU_SIZE_T  FSFile_BufRd (FS_FILE     *p_file,
2809:rtos/uC-FS/Source/fs_file.c ****                                   void        *p_dest,
2810:rtos/uC-FS/Source/fs_file.c ****                                   CPU_SIZE_T   size,
2811:rtos/uC-FS/Source/fs_file.c ****                                   FS_ERR      *p_err)
2812:rtos/uC-FS/Source/fs_file.c **** {
2813:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   buf_pos;
2814:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   buf_rem;
2815:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   size_rd;
2816:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   size_rem;
2817:rtos/uC-FS/Source/fs_file.c ****     CPU_INT08U  *p_src;
2818:rtos/uC-FS/Source/fs_file.c **** 
2819:rtos/uC-FS/Source/fs_file.c **** 
2820:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Init *p_err                     
2821:rtos/uC-FS/Source/fs_file.c ****    *p_err = FS_ERR_BUF_NONE_AVAIL;
2822:rtos/uC-FS/Source/fs_file.c **** 
2823:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ---------- RD FROM FILE BUF INTO
ARM GAS  /tmp/cccHCpmH.s 			page 51


2824:rtos/uC-FS/Source/fs_file.c ****     size_rem = size;
2825:rtos/uC-FS/Source/fs_file.c **** 
2826:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_RD) {  /* See Note #1a.                   
2827:rtos/uC-FS/Source/fs_file.c ****         buf_pos      = (CPU_SIZE_T)(p_file->Pos - p_file->BufStart);
2828:rtos/uC-FS/Source/fs_file.c **** 
2829:rtos/uC-FS/Source/fs_file.c ****         buf_rem      =  p_file->BufMaxPos - buf_pos;            /* Calc octets rem in buf ...      
2830:rtos/uC-FS/Source/fs_file.c ****         size_rd      =  DEF_MIN(buf_rem, size_rem);             /*                        ... calc 
2831:rtos/uC-FS/Source/fs_file.c ****         p_src        = (CPU_INT08U *)p_file->BufPtr + buf_pos;
2832:rtos/uC-FS/Source/fs_file.c ****         Mem_Copy(p_dest, (void *)p_src, size_rd);               /* Copy from file buf to user buf. 
2833:rtos/uC-FS/Source/fs_file.c **** 
2834:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos +=  size_rd;                                /* Adj file pos ...                
2835:rtos/uC-FS/Source/fs_file.c ****         size_rem    -=  size_rd;                                /*              ... adj rd rem ... 
2836:rtos/uC-FS/Source/fs_file.c ****         p_dest       = (CPU_INT08U *)p_dest + size_rd;          /*                             ... 
2837:rtos/uC-FS/Source/fs_file.c **** 
2838:rtos/uC-FS/Source/fs_file.c ****         if (buf_rem == size_rd) {                               /* All buf'd data rd ...           
2839:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStart  = 0u;
2840:rtos/uC-FS/Source/fs_file.c ****             p_file->BufMaxPos = 0u;
2841:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;       /* ... buf is now empty.           
2842:rtos/uC-FS/Source/fs_file.c **** 
2843:rtos/uC-FS/Source/fs_file.c ****         } else {                                                /* More data in buf than rem'd ... 
2844:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStatus = FS_FILE_BUF_STATUS_NONEMPTY_RD; /* ... buf is still not empty.     
2845:rtos/uC-FS/Source/fs_file.c ****         }
2846:rtos/uC-FS/Source/fs_file.c **** 
2847:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
2848:rtos/uC-FS/Source/fs_file.c ****     }
2849:rtos/uC-FS/Source/fs_file.c **** 
2850:rtos/uC-FS/Source/fs_file.c **** 
2851:rtos/uC-FS/Source/fs_file.c **** 
2852:rtos/uC-FS/Source/fs_file.c **** 
2853:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
2854:rtos/uC-FS/Source/fs_file.c ****         if (size_rem >= p_file->BufSize) {                      /* ------------ RD FROM FILE INTO U
2855:rtos/uC-FS/Source/fs_file.c ****             size_rd = FSSys_FileRd(p_file,                      /* Rd into user buf (see Note #1b1)
2856:rtos/uC-FS/Source/fs_file.c ****                                    p_dest,
2857:rtos/uC-FS/Source/fs_file.c ****                                    size_rem,
2858:rtos/uC-FS/Source/fs_file.c ****                                    p_err);
2859:rtos/uC-FS/Source/fs_file.c ****             p_file->Pos += size_rd;                             /* Adj file pos ...                
2860:rtos/uC-FS/Source/fs_file.c ****             size_rem    -= size_rd;                             /*              ... adj rd rem.    
2861:rtos/uC-FS/Source/fs_file.c **** 
2862:rtos/uC-FS/Source/fs_file.c **** 
2863:rtos/uC-FS/Source/fs_file.c **** 
2864:rtos/uC-FS/Source/fs_file.c **** 
2865:rtos/uC-FS/Source/fs_file.c ****         } else {                                                /* ------------ RD FROM FILE INTO F
2866:rtos/uC-FS/Source/fs_file.c ****             size_rd = FSSys_FileRd(p_file,                      /* Rd full file buf (see Note #1b2)
2867:rtos/uC-FS/Source/fs_file.c ****                                    p_file->BufPtr,
2868:rtos/uC-FS/Source/fs_file.c ****                                    p_file->BufSize,
2869:rtos/uC-FS/Source/fs_file.c ****                                    p_err);
2870:rtos/uC-FS/Source/fs_file.c **** 
2871:rtos/uC-FS/Source/fs_file.c ****             if (size_rd != 0u) {
2872:rtos/uC-FS/Source/fs_file.c ****                 buf_rem          = size_rd;                     /* Calc octets rem in buf ...      
2873:rtos/uC-FS/Source/fs_file.c ****                 size_rd          = DEF_MIN(size_rd, size_rem);  /*                        ... calc 
2874:rtos/uC-FS/Source/fs_file.c ****                 Mem_Copy(p_dest, p_file->BufPtr, size_rd);      /* Copy data to user buf.          
2875:rtos/uC-FS/Source/fs_file.c **** 
2876:rtos/uC-FS/Source/fs_file.c ****                 p_file->BufStart = p_file->Pos;                 /* Save file pos at buf start.     
2877:rtos/uC-FS/Source/fs_file.c ****                 p_file->Pos     += size_rd;                     /* Adj file pos ...                
2878:rtos/uC-FS/Source/fs_file.c ****                 size_rem        -= size_rd;                     /*              ... adj rd rem.    
2879:rtos/uC-FS/Source/fs_file.c **** 
2880:rtos/uC-FS/Source/fs_file.c ****                 if (buf_rem  == size_rd) {                      /* All buf'd data rd ...           
ARM GAS  /tmp/cccHCpmH.s 			page 52


2881:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStart   =  0u;
2882:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufMaxPos  =  0u;
2883:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStatus  =  FS_FILE_BUF_STATUS_EMPTY;               /* ... buf is sti
2884:rtos/uC-FS/Source/fs_file.c **** 
2885:rtos/uC-FS/Source/fs_file.c ****                 } else {                                        /* More data rd into buf than rem'd
2886:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ... buf is no longer empty.     
2887:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufMaxPos  =  buf_rem;
2888:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStatus  =  FS_FILE_BUF_STATUS_NONEMPTY_RD;
2889:rtos/uC-FS/Source/fs_file.c ****                 }
2890:rtos/uC-FS/Source/fs_file.c ****             }
2891:rtos/uC-FS/Source/fs_file.c ****         }
2892:rtos/uC-FS/Source/fs_file.c ****     }
2893:rtos/uC-FS/Source/fs_file.c **** 
2894:rtos/uC-FS/Source/fs_file.c **** 
2895:rtos/uC-FS/Source/fs_file.c **** 
2896:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- ASSIGN & RTN
2897:rtos/uC-FS/Source/fs_file.c ****     if (*p_err == FS_ERR_NONE) {
2898:rtos/uC-FS/Source/fs_file.c ****          if (size_rem > 0u) {                                   /* If less data rd than rem ...    
2899:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagEOF = DEF_YES;                          /* ... file at EOF.                
2900:rtos/uC-FS/Source/fs_file.c **** 
2901:rtos/uC-FS/Source/fs_file.c ****          } else {                                               /* If all  data rd that rem'd ...  
2902:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagEOF = DEF_NO;                           /* ... file NOT at EOF.            
2903:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_NONE;
2904:rtos/uC-FS/Source/fs_file.c ****          }
2905:rtos/uC-FS/Source/fs_file.c **** 
2906:rtos/uC-FS/Source/fs_file.c ****     } else {
2907:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF = DEF_NO;
2908:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
2909:rtos/uC-FS/Source/fs_file.c ****     }
2910:rtos/uC-FS/Source/fs_file.c **** 
2911:rtos/uC-FS/Source/fs_file.c ****     return (size - size_rem);
2912:rtos/uC-FS/Source/fs_file.c **** }
2913:rtos/uC-FS/Source/fs_file.c **** #endif
2914:rtos/uC-FS/Source/fs_file.c **** 
2915:rtos/uC-FS/Source/fs_file.c **** 
2916:rtos/uC-FS/Source/fs_file.c **** 
2917:rtos/uC-FS/Source/fs_file.c **** /*
2918:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2919:rtos/uC-FS/Source/fs_file.c **** *                                             FSFile_BufWr()
2920:rtos/uC-FS/Source/fs_file.c **** *
2921:rtos/uC-FS/Source/fs_file.c **** * Description : Write to a file (through file buffer).
2922:rtos/uC-FS/Source/fs_file.c **** *
2923:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
2924:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2925:rtos/uC-FS/Source/fs_file.c **** *
2926:rtos/uC-FS/Source/fs_file.c **** *               p_src       Pointer to buffer that contains data to write in this file.
2927:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2928:rtos/uC-FS/Source/fs_file.c **** *
2929:rtos/uC-FS/Source/fs_file.c **** *               size        Number of octets to write.
2930:rtos/uC-FS/Source/fs_file.c **** *
2931:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this
2932:rtos/uC-FS/Source/fs_file.c **** *                           function :
2933:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
2934:rtos/uC-FS/Source/fs_file.c **** *
2935:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File written successfully.
2936:rtos/uC-FS/Source/fs_file.c **** *
2937:rtos/uC-FS/Source/fs_file.c **** *                                                       ----------- RETURNED BY FSSys_FileWr() ----
ARM GAS  /tmp/cccHCpmH.s 			page 53


2938:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_BUF_NONE_AVAIL   No buffer available.
2939:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV              Device access error.
2940:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_FULL         Device is full (no space could be allocated
2941:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_ENTRY_CORRUPT    File system entry is corrupt.
2942:rtos/uC-FS/Source/fs_file.c **** *
2943:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
2944:rtos/uC-FS/Source/fs_file.c **** *
2945:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
2946:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
2947:rtos/uC-FS/Source/fs_file.c **** */
2948:rtos/uC-FS/Source/fs_file.c **** 
2949:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN == DEF_ENABLED)
2950:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN  == DEF_DISABLED)
2951:rtos/uC-FS/Source/fs_file.c **** static  CPU_SIZE_T  FSFile_BufWr (FS_FILE     *p_file,
2952:rtos/uC-FS/Source/fs_file.c ****                                   void        *p_src,
2953:rtos/uC-FS/Source/fs_file.c ****                                   CPU_SIZE_T   size,
2954:rtos/uC-FS/Source/fs_file.c ****                                   FS_ERR      *p_err)
2955:rtos/uC-FS/Source/fs_file.c **** {
2956:rtos/uC-FS/Source/fs_file.c ****     CPU_INT08U    *p_buf;
2957:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T     buf_rem;
2958:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T     size_wr;
2959:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T     size_rem;
2960:rtos/uC-FS/Source/fs_file.c **** 
2961:rtos/uC-FS/Source/fs_file.c **** 
2962:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- WR TO END OF B
2963:rtos/uC-FS/Source/fs_file.c ****     size_rem = size;
2964:rtos/uC-FS/Source/fs_file.c ****     buf_rem  = p_file->BufSize - p_file->BufMaxPos;             /* Calc octets empty in buf ...    
2965:rtos/uC-FS/Source/fs_file.c ****     size_wr  = DEF_MIN(buf_rem, size_rem);                      /*                          ... cal
2966:rtos/uC-FS/Source/fs_file.c ****     if (size_wr > 0u) {
2967:rtos/uC-FS/Source/fs_file.c ****         if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
2968:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStart = p_file->Pos;                 /* Save file pos at buf start.         
2969:rtos/uC-FS/Source/fs_file.c ****         }
2970:rtos/uC-FS/Source/fs_file.c **** 
2971:rtos/uC-FS/Source/fs_file.c ****         p_buf    = (CPU_INT08U *)p_file->BufPtr + p_file->BufMaxPos;
2972:rtos/uC-FS/Source/fs_file.c ****         Mem_Copy((void *)p_buf, p_src, size_wr);                /* Copy from user buf to file buf. 
2973:rtos/uC-FS/Source/fs_file.c **** 
2974:rtos/uC-FS/Source/fs_file.c **** 
2975:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos       +=  size_wr;                          /* Adj file pos ...                
2976:rtos/uC-FS/Source/fs_file.c ****         size_rem          -=  size_wr;                          /*              ... adj wr rem ... 
2977:rtos/uC-FS/Source/fs_file.c ****         p_src              = (CPU_INT08U *)p_src + size_wr;     /*                             ... 
2978:rtos/uC-FS/Source/fs_file.c **** 
2979:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos +=  size_wr;                          /* Save max pos wr in buf.         
2980:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus  =  FS_FILE_BUF_STATUS_NONEMPTY_WR;
2981:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
2982:rtos/uC-FS/Source/fs_file.c ****     }
2983:rtos/uC-FS/Source/fs_file.c **** 
2984:rtos/uC-FS/Source/fs_file.c **** 
2985:rtos/uC-FS/Source/fs_file.c **** 
2986:rtos/uC-FS/Source/fs_file.c ****     if (p_file->BufMaxPos == p_file->BufSize) {                 /* ------------------- DUMP TO FILE
2987:rtos/uC-FS/Source/fs_file.c ****         size_wr = FSSys_FileWr(p_file,                          /* Wr buf to file ...              
2988:rtos/uC-FS/Source/fs_file.c ****                                p_file->BufPtr,
2989:rtos/uC-FS/Source/fs_file.c ****                                p_file->BufSize,
2990:rtos/uC-FS/Source/fs_file.c ****                                p_err);
2991:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
2992:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
2993:rtos/uC-FS/Source/fs_file.c ****             return (size - size_rem);
2994:rtos/uC-FS/Source/fs_file.c ****         }
ARM GAS  /tmp/cccHCpmH.s 			page 54


2995:rtos/uC-FS/Source/fs_file.c **** 
2996:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStart  = 0u;                                 /* ... buf now empty.              
2997:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
2998:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
2999:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
3000:rtos/uC-FS/Source/fs_file.c **** 
3001:rtos/uC-FS/Source/fs_file.c **** 
3002:rtos/uC-FS/Source/fs_file.c **** 
3003:rtos/uC-FS/Source/fs_file.c ****         if (size_rem >= p_file->BufSize) {                      /* ------------------ HANDLE LARGE 
3004:rtos/uC-FS/Source/fs_file.c ****             size_wr = FSSys_FileWr(p_file,                      /* Wr data to file.                
3005:rtos/uC-FS/Source/fs_file.c ****                                    p_src,
3006:rtos/uC-FS/Source/fs_file.c ****                                    size_rem,
3007:rtos/uC-FS/Source/fs_file.c ****                                    p_err);
3008:rtos/uC-FS/Source/fs_file.c ****             p_file->Pos    +=  size_wr;                         /* Adj file pos ...                
3009:rtos/uC-FS/Source/fs_file.c ****             size_rem       -=  size_wr;                         /*              ... adj wr rem.    
3010:rtos/uC-FS/Source/fs_file.c **** 
3011:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = (*p_err != FS_ERR_NONE) ? DEF_YES : DEF_NO;
3012:rtos/uC-FS/Source/fs_file.c **** 
3013:rtos/uC-FS/Source/fs_file.c ****             if (*p_err != FS_ERR_NONE) {
3014:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
3015:rtos/uC-FS/Source/fs_file.c ****             }
3016:rtos/uC-FS/Source/fs_file.c **** 
3017:rtos/uC-FS/Source/fs_file.c **** 
3018:rtos/uC-FS/Source/fs_file.c **** 
3019:rtos/uC-FS/Source/fs_file.c ****         } else {
3020:rtos/uC-FS/Source/fs_file.c ****             if (size_rem > 0u) {                                /* -------------- WR REM TO START O
3021:rtos/uC-FS/Source/fs_file.c ****                 size_wr            = size_rem;
3022:rtos/uC-FS/Source/fs_file.c ****                 Mem_Copy(p_file->BufPtr, p_src, size_rem);      /* Copy from user buf to file buf. 
3023:rtos/uC-FS/Source/fs_file.c **** 
3024:rtos/uC-FS/Source/fs_file.c ****                 p_file->BufStart   = p_file->Pos;               /* Save file pos at buf start.     
3025:rtos/uC-FS/Source/fs_file.c **** 
3026:rtos/uC-FS/Source/fs_file.c ****                 p_file->Pos       += size_wr;                   /* Adj file pos ...                
3027:rtos/uC-FS/Source/fs_file.c ****                 size_rem          -= size_wr;                   /*              ... adj wr rem.    
3028:rtos/uC-FS/Source/fs_file.c **** 
3029:rtos/uC-FS/Source/fs_file.c ****                 p_file->BufMaxPos  = size_wr;                   /* Save max wr pos in buf.         
3030:rtos/uC-FS/Source/fs_file.c ****                 p_file->BufStatus  = FS_FILE_BUF_STATUS_NONEMPTY_WR;
3031:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_NONE;
3032:rtos/uC-FS/Source/fs_file.c ****             }
3033:rtos/uC-FS/Source/fs_file.c ****         }
3034:rtos/uC-FS/Source/fs_file.c ****     }
3035:rtos/uC-FS/Source/fs_file.c **** 
3036:rtos/uC-FS/Source/fs_file.c **** 
3037:rtos/uC-FS/Source/fs_file.c **** 
3038:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- ASSIGN & RTN
3039:rtos/uC-FS/Source/fs_file.c ****     if (p_file->Size < p_file->Pos) {                           /* Chng file size.                 
3040:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
3041:rtos/uC-FS/Source/fs_file.c ****     }
3042:rtos/uC-FS/Source/fs_file.c ****     return (size - size_rem);
3043:rtos/uC-FS/Source/fs_file.c **** }
3044:rtos/uC-FS/Source/fs_file.c **** #endif
3045:rtos/uC-FS/Source/fs_file.c **** #endif
3046:rtos/uC-FS/Source/fs_file.c **** 
3047:rtos/uC-FS/Source/fs_file.c **** 
3048:rtos/uC-FS/Source/fs_file.c **** /*
3049:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3050:rtos/uC-FS/Source/fs_file.c **** *                                       FSFile_AcquireLockChk()
3051:rtos/uC-FS/Source/fs_file.c **** *
ARM GAS  /tmp/cccHCpmH.s 			page 55


3052:rtos/uC-FS/Source/fs_file.c **** * Description : Acquire file reference & lock.
3053:rtos/uC-FS/Source/fs_file.c **** *
3054:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3055:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3056:rtos/uC-FS/Source/fs_file.c **** *
3057:rtos/uC-FS/Source/fs_file.c **** *
3058:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
3059:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3060:rtos/uC-FS/Source/fs_file.c **** *
3061:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE             File reference & lock acquired.
3062:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_DEV_CHNGD        Device has changed.
3063:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_FILE_NOT_OPEN    File NOT open.
3064:rtos/uC-FS/Source/fs_file.c **** *
3065:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Pointer to a file, if found.
3066:rtos/uC-FS/Source/fs_file.c **** *               Pointer to NULL,   otherwise.
3067:rtos/uC-FS/Source/fs_file.c **** *
3068:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
3069:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3070:rtos/uC-FS/Source/fs_file.c **** */
3071:rtos/uC-FS/Source/fs_file.c **** 
3072:rtos/uC-FS/Source/fs_file.c **** static  FS_FILE  *FSFile_AcquireLockChk (FS_FILE      *p_file,
3073:rtos/uC-FS/Source/fs_file.c ****                                          FS_ERR       *p_err)
3074:rtos/uC-FS/Source/fs_file.c **** {
3075:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  lock_success;
3076:rtos/uC-FS/Source/fs_file.c **** 
3077:rtos/uC-FS/Source/fs_file.c **** 
3078:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE FILE L
3079:rtos/uC-FS/Source/fs_file.c ****     p_file = FSFile_Acquire(p_file);                            /* Acquire file ref.               
3080:rtos/uC-FS/Source/fs_file.c **** 
3081:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Rtn err if file not found.      
3082:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NOT_OPEN;
3083:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
3084:rtos/uC-FS/Source/fs_file.c ****     }
3085:rtos/uC-FS/Source/fs_file.c **** 
3086:rtos/uC-FS/Source/fs_file.c ****     lock_success = FSFile_Lock(p_file);
3087:rtos/uC-FS/Source/fs_file.c ****     if (lock_success != DEF_YES) {
3088:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_OS_LOCK;
3089:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
3090:rtos/uC-FS/Source/fs_file.c ****     }
3091:rtos/uC-FS/Source/fs_file.c **** 
3092:rtos/uC-FS/Source/fs_file.c **** 
3093:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------- VALIDATE FIL
3094:rtos/uC-FS/Source/fs_file.c ****     switch (p_file->State) {
3095:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_STATE_OPEN:
3096:rtos/uC-FS/Source/fs_file.c ****             *p_err = FS_ERR_NONE;
3097:rtos/uC-FS/Source/fs_file.c ****              return (p_file);
3098:rtos/uC-FS/Source/fs_file.c **** 
3099:rtos/uC-FS/Source/fs_file.c **** 
3100:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_STATE_CLOSED:                              /* Rtn NULL if file not open.      
3101:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_STATE_CLOSING:
3102:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_STATE_OPENING:
3103:rtos/uC-FS/Source/fs_file.c ****         default:
3104:rtos/uC-FS/Source/fs_file.c ****             *p_err = FS_ERR_FILE_NOT_OPEN;
3105:rtos/uC-FS/Source/fs_file.c ****              FSFile_ReleaseUnlock(p_file);
3106:rtos/uC-FS/Source/fs_file.c ****              return ((FS_FILE *)0);
3107:rtos/uC-FS/Source/fs_file.c ****     }
3108:rtos/uC-FS/Source/fs_file.c **** }
ARM GAS  /tmp/cccHCpmH.s 			page 56


3109:rtos/uC-FS/Source/fs_file.c **** 
3110:rtos/uC-FS/Source/fs_file.c **** 
3111:rtos/uC-FS/Source/fs_file.c **** /*
3112:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3113:rtos/uC-FS/Source/fs_file.c **** *                                          FSFile_Acquire()
3114:rtos/uC-FS/Source/fs_file.c **** *
3115:rtos/uC-FS/Source/fs_file.c **** * Description : Acquire file reference.
3116:rtos/uC-FS/Source/fs_file.c **** *
3117:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3118:rtos/uC-FS/Source/fs_file.c **** *
3119:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Pointer to a file, if available.
3120:rtos/uC-FS/Source/fs_file.c **** *               Pointer to NULL,   otherwise.
3121:rtos/uC-FS/Source/fs_file.c **** *
3122:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
3123:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3124:rtos/uC-FS/Source/fs_file.c **** */
3125:rtos/uC-FS/Source/fs_file.c **** 
3126:rtos/uC-FS/Source/fs_file.c **** static  FS_FILE  *FSFile_Acquire (FS_FILE  *p_file)
3127:rtos/uC-FS/Source/fs_file.c **** {
3128:rtos/uC-FS/Source/fs_file.c ****     FS_ERR  err;
3129:rtos/uC-FS/Source/fs_file.c **** 
3130:rtos/uC-FS/Source/fs_file.c **** 
3131:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ ACQUIRE FS LO
3132:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Lock(&err);
3133:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
3134:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
3135:rtos/uC-FS/Source/fs_file.c ****     }
3136:rtos/uC-FS/Source/fs_file.c **** 
3137:rtos/uC-FS/Source/fs_file.c **** 
3138:rtos/uC-FS/Source/fs_file.c **** 
3139:rtos/uC-FS/Source/fs_file.c ****                                                                 /* -------------------- INC REF CNT
3140:rtos/uC-FS/Source/fs_file.c ****     if (p_file->RefCnt == 0u) {                                 /* Rtn NULL if file not ref'd.     
3141:rtos/uC-FS/Source/fs_file.c ****         FS_OS_Unlock();
3142:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
3143:rtos/uC-FS/Source/fs_file.c ****     }
3144:rtos/uC-FS/Source/fs_file.c **** 
3145:rtos/uC-FS/Source/fs_file.c ****     p_file->RefCnt++;
3146:rtos/uC-FS/Source/fs_file.c **** 
3147:rtos/uC-FS/Source/fs_file.c **** 
3148:rtos/uC-FS/Source/fs_file.c **** 
3149:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ RELEASE FS LO
3150:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Unlock();
3151:rtos/uC-FS/Source/fs_file.c **** 
3152:rtos/uC-FS/Source/fs_file.c ****     return (p_file);
3153:rtos/uC-FS/Source/fs_file.c **** }
3154:rtos/uC-FS/Source/fs_file.c **** 
3155:rtos/uC-FS/Source/fs_file.c **** 
3156:rtos/uC-FS/Source/fs_file.c **** /*
3157:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3158:rtos/uC-FS/Source/fs_file.c **** *                                       FSFile_ReleaseUnlock()
3159:rtos/uC-FS/Source/fs_file.c **** *
3160:rtos/uC-FS/Source/fs_file.c **** * Description : Release file reference & lock.
3161:rtos/uC-FS/Source/fs_file.c **** *
3162:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3163:rtos/uC-FS/Source/fs_file.c **** *               ------      Argument validated by caller.
3164:rtos/uC-FS/Source/fs_file.c **** *
3165:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
ARM GAS  /tmp/cccHCpmH.s 			page 57


3166:rtos/uC-FS/Source/fs_file.c **** *
3167:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
3168:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3169:rtos/uC-FS/Source/fs_file.c **** */
3170:rtos/uC-FS/Source/fs_file.c **** 
3171:rtos/uC-FS/Source/fs_file.c **** static  void  FSFile_ReleaseUnlock (FS_FILE  *p_file)
3172:rtos/uC-FS/Source/fs_file.c **** {
3173:rtos/uC-FS/Source/fs_file.c ****     FSFile_Unlock(p_file);
3174:rtos/uC-FS/Source/fs_file.c ****     FSFile_Release(p_file);
3175:rtos/uC-FS/Source/fs_file.c **** }
3176:rtos/uC-FS/Source/fs_file.c **** 
3177:rtos/uC-FS/Source/fs_file.c **** 
3178:rtos/uC-FS/Source/fs_file.c **** /*
3179:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3180:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_Release()
3181:rtos/uC-FS/Source/fs_file.c **** *
3182:rtos/uC-FS/Source/fs_file.c **** * Description : Release file reference.
3183:rtos/uC-FS/Source/fs_file.c **** *
3184:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3185:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3186:rtos/uC-FS/Source/fs_file.c **** *
3187:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
3188:rtos/uC-FS/Source/fs_file.c **** *
3189:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) A volume reference might have been acquired in 'FSFile_NameParseChk()'; the vol
3190:rtos/uC-FS/Source/fs_file.c **** *                   reference would NOT have been acquired if the named volume did not exist or exi
3191:rtos/uC-FS/Source/fs_file.c **** *                   but was not mounted.
3192:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3193:rtos/uC-FS/Source/fs_file.c **** */
3194:rtos/uC-FS/Source/fs_file.c **** 
3195:rtos/uC-FS/Source/fs_file.c **** static  void  FSFile_Release (FS_FILE  *p_file)
3196:rtos/uC-FS/Source/fs_file.c **** {
3197:rtos/uC-FS/Source/fs_file.c ****     FS_ERR   err;
3198:rtos/uC-FS/Source/fs_file.c ****     FS_CTR   ref_cnt;
3199:rtos/uC-FS/Source/fs_file.c ****     FS_VOL  *p_vol;
3200:rtos/uC-FS/Source/fs_file.c **** 
3201:rtos/uC-FS/Source/fs_file.c **** 
3202:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ------------------ ACQUIRE FS LO
3203:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Lock(&err);
3204:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
3205:rtos/uC-FS/Source/fs_file.c ****         return;
3206:rtos/uC-FS/Source/fs_file.c ****     }
3207:rtos/uC-FS/Source/fs_file.c **** 
3208:rtos/uC-FS/Source/fs_file.c **** 
3209:rtos/uC-FS/Source/fs_file.c **** 
3210:rtos/uC-FS/Source/fs_file.c ****                                                                 /* -------------------- DEC REF CNT
3211:rtos/uC-FS/Source/fs_file.c ****     ref_cnt = p_file->RefCnt;
3212:rtos/uC-FS/Source/fs_file.c ****     if (ref_cnt == 1u) {
3213:rtos/uC-FS/Source/fs_file.c ****         p_vol = p_file->VolPtr;
3214:rtos/uC-FS/Source/fs_file.c ****         FSFile_ObjFree(p_file);
3215:rtos/uC-FS/Source/fs_file.c ****     } else if (ref_cnt > 0u) {
3216:rtos/uC-FS/Source/fs_file.c ****         p_file->RefCnt = ref_cnt - 1u;
3217:rtos/uC-FS/Source/fs_file.c ****     } else {
3218:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_DBG(("FSFile_Release(): Release cnt dec'd to zero.\r\n"));
3219:rtos/uC-FS/Source/fs_file.c ****     }
3220:rtos/uC-FS/Source/fs_file.c **** 
3221:rtos/uC-FS/Source/fs_file.c ****     FS_OS_Unlock();
3222:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 58


3223:rtos/uC-FS/Source/fs_file.c **** 
3224:rtos/uC-FS/Source/fs_file.c **** 
3225:rtos/uC-FS/Source/fs_file.c ****                                                                 /* -------------------- RELEASE VOL
3226:rtos/uC-FS/Source/fs_file.c ****     if (ref_cnt == 1u) {
3227:rtos/uC-FS/Source/fs_file.c ****         if (p_vol != (FS_VOL *)0) {
3228:rtos/uC-FS/Source/fs_file.c ****             FSVol_Release(p_vol);                               /* Release vol (see Note #1).      
3229:rtos/uC-FS/Source/fs_file.c ****         }
3230:rtos/uC-FS/Source/fs_file.c ****     }
3231:rtos/uC-FS/Source/fs_file.c **** }
3232:rtos/uC-FS/Source/fs_file.c **** 
3233:rtos/uC-FS/Source/fs_file.c **** 
3234:rtos/uC-FS/Source/fs_file.c **** /*
3235:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3236:rtos/uC-FS/Source/fs_file.c **** *                                            FSFile_Lock()
3237:rtos/uC-FS/Source/fs_file.c **** *
3238:rtos/uC-FS/Source/fs_file.c **** * Description : Acquire file lock.
3239:rtos/uC-FS/Source/fs_file.c **** *
3240:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3241:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3242:rtos/uC-FS/Source/fs_file.c **** *
3243:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
3244:rtos/uC-FS/Source/fs_file.c **** *
3245:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
3246:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3247:rtos/uC-FS/Source/fs_file.c **** */
3248:rtos/uC-FS/Source/fs_file.c **** 
3249:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN  FSFile_Lock (FS_FILE  *p_file)
3250:rtos/uC-FS/Source/fs_file.c **** {
3251:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  locked;
3252:rtos/uC-FS/Source/fs_file.c **** 
3253:rtos/uC-FS/Source/fs_file.c **** 
3254:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
3255:rtos/uC-FS/Source/fs_file.c ****     locked = FSFile_LockGetHandler(p_file);
3256:rtos/uC-FS/Source/fs_file.c **** 
3257:rtos/uC-FS/Source/fs_file.c ****     if (locked == DEF_NO) {
3258:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
3259:rtos/uC-FS/Source/fs_file.c ****     }
3260:rtos/uC-FS/Source/fs_file.c **** #endif
3261:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- ACQUIRE VOL LO
3262:rtos/uC-FS/Source/fs_file.c ****     locked = FSVol_Lock(p_file->VolPtr);
3263:rtos/uC-FS/Source/fs_file.c **** 
3264:rtos/uC-FS/Source/fs_file.c ****     return (locked);
3265:rtos/uC-FS/Source/fs_file.c **** }
3266:rtos/uC-FS/Source/fs_file.c **** 
3267:rtos/uC-FS/Source/fs_file.c **** 
3268:rtos/uC-FS/Source/fs_file.c **** /*
3269:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3270:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_Unlock()
3271:rtos/uC-FS/Source/fs_file.c **** *
3272:rtos/uC-FS/Source/fs_file.c **** * Description : Release file lock.
3273:rtos/uC-FS/Source/fs_file.c **** *
3274:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3275:rtos/uC-FS/Source/fs_file.c **** *               ------      Argument validated by caller.
3276:rtos/uC-FS/Source/fs_file.c **** *
3277:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
3278:rtos/uC-FS/Source/fs_file.c **** *
3279:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
ARM GAS  /tmp/cccHCpmH.s 			page 59


3280:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3281:rtos/uC-FS/Source/fs_file.c **** */
3282:rtos/uC-FS/Source/fs_file.c **** 
3283:rtos/uC-FS/Source/fs_file.c **** static  void  FSFile_Unlock (FS_FILE  *p_file)
3284:rtos/uC-FS/Source/fs_file.c **** {
3285:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE VOL LO
3286:rtos/uC-FS/Source/fs_file.c ****     FSVol_Unlock(p_file->VolPtr);
3287:rtos/uC-FS/Source/fs_file.c **** 
3288:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
3289:rtos/uC-FS/Source/fs_file.c ****     (void)FSFile_LockSetHandler(p_file);
3290:rtos/uC-FS/Source/fs_file.c **** #endif
3291:rtos/uC-FS/Source/fs_file.c **** }
3292:rtos/uC-FS/Source/fs_file.c **** 
3293:rtos/uC-FS/Source/fs_file.c **** 
3294:rtos/uC-FS/Source/fs_file.c **** /*
3295:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3296:rtos/uC-FS/Source/fs_file.c **** *                                     FSFile_LockAcceptHandler()
3297:rtos/uC-FS/Source/fs_file.c **** *
3298:rtos/uC-FS/Source/fs_file.c **** * Description : Acquire file lock (if avail).
3299:rtos/uC-FS/Source/fs_file.c **** *
3300:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3301:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3302:rtos/uC-FS/Source/fs_file.c **** *
3303:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : DEF_YES, if file lock     acquired.
3304:rtos/uC-FS/Source/fs_file.c **** *               DEF_NO,  if file lock NOT acquired.
3305:rtos/uC-FS/Source/fs_file.c **** *
3306:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
3307:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3308:rtos/uC-FS/Source/fs_file.c **** */
3309:rtos/uC-FS/Source/fs_file.c **** 
3310:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
3311:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN  FSFile_LockAcceptHandler (FS_FILE  *p_file)
3312:rtos/uC-FS/Source/fs_file.c **** {
3313:rtos/uC-FS/Source/fs_file.c ****     FS_ERR       err;
3314:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  locked;
3315:rtos/uC-FS/Source/fs_file.c **** 
3316:rtos/uC-FS/Source/fs_file.c **** 
3317:rtos/uC-FS/Source/fs_file.c ****     FS_OS_FileAccept(p_file->ID, &err);                         /* Acquire file lock.              
3318:rtos/uC-FS/Source/fs_file.c ****     locked = (err == FS_ERR_NONE) ? DEF_YES : DEF_NO;
3319:rtos/uC-FS/Source/fs_file.c **** 
3320:rtos/uC-FS/Source/fs_file.c ****     return (locked);
3321:rtos/uC-FS/Source/fs_file.c **** }
3322:rtos/uC-FS/Source/fs_file.c **** #endif
3323:rtos/uC-FS/Source/fs_file.c **** 
3324:rtos/uC-FS/Source/fs_file.c **** 
3325:rtos/uC-FS/Source/fs_file.c **** /*
3326:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3327:rtos/uC-FS/Source/fs_file.c **** *                                       FSFile_LockGetHandler()
3328:rtos/uC-FS/Source/fs_file.c **** *
3329:rtos/uC-FS/Source/fs_file.c **** * Description : Acquire file lock.
3330:rtos/uC-FS/Source/fs_file.c **** *
3331:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3332:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3333:rtos/uC-FS/Source/fs_file.c **** *
3334:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : DEF_YES, if file lock     acquired.
3335:rtos/uC-FS/Source/fs_file.c **** *               DEF_NO,  if file lock NOT acquired.
3336:rtos/uC-FS/Source/fs_file.c **** *
ARM GAS  /tmp/cccHCpmH.s 			page 60


3337:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
3338:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3339:rtos/uC-FS/Source/fs_file.c **** */
3340:rtos/uC-FS/Source/fs_file.c **** 
3341:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
3342:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN  FSFile_LockGetHandler (FS_FILE  *p_file)
3343:rtos/uC-FS/Source/fs_file.c **** {
3344:rtos/uC-FS/Source/fs_file.c ****     FS_ERR       err;
3345:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  locked;
3346:rtos/uC-FS/Source/fs_file.c **** 
3347:rtos/uC-FS/Source/fs_file.c **** 
3348:rtos/uC-FS/Source/fs_file.c ****     FS_OS_FileLock(p_file->ID, &err);                           /* Acquire file lock.              
3349:rtos/uC-FS/Source/fs_file.c ****     locked = (err == FS_ERR_NONE) ? DEF_YES : DEF_NO;
3350:rtos/uC-FS/Source/fs_file.c **** 
3351:rtos/uC-FS/Source/fs_file.c ****     return (locked);
3352:rtos/uC-FS/Source/fs_file.c **** }
3353:rtos/uC-FS/Source/fs_file.c **** #endif
3354:rtos/uC-FS/Source/fs_file.c **** 
3355:rtos/uC-FS/Source/fs_file.c **** 
3356:rtos/uC-FS/Source/fs_file.c **** /*
3357:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3358:rtos/uC-FS/Source/fs_file.c **** *                                       FSFile_LockSetHandler()
3359:rtos/uC-FS/Source/fs_file.c **** *
3360:rtos/uC-FS/Source/fs_file.c **** * Description : Release file lock.
3361:rtos/uC-FS/Source/fs_file.c **** *
3362:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3363:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3364:rtos/uC-FS/Source/fs_file.c **** *
3365:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : DEF_YES, if file lock     released.
3366:rtos/uC-FS/Source/fs_file.c **** *               DEF_NO,  if file lock NOT released.
3367:rtos/uC-FS/Source/fs_file.c **** *
3368:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : none.
3369:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3370:rtos/uC-FS/Source/fs_file.c **** */
3371:rtos/uC-FS/Source/fs_file.c **** 
3372:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_LOCK_EN == DEF_ENABLED)
3373:rtos/uC-FS/Source/fs_file.c **** static  CPU_BOOLEAN  FSFile_LockSetHandler (FS_FILE  *p_file)
3374:rtos/uC-FS/Source/fs_file.c **** {
3375:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  unlocked;
3376:rtos/uC-FS/Source/fs_file.c **** 
3377:rtos/uC-FS/Source/fs_file.c **** 
3378:rtos/uC-FS/Source/fs_file.c ****     unlocked = FS_OS_FileUnlock(p_file->ID);
3379:rtos/uC-FS/Source/fs_file.c **** 
3380:rtos/uC-FS/Source/fs_file.c ****     return (unlocked);
3381:rtos/uC-FS/Source/fs_file.c **** }
3382:rtos/uC-FS/Source/fs_file.c **** #endif
3383:rtos/uC-FS/Source/fs_file.c **** 
3384:rtos/uC-FS/Source/fs_file.c **** 
3385:rtos/uC-FS/Source/fs_file.c **** /*
3386:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3387:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_ObjClr()
3388:rtos/uC-FS/Source/fs_file.c **** *
3389:rtos/uC-FS/Source/fs_file.c **** * Description : Clear a file object.
3390:rtos/uC-FS/Source/fs_file.c **** *
3391:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to file.
3392:rtos/uC-FS/Source/fs_file.c **** *               ------      Argument validated by caller.
3393:rtos/uC-FS/Source/fs_file.c **** *
ARM GAS  /tmp/cccHCpmH.s 			page 61


3394:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
3395:rtos/uC-FS/Source/fs_file.c **** *
3396:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) The function caller MUST hold the file system lock.
3397:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3398:rtos/uC-FS/Source/fs_file.c **** */
3399:rtos/uC-FS/Source/fs_file.c **** 
3400:rtos/uC-FS/Source/fs_file.c **** static  void  FSFile_ObjClr (FS_FILE  *p_file)
3401:rtos/uC-FS/Source/fs_file.c **** {
  29              		.loc 1 3401 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
3402:rtos/uC-FS/Source/fs_file.c ****     p_file->ID           =  0u;
  34              		.loc 1 3402 5 view .LVU1
  35              		.loc 1 3402 26 is_stmt 0 view .LVU2
  36 0000 0023     		movs	r3, #0
  37 0002 0360     		str	r3, [r0]
3403:rtos/uC-FS/Source/fs_file.c ****     p_file->State        =  FS_FILE_STATE_CLOSED;
  38              		.loc 1 3403 5 is_stmt 1 view .LVU3
  39              		.loc 1 3403 26 is_stmt 0 view .LVU4
  40 0004 8380     		strh	r3, [r0, #4]	@ movhi
3404:rtos/uC-FS/Source/fs_file.c ****     p_file->RefCnt       =  0u;
  41              		.loc 1 3404 5 is_stmt 1 view .LVU5
  42              		.loc 1 3404 26 is_stmt 0 view .LVU6
  43 0006 8360     		str	r3, [r0, #8]
3405:rtos/uC-FS/Source/fs_file.c ****     p_file->RefreshCnt   =  0u;
  44              		.loc 1 3405 5 is_stmt 1 view .LVU7
  45              		.loc 1 3405 26 is_stmt 0 view .LVU8
  46 0008 C360     		str	r3, [r0, #12]
3406:rtos/uC-FS/Source/fs_file.c **** 
3407:rtos/uC-FS/Source/fs_file.c ****     p_file->AccessMode   =  FS_FILE_ACCESS_MODE_NONE;
  47              		.loc 1 3407 5 is_stmt 1 view .LVU9
  48              		.loc 1 3407 26 is_stmt 0 view .LVU10
  49 000a 0361     		str	r3, [r0, #16]
3408:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagErr      =  DEF_NO;
  50              		.loc 1 3408 5 is_stmt 1 view .LVU11
  51              		.loc 1 3408 26 is_stmt 0 view .LVU12
  52 000c 0375     		strb	r3, [r0, #20]
3409:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF      =  DEF_NO;
  53              		.loc 1 3409 5 is_stmt 1 view .LVU13
  54              		.loc 1 3409 26 is_stmt 0 view .LVU14
  55 000e 4375     		strb	r3, [r0, #21]
3410:rtos/uC-FS/Source/fs_file.c ****     p_file->IO_State     =  FS_FILE_IO_STATE_NONE;
  56              		.loc 1 3410 5 is_stmt 1 view .LVU15
  57              		.loc 1 3410 26 is_stmt 0 view .LVU16
  58 0010 C382     		strh	r3, [r0, #22]	@ movhi
3411:rtos/uC-FS/Source/fs_file.c ****     p_file->Size         =  0u;
  59              		.loc 1 3411 5 is_stmt 1 view .LVU17
  60              		.loc 1 3411 26 is_stmt 0 view .LVU18
  61 0012 8361     		str	r3, [r0, #24]
3412:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos          =  0u;
  62              		.loc 1 3412 5 is_stmt 1 view .LVU19
  63              		.loc 1 3412 26 is_stmt 0 view .LVU20
  64 0014 C361     		str	r3, [r0, #28]
3413:rtos/uC-FS/Source/fs_file.c **** 
3414:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_FILE_BUF_EN  == DEF_ENABLED)
ARM GAS  /tmp/cccHCpmH.s 			page 62


3415:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStart     =  0u;
  65              		.loc 1 3415 5 is_stmt 1 view .LVU21
  66              		.loc 1 3415 26 is_stmt 0 view .LVU22
  67 0016 0362     		str	r3, [r0, #32]
3416:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMaxPos    =  0u;
  68              		.loc 1 3416 5 is_stmt 1 view .LVU23
  69              		.loc 1 3416 26 is_stmt 0 view .LVU24
  70 0018 4362     		str	r3, [r0, #36]
3417:rtos/uC-FS/Source/fs_file.c ****     p_file->BufSize      =  0u;
  71              		.loc 1 3417 5 is_stmt 1 view .LVU25
  72              		.loc 1 3417 26 is_stmt 0 view .LVU26
  73 001a 8362     		str	r3, [r0, #40]
3418:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMode      =  FS_FILE_BUF_MODE_NONE;
  74              		.loc 1 3418 5 is_stmt 1 view .LVU27
  75              		.loc 1 3418 26 is_stmt 0 view .LVU28
  76 001c C362     		str	r3, [r0, #44]
3419:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStatus    =  FS_FILE_BUF_STATUS_NONE;
  77              		.loc 1 3419 5 is_stmt 1 view .LVU29
  78              		.loc 1 3419 26 is_stmt 0 view .LVU30
  79 001e 0122     		movs	r2, #1
  80 0020 0286     		strh	r2, [r0, #48]	@ movhi
3420:rtos/uC-FS/Source/fs_file.c ****     p_file->BufPtr       = (void *)0;
  81              		.loc 1 3420 5 is_stmt 1 view .LVU31
  82              		.loc 1 3420 26 is_stmt 0 view .LVU32
  83 0022 4363     		str	r3, [r0, #52]
3421:rtos/uC-FS/Source/fs_file.c ****     p_file->BufSecSize   =  0u;
  84              		.loc 1 3421 5 is_stmt 1 view .LVU33
  85              		.loc 1 3421 26 is_stmt 0 view .LVU34
  86 0024 8363     		str	r3, [r0, #56]
3422:rtos/uC-FS/Source/fs_file.c **** #endif
3423:rtos/uC-FS/Source/fs_file.c **** 
3424:rtos/uC-FS/Source/fs_file.c ****     p_file->VolPtr       = (FS_VOL *)0;
  87              		.loc 1 3424 5 is_stmt 1 view .LVU35
  88              		.loc 1 3424 26 is_stmt 0 view .LVU36
  89 0026 C363     		str	r3, [r0, #60]
3425:rtos/uC-FS/Source/fs_file.c ****     p_file->DataPtr      = (void   *)0;
  90              		.loc 1 3425 5 is_stmt 1 view .LVU37
  91              		.loc 1 3425 26 is_stmt 0 view .LVU38
  92 0028 0364     		str	r3, [r0, #64]
3426:rtos/uC-FS/Source/fs_file.c **** 
3427:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_CTR_STAT_EN  == DEF_ENABLED)
3428:rtos/uC-FS/Source/fs_file.c ****     p_file->StatRdCtr    =  0u;
3429:rtos/uC-FS/Source/fs_file.c ****     p_file->StatWrCtr    =  0u;
3430:rtos/uC-FS/Source/fs_file.c **** #endif
3431:rtos/uC-FS/Source/fs_file.c **** }
  93              		.loc 1 3431 1 view .LVU39
  94 002a 7047     		bx	lr
  95              		.cfi_endproc
  96              	.LFE27:
  98              		.section	.text.FSFile_Acquire,"ax",%progbits
  99              		.align	1
 100              		.syntax unified
 101              		.thumb
 102              		.thumb_func
 103              		.fpu fpv4-sp-d16
 105              	FSFile_Acquire:
 106              	.LVL1:
ARM GAS  /tmp/cccHCpmH.s 			page 63


 107              	.LFB22:
3127:rtos/uC-FS/Source/fs_file.c ****     FS_ERR  err;
 108              		.loc 1 3127 1 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 8
 111              		@ frame_needed = 0, uses_anonymous_args = 0
3127:rtos/uC-FS/Source/fs_file.c ****     FS_ERR  err;
 112              		.loc 1 3127 1 is_stmt 0 view .LVU41
 113 0000 10B5     		push	{r4, lr}
 114              	.LCFI0:
 115              		.cfi_def_cfa_offset 8
 116              		.cfi_offset 4, -8
 117              		.cfi_offset 14, -4
 118 0002 82B0     		sub	sp, sp, #8
 119              	.LCFI1:
 120              		.cfi_def_cfa_offset 16
 121 0004 0446     		mov	r4, r0
3128:rtos/uC-FS/Source/fs_file.c **** 
 122              		.loc 1 3128 5 is_stmt 1 view .LVU42
3132:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
 123              		.loc 1 3132 5 view .LVU43
 124 0006 0DF10600 		add	r0, sp, #6
 125              	.LVL2:
3132:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
 126              		.loc 1 3132 5 is_stmt 0 view .LVU44
 127 000a FFF7FEFF 		bl	FS_OS_Lock
 128              	.LVL3:
3133:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 129              		.loc 1 3133 5 is_stmt 1 view .LVU45
3133:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 130              		.loc 1 3133 13 is_stmt 0 view .LVU46
 131 000e BDF80630 		ldrh	r3, [sp, #6]
3133:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 132              		.loc 1 3133 8 view .LVU47
 133 0012 63B9     		cbnz	r3, .L5
3140:rtos/uC-FS/Source/fs_file.c ****         FS_OS_Unlock();
 134              		.loc 1 3140 5 is_stmt 1 view .LVU48
3140:rtos/uC-FS/Source/fs_file.c ****         FS_OS_Unlock();
 135              		.loc 1 3140 15 is_stmt 0 view .LVU49
 136 0014 A368     		ldr	r3, [r4, #8]
3140:rtos/uC-FS/Source/fs_file.c ****         FS_OS_Unlock();
 137              		.loc 1 3140 8 view .LVU50
 138 0016 33B1     		cbz	r3, .L7
3145:rtos/uC-FS/Source/fs_file.c **** 
 139              		.loc 1 3145 5 is_stmt 1 view .LVU51
3145:rtos/uC-FS/Source/fs_file.c **** 
 140              		.loc 1 3145 19 is_stmt 0 view .LVU52
 141 0018 0133     		adds	r3, r3, #1
 142 001a A360     		str	r3, [r4, #8]
3150:rtos/uC-FS/Source/fs_file.c **** 
 143              		.loc 1 3150 5 is_stmt 1 view .LVU53
 144 001c FFF7FEFF 		bl	FS_OS_Unlock
 145              	.LVL4:
3152:rtos/uC-FS/Source/fs_file.c **** }
 146              		.loc 1 3152 5 view .LVU54
3152:rtos/uC-FS/Source/fs_file.c **** }
 147              		.loc 1 3152 12 is_stmt 0 view .LVU55
ARM GAS  /tmp/cccHCpmH.s 			page 64


 148 0020 2046     		mov	r0, r4
 149              	.L2:
3153:rtos/uC-FS/Source/fs_file.c **** 
 150              		.loc 1 3153 1 view .LVU56
 151 0022 02B0     		add	sp, sp, #8
 152              	.LCFI2:
 153              		.cfi_remember_state
 154              		.cfi_def_cfa_offset 8
 155              		@ sp needed
 156 0024 10BD     		pop	{r4, pc}
 157              	.LVL5:
 158              	.L7:
 159              	.LCFI3:
 160              		.cfi_restore_state
3141:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 161              		.loc 1 3141 9 is_stmt 1 view .LVU57
 162 0026 FFF7FEFF 		bl	FS_OS_Unlock
 163              	.LVL6:
3142:rtos/uC-FS/Source/fs_file.c ****     }
 164              		.loc 1 3142 9 view .LVU58
3142:rtos/uC-FS/Source/fs_file.c ****     }
 165              		.loc 1 3142 16 is_stmt 0 view .LVU59
 166 002a 0020     		movs	r0, #0
 167 002c F9E7     		b	.L2
 168              	.L5:
3134:rtos/uC-FS/Source/fs_file.c ****     }
 169              		.loc 1 3134 16 view .LVU60
 170 002e 0020     		movs	r0, #0
 171 0030 F7E7     		b	.L2
 172              		.cfi_endproc
 173              	.LFE22:
 175              		.section	.text.FSFile_Lock,"ax",%progbits
 176              		.align	1
 177              		.syntax unified
 178              		.thumb
 179              		.thumb_func
 180              		.fpu fpv4-sp-d16
 182              	FSFile_Lock:
 183              	.LVL7:
 184              	.LFB25:
3250:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  locked;
 185              		.loc 1 3250 1 is_stmt 1 view -0
 186              		.cfi_startproc
 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 0, uses_anonymous_args = 0
3250:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  locked;
 189              		.loc 1 3250 1 is_stmt 0 view .LVU62
 190 0000 08B5     		push	{r3, lr}
 191              	.LCFI4:
 192              		.cfi_def_cfa_offset 8
 193              		.cfi_offset 3, -8
 194              		.cfi_offset 14, -4
3251:rtos/uC-FS/Source/fs_file.c **** 
 195              		.loc 1 3251 5 is_stmt 1 view .LVU63
3262:rtos/uC-FS/Source/fs_file.c **** 
 196              		.loc 1 3262 5 view .LVU64
3262:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 65


 197              		.loc 1 3262 14 is_stmt 0 view .LVU65
 198 0002 C06B     		ldr	r0, [r0, #60]
 199              	.LVL8:
3262:rtos/uC-FS/Source/fs_file.c **** 
 200              		.loc 1 3262 14 view .LVU66
 201 0004 FFF7FEFF 		bl	FSVol_Lock
 202              	.LVL9:
3264:rtos/uC-FS/Source/fs_file.c **** }
 203              		.loc 1 3264 5 is_stmt 1 view .LVU67
3265:rtos/uC-FS/Source/fs_file.c **** 
 204              		.loc 1 3265 1 is_stmt 0 view .LVU68
 205 0008 08BD     		pop	{r3, pc}
 206              		.cfi_endproc
 207              	.LFE25:
 209              		.section	.text.FSFile_Unlock,"ax",%progbits
 210              		.align	1
 211              		.syntax unified
 212              		.thumb
 213              		.thumb_func
 214              		.fpu fpv4-sp-d16
 216              	FSFile_Unlock:
 217              	.LVL10:
 218              	.LFB26:
3284:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE VOL LO
 219              		.loc 1 3284 1 is_stmt 1 view -0
 220              		.cfi_startproc
 221              		@ args = 0, pretend = 0, frame = 0
 222              		@ frame_needed = 0, uses_anonymous_args = 0
3284:rtos/uC-FS/Source/fs_file.c ****                                                                 /* ----------------- RELEASE VOL LO
 223              		.loc 1 3284 1 is_stmt 0 view .LVU70
 224 0000 08B5     		push	{r3, lr}
 225              	.LCFI5:
 226              		.cfi_def_cfa_offset 8
 227              		.cfi_offset 3, -8
 228              		.cfi_offset 14, -4
3286:rtos/uC-FS/Source/fs_file.c **** 
 229              		.loc 1 3286 5 is_stmt 1 view .LVU71
 230 0002 C06B     		ldr	r0, [r0, #60]
 231              	.LVL11:
3286:rtos/uC-FS/Source/fs_file.c **** 
 232              		.loc 1 3286 5 is_stmt 0 view .LVU72
 233 0004 FFF7FEFF 		bl	FSVol_Unlock
 234              	.LVL12:
3291:rtos/uC-FS/Source/fs_file.c **** 
 235              		.loc 1 3291 1 view .LVU73
 236 0008 08BD     		pop	{r3, pc}
 237              		.cfi_endproc
 238              	.LFE26:
 240              		.section	.text.FSFile_ObjFree,"ax",%progbits
 241              		.align	1
 242              		.syntax unified
 243              		.thumb
 244              		.thumb_func
 245              		.fpu fpv4-sp-d16
 247              	FSFile_ObjFree:
 248              	.LVL13:
 249              	.LFB28:
ARM GAS  /tmp/cccHCpmH.s 			page 66


3432:rtos/uC-FS/Source/fs_file.c **** 
3433:rtos/uC-FS/Source/fs_file.c **** 
3434:rtos/uC-FS/Source/fs_file.c **** /*
3435:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3436:rtos/uC-FS/Source/fs_file.c **** *                                          FSFile_ObjFree()
3437:rtos/uC-FS/Source/fs_file.c **** *
3438:rtos/uC-FS/Source/fs_file.c **** * Description : Free a file object.
3439:rtos/uC-FS/Source/fs_file.c **** *
3440:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_file      Pointer to a file.
3441:rtos/uC-FS/Source/fs_file.c **** *
3442:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : none.
3443:rtos/uC-FS/Source/fs_file.c **** *
3444:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) The function caller MUST hold the file system lock.
3445:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3446:rtos/uC-FS/Source/fs_file.c **** */
3447:rtos/uC-FS/Source/fs_file.c **** 
3448:rtos/uC-FS/Source/fs_file.c **** static  void  FSFile_ObjFree (FS_FILE  *p_file)
3449:rtos/uC-FS/Source/fs_file.c **** {
 250              		.loc 1 3449 1 is_stmt 1 view -0
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 8
 253              		@ frame_needed = 0, uses_anonymous_args = 0
3450:rtos/uC-FS/Source/fs_file.c ****     LIB_ERR  pool_err;
 254              		.loc 1 3450 5 view .LVU75
3451:rtos/uC-FS/Source/fs_file.c **** 
3452:rtos/uC-FS/Source/fs_file.c **** 
3453:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_DBG_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
3454:rtos/uC-FS/Source/fs_file.c ****     if (p_file == (FS_FILE *)0) {                               /* Validate file ptr.              
 255              		.loc 1 3454 5 view .LVU76
 256              		.loc 1 3454 8 is_stmt 0 view .LVU77
 257 0000 B0B1     		cbz	r0, .L16
3449:rtos/uC-FS/Source/fs_file.c ****     LIB_ERR  pool_err;
 258              		.loc 1 3449 1 view .LVU78
 259 0002 10B5     		push	{r4, lr}
 260              	.LCFI6:
 261              		.cfi_def_cfa_offset 8
 262              		.cfi_offset 4, -8
 263              		.cfi_offset 14, -4
 264 0004 82B0     		sub	sp, sp, #8
 265              	.LCFI7:
 266              		.cfi_def_cfa_offset 16
 267 0006 0446     		mov	r4, r0
3455:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjFree(): File pointer is invalid.\r\n"));
3456:rtos/uC-FS/Source/fs_file.c ****         return;
3457:rtos/uC-FS/Source/fs_file.c ****     }
3458:rtos/uC-FS/Source/fs_file.c **** #endif
3459:rtos/uC-FS/Source/fs_file.c **** 
3460:rtos/uC-FS/Source/fs_file.c ****     FSFile_Tbl[p_file->ID] = DEF_NULL;
 268              		.loc 1 3460 5 is_stmt 1 view .LVU79
 269              		.loc 1 3460 22 is_stmt 0 view .LVU80
 270 0008 0268     		ldr	r2, [r0]
 271              		.loc 1 3460 15 view .LVU81
 272 000a 0A4B     		ldr	r3, .L19
 273 000c 1B68     		ldr	r3, [r3]
 274              		.loc 1 3460 28 view .LVU82
 275 000e 0021     		movs	r1, #0
 276 0010 43F82210 		str	r1, [r3, r2, lsl #2]
ARM GAS  /tmp/cccHCpmH.s 			page 67


3461:rtos/uC-FS/Source/fs_file.c **** 
3462:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_DBG_MEM_CLR_EN == DEF_ENABLED)
3463:rtos/uC-FS/Source/fs_file.c ****     FSFile_ObjClr(p_file);
 277              		.loc 1 3463 5 is_stmt 1 view .LVU83
 278 0014 FFF7FEFF 		bl	FSFile_ObjClr
 279              	.LVL14:
3464:rtos/uC-FS/Source/fs_file.c **** #endif
3465:rtos/uC-FS/Source/fs_file.c **** 
3466:rtos/uC-FS/Source/fs_file.c ****     Mem_PoolBlkFree(        &FSFile_Pool,
 280              		.loc 1 3466 5 view .LVU84
 281 0018 0DF10602 		add	r2, sp, #6
 282 001c 2146     		mov	r1, r4
 283 001e 0648     		ldr	r0, .L19+4
 284 0020 FFF7FEFF 		bl	Mem_PoolBlkFree
 285              	.LVL15:
3467:rtos/uC-FS/Source/fs_file.c ****                     (void *) p_file,
3468:rtos/uC-FS/Source/fs_file.c ****                             &pool_err);
3469:rtos/uC-FS/Source/fs_file.c **** 
3470:rtos/uC-FS/Source/fs_file.c **** #if (FS_TRACE_LEVEL >= TRACE_LEVEL_INFO)
3471:rtos/uC-FS/Source/fs_file.c ****     if (pool_err != LIB_MEM_ERR_NONE) {
3472:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjFree(): Could not free file to pool.\r\n"));
3473:rtos/uC-FS/Source/fs_file.c ****         return;
3474:rtos/uC-FS/Source/fs_file.c ****     }
3475:rtos/uC-FS/Source/fs_file.c **** #endif
3476:rtos/uC-FS/Source/fs_file.c **** 
3477:rtos/uC-FS/Source/fs_file.c ****     FSFile_Cnt--;
 286              		.loc 1 3477 5 view .LVU85
 287              		.loc 1 3477 15 is_stmt 0 view .LVU86
 288 0024 054A     		ldr	r2, .L19+8
 289 0026 1388     		ldrh	r3, [r2]
 290 0028 013B     		subs	r3, r3, #1
 291 002a 1380     		strh	r3, [r2]	@ movhi
3478:rtos/uC-FS/Source/fs_file.c **** }
 292              		.loc 1 3478 1 view .LVU87
 293 002c 02B0     		add	sp, sp, #8
 294              	.LCFI8:
 295              		.cfi_def_cfa_offset 8
 296              		@ sp needed
 297 002e 10BD     		pop	{r4, pc}
 298              	.LVL16:
 299              	.L16:
 300              	.LCFI9:
 301              		.cfi_def_cfa_offset 0
 302              		.cfi_restore 4
 303              		.cfi_restore 14
 304              		.loc 1 3478 1 view .LVU88
 305 0030 7047     		bx	lr
 306              	.L20:
 307 0032 00BF     		.align	2
 308              	.L19:
 309 0034 00000000 		.word	.LANCHOR0
 310 0038 00000000 		.word	.LANCHOR1
 311 003c 00000000 		.word	.LANCHOR2
 312              		.cfi_endproc
 313              	.LFE28:
 315              		.section	.text.FSFile_Release,"ax",%progbits
 316              		.align	1
ARM GAS  /tmp/cccHCpmH.s 			page 68


 317              		.syntax unified
 318              		.thumb
 319              		.thumb_func
 320              		.fpu fpv4-sp-d16
 322              	FSFile_Release:
 323              	.LVL17:
 324              	.LFB24:
3196:rtos/uC-FS/Source/fs_file.c ****     FS_ERR   err;
 325              		.loc 1 3196 1 is_stmt 1 view -0
 326              		.cfi_startproc
 327              		@ args = 0, pretend = 0, frame = 8
 328              		@ frame_needed = 0, uses_anonymous_args = 0
3196:rtos/uC-FS/Source/fs_file.c ****     FS_ERR   err;
 329              		.loc 1 3196 1 is_stmt 0 view .LVU90
 330 0000 70B5     		push	{r4, r5, r6, lr}
 331              	.LCFI10:
 332              		.cfi_def_cfa_offset 16
 333              		.cfi_offset 4, -16
 334              		.cfi_offset 5, -12
 335              		.cfi_offset 6, -8
 336              		.cfi_offset 14, -4
 337 0002 82B0     		sub	sp, sp, #8
 338              	.LCFI11:
 339              		.cfi_def_cfa_offset 24
 340 0004 0446     		mov	r4, r0
3197:rtos/uC-FS/Source/fs_file.c ****     FS_CTR   ref_cnt;
 341              		.loc 1 3197 5 is_stmt 1 view .LVU91
3198:rtos/uC-FS/Source/fs_file.c ****     FS_VOL  *p_vol;
 342              		.loc 1 3198 5 view .LVU92
3199:rtos/uC-FS/Source/fs_file.c **** 
 343              		.loc 1 3199 5 view .LVU93
3203:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
 344              		.loc 1 3203 5 view .LVU94
 345 0006 0DF10600 		add	r0, sp, #6
 346              	.LVL18:
3203:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
 347              		.loc 1 3203 5 is_stmt 0 view .LVU95
 348 000a FFF7FEFF 		bl	FS_OS_Lock
 349              	.LVL19:
3204:rtos/uC-FS/Source/fs_file.c ****         return;
 350              		.loc 1 3204 5 is_stmt 1 view .LVU96
3204:rtos/uC-FS/Source/fs_file.c ****         return;
 351              		.loc 1 3204 13 is_stmt 0 view .LVU97
 352 000e BDF80630 		ldrh	r3, [sp, #6]
3204:rtos/uC-FS/Source/fs_file.c ****         return;
 353              		.loc 1 3204 8 view .LVU98
 354 0012 4BB9     		cbnz	r3, .L21
3211:rtos/uC-FS/Source/fs_file.c ****     if (ref_cnt == 1u) {
 355              		.loc 1 3211 5 is_stmt 1 view .LVU99
3211:rtos/uC-FS/Source/fs_file.c ****     if (ref_cnt == 1u) {
 356              		.loc 1 3211 13 is_stmt 0 view .LVU100
 357 0014 A568     		ldr	r5, [r4, #8]
 358              	.LVL20:
3212:rtos/uC-FS/Source/fs_file.c ****         p_vol = p_file->VolPtr;
 359              		.loc 1 3212 5 is_stmt 1 view .LVU101
3212:rtos/uC-FS/Source/fs_file.c ****         p_vol = p_file->VolPtr;
 360              		.loc 1 3212 8 is_stmt 0 view .LVU102
ARM GAS  /tmp/cccHCpmH.s 			page 69


 361 0016 012D     		cmp	r5, #1
 362 0018 08D0     		beq	.L28
3215:rtos/uC-FS/Source/fs_file.c ****         p_file->RefCnt = ref_cnt - 1u;
 363              		.loc 1 3215 12 is_stmt 1 view .LVU103
3215:rtos/uC-FS/Source/fs_file.c ****         p_file->RefCnt = ref_cnt - 1u;
 364              		.loc 1 3215 15 is_stmt 0 view .LVU104
 365 001a 0DB1     		cbz	r5, .L25
3216:rtos/uC-FS/Source/fs_file.c ****     } else {
 366              		.loc 1 3216 9 is_stmt 1 view .LVU105
3216:rtos/uC-FS/Source/fs_file.c ****     } else {
 367              		.loc 1 3216 34 is_stmt 0 view .LVU106
 368 001c 6B1E     		subs	r3, r5, #1
3216:rtos/uC-FS/Source/fs_file.c ****     } else {
 369              		.loc 1 3216 24 view .LVU107
 370 001e A360     		str	r3, [r4, #8]
 371              	.L25:
 372              	.LVL21:
3218:rtos/uC-FS/Source/fs_file.c ****     }
 373              		.loc 1 3218 75 is_stmt 1 view .LVU108
3221:rtos/uC-FS/Source/fs_file.c **** 
 374              		.loc 1 3221 5 view .LVU109
 375 0020 FFF7FEFF 		bl	FS_OS_Unlock
 376              	.LVL22:
3226:rtos/uC-FS/Source/fs_file.c ****         if (p_vol != (FS_VOL *)0) {
 377              		.loc 1 3226 5 view .LVU110
3226:rtos/uC-FS/Source/fs_file.c ****         if (p_vol != (FS_VOL *)0) {
 378              		.loc 1 3226 8 is_stmt 0 view .LVU111
 379 0024 012D     		cmp	r5, #1
 380 0026 06D0     		beq	.L29
 381              	.LVL23:
 382              	.L21:
3231:rtos/uC-FS/Source/fs_file.c **** 
 383              		.loc 1 3231 1 view .LVU112
 384 0028 02B0     		add	sp, sp, #8
 385              	.LCFI12:
 386              		.cfi_remember_state
 387              		.cfi_def_cfa_offset 16
 388              		@ sp needed
 389 002a 70BD     		pop	{r4, r5, r6, pc}
 390              	.LVL24:
 391              	.L28:
 392              	.LCFI13:
 393              		.cfi_restore_state
3213:rtos/uC-FS/Source/fs_file.c ****         FSFile_ObjFree(p_file);
 394              		.loc 1 3213 9 is_stmt 1 view .LVU113
3213:rtos/uC-FS/Source/fs_file.c ****         FSFile_ObjFree(p_file);
 395              		.loc 1 3213 15 is_stmt 0 view .LVU114
 396 002c E66B     		ldr	r6, [r4, #60]
 397              	.LVL25:
3214:rtos/uC-FS/Source/fs_file.c ****     } else if (ref_cnt > 0u) {
 398              		.loc 1 3214 9 is_stmt 1 view .LVU115
 399 002e 2046     		mov	r0, r4
 400 0030 FFF7FEFF 		bl	FSFile_ObjFree
 401              	.LVL26:
 402 0034 F4E7     		b	.L25
 403              	.L29:
3227:rtos/uC-FS/Source/fs_file.c ****             FSVol_Release(p_vol);                               /* Release vol (see Note #1).      
ARM GAS  /tmp/cccHCpmH.s 			page 70


 404              		.loc 1 3227 9 view .LVU116
3227:rtos/uC-FS/Source/fs_file.c ****             FSVol_Release(p_vol);                               /* Release vol (see Note #1).      
 405              		.loc 1 3227 12 is_stmt 0 view .LVU117
 406 0036 002E     		cmp	r6, #0
 407 0038 F6D0     		beq	.L21
3228:rtos/uC-FS/Source/fs_file.c ****         }
 408              		.loc 1 3228 13 is_stmt 1 view .LVU118
 409 003a 3046     		mov	r0, r6
 410 003c FFF7FEFF 		bl	FSVol_Release
 411              	.LVL27:
 412 0040 F2E7     		b	.L21
 413              		.cfi_endproc
 414              	.LFE24:
 416              		.section	.text.FSFile_ReleaseUnlock,"ax",%progbits
 417              		.align	1
 418              		.syntax unified
 419              		.thumb
 420              		.thumb_func
 421              		.fpu fpv4-sp-d16
 423              	FSFile_ReleaseUnlock:
 424              	.LVL28:
 425              	.LFB23:
3172:rtos/uC-FS/Source/fs_file.c ****     FSFile_Unlock(p_file);
 426              		.loc 1 3172 1 view -0
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 0
 429              		@ frame_needed = 0, uses_anonymous_args = 0
3172:rtos/uC-FS/Source/fs_file.c ****     FSFile_Unlock(p_file);
 430              		.loc 1 3172 1 is_stmt 0 view .LVU120
 431 0000 10B5     		push	{r4, lr}
 432              	.LCFI14:
 433              		.cfi_def_cfa_offset 8
 434              		.cfi_offset 4, -8
 435              		.cfi_offset 14, -4
 436 0002 0446     		mov	r4, r0
3173:rtos/uC-FS/Source/fs_file.c ****     FSFile_Release(p_file);
 437              		.loc 1 3173 5 is_stmt 1 view .LVU121
 438 0004 FFF7FEFF 		bl	FSFile_Unlock
 439              	.LVL29:
3174:rtos/uC-FS/Source/fs_file.c **** }
 440              		.loc 1 3174 5 view .LVU122
 441 0008 2046     		mov	r0, r4
 442 000a FFF7FEFF 		bl	FSFile_Release
 443              	.LVL30:
3175:rtos/uC-FS/Source/fs_file.c **** 
 444              		.loc 1 3175 1 is_stmt 0 view .LVU123
 445 000e 10BD     		pop	{r4, pc}
3175:rtos/uC-FS/Source/fs_file.c **** 
 446              		.loc 1 3175 1 view .LVU124
 447              		.cfi_endproc
 448              	.LFE23:
 450              		.section	.text.FSFile_AcquireLockChk,"ax",%progbits
 451              		.align	1
 452              		.syntax unified
 453              		.thumb
 454              		.thumb_func
 455              		.fpu fpv4-sp-d16
ARM GAS  /tmp/cccHCpmH.s 			page 71


 457              	FSFile_AcquireLockChk:
 458              	.LVL31:
 459              	.LFB21:
3074:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  lock_success;
 460              		.loc 1 3074 1 is_stmt 1 view -0
 461              		.cfi_startproc
 462              		@ args = 0, pretend = 0, frame = 0
 463              		@ frame_needed = 0, uses_anonymous_args = 0
3074:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  lock_success;
 464              		.loc 1 3074 1 is_stmt 0 view .LVU126
 465 0000 38B5     		push	{r3, r4, r5, lr}
 466              	.LCFI15:
 467              		.cfi_def_cfa_offset 16
 468              		.cfi_offset 3, -16
 469              		.cfi_offset 4, -12
 470              		.cfi_offset 5, -8
 471              		.cfi_offset 14, -4
 472 0002 0D46     		mov	r5, r1
3075:rtos/uC-FS/Source/fs_file.c **** 
 473              		.loc 1 3075 5 is_stmt 1 view .LVU127
3079:rtos/uC-FS/Source/fs_file.c **** 
 474              		.loc 1 3079 5 view .LVU128
3079:rtos/uC-FS/Source/fs_file.c **** 
 475              		.loc 1 3079 14 is_stmt 0 view .LVU129
 476 0004 FFF7FEFF 		bl	FSFile_Acquire
 477              	.LVL32:
3081:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NOT_OPEN;
 478              		.loc 1 3081 5 is_stmt 1 view .LVU130
3081:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NOT_OPEN;
 479              		.loc 1 3081 8 is_stmt 0 view .LVU131
 480 0008 0446     		mov	r4, r0
 481 000a 50B1     		cbz	r0, .L38
3086:rtos/uC-FS/Source/fs_file.c ****     if (lock_success != DEF_YES) {
 482              		.loc 1 3086 5 is_stmt 1 view .LVU132
3086:rtos/uC-FS/Source/fs_file.c ****     if (lock_success != DEF_YES) {
 483              		.loc 1 3086 20 is_stmt 0 view .LVU133
 484 000c FFF7FEFF 		bl	FSFile_Lock
 485              	.LVL33:
3087:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_OS_LOCK;
 486              		.loc 1 3087 5 is_stmt 1 view .LVU134
3087:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_OS_LOCK;
 487              		.loc 1 3087 8 is_stmt 0 view .LVU135
 488 0010 0128     		cmp	r0, #1
 489 0012 0AD1     		bne	.L39
3094:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_STATE_OPEN:
 490              		.loc 1 3094 5 is_stmt 1 view .LVU136
3094:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_STATE_OPEN:
 491              		.loc 1 3094 19 is_stmt 0 view .LVU137
 492 0014 A388     		ldrh	r3, [r4, #4]
3094:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_STATE_OPEN:
 493              		.loc 1 3094 5 view .LVU138
 494 0016 032B     		cmp	r3, #3
 495 0018 0CD1     		bne	.L36
3096:rtos/uC-FS/Source/fs_file.c ****              return (p_file);
 496              		.loc 1 3096 13 is_stmt 1 view .LVU139
3096:rtos/uC-FS/Source/fs_file.c ****              return (p_file);
 497              		.loc 1 3096 20 is_stmt 0 view .LVU140
ARM GAS  /tmp/cccHCpmH.s 			page 72


 498 001a 0023     		movs	r3, #0
 499 001c 2B80     		strh	r3, [r5]	@ movhi
3097:rtos/uC-FS/Source/fs_file.c **** 
 500              		.loc 1 3097 14 is_stmt 1 view .LVU141
 501              	.LVL34:
 502              	.L32:
3108:rtos/uC-FS/Source/fs_file.c **** 
 503              		.loc 1 3108 1 is_stmt 0 view .LVU142
 504 001e 2046     		mov	r0, r4
 505 0020 38BD     		pop	{r3, r4, r5, pc}
 506              	.LVL35:
 507              	.L38:
3082:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 508              		.loc 1 3082 8 is_stmt 1 view .LVU143
3082:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 509              		.loc 1 3082 15 is_stmt 0 view .LVU144
 510 0022 40F23233 		movw	r3, #818
 511 0026 2B80     		strh	r3, [r5]	@ movhi
3083:rtos/uC-FS/Source/fs_file.c ****     }
 512              		.loc 1 3083 9 is_stmt 1 view .LVU145
3083:rtos/uC-FS/Source/fs_file.c ****     }
 513              		.loc 1 3083 16 is_stmt 0 view .LVU146
 514 0028 F9E7     		b	.L32
 515              	.LVL36:
 516              	.L39:
3088:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 517              		.loc 1 3088 8 is_stmt 1 view .LVU147
3088:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 518              		.loc 1 3088 15 is_stmt 0 view .LVU148
 519 002a 40F2DD53 		movw	r3, #1501
 520 002e 2B80     		strh	r3, [r5]	@ movhi
3089:rtos/uC-FS/Source/fs_file.c ****     }
 521              		.loc 1 3089 9 is_stmt 1 view .LVU149
3089:rtos/uC-FS/Source/fs_file.c ****     }
 522              		.loc 1 3089 16 is_stmt 0 view .LVU150
 523 0030 0024     		movs	r4, #0
 524              	.LVL37:
3089:rtos/uC-FS/Source/fs_file.c ****     }
 525              		.loc 1 3089 16 view .LVU151
 526 0032 F4E7     		b	.L32
 527              	.LVL38:
 528              	.L36:
3104:rtos/uC-FS/Source/fs_file.c ****              FSFile_ReleaseUnlock(p_file);
 529              		.loc 1 3104 13 is_stmt 1 view .LVU152
3104:rtos/uC-FS/Source/fs_file.c ****              FSFile_ReleaseUnlock(p_file);
 530              		.loc 1 3104 20 is_stmt 0 view .LVU153
 531 0034 40F23233 		movw	r3, #818
 532 0038 2B80     		strh	r3, [r5]	@ movhi
3105:rtos/uC-FS/Source/fs_file.c ****              return ((FS_FILE *)0);
 533              		.loc 1 3105 14 is_stmt 1 view .LVU154
 534 003a 2046     		mov	r0, r4
 535              	.LVL39:
3105:rtos/uC-FS/Source/fs_file.c ****              return ((FS_FILE *)0);
 536              		.loc 1 3105 14 is_stmt 0 view .LVU155
 537 003c FFF7FEFF 		bl	FSFile_ReleaseUnlock
 538              	.LVL40:
3106:rtos/uC-FS/Source/fs_file.c ****     }
ARM GAS  /tmp/cccHCpmH.s 			page 73


 539              		.loc 1 3106 14 is_stmt 1 view .LVU156
3106:rtos/uC-FS/Source/fs_file.c ****     }
 540              		.loc 1 3106 21 is_stmt 0 view .LVU157
 541 0040 0024     		movs	r4, #0
 542              	.LVL41:
3106:rtos/uC-FS/Source/fs_file.c ****     }
 543              		.loc 1 3106 21 view .LVU158
 544 0042 ECE7     		b	.L32
 545              		.cfi_endproc
 546              	.LFE21:
 548              		.section	.text.FSFile_BufEmpty,"ax",%progbits
 549              		.align	1
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 553              		.fpu fpv4-sp-d16
 555              	FSFile_BufEmpty:
 556              	.LVL42:
 557              	.LFB18:
2723:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos_offset;
 558              		.loc 1 2723 1 is_stmt 1 view -0
 559              		.cfi_startproc
 560              		@ args = 0, pretend = 0, frame = 0
 561              		@ frame_needed = 0, uses_anonymous_args = 0
2723:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos_offset;
 562              		.loc 1 2723 1 is_stmt 0 view .LVU160
 563 0000 38B5     		push	{r3, r4, r5, lr}
 564              	.LCFI16:
 565              		.cfi_def_cfa_offset 16
 566              		.cfi_offset 3, -16
 567              		.cfi_offset 4, -12
 568              		.cfi_offset 5, -8
 569              		.cfi_offset 14, -4
 570 0002 0446     		mov	r4, r0
 571 0004 0D46     		mov	r5, r1
2724:rtos/uC-FS/Source/fs_file.c **** 
 572              		.loc 1 2724 5 is_stmt 1 view .LVU161
2727:rtos/uC-FS/Source/fs_file.c **** 
 573              		.loc 1 2727 5 view .LVU162
2727:rtos/uC-FS/Source/fs_file.c **** 
 574              		.loc 1 2727 12 is_stmt 0 view .LVU163
 575 0006 0023     		movs	r3, #0
 576 0008 0B80     		strh	r3, [r1]	@ movhi
2730:rtos/uC-FS/Source/fs_file.c ****        (void)FSSys_FileWr(p_file,
 577              		.loc 1 2730 5 is_stmt 1 view .LVU164
2730:rtos/uC-FS/Source/fs_file.c ****        (void)FSSys_FileWr(p_file,
 578              		.loc 1 2730 15 is_stmt 0 view .LVU165
 579 000a 038E     		ldrh	r3, [r0, #48]
2730:rtos/uC-FS/Source/fs_file.c ****        (void)FSSys_FileWr(p_file,
 580              		.loc 1 2730 8 view .LVU166
 581 000c 052B     		cmp	r3, #5
 582 000e 07D0     		beq	.L46
 583              	.LVL43:
 584              	.L41:
2746:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Calc pos offset (see Note #1) ..
 585              		.loc 1 2746 5 is_stmt 1 view .LVU167
2746:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Calc pos offset (see Note #1) ..
ARM GAS  /tmp/cccHCpmH.s 			page 74


 586              		.loc 1 2746 15 is_stmt 0 view .LVU168
 587 0010 238E     		ldrh	r3, [r4, #48]
2746:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Calc pos offset (see Note #1) ..
 588              		.loc 1 2746 8 view .LVU169
 589 0012 042B     		cmp	r3, #4
 590 0014 13D0     		beq	.L47
 591              	.L42:
2762:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 592              		.loc 1 2762 5 is_stmt 1 view .LVU170
2762:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 593              		.loc 1 2762 9 is_stmt 0 view .LVU171
 594 0016 2B88     		ldrh	r3, [r5]
2762:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 595              		.loc 1 2762 8 view .LVU172
 596 0018 0BB1     		cbz	r3, .L40
2763:rtos/uC-FS/Source/fs_file.c ****     }
 597              		.loc 1 2763 9 is_stmt 1 view .LVU173
2763:rtos/uC-FS/Source/fs_file.c ****     }
 598              		.loc 1 2763 25 is_stmt 0 view .LVU174
 599 001a 0123     		movs	r3, #1
 600 001c 2375     		strb	r3, [r4, #20]
 601              	.L40:
2765:rtos/uC-FS/Source/fs_file.c **** #endif
 602              		.loc 1 2765 1 view .LVU175
 603 001e 38BD     		pop	{r3, r4, r5, pc}
 604              	.LVL44:
 605              	.L46:
2731:rtos/uC-FS/Source/fs_file.c ****                           p_file->BufPtr,
 606              		.loc 1 2731 8 is_stmt 1 view .LVU176
2731:rtos/uC-FS/Source/fs_file.c ****                           p_file->BufPtr,
 607              		.loc 1 2731 14 is_stmt 0 view .LVU177
 608 0020 0B46     		mov	r3, r1
 609 0022 426A     		ldr	r2, [r0, #36]
 610 0024 416B     		ldr	r1, [r0, #52]
 611              	.LVL45:
2731:rtos/uC-FS/Source/fs_file.c ****                           p_file->BufPtr,
 612              		.loc 1 2731 14 view .LVU178
 613 0026 FFF7FEFF 		bl	FSSys_FileWr
 614              	.LVL46:
2736:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
 615              		.loc 1 2736 9 is_stmt 1 view .LVU179
2736:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
 616              		.loc 1 2736 27 is_stmt 0 view .LVU180
 617 002a 0023     		movs	r3, #0
 618 002c 2362     		str	r3, [r4, #32]
2737:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
 619              		.loc 1 2737 9 is_stmt 1 view .LVU181
2737:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
 620              		.loc 1 2737 27 is_stmt 0 view .LVU182
 621 002e 6362     		str	r3, [r4, #36]
2738:rtos/uC-FS/Source/fs_file.c **** 
 622              		.loc 1 2738 9 is_stmt 1 view .LVU183
2738:rtos/uC-FS/Source/fs_file.c **** 
 623              		.loc 1 2738 27 is_stmt 0 view .LVU184
 624 0030 0323     		movs	r3, #3
 625 0032 2386     		strh	r3, [r4, #48]	@ movhi
2741:rtos/uC-FS/Source/fs_file.c **** #endif
ARM GAS  /tmp/cccHCpmH.s 			page 75


 626              		.loc 1 2741 9 is_stmt 1 view .LVU185
 627 0034 A16A     		ldr	r1, [r4, #40]
 628 0036 606B     		ldr	r0, [r4, #52]
 629 0038 FFF7FEFF 		bl	Mem_Clr
 630              	.LVL47:
 631 003c E8E7     		b	.L41
 632              	.L47:
2748:rtos/uC-FS/Source/fs_file.c ****         if (pos_offset != 0u) {
 633              		.loc 1 2748 9 view .LVU186
2748:rtos/uC-FS/Source/fs_file.c ****         if (pos_offset != 0u) {
 634              		.loc 1 2748 20 is_stmt 0 view .LVU187
 635 003e 636A     		ldr	r3, [r4, #36]
 636              	.LVL48:
2749:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Pos, p_err);       /* ... correct file pos.           
 637              		.loc 1 2749 9 is_stmt 1 view .LVU188
2749:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Pos, p_err);       /* ... correct file pos.           
 638              		.loc 1 2749 12 is_stmt 0 view .LVU189
 639 0040 4BB9     		cbnz	r3, .L48
 640              	.LVL49:
 641              	.L43:
2753:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
 642              		.loc 1 2753 9 is_stmt 1 view .LVU190
2753:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
 643              		.loc 1 2753 27 is_stmt 0 view .LVU191
 644 0042 0023     		movs	r3, #0
 645 0044 2362     		str	r3, [r4, #32]
2754:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
 646              		.loc 1 2754 9 is_stmt 1 view .LVU192
2754:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
 647              		.loc 1 2754 27 is_stmt 0 view .LVU193
 648 0046 6362     		str	r3, [r4, #36]
2755:rtos/uC-FS/Source/fs_file.c **** 
 649              		.loc 1 2755 9 is_stmt 1 view .LVU194
2755:rtos/uC-FS/Source/fs_file.c **** 
 650              		.loc 1 2755 27 is_stmt 0 view .LVU195
 651 0048 0323     		movs	r3, #3
 652 004a 2386     		strh	r3, [r4, #48]	@ movhi
2758:rtos/uC-FS/Source/fs_file.c **** #endif
 653              		.loc 1 2758 9 is_stmt 1 view .LVU196
 654 004c A16A     		ldr	r1, [r4, #40]
 655 004e 606B     		ldr	r0, [r4, #52]
 656 0050 FFF7FEFF 		bl	Mem_Clr
 657              	.LVL50:
 658 0054 DFE7     		b	.L42
 659              	.LVL51:
 660              	.L48:
2750:rtos/uC-FS/Source/fs_file.c ****         }
 661              		.loc 1 2750 13 view .LVU197
 662 0056 2A46     		mov	r2, r5
 663 0058 E169     		ldr	r1, [r4, #28]
 664 005a 2046     		mov	r0, r4
 665 005c FFF7FEFF 		bl	FSSys_FilePosSet
 666              	.LVL52:
2750:rtos/uC-FS/Source/fs_file.c ****         }
 667              		.loc 1 2750 13 is_stmt 0 view .LVU198
 668 0060 EFE7     		b	.L43
 669              		.cfi_endproc
ARM GAS  /tmp/cccHCpmH.s 			page 76


 670              	.LFE18:
 672              		.section	.text.FSFile_NameParseChk,"ax",%progbits
 673              		.align	1
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 677              		.fpu fpv4-sp-d16
 679              	FSFile_NameParseChk:
 680              	.LVL53:
 681              	.LFB30:
3479:rtos/uC-FS/Source/fs_file.c **** 
3480:rtos/uC-FS/Source/fs_file.c **** 
3481:rtos/uC-FS/Source/fs_file.c **** /*
3482:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3483:rtos/uC-FS/Source/fs_file.c **** *                                           FSFile_ObjGet()
3484:rtos/uC-FS/Source/fs_file.c **** *
3485:rtos/uC-FS/Source/fs_file.c **** * Description : Allocate a file object.
3486:rtos/uC-FS/Source/fs_file.c **** *
3487:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : p_err       Pointer to variable that will receive the return error code from this f
3488:rtos/uC-FS/Source/fs_file.c **** *               -----       Argument validated by caller.
3489:rtos/uC-FS/Source/fs_file.c **** *
3490:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NONE                     File object successfully returned.
3491:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NULL_PTR                 FSFile_Pool is a NULL pointer.
3492:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_POOL_EMPTY               NO blocks available in pool.
3493:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_POOL_INVALID_BLK_IX      Invalid pool block index.
3494:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_POOL_INVALID_BLK_ADDR    Block not found in used pool pointe
3495:rtos/uC-FS/Source/fs_file.c **** *
3496:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Pointer to a file, if NO errors.
3497:rtos/uC-FS/Source/fs_file.c **** *               Pointer to NULL,   otherwise.
3498:rtos/uC-FS/Source/fs_file.c **** *
3499:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) The function caller MUST hold the file system lock.
3500:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3501:rtos/uC-FS/Source/fs_file.c **** */
3502:rtos/uC-FS/Source/fs_file.c **** 
3503:rtos/uC-FS/Source/fs_file.c **** static  FS_FILE  *FSFile_ObjGet (FS_ERR *p_err)
3504:rtos/uC-FS/Source/fs_file.c **** {
3505:rtos/uC-FS/Source/fs_file.c ****     FS_FILE  *p_file;
3506:rtos/uC-FS/Source/fs_file.c ****     LIB_ERR   pool_err;
3507:rtos/uC-FS/Source/fs_file.c ****     FS_QTY    file_ix;
3508:rtos/uC-FS/Source/fs_file.c **** 
3509:rtos/uC-FS/Source/fs_file.c **** 
3510:rtos/uC-FS/Source/fs_file.c **** 
3511:rtos/uC-FS/Source/fs_file.c ****     for (file_ix = 0u; file_ix < FSFile_FileCntMax; file_ix++) {
3512:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
3513:rtos/uC-FS/Source/fs_file.c ****             break;
3514:rtos/uC-FS/Source/fs_file.c ****         }
3515:rtos/uC-FS/Source/fs_file.c ****     }
3516:rtos/uC-FS/Source/fs_file.c ****     if (file_ix >= FSFile_FileCntMax) {
3517:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjGet(): Could not alloc file from pool. Opened file limit reached.
3518:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_MEM_ALLOC;
3519:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
3520:rtos/uC-FS/Source/fs_file.c ****     }
3521:rtos/uC-FS/Source/fs_file.c **** 
3522:rtos/uC-FS/Source/fs_file.c ****     p_file = (FS_FILE *)Mem_PoolBlkGet(&FSFile_Pool,
3523:rtos/uC-FS/Source/fs_file.c ****                                         sizeof(FS_FILE),
3524:rtos/uC-FS/Source/fs_file.c ****                                        &pool_err);
3525:rtos/uC-FS/Source/fs_file.c ****     if (pool_err != LIB_MEM_ERR_NONE) {
ARM GAS  /tmp/cccHCpmH.s 			page 77


3526:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjGet(): Could not alloc file from pool. Opened file limit reached.
3527:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_MEM_ALLOC;
3528:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
3529:rtos/uC-FS/Source/fs_file.c ****     }
3530:rtos/uC-FS/Source/fs_file.c **** 
3531:rtos/uC-FS/Source/fs_file.c ****     FSFile_Tbl[file_ix] = p_file;
3532:rtos/uC-FS/Source/fs_file.c **** 
3533:rtos/uC-FS/Source/fs_file.c ****     FSFile_Cnt++;
3534:rtos/uC-FS/Source/fs_file.c **** 
3535:rtos/uC-FS/Source/fs_file.c ****     FSFile_ObjClr(p_file);
3536:rtos/uC-FS/Source/fs_file.c **** 
3537:rtos/uC-FS/Source/fs_file.c ****     p_file->ID = file_ix;
3538:rtos/uC-FS/Source/fs_file.c **** 
3539:rtos/uC-FS/Source/fs_file.c ****     return (p_file);
3540:rtos/uC-FS/Source/fs_file.c **** }
3541:rtos/uC-FS/Source/fs_file.c **** 
3542:rtos/uC-FS/Source/fs_file.c **** 
3543:rtos/uC-FS/Source/fs_file.c **** /*
3544:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3545:rtos/uC-FS/Source/fs_file.c **** *                                        FSFile_NameParseChk()
3546:rtos/uC-FS/Source/fs_file.c **** *
3547:rtos/uC-FS/Source/fs_file.c **** * Description : Parse full file name & get volume pointer & pointer to entry name.
3548:rtos/uC-FS/Source/fs_file.c **** *
3549:rtos/uC-FS/Source/fs_file.c **** * Argument(s) : name_full   Name of the entry.
3550:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3551:rtos/uC-FS/Source/fs_file.c **** *
3552:rtos/uC-FS/Source/fs_file.c **** *               pp_vol      Pointer to volume pointer which will hold pointer to volume.
3553:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3554:rtos/uC-FS/Source/fs_file.c **** *
3555:rtos/uC-FS/Source/fs_file.c **** *               p_err       Pointer to variable that will receive the return error code from this f
3556:rtos/uC-FS/Source/fs_file.c **** *               ----------  Argument validated by caller.
3557:rtos/uC-FS/Source/fs_file.c **** *
3558:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_INVALID          Entry name could not be parsed, lacks 
3559:rtos/uC-FS/Source/fs_file.c **** *                                                                initial path separator character o
3560:rtos/uC-FS/Source/fs_file.c **** *                                                                includes an invalid volume name.
3561:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_NAME_PATH_TOO_LONG    Entry name is too long.
3562:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_VOL_NOT_OPEN          Volume not opened.
3563:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_VOL_NOT_MOUNTED       Volume not mounted.
3564:rtos/uC-FS/Source/fs_file.c **** *                               FS_ERR_OS_LOCK               OS Lock NOT acquired.
3565:rtos/uC-FS/Source/fs_file.c **** *
3566:rtos/uC-FS/Source/fs_file.c **** * Return(s)   : Pointer to start of entry name.
3567:rtos/uC-FS/Source/fs_file.c **** *
3568:rtos/uC-FS/Source/fs_file.c **** * Note(s)     : (1) If the volume name could not be parsed, the volume does not exist or no file na
3569:rtos/uC-FS/Source/fs_file.c **** *                   is specified, then NULL pointers are returned for BOTH the file name & the volu
3570:rtos/uC-FS/Source/fs_file.c **** *                   Otherwise, both the file name & volume should be valid pointers.
3571:rtos/uC-FS/Source/fs_file.c **** *
3572:rtos/uC-FS/Source/fs_file.c **** *               (2) The volume reference is released in 'FSFile_Release()' after the final referenc
3573:rtos/uC-FS/Source/fs_file.c **** *                   the file has been released.
3574:rtos/uC-FS/Source/fs_file.c **** ***************************************************************************************************
3575:rtos/uC-FS/Source/fs_file.c **** */
3576:rtos/uC-FS/Source/fs_file.c **** 
3577:rtos/uC-FS/Source/fs_file.c **** static  CPU_CHAR  *FSFile_NameParseChk (CPU_CHAR   *name_full,
3578:rtos/uC-FS/Source/fs_file.c ****                                         FS_VOL    **pp_vol,
3579:rtos/uC-FS/Source/fs_file.c ****                                         FS_ERR     *p_err)
3580:rtos/uC-FS/Source/fs_file.c **** {
 682              		.loc 1 3580 1 is_stmt 1 view -0
 683              		.cfi_startproc
ARM GAS  /tmp/cccHCpmH.s 			page 78


 684              		@ args = 0, pretend = 0, frame = 16
 685              		@ frame_needed = 0, uses_anonymous_args = 0
 686              		.loc 1 3580 1 is_stmt 0 view .LVU200
 687 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 688              	.LCFI17:
 689              		.cfi_def_cfa_offset 20
 690              		.cfi_offset 4, -20
 691              		.cfi_offset 5, -16
 692              		.cfi_offset 6, -12
 693              		.cfi_offset 7, -8
 694              		.cfi_offset 14, -4
 695 0002 85B0     		sub	sp, sp, #20
 696              	.LCFI18:
 697              		.cfi_def_cfa_offset 40
 698 0004 0F46     		mov	r7, r1
 699 0006 1646     		mov	r6, r2
3581:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   name_entry_len;
 700              		.loc 1 3581 5 is_stmt 1 view .LVU201
3582:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   file_name_len;
 701              		.loc 1 3582 5 view .LVU202
3583:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR    *name_entry;
 702              		.loc 1 3583 5 view .LVU203
3584:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR    *file_name;
 703              		.loc 1 3584 5 view .LVU204
3585:rtos/uC-FS/Source/fs_file.c ****     FS_VOL      *p_vol_temp;
 704              		.loc 1 3585 5 view .LVU205
3586:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR     name_vol_temp[FS_CFG_MAX_VOL_NAME_LEN + 1u];
 705              		.loc 1 3586 5 view .LVU206
3587:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  vol_lock_ok;
 706              		.loc 1 3587 5 view .LVU207
3588:rtos/uC-FS/Source/fs_file.c **** 
3589:rtos/uC-FS/Source/fs_file.c **** 
3590:rtos/uC-FS/Source/fs_file.c ****    *pp_vol     = (FS_VOL *)0;
 707              		.loc 1 3590 4 view .LVU208
 708              		.loc 1 3590 16 is_stmt 0 view .LVU209
 709 0008 0023     		movs	r3, #0
 710 000a 0B60     		str	r3, [r1]
3591:rtos/uC-FS/Source/fs_file.c ****     name_entry =  FS_PathParse(name_full,
 711              		.loc 1 3591 5 is_stmt 1 view .LVU210
 712              		.loc 1 3591 19 is_stmt 0 view .LVU211
 713 000c 01A9     		add	r1, sp, #4
 714              	.LVL54:
 715              		.loc 1 3591 19 view .LVU212
 716 000e FFF7FEFF 		bl	FS_PathParse
 717              	.LVL55:
3592:rtos/uC-FS/Source/fs_file.c ****                                name_vol_temp,
3593:rtos/uC-FS/Source/fs_file.c ****                                p_err);
3594:rtos/uC-FS/Source/fs_file.c **** 
3595:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 718              		.loc 1 3595 5 is_stmt 1 view .LVU213
 719              		.loc 1 3595 9 is_stmt 0 view .LVU214
 720 0012 3388     		ldrh	r3, [r6]
 721              		.loc 1 3595 8 view .LVU215
 722 0014 002B     		cmp	r3, #0
 723 0016 6ED1     		bne	.L64
 724 0018 0446     		mov	r4, r0
3596:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
ARM GAS  /tmp/cccHCpmH.s 			page 79


3597:rtos/uC-FS/Source/fs_file.c ****     }
3598:rtos/uC-FS/Source/fs_file.c **** 
3599:rtos/uC-FS/Source/fs_file.c ****     if (name_entry == (CPU_CHAR *)0) {                          /* If name could not be parsed ... 
 725              		.loc 1 3599 5 is_stmt 1 view .LVU216
 726              		.loc 1 3599 8 is_stmt 0 view .LVU217
 727 001a 90B3     		cbz	r0, .L66
3600:rtos/uC-FS/Source/fs_file.c ****        *p_err =  FS_ERR_NAME_INVALID;
3601:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);                                 /* ... rtn NULL vol & file name.   
3602:rtos/uC-FS/Source/fs_file.c ****     }
3603:rtos/uC-FS/Source/fs_file.c **** 
3604:rtos/uC-FS/Source/fs_file.c ****     if (*name_entry != FS_CHAR_PATH_SEP) {                      /* Require init path sep char.     
 728              		.loc 1 3604 5 is_stmt 1 view .LVU218
 729              		.loc 1 3604 9 is_stmt 0 view .LVU219
 730 001c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 731              		.loc 1 3604 8 view .LVU220
 732 001e 5C2B     		cmp	r3, #92
 733 0020 33D1     		bne	.L67
3605:rtos/uC-FS/Source/fs_file.c ****         *p_err =  FS_ERR_NAME_INVALID;
3606:rtos/uC-FS/Source/fs_file.c ****          return ((CPU_CHAR *)0);
3607:rtos/uC-FS/Source/fs_file.c ****     }
3608:rtos/uC-FS/Source/fs_file.c ****     name_entry++;                                               /* Ignore  init path sep char.     
 734              		.loc 1 3608 5 is_stmt 1 view .LVU221
 735              		.loc 1 3608 15 is_stmt 0 view .LVU222
 736 0022 0134     		adds	r4, r4, #1
 737              	.LVL56:
3609:rtos/uC-FS/Source/fs_file.c **** 
3610:rtos/uC-FS/Source/fs_file.c ****     name_entry_len = Str_Len_N(name_entry, FS_CFG_MAX_PATH_NAME_LEN + 1u);
 738              		.loc 1 3610 5 is_stmt 1 view .LVU223
 739              		.loc 1 3610 22 is_stmt 0 view .LVU224
 740 0024 40F20511 		movw	r1, #261
 741 0028 2046     		mov	r0, r4
 742 002a FFF7FEFF 		bl	Str_Len_N
 743              	.LVL57:
 744 002e 0546     		mov	r5, r0
 745              	.LVL58:
3611:rtos/uC-FS/Source/fs_file.c ****     if (name_entry_len > FS_CFG_MAX_PATH_NAME_LEN) {            /* Rtn err if path name is too long
 746              		.loc 1 3611 5 is_stmt 1 view .LVU225
 747              		.loc 1 3611 8 is_stmt 0 view .LVU226
 748 0030 B0F5827F 		cmp	r0, #260
 749 0034 30D8     		bhi	.L68
3612:rtos/uC-FS/Source/fs_file.c ****        *p_err =  FS_ERR_NAME_PATH_TOO_LONG;
3613:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
3614:rtos/uC-FS/Source/fs_file.c ****     }
3615:rtos/uC-FS/Source/fs_file.c **** 
3616:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Parse name to evaluate length of
3617:rtos/uC-FS/Source/fs_file.c ****     file_name     = Str_Char_Last_N(name_entry, FS_CFG_MAX_PATH_NAME_LEN,      (CPU_CHAR)ASCII_CHAR
 750              		.loc 1 3617 5 is_stmt 1 view .LVU227
 751              		.loc 1 3617 21 is_stmt 0 view .LVU228
 752 0036 5C22     		movs	r2, #92
 753 0038 4FF48271 		mov	r1, #260
 754 003c 2046     		mov	r0, r4
 755              	.LVL59:
 756              		.loc 1 3617 21 view .LVU229
 757 003e FFF7FEFF 		bl	Str_Char_Last_N
 758              	.LVL60:
3618:rtos/uC-FS/Source/fs_file.c ****     file_name_len = Str_Len_N(      file_name,  FS_CFG_MAX_FILE_NAME_LEN + 1u);
 759              		.loc 1 3618 5 is_stmt 1 view .LVU230
ARM GAS  /tmp/cccHCpmH.s 			page 80


 760              		.loc 1 3618 21 is_stmt 0 view .LVU231
 761 0042 4FF48071 		mov	r1, #256
 762 0046 FFF7FEFF 		bl	Str_Len_N
 763              	.LVL61:
3619:rtos/uC-FS/Source/fs_file.c ****     if (file_name_len == 0u) {
 764              		.loc 1 3619 5 is_stmt 1 view .LVU232
 765              		.loc 1 3619 8 is_stmt 0 view .LVU233
 766 004a 00B1     		cbz	r0, .L54
3618:rtos/uC-FS/Source/fs_file.c ****     file_name_len = Str_Len_N(      file_name,  FS_CFG_MAX_FILE_NAME_LEN + 1u);
 767              		.loc 1 3618 21 view .LVU234
 768 004c 0546     		mov	r5, r0
 769              	.LVL62:
 770              	.L54:
3620:rtos/uC-FS/Source/fs_file.c ****         file_name_len = name_entry_len;
3621:rtos/uC-FS/Source/fs_file.c ****     }
3622:rtos/uC-FS/Source/fs_file.c **** 
3623:rtos/uC-FS/Source/fs_file.c ****     if (file_name_len > FS_CFG_MAX_FILE_NAME_LEN) {
 771              		.loc 1 3623 5 is_stmt 1 view .LVU235
 772              		.loc 1 3623 8 is_stmt 0 view .LVU236
 773 004e FF2D     		cmp	r5, #255
 774 0050 27D8     		bhi	.L69
3624:rtos/uC-FS/Source/fs_file.c ****         *p_err = FS_ERR_NAME_BASE_TOO_LONG;                     /* Rtn err if base name is too long
3625:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
3626:rtos/uC-FS/Source/fs_file.c ****     }
3627:rtos/uC-FS/Source/fs_file.c **** 
3628:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Acquire ref to vol (see Note #2)
3629:rtos/uC-FS/Source/fs_file.c ****     p_vol_temp = (name_vol_temp[0] == (CPU_CHAR)ASCII_CHAR_NULL) ? FSVol_AcquireDflt()
 775              		.loc 1 3629 5 is_stmt 1 view .LVU237
 776              		.loc 1 3629 32 is_stmt 0 view .LVU238
 777 0052 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
3630:rtos/uC-FS/Source/fs_file.c ****                                                                  : FSVol_Acquire(name_vol_temp, p_e
 778              		.loc 1 3630 66 view .LVU239
 779 0056 4BBB     		cbnz	r3, .L56
3629:rtos/uC-FS/Source/fs_file.c ****                                                                  : FSVol_Acquire(name_vol_temp, p_e
 780              		.loc 1 3629 68 view .LVU240
 781 0058 FFF7FEFF 		bl	FSVol_AcquireDflt
 782              	.LVL63:
 783 005c 0546     		mov	r5, r0
 784              	.LVL64:
 785              	.L57:
3631:rtos/uC-FS/Source/fs_file.c **** 
3632:rtos/uC-FS/Source/fs_file.c ****     if (p_vol_temp == (FS_VOL *)0) {                            /* Rtn err if vol not found.       
 786              		.loc 1 3632 5 is_stmt 1 discriminator 1 view .LVU241
 787              		.loc 1 3632 8 is_stmt 0 discriminator 1 view .LVU242
 788 005e 5DB3     		cbz	r5, .L70
3633:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_VOL_NOT_OPEN;
3634:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
3635:rtos/uC-FS/Source/fs_file.c ****     }
3636:rtos/uC-FS/Source/fs_file.c **** 
3637:rtos/uC-FS/Source/fs_file.c ****     vol_lock_ok = FSVol_Lock(p_vol_temp);                       /* Lock vol.                       
 789              		.loc 1 3637 5 is_stmt 1 view .LVU243
 790              		.loc 1 3637 19 is_stmt 0 view .LVU244
 791 0060 2846     		mov	r0, r5
 792 0062 FFF7FEFF 		bl	FSVol_Lock
 793              	.LVL65:
3638:rtos/uC-FS/Source/fs_file.c ****     if (vol_lock_ok == DEF_NO) {
 794              		.loc 1 3638 5 is_stmt 1 view .LVU245
ARM GAS  /tmp/cccHCpmH.s 			page 81


 795              		.loc 1 3638 8 is_stmt 0 view .LVU246
 796 0066 60B3     		cbz	r0, .L71
3639:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_OS_LOCK;
3640:rtos/uC-FS/Source/fs_file.c ****         FSVol_Release(p_vol_temp);
3641:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
3642:rtos/uC-FS/Source/fs_file.c ****     }
3643:rtos/uC-FS/Source/fs_file.c **** 
3644:rtos/uC-FS/Source/fs_file.c ****     (void)FSVol_RefreshLocked(p_vol_temp, p_err);               /* Refresh vol.                    
 797              		.loc 1 3644 5 is_stmt 1 view .LVU247
 798              		.loc 1 3644 11 is_stmt 0 view .LVU248
 799 0068 3146     		mov	r1, r6
 800 006a 2846     		mov	r0, r5
 801              	.LVL66:
 802              		.loc 1 3644 11 view .LVU249
 803 006c FFF7FEFF 		bl	FSVol_RefreshLocked
 804              	.LVL67:
3645:rtos/uC-FS/Source/fs_file.c **** 
3646:rtos/uC-FS/Source/fs_file.c ****     switch (p_vol_temp->State) {
 805              		.loc 1 3646 5 is_stmt 1 view .LVU250
 806              		.loc 1 3646 23 is_stmt 0 view .LVU251
 807 0070 2B88     		ldrh	r3, [r5]
 808              		.loc 1 3646 5 view .LVU252
 809 0072 042B     		cmp	r3, #4
 810 0074 2DD9     		bls	.L72
 811 0076 052B     		cmp	r3, #5
 812 0078 2DD1     		bne	.L62
3647:rtos/uC-FS/Source/fs_file.c ****         case FS_VOL_STATE_OPEN:                                 /* Rtn err if vol is not mounted.  
3648:rtos/uC-FS/Source/fs_file.c ****         case FS_VOL_STATE_PRESENT:
3649:rtos/uC-FS/Source/fs_file.c ****             *p_err = FS_ERR_VOL_NOT_MOUNTED;
3650:rtos/uC-FS/Source/fs_file.c ****              FSVol_ReleaseUnlock(p_vol_temp);
3651:rtos/uC-FS/Source/fs_file.c ****              return ((CPU_CHAR *)0);
3652:rtos/uC-FS/Source/fs_file.c **** 
3653:rtos/uC-FS/Source/fs_file.c **** 
3654:rtos/uC-FS/Source/fs_file.c ****         case FS_VOL_STATE_MOUNTED:
3655:rtos/uC-FS/Source/fs_file.c ****              break;
 813              		.loc 1 3655 14 is_stmt 1 view .LVU253
3656:rtos/uC-FS/Source/fs_file.c **** 
3657:rtos/uC-FS/Source/fs_file.c **** 
3658:rtos/uC-FS/Source/fs_file.c ****         case FS_VOL_STATE_CLOSED:
3659:rtos/uC-FS/Source/fs_file.c ****         case FS_VOL_STATE_CLOSING:
3660:rtos/uC-FS/Source/fs_file.c ****         case FS_VOL_STATE_OPENING:                              /* Rtn err if vol is not open.     
3661:rtos/uC-FS/Source/fs_file.c ****         default:
3662:rtos/uC-FS/Source/fs_file.c ****             *p_err = FS_ERR_VOL_NOT_OPEN;
3663:rtos/uC-FS/Source/fs_file.c ****              FSVol_ReleaseUnlock(p_vol_temp);
3664:rtos/uC-FS/Source/fs_file.c ****              return ((CPU_CHAR *)0);
3665:rtos/uC-FS/Source/fs_file.c ****     }
3666:rtos/uC-FS/Source/fs_file.c **** 
3667:rtos/uC-FS/Source/fs_file.c ****    *pp_vol = p_vol_temp;
 814              		.loc 1 3667 4 view .LVU254
 815              		.loc 1 3667 12 is_stmt 0 view .LVU255
 816 007a 3D60     		str	r5, [r7]
3668:rtos/uC-FS/Source/fs_file.c ****    *p_err  = FS_ERR_NONE;
 817              		.loc 1 3668 4 is_stmt 1 view .LVU256
 818              		.loc 1 3668 12 is_stmt 0 view .LVU257
 819 007c 0023     		movs	r3, #0
 820 007e 3380     		strh	r3, [r6]	@ movhi
3669:rtos/uC-FS/Source/fs_file.c ****     return (name_entry);
ARM GAS  /tmp/cccHCpmH.s 			page 82


 821              		.loc 1 3669 5 is_stmt 1 view .LVU258
 822              		.loc 1 3669 12 is_stmt 0 view .LVU259
 823 0080 07E0     		b	.L49
 824              	.LVL68:
 825              	.L66:
3600:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);                                 /* ... rtn NULL vol & file name.   
 826              		.loc 1 3600 8 is_stmt 1 view .LVU260
3600:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);                                 /* ... rtn NULL vol & file name.   
 827              		.loc 1 3600 15 is_stmt 0 view .LVU261
 828 0082 40F28733 		movw	r3, #903
 829 0086 3380     		strh	r3, [r6]	@ movhi
3601:rtos/uC-FS/Source/fs_file.c ****     }
 830              		.loc 1 3601 9 is_stmt 1 view .LVU262
3601:rtos/uC-FS/Source/fs_file.c ****     }
 831              		.loc 1 3601 16 is_stmt 0 view .LVU263
 832 0088 03E0     		b	.L49
 833              	.L67:
3605:rtos/uC-FS/Source/fs_file.c ****          return ((CPU_CHAR *)0);
 834              		.loc 1 3605 9 is_stmt 1 view .LVU264
3605:rtos/uC-FS/Source/fs_file.c ****          return ((CPU_CHAR *)0);
 835              		.loc 1 3605 16 is_stmt 0 view .LVU265
 836 008a 40F28733 		movw	r3, #903
 837 008e 3380     		strh	r3, [r6]	@ movhi
3606:rtos/uC-FS/Source/fs_file.c ****     }
 838              		.loc 1 3606 10 is_stmt 1 view .LVU266
3606:rtos/uC-FS/Source/fs_file.c ****     }
 839              		.loc 1 3606 17 is_stmt 0 view .LVU267
 840 0090 0024     		movs	r4, #0
 841              	.LVL69:
 842              	.L49:
3670:rtos/uC-FS/Source/fs_file.c **** }
 843              		.loc 1 3670 1 view .LVU268
 844 0092 2046     		mov	r0, r4
 845 0094 05B0     		add	sp, sp, #20
 846              	.LCFI19:
 847              		.cfi_remember_state
 848              		.cfi_def_cfa_offset 20
 849              		@ sp needed
 850 0096 F0BD     		pop	{r4, r5, r6, r7, pc}
 851              	.LVL70:
 852              	.L68:
 853              	.LCFI20:
 854              		.cfi_restore_state
3612:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
 855              		.loc 1 3612 8 is_stmt 1 view .LVU269
3612:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
 856              		.loc 1 3612 15 is_stmt 0 view .LVU270
 857 0098 40F28A33 		movw	r3, #906
 858 009c 3380     		strh	r3, [r6]	@ movhi
3613:rtos/uC-FS/Source/fs_file.c ****     }
 859              		.loc 1 3613 9 is_stmt 1 view .LVU271
3613:rtos/uC-FS/Source/fs_file.c ****     }
 860              		.loc 1 3613 16 is_stmt 0 view .LVU272
 861 009e 0024     		movs	r4, #0
 862              	.LVL71:
3613:rtos/uC-FS/Source/fs_file.c ****     }
 863              		.loc 1 3613 16 view .LVU273
ARM GAS  /tmp/cccHCpmH.s 			page 83


 864 00a0 F7E7     		b	.L49
 865              	.LVL72:
 866              	.L69:
3624:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
 867              		.loc 1 3624 9 is_stmt 1 view .LVU274
3624:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
 868              		.loc 1 3624 16 is_stmt 0 view .LVU275
 869 00a2 4FF46173 		mov	r3, #900
 870 00a6 3380     		strh	r3, [r6]	@ movhi
3625:rtos/uC-FS/Source/fs_file.c ****     }
 871              		.loc 1 3625 9 is_stmt 1 view .LVU276
3625:rtos/uC-FS/Source/fs_file.c ****     }
 872              		.loc 1 3625 16 is_stmt 0 view .LVU277
 873 00a8 0024     		movs	r4, #0
 874              	.LVL73:
3625:rtos/uC-FS/Source/fs_file.c ****     }
 875              		.loc 1 3625 16 view .LVU278
 876 00aa F2E7     		b	.L49
 877              	.LVL74:
 878              	.L56:
3630:rtos/uC-FS/Source/fs_file.c **** 
 879              		.loc 1 3630 68 discriminator 1 view .LVU279
 880 00ac 3146     		mov	r1, r6
 881 00ae 01A8     		add	r0, sp, #4
 882 00b0 FFF7FEFF 		bl	FSVol_Acquire
 883              	.LVL75:
 884 00b4 0546     		mov	r5, r0
 885              	.LVL76:
3630:rtos/uC-FS/Source/fs_file.c **** 
 886              		.loc 1 3630 68 discriminator 1 view .LVU280
 887 00b6 D2E7     		b	.L57
 888              	.LVL77:
 889              	.L70:
3633:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
 890              		.loc 1 3633 8 is_stmt 1 view .LVU281
3633:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
 891              		.loc 1 3633 15 is_stmt 0 view .LVU282
 892 00b8 40F28553 		movw	r3, #1413
 893 00bc 3380     		strh	r3, [r6]	@ movhi
3634:rtos/uC-FS/Source/fs_file.c ****     }
 894              		.loc 1 3634 9 is_stmt 1 view .LVU283
3634:rtos/uC-FS/Source/fs_file.c ****     }
 895              		.loc 1 3634 16 is_stmt 0 view .LVU284
 896 00be 2C46     		mov	r4, r5
 897              	.LVL78:
3634:rtos/uC-FS/Source/fs_file.c ****     }
 898              		.loc 1 3634 16 view .LVU285
 899 00c0 E7E7     		b	.L49
 900              	.LVL79:
 901              	.L71:
3639:rtos/uC-FS/Source/fs_file.c ****         FSVol_Release(p_vol_temp);
 902              		.loc 1 3639 8 is_stmt 1 view .LVU286
3639:rtos/uC-FS/Source/fs_file.c ****         FSVol_Release(p_vol_temp);
 903              		.loc 1 3639 15 is_stmt 0 view .LVU287
 904 00c2 40F2DD53 		movw	r3, #1501
 905 00c6 3380     		strh	r3, [r6]	@ movhi
3640:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
ARM GAS  /tmp/cccHCpmH.s 			page 84


 906              		.loc 1 3640 9 is_stmt 1 view .LVU288
 907 00c8 2846     		mov	r0, r5
 908              	.LVL80:
3640:rtos/uC-FS/Source/fs_file.c ****         return ((CPU_CHAR *)0);
 909              		.loc 1 3640 9 is_stmt 0 view .LVU289
 910 00ca FFF7FEFF 		bl	FSVol_Release
 911              	.LVL81:
3641:rtos/uC-FS/Source/fs_file.c ****     }
 912              		.loc 1 3641 9 is_stmt 1 view .LVU290
3641:rtos/uC-FS/Source/fs_file.c ****     }
 913              		.loc 1 3641 16 is_stmt 0 view .LVU291
 914 00ce 0024     		movs	r4, #0
 915              	.LVL82:
3641:rtos/uC-FS/Source/fs_file.c ****     }
 916              		.loc 1 3641 16 view .LVU292
 917 00d0 DFE7     		b	.L49
 918              	.LVL83:
 919              	.L72:
3646:rtos/uC-FS/Source/fs_file.c ****         case FS_VOL_STATE_OPEN:                                 /* Rtn err if vol is not mounted.  
 920              		.loc 1 3646 5 view .LVU293
 921 00d2 032B     		cmp	r3, #3
 922 00d4 07D2     		bcs	.L73
 923              	.L62:
3662:rtos/uC-FS/Source/fs_file.c ****              FSVol_ReleaseUnlock(p_vol_temp);
 924              		.loc 1 3662 13 is_stmt 1 view .LVU294
3662:rtos/uC-FS/Source/fs_file.c ****              FSVol_ReleaseUnlock(p_vol_temp);
 925              		.loc 1 3662 20 is_stmt 0 view .LVU295
 926 00d6 40F28553 		movw	r3, #1413
 927 00da 3380     		strh	r3, [r6]	@ movhi
3663:rtos/uC-FS/Source/fs_file.c ****              return ((CPU_CHAR *)0);
 928              		.loc 1 3663 14 is_stmt 1 view .LVU296
 929 00dc 2846     		mov	r0, r5
 930 00de FFF7FEFF 		bl	FSVol_ReleaseUnlock
 931              	.LVL84:
3664:rtos/uC-FS/Source/fs_file.c ****     }
 932              		.loc 1 3664 14 view .LVU297
3664:rtos/uC-FS/Source/fs_file.c ****     }
 933              		.loc 1 3664 21 is_stmt 0 view .LVU298
 934 00e2 0024     		movs	r4, #0
 935              	.LVL85:
3664:rtos/uC-FS/Source/fs_file.c ****     }
 936              		.loc 1 3664 21 view .LVU299
 937 00e4 D5E7     		b	.L49
 938              	.LVL86:
 939              	.L73:
3649:rtos/uC-FS/Source/fs_file.c ****              FSVol_ReleaseUnlock(p_vol_temp);
 940              		.loc 1 3649 13 is_stmt 1 view .LVU300
3649:rtos/uC-FS/Source/fs_file.c ****              FSVol_ReleaseUnlock(p_vol_temp);
 941              		.loc 1 3649 20 is_stmt 0 view .LVU301
 942 00e6 40F28653 		movw	r3, #1414
 943 00ea 3380     		strh	r3, [r6]	@ movhi
3650:rtos/uC-FS/Source/fs_file.c ****              return ((CPU_CHAR *)0);
 944              		.loc 1 3650 14 is_stmt 1 view .LVU302
 945 00ec 2846     		mov	r0, r5
 946 00ee FFF7FEFF 		bl	FSVol_ReleaseUnlock
 947              	.LVL87:
3651:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 85


 948              		.loc 1 3651 14 view .LVU303
3651:rtos/uC-FS/Source/fs_file.c **** 
 949              		.loc 1 3651 21 is_stmt 0 view .LVU304
 950 00f2 0024     		movs	r4, #0
 951              	.LVL88:
3651:rtos/uC-FS/Source/fs_file.c **** 
 952              		.loc 1 3651 21 view .LVU305
 953 00f4 CDE7     		b	.L49
 954              	.LVL89:
 955              	.L64:
3596:rtos/uC-FS/Source/fs_file.c ****     }
 956              		.loc 1 3596 16 view .LVU306
 957 00f6 0024     		movs	r4, #0
 958 00f8 CBE7     		b	.L49
 959              		.cfi_endproc
 960              	.LFE30:
 962              		.section	.text.FSFile_ObjGet,"ax",%progbits
 963              		.align	1
 964              		.syntax unified
 965              		.thumb
 966              		.thumb_func
 967              		.fpu fpv4-sp-d16
 969              	FSFile_ObjGet:
 970              	.LVL90:
 971              	.LFB29:
3504:rtos/uC-FS/Source/fs_file.c ****     FS_FILE  *p_file;
 972              		.loc 1 3504 1 is_stmt 1 view -0
 973              		.cfi_startproc
 974              		@ args = 0, pretend = 0, frame = 8
 975              		@ frame_needed = 0, uses_anonymous_args = 0
3504:rtos/uC-FS/Source/fs_file.c ****     FS_FILE  *p_file;
 976              		.loc 1 3504 1 is_stmt 0 view .LVU308
 977 0000 70B5     		push	{r4, r5, r6, lr}
 978              	.LCFI21:
 979              		.cfi_def_cfa_offset 16
 980              		.cfi_offset 4, -16
 981              		.cfi_offset 5, -12
 982              		.cfi_offset 6, -8
 983              		.cfi_offset 14, -4
 984 0002 82B0     		sub	sp, sp, #8
 985              	.LCFI22:
 986              		.cfi_def_cfa_offset 24
 987 0004 0546     		mov	r5, r0
3505:rtos/uC-FS/Source/fs_file.c ****     LIB_ERR   pool_err;
 988              		.loc 1 3505 5 is_stmt 1 view .LVU309
3506:rtos/uC-FS/Source/fs_file.c ****     FS_QTY    file_ix;
 989              		.loc 1 3506 5 view .LVU310
3507:rtos/uC-FS/Source/fs_file.c **** 
 990              		.loc 1 3507 5 view .LVU311
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 991              		.loc 1 3511 5 view .LVU312
 992              	.LVL91:
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 993              		.loc 1 3511 18 is_stmt 0 view .LVU313
 994 0006 0024     		movs	r4, #0
 995              	.LVL92:
 996              	.L75:
ARM GAS  /tmp/cccHCpmH.s 			page 86


3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 997              		.loc 1 3511 24 is_stmt 1 discriminator 1 view .LVU314
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 998              		.loc 1 3511 32 is_stmt 0 discriminator 1 view .LVU315
 999 0008 184B     		ldr	r3, .L84
 1000 000a 1B88     		ldrh	r3, [r3]
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 1001              		.loc 1 3511 5 discriminator 1 view .LVU316
 1002 000c A342     		cmp	r3, r4
 1003 000e 07D9     		bls	.L76
3512:rtos/uC-FS/Source/fs_file.c ****             break;
 1004              		.loc 1 3512 9 is_stmt 1 view .LVU317
3512:rtos/uC-FS/Source/fs_file.c ****             break;
 1005              		.loc 1 3512 23 is_stmt 0 view .LVU318
 1006 0010 174A     		ldr	r2, .L84+4
 1007 0012 1268     		ldr	r2, [r2]
 1008 0014 52F82420 		ldr	r2, [r2, r4, lsl #2]
3512:rtos/uC-FS/Source/fs_file.c ****             break;
 1009              		.loc 1 3512 12 view .LVU319
 1010 0018 12B1     		cbz	r2, .L76
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 1011              		.loc 1 3511 53 is_stmt 1 discriminator 2 view .LVU320
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 1012              		.loc 1 3511 60 is_stmt 0 discriminator 2 view .LVU321
 1013 001a 0134     		adds	r4, r4, #1
 1014              	.LVL93:
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 1015              		.loc 1 3511 60 discriminator 2 view .LVU322
 1016 001c A4B2     		uxth	r4, r4
 1017              	.LVL94:
3511:rtos/uC-FS/Source/fs_file.c ****         if (FSFile_Tbl[file_ix] == DEF_NULL) {
 1018              		.loc 1 3511 60 discriminator 2 view .LVU323
 1019 001e F3E7     		b	.L75
 1020              	.L76:
3516:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjGet(): Could not alloc file from pool. Opened file limit reached.
 1021              		.loc 1 3516 5 is_stmt 1 view .LVU324
3516:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjGet(): Could not alloc file from pool. Opened file limit reached.
 1022              		.loc 1 3516 8 is_stmt 0 view .LVU325
 1023 0020 A342     		cmp	r3, r4
 1024 0022 1AD9     		bls	.L82
3522:rtos/uC-FS/Source/fs_file.c ****                                         sizeof(FS_FILE),
 1025              		.loc 1 3522 5 is_stmt 1 view .LVU326
3522:rtos/uC-FS/Source/fs_file.c ****                                         sizeof(FS_FILE),
 1026              		.loc 1 3522 25 is_stmt 0 view .LVU327
 1027 0024 0DF10602 		add	r2, sp, #6
 1028 0028 4421     		movs	r1, #68
 1029 002a 1248     		ldr	r0, .L84+8
 1030              	.LVL95:
3522:rtos/uC-FS/Source/fs_file.c ****                                         sizeof(FS_FILE),
 1031              		.loc 1 3522 25 view .LVU328
 1032 002c FFF7FEFF 		bl	Mem_PoolBlkGet
 1033              	.LVL96:
 1034 0030 0646     		mov	r6, r0
 1035              	.LVL97:
3525:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjGet(): Could not alloc file from pool. Opened file limit reached.
 1036              		.loc 1 3525 5 is_stmt 1 view .LVU329
3525:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjGet(): Could not alloc file from pool. Opened file limit reached.
ARM GAS  /tmp/cccHCpmH.s 			page 87


 1037              		.loc 1 3525 18 is_stmt 0 view .LVU330
 1038 0032 BDF80620 		ldrh	r2, [sp, #6]
3525:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ObjGet(): Could not alloc file from pool. Opened file limit reached.
 1039              		.loc 1 3525 8 view .LVU331
 1040 0036 42F21073 		movw	r3, #10000
 1041 003a 9A42     		cmp	r2, r3
 1042 003c 11D1     		bne	.L83
3531:rtos/uC-FS/Source/fs_file.c **** 
 1043              		.loc 1 3531 5 is_stmt 1 view .LVU332
3531:rtos/uC-FS/Source/fs_file.c **** 
 1044              		.loc 1 3531 15 is_stmt 0 view .LVU333
 1045 003e 0C4B     		ldr	r3, .L84+4
 1046 0040 1B68     		ldr	r3, [r3]
3531:rtos/uC-FS/Source/fs_file.c **** 
 1047              		.loc 1 3531 25 view .LVU334
 1048 0042 43F82400 		str	r0, [r3, r4, lsl #2]
3533:rtos/uC-FS/Source/fs_file.c **** 
 1049              		.loc 1 3533 5 is_stmt 1 view .LVU335
3533:rtos/uC-FS/Source/fs_file.c **** 
 1050              		.loc 1 3533 15 is_stmt 0 view .LVU336
 1051 0046 0C4A     		ldr	r2, .L84+12
 1052 0048 1388     		ldrh	r3, [r2]
 1053 004a 0133     		adds	r3, r3, #1
 1054 004c 1380     		strh	r3, [r2]	@ movhi
3535:rtos/uC-FS/Source/fs_file.c **** 
 1055              		.loc 1 3535 5 is_stmt 1 view .LVU337
 1056 004e FFF7FEFF 		bl	FSFile_ObjClr
 1057              	.LVL98:
3537:rtos/uC-FS/Source/fs_file.c **** 
 1058              		.loc 1 3537 5 view .LVU338
3537:rtos/uC-FS/Source/fs_file.c **** 
 1059              		.loc 1 3537 16 is_stmt 0 view .LVU339
 1060 0052 3460     		str	r4, [r6]
3539:rtos/uC-FS/Source/fs_file.c **** }
 1061              		.loc 1 3539 5 is_stmt 1 view .LVU340
 1062              	.LVL99:
 1063              	.L74:
3540:rtos/uC-FS/Source/fs_file.c **** 
 1064              		.loc 1 3540 1 is_stmt 0 view .LVU341
 1065 0054 3046     		mov	r0, r6
 1066 0056 02B0     		add	sp, sp, #8
 1067              	.LCFI23:
 1068              		.cfi_remember_state
 1069              		.cfi_def_cfa_offset 16
 1070              		@ sp needed
 1071 0058 70BD     		pop	{r4, r5, r6, pc}
 1072              	.LVL100:
 1073              	.L82:
 1074              	.LCFI24:
 1075              		.cfi_restore_state
3517:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_MEM_ALLOC;
 1076              		.loc 1 3517 107 is_stmt 1 view .LVU342
3518:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 1077              		.loc 1 3518 8 view .LVU343
3518:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 1078              		.loc 1 3518 15 is_stmt 0 view .LVU344
 1079 005a 1123     		movs	r3, #17
ARM GAS  /tmp/cccHCpmH.s 			page 88


 1080 005c 2B80     		strh	r3, [r5]	@ movhi
3519:rtos/uC-FS/Source/fs_file.c ****     }
 1081              		.loc 1 3519 9 is_stmt 1 view .LVU345
3519:rtos/uC-FS/Source/fs_file.c ****     }
 1082              		.loc 1 3519 16 is_stmt 0 view .LVU346
 1083 005e 0026     		movs	r6, #0
 1084 0060 F8E7     		b	.L74
 1085              	.LVL101:
 1086              	.L83:
3526:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_MEM_ALLOC;
 1087              		.loc 1 3526 107 is_stmt 1 view .LVU347
3527:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 1088              		.loc 1 3527 8 view .LVU348
3527:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 1089              		.loc 1 3527 15 is_stmt 0 view .LVU349
 1090 0062 1123     		movs	r3, #17
 1091 0064 2B80     		strh	r3, [r5]	@ movhi
3528:rtos/uC-FS/Source/fs_file.c ****     }
 1092              		.loc 1 3528 9 is_stmt 1 view .LVU350
3528:rtos/uC-FS/Source/fs_file.c ****     }
 1093              		.loc 1 3528 16 is_stmt 0 view .LVU351
 1094 0066 0026     		movs	r6, #0
 1095 0068 F4E7     		b	.L74
 1096              	.L85:
 1097 006a 00BF     		.align	2
 1098              	.L84:
 1099 006c 00000000 		.word	.LANCHOR3
 1100 0070 00000000 		.word	.LANCHOR0
 1101 0074 00000000 		.word	.LANCHOR1
 1102 0078 00000000 		.word	.LANCHOR2
 1103              		.cfi_endproc
 1104              	.LFE29:
 1106              		.section	.text.FSFile_BufRd,"ax",%progbits
 1107              		.align	1
 1108              		.syntax unified
 1109              		.thumb
 1110              		.thumb_func
 1111              		.fpu fpv4-sp-d16
 1113              	FSFile_BufRd:
 1114              	.LVL102:
 1115              	.LFB19:
2812:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   buf_pos;
 1116              		.loc 1 2812 1 is_stmt 1 view -0
 1117              		.cfi_startproc
 1118              		@ args = 0, pretend = 0, frame = 0
 1119              		@ frame_needed = 0, uses_anonymous_args = 0
2812:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   buf_pos;
 1120              		.loc 1 2812 1 is_stmt 0 view .LVU353
 1121 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1122              	.LCFI25:
 1123              		.cfi_def_cfa_offset 32
 1124              		.cfi_offset 4, -32
 1125              		.cfi_offset 5, -28
 1126              		.cfi_offset 6, -24
 1127              		.cfi_offset 7, -20
 1128              		.cfi_offset 8, -16
 1129              		.cfi_offset 9, -12
ARM GAS  /tmp/cccHCpmH.s 			page 89


 1130              		.cfi_offset 10, -8
 1131              		.cfi_offset 14, -4
 1132 0004 0446     		mov	r4, r0
 1133 0006 0F46     		mov	r7, r1
 1134 0008 1646     		mov	r6, r2
 1135 000a 1D46     		mov	r5, r3
2813:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   buf_rem;
 1136              		.loc 1 2813 5 is_stmt 1 view .LVU354
2814:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   size_rd;
 1137              		.loc 1 2814 5 view .LVU355
2815:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T   size_rem;
 1138              		.loc 1 2815 5 view .LVU356
2816:rtos/uC-FS/Source/fs_file.c ****     CPU_INT08U  *p_src;
 1139              		.loc 1 2816 5 view .LVU357
2817:rtos/uC-FS/Source/fs_file.c **** 
 1140              		.loc 1 2817 5 view .LVU358
2821:rtos/uC-FS/Source/fs_file.c **** 
 1141              		.loc 1 2821 4 view .LVU359
2821:rtos/uC-FS/Source/fs_file.c **** 
 1142              		.loc 1 2821 11 is_stmt 0 view .LVU360
 1143 000c 6423     		movs	r3, #100
 1144              	.LVL103:
2821:rtos/uC-FS/Source/fs_file.c **** 
 1145              		.loc 1 2821 11 view .LVU361
 1146 000e 2B80     		strh	r3, [r5]	@ movhi
2824:rtos/uC-FS/Source/fs_file.c **** 
 1147              		.loc 1 2824 5 is_stmt 1 view .LVU362
 1148              	.LVL104:
2826:rtos/uC-FS/Source/fs_file.c ****         buf_pos      = (CPU_SIZE_T)(p_file->Pos - p_file->BufStart);
 1149              		.loc 1 2826 5 view .LVU363
2826:rtos/uC-FS/Source/fs_file.c ****         buf_pos      = (CPU_SIZE_T)(p_file->Pos - p_file->BufStart);
 1150              		.loc 1 2826 15 is_stmt 0 view .LVU364
 1151 0010 038E     		ldrh	r3, [r0, #48]
2826:rtos/uC-FS/Source/fs_file.c ****         buf_pos      = (CPU_SIZE_T)(p_file->Pos - p_file->BufStart);
 1152              		.loc 1 2826 8 view .LVU365
 1153 0012 042B     		cmp	r3, #4
 1154 0014 0CD0     		beq	.L98
2824:rtos/uC-FS/Source/fs_file.c **** 
 1155              		.loc 1 2824 14 view .LVU366
 1156 0016 9046     		mov	r8, r2
 1157              	.LVL105:
 1158              	.L87:
2853:rtos/uC-FS/Source/fs_file.c ****         if (size_rem >= p_file->BufSize) {                      /* ------------ RD FROM FILE INTO U
 1159              		.loc 1 2853 5 is_stmt 1 view .LVU367
2853:rtos/uC-FS/Source/fs_file.c ****         if (size_rem >= p_file->BufSize) {                      /* ------------ RD FROM FILE INTO U
 1160              		.loc 1 2853 15 is_stmt 0 view .LVU368
 1161 0018 238E     		ldrh	r3, [r4, #48]
2853:rtos/uC-FS/Source/fs_file.c ****         if (size_rem >= p_file->BufSize) {                      /* ------------ RD FROM FILE INTO U
 1162              		.loc 1 2853 8 view .LVU369
 1163 001a 032B     		cmp	r3, #3
 1164 001c 2CD0     		beq	.L99
 1165              	.L90:
2897:rtos/uC-FS/Source/fs_file.c ****          if (size_rem > 0u) {                                   /* If less data rd than rem ...    
 1166              		.loc 1 2897 5 is_stmt 1 view .LVU370
2897:rtos/uC-FS/Source/fs_file.c ****          if (size_rem > 0u) {                                   /* If less data rd than rem ...    
 1167              		.loc 1 2897 9 is_stmt 0 view .LVU371
 1168 001e 2B88     		ldrh	r3, [r5]
ARM GAS  /tmp/cccHCpmH.s 			page 90


2897:rtos/uC-FS/Source/fs_file.c ****          if (size_rem > 0u) {                                   /* If less data rd than rem ...    
 1169              		.loc 1 2897 8 view .LVU372
 1170 0020 002B     		cmp	r3, #0
 1171 0022 62D1     		bne	.L93
2898:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagEOF = DEF_YES;                          /* ... file at EOF.                
 1172              		.loc 1 2898 10 is_stmt 1 view .LVU373
2898:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagEOF = DEF_YES;                          /* ... file at EOF.                
 1173              		.loc 1 2898 13 is_stmt 0 view .LVU374
 1174 0024 B8F1000F 		cmp	r8, #0
 1175 0028 5BD0     		beq	.L94
2899:rtos/uC-FS/Source/fs_file.c **** 
 1176              		.loc 1 2899 13 is_stmt 1 view .LVU375
2899:rtos/uC-FS/Source/fs_file.c **** 
 1177              		.loc 1 2899 29 is_stmt 0 view .LVU376
 1178 002a 0123     		movs	r3, #1
 1179 002c 6375     		strb	r3, [r4, #21]
 1180 002e 60E0     		b	.L95
 1181              	.LVL106:
 1182              	.L98:
2827:rtos/uC-FS/Source/fs_file.c **** 
 1183              		.loc 1 2827 9 is_stmt 1 view .LVU377
2827:rtos/uC-FS/Source/fs_file.c **** 
 1184              		.loc 1 2827 43 is_stmt 0 view .LVU378
 1185 0030 C269     		ldr	r2, [r0, #28]
 1186              	.LVL107:
2827:rtos/uC-FS/Source/fs_file.c **** 
 1187              		.loc 1 2827 57 view .LVU379
 1188 0032 036A     		ldr	r3, [r0, #32]
2827:rtos/uC-FS/Source/fs_file.c **** 
 1189              		.loc 1 2827 22 view .LVU380
 1190 0034 D11A     		subs	r1, r2, r3
 1191              	.LVL108:
2829:rtos/uC-FS/Source/fs_file.c ****         size_rd      =  DEF_MIN(buf_rem, size_rem);             /*                        ... calc 
 1192              		.loc 1 2829 9 is_stmt 1 view .LVU381
2829:rtos/uC-FS/Source/fs_file.c ****         size_rd      =  DEF_MIN(buf_rem, size_rem);             /*                        ... calc 
 1193              		.loc 1 2829 31 is_stmt 0 view .LVU382
 1194 0036 406A     		ldr	r0, [r0, #36]
 1195              	.LVL109:
2829:rtos/uC-FS/Source/fs_file.c ****         size_rd      =  DEF_MIN(buf_rem, size_rem);             /*                        ... calc 
 1196              		.loc 1 2829 22 view .LVU383
 1197 0038 A3EB0209 		sub	r9, r3, r2
 1198 003c 8144     		add	r9, r9, r0
 1199              	.LVL110:
2830:rtos/uC-FS/Source/fs_file.c ****         p_src        = (CPU_INT08U *)p_file->BufPtr + buf_pos;
 1200              		.loc 1 2830 9 is_stmt 1 view .LVU384
2830:rtos/uC-FS/Source/fs_file.c ****         p_src        = (CPU_INT08U *)p_file->BufPtr + buf_pos;
 1201              		.loc 1 2830 22 is_stmt 0 view .LVU385
 1202 003e B246     		mov	r10, r6
 1203 0040 4E45     		cmp	r6, r9
 1204 0042 28BF     		it	cs
 1205 0044 CA46     		movcs	r10, r9
 1206              	.LVL111:
2831:rtos/uC-FS/Source/fs_file.c ****         Mem_Copy(p_dest, (void *)p_src, size_rd);               /* Copy from file buf to user buf. 
 1207              		.loc 1 2831 9 is_stmt 1 view .LVU386
2831:rtos/uC-FS/Source/fs_file.c ****         Mem_Copy(p_dest, (void *)p_src, size_rd);               /* Copy from file buf to user buf. 
 1208              		.loc 1 2831 44 is_stmt 0 view .LVU387
 1209 0046 636B     		ldr	r3, [r4, #52]
ARM GAS  /tmp/cccHCpmH.s 			page 91


 1210              	.LVL112:
2832:rtos/uC-FS/Source/fs_file.c **** 
 1211              		.loc 1 2832 9 is_stmt 1 view .LVU388
 1212 0048 5246     		mov	r2, r10
 1213 004a 1944     		add	r1, r1, r3
 1214              	.LVL113:
2832:rtos/uC-FS/Source/fs_file.c **** 
 1215              		.loc 1 2832 9 is_stmt 0 view .LVU389
 1216 004c 3846     		mov	r0, r7
 1217 004e FFF7FEFF 		bl	Mem_Copy
 1218              	.LVL114:
2834:rtos/uC-FS/Source/fs_file.c ****         size_rem    -=  size_rd;                                /*              ... adj rd rem ... 
 1219              		.loc 1 2834 9 is_stmt 1 view .LVU390
2834:rtos/uC-FS/Source/fs_file.c ****         size_rem    -=  size_rd;                                /*              ... adj rd rem ... 
 1220              		.loc 1 2834 21 is_stmt 0 view .LVU391
 1221 0052 E369     		ldr	r3, [r4, #28]
 1222 0054 5344     		add	r3, r3, r10
 1223 0056 E361     		str	r3, [r4, #28]
2835:rtos/uC-FS/Source/fs_file.c ****         p_dest       = (CPU_INT08U *)p_dest + size_rd;          /*                             ... 
 1224              		.loc 1 2835 9 is_stmt 1 view .LVU392
2835:rtos/uC-FS/Source/fs_file.c ****         p_dest       = (CPU_INT08U *)p_dest + size_rd;          /*                             ... 
 1225              		.loc 1 2835 21 is_stmt 0 view .LVU393
 1226 0058 A6EB0A08 		sub	r8, r6, r10
 1227              	.LVL115:
2836:rtos/uC-FS/Source/fs_file.c **** 
 1228              		.loc 1 2836 9 is_stmt 1 view .LVU394
2836:rtos/uC-FS/Source/fs_file.c **** 
 1229              		.loc 1 2836 22 is_stmt 0 view .LVU395
 1230 005c 5744     		add	r7, r7, r10
 1231              	.LVL116:
2838:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStart  = 0u;
 1232              		.loc 1 2838 9 is_stmt 1 view .LVU396
2838:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStart  = 0u;
 1233              		.loc 1 2838 12 is_stmt 0 view .LVU397
 1234 005e 4E45     		cmp	r6, r9
 1235 0060 07D3     		bcc	.L88
2839:rtos/uC-FS/Source/fs_file.c ****             p_file->BufMaxPos = 0u;
 1236              		.loc 1 2839 13 is_stmt 1 view .LVU398
2839:rtos/uC-FS/Source/fs_file.c ****             p_file->BufMaxPos = 0u;
 1237              		.loc 1 2839 31 is_stmt 0 view .LVU399
 1238 0062 0023     		movs	r3, #0
 1239 0064 2362     		str	r3, [r4, #32]
2840:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;       /* ... buf is now empty.           
 1240              		.loc 1 2840 13 is_stmt 1 view .LVU400
2840:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;       /* ... buf is now empty.           
 1241              		.loc 1 2840 31 is_stmt 0 view .LVU401
 1242 0066 6362     		str	r3, [r4, #36]
2841:rtos/uC-FS/Source/fs_file.c **** 
 1243              		.loc 1 2841 13 is_stmt 1 view .LVU402
2841:rtos/uC-FS/Source/fs_file.c **** 
 1244              		.loc 1 2841 31 is_stmt 0 view .LVU403
 1245 0068 0323     		movs	r3, #3
 1246 006a 2386     		strh	r3, [r4, #48]	@ movhi
 1247              	.L89:
2847:rtos/uC-FS/Source/fs_file.c ****     }
 1248              		.loc 1 2847 8 is_stmt 1 view .LVU404
2847:rtos/uC-FS/Source/fs_file.c ****     }
ARM GAS  /tmp/cccHCpmH.s 			page 92


 1249              		.loc 1 2847 15 is_stmt 0 view .LVU405
 1250 006c 0023     		movs	r3, #0
 1251 006e 2B80     		strh	r3, [r5]	@ movhi
 1252 0070 D2E7     		b	.L87
 1253              	.L88:
2844:rtos/uC-FS/Source/fs_file.c ****         }
 1254              		.loc 1 2844 13 is_stmt 1 view .LVU406
2844:rtos/uC-FS/Source/fs_file.c ****         }
 1255              		.loc 1 2844 31 is_stmt 0 view .LVU407
 1256 0072 0423     		movs	r3, #4
 1257 0074 2386     		strh	r3, [r4, #48]	@ movhi
 1258 0076 F9E7     		b	.L89
 1259              	.LVL117:
 1260              	.L99:
2854:rtos/uC-FS/Source/fs_file.c ****             size_rd = FSSys_FileRd(p_file,                      /* Rd into user buf (see Note #1b1)
 1261              		.loc 1 2854 9 is_stmt 1 view .LVU408
2854:rtos/uC-FS/Source/fs_file.c ****             size_rd = FSSys_FileRd(p_file,                      /* Rd into user buf (see Note #1b1)
 1262              		.loc 1 2854 31 is_stmt 0 view .LVU409
 1263 0078 A26A     		ldr	r2, [r4, #40]
2854:rtos/uC-FS/Source/fs_file.c ****             size_rd = FSSys_FileRd(p_file,                      /* Rd into user buf (see Note #1b1)
 1264              		.loc 1 2854 12 view .LVU410
 1265 007a 4245     		cmp	r2, r8
 1266 007c 0BD8     		bhi	.L91
2855:rtos/uC-FS/Source/fs_file.c ****                                    p_dest,
 1267              		.loc 1 2855 13 is_stmt 1 view .LVU411
2855:rtos/uC-FS/Source/fs_file.c ****                                    p_dest,
 1268              		.loc 1 2855 23 is_stmt 0 view .LVU412
 1269 007e 2B46     		mov	r3, r5
 1270 0080 4246     		mov	r2, r8
 1271 0082 3946     		mov	r1, r7
 1272 0084 2046     		mov	r0, r4
 1273 0086 FFF7FEFF 		bl	FSSys_FileRd
 1274              	.LVL118:
2859:rtos/uC-FS/Source/fs_file.c ****             size_rem    -= size_rd;                             /*              ... adj rd rem.    
 1275              		.loc 1 2859 13 is_stmt 1 view .LVU413
2859:rtos/uC-FS/Source/fs_file.c ****             size_rem    -= size_rd;                             /*              ... adj rd rem.    
 1276              		.loc 1 2859 25 is_stmt 0 view .LVU414
 1277 008a E369     		ldr	r3, [r4, #28]
 1278 008c 0344     		add	r3, r3, r0
 1279 008e E361     		str	r3, [r4, #28]
2860:rtos/uC-FS/Source/fs_file.c **** 
 1280              		.loc 1 2860 13 is_stmt 1 view .LVU415
2860:rtos/uC-FS/Source/fs_file.c **** 
 1281              		.loc 1 2860 25 is_stmt 0 view .LVU416
 1282 0090 A8EB0008 		sub	r8, r8, r0
 1283              	.LVL119:
2860:rtos/uC-FS/Source/fs_file.c **** 
 1284              		.loc 1 2860 25 view .LVU417
 1285 0094 C3E7     		b	.L90
 1286              	.LVL120:
 1287              	.L91:
2866:rtos/uC-FS/Source/fs_file.c ****                                    p_file->BufPtr,
 1288              		.loc 1 2866 13 is_stmt 1 view .LVU418
2866:rtos/uC-FS/Source/fs_file.c ****                                    p_file->BufPtr,
 1289              		.loc 1 2866 23 is_stmt 0 view .LVU419
 1290 0096 2B46     		mov	r3, r5
 1291 0098 616B     		ldr	r1, [r4, #52]
ARM GAS  /tmp/cccHCpmH.s 			page 93


 1292 009a 2046     		mov	r0, r4
 1293 009c FFF7FEFF 		bl	FSSys_FileRd
 1294              	.LVL121:
2871:rtos/uC-FS/Source/fs_file.c ****                 buf_rem          = size_rd;                     /* Calc octets rem in buf ...      
 1295              		.loc 1 2871 13 is_stmt 1 view .LVU420
2871:rtos/uC-FS/Source/fs_file.c ****                 buf_rem          = size_rd;                     /* Calc octets rem in buf ...      
 1296              		.loc 1 2871 16 is_stmt 0 view .LVU421
 1297 00a0 8246     		mov	r10, r0
 1298 00a2 0028     		cmp	r0, #0
 1299 00a4 BBD0     		beq	.L90
2872:rtos/uC-FS/Source/fs_file.c ****                 size_rd          = DEF_MIN(size_rd, size_rem);  /*                        ... calc 
 1300              		.loc 1 2872 17 is_stmt 1 view .LVU422
 1301              	.LVL122:
2873:rtos/uC-FS/Source/fs_file.c ****                 Mem_Copy(p_dest, p_file->BufPtr, size_rd);      /* Copy data to user buf.          
 1302              		.loc 1 2873 17 view .LVU423
2873:rtos/uC-FS/Source/fs_file.c ****                 Mem_Copy(p_dest, p_file->BufPtr, size_rd);      /* Copy data to user buf.          
 1303              		.loc 1 2873 34 is_stmt 0 view .LVU424
 1304 00a6 C146     		mov	r9, r8
 1305 00a8 8045     		cmp	r8, r0
 1306 00aa 28BF     		it	cs
 1307 00ac 8146     		movcs	r9, r0
 1308              	.LVL123:
2874:rtos/uC-FS/Source/fs_file.c **** 
 1309              		.loc 1 2874 17 is_stmt 1 view .LVU425
 1310 00ae 4A46     		mov	r2, r9
 1311 00b0 616B     		ldr	r1, [r4, #52]
 1312 00b2 3846     		mov	r0, r7
 1313              	.LVL124:
2874:rtos/uC-FS/Source/fs_file.c **** 
 1314              		.loc 1 2874 17 is_stmt 0 view .LVU426
 1315 00b4 FFF7FEFF 		bl	Mem_Copy
 1316              	.LVL125:
2876:rtos/uC-FS/Source/fs_file.c ****                 p_file->Pos     += size_rd;                     /* Adj file pos ...                
 1317              		.loc 1 2876 17 is_stmt 1 view .LVU427
2876:rtos/uC-FS/Source/fs_file.c ****                 p_file->Pos     += size_rd;                     /* Adj file pos ...                
 1318              		.loc 1 2876 42 is_stmt 0 view .LVU428
 1319 00b8 E369     		ldr	r3, [r4, #28]
2876:rtos/uC-FS/Source/fs_file.c ****                 p_file->Pos     += size_rd;                     /* Adj file pos ...                
 1320              		.loc 1 2876 34 view .LVU429
 1321 00ba 2362     		str	r3, [r4, #32]
2877:rtos/uC-FS/Source/fs_file.c ****                 size_rem        -= size_rd;                     /*              ... adj rd rem.    
 1322              		.loc 1 2877 17 is_stmt 1 view .LVU430
2877:rtos/uC-FS/Source/fs_file.c ****                 size_rem        -= size_rd;                     /*              ... adj rd rem.    
 1323              		.loc 1 2877 33 is_stmt 0 view .LVU431
 1324 00bc 4B44     		add	r3, r3, r9
 1325 00be E361     		str	r3, [r4, #28]
2878:rtos/uC-FS/Source/fs_file.c **** 
 1326              		.loc 1 2878 17 is_stmt 1 view .LVU432
2878:rtos/uC-FS/Source/fs_file.c **** 
 1327              		.loc 1 2878 33 is_stmt 0 view .LVU433
 1328 00c0 A8EB0909 		sub	r9, r8, r9
 1329              	.LVL126:
2880:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStart   =  0u;
 1330              		.loc 1 2880 17 is_stmt 1 view .LVU434
2880:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStart   =  0u;
 1331              		.loc 1 2880 20 is_stmt 0 view .LVU435
 1332 00c4 D045     		cmp	r8, r10
ARM GAS  /tmp/cccHCpmH.s 			page 94


 1333              	.LVL127:
2880:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStart   =  0u;
 1334              		.loc 1 2880 20 view .LVU436
 1335 00c6 06D3     		bcc	.L92
2881:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufMaxPos  =  0u;
 1336              		.loc 1 2881 21 is_stmt 1 view .LVU437
2881:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufMaxPos  =  0u;
 1337              		.loc 1 2881 40 is_stmt 0 view .LVU438
 1338 00c8 0023     		movs	r3, #0
 1339 00ca 2362     		str	r3, [r4, #32]
2882:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStatus  =  FS_FILE_BUF_STATUS_EMPTY;               /* ... buf is sti
 1340              		.loc 1 2882 21 is_stmt 1 view .LVU439
2882:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStatus  =  FS_FILE_BUF_STATUS_EMPTY;               /* ... buf is sti
 1341              		.loc 1 2882 40 is_stmt 0 view .LVU440
 1342 00cc 6362     		str	r3, [r4, #36]
2883:rtos/uC-FS/Source/fs_file.c **** 
 1343              		.loc 1 2883 21 is_stmt 1 view .LVU441
2883:rtos/uC-FS/Source/fs_file.c **** 
 1344              		.loc 1 2883 40 is_stmt 0 view .LVU442
 1345 00ce 0323     		movs	r3, #3
 1346 00d0 2386     		strh	r3, [r4, #48]	@ movhi
2878:rtos/uC-FS/Source/fs_file.c **** 
 1347              		.loc 1 2878 33 view .LVU443
 1348 00d2 C846     		mov	r8, r9
 1349              	.LVL128:
2878:rtos/uC-FS/Source/fs_file.c **** 
 1350              		.loc 1 2878 33 view .LVU444
 1351 00d4 A3E7     		b	.L90
 1352              	.LVL129:
 1353              	.L92:
2887:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStatus  =  FS_FILE_BUF_STATUS_NONEMPTY_RD;
 1354              		.loc 1 2887 21 is_stmt 1 view .LVU445
2887:rtos/uC-FS/Source/fs_file.c ****                     p_file->BufStatus  =  FS_FILE_BUF_STATUS_NONEMPTY_RD;
 1355              		.loc 1 2887 40 is_stmt 0 view .LVU446
 1356 00d6 C4F824A0 		str	r10, [r4, #36]
2888:rtos/uC-FS/Source/fs_file.c ****                 }
 1357              		.loc 1 2888 21 is_stmt 1 view .LVU447
2888:rtos/uC-FS/Source/fs_file.c ****                 }
 1358              		.loc 1 2888 40 is_stmt 0 view .LVU448
 1359 00da 0423     		movs	r3, #4
 1360 00dc 2386     		strh	r3, [r4, #48]	@ movhi
2878:rtos/uC-FS/Source/fs_file.c **** 
 1361              		.loc 1 2878 33 view .LVU449
 1362 00de C846     		mov	r8, r9
 1363              	.LVL130:
2878:rtos/uC-FS/Source/fs_file.c **** 
 1364              		.loc 1 2878 33 view .LVU450
 1365 00e0 9DE7     		b	.L90
 1366              	.LVL131:
 1367              	.L94:
2902:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_NONE;
 1368              		.loc 1 2902 13 is_stmt 1 view .LVU451
2902:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_NONE;
 1369              		.loc 1 2902 29 is_stmt 0 view .LVU452
 1370 00e2 0023     		movs	r3, #0
 1371 00e4 6375     		strb	r3, [r4, #21]
2903:rtos/uC-FS/Source/fs_file.c ****          }
ARM GAS  /tmp/cccHCpmH.s 			page 95


 1372              		.loc 1 2903 12 is_stmt 1 view .LVU453
2903:rtos/uC-FS/Source/fs_file.c ****          }
 1373              		.loc 1 2903 19 is_stmt 0 view .LVU454
 1374 00e6 2B80     		strh	r3, [r5]	@ movhi
 1375 00e8 03E0     		b	.L95
 1376              	.L93:
2907:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 1377              		.loc 1 2907 9 is_stmt 1 view .LVU455
2907:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 1378              		.loc 1 2907 25 is_stmt 0 view .LVU456
 1379 00ea 0023     		movs	r3, #0
 1380 00ec 6375     		strb	r3, [r4, #21]
2908:rtos/uC-FS/Source/fs_file.c ****     }
 1381              		.loc 1 2908 9 is_stmt 1 view .LVU457
2908:rtos/uC-FS/Source/fs_file.c ****     }
 1382              		.loc 1 2908 25 is_stmt 0 view .LVU458
 1383 00ee 0123     		movs	r3, #1
 1384 00f0 2375     		strb	r3, [r4, #20]
 1385              	.L95:
2911:rtos/uC-FS/Source/fs_file.c **** }
 1386              		.loc 1 2911 5 is_stmt 1 view .LVU459
2912:rtos/uC-FS/Source/fs_file.c **** #endif
 1387              		.loc 1 2912 1 is_stmt 0 view .LVU460
 1388 00f2 A6EB0800 		sub	r0, r6, r8
 1389 00f6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
2912:rtos/uC-FS/Source/fs_file.c **** #endif
 1390              		.loc 1 2912 1 view .LVU461
 1391              		.cfi_endproc
 1392              	.LFE19:
 1394              		.section	.text.FSFile_BufWr,"ax",%progbits
 1395              		.align	1
 1396              		.syntax unified
 1397              		.thumb
 1398              		.thumb_func
 1399              		.fpu fpv4-sp-d16
 1401              	FSFile_BufWr:
 1402              	.LVL132:
 1403              	.LFB20:
2955:rtos/uC-FS/Source/fs_file.c ****     CPU_INT08U    *p_buf;
 1404              		.loc 1 2955 1 is_stmt 1 view -0
 1405              		.cfi_startproc
 1406              		@ args = 0, pretend = 0, frame = 0
 1407              		@ frame_needed = 0, uses_anonymous_args = 0
2955:rtos/uC-FS/Source/fs_file.c ****     CPU_INT08U    *p_buf;
 1408              		.loc 1 2955 1 is_stmt 0 view .LVU463
 1409 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1410              	.LCFI26:
 1411              		.cfi_def_cfa_offset 32
 1412              		.cfi_offset 3, -32
 1413              		.cfi_offset 4, -28
 1414              		.cfi_offset 5, -24
 1415              		.cfi_offset 6, -20
 1416              		.cfi_offset 7, -16
 1417              		.cfi_offset 8, -12
 1418              		.cfi_offset 9, -8
 1419              		.cfi_offset 14, -4
 1420 0004 0446     		mov	r4, r0
ARM GAS  /tmp/cccHCpmH.s 			page 96


 1421 0006 0F46     		mov	r7, r1
 1422 0008 1646     		mov	r6, r2
 1423 000a 9846     		mov	r8, r3
2956:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T     buf_rem;
 1424              		.loc 1 2956 5 is_stmt 1 view .LVU464
2957:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T     size_wr;
 1425              		.loc 1 2957 5 view .LVU465
2958:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T     size_rem;
 1426              		.loc 1 2958 5 view .LVU466
2959:rtos/uC-FS/Source/fs_file.c **** 
 1427              		.loc 1 2959 5 view .LVU467
2963:rtos/uC-FS/Source/fs_file.c ****     buf_rem  = p_file->BufSize - p_file->BufMaxPos;             /* Calc octets empty in buf ...    
 1428              		.loc 1 2963 5 view .LVU468
 1429              	.LVL133:
2964:rtos/uC-FS/Source/fs_file.c ****     size_wr  = DEF_MIN(buf_rem, size_rem);                      /*                          ... cal
 1430              		.loc 1 2964 5 view .LVU469
2964:rtos/uC-FS/Source/fs_file.c ****     size_wr  = DEF_MIN(buf_rem, size_rem);                      /*                          ... cal
 1431              		.loc 1 2964 22 is_stmt 0 view .LVU470
 1432 000c 856A     		ldr	r5, [r0, #40]
2964:rtos/uC-FS/Source/fs_file.c ****     size_wr  = DEF_MIN(buf_rem, size_rem);                      /*                          ... cal
 1433              		.loc 1 2964 40 view .LVU471
 1434 000e 436A     		ldr	r3, [r0, #36]
 1435              	.LVL134:
2964:rtos/uC-FS/Source/fs_file.c ****     size_wr  = DEF_MIN(buf_rem, size_rem);                      /*                          ... cal
 1436              		.loc 1 2964 14 view .LVU472
 1437 0010 ED1A     		subs	r5, r5, r3
 1438              	.LVL135:
2965:rtos/uC-FS/Source/fs_file.c ****     if (size_wr > 0u) {
 1439              		.loc 1 2965 5 is_stmt 1 view .LVU473
2965:rtos/uC-FS/Source/fs_file.c ****     if (size_wr > 0u) {
 1440              		.loc 1 2965 14 is_stmt 0 view .LVU474
 1441 0012 9542     		cmp	r5, r2
 1442 0014 28BF     		it	cs
 1443 0016 1546     		movcs	r5, r2
 1444              	.LVL136:
2966:rtos/uC-FS/Source/fs_file.c ****         if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
 1445              		.loc 1 2966 5 is_stmt 1 view .LVU475
2966:rtos/uC-FS/Source/fs_file.c ****         if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
 1446              		.loc 1 2966 8 is_stmt 0 view .LVU476
 1447 0018 35B3     		cbz	r5, .L109
2967:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStart = p_file->Pos;                 /* Save file pos at buf start.         
 1448              		.loc 1 2967 9 is_stmt 1 view .LVU477
2967:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStart = p_file->Pos;                 /* Save file pos at buf start.         
 1449              		.loc 1 2967 19 is_stmt 0 view .LVU478
 1450 001a 028E     		ldrh	r2, [r0, #48]
 1451              	.LVL137:
2967:rtos/uC-FS/Source/fs_file.c ****             p_file->BufStart = p_file->Pos;                 /* Save file pos at buf start.         
 1452              		.loc 1 2967 12 view .LVU479
 1453 001c 032A     		cmp	r2, #3
 1454 001e 20D0     		beq	.L112
 1455              	.L102:
2971:rtos/uC-FS/Source/fs_file.c ****         Mem_Copy((void *)p_buf, p_src, size_wr);                /* Copy from user buf to file buf. 
 1456              		.loc 1 2971 9 is_stmt 1 view .LVU480
2971:rtos/uC-FS/Source/fs_file.c ****         Mem_Copy((void *)p_buf, p_src, size_wr);                /* Copy from user buf to file buf. 
 1457              		.loc 1 2971 40 is_stmt 0 view .LVU481
 1458 0020 606B     		ldr	r0, [r4, #52]
 1459              	.LVL138:
ARM GAS  /tmp/cccHCpmH.s 			page 97


2972:rtos/uC-FS/Source/fs_file.c **** 
 1460              		.loc 1 2972 9 is_stmt 1 view .LVU482
 1461 0022 2A46     		mov	r2, r5
 1462 0024 3946     		mov	r1, r7
 1463              	.LVL139:
2972:rtos/uC-FS/Source/fs_file.c **** 
 1464              		.loc 1 2972 9 is_stmt 0 view .LVU483
 1465 0026 1844     		add	r0, r0, r3
 1466              	.LVL140:
2972:rtos/uC-FS/Source/fs_file.c **** 
 1467              		.loc 1 2972 9 view .LVU484
 1468 0028 FFF7FEFF 		bl	Mem_Copy
 1469              	.LVL141:
2975:rtos/uC-FS/Source/fs_file.c ****         size_rem          -=  size_wr;                          /*              ... adj wr rem ... 
 1470              		.loc 1 2975 9 is_stmt 1 view .LVU485
2975:rtos/uC-FS/Source/fs_file.c ****         size_rem          -=  size_wr;                          /*              ... adj wr rem ... 
 1471              		.loc 1 2975 27 is_stmt 0 view .LVU486
 1472 002c E369     		ldr	r3, [r4, #28]
 1473 002e 2B44     		add	r3, r3, r5
 1474 0030 E361     		str	r3, [r4, #28]
2976:rtos/uC-FS/Source/fs_file.c ****         p_src              = (CPU_INT08U *)p_src + size_wr;     /*                             ... 
 1475              		.loc 1 2976 9 is_stmt 1 view .LVU487
2976:rtos/uC-FS/Source/fs_file.c ****         p_src              = (CPU_INT08U *)p_src + size_wr;     /*                             ... 
 1476              		.loc 1 2976 27 is_stmt 0 view .LVU488
 1477 0032 A6EB0509 		sub	r9, r6, r5
 1478              	.LVL142:
2977:rtos/uC-FS/Source/fs_file.c **** 
 1479              		.loc 1 2977 9 is_stmt 1 view .LVU489
2977:rtos/uC-FS/Source/fs_file.c **** 
 1480              		.loc 1 2977 28 is_stmt 0 view .LVU490
 1481 0036 2F44     		add	r7, r7, r5
 1482              	.LVL143:
2979:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus  =  FS_FILE_BUF_STATUS_NONEMPTY_WR;
 1483              		.loc 1 2979 9 is_stmt 1 view .LVU491
2979:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus  =  FS_FILE_BUF_STATUS_NONEMPTY_WR;
 1484              		.loc 1 2979 27 is_stmt 0 view .LVU492
 1485 0038 636A     		ldr	r3, [r4, #36]
 1486 003a 1D44     		add	r5, r5, r3
 1487              	.LVL144:
2979:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus  =  FS_FILE_BUF_STATUS_NONEMPTY_WR;
 1488              		.loc 1 2979 27 view .LVU493
 1489 003c 6562     		str	r5, [r4, #36]
2980:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 1490              		.loc 1 2980 9 is_stmt 1 view .LVU494
2980:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 1491              		.loc 1 2980 28 is_stmt 0 view .LVU495
 1492 003e 0523     		movs	r3, #5
 1493 0040 2386     		strh	r3, [r4, #48]	@ movhi
2981:rtos/uC-FS/Source/fs_file.c ****     }
 1494              		.loc 1 2981 8 is_stmt 1 view .LVU496
2981:rtos/uC-FS/Source/fs_file.c ****     }
 1495              		.loc 1 2981 15 is_stmt 0 view .LVU497
 1496 0042 0023     		movs	r3, #0
 1497 0044 A8F80030 		strh	r3, [r8]	@ movhi
 1498              	.L101:
2986:rtos/uC-FS/Source/fs_file.c ****         size_wr = FSSys_FileWr(p_file,                          /* Wr buf to file ...              
 1499              		.loc 1 2986 5 is_stmt 1 view .LVU498
ARM GAS  /tmp/cccHCpmH.s 			page 98


2986:rtos/uC-FS/Source/fs_file.c ****         size_wr = FSSys_FileWr(p_file,                          /* Wr buf to file ...              
 1500              		.loc 1 2986 15 is_stmt 0 view .LVU499
 1501 0048 636A     		ldr	r3, [r4, #36]
2986:rtos/uC-FS/Source/fs_file.c ****         size_wr = FSSys_FileWr(p_file,                          /* Wr buf to file ...              
 1502              		.loc 1 2986 36 view .LVU500
 1503 004a A26A     		ldr	r2, [r4, #40]
2986:rtos/uC-FS/Source/fs_file.c ****         size_wr = FSSys_FileWr(p_file,                          /* Wr buf to file ...              
 1504              		.loc 1 2986 8 view .LVU501
 1505 004c 9342     		cmp	r3, r2
 1506 004e 0DD0     		beq	.L113
 1507              	.LVL145:
 1508              	.L103:
3039:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
 1509              		.loc 1 3039 5 is_stmt 1 view .LVU502
3039:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
 1510              		.loc 1 3039 15 is_stmt 0 view .LVU503
 1511 0050 A269     		ldr	r2, [r4, #24]
3039:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
 1512              		.loc 1 3039 30 view .LVU504
 1513 0052 E369     		ldr	r3, [r4, #28]
3039:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
 1514              		.loc 1 3039 8 view .LVU505
 1515 0054 9A42     		cmp	r2, r3
 1516 0056 00D2     		bcs	.L108
3040:rtos/uC-FS/Source/fs_file.c ****     }
 1517              		.loc 1 3040 9 is_stmt 1 view .LVU506
3040:rtos/uC-FS/Source/fs_file.c ****     }
 1518              		.loc 1 3040 22 is_stmt 0 view .LVU507
 1519 0058 A361     		str	r3, [r4, #24]
 1520              	.L108:
3042:rtos/uC-FS/Source/fs_file.c **** }
 1521              		.loc 1 3042 5 is_stmt 1 view .LVU508
3042:rtos/uC-FS/Source/fs_file.c **** }
 1522              		.loc 1 3042 18 is_stmt 0 view .LVU509
 1523 005a A6EB0900 		sub	r0, r6, r9
 1524              	.L100:
3043:rtos/uC-FS/Source/fs_file.c **** #endif
 1525              		.loc 1 3043 1 view .LVU510
 1526 005e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1527              	.LVL146:
 1528              	.L112:
2968:rtos/uC-FS/Source/fs_file.c ****         }
 1529              		.loc 1 2968 13 is_stmt 1 view .LVU511
2968:rtos/uC-FS/Source/fs_file.c ****         }
 1530              		.loc 1 2968 38 is_stmt 0 view .LVU512
 1531 0062 C269     		ldr	r2, [r0, #28]
2968:rtos/uC-FS/Source/fs_file.c ****         }
 1532              		.loc 1 2968 30 view .LVU513
 1533 0064 0262     		str	r2, [r0, #32]
 1534 0066 DBE7     		b	.L102
 1535              	.LVL147:
 1536              	.L109:
2963:rtos/uC-FS/Source/fs_file.c ****     buf_rem  = p_file->BufSize - p_file->BufMaxPos;             /* Calc octets empty in buf ...    
 1537              		.loc 1 2963 14 view .LVU514
 1538 0068 9146     		mov	r9, r2
 1539 006a EDE7     		b	.L101
 1540              	.LVL148:
ARM GAS  /tmp/cccHCpmH.s 			page 99


 1541              	.L113:
2987:rtos/uC-FS/Source/fs_file.c ****                                p_file->BufPtr,
 1542              		.loc 1 2987 9 is_stmt 1 view .LVU515
2987:rtos/uC-FS/Source/fs_file.c ****                                p_file->BufPtr,
 1543              		.loc 1 2987 19 is_stmt 0 view .LVU516
 1544 006c 4346     		mov	r3, r8
 1545 006e 616B     		ldr	r1, [r4, #52]
 1546 0070 2046     		mov	r0, r4
 1547 0072 FFF7FEFF 		bl	FSSys_FileWr
 1548              	.LVL149:
2991:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 1549              		.loc 1 2991 9 is_stmt 1 view .LVU517
2991:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 1550              		.loc 1 2991 13 is_stmt 0 view .LVU518
 1551 0076 B8F80030 		ldrh	r3, [r8]
2991:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 1552              		.loc 1 2991 12 view .LVU519
 1553 007a F3B9     		cbnz	r3, .L114
2996:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
 1554              		.loc 1 2996 9 is_stmt 1 view .LVU520
2996:rtos/uC-FS/Source/fs_file.c ****         p_file->BufMaxPos = 0u;
 1555              		.loc 1 2996 27 is_stmt 0 view .LVU521
 1556 007c 0023     		movs	r3, #0
 1557 007e 2362     		str	r3, [r4, #32]
2997:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
 1558              		.loc 1 2997 9 is_stmt 1 view .LVU522
2997:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus = FS_FILE_BUF_STATUS_EMPTY;
 1559              		.loc 1 2997 27 is_stmt 0 view .LVU523
 1560 0080 6362     		str	r3, [r4, #36]
2998:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 1561              		.loc 1 2998 9 is_stmt 1 view .LVU524
2998:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 1562              		.loc 1 2998 27 is_stmt 0 view .LVU525
 1563 0082 0322     		movs	r2, #3
 1564 0084 2286     		strh	r2, [r4, #48]	@ movhi
2999:rtos/uC-FS/Source/fs_file.c **** 
 1565              		.loc 1 2999 8 is_stmt 1 view .LVU526
2999:rtos/uC-FS/Source/fs_file.c **** 
 1566              		.loc 1 2999 15 is_stmt 0 view .LVU527
 1567 0086 A8F80030 		strh	r3, [r8]	@ movhi
3003:rtos/uC-FS/Source/fs_file.c ****             size_wr = FSSys_FileWr(p_file,                      /* Wr data to file.                
 1568              		.loc 1 3003 9 is_stmt 1 view .LVU528
3003:rtos/uC-FS/Source/fs_file.c ****             size_wr = FSSys_FileWr(p_file,                      /* Wr data to file.                
 1569              		.loc 1 3003 31 is_stmt 0 view .LVU529
 1570 008a A36A     		ldr	r3, [r4, #40]
3003:rtos/uC-FS/Source/fs_file.c ****             size_wr = FSSys_FileWr(p_file,                      /* Wr data to file.                
 1571              		.loc 1 3003 12 view .LVU530
 1572 008c 4B45     		cmp	r3, r9
 1573 008e 19D9     		bls	.L115
3020:rtos/uC-FS/Source/fs_file.c ****                 size_wr            = size_rem;
 1574              		.loc 1 3020 13 is_stmt 1 view .LVU531
3020:rtos/uC-FS/Source/fs_file.c ****                 size_wr            = size_rem;
 1575              		.loc 1 3020 16 is_stmt 0 view .LVU532
 1576 0090 B9F1000F 		cmp	r9, #0
 1577 0094 DCD0     		beq	.L103
3021:rtos/uC-FS/Source/fs_file.c ****                 Mem_Copy(p_file->BufPtr, p_src, size_rem);      /* Copy from user buf to file buf. 
 1578              		.loc 1 3021 17 is_stmt 1 view .LVU533
ARM GAS  /tmp/cccHCpmH.s 			page 100


 1579              	.LVL150:
3022:rtos/uC-FS/Source/fs_file.c **** 
 1580              		.loc 1 3022 17 view .LVU534
 1581 0096 4A46     		mov	r2, r9
 1582 0098 3946     		mov	r1, r7
 1583 009a 606B     		ldr	r0, [r4, #52]
 1584 009c FFF7FEFF 		bl	Mem_Copy
 1585              	.LVL151:
3024:rtos/uC-FS/Source/fs_file.c **** 
 1586              		.loc 1 3024 17 view .LVU535
3024:rtos/uC-FS/Source/fs_file.c **** 
 1587              		.loc 1 3024 44 is_stmt 0 view .LVU536
 1588 00a0 E369     		ldr	r3, [r4, #28]
3024:rtos/uC-FS/Source/fs_file.c **** 
 1589              		.loc 1 3024 36 view .LVU537
 1590 00a2 2362     		str	r3, [r4, #32]
3026:rtos/uC-FS/Source/fs_file.c ****                 size_rem          -= size_wr;                   /*              ... adj wr rem.    
 1591              		.loc 1 3026 17 is_stmt 1 view .LVU538
3026:rtos/uC-FS/Source/fs_file.c ****                 size_rem          -= size_wr;                   /*              ... adj wr rem.    
 1592              		.loc 1 3026 35 is_stmt 0 view .LVU539
 1593 00a4 4B44     		add	r3, r3, r9
 1594 00a6 E361     		str	r3, [r4, #28]
3027:rtos/uC-FS/Source/fs_file.c **** 
 1595              		.loc 1 3027 17 is_stmt 1 view .LVU540
 1596              	.LVL152:
3029:rtos/uC-FS/Source/fs_file.c ****                 p_file->BufStatus  = FS_FILE_BUF_STATUS_NONEMPTY_WR;
 1597              		.loc 1 3029 17 view .LVU541
3029:rtos/uC-FS/Source/fs_file.c ****                 p_file->BufStatus  = FS_FILE_BUF_STATUS_NONEMPTY_WR;
 1598              		.loc 1 3029 36 is_stmt 0 view .LVU542
 1599 00a8 C4F82490 		str	r9, [r4, #36]
3030:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_NONE;
 1600              		.loc 1 3030 17 is_stmt 1 view .LVU543
3030:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_NONE;
 1601              		.loc 1 3030 36 is_stmt 0 view .LVU544
 1602 00ac 0523     		movs	r3, #5
 1603 00ae 2386     		strh	r3, [r4, #48]	@ movhi
3031:rtos/uC-FS/Source/fs_file.c ****             }
 1604              		.loc 1 3031 16 is_stmt 1 view .LVU545
3031:rtos/uC-FS/Source/fs_file.c ****             }
 1605              		.loc 1 3031 23 is_stmt 0 view .LVU546
 1606 00b0 0020     		movs	r0, #0
 1607 00b2 A8F80000 		strh	r0, [r8]	@ movhi
3027:rtos/uC-FS/Source/fs_file.c **** 
 1608              		.loc 1 3027 35 view .LVU547
 1609 00b6 8146     		mov	r9, r0
 1610              	.LVL153:
3027:rtos/uC-FS/Source/fs_file.c **** 
 1611              		.loc 1 3027 35 view .LVU548
 1612 00b8 CAE7     		b	.L103
 1613              	.LVL154:
 1614              	.L114:
2992:rtos/uC-FS/Source/fs_file.c ****             return (size - size_rem);
 1615              		.loc 1 2992 13 is_stmt 1 view .LVU549
2992:rtos/uC-FS/Source/fs_file.c ****             return (size - size_rem);
 1616              		.loc 1 2992 29 is_stmt 0 view .LVU550
 1617 00ba 0123     		movs	r3, #1
 1618 00bc 2375     		strb	r3, [r4, #20]
ARM GAS  /tmp/cccHCpmH.s 			page 101


2993:rtos/uC-FS/Source/fs_file.c ****         }
 1619              		.loc 1 2993 13 is_stmt 1 view .LVU551
2993:rtos/uC-FS/Source/fs_file.c ****         }
 1620              		.loc 1 2993 26 is_stmt 0 view .LVU552
 1621 00be A6EB0900 		sub	r0, r6, r9
 1622 00c2 CCE7     		b	.L100
 1623              	.L115:
3004:rtos/uC-FS/Source/fs_file.c ****                                    p_src,
 1624              		.loc 1 3004 13 is_stmt 1 view .LVU553
3004:rtos/uC-FS/Source/fs_file.c ****                                    p_src,
 1625              		.loc 1 3004 23 is_stmt 0 view .LVU554
 1626 00c4 4346     		mov	r3, r8
 1627 00c6 4A46     		mov	r2, r9
 1628 00c8 3946     		mov	r1, r7
 1629 00ca 2046     		mov	r0, r4
 1630 00cc FFF7FEFF 		bl	FSSys_FileWr
 1631              	.LVL155:
3008:rtos/uC-FS/Source/fs_file.c ****             size_rem       -=  size_wr;                         /*              ... adj wr rem.    
 1632              		.loc 1 3008 13 is_stmt 1 view .LVU555
3008:rtos/uC-FS/Source/fs_file.c ****             size_rem       -=  size_wr;                         /*              ... adj wr rem.    
 1633              		.loc 1 3008 28 is_stmt 0 view .LVU556
 1634 00d0 E369     		ldr	r3, [r4, #28]
 1635 00d2 0344     		add	r3, r3, r0
 1636 00d4 E361     		str	r3, [r4, #28]
3009:rtos/uC-FS/Source/fs_file.c **** 
 1637              		.loc 1 3009 13 is_stmt 1 view .LVU557
3009:rtos/uC-FS/Source/fs_file.c **** 
 1638              		.loc 1 3009 28 is_stmt 0 view .LVU558
 1639 00d6 A9EB0009 		sub	r9, r9, r0
 1640              	.LVL156:
3011:rtos/uC-FS/Source/fs_file.c **** 
 1641              		.loc 1 3011 13 is_stmt 1 view .LVU559
3011:rtos/uC-FS/Source/fs_file.c **** 
 1642              		.loc 1 3011 32 is_stmt 0 view .LVU560
 1643 00da B8F80030 		ldrh	r3, [r8]
3011:rtos/uC-FS/Source/fs_file.c **** 
 1644              		.loc 1 3011 29 view .LVU561
 1645 00de 43B1     		cbz	r3, .L110
 1646 00e0 0123     		movs	r3, #1
 1647              	.L107:
3011:rtos/uC-FS/Source/fs_file.c **** 
 1648              		.loc 1 3011 29 discriminator 4 view .LVU562
 1649 00e2 2375     		strb	r3, [r4, #20]
3013:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
 1650              		.loc 1 3013 13 is_stmt 1 discriminator 4 view .LVU563
3013:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
 1651              		.loc 1 3013 17 is_stmt 0 discriminator 4 view .LVU564
 1652 00e4 B8F80030 		ldrh	r3, [r8]
3013:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
 1653              		.loc 1 3013 16 discriminator 4 view .LVU565
 1654 00e8 002B     		cmp	r3, #0
 1655 00ea B1D0     		beq	.L103
3014:rtos/uC-FS/Source/fs_file.c ****             }
 1656              		.loc 1 3014 17 is_stmt 1 view .LVU566
3014:rtos/uC-FS/Source/fs_file.c ****             }
 1657              		.loc 1 3014 33 is_stmt 0 view .LVU567
 1658 00ec 0123     		movs	r3, #1
ARM GAS  /tmp/cccHCpmH.s 			page 102


 1659 00ee 2375     		strb	r3, [r4, #20]
 1660 00f0 AEE7     		b	.L103
 1661              	.L110:
3011:rtos/uC-FS/Source/fs_file.c **** 
 1662              		.loc 1 3011 29 view .LVU568
 1663 00f2 0023     		movs	r3, #0
 1664 00f4 F5E7     		b	.L107
 1665              		.cfi_endproc
 1666              	.LFE20:
 1668              		.section	.text.FSFile_BufAssign,"ax",%progbits
 1669              		.align	1
 1670              		.global	FSFile_BufAssign
 1671              		.syntax unified
 1672              		.thumb
 1673              		.thumb_func
 1674              		.fpu fpv4-sp-d16
 1676              	FSFile_BufAssign:
 1677              	.LVL157:
 1678              	.LFB0:
 233:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS    access_mode;
 1679              		.loc 1 233 1 is_stmt 1 view -0
 1680              		.cfi_startproc
 1681              		@ args = 4, pretend = 0, frame = 0
 1682              		@ frame_needed = 0, uses_anonymous_args = 0
 233:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS    access_mode;
 1683              		.loc 1 233 1 is_stmt 0 view .LVU570
 1684 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1685              	.LCFI27:
 1686              		.cfi_def_cfa_offset 24
 1687              		.cfi_offset 4, -24
 1688              		.cfi_offset 5, -20
 1689              		.cfi_offset 6, -16
 1690              		.cfi_offset 7, -12
 1691              		.cfi_offset 8, -8
 1692              		.cfi_offset 14, -4
 1693 0004 0446     		mov	r4, r0
 1694 0006 0F46     		mov	r7, r1
 1695 0008 1546     		mov	r5, r2
 1696 000a 9846     		mov	r8, r3
 1697 000c 069E     		ldr	r6, [sp, #24]
 234:rtos/uC-FS/Source/fs_file.c ****     FS_STATE    buf_status;
 1698              		.loc 1 234 5 is_stmt 1 view .LVU571
 235:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  sec_size;
 1699              		.loc 1 235 5 view .LVU572
 236:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  size_rem;
 1700              		.loc 1 236 5 view .LVU573
 237:rtos/uC-FS/Source/fs_file.c **** 
 1701              		.loc 1 237 5 view .LVU574
 241:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 1702              		.loc 1 241 5 view .LVU575
 241:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 1703              		.loc 1 241 8 is_stmt 0 view .LVU576
 1704 000e 4EB1     		cbz	r6, .L129
 1705              	.LVL158:
 1706              	.L117:
 242:rtos/uC-FS/Source/fs_file.c ****     }
 1707              		.loc 1 242 9 is_stmt 1 discriminator 1 view .LVU577
ARM GAS  /tmp/cccHCpmH.s 			page 103


 244:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 1708              		.loc 1 244 5 discriminator 1 view .LVU578
 244:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 1709              		.loc 1 244 8 is_stmt 0 discriminator 1 view .LVU579
 1710 0010 5CB1     		cbz	r4, .L130
 248:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 1711              		.loc 1 248 5 is_stmt 1 view .LVU580
 248:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 1712              		.loc 1 248 8 is_stmt 0 view .LVU581
 1713 0012 6FB1     		cbz	r7, .L131
 252:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 1714              		.loc 1 252 5 is_stmt 1 view .LVU582
 252:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 1715              		.loc 1 252 8 is_stmt 0 view .LVU583
 1716 0014 7DB1     		cbz	r5, .L132
 256:rtos/uC-FS/Source/fs_file.c ****         (mode != FS_FILE_BUF_MODE_WR) &&
 1717              		.loc 1 256 5 is_stmt 1 view .LVU584
 257:rtos/uC-FS/Source/fs_file.c ****         (mode != FS_FILE_BUF_MODE_RD_WR)) {
 1718              		.loc 1 257 39 is_stmt 0 view .LVU585
 1719 0016 6B1E     		subs	r3, r5, #1
 256:rtos/uC-FS/Source/fs_file.c ****         (mode != FS_FILE_BUF_MODE_WR) &&
 1720              		.loc 1 256 8 view .LVU586
 1721 0018 022B     		cmp	r3, #2
 1722 001a 10D9     		bls	.L122
 259:rtos/uC-FS/Source/fs_file.c ****         return;
 1723              		.loc 1 259 8 is_stmt 1 view .LVU587
 259:rtos/uC-FS/Source/fs_file.c ****         return;
 1724              		.loc 1 259 15 is_stmt 0 view .LVU588
 1725 001c 40F22533 		movw	r3, #805
 1726 0020 3380     		strh	r3, [r6]	@ movhi
 260:rtos/uC-FS/Source/fs_file.c ****     }
 1727              		.loc 1 260 9 is_stmt 1 view .LVU589
 1728 0022 0AE0     		b	.L116
 1729              	.LVL159:
 1730              	.L129:
 242:rtos/uC-FS/Source/fs_file.c ****     }
 1731              		.loc 1 242 9 view .LVU590
 242:rtos/uC-FS/Source/fs_file.c ****     }
 1732              		.loc 1 242 9 view .LVU591
 1733 0024 FFF7FEFF 		bl	CPU_SW_Exception
 1734              	.LVL160:
 242:rtos/uC-FS/Source/fs_file.c ****     }
 1735              		.loc 1 242 9 is_stmt 0 view .LVU592
 1736 0028 F2E7     		b	.L117
 1737              	.L130:
 245:rtos/uC-FS/Source/fs_file.c ****         return;
 1738              		.loc 1 245 8 is_stmt 1 view .LVU593
 245:rtos/uC-FS/Source/fs_file.c ****         return;
 1739              		.loc 1 245 15 is_stmt 0 view .LVU594
 1740 002a 1323     		movs	r3, #19
 1741 002c 3380     		strh	r3, [r6]	@ movhi
 246:rtos/uC-FS/Source/fs_file.c ****     }
 1742              		.loc 1 246 9 is_stmt 1 view .LVU595
 1743 002e 04E0     		b	.L116
 1744              	.L131:
 249:rtos/uC-FS/Source/fs_file.c ****         return;
 1745              		.loc 1 249 8 view .LVU596
ARM GAS  /tmp/cccHCpmH.s 			page 104


 249:rtos/uC-FS/Source/fs_file.c ****         return;
 1746              		.loc 1 249 15 is_stmt 0 view .LVU597
 1747 0030 1323     		movs	r3, #19
 1748 0032 3380     		strh	r3, [r6]	@ movhi
 250:rtos/uC-FS/Source/fs_file.c ****     }
 1749              		.loc 1 250 9 is_stmt 1 view .LVU598
 1750 0034 01E0     		b	.L116
 1751              	.L132:
 253:rtos/uC-FS/Source/fs_file.c ****         return;
 1752              		.loc 1 253 8 view .LVU599
 253:rtos/uC-FS/Source/fs_file.c ****         return;
 1753              		.loc 1 253 15 is_stmt 0 view .LVU600
 1754 0036 0023     		movs	r3, #0
 1755 0038 3380     		strh	r3, [r6]	@ movhi
 254:rtos/uC-FS/Source/fs_file.c ****     }
 1756              		.loc 1 254 9 is_stmt 1 view .LVU601
 1757              	.LVL161:
 1758              	.L116:
 316:rtos/uC-FS/Source/fs_file.c **** #endif
 1759              		.loc 1 316 1 is_stmt 0 view .LVU602
 1760 003a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1761              	.LVL162:
 1762              	.L122:
 267:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 1763              		.loc 1 267 5 is_stmt 1 view .LVU603
 267:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 1764              		.loc 1 267 11 is_stmt 0 view .LVU604
 1765 003e 3146     		mov	r1, r6
 1766 0040 2046     		mov	r0, r4
 1767 0042 FFF7FEFF 		bl	FSFile_AcquireLockChk
 1768              	.LVL163:
 268:rtos/uC-FS/Source/fs_file.c ****          return;
 1769              		.loc 1 268 5 is_stmt 1 view .LVU605
 268:rtos/uC-FS/Source/fs_file.c ****          return;
 1770              		.loc 1 268 9 is_stmt 0 view .LVU606
 1771 0046 3388     		ldrh	r3, [r6]
 268:rtos/uC-FS/Source/fs_file.c ****          return;
 1772              		.loc 1 268 8 view .LVU607
 1773 0048 002B     		cmp	r3, #0
 1774 004a F6D1     		bne	.L116
 275:rtos/uC-FS/Source/fs_file.c ****     if (size < sec_size) {                                      /* Rtn err if size is less than sec
 1775              		.loc 1 275 5 is_stmt 1 view .LVU608
 275:rtos/uC-FS/Source/fs_file.c ****     if (size < sec_size) {                                      /* Rtn err if size is less than sec
 1776              		.loc 1 275 14 is_stmt 0 view .LVU609
 1777 004c A36B     		ldr	r3, [r4, #56]
 1778              	.LVL164:
 276:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_BUF_SIZE;
 1779              		.loc 1 276 5 is_stmt 1 view .LVU610
 276:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_BUF_SIZE;
 1780              		.loc 1 276 8 is_stmt 0 view .LVU611
 1781 004e 4345     		cmp	r3, r8
 1782 0050 0ED8     		bhi	.L133
 282:rtos/uC-FS/Source/fs_file.c ****     if (((mode == FS_FILE_BUF_MODE_RD) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_RD) == D
 1783              		.loc 1 282 5 is_stmt 1 view .LVU612
 282:rtos/uC-FS/Source/fs_file.c ****     if (((mode == FS_FILE_BUF_MODE_RD) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_RD) == D
 1784              		.loc 1 282 17 is_stmt 0 view .LVU613
 1785 0052 2269     		ldr	r2, [r4, #16]
ARM GAS  /tmp/cccHCpmH.s 			page 105


 1786              	.LVL165:
 283:rtos/uC-FS/Source/fs_file.c ****         ((mode == FS_FILE_BUF_MODE_WR) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_WR) == D
 1787              		.loc 1 283 5 is_stmt 1 view .LVU614
 283:rtos/uC-FS/Source/fs_file.c ****         ((mode == FS_FILE_BUF_MODE_WR) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_WR) == D
 1788              		.loc 1 283 8 is_stmt 0 view .LVU615
 1789 0054 012D     		cmp	r5, #1
 1790 0056 12D0     		beq	.L134
 1791              	.L124:
 283:rtos/uC-FS/Source/fs_file.c ****         ((mode == FS_FILE_BUF_MODE_WR) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_WR) == D
 1792              		.loc 1 283 108 discriminator 3 view .LVU616
 1793 0058 022D     		cmp	r5, #2
 1794 005a 1AD0     		beq	.L135
 1795              	.L126:
 290:rtos/uC-FS/Source/fs_file.c ****     if (buf_status != FS_FILE_BUF_STATUS_NONE) {
 1796              		.loc 1 290 5 is_stmt 1 view .LVU617
 290:rtos/uC-FS/Source/fs_file.c ****     if (buf_status != FS_FILE_BUF_STATUS_NONE) {
 1797              		.loc 1 290 16 is_stmt 0 view .LVU618
 1798 005c 228E     		ldrh	r2, [r4, #48]
 1799              	.LVL166:
 291:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_BUF_ALREADY_ASSIGNED;
 1800              		.loc 1 291 5 is_stmt 1 view .LVU619
 291:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_BUF_ALREADY_ASSIGNED;
 1801              		.loc 1 291 8 is_stmt 0 view .LVU620
 1802 005e 012A     		cmp	r2, #1
 1803 0060 1BD0     		beq	.L127
 292:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1804              		.loc 1 292 8 is_stmt 1 view .LVU621
 292:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1805              		.loc 1 292 15 is_stmt 0 view .LVU622
 1806 0062 40F22133 		movw	r3, #801
 1807              	.LVL167:
 292:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1808              		.loc 1 292 15 view .LVU623
 1809 0066 3380     		strh	r3, [r6]	@ movhi
 1810              	.LVL168:
 293:rtos/uC-FS/Source/fs_file.c ****         return;
 1811              		.loc 1 293 9 is_stmt 1 view .LVU624
 1812 0068 2046     		mov	r0, r4
 1813 006a FFF7FEFF 		bl	FSFile_ReleaseUnlock
 1814              	.LVL169:
 294:rtos/uC-FS/Source/fs_file.c ****     }
 1815              		.loc 1 294 9 view .LVU625
 1816 006e E4E7     		b	.L116
 1817              	.LVL170:
 1818              	.L133:
 277:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1819              		.loc 1 277 8 view .LVU626
 277:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1820              		.loc 1 277 15 is_stmt 0 view .LVU627
 1821 0070 40F22633 		movw	r3, #806
 1822              	.LVL171:
 277:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1823              		.loc 1 277 15 view .LVU628
 1824 0074 3380     		strh	r3, [r6]	@ movhi
 1825              	.LVL172:
 278:rtos/uC-FS/Source/fs_file.c ****         return;
 1826              		.loc 1 278 9 is_stmt 1 view .LVU629
ARM GAS  /tmp/cccHCpmH.s 			page 106


 1827 0076 2046     		mov	r0, r4
 1828 0078 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 1829              	.LVL173:
 279:rtos/uC-FS/Source/fs_file.c ****     }
 1830              		.loc 1 279 9 view .LVU630
 1831 007c DDE7     		b	.L116
 1832              	.LVL174:
 1833              	.L134:
 283:rtos/uC-FS/Source/fs_file.c ****         ((mode == FS_FILE_BUF_MODE_WR) && (DEF_BIT_IS_SET(access_mode, FS_FILE_ACCESS_MODE_WR) == D
 1834              		.loc 1 283 40 is_stmt 0 discriminator 1 view .LVU631
 1835 007e 12F0010F 		tst	r2, #1
 1836 0082 E9D1     		bne	.L124
 1837              	.L125:
 285:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1838              		.loc 1 285 8 is_stmt 1 view .LVU632
 285:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1839              		.loc 1 285 15 is_stmt 0 view .LVU633
 1840 0084 40F22533 		movw	r3, #805
 1841              	.LVL175:
 285:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1842              		.loc 1 285 15 view .LVU634
 1843 0088 3380     		strh	r3, [r6]	@ movhi
 1844              	.LVL176:
 286:rtos/uC-FS/Source/fs_file.c ****         return;
 1845              		.loc 1 286 9 is_stmt 1 view .LVU635
 1846 008a 2046     		mov	r0, r4
 1847 008c FFF7FEFF 		bl	FSFile_ReleaseUnlock
 1848              	.LVL177:
 287:rtos/uC-FS/Source/fs_file.c ****     }
 1849              		.loc 1 287 9 view .LVU636
 1850 0090 D3E7     		b	.L116
 1851              	.LVL178:
 1852              	.L135:
 284:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_BUF_MODE;
 1853              		.loc 1 284 40 is_stmt 0 view .LVU637
 1854 0092 12F0020F 		tst	r2, #2
 1855 0096 E1D1     		bne	.L126
 1856 0098 F4E7     		b	.L125
 1857              	.LVL179:
 1858              	.L127:
 301:rtos/uC-FS/Source/fs_file.c ****     size              -= size_rem;
 1859              		.loc 1 301 5 is_stmt 1 view .LVU638
 301:rtos/uC-FS/Source/fs_file.c ****     size              -= size_rem;
 1860              		.loc 1 301 24 is_stmt 0 view .LVU639
 1861 009a B8FBF3F2 		udiv	r2, r8, r3
 1862              	.LVL180:
 301:rtos/uC-FS/Source/fs_file.c ****     size              -= size_rem;
 1863              		.loc 1 301 24 view .LVU640
 1864 009e 03FB1283 		mls	r3, r3, r2, r8
 1865              	.LVL181:
 302:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMode    = mode;
 1866              		.loc 1 302 5 is_stmt 1 view .LVU641
 302:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMode    = mode;
 1867              		.loc 1 302 23 is_stmt 0 view .LVU642
 1868 00a2 A8EB0303 		sub	r3, r8, r3
 1869              	.LVL182:
 303:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStatus  = FS_FILE_BUF_STATUS_EMPTY;
ARM GAS  /tmp/cccHCpmH.s 			page 107


 1870              		.loc 1 303 5 is_stmt 1 view .LVU643
 303:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStatus  = FS_FILE_BUF_STATUS_EMPTY;
 1871              		.loc 1 303 24 is_stmt 0 view .LVU644
 1872 00a6 E562     		str	r5, [r4, #44]
 304:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStart   = 0u;
 1873              		.loc 1 304 5 is_stmt 1 view .LVU645
 304:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStart   = 0u;
 1874              		.loc 1 304 24 is_stmt 0 view .LVU646
 1875 00a8 0322     		movs	r2, #3
 1876              	.LVL183:
 304:rtos/uC-FS/Source/fs_file.c ****     p_file->BufStart   = 0u;
 1877              		.loc 1 304 24 view .LVU647
 1878 00aa 2286     		strh	r2, [r4, #48]	@ movhi
 1879              	.LVL184:
 305:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMaxPos  = 0u;
 1880              		.loc 1 305 5 is_stmt 1 view .LVU648
 305:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMaxPos  = 0u;
 1881              		.loc 1 305 24 is_stmt 0 view .LVU649
 1882 00ac 0025     		movs	r5, #0
 1883              	.LVL185:
 305:rtos/uC-FS/Source/fs_file.c ****     p_file->BufMaxPos  = 0u;
 1884              		.loc 1 305 24 view .LVU650
 1885 00ae 2562     		str	r5, [r4, #32]
 306:rtos/uC-FS/Source/fs_file.c ****     p_file->BufSize    = size;
 1886              		.loc 1 306 5 is_stmt 1 view .LVU651
 306:rtos/uC-FS/Source/fs_file.c ****     p_file->BufSize    = size;
 1887              		.loc 1 306 24 is_stmt 0 view .LVU652
 1888 00b0 6562     		str	r5, [r4, #36]
 307:rtos/uC-FS/Source/fs_file.c ****     p_file->BufPtr     = p_buf;
 1889              		.loc 1 307 5 is_stmt 1 view .LVU653
 307:rtos/uC-FS/Source/fs_file.c ****     p_file->BufPtr     = p_buf;
 1890              		.loc 1 307 24 is_stmt 0 view .LVU654
 1891 00b2 A362     		str	r3, [r4, #40]
 308:rtos/uC-FS/Source/fs_file.c **** 
 1892              		.loc 1 308 5 is_stmt 1 view .LVU655
 308:rtos/uC-FS/Source/fs_file.c **** 
 1893              		.loc 1 308 24 is_stmt 0 view .LVU656
 1894 00b4 6763     		str	r7, [r4, #52]
 313:rtos/uC-FS/Source/fs_file.c **** 
 1895              		.loc 1 313 5 is_stmt 1 view .LVU657
 1896 00b6 2046     		mov	r0, r4
 1897 00b8 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 1898              	.LVL186:
 315:rtos/uC-FS/Source/fs_file.c **** }
 1899              		.loc 1 315 4 view .LVU658
 315:rtos/uC-FS/Source/fs_file.c **** }
 1900              		.loc 1 315 11 is_stmt 0 view .LVU659
 1901 00bc 3580     		strh	r5, [r6]	@ movhi
 1902 00be BCE7     		b	.L116
 1903              		.cfi_endproc
 1904              	.LFE0:
 1906              		.section	.text.FSFile_BufFlush,"ax",%progbits
 1907              		.align	1
 1908              		.global	FSFile_BufFlush
 1909              		.syntax unified
 1910              		.thumb
 1911              		.thumb_func
ARM GAS  /tmp/cccHCpmH.s 			page 108


 1912              		.fpu fpv4-sp-d16
 1914              	FSFile_BufFlush:
 1915              	.LVL187:
 1916              	.LFB1:
 364:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 1917              		.loc 1 364 1 is_stmt 1 view -0
 1918              		.cfi_startproc
 1919              		@ args = 0, pretend = 0, frame = 0
 1920              		@ frame_needed = 0, uses_anonymous_args = 0
 364:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 1921              		.loc 1 364 1 is_stmt 0 view .LVU661
 1922 0000 38B5     		push	{r3, r4, r5, lr}
 1923              	.LCFI28:
 1924              		.cfi_def_cfa_offset 16
 1925              		.cfi_offset 3, -16
 1926              		.cfi_offset 4, -12
 1927              		.cfi_offset 5, -8
 1928              		.cfi_offset 14, -4
 1929 0002 0446     		mov	r4, r0
 366:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 1930              		.loc 1 366 5 is_stmt 1 view .LVU662
 366:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 1931              		.loc 1 366 8 is_stmt 0 view .LVU663
 1932 0004 0D46     		mov	r5, r1
 1933 0006 A1B1     		cbz	r1, .L143
 1934              	.LVL188:
 1935              	.L137:
 367:rtos/uC-FS/Source/fs_file.c ****     }
 1936              		.loc 1 367 9 is_stmt 1 discriminator 1 view .LVU664
 369:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 1937              		.loc 1 369 5 discriminator 1 view .LVU665
 369:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 1938              		.loc 1 369 8 is_stmt 0 discriminator 1 view .LVU666
 1939 0008 B4B1     		cbz	r4, .L144
 378:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 1940              		.loc 1 378 5 is_stmt 1 view .LVU667
 378:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 1941              		.loc 1 378 11 is_stmt 0 view .LVU668
 1942 000a 2946     		mov	r1, r5
 1943 000c 2046     		mov	r0, r4
 1944 000e FFF7FEFF 		bl	FSFile_AcquireLockChk
 1945              	.LVL189:
 379:rtos/uC-FS/Source/fs_file.c ****          return;
 1946              		.loc 1 379 5 is_stmt 1 view .LVU669
 379:rtos/uC-FS/Source/fs_file.c ****          return;
 1947              		.loc 1 379 9 is_stmt 0 view .LVU670
 1948 0012 2B88     		ldrh	r3, [r5]
 379:rtos/uC-FS/Source/fs_file.c ****          return;
 1949              		.loc 1 379 8 view .LVU671
 1950 0014 63B9     		cbnz	r3, .L136
 383:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1951              		.loc 1 383 5 is_stmt 1 view .LVU672
 383:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1952              		.loc 1 383 15 is_stmt 0 view .LVU673
 1953 0016 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 383:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 1954              		.loc 1 383 8 view .LVU674
ARM GAS  /tmp/cccHCpmH.s 			page 109


 1955 0018 012B     		cmp	r3, #1
 1956 001a 10D0     		beq	.L145
 392:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 1957              		.loc 1 392 5 is_stmt 1 view .LVU675
 392:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 1958              		.loc 1 392 16 is_stmt 0 view .LVU676
 1959 001c 238E     		ldrh	r3, [r4, #48]
 392:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 1960              		.loc 1 392 63 view .LVU677
 1961 001e 043B     		subs	r3, r3, #4
 1962 0020 9BB2     		uxth	r3, r3
 392:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 1963              		.loc 1 392 8 view .LVU678
 1964 0022 012B     		cmp	r3, #1
 1965 0024 12D9     		bls	.L146
 1966              	.L141:
 403:rtos/uC-FS/Source/fs_file.c **** 
 1967              		.loc 1 403 5 is_stmt 1 view .LVU679
 403:rtos/uC-FS/Source/fs_file.c **** 
 1968              		.loc 1 403 22 is_stmt 0 view .LVU680
 1969 0026 0023     		movs	r3, #0
 1970 0028 E382     		strh	r3, [r4, #22]	@ movhi
 408:rtos/uC-FS/Source/fs_file.c **** }
 1971              		.loc 1 408 5 is_stmt 1 view .LVU681
 1972 002a 2046     		mov	r0, r4
 1973 002c FFF7FEFF 		bl	FSFile_ReleaseUnlock
 1974              	.LVL190:
 1975              	.L136:
 409:rtos/uC-FS/Source/fs_file.c **** #endif
 1976              		.loc 1 409 1 is_stmt 0 view .LVU682
 1977 0030 38BD     		pop	{r3, r4, r5, pc}
 1978              	.LVL191:
 1979              	.L143:
 367:rtos/uC-FS/Source/fs_file.c ****     }
 1980              		.loc 1 367 9 is_stmt 1 view .LVU683
 367:rtos/uC-FS/Source/fs_file.c ****     }
 1981              		.loc 1 367 9 view .LVU684
 1982 0032 FFF7FEFF 		bl	CPU_SW_Exception
 1983              	.LVL192:
 367:rtos/uC-FS/Source/fs_file.c ****     }
 1984              		.loc 1 367 9 is_stmt 0 view .LVU685
 1985 0036 E7E7     		b	.L137
 1986              	.L144:
 370:rtos/uC-FS/Source/fs_file.c ****         return;
 1987              		.loc 1 370 8 is_stmt 1 view .LVU686
 370:rtos/uC-FS/Source/fs_file.c ****         return;
 1988              		.loc 1 370 15 is_stmt 0 view .LVU687
 1989 0038 1323     		movs	r3, #19
 1990 003a 2B80     		strh	r3, [r5]	@ movhi
 371:rtos/uC-FS/Source/fs_file.c ****     }
 1991              		.loc 1 371 9 is_stmt 1 view .LVU688
 1992 003c F8E7     		b	.L136
 1993              	.L145:
 384:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
 1994              		.loc 1 384 9 view .LVU689
 1995 003e 2046     		mov	r0, r4
 1996 0040 FFF7FEFF 		bl	FSFile_ReleaseUnlock
ARM GAS  /tmp/cccHCpmH.s 			page 110


 1997              	.LVL193:
 385:rtos/uC-FS/Source/fs_file.c ****         return;
 1998              		.loc 1 385 8 view .LVU690
 385:rtos/uC-FS/Source/fs_file.c ****         return;
 1999              		.loc 1 385 15 is_stmt 0 view .LVU691
 2000 0044 40F22233 		movw	r3, #802
 2001 0048 2B80     		strh	r3, [r5]	@ movhi
 386:rtos/uC-FS/Source/fs_file.c ****     }
 2002              		.loc 1 386 9 is_stmt 1 view .LVU692
 2003 004a F1E7     		b	.L136
 2004              	.L146:
 394:rtos/uC-FS/Source/fs_file.c **** 
 2005              		.loc 1 394 9 view .LVU693
 2006 004c 2946     		mov	r1, r5
 2007 004e 2046     		mov	r0, r4
 2008 0050 FFF7FEFF 		bl	FSFile_BufEmpty
 2009              	.LVL194:
 396:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 2010              		.loc 1 396 9 view .LVU694
 396:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 2011              		.loc 1 396 13 is_stmt 0 view .LVU695
 2012 0054 2B88     		ldrh	r3, [r5]
 396:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 2013              		.loc 1 396 12 view .LVU696
 2014 0056 002B     		cmp	r3, #0
 2015 0058 E5D0     		beq	.L141
 397:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 2016              		.loc 1 397 13 is_stmt 1 view .LVU697
 397:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 2017              		.loc 1 397 29 is_stmt 0 view .LVU698
 2018 005a 0123     		movs	r3, #1
 2019 005c 2375     		strb	r3, [r4, #20]
 398:rtos/uC-FS/Source/fs_file.c ****             return;
 2020              		.loc 1 398 13 is_stmt 1 view .LVU699
 2021 005e 2046     		mov	r0, r4
 2022 0060 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 2023              	.LVL195:
 399:rtos/uC-FS/Source/fs_file.c ****         }
 2024              		.loc 1 399 13 view .LVU700
 2025 0064 E4E7     		b	.L136
 2026              		.cfi_endproc
 2027              	.LFE1:
 2029              		.section	.text.FSFile_Close,"ax",%progbits
 2030              		.align	1
 2031              		.global	FSFile_Close
 2032              		.syntax unified
 2033              		.thumb
 2034              		.thumb_func
 2035              		.fpu fpv4-sp-d16
 2037              	FSFile_Close:
 2038              	.LVL196:
 2039              	.LFB2:
 453:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 2040              		.loc 1 453 1 view -0
 2041              		.cfi_startproc
 2042              		@ args = 0, pretend = 0, frame = 0
 2043              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cccHCpmH.s 			page 111


 453:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 2044              		.loc 1 453 1 is_stmt 0 view .LVU702
 2045 0000 38B5     		push	{r3, r4, r5, lr}
 2046              	.LCFI29:
 2047              		.cfi_def_cfa_offset 16
 2048              		.cfi_offset 3, -16
 2049              		.cfi_offset 4, -12
 2050              		.cfi_offset 5, -8
 2051              		.cfi_offset 14, -4
 2052 0002 0446     		mov	r4, r0
 455:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 2053              		.loc 1 455 5 is_stmt 1 view .LVU703
 455:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 2054              		.loc 1 455 8 is_stmt 0 view .LVU704
 2055 0004 0D46     		mov	r5, r1
 2056 0006 39B1     		cbz	r1, .L152
 2057              	.LVL197:
 2058              	.L148:
 456:rtos/uC-FS/Source/fs_file.c ****     }
 2059              		.loc 1 456 9 is_stmt 1 discriminator 1 view .LVU705
 458:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2060              		.loc 1 458 5 discriminator 1 view .LVU706
 458:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2061              		.loc 1 458 8 is_stmt 0 discriminator 1 view .LVU707
 2062 0008 4CB1     		cbz	r4, .L153
 465:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2063              		.loc 1 465 5 is_stmt 1 view .LVU708
 465:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2064              		.loc 1 465 11 is_stmt 0 view .LVU709
 2065 000a 2946     		mov	r1, r5
 2066 000c 2046     		mov	r0, r4
 2067 000e FFF7FEFF 		bl	FSFile_AcquireLockChk
 2068              	.LVL198:
 466:rtos/uC-FS/Source/fs_file.c ****          return;
 2069              		.loc 1 466 5 is_stmt 1 view .LVU710
 466:rtos/uC-FS/Source/fs_file.c ****          return;
 2070              		.loc 1 466 9 is_stmt 0 view .LVU711
 2071 0012 2B88     		ldrh	r3, [r5]
 466:rtos/uC-FS/Source/fs_file.c ****          return;
 2072              		.loc 1 466 8 view .LVU712
 2073 0014 33B1     		cbz	r3, .L154
 2074              	.L147:
 487:rtos/uC-FS/Source/fs_file.c **** 
 2075              		.loc 1 487 1 view .LVU713
 2076 0016 38BD     		pop	{r3, r4, r5, pc}
 2077              	.LVL199:
 2078              	.L152:
 456:rtos/uC-FS/Source/fs_file.c ****     }
 2079              		.loc 1 456 9 is_stmt 1 view .LVU714
 456:rtos/uC-FS/Source/fs_file.c ****     }
 2080              		.loc 1 456 9 view .LVU715
 2081 0018 FFF7FEFF 		bl	CPU_SW_Exception
 2082              	.LVL200:
 456:rtos/uC-FS/Source/fs_file.c ****     }
 2083              		.loc 1 456 9 is_stmt 0 view .LVU716
 2084 001c F4E7     		b	.L148
 2085              	.L153:
ARM GAS  /tmp/cccHCpmH.s 			page 112


 459:rtos/uC-FS/Source/fs_file.c ****         return;
 2086              		.loc 1 459 8 is_stmt 1 view .LVU717
 459:rtos/uC-FS/Source/fs_file.c ****         return;
 2087              		.loc 1 459 15 is_stmt 0 view .LVU718
 2088 001e 1323     		movs	r3, #19
 2089 0020 2B80     		strh	r3, [r5]	@ movhi
 460:rtos/uC-FS/Source/fs_file.c ****     }
 2090              		.loc 1 460 9 is_stmt 1 view .LVU719
 2091 0022 F8E7     		b	.L147
 2092              	.L154:
 474:rtos/uC-FS/Source/fs_file.c **** #endif
 2093              		.loc 1 474 5 view .LVU720
 2094 0024 2946     		mov	r1, r5
 2095 0026 2046     		mov	r0, r4
 2096 0028 FFF7FEFF 		bl	FSFile_BufEmpty
 2097              	.LVL201:
 477:rtos/uC-FS/Source/fs_file.c **** 
 2098              		.loc 1 477 5 view .LVU721
 2099 002c 2946     		mov	r1, r5
 2100 002e 2046     		mov	r0, r4
 2101 0030 FFF7FEFF 		bl	FSSys_FileClose
 2102              	.LVL202:
 479:rtos/uC-FS/Source/fs_file.c ****     p_file->State = FS_FILE_STATE_CLOSING;
 2103              		.loc 1 479 5 view .LVU722
 2104 0034 2146     		mov	r1, r4
 2105 0036 E06B     		ldr	r0, [r4, #60]
 2106 0038 FFF7FEFF 		bl	FSVol_FileRemove
 2107              	.LVL203:
 480:rtos/uC-FS/Source/fs_file.c **** 
 2108              		.loc 1 480 5 view .LVU723
 480:rtos/uC-FS/Source/fs_file.c **** 
 2109              		.loc 1 480 19 is_stmt 0 view .LVU724
 2110 003c 0123     		movs	r3, #1
 2111 003e A380     		strh	r3, [r4, #4]	@ movhi
 485:rtos/uC-FS/Source/fs_file.c ****     FSFile_Release(p_file);                                     /* Release file ref init.          
 2112              		.loc 1 485 5 is_stmt 1 view .LVU725
 2113 0040 2046     		mov	r0, r4
 2114 0042 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 2115              	.LVL204:
 486:rtos/uC-FS/Source/fs_file.c **** }
 2116              		.loc 1 486 5 view .LVU726
 2117 0046 2046     		mov	r0, r4
 2118 0048 FFF7FEFF 		bl	FSFile_Release
 2119              	.LVL205:
 2120 004c E3E7     		b	.L147
 2121              		.cfi_endproc
 2122              	.LFE2:
 2124              		.section	.text.FSFile_ClrErr,"ax",%progbits
 2125              		.align	1
 2126              		.global	FSFile_ClrErr
 2127              		.syntax unified
 2128              		.thumb
 2129              		.thumb_func
 2130              		.fpu fpv4-sp-d16
 2132              	FSFile_ClrErr:
 2133              	.LVL206:
 2134              	.LFB3:
ARM GAS  /tmp/cccHCpmH.s 			page 113


 518:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  was_err;
 2135              		.loc 1 518 1 view -0
 2136              		.cfi_startproc
 2137              		@ args = 0, pretend = 0, frame = 0
 2138              		@ frame_needed = 0, uses_anonymous_args = 0
 518:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  was_err;
 2139              		.loc 1 518 1 is_stmt 0 view .LVU728
 2140 0000 38B5     		push	{r3, r4, r5, lr}
 2141              	.LCFI30:
 2142              		.cfi_def_cfa_offset 16
 2143              		.cfi_offset 3, -16
 2144              		.cfi_offset 4, -12
 2145              		.cfi_offset 5, -8
 2146              		.cfi_offset 14, -4
 2147 0002 0446     		mov	r4, r0
 519:rtos/uC-FS/Source/fs_file.c **** 
 2148              		.loc 1 519 5 is_stmt 1 view .LVU729
 523:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 2149              		.loc 1 523 5 view .LVU730
 523:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 2150              		.loc 1 523 8 is_stmt 0 view .LVU731
 2151 0004 0D46     		mov	r5, r1
 2152 0006 89B1     		cbz	r1, .L161
 2153              	.LVL207:
 2154              	.L156:
 524:rtos/uC-FS/Source/fs_file.c ****     }
 2155              		.loc 1 524 9 is_stmt 1 discriminator 1 view .LVU732
 526:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2156              		.loc 1 526 5 discriminator 1 view .LVU733
 526:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2157              		.loc 1 526 8 is_stmt 0 discriminator 1 view .LVU734
 2158 0008 9CB1     		cbz	r4, .L162
 533:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2159              		.loc 1 533 5 is_stmt 1 view .LVU735
 533:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2160              		.loc 1 533 11 is_stmt 0 view .LVU736
 2161 000a 2946     		mov	r1, r5
 2162 000c 2046     		mov	r0, r4
 2163 000e FFF7FEFF 		bl	FSFile_AcquireLockChk
 2164              	.LVL208:
 534:rtos/uC-FS/Source/fs_file.c ****          return;
 2165              		.loc 1 534 5 is_stmt 1 view .LVU737
 534:rtos/uC-FS/Source/fs_file.c ****          return;
 2166              		.loc 1 534 9 is_stmt 0 view .LVU738
 2167 0012 2B88     		ldrh	r3, [r5]
 534:rtos/uC-FS/Source/fs_file.c ****          return;
 2168              		.loc 1 534 8 view .LVU739
 2169 0014 4BB9     		cbnz	r3, .L155
 541:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagErr = DEF_NO;
 2170              		.loc 1 541 5 is_stmt 1 view .LVU740
 541:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagErr = DEF_NO;
 2171              		.loc 1 541 21 is_stmt 0 view .LVU741
 2172 0016 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 2173              	.LVL209:
 542:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;
 2174              		.loc 1 542 5 is_stmt 1 view .LVU742
 542:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;
ARM GAS  /tmp/cccHCpmH.s 			page 114


 2175              		.loc 1 542 21 is_stmt 0 view .LVU743
 2176 0018 2375     		strb	r3, [r4, #20]
 543:rtos/uC-FS/Source/fs_file.c **** 
 2177              		.loc 1 543 5 is_stmt 1 view .LVU744
 543:rtos/uC-FS/Source/fs_file.c **** 
 2178              		.loc 1 543 21 is_stmt 0 view .LVU745
 2179 001a 6375     		strb	r3, [r4, #21]
 545:rtos/uC-FS/Source/fs_file.c ****         p_file->IO_State = FS_FILE_IO_STATE_NONE;               /* See Note #1.                    
 2180              		.loc 1 545 5 is_stmt 1 view .LVU746
 545:rtos/uC-FS/Source/fs_file.c ****         p_file->IO_State = FS_FILE_IO_STATE_NONE;               /* See Note #1.                    
 2181              		.loc 1 545 8 is_stmt 0 view .LVU747
 2182 001c 012A     		cmp	r2, #1
 2183 001e 0BD0     		beq	.L163
 2184              	.L159:
 552:rtos/uC-FS/Source/fs_file.c **** 
 2185              		.loc 1 552 5 is_stmt 1 view .LVU748
 2186 0020 2046     		mov	r0, r4
 2187 0022 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 2188              	.LVL210:
 554:rtos/uC-FS/Source/fs_file.c **** }
 2189              		.loc 1 554 4 view .LVU749
 554:rtos/uC-FS/Source/fs_file.c **** }
 2190              		.loc 1 554 11 is_stmt 0 view .LVU750
 2191 0026 0023     		movs	r3, #0
 2192 0028 2B80     		strh	r3, [r5]	@ movhi
 2193              	.L155:
 555:rtos/uC-FS/Source/fs_file.c **** 
 2194              		.loc 1 555 1 view .LVU751
 2195 002a 38BD     		pop	{r3, r4, r5, pc}
 2196              	.LVL211:
 2197              	.L161:
 524:rtos/uC-FS/Source/fs_file.c ****     }
 2198              		.loc 1 524 9 is_stmt 1 view .LVU752
 524:rtos/uC-FS/Source/fs_file.c ****     }
 2199              		.loc 1 524 9 view .LVU753
 2200 002c FFF7FEFF 		bl	CPU_SW_Exception
 2201              	.LVL212:
 524:rtos/uC-FS/Source/fs_file.c ****     }
 2202              		.loc 1 524 9 is_stmt 0 view .LVU754
 2203 0030 EAE7     		b	.L156
 2204              	.L162:
 527:rtos/uC-FS/Source/fs_file.c ****         return;
 2205              		.loc 1 527 8 is_stmt 1 view .LVU755
 527:rtos/uC-FS/Source/fs_file.c ****         return;
 2206              		.loc 1 527 15 is_stmt 0 view .LVU756
 2207 0032 1323     		movs	r3, #19
 2208 0034 2B80     		strh	r3, [r5]	@ movhi
 528:rtos/uC-FS/Source/fs_file.c ****     }
 2209              		.loc 1 528 9 is_stmt 1 view .LVU757
 2210 0036 F8E7     		b	.L155
 2211              	.LVL213:
 2212              	.L163:
 546:rtos/uC-FS/Source/fs_file.c ****     }
 2213              		.loc 1 546 9 view .LVU758
 546:rtos/uC-FS/Source/fs_file.c ****     }
 2214              		.loc 1 546 26 is_stmt 0 view .LVU759
 2215 0038 E382     		strh	r3, [r4, #22]	@ movhi
ARM GAS  /tmp/cccHCpmH.s 			page 115


 2216 003a F1E7     		b	.L159
 2217              		.cfi_endproc
 2218              	.LFE3:
 2220              		.section	.text.FSFile_IsEOF,"ax",%progbits
 2221              		.align	1
 2222              		.global	FSFile_IsEOF
 2223              		.syntax unified
 2224              		.thumb
 2225              		.thumb_func
 2226              		.fpu fpv4-sp-d16
 2228              	FSFile_IsEOF:
 2229              	.LVL214:
 2230              	.LFB4:
 586:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  is_eof;
 2231              		.loc 1 586 1 is_stmt 1 view -0
 2232              		.cfi_startproc
 2233              		@ args = 0, pretend = 0, frame = 0
 2234              		@ frame_needed = 0, uses_anonymous_args = 0
 586:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  is_eof;
 2235              		.loc 1 586 1 is_stmt 0 view .LVU761
 2236 0000 70B5     		push	{r4, r5, r6, lr}
 2237              	.LCFI31:
 2238              		.cfi_def_cfa_offset 16
 2239              		.cfi_offset 4, -16
 2240              		.cfi_offset 5, -12
 2241              		.cfi_offset 6, -8
 2242              		.cfi_offset 14, -4
 2243 0002 0446     		mov	r4, r0
 587:rtos/uC-FS/Source/fs_file.c **** 
 2244              		.loc 1 587 5 is_stmt 1 view .LVU762
 591:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_NO);
 2245              		.loc 1 591 5 view .LVU763
 591:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_NO);
 2246              		.loc 1 591 8 is_stmt 0 view .LVU764
 2247 0004 0D46     		mov	r5, r1
 2248 0006 49B1     		cbz	r1, .L170
 2249              	.LVL215:
 2250              	.L165:
 592:rtos/uC-FS/Source/fs_file.c ****     }
 2251              		.loc 1 592 9 is_stmt 1 discriminator 1 view .LVU765
 594:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2252              		.loc 1 594 5 discriminator 1 view .LVU766
 594:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2253              		.loc 1 594 8 is_stmt 0 discriminator 1 view .LVU767
 2254 0008 5CB1     		cbz	r4, .L171
 601:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2255              		.loc 1 601 5 is_stmt 1 view .LVU768
 601:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2256              		.loc 1 601 11 is_stmt 0 view .LVU769
 2257 000a 2946     		mov	r1, r5
 2258 000c 2046     		mov	r0, r4
 2259 000e FFF7FEFF 		bl	FSFile_AcquireLockChk
 2260              	.LVL216:
 602:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2261              		.loc 1 602 5 is_stmt 1 view .LVU770
 602:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2262              		.loc 1 602 9 is_stmt 0 view .LVU771
ARM GAS  /tmp/cccHCpmH.s 			page 116


 2263 0012 2B88     		ldrh	r3, [r5]
 602:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2264              		.loc 1 602 8 view .LVU772
 2265 0014 4BB1     		cbz	r3, .L172
 603:rtos/uC-FS/Source/fs_file.c ****     }
 2266              		.loc 1 603 16 view .LVU773
 2267 0016 0026     		movs	r6, #0
 2268              	.L167:
 615:rtos/uC-FS/Source/fs_file.c **** 
 2269              		.loc 1 615 1 view .LVU774
 2270 0018 3046     		mov	r0, r6
 2271 001a 70BD     		pop	{r4, r5, r6, pc}
 2272              	.LVL217:
 2273              	.L170:
 592:rtos/uC-FS/Source/fs_file.c ****     }
 2274              		.loc 1 592 9 is_stmt 1 view .LVU775
 592:rtos/uC-FS/Source/fs_file.c ****     }
 2275              		.loc 1 592 9 view .LVU776
 2276 001c FFF7FEFF 		bl	CPU_SW_Exception
 2277              	.LVL218:
 592:rtos/uC-FS/Source/fs_file.c ****     }
 2278              		.loc 1 592 9 is_stmt 0 view .LVU777
 2279 0020 F2E7     		b	.L165
 2280              	.L171:
 595:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2281              		.loc 1 595 8 is_stmt 1 view .LVU778
 595:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2282              		.loc 1 595 15 is_stmt 0 view .LVU779
 2283 0022 1323     		movs	r3, #19
 2284 0024 2B80     		strh	r3, [r5]	@ movhi
 596:rtos/uC-FS/Source/fs_file.c ****     }
 2285              		.loc 1 596 9 is_stmt 1 view .LVU780
 596:rtos/uC-FS/Source/fs_file.c ****     }
 2286              		.loc 1 596 16 is_stmt 0 view .LVU781
 2287 0026 0026     		movs	r6, #0
 2288 0028 F6E7     		b	.L167
 2289              	.L172:
 606:rtos/uC-FS/Source/fs_file.c **** 
 2290              		.loc 1 606 5 is_stmt 1 view .LVU782
 606:rtos/uC-FS/Source/fs_file.c **** 
 2291              		.loc 1 606 12 is_stmt 0 view .LVU783
 2292 002a 667D     		ldrb	r6, [r4, #21]	@ zero_extendqisi2
 2293              	.LVL219:
 611:rtos/uC-FS/Source/fs_file.c **** 
 2294              		.loc 1 611 5 is_stmt 1 view .LVU784
 2295 002c 2046     		mov	r0, r4
 2296 002e FFF7FEFF 		bl	FSFile_ReleaseUnlock
 2297              	.LVL220:
 613:rtos/uC-FS/Source/fs_file.c ****     return (is_eof);
 2298              		.loc 1 613 4 view .LVU785
 613:rtos/uC-FS/Source/fs_file.c ****     return (is_eof);
 2299              		.loc 1 613 11 is_stmt 0 view .LVU786
 2300 0032 0023     		movs	r3, #0
 2301 0034 2B80     		strh	r3, [r5]	@ movhi
 614:rtos/uC-FS/Source/fs_file.c **** }
 2302              		.loc 1 614 5 is_stmt 1 view .LVU787
 614:rtos/uC-FS/Source/fs_file.c **** }
ARM GAS  /tmp/cccHCpmH.s 			page 117


 2303              		.loc 1 614 12 is_stmt 0 view .LVU788
 2304 0036 EFE7     		b	.L167
 2305              		.cfi_endproc
 2306              	.LFE4:
 2308              		.section	.text.FSFile_IsErr,"ax",%progbits
 2309              		.align	1
 2310              		.global	FSFile_IsErr
 2311              		.syntax unified
 2312              		.thumb
 2313              		.thumb_func
 2314              		.fpu fpv4-sp-d16
 2316              	FSFile_IsErr:
 2317              	.LVL221:
 2318              	.LFB5:
 646:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  is_err;
 2319              		.loc 1 646 1 is_stmt 1 view -0
 2320              		.cfi_startproc
 2321              		@ args = 0, pretend = 0, frame = 0
 2322              		@ frame_needed = 0, uses_anonymous_args = 0
 646:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  is_err;
 2323              		.loc 1 646 1 is_stmt 0 view .LVU790
 2324 0000 70B5     		push	{r4, r5, r6, lr}
 2325              	.LCFI32:
 2326              		.cfi_def_cfa_offset 16
 2327              		.cfi_offset 4, -16
 2328              		.cfi_offset 5, -12
 2329              		.cfi_offset 6, -8
 2330              		.cfi_offset 14, -4
 2331 0002 0446     		mov	r4, r0
 647:rtos/uC-FS/Source/fs_file.c **** 
 2332              		.loc 1 647 5 is_stmt 1 view .LVU791
 651:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_NO);
 2333              		.loc 1 651 5 view .LVU792
 651:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_NO);
 2334              		.loc 1 651 8 is_stmt 0 view .LVU793
 2335 0004 0D46     		mov	r5, r1
 2336 0006 49B1     		cbz	r1, .L179
 2337              	.LVL222:
 2338              	.L174:
 652:rtos/uC-FS/Source/fs_file.c ****     }
 2339              		.loc 1 652 9 is_stmt 1 discriminator 1 view .LVU794
 654:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2340              		.loc 1 654 5 discriminator 1 view .LVU795
 654:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2341              		.loc 1 654 8 is_stmt 0 discriminator 1 view .LVU796
 2342 0008 5CB1     		cbz	r4, .L180
 661:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2343              		.loc 1 661 5 is_stmt 1 view .LVU797
 661:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2344              		.loc 1 661 11 is_stmt 0 view .LVU798
 2345 000a 2946     		mov	r1, r5
 2346 000c 2046     		mov	r0, r4
 2347 000e FFF7FEFF 		bl	FSFile_AcquireLockChk
 2348              	.LVL223:
 662:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2349              		.loc 1 662 5 is_stmt 1 view .LVU799
 662:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
ARM GAS  /tmp/cccHCpmH.s 			page 118


 2350              		.loc 1 662 9 is_stmt 0 view .LVU800
 2351 0012 2B88     		ldrh	r3, [r5]
 662:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2352              		.loc 1 662 8 view .LVU801
 2353 0014 4BB1     		cbz	r3, .L181
 663:rtos/uC-FS/Source/fs_file.c ****     }
 2354              		.loc 1 663 16 view .LVU802
 2355 0016 0026     		movs	r6, #0
 2356              	.L176:
 675:rtos/uC-FS/Source/fs_file.c **** 
 2357              		.loc 1 675 1 view .LVU803
 2358 0018 3046     		mov	r0, r6
 2359 001a 70BD     		pop	{r4, r5, r6, pc}
 2360              	.LVL224:
 2361              	.L179:
 652:rtos/uC-FS/Source/fs_file.c ****     }
 2362              		.loc 1 652 9 is_stmt 1 view .LVU804
 652:rtos/uC-FS/Source/fs_file.c ****     }
 2363              		.loc 1 652 9 view .LVU805
 2364 001c FFF7FEFF 		bl	CPU_SW_Exception
 2365              	.LVL225:
 652:rtos/uC-FS/Source/fs_file.c ****     }
 2366              		.loc 1 652 9 is_stmt 0 view .LVU806
 2367 0020 F2E7     		b	.L174
 2368              	.L180:
 655:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2369              		.loc 1 655 8 is_stmt 1 view .LVU807
 655:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2370              		.loc 1 655 15 is_stmt 0 view .LVU808
 2371 0022 1323     		movs	r3, #19
 2372 0024 2B80     		strh	r3, [r5]	@ movhi
 656:rtos/uC-FS/Source/fs_file.c ****     }
 2373              		.loc 1 656 9 is_stmt 1 view .LVU809
 656:rtos/uC-FS/Source/fs_file.c ****     }
 2374              		.loc 1 656 16 is_stmt 0 view .LVU810
 2375 0026 0026     		movs	r6, #0
 2376 0028 F6E7     		b	.L176
 2377              	.L181:
 666:rtos/uC-FS/Source/fs_file.c **** 
 2378              		.loc 1 666 5 is_stmt 1 view .LVU811
 666:rtos/uC-FS/Source/fs_file.c **** 
 2379              		.loc 1 666 12 is_stmt 0 view .LVU812
 2380 002a 267D     		ldrb	r6, [r4, #20]	@ zero_extendqisi2
 2381              	.LVL226:
 671:rtos/uC-FS/Source/fs_file.c **** 
 2382              		.loc 1 671 5 is_stmt 1 view .LVU813
 2383 002c 2046     		mov	r0, r4
 2384 002e FFF7FEFF 		bl	FSFile_ReleaseUnlock
 2385              	.LVL227:
 673:rtos/uC-FS/Source/fs_file.c ****     return (is_err);
 2386              		.loc 1 673 4 view .LVU814
 673:rtos/uC-FS/Source/fs_file.c ****     return (is_err);
 2387              		.loc 1 673 11 is_stmt 0 view .LVU815
 2388 0032 0023     		movs	r3, #0
 2389 0034 2B80     		strh	r3, [r5]	@ movhi
 674:rtos/uC-FS/Source/fs_file.c **** }
 2390              		.loc 1 674 5 is_stmt 1 view .LVU816
ARM GAS  /tmp/cccHCpmH.s 			page 119


 674:rtos/uC-FS/Source/fs_file.c **** }
 2391              		.loc 1 674 12 is_stmt 0 view .LVU817
 2392 0036 EFE7     		b	.L176
 2393              		.cfi_endproc
 2394              	.LFE5:
 2396              		.section	.text.FSFile_IsOpen,"ax",%progbits
 2397              		.align	1
 2398              		.global	FSFile_IsOpen
 2399              		.syntax unified
 2400              		.thumb
 2401              		.thumb_func
 2402              		.fpu fpv4-sp-d16
 2404              	FSFile_IsOpen:
 2405              	.LVL228:
 2406              	.LFB6:
 718:rtos/uC-FS/Source/fs_file.c ****     FS_FILE            *p_file;
 2407              		.loc 1 718 1 is_stmt 1 view -0
 2408              		.cfi_startproc
 2409              		@ args = 0, pretend = 0, frame = 72
 2410              		@ frame_needed = 0, uses_anonymous_args = 0
 718:rtos/uC-FS/Source/fs_file.c ****     FS_FILE            *p_file;
 2411              		.loc 1 718 1 is_stmt 0 view .LVU819
 2412 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2413              	.LCFI33:
 2414              		.cfi_def_cfa_offset 20
 2415              		.cfi_offset 4, -20
 2416              		.cfi_offset 5, -16
 2417              		.cfi_offset 6, -12
 2418              		.cfi_offset 7, -8
 2419              		.cfi_offset 14, -4
 2420 0002 95B0     		sub	sp, sp, #84
 2421              	.LCFI34:
 2422              		.cfi_def_cfa_offset 104
 2423 0004 0446     		mov	r4, r0
 2424 0006 0D46     		mov	r5, r1
 719:rtos/uC-FS/Source/fs_file.c ****     FS_QTY              max_ix;
 2425              		.loc 1 719 5 is_stmt 1 view .LVU820
 720:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U          ix;
 2426              		.loc 1 720 5 view .LVU821
 721:rtos/uC-FS/Source/fs_file.c ****     FS_FAT_FILE_DATA    disk_file_fat_data;
 2427              		.loc 1 721 5 view .LVU822
 722:rtos/uC-FS/Source/fs_file.c ****     FS_FAT_FILE_DATA   *p_fat_file_data;
 2428              		.loc 1 722 5 view .LVU823
 723:rtos/uC-FS/Source/fs_file.c ****     FS_VOL             *p_open_vol;
 2429              		.loc 1 723 5 view .LVU824
 724:rtos/uC-FS/Source/fs_file.c ****     FS_VOL             *p_disk_vol;
 2430              		.loc 1 724 5 view .LVU825
 725:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR           *file_name;
 2431              		.loc 1 725 5 view .LVU826
 726:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN         file_open;
 2432              		.loc 1 726 5 view .LVU827
 727:rtos/uC-FS/Source/fs_file.c **** 
 2433              		.loc 1 727 5 view .LVU828
 731:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_YES);
 2434              		.loc 1 731 5 view .LVU829
 731:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(DEF_YES);
 2435              		.loc 1 731 8 is_stmt 0 view .LVU830
ARM GAS  /tmp/cccHCpmH.s 			page 120


 2436 0008 1646     		mov	r6, r2
 2437 000a 7AB1     		cbz	r2, .L196
 2438              	.LVL229:
 2439              	.L183:
 732:rtos/uC-FS/Source/fs_file.c ****     }
 2440              		.loc 1 732 9 is_stmt 1 discriminator 1 view .LVU831
 734:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NAME_NULL;
 2441              		.loc 1 734 5 discriminator 1 view .LVU832
 734:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NAME_NULL;
 2442              		.loc 1 734 8 is_stmt 0 discriminator 1 view .LVU833
 2443 000c 8CB1     		cbz	r4, .L197
 738:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2444              		.loc 1 738 5 is_stmt 1 view .LVU834
 738:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 2445              		.loc 1 738 8 is_stmt 0 view .LVU835
 2446 000e ADB1     		cbz	r5, .L198
 746:rtos/uC-FS/Source/fs_file.c **** 
 2447              		.loc 1 746 4 is_stmt 1 view .LVU836
 746:rtos/uC-FS/Source/fs_file.c **** 
 2448              		.loc 1 746 15 is_stmt 0 view .LVU837
 2449 0010 0023     		movs	r3, #0
 2450 0012 2B60     		str	r3, [r5]
 749:rtos/uC-FS/Source/fs_file.c ****                                     &p_disk_vol,
 2451              		.loc 1 749 5 is_stmt 1 view .LVU838
 749:rtos/uC-FS/Source/fs_file.c ****                                     &p_disk_vol,
 2452              		.loc 1 749 17 is_stmt 0 view .LVU839
 2453 0014 3246     		mov	r2, r6
 2454 0016 03A9     		add	r1, sp, #12
 2455 0018 2046     		mov	r0, r4
 2456 001a FFF7FEFF 		bl	FSFile_NameParseChk
 2457              	.LVL230:
 753:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_NONE;
 2458              		.loc 1 753 5 is_stmt 1 view .LVU840
 753:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_NONE;
 2459              		.loc 1 753 9 is_stmt 0 view .LVU841
 2460 001e 3388     		ldrh	r3, [r6]
 753:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_NONE;
 2461              		.loc 1 753 8 view .LVU842
 2462 0020 83B1     		cbz	r3, .L187
 754:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2463              		.loc 1 754 9 is_stmt 1 view .LVU843
 754:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2464              		.loc 1 754 17 is_stmt 0 view .LVU844
 2465 0022 0024     		movs	r4, #0
 2466              	.LVL231:
 754:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2467              		.loc 1 754 17 view .LVU845
 2468 0024 3480     		strh	r4, [r6]	@ movhi
 755:rtos/uC-FS/Source/fs_file.c ****     }
 2469              		.loc 1 755 9 is_stmt 1 view .LVU846
 2470              	.LVL232:
 2471              	.L185:
 829:rtos/uC-FS/Source/fs_file.c **** 
 2472              		.loc 1 829 1 is_stmt 0 view .LVU847
 2473 0026 2046     		mov	r0, r4
 2474 0028 15B0     		add	sp, sp, #84
 2475              	.LCFI35:
ARM GAS  /tmp/cccHCpmH.s 			page 121


 2476              		.cfi_remember_state
 2477              		.cfi_def_cfa_offset 20
 2478              		@ sp needed
 2479 002a F0BD     		pop	{r4, r5, r6, r7, pc}
 2480              	.LVL233:
 2481              	.L196:
 2482              	.LCFI36:
 2483              		.cfi_restore_state
 732:rtos/uC-FS/Source/fs_file.c ****     }
 2484              		.loc 1 732 9 is_stmt 1 view .LVU848
 732:rtos/uC-FS/Source/fs_file.c ****     }
 2485              		.loc 1 732 9 view .LVU849
 2486 002c FFF7FEFF 		bl	CPU_SW_Exception
 2487              	.LVL234:
 732:rtos/uC-FS/Source/fs_file.c ****     }
 2488              		.loc 1 732 9 is_stmt 0 view .LVU850
 2489 0030 ECE7     		b	.L183
 2490              	.L197:
 735:rtos/uC-FS/Source/fs_file.c ****         return (DEF_YES);
 2491              		.loc 1 735 8 is_stmt 1 view .LVU851
 735:rtos/uC-FS/Source/fs_file.c ****         return (DEF_YES);
 2492              		.loc 1 735 15 is_stmt 0 view .LVU852
 2493 0032 40F28933 		movw	r3, #905
 2494 0036 3380     		strh	r3, [r6]	@ movhi
 736:rtos/uC-FS/Source/fs_file.c ****     }
 2495              		.loc 1 736 9 is_stmt 1 view .LVU853
 736:rtos/uC-FS/Source/fs_file.c ****     }
 2496              		.loc 1 736 16 is_stmt 0 view .LVU854
 2497 0038 0124     		movs	r4, #1
 2498              	.LVL235:
 736:rtos/uC-FS/Source/fs_file.c ****     }
 2499              		.loc 1 736 16 view .LVU855
 2500 003a F4E7     		b	.L185
 2501              	.LVL236:
 2502              	.L198:
 739:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2503              		.loc 1 739 8 is_stmt 1 view .LVU856
 739:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2504              		.loc 1 739 15 is_stmt 0 view .LVU857
 2505 003c 1323     		movs	r3, #19
 2506 003e 3380     		strh	r3, [r6]	@ movhi
 740:rtos/uC-FS/Source/fs_file.c ****     }
 2507              		.loc 1 740 9 is_stmt 1 view .LVU858
 740:rtos/uC-FS/Source/fs_file.c ****     }
 2508              		.loc 1 740 16 is_stmt 0 view .LVU859
 2509 0040 0024     		movs	r4, #0
 2510              	.LVL237:
 740:rtos/uC-FS/Source/fs_file.c ****     }
 2511              		.loc 1 740 16 view .LVU860
 2512 0042 F0E7     		b	.L185
 2513              	.LVL238:
 2514              	.L187:
 759:rtos/uC-FS/Source/fs_file.c **** 
 2515              		.loc 1 759 5 is_stmt 1 view .LVU861
 2516 0044 0096     		str	r6, [sp]
 2517 0046 40F20123 		movw	r3, #513
 2518 004a 0246     		mov	r2, r0
ARM GAS  /tmp/cccHCpmH.s 			page 122


 2519 004c 04A9     		add	r1, sp, #16
 2520 004e 0398     		ldr	r0, [sp, #12]
 2521              	.LVL239:
 759:rtos/uC-FS/Source/fs_file.c **** 
 2522              		.loc 1 759 5 is_stmt 0 view .LVU862
 2523 0050 FFF7FEFF 		bl	FS_FAT_LowEntryFind
 2524              	.LVL240:
 762:rtos/uC-FS/Source/fs_file.c ****     FSVol_Release(p_disk_vol);
 2525              		.loc 1 762 5 is_stmt 1 view .LVU863
 2526 0054 0398     		ldr	r0, [sp, #12]
 2527 0056 FFF7FEFF 		bl	FSVol_Unlock
 2528              	.LVL241:
 763:rtos/uC-FS/Source/fs_file.c **** 
 2529              		.loc 1 763 5 view .LVU864
 2530 005a 0398     		ldr	r0, [sp, #12]
 2531 005c FFF7FEFF 		bl	FSVol_Release
 2532              	.LVL242:
 765:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NONE:
 2533              		.loc 1 765 5 view .LVU865
 765:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NONE:
 2534              		.loc 1 765 13 is_stmt 0 view .LVU866
 2535 0060 3388     		ldrh	r3, [r6]
 765:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NONE:
 2536              		.loc 1 765 5 view .LVU867
 2537 0062 3BB1     		cbz	r3, .L188
 2538 0064 A3F2C523 		subw	r3, r3, #709
 2539 0068 9BB2     		uxth	r3, r3
 2540 006a 022B     		cmp	r3, #2
 2541 006c 3AD8     		bhi	.L193
 773:rtos/uC-FS/Source/fs_file.c ****              return (DEF_NO);
 2542              		.loc 1 773 13 is_stmt 1 view .LVU868
 773:rtos/uC-FS/Source/fs_file.c ****              return (DEF_NO);
 2543              		.loc 1 773 20 is_stmt 0 view .LVU869
 2544 006e 0024     		movs	r4, #0
 2545              	.LVL243:
 773:rtos/uC-FS/Source/fs_file.c ****              return (DEF_NO);
 2546              		.loc 1 773 20 view .LVU870
 2547 0070 3480     		strh	r4, [r6]	@ movhi
 774:rtos/uC-FS/Source/fs_file.c **** 
 2548              		.loc 1 774 14 is_stmt 1 view .LVU871
 774:rtos/uC-FS/Source/fs_file.c **** 
 2549              		.loc 1 774 21 is_stmt 0 view .LVU872
 2550 0072 D8E7     		b	.L185
 2551              	.LVL244:
 2552              	.L188:
 767:rtos/uC-FS/Source/fs_file.c **** 
 2553              		.loc 1 767 14 is_stmt 1 view .LVU873
 787:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2554              		.loc 1 787 5 view .LVU874
 2555 0074 3046     		mov	r0, r6
 2556 0076 FFF7FEFF 		bl	FS_OS_Lock
 2557              	.LVL245:
 788:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2558              		.loc 1 788 5 view .LVU875
 788:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2559              		.loc 1 788 9 is_stmt 0 view .LVU876
 2560 007a 3388     		ldrh	r3, [r6]
ARM GAS  /tmp/cccHCpmH.s 			page 123


 788:rtos/uC-FS/Source/fs_file.c ****         return (DEF_NO);
 2561              		.loc 1 788 8 view .LVU877
 2562 007c 002B     		cmp	r3, #0
 2563 007e 33D1     		bne	.L194
 792:rtos/uC-FS/Source/fs_file.c **** 
 2564              		.loc 1 792 5 is_stmt 1 view .LVU878
 792:rtos/uC-FS/Source/fs_file.c **** 
 2565              		.loc 1 792 12 is_stmt 0 view .LVU879
 2566 0080 1A4B     		ldr	r3, .L199
 2567 0082 1F88     		ldrh	r7, [r3]
 2568              	.LVL246:
 794:rtos/uC-FS/Source/fs_file.c ****     ix        = 0u;
 2569              		.loc 1 794 5 is_stmt 1 view .LVU880
 795:rtos/uC-FS/Source/fs_file.c ****     while ((ix < max_ix) &&
 2570              		.loc 1 795 5 view .LVU881
 796:rtos/uC-FS/Source/fs_file.c ****            (file_open == DEF_NO)) {
 2571              		.loc 1 796 5 view .LVU882
 794:rtos/uC-FS/Source/fs_file.c ****     ix        = 0u;
 2572              		.loc 1 794 15 is_stmt 0 view .LVU883
 2573 0084 0024     		movs	r4, #0
 2574              	.LVL247:
 795:rtos/uC-FS/Source/fs_file.c ****     while ((ix < max_ix) &&
 2575              		.loc 1 795 15 view .LVU884
 2576 0086 2346     		mov	r3, r4
 796:rtos/uC-FS/Source/fs_file.c ****            (file_open == DEF_NO)) {
 2577              		.loc 1 796 11 view .LVU885
 2578 0088 00E0     		b	.L189
 2579              	.LVL248:
 2580              	.L190:
 820:rtos/uC-FS/Source/fs_file.c ****     }
 2581              		.loc 1 820 9 is_stmt 1 view .LVU886
 820:rtos/uC-FS/Source/fs_file.c ****     }
 2582              		.loc 1 820 11 is_stmt 0 view .LVU887
 2583 008a 0133     		adds	r3, r3, #1
 2584              	.LVL249:
 2585              	.L189:
 796:rtos/uC-FS/Source/fs_file.c ****            (file_open == DEF_NO)) {
 2586              		.loc 1 796 11 is_stmt 1 view .LVU888
 2587 008c 9F42     		cmp	r7, r3
 2588 008e 24D9     		bls	.L191
 796:rtos/uC-FS/Source/fs_file.c ****            (file_open == DEF_NO)) {
 2589              		.loc 1 796 26 is_stmt 0 discriminator 1 view .LVU889
 2590 0090 1CBB     		cbnz	r4, .L191
 798:rtos/uC-FS/Source/fs_file.c **** 
 2591              		.loc 1 798 9 is_stmt 1 view .LVU890
 798:rtos/uC-FS/Source/fs_file.c **** 
 2592              		.loc 1 798 28 is_stmt 0 view .LVU891
 2593 0092 174A     		ldr	r2, .L199+4
 2594 0094 1268     		ldr	r2, [r2]
 798:rtos/uC-FS/Source/fs_file.c **** 
 2595              		.loc 1 798 16 view .LVU892
 2596 0096 52F82320 		ldr	r2, [r2, r3, lsl #2]
 2597              	.LVL250:
 800:rtos/uC-FS/Source/fs_file.c ****             p_open_vol = p_file->VolPtr;
 2598              		.loc 1 800 9 is_stmt 1 view .LVU893
 800:rtos/uC-FS/Source/fs_file.c ****             p_open_vol = p_file->VolPtr;
 2599              		.loc 1 800 12 is_stmt 0 view .LVU894
ARM GAS  /tmp/cccHCpmH.s 			page 124


 2600 009a 002A     		cmp	r2, #0
 2601 009c F5D0     		beq	.L190
 801:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Cmp vol ptr.                    
 2602              		.loc 1 801 13 is_stmt 1 view .LVU895
 801:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Cmp vol ptr.                    
 2603              		.loc 1 801 24 is_stmt 0 view .LVU896
 2604 009e D16B     		ldr	r1, [r2, #60]
 2605              	.LVL251:
 803:rtos/uC-FS/Source/fs_file.c ****                 p_fat_file_data         = (FS_FAT_FILE_DATA *)p_file->DataPtr;
 2606              		.loc 1 803 13 is_stmt 1 view .LVU897
 803:rtos/uC-FS/Source/fs_file.c ****                 p_fat_file_data         = (FS_FAT_FILE_DATA *)p_file->DataPtr;
 2607              		.loc 1 803 28 is_stmt 0 view .LVU898
 2608 00a0 0398     		ldr	r0, [sp, #12]
 803:rtos/uC-FS/Source/fs_file.c ****                 p_fat_file_data         = (FS_FAT_FILE_DATA *)p_file->DataPtr;
 2609              		.loc 1 803 16 view .LVU899
 2610 00a2 8842     		cmp	r0, r1
 2611 00a4 F1D1     		bne	.L190
 804:rtos/uC-FS/Source/fs_file.c **** 
 2612              		.loc 1 804 17 is_stmt 1 view .LVU900
 804:rtos/uC-FS/Source/fs_file.c **** 
 2613              		.loc 1 804 41 is_stmt 0 view .LVU901
 2614 00a6 D2F840C0 		ldr	ip, [r2, #64]
 2615              	.LVL252:
 807:rtos/uC-FS/Source/fs_file.c ****                     if (p_fat_file_data->DirEndSec == disk_file_fat_data.DirEndSec) {
 2616              		.loc 1 807 17 is_stmt 1 view .LVU902
 807:rtos/uC-FS/Source/fs_file.c ****                     if (p_fat_file_data->DirEndSec == disk_file_fat_data.DirEndSec) {
 2617              		.loc 1 807 36 is_stmt 0 view .LVU903
 2618 00aa DCF82010 		ldr	r1, [ip, #32]
 2619              	.LVL253:
 807:rtos/uC-FS/Source/fs_file.c ****                     if (p_fat_file_data->DirEndSec == disk_file_fat_data.DirEndSec) {
 2620              		.loc 1 807 20 view .LVU904
 2621 00ae 0C98     		ldr	r0, [sp, #48]
 2622 00b0 8142     		cmp	r1, r0
 2623 00b2 EAD1     		bne	.L190
 808:rtos/uC-FS/Source/fs_file.c ****                         if (p_fat_file_data->DirStartSecPos == disk_file_fat_data.DirStartSecPos) {
 2624              		.loc 1 808 21 is_stmt 1 view .LVU905
 808:rtos/uC-FS/Source/fs_file.c ****                         if (p_fat_file_data->DirStartSecPos == disk_file_fat_data.DirStartSecPos) {
 2625              		.loc 1 808 40 is_stmt 0 view .LVU906
 2626 00b4 DCF81C10 		ldr	r1, [ip, #28]
 808:rtos/uC-FS/Source/fs_file.c ****                         if (p_fat_file_data->DirStartSecPos == disk_file_fat_data.DirStartSecPos) {
 2627              		.loc 1 808 24 view .LVU907
 2628 00b8 0B98     		ldr	r0, [sp, #44]
 2629 00ba 8142     		cmp	r1, r0
 2630 00bc E5D1     		bne	.L190
 809:rtos/uC-FS/Source/fs_file.c ****                             if (p_fat_file_data->DirStartSec == disk_file_fat_data.DirStartSec) {
 2631              		.loc 1 809 25 is_stmt 1 view .LVU908
 809:rtos/uC-FS/Source/fs_file.c ****                             if (p_fat_file_data->DirStartSec == disk_file_fat_data.DirStartSec) {
 2632              		.loc 1 809 44 is_stmt 0 view .LVU909
 2633 00be DCF81810 		ldr	r1, [ip, #24]
 809:rtos/uC-FS/Source/fs_file.c ****                             if (p_fat_file_data->DirStartSec == disk_file_fat_data.DirStartSec) {
 2634              		.loc 1 809 28 view .LVU910
 2635 00c2 0A98     		ldr	r0, [sp, #40]
 2636 00c4 8142     		cmp	r1, r0
 2637 00c6 E0D1     		bne	.L190
 810:rtos/uC-FS/Source/fs_file.c ****                                *p_mode = p_file->AccessMode;
 2638              		.loc 1 810 29 is_stmt 1 view .LVU911
 810:rtos/uC-FS/Source/fs_file.c ****                                *p_mode = p_file->AccessMode;
ARM GAS  /tmp/cccHCpmH.s 			page 125


 2639              		.loc 1 810 48 is_stmt 0 view .LVU912
 2640 00c8 DCF81400 		ldr	r0, [ip, #20]
 810:rtos/uC-FS/Source/fs_file.c ****                                *p_mode = p_file->AccessMode;
 2641              		.loc 1 810 83 view .LVU913
 2642 00cc 0999     		ldr	r1, [sp, #36]
 810:rtos/uC-FS/Source/fs_file.c ****                                *p_mode = p_file->AccessMode;
 2643              		.loc 1 810 32 view .LVU914
 2644 00ce 8842     		cmp	r0, r1
 2645 00d0 DBD1     		bne	.L190
 811:rtos/uC-FS/Source/fs_file.c ****                                 file_open = DEF_YES;
 2646              		.loc 1 811 32 is_stmt 1 view .LVU915
 811:rtos/uC-FS/Source/fs_file.c ****                                 file_open = DEF_YES;
 2647              		.loc 1 811 48 is_stmt 0 view .LVU916
 2648 00d2 1269     		ldr	r2, [r2, #16]
 2649              	.LVL254:
 811:rtos/uC-FS/Source/fs_file.c ****                                 file_open = DEF_YES;
 2650              		.loc 1 811 40 view .LVU917
 2651 00d4 2A60     		str	r2, [r5]
 2652              	.LVL255:
 812:rtos/uC-FS/Source/fs_file.c ****                             }
 2653              		.loc 1 812 33 is_stmt 1 view .LVU918
 812:rtos/uC-FS/Source/fs_file.c ****                             }
 2654              		.loc 1 812 43 is_stmt 0 view .LVU919
 2655 00d6 0124     		movs	r4, #1
 2656 00d8 D7E7     		b	.L190
 2657              	.LVL256:
 2658              	.L191:
 823:rtos/uC-FS/Source/fs_file.c **** 
 2659              		.loc 1 823 5 is_stmt 1 view .LVU920
 2660 00da FFF7FEFF 		bl	FS_OS_Unlock
 2661              	.LVL257:
 826:rtos/uC-FS/Source/fs_file.c **** 
 2662              		.loc 1 826 4 view .LVU921
 826:rtos/uC-FS/Source/fs_file.c **** 
 2663              		.loc 1 826 13 is_stmt 0 view .LVU922
 2664 00de 0023     		movs	r3, #0
 2665 00e0 3380     		strh	r3, [r6]	@ movhi
 828:rtos/uC-FS/Source/fs_file.c **** }
 2666              		.loc 1 828 5 is_stmt 1 view .LVU923
 828:rtos/uC-FS/Source/fs_file.c **** }
 2667              		.loc 1 828 12 is_stmt 0 view .LVU924
 2668 00e2 A0E7     		b	.L185
 2669              	.LVL258:
 2670              	.L193:
 765:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NONE:
 2671              		.loc 1 765 5 view .LVU925
 2672 00e4 0024     		movs	r4, #0
 2673              	.LVL259:
 765:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_NONE:
 2674              		.loc 1 765 5 view .LVU926
 2675 00e6 9EE7     		b	.L185
 2676              	.LVL260:
 2677              	.L194:
 789:rtos/uC-FS/Source/fs_file.c ****     }
 2678              		.loc 1 789 16 view .LVU927
 2679 00e8 0024     		movs	r4, #0
 2680              	.LVL261:
ARM GAS  /tmp/cccHCpmH.s 			page 126


 789:rtos/uC-FS/Source/fs_file.c ****     }
 2681              		.loc 1 789 16 view .LVU928
 2682 00ea 9CE7     		b	.L185
 2683              	.L200:
 2684              		.align	2
 2685              	.L199:
 2686 00ec 00000000 		.word	.LANCHOR3
 2687 00f0 00000000 		.word	.LANCHOR0
 2688              		.cfi_endproc
 2689              	.LFE6:
 2691              		.section	.text.FSFile_Open,"ax",%progbits
 2692              		.align	1
 2693              		.global	FSFile_Open
 2694              		.syntax unified
 2695              		.thumb
 2696              		.thumb_func
 2697              		.fpu fpv4-sp-d16
 2699              	FSFile_Open:
 2700              	.LVL262:
 2701              	.LFB7:
1128:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR       *name_file;
 2702              		.loc 1 1128 1 is_stmt 1 view -0
 2703              		.cfi_startproc
 2704              		@ args = 0, pretend = 0, frame = 40
 2705              		@ frame_needed = 0, uses_anonymous_args = 0
1128:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR       *name_file;
 2706              		.loc 1 1128 1 is_stmt 0 view .LVU930
 2707 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2708              	.LCFI37:
 2709              		.cfi_def_cfa_offset 20
 2710              		.cfi_offset 4, -20
 2711              		.cfi_offset 5, -16
 2712              		.cfi_offset 6, -12
 2713              		.cfi_offset 7, -8
 2714              		.cfi_offset 14, -4
 2715 0002 8BB0     		sub	sp, sp, #44
 2716              	.LCFI38:
 2717              		.cfi_def_cfa_offset 64
 2718 0004 0646     		mov	r6, r0
 2719 0006 0C46     		mov	r4, r1
1129:rtos/uC-FS/Source/fs_file.c ****     CPU_CHAR       *name_full_temp;
 2720              		.loc 1 1129 5 is_stmt 1 view .LVU931
1130:rtos/uC-FS/Source/fs_file.c ****     FS_FILE        *p_file;
 2721              		.loc 1 1130 5 view .LVU932
1131:rtos/uC-FS/Source/fs_file.c ****     FS_VOL         *p_vol;
 2722              		.loc 1 1131 5 view .LVU933
1132:rtos/uC-FS/Source/fs_file.c ****     FS_ERR          err;
 2723              		.loc 1 1132 5 view .LVU934
1133:rtos/uC-FS/Source/fs_file.c ****     FS_ENTRY_INFO   file_info;
 2724              		.loc 1 1133 5 view .LVU935
1134:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_CONCURRENT_ENTRIES_ACCESS_EN == DEF_DISABLED)
 2725              		.loc 1 1134 5 view .LVU936
1136:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN     is_write_mode;
 2726              		.loc 1 1136 5 view .LVU937
1137:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS        open_mode;
 2727              		.loc 1 1137 5 view .LVU938
1138:rtos/uC-FS/Source/fs_file.c **** #endif
ARM GAS  /tmp/cccHCpmH.s 			page 127


 2728              		.loc 1 1138 5 view .LVU939
1143:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION((FS_FILE *)0);
 2729              		.loc 1 1143 5 view .LVU940
1143:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION((FS_FILE *)0);
 2730              		.loc 1 1143 8 is_stmt 0 view .LVU941
 2731 0008 1746     		mov	r7, r2
 2732 000a 002A     		cmp	r2, #0
 2733 000c 44D0     		beq	.L224
 2734              	.LVL263:
 2735              	.L202:
1144:rtos/uC-FS/Source/fs_file.c ****     }
 2736              		.loc 1 1144 9 is_stmt 1 discriminator 1 view .LVU942
1170:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NAME_NULL;
 2737              		.loc 1 1170 5 discriminator 1 view .LVU943
1170:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NAME_NULL;
 2738              		.loc 1 1170 8 is_stmt 0 discriminator 1 view .LVU944
 2739 000e 002E     		cmp	r6, #0
 2740 0010 45D0     		beq	.L225
1175:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
 2741              		.loc 1 1175 5 is_stmt 1 view .LVU945
1175:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
 2742              		.loc 1 1175 8 is_stmt 0 view .LVU946
 2743 0012 14F0030F 		tst	r4, #3
 2744 0016 47D0     		beq	.L226
1180:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 2745              		.loc 1 1180 5 is_stmt 1 view .LVU947
1180:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 2746              		.loc 1 1180 8 is_stmt 0 view .LVU948
 2747 0018 14F0080F 		tst	r4, #8
 2748 001c 02D0     		beq	.L206
1181:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
 2749              		.loc 1 1181 9 is_stmt 1 view .LVU949
1181:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
 2750              		.loc 1 1181 12 is_stmt 0 view .LVU950
 2751 001e 14F0020F 		tst	r4, #2
 2752 0022 46D0     		beq	.L227
 2753              	.L206:
1187:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_CREATE) == DEF_YES) {
 2754              		.loc 1 1187 5 is_stmt 1 view .LVU951
1187:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_CREATE) == DEF_YES) {
 2755              		.loc 1 1187 8 is_stmt 0 view .LVU952
 2756 0024 14F0200F 		tst	r4, #32
 2757 0028 02D0     		beq	.L207
1188:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
 2758              		.loc 1 1188 9 is_stmt 1 view .LVU953
1188:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
 2759              		.loc 1 1188 12 is_stmt 0 view .LVU954
 2760 002a 14F0040F 		tst	r4, #4
 2761 002e 45D0     		beq	.L228
 2762              	.L207:
1194:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 2763              		.loc 1 1194 5 is_stmt 1 view .LVU955
1194:rtos/uC-FS/Source/fs_file.c ****         if (DEF_BIT_IS_CLR(mode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 2764              		.loc 1 1194 8 is_stmt 0 view .LVU956
 2765 0030 14F0100F 		tst	r4, #16
 2766 0034 02D0     		beq	.L208
1195:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
ARM GAS  /tmp/cccHCpmH.s 			page 128


 2767              		.loc 1 1195 9 is_stmt 1 view .LVU957
1195:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_FILE_INVALID_ACCESS_MODE;
 2768              		.loc 1 1195 12 is_stmt 0 view .LVU958
 2769 0036 14F0020F 		tst	r4, #2
 2770 003a 44D0     		beq	.L229
 2771              	.L208:
1201:rtos/uC-FS/Source/fs_file.c ****                  FS_FILE_ACCESS_MODE_TRUNCATE | FS_FILE_ACCESS_MODE_CREATE | FS_FILE_ACCESS_MODE_EX
 2772              		.loc 1 1201 5 is_stmt 1 view .LVU959
1201:rtos/uC-FS/Source/fs_file.c ****                  FS_FILE_ACCESS_MODE_TRUNCATE | FS_FILE_ACCESS_MODE_CREATE | FS_FILE_ACCESS_MODE_EX
 2773              		.loc 1 1201 8 is_stmt 0 view .LVU960
 2774 003c 34F07F03 		bics	r3, r4, #127
 2775 0040 46D1     		bne	.L230
1222:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2776              		.loc 1 1222 5 is_stmt 1 view .LVU961
 2777 0042 3846     		mov	r0, r7
 2778 0044 FFF7FEFF 		bl	FS_OS_Lock
 2779              	.LVL264:
1223:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2780              		.loc 1 1223 5 view .LVU962
1223:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2781              		.loc 1 1223 9 is_stmt 0 view .LVU963
 2782 0048 3B88     		ldrh	r3, [r7]
1223:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2783              		.loc 1 1223 8 view .LVU964
 2784 004a 002B     		cmp	r3, #0
 2785 004c 40F0C580 		bne	.L220
1227:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2786              		.loc 1 1227 5 is_stmt 1 view .LVU965
1227:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 2787              		.loc 1 1227 14 is_stmt 0 view .LVU966
 2788 0050 3846     		mov	r0, r7
 2789 0052 FFF7FEFF 		bl	FSFile_ObjGet
 2790              	.LVL265:
 2791 0056 0546     		mov	r5, r0
 2792              	.LVL266:
1228:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NONE_AVAIL;
 2793              		.loc 1 1228 5 is_stmt 1 view .LVU967
1228:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NONE_AVAIL;
 2794              		.loc 1 1228 9 is_stmt 0 view .LVU968
 2795 0058 3B88     		ldrh	r3, [r7]
1228:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_NONE_AVAIL;
 2796              		.loc 1 1228 8 view .LVU969
 2797 005a 002B     		cmp	r3, #0
 2798 005c 3FD1     		bne	.L231
1234:rtos/uC-FS/Source/fs_file.c ****     p_file->RefCnt     =  1u;
 2799              		.loc 1 1234 5 is_stmt 1 view .LVU970
1234:rtos/uC-FS/Source/fs_file.c ****     p_file->RefCnt     =  1u;
 2800              		.loc 1 1234 24 is_stmt 0 view .LVU971
 2801 005e 0461     		str	r4, [r0, #16]
1235:rtos/uC-FS/Source/fs_file.c ****     p_file->State      =  FS_FILE_STATE_OPENING;
 2802              		.loc 1 1235 5 is_stmt 1 view .LVU972
1235:rtos/uC-FS/Source/fs_file.c ****     p_file->State      =  FS_FILE_STATE_OPENING;
 2803              		.loc 1 1235 24 is_stmt 0 view .LVU973
 2804 0060 0123     		movs	r3, #1
 2805 0062 8360     		str	r3, [r0, #8]
1236:rtos/uC-FS/Source/fs_file.c ****     p_file->VolPtr     = (FS_VOL *)0;
 2806              		.loc 1 1236 5 is_stmt 1 view .LVU974
ARM GAS  /tmp/cccHCpmH.s 			page 129


1236:rtos/uC-FS/Source/fs_file.c ****     p_file->VolPtr     = (FS_VOL *)0;
 2807              		.loc 1 1236 24 is_stmt 0 view .LVU975
 2808 0064 0223     		movs	r3, #2
 2809 0066 8380     		strh	r3, [r0, #4]	@ movhi
1237:rtos/uC-FS/Source/fs_file.c **** 
 2810              		.loc 1 1237 5 is_stmt 1 view .LVU976
1237:rtos/uC-FS/Source/fs_file.c **** 
 2811              		.loc 1 1237 24 is_stmt 0 view .LVU977
 2812 0068 0023     		movs	r3, #0
 2813 006a C363     		str	r3, [r0, #60]
1239:rtos/uC-FS/Source/fs_file.c **** 
 2814              		.loc 1 1239 5 is_stmt 1 view .LVU978
 2815 006c FFF7FEFF 		bl	FS_OS_Unlock
 2816              	.LVL267:
1258:rtos/uC-FS/Source/fs_file.c **** #endif
 2817              		.loc 1 1258 5 view .LVU979
1264:rtos/uC-FS/Source/fs_file.c **** 
 2818              		.loc 1 1264 5 view .LVU980
1264:rtos/uC-FS/Source/fs_file.c **** 
 2819              		.loc 1 1264 17 is_stmt 0 view .LVU981
 2820 0070 3A46     		mov	r2, r7
 2821 0072 6946     		mov	r1, sp
 2822 0074 3046     		mov	r0, r6
 2823 0076 FFF7FEFF 		bl	FSFile_IsOpen
 2824              	.LVL268:
1266:rtos/uC-FS/Source/fs_file.c **** 
 2825              		.loc 1 1266 5 is_stmt 1 view .LVU982
1266:rtos/uC-FS/Source/fs_file.c **** 
 2826              		.loc 1 1266 9 is_stmt 0 view .LVU983
 2827 007a 3B88     		ldrh	r3, [r7]
1266:rtos/uC-FS/Source/fs_file.c **** 
 2828              		.loc 1 1266 8 view .LVU984
 2829 007c 002B     		cmp	r3, #0
 2830 007e 35D1     		bne	.L232
1282:rtos/uC-FS/Source/fs_file.c ****                                                                 /* If file is already open ...     
 2831              		.loc 1 1282 5 is_stmt 1 view .LVU985
1282:rtos/uC-FS/Source/fs_file.c ****                                                                 /* If file is already open ...     
 2832              		.loc 1 1282 8 is_stmt 0 view .LVU986
 2833 0080 0128     		cmp	r0, #1
 2834 0082 3BD1     		bne	.L212
1286:rtos/uC-FS/Source/fs_file.c ****         is_write_mode = ((mode      & FS_FILE_ALL_WR_ACCESS_MODE) != 0u) || is_write_mode;
 2835              		.loc 1 1286 9 is_stmt 1 view .LVU987
1286:rtos/uC-FS/Source/fs_file.c ****         is_write_mode = ((mode      & FS_FILE_ALL_WR_ACCESS_MODE) != 0u) || is_write_mode;
 2836              		.loc 1 1286 37 is_stmt 0 view .LVU988
 2837 0084 009B     		ldr	r3, [sp]
 2838 0086 03F03E03 		and	r3, r3, #62
 2839              	.LVL269:
1287:rtos/uC-FS/Source/fs_file.c **** 
 2840              		.loc 1 1287 9 is_stmt 1 view .LVU989
1287:rtos/uC-FS/Source/fs_file.c **** 
 2841              		.loc 1 1287 74 is_stmt 0 view .LVU990
 2842 008a 14F03E0F 		tst	r4, #62
 2843 008e 32D1     		bne	.L221
1287:rtos/uC-FS/Source/fs_file.c **** 
 2844              		.loc 1 1287 74 discriminator 2 view .LVU991
 2845 0090 002B     		cmp	r3, #0
 2846 0092 6CD0     		beq	.L222
ARM GAS  /tmp/cccHCpmH.s 			page 130


1287:rtos/uC-FS/Source/fs_file.c **** 
 2847              		.loc 1 1287 74 view .LVU992
 2848 0094 0123     		movs	r3, #1
 2849              	.LVL270:
1287:rtos/uC-FS/Source/fs_file.c **** 
 2850              		.loc 1 1287 74 view .LVU993
 2851 0096 2FE0     		b	.L213
 2852              	.LVL271:
 2853              	.L224:
1144:rtos/uC-FS/Source/fs_file.c ****     }
 2854              		.loc 1 1144 9 is_stmt 1 view .LVU994
1144:rtos/uC-FS/Source/fs_file.c ****     }
 2855              		.loc 1 1144 9 view .LVU995
 2856 0098 FFF7FEFF 		bl	CPU_SW_Exception
 2857              	.LVL272:
1144:rtos/uC-FS/Source/fs_file.c ****     }
 2858              		.loc 1 1144 9 is_stmt 0 view .LVU996
 2859 009c B7E7     		b	.L202
 2860              	.L225:
1171:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2861              		.loc 1 1171 8 is_stmt 1 view .LVU997
1171:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2862              		.loc 1 1171 15 is_stmt 0 view .LVU998
 2863 009e 40F28933 		movw	r3, #905
 2864 00a2 3B80     		strh	r3, [r7]	@ movhi
1172:rtos/uC-FS/Source/fs_file.c ****     }
 2865              		.loc 1 1172 9 is_stmt 1 view .LVU999
1172:rtos/uC-FS/Source/fs_file.c ****     }
 2866              		.loc 1 1172 16 is_stmt 0 view .LVU1000
 2867 00a4 3546     		mov	r5, r6
 2868 00a6 17E0     		b	.L201
 2869              	.L226:
1176:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2870              		.loc 1 1176 8 is_stmt 1 view .LVU1001
1176:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2871              		.loc 1 1176 15 is_stmt 0 view .LVU1002
 2872 00a8 40F22333 		movw	r3, #803
 2873 00ac 3B80     		strh	r3, [r7]	@ movhi
1177:rtos/uC-FS/Source/fs_file.c ****     }
 2874              		.loc 1 1177 9 is_stmt 1 view .LVU1003
1177:rtos/uC-FS/Source/fs_file.c ****     }
 2875              		.loc 1 1177 16 is_stmt 0 view .LVU1004
 2876 00ae 0025     		movs	r5, #0
 2877 00b0 12E0     		b	.L201
 2878              	.L227:
1182:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 2879              		.loc 1 1182 12 is_stmt 1 view .LVU1005
1182:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 2880              		.loc 1 1182 19 is_stmt 0 view .LVU1006
 2881 00b2 40F22333 		movw	r3, #803
 2882 00b6 3B80     		strh	r3, [r7]	@ movhi
1183:rtos/uC-FS/Source/fs_file.c ****         }
 2883              		.loc 1 1183 13 is_stmt 1 view .LVU1007
1183:rtos/uC-FS/Source/fs_file.c ****         }
 2884              		.loc 1 1183 20 is_stmt 0 view .LVU1008
 2885 00b8 0025     		movs	r5, #0
 2886 00ba 0DE0     		b	.L201
ARM GAS  /tmp/cccHCpmH.s 			page 131


 2887              	.L228:
1189:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 2888              		.loc 1 1189 12 is_stmt 1 view .LVU1009
1189:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 2889              		.loc 1 1189 19 is_stmt 0 view .LVU1010
 2890 00bc 40F22333 		movw	r3, #803
 2891 00c0 3B80     		strh	r3, [r7]	@ movhi
1190:rtos/uC-FS/Source/fs_file.c ****         }
 2892              		.loc 1 1190 13 is_stmt 1 view .LVU1011
1190:rtos/uC-FS/Source/fs_file.c ****         }
 2893              		.loc 1 1190 20 is_stmt 0 view .LVU1012
 2894 00c2 0025     		movs	r5, #0
 2895 00c4 08E0     		b	.L201
 2896              	.L229:
1196:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 2897              		.loc 1 1196 12 is_stmt 1 view .LVU1013
1196:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 2898              		.loc 1 1196 19 is_stmt 0 view .LVU1014
 2899 00c6 40F22333 		movw	r3, #803
 2900 00ca 3B80     		strh	r3, [r7]	@ movhi
1197:rtos/uC-FS/Source/fs_file.c ****         }
 2901              		.loc 1 1197 13 is_stmt 1 view .LVU1015
1197:rtos/uC-FS/Source/fs_file.c ****         }
 2902              		.loc 1 1197 20 is_stmt 0 view .LVU1016
 2903 00cc 0025     		movs	r5, #0
 2904 00ce 03E0     		b	.L201
 2905              	.L230:
1204:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2906              		.loc 1 1204 8 is_stmt 1 view .LVU1017
1204:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2907              		.loc 1 1204 15 is_stmt 0 view .LVU1018
 2908 00d0 40F22333 		movw	r3, #803
 2909 00d4 3B80     		strh	r3, [r7]	@ movhi
1205:rtos/uC-FS/Source/fs_file.c ****     }
 2910              		.loc 1 1205 9 is_stmt 1 view .LVU1019
1205:rtos/uC-FS/Source/fs_file.c ****     }
 2911              		.loc 1 1205 16 is_stmt 0 view .LVU1020
 2912 00d6 0025     		movs	r5, #0
 2913              	.L201:
1389:rtos/uC-FS/Source/fs_file.c **** 
 2914              		.loc 1 1389 1 view .LVU1021
 2915 00d8 2846     		mov	r0, r5
 2916 00da 0BB0     		add	sp, sp, #44
 2917              	.LCFI39:
 2918              		.cfi_remember_state
 2919              		.cfi_def_cfa_offset 20
 2920              		@ sp needed
 2921 00dc F0BD     		pop	{r4, r5, r6, r7, pc}
 2922              	.LVL273:
 2923              	.L231:
 2924              	.LCFI40:
 2925              		.cfi_restore_state
1229:rtos/uC-FS/Source/fs_file.c ****         FS_OS_Unlock();
 2926              		.loc 1 1229 8 is_stmt 1 view .LVU1022
1229:rtos/uC-FS/Source/fs_file.c ****         FS_OS_Unlock();
 2927              		.loc 1 1229 15 is_stmt 0 view .LVU1023
 2928 00de 40F23133 		movw	r3, #817
ARM GAS  /tmp/cccHCpmH.s 			page 132


 2929 00e2 3B80     		strh	r3, [r7]	@ movhi
1230:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 2930              		.loc 1 1230 9 is_stmt 1 view .LVU1024
 2931 00e4 FFF7FEFF 		bl	FS_OS_Unlock
 2932              	.LVL274:
1231:rtos/uC-FS/Source/fs_file.c ****     }
 2933              		.loc 1 1231 9 view .LVU1025
1231:rtos/uC-FS/Source/fs_file.c ****     }
 2934              		.loc 1 1231 16 is_stmt 0 view .LVU1026
 2935 00e8 0025     		movs	r5, #0
 2936              	.LVL275:
1231:rtos/uC-FS/Source/fs_file.c ****     }
 2937              		.loc 1 1231 16 view .LVU1027
 2938 00ea F5E7     		b	.L201
 2939              	.LVL276:
 2940              	.L232:
1271:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
 2941              		.loc 1 1271 9 is_stmt 1 view .LVU1028
 2942 00ec 2846     		mov	r0, r5
 2943              	.LVL277:
1271:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
 2944              		.loc 1 1271 9 is_stmt 0 view .LVU1029
 2945 00ee FFF7FEFF 		bl	FSFile_Release
 2946              	.LVL278:
1278:rtos/uC-FS/Source/fs_file.c ****     }
 2947              		.loc 1 1278 13 is_stmt 1 view .LVU1030
1278:rtos/uC-FS/Source/fs_file.c ****     }
 2948              		.loc 1 1278 20 is_stmt 0 view .LVU1031
 2949 00f2 0025     		movs	r5, #0
 2950              	.LVL279:
1278:rtos/uC-FS/Source/fs_file.c ****     }
 2951              		.loc 1 1278 20 view .LVU1032
 2952 00f4 F0E7     		b	.L201
 2953              	.LVL280:
 2954              	.L221:
1287:rtos/uC-FS/Source/fs_file.c **** 
 2955              		.loc 1 1287 74 view .LVU1033
 2956 00f6 0123     		movs	r3, #1
 2957              	.LVL281:
 2958              	.L213:
1289:rtos/uC-FS/Source/fs_file.c **** 
 2959              		.loc 1 1289 9 is_stmt 1 discriminator 6 view .LVU1034
1289:rtos/uC-FS/Source/fs_file.c **** 
 2960              		.loc 1 1289 12 is_stmt 0 discriminator 6 view .LVU1035
 2961 00f8 002B     		cmp	r3, #0
 2962 00fa 3AD1     		bne	.L233
 2963              	.LVL282:
 2964              	.L212:
1309:rtos/uC-FS/Source/fs_file.c ****                                     &p_vol,
 2965              		.loc 1 1309 5 is_stmt 1 view .LVU1036
1309:rtos/uC-FS/Source/fs_file.c ****                                     &p_vol,
 2966              		.loc 1 1309 17 is_stmt 0 view .LVU1037
 2967 00fc 3A46     		mov	r2, r7
 2968 00fe 09A9     		add	r1, sp, #36
 2969 0100 3046     		mov	r0, r6
 2970              	.LVL283:
1309:rtos/uC-FS/Source/fs_file.c ****                                     &p_vol,
ARM GAS  /tmp/cccHCpmH.s 			page 133


 2971              		.loc 1 1309 17 view .LVU1038
 2972 0102 FFF7FEFF 		bl	FSFile_NameParseChk
 2973              	.LVL284:
 2974 0106 0146     		mov	r1, r0
 2975              	.LVL285:
1314:rtos/uC-FS/Source/fs_file.c ****         (name_file == (CPU_CHAR *)0)) {                         /* ... or file name not parsed (see
 2976              		.loc 1 1314 5 is_stmt 1 view .LVU1039
1314:rtos/uC-FS/Source/fs_file.c ****         (name_file == (CPU_CHAR *)0)) {                         /* ... or file name not parsed (see
 2977              		.loc 1 1314 20 is_stmt 0 view .LVU1040
 2978 0108 099B     		ldr	r3, [sp, #36]
1314:rtos/uC-FS/Source/fs_file.c ****         (name_file == (CPU_CHAR *)0)) {                         /* ... or file name not parsed (see
 2979              		.loc 1 1314 8 view .LVU1041
 2980 010a 002B     		cmp	r3, #0
 2981 010c 39D0     		beq	.L214
1314:rtos/uC-FS/Source/fs_file.c ****         (name_file == (CPU_CHAR *)0)) {                         /* ... or file name not parsed (see
 2982              		.loc 1 1314 38 discriminator 1 view .LVU1042
 2983 010e 0028     		cmp	r0, #0
 2984 0110 37D0     		beq	.L214
1331:rtos/uC-FS/Source/fs_file.c **** 
 2985              		.loc 1 1331 5 is_stmt 1 view .LVU1043
1331:rtos/uC-FS/Source/fs_file.c **** 
 2986              		.loc 1 1331 20 is_stmt 0 view .LVU1044
 2987 0112 EB63     		str	r3, [r5, #60]
1333:rtos/uC-FS/Source/fs_file.c ****         p_file->State = FS_FILE_STATE_CLOSING;
 2988              		.loc 1 1333 5 is_stmt 1 view .LVU1045
1333:rtos/uC-FS/Source/fs_file.c ****         p_file->State = FS_FILE_STATE_CLOSING;
 2989              		.loc 1 1333 18 is_stmt 0 view .LVU1046
 2990 0114 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
1333:rtos/uC-FS/Source/fs_file.c ****         p_file->State = FS_FILE_STATE_CLOSING;
 2991              		.loc 1 1333 8 view .LVU1047
 2992 0116 002A     		cmp	r2, #0
 2993 0118 38D0     		beq	.L234
1341:rtos/uC-FS/Source/fs_file.c ****         (DEF_BIT_IS_SET(mode,              FS_FILE_ACCESS_MODE_WR) == DEF_YES)) {
 2994              		.loc 1 1341 5 is_stmt 1 view .LVU1048
1341:rtos/uC-FS/Source/fs_file.c ****         (DEF_BIT_IS_SET(mode,              FS_FILE_ACCESS_MODE_WR) == DEF_YES)) {
 2995              		.loc 1 1341 10 is_stmt 0 view .LVU1049
 2996 011a DB68     		ldr	r3, [r3, #12]
1341:rtos/uC-FS/Source/fs_file.c ****         (DEF_BIT_IS_SET(mode,              FS_FILE_ACCESS_MODE_WR) == DEF_YES)) {
 2997              		.loc 1 1341 8 view .LVU1050
 2998 011c 13F0020F 		tst	r3, #2
 2999 0120 02D1     		bne	.L217
1341:rtos/uC-FS/Source/fs_file.c ****         (DEF_BIT_IS_SET(mode,              FS_FILE_ACCESS_MODE_WR) == DEF_YES)) {
 3000              		.loc 1 1341 80 discriminator 1 view .LVU1051
 3001 0122 14F0020F 		tst	r4, #2
 3002 0126 3BD1     		bne	.L235
 3003              	.L217:
1349:rtos/uC-FS/Source/fs_file.c ****                    name_file,
 3004              		.loc 1 1349 5 is_stmt 1 view .LVU1052
 3005 0128 3A46     		mov	r2, r7
 3006 012a 2846     		mov	r0, r5
 3007              	.LVL286:
1349:rtos/uC-FS/Source/fs_file.c ****                    name_file,
 3008              		.loc 1 1349 5 is_stmt 0 view .LVU1053
 3009 012c FFF7FEFF 		bl	FSSys_FileOpen
 3010              	.LVL287:
1357:rtos/uC-FS/Source/fs_file.c ****          p_file->State = FS_FILE_STATE_CLOSING;
 3011              		.loc 1 1357 5 is_stmt 1 view .LVU1054
ARM GAS  /tmp/cccHCpmH.s 			page 134


1357:rtos/uC-FS/Source/fs_file.c ****          p_file->State = FS_FILE_STATE_CLOSING;
 3012              		.loc 1 1357 9 is_stmt 0 view .LVU1055
 3013 0130 3B88     		ldrh	r3, [r7]
1357:rtos/uC-FS/Source/fs_file.c ****          p_file->State = FS_FILE_STATE_CLOSING;
 3014              		.loc 1 1357 8 view .LVU1056
 3015 0132 002B     		cmp	r3, #0
 3016 0134 3ED1     		bne	.L236
1363:rtos/uC-FS/Source/fs_file.c ****     p_file->RefreshCnt = p_vol->RefreshCnt;
 3017              		.loc 1 1363 5 is_stmt 1 view .LVU1057
1363:rtos/uC-FS/Source/fs_file.c ****     p_file->RefreshCnt = p_vol->RefreshCnt;
 3018              		.loc 1 1363 24 is_stmt 0 view .LVU1058
 3019 0136 0323     		movs	r3, #3
 3020 0138 AB80     		strh	r3, [r5, #4]	@ movhi
1364:rtos/uC-FS/Source/fs_file.c ****     FSVol_FileAdd(p_vol, p_file);                               /* Link file to vol file list.     
 3021              		.loc 1 1364 5 is_stmt 1 view .LVU1059
1364:rtos/uC-FS/Source/fs_file.c ****     FSVol_FileAdd(p_vol, p_file);                               /* Link file to vol file list.     
 3022              		.loc 1 1364 31 is_stmt 0 view .LVU1060
 3023 013a 0998     		ldr	r0, [sp, #36]
 3024 013c 8368     		ldr	r3, [r0, #8]
1364:rtos/uC-FS/Source/fs_file.c ****     FSVol_FileAdd(p_vol, p_file);                               /* Link file to vol file list.     
 3025              		.loc 1 1364 24 view .LVU1061
 3026 013e EB60     		str	r3, [r5, #12]
1365:rtos/uC-FS/Source/fs_file.c **** 
 3027              		.loc 1 1365 5 is_stmt 1 view .LVU1062
 3028 0140 2946     		mov	r1, r5
 3029 0142 FFF7FEFF 		bl	FSVol_FileAdd
 3030              	.LVL288:
1367:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3031              		.loc 1 1367 5 view .LVU1063
 3032 0146 3A46     		mov	r2, r7
 3033 0148 01A9     		add	r1, sp, #4
 3034 014a 2846     		mov	r0, r5
 3035 014c FFF7FEFF 		bl	FSSys_FileQuery
 3036              	.LVL289:
1368:rtos/uC-FS/Source/fs_file.c ****          FSSys_FileClose(p_file, &err);
 3037              		.loc 1 1368 5 view .LVU1064
1368:rtos/uC-FS/Source/fs_file.c ****          FSSys_FileClose(p_file, &err);
 3038              		.loc 1 1368 9 is_stmt 0 view .LVU1065
 3039 0150 3B88     		ldrh	r3, [r7]
1368:rtos/uC-FS/Source/fs_file.c ****          FSSys_FileClose(p_file, &err);
 3040              		.loc 1 1368 8 view .LVU1066
 3041 0152 002B     		cmp	r3, #0
 3042 0154 35D1     		bne	.L237
1375:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;
 3043              		.loc 1 1375 5 is_stmt 1 view .LVU1067
1375:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;
 3044              		.loc 1 1375 29 is_stmt 0 view .LVU1068
 3045 0156 029B     		ldr	r3, [sp, #8]
1375:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF = DEF_NO;
 3046              		.loc 1 1375 18 view .LVU1069
 3047 0158 AB61     		str	r3, [r5, #24]
1376:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos = 0u;                                           /* Set init file pos indicator to 0
 3048              		.loc 1 1376 5 is_stmt 1 view .LVU1070
1376:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos = 0u;                                           /* Set init file pos indicator to 0
 3049              		.loc 1 1376 21 is_stmt 0 view .LVU1071
 3050 015a 0023     		movs	r3, #0
 3051 015c 6B75     		strb	r3, [r5, #21]
ARM GAS  /tmp/cccHCpmH.s 			page 135


1377:rtos/uC-FS/Source/fs_file.c **** 
 3052              		.loc 1 1377 5 is_stmt 1 view .LVU1072
1377:rtos/uC-FS/Source/fs_file.c **** 
 3053              		.loc 1 1377 17 is_stmt 0 view .LVU1073
 3054 015e EB61     		str	r3, [r5, #28]
1381:rtos/uC-FS/Source/fs_file.c **** #endif
 3055              		.loc 1 1381 5 is_stmt 1 view .LVU1074
1381:rtos/uC-FS/Source/fs_file.c **** #endif
 3056              		.loc 1 1381 31 is_stmt 0 view .LVU1075
 3057 0160 099B     		ldr	r3, [sp, #36]
 3058 0162 9B6A     		ldr	r3, [r3, #40]
1381:rtos/uC-FS/Source/fs_file.c **** #endif
 3059              		.loc 1 1381 24 view .LVU1076
 3060 0164 AB63     		str	r3, [r5, #56]
1386:rtos/uC-FS/Source/fs_file.c **** 
 3061              		.loc 1 1386 5 is_stmt 1 view .LVU1077
 3062 0166 2846     		mov	r0, r5
 3063 0168 FFF7FEFF 		bl	FSFile_Unlock
 3064              	.LVL290:
1388:rtos/uC-FS/Source/fs_file.c **** }
 3065              		.loc 1 1388 5 view .LVU1078
1388:rtos/uC-FS/Source/fs_file.c **** }
 3066              		.loc 1 1388 12 is_stmt 0 view .LVU1079
 3067 016c B4E7     		b	.L201
 3068              	.LVL291:
 3069              	.L222:
1287:rtos/uC-FS/Source/fs_file.c **** 
 3070              		.loc 1 1287 74 view .LVU1080
 3071 016e 0023     		movs	r3, #0
 3072              	.LVL292:
1287:rtos/uC-FS/Source/fs_file.c **** 
 3073              		.loc 1 1287 74 view .LVU1081
 3074 0170 C2E7     		b	.L213
 3075              	.LVL293:
 3076              	.L233:
1294:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
 3077              		.loc 1 1294 13 is_stmt 1 view .LVU1082
 3078 0172 2846     		mov	r0, r5
 3079              	.LVL294:
1294:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
 3080              		.loc 1 1294 13 is_stmt 0 view .LVU1083
 3081 0174 FFF7FEFF 		bl	FSFile_Release
 3082              	.LVL295:
1301:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 3083              		.loc 1 1301 12 is_stmt 1 view .LVU1084
1301:rtos/uC-FS/Source/fs_file.c ****             return ((FS_FILE *)0);
 3084              		.loc 1 1301 19 is_stmt 0 view .LVU1085
 3085 0178 4FF44873 		mov	r3, #800
 3086 017c 3B80     		strh	r3, [r7]	@ movhi
1302:rtos/uC-FS/Source/fs_file.c ****         }
 3087              		.loc 1 1302 13 is_stmt 1 view .LVU1086
1302:rtos/uC-FS/Source/fs_file.c ****         }
 3088              		.loc 1 1302 20 is_stmt 0 view .LVU1087
 3089 017e 0025     		movs	r5, #0
 3090              	.LVL296:
1302:rtos/uC-FS/Source/fs_file.c ****         }
 3091              		.loc 1 1302 20 view .LVU1088
ARM GAS  /tmp/cccHCpmH.s 			page 136


 3092 0180 AAE7     		b	.L201
 3093              	.LVL297:
 3094              	.L214:
1319:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
 3095              		.loc 1 1319 9 is_stmt 1 view .LVU1089
 3096 0182 2846     		mov	r0, r5
 3097              	.LVL298:
1319:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_WORKING_DIR_EN == DEF_ENABLED)
 3098              		.loc 1 1319 9 is_stmt 0 view .LVU1090
 3099 0184 FFF7FEFF 		bl	FSFile_Release
 3100              	.LVL299:
1325:rtos/uC-FS/Source/fs_file.c ****     }
 3101              		.loc 1 1325 9 is_stmt 1 view .LVU1091
1325:rtos/uC-FS/Source/fs_file.c ****     }
 3102              		.loc 1 1325 16 is_stmt 0 view .LVU1092
 3103 0188 0025     		movs	r5, #0
 3104              	.LVL300:
1325:rtos/uC-FS/Source/fs_file.c ****     }
 3105              		.loc 1 1325 16 view .LVU1093
 3106 018a A5E7     		b	.L201
 3107              	.LVL301:
 3108              	.L234:
1334:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3109              		.loc 1 1334 9 is_stmt 1 view .LVU1094
1334:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3110              		.loc 1 1334 23 is_stmt 0 view .LVU1095
 3111 018c 0123     		movs	r3, #1
 3112 018e AB80     		strh	r3, [r5, #4]	@ movhi
1335:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_ENTRY_ROOT_DIR;
 3113              		.loc 1 1335 9 is_stmt 1 view .LVU1096
 3114 0190 2846     		mov	r0, r5
 3115              	.LVL302:
1335:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_ENTRY_ROOT_DIR;
 3116              		.loc 1 1335 9 is_stmt 0 view .LVU1097
 3117 0192 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3118              	.LVL303:
1336:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 3119              		.loc 1 1336 8 is_stmt 1 view .LVU1098
1336:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 3120              		.loc 1 1336 15 is_stmt 0 view .LVU1099
 3121 0196 40F2C923 		movw	r3, #713
 3122 019a 3B80     		strh	r3, [r7]	@ movhi
1337:rtos/uC-FS/Source/fs_file.c ****     }
 3123              		.loc 1 1337 9 is_stmt 1 view .LVU1100
1337:rtos/uC-FS/Source/fs_file.c ****     }
 3124              		.loc 1 1337 16 is_stmt 0 view .LVU1101
 3125 019c 0025     		movs	r5, #0
 3126              	.LVL304:
1337:rtos/uC-FS/Source/fs_file.c ****     }
 3127              		.loc 1 1337 16 view .LVU1102
 3128 019e 9BE7     		b	.L201
 3129              	.LVL305:
 3130              	.L235:
1343:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3131              		.loc 1 1343 9 is_stmt 1 view .LVU1103
1343:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3132              		.loc 1 1343 23 is_stmt 0 view .LVU1104
ARM GAS  /tmp/cccHCpmH.s 			page 137


 3133 01a0 0123     		movs	r3, #1
 3134 01a2 AB80     		strh	r3, [r5, #4]	@ movhi
1344:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_VOL_INVALID_OP;
 3135              		.loc 1 1344 9 is_stmt 1 view .LVU1105
 3136 01a4 2846     		mov	r0, r5
 3137              	.LVL306:
1344:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_VOL_INVALID_OP;
 3138              		.loc 1 1344 9 is_stmt 0 view .LVU1106
 3139 01a6 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3140              	.LVL307:
1345:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 3141              		.loc 1 1345 8 is_stmt 1 view .LVU1107
1345:rtos/uC-FS/Source/fs_file.c ****         return ((FS_FILE *)0);
 3142              		.loc 1 1345 15 is_stmt 0 view .LVU1108
 3143 01aa 40F27D53 		movw	r3, #1405
 3144 01ae 3B80     		strh	r3, [r7]	@ movhi
1346:rtos/uC-FS/Source/fs_file.c ****     }
 3145              		.loc 1 1346 9 is_stmt 1 view .LVU1109
1346:rtos/uC-FS/Source/fs_file.c ****     }
 3146              		.loc 1 1346 16 is_stmt 0 view .LVU1110
 3147 01b0 0025     		movs	r5, #0
 3148              	.LVL308:
1346:rtos/uC-FS/Source/fs_file.c ****     }
 3149              		.loc 1 1346 16 view .LVU1111
 3150 01b2 91E7     		b	.L201
 3151              	.LVL309:
 3152              	.L236:
1358:rtos/uC-FS/Source/fs_file.c ****          FSFile_ReleaseUnlock(p_file);
 3153              		.loc 1 1358 10 is_stmt 1 view .LVU1112
1358:rtos/uC-FS/Source/fs_file.c ****          FSFile_ReleaseUnlock(p_file);
 3154              		.loc 1 1358 24 is_stmt 0 view .LVU1113
 3155 01b4 0123     		movs	r3, #1
 3156 01b6 AB80     		strh	r3, [r5, #4]	@ movhi
1359:rtos/uC-FS/Source/fs_file.c ****          return ((FS_FILE *)0);
 3157              		.loc 1 1359 10 is_stmt 1 view .LVU1114
 3158 01b8 2846     		mov	r0, r5
 3159 01ba FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3160              	.LVL310:
1360:rtos/uC-FS/Source/fs_file.c ****     }
 3161              		.loc 1 1360 10 view .LVU1115
1360:rtos/uC-FS/Source/fs_file.c ****     }
 3162              		.loc 1 1360 17 is_stmt 0 view .LVU1116
 3163 01be 0025     		movs	r5, #0
 3164              	.LVL311:
1360:rtos/uC-FS/Source/fs_file.c ****     }
 3165              		.loc 1 1360 17 view .LVU1117
 3166 01c0 8AE7     		b	.L201
 3167              	.LVL312:
 3168              	.L237:
1369:rtos/uC-FS/Source/fs_file.c ****          p_file->State = FS_FILE_STATE_CLOSING;
 3169              		.loc 1 1369 10 is_stmt 1 view .LVU1118
 3170 01c2 0DF12201 		add	r1, sp, #34
 3171 01c6 2846     		mov	r0, r5
 3172 01c8 FFF7FEFF 		bl	FSSys_FileClose
 3173              	.LVL313:
1370:rtos/uC-FS/Source/fs_file.c ****          FSFile_ReleaseUnlock(p_file);
 3174              		.loc 1 1370 10 view .LVU1119
ARM GAS  /tmp/cccHCpmH.s 			page 138


1370:rtos/uC-FS/Source/fs_file.c ****          FSFile_ReleaseUnlock(p_file);
 3175              		.loc 1 1370 24 is_stmt 0 view .LVU1120
 3176 01cc 0123     		movs	r3, #1
 3177 01ce AB80     		strh	r3, [r5, #4]	@ movhi
1371:rtos/uC-FS/Source/fs_file.c ****          return ((FS_FILE *)0);
 3178              		.loc 1 1371 10 is_stmt 1 view .LVU1121
 3179 01d0 2846     		mov	r0, r5
 3180 01d2 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3181              	.LVL314:
1372:rtos/uC-FS/Source/fs_file.c ****     }
 3182              		.loc 1 1372 10 view .LVU1122
1372:rtos/uC-FS/Source/fs_file.c ****     }
 3183              		.loc 1 1372 17 is_stmt 0 view .LVU1123
 3184 01d6 0025     		movs	r5, #0
 3185              	.LVL315:
1372:rtos/uC-FS/Source/fs_file.c ****     }
 3186              		.loc 1 1372 17 view .LVU1124
 3187 01d8 7EE7     		b	.L201
 3188              	.LVL316:
 3189              	.L220:
1224:rtos/uC-FS/Source/fs_file.c ****     }
 3190              		.loc 1 1224 16 view .LVU1125
 3191 01da 0025     		movs	r5, #0
 3192 01dc 7CE7     		b	.L201
 3193              		.cfi_endproc
 3194              	.LFE7:
 3196              		.section	.text.FSFile_PosGet,"ax",%progbits
 3197              		.align	1
 3198              		.global	FSFile_PosGet
 3199              		.syntax unified
 3200              		.thumb
 3201              		.thumb_func
 3202              		.fpu fpv4-sp-d16
 3204              	FSFile_PosGet:
 3205              	.LVL317:
 3206              	.LFB8:
1425:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos;
 3207              		.loc 1 1425 1 is_stmt 1 view -0
 3208              		.cfi_startproc
 3209              		@ args = 0, pretend = 0, frame = 0
 3210              		@ frame_needed = 0, uses_anonymous_args = 0
1425:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos;
 3211              		.loc 1 1425 1 is_stmt 0 view .LVU1127
 3212 0000 38B5     		push	{r3, r4, r5, lr}
 3213              	.LCFI41:
 3214              		.cfi_def_cfa_offset 16
 3215              		.cfi_offset 3, -16
 3216              		.cfi_offset 4, -12
 3217              		.cfi_offset 5, -8
 3218              		.cfi_offset 14, -4
 3219 0002 0446     		mov	r4, r0
1426:rtos/uC-FS/Source/fs_file.c **** 
 3220              		.loc 1 1426 5 is_stmt 1 view .LVU1128
1430:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
 3221              		.loc 1 1430 5 view .LVU1129
1430:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
 3222              		.loc 1 1430 8 is_stmt 0 view .LVU1130
ARM GAS  /tmp/cccHCpmH.s 			page 139


 3223 0004 0D46     		mov	r5, r1
 3224 0006 79B1     		cbz	r1, .L245
 3225              	.LVL318:
 3226              	.L239:
1431:rtos/uC-FS/Source/fs_file.c ****     }
 3227              		.loc 1 1431 9 is_stmt 1 discriminator 1 view .LVU1131
1433:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3228              		.loc 1 1433 5 discriminator 1 view .LVU1132
1433:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3229              		.loc 1 1433 8 is_stmt 0 discriminator 1 view .LVU1133
 3230 0008 8CB1     		cbz	r4, .L246
1440:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3231              		.loc 1 1440 5 is_stmt 1 view .LVU1134
1440:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3232              		.loc 1 1440 11 is_stmt 0 view .LVU1135
 3233 000a 2946     		mov	r1, r5
 3234 000c 2046     		mov	r0, r4
 3235 000e FFF7FEFF 		bl	FSFile_AcquireLockChk
 3236              	.LVL319:
1441:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3237              		.loc 1 1441 5 is_stmt 1 view .LVU1136
1441:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3238              		.loc 1 1441 9 is_stmt 0 view .LVU1137
 3239 0012 2B88     		ldrh	r3, [r5]
1441:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3240              		.loc 1 1441 8 view .LVU1138
 3241 0014 BBB9     		cbnz	r3, .L243
1445:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3242              		.loc 1 1445 5 is_stmt 1 view .LVU1139
1445:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3243              		.loc 1 1445 15 is_stmt 0 view .LVU1140
 3244 0016 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
1445:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3245              		.loc 1 1445 8 view .LVU1141
 3246 0018 012B     		cmp	r3, #1
 3247 001a 0CD0     		beq	.L247
1454:rtos/uC-FS/Source/fs_file.c **** 
 3248              		.loc 1 1454 5 is_stmt 1 view .LVU1142
1454:rtos/uC-FS/Source/fs_file.c **** 
 3249              		.loc 1 1454 9 is_stmt 0 view .LVU1143
 3250 001c E569     		ldr	r5, [r4, #28]
 3251              	.LVL320:
1459:rtos/uC-FS/Source/fs_file.c ****     return (pos);
 3252              		.loc 1 1459 5 is_stmt 1 view .LVU1144
 3253 001e 2046     		mov	r0, r4
 3254 0020 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3255              	.LVL321:
1460:rtos/uC-FS/Source/fs_file.c **** }
 3256              		.loc 1 1460 5 view .LVU1145
 3257              	.L238:
1461:rtos/uC-FS/Source/fs_file.c **** 
 3258              		.loc 1 1461 1 is_stmt 0 view .LVU1146
 3259 0024 2846     		mov	r0, r5
 3260 0026 38BD     		pop	{r3, r4, r5, pc}
 3261              	.LVL322:
 3262              	.L245:
1431:rtos/uC-FS/Source/fs_file.c ****     }
ARM GAS  /tmp/cccHCpmH.s 			page 140


 3263              		.loc 1 1431 9 is_stmt 1 view .LVU1147
1431:rtos/uC-FS/Source/fs_file.c ****     }
 3264              		.loc 1 1431 9 view .LVU1148
 3265 0028 FFF7FEFF 		bl	CPU_SW_Exception
 3266              	.LVL323:
1431:rtos/uC-FS/Source/fs_file.c ****     }
 3267              		.loc 1 1431 9 is_stmt 0 view .LVU1149
 3268 002c ECE7     		b	.L239
 3269              	.L246:
1434:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3270              		.loc 1 1434 8 is_stmt 1 view .LVU1150
1434:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3271              		.loc 1 1434 15 is_stmt 0 view .LVU1151
 3272 002e 1323     		movs	r3, #19
 3273 0030 2B80     		strh	r3, [r5]	@ movhi
1435:rtos/uC-FS/Source/fs_file.c ****     }
 3274              		.loc 1 1435 9 is_stmt 1 view .LVU1152
1435:rtos/uC-FS/Source/fs_file.c ****     }
 3275              		.loc 1 1435 16 is_stmt 0 view .LVU1153
 3276 0032 0025     		movs	r5, #0
 3277              	.LVL324:
1435:rtos/uC-FS/Source/fs_file.c ****     }
 3278              		.loc 1 1435 16 view .LVU1154
 3279 0034 F6E7     		b	.L238
 3280              	.LVL325:
 3281              	.L247:
1446:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
 3282              		.loc 1 1446 9 is_stmt 1 view .LVU1155
 3283 0036 2046     		mov	r0, r4
 3284 0038 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3285              	.LVL326:
1447:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3286              		.loc 1 1447 8 view .LVU1156
1447:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3287              		.loc 1 1447 15 is_stmt 0 view .LVU1157
 3288 003c 40F22233 		movw	r3, #802
 3289 0040 2B80     		strh	r3, [r5]	@ movhi
1448:rtos/uC-FS/Source/fs_file.c ****     }
 3290              		.loc 1 1448 9 is_stmt 1 view .LVU1158
1448:rtos/uC-FS/Source/fs_file.c ****     }
 3291              		.loc 1 1448 16 is_stmt 0 view .LVU1159
 3292 0042 0025     		movs	r5, #0
 3293              	.LVL327:
1448:rtos/uC-FS/Source/fs_file.c ****     }
 3294              		.loc 1 1448 16 view .LVU1160
 3295 0044 EEE7     		b	.L238
 3296              	.LVL328:
 3297              	.L243:
1442:rtos/uC-FS/Source/fs_file.c ****     }
 3298              		.loc 1 1442 16 view .LVU1161
 3299 0046 0025     		movs	r5, #0
 3300              	.LVL329:
1442:rtos/uC-FS/Source/fs_file.c ****     }
 3301              		.loc 1 1442 16 view .LVU1162
 3302 0048 ECE7     		b	.L238
 3303              		.cfi_endproc
 3304              	.LFE8:
ARM GAS  /tmp/cccHCpmH.s 			page 141


 3306              		.section	.text.FSFile_PosSet,"ax",%progbits
 3307              		.align	1
 3308              		.global	FSFile_PosSet
 3309              		.syntax unified
 3310              		.thumb
 3311              		.thumb_func
 3312              		.fpu fpv4-sp-d16
 3314              	FSFile_PosSet:
 3315              	.LVL330:
 3316              	.LFB9:
1534:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_OFFSET   chk_pos;
 3317              		.loc 1 1534 1 is_stmt 1 view -0
 3318              		.cfi_startproc
 3319              		@ args = 0, pretend = 0, frame = 0
 3320              		@ frame_needed = 0, uses_anonymous_args = 0
1534:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_OFFSET   chk_pos;
 3321              		.loc 1 1534 1 is_stmt 0 view .LVU1164
 3322 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3323              	.LCFI42:
 3324              		.cfi_def_cfa_offset 32
 3325              		.cfi_offset 4, -32
 3326              		.cfi_offset 5, -28
 3327              		.cfi_offset 6, -24
 3328              		.cfi_offset 7, -20
 3329              		.cfi_offset 8, -16
 3330              		.cfi_offset 9, -12
 3331              		.cfi_offset 10, -8
 3332              		.cfi_offset 14, -4
 3333 0004 0446     		mov	r4, r0
 3334 0006 0F46     		mov	r7, r1
 3335 0008 1546     		mov	r5, r2
1535:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE     start_pos;
 3336              		.loc 1 1535 5 is_stmt 1 view .LVU1165
1536:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE     set_pos;
 3337              		.loc 1 1536 5 view .LVU1166
1537:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_DISABLED)
 3338              		.loc 1 1537 5 view .LVU1167
1539:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       wr_size;
 3339              		.loc 1 1539 5 view .LVU1168
1540:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       buf_size;
 3340              		.loc 1 1540 5 view .LVU1169
1541:rtos/uC-FS/Source/fs_file.c ****     FS_BUF          *p_buf;
 3341              		.loc 1 1541 5 view .LVU1170
1542:rtos/uC-FS/Source/fs_file.c **** #endif
 3342              		.loc 1 1542 5 view .LVU1171
1546:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 3343              		.loc 1 1546 5 view .LVU1172
1546:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 3344              		.loc 1 1546 8 is_stmt 0 view .LVU1173
 3345 000a 1E46     		mov	r6, r3
 3346 000c 4BB1     		cbz	r3, .L278
 3347              	.LVL331:
 3348              	.L249:
1547:rtos/uC-FS/Source/fs_file.c ****     }
 3349              		.loc 1 1547 9 is_stmt 1 discriminator 1 view .LVU1174
1549:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3350              		.loc 1 1549 5 discriminator 1 view .LVU1175
ARM GAS  /tmp/cccHCpmH.s 			page 142


1549:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3351              		.loc 1 1549 8 is_stmt 0 discriminator 1 view .LVU1176
 3352 000e 5CB1     		cbz	r4, .L279
1553:rtos/uC-FS/Source/fs_file.c ****         if (origin != FS_FILE_ORIGIN_CUR) {
 3353              		.loc 1 1553 5 is_stmt 1 view .LVU1177
1553:rtos/uC-FS/Source/fs_file.c ****         if (origin != FS_FILE_ORIGIN_CUR) {
 3354              		.loc 1 1553 8 is_stmt 0 view .LVU1178
 3355 0010 6DB1     		cbz	r5, .L252
1554:rtos/uC-FS/Source/fs_file.c ****             if (origin != FS_FILE_ORIGIN_END) {
 3356              		.loc 1 1554 9 is_stmt 1 view .LVU1179
1554:rtos/uC-FS/Source/fs_file.c ****             if (origin != FS_FILE_ORIGIN_END) {
 3357              		.loc 1 1554 12 is_stmt 0 view .LVU1180
 3358 0012 012D     		cmp	r5, #1
 3359 0014 0BD0     		beq	.L252
1555:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_ORIGIN;
 3360              		.loc 1 1555 13 is_stmt 1 view .LVU1181
1555:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_ORIGIN;
 3361              		.loc 1 1555 16 is_stmt 0 view .LVU1182
 3362 0016 022D     		cmp	r5, #2
 3363 0018 09D0     		beq	.L252
1556:rtos/uC-FS/Source/fs_file.c ****                 return;
 3364              		.loc 1 1556 16 is_stmt 1 view .LVU1183
1556:rtos/uC-FS/Source/fs_file.c ****                 return;
 3365              		.loc 1 1556 23 is_stmt 0 view .LVU1184
 3366 001a 40F22A33 		movw	r3, #810
 3367 001e 3380     		strh	r3, [r6]	@ movhi
1557:rtos/uC-FS/Source/fs_file.c ****             }
 3368              		.loc 1 1557 17 is_stmt 1 view .LVU1185
 3369 0020 D6E0     		b	.L248
 3370              	.LVL332:
 3371              	.L278:
1547:rtos/uC-FS/Source/fs_file.c ****     }
 3372              		.loc 1 1547 9 view .LVU1186
1547:rtos/uC-FS/Source/fs_file.c ****     }
 3373              		.loc 1 1547 9 view .LVU1187
 3374 0022 FFF7FEFF 		bl	CPU_SW_Exception
 3375              	.LVL333:
1547:rtos/uC-FS/Source/fs_file.c ****     }
 3376              		.loc 1 1547 9 is_stmt 0 view .LVU1188
 3377 0026 F2E7     		b	.L249
 3378              	.L279:
1550:rtos/uC-FS/Source/fs_file.c ****         return;
 3379              		.loc 1 1550 8 is_stmt 1 view .LVU1189
1550:rtos/uC-FS/Source/fs_file.c ****         return;
 3380              		.loc 1 1550 15 is_stmt 0 view .LVU1190
 3381 0028 1323     		movs	r3, #19
 3382 002a 3380     		strh	r3, [r6]	@ movhi
1551:rtos/uC-FS/Source/fs_file.c ****     }
 3383              		.loc 1 1551 9 is_stmt 1 view .LVU1191
 3384 002c D0E0     		b	.L248
 3385              	.L252:
1564:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3386              		.loc 1 1564 4 view .LVU1192
1564:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3387              		.loc 1 1564 10 is_stmt 0 view .LVU1193
 3388 002e 3146     		mov	r1, r6
 3389 0030 2046     		mov	r0, r4
ARM GAS  /tmp/cccHCpmH.s 			page 143


 3390 0032 FFF7FEFF 		bl	FSFile_AcquireLockChk
 3391              	.LVL334:
1565:rtos/uC-FS/Source/fs_file.c ****          return;
 3392              		.loc 1 1565 5 is_stmt 1 view .LVU1194
1565:rtos/uC-FS/Source/fs_file.c ****          return;
 3393              		.loc 1 1565 9 is_stmt 0 view .LVU1195
 3394 0036 3388     		ldrh	r3, [r6]
1565:rtos/uC-FS/Source/fs_file.c ****          return;
 3395              		.loc 1 1565 8 view .LVU1196
 3396 0038 002B     		cmp	r3, #0
 3397 003a 40F0C980 		bne	.L248
1569:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3398              		.loc 1 1569 5 is_stmt 1 view .LVU1197
1569:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3399              		.loc 1 1569 15 is_stmt 0 view .LVU1198
 3400 003e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
1569:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3401              		.loc 1 1569 8 view .LVU1199
 3402 0040 012B     		cmp	r3, #1
 3403 0042 25D0     		beq	.L280
1579:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 3404              		.loc 1 1579 5 is_stmt 1 view .LVU1200
1579:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 3405              		.loc 1 1579 15 is_stmt 0 view .LVU1201
 3406 0044 238E     		ldrh	r3, [r4, #48]
1579:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 3407              		.loc 1 1579 8 view .LVU1202
 3408 0046 012B     		cmp	r3, #1
 3409 0048 29D0     		beq	.L281
 3410              	.L254:
1583:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 3411              		.loc 1 1583 5 is_stmt 1 view .LVU1203
1583:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 3412              		.loc 1 1583 16 is_stmt 0 view .LVU1204
 3413 004a 238E     		ldrh	r3, [r4, #48]
1583:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 3414              		.loc 1 1583 63 view .LVU1205
 3415 004c 043B     		subs	r3, r3, #4
 3416 004e 9BB2     		uxth	r3, r3
1583:rtos/uC-FS/Source/fs_file.c ****         (p_file->BufStatus == FS_FILE_BUF_STATUS_NONEMPTY_WR)) {
 3417              		.loc 1 1583 8 view .LVU1206
 3418 0050 012B     		cmp	r3, #1
 3419 0052 27D9     		bls	.L282
 3420              	.L255:
1598:rtos/uC-FS/Source/fs_file.c ****         p_file->IO_State = FS_FILE_IO_STATE_NONE;
 3421              		.loc 1 1598 5 is_stmt 1 view .LVU1207
1598:rtos/uC-FS/Source/fs_file.c ****         p_file->IO_State = FS_FILE_IO_STATE_NONE;
 3422              		.loc 1 1598 8 is_stmt 0 view .LVU1208
 3423 0054 0FB9     		cbnz	r7, .L256
1598:rtos/uC-FS/Source/fs_file.c ****         p_file->IO_State = FS_FILE_IO_STATE_NONE;
 3424              		.loc 1 1598 23 discriminator 1 view .LVU1209
 3425 0056 012D     		cmp	r5, #1
 3426 0058 33D0     		beq	.L283
 3427              	.L256:
1606:rtos/uC-FS/Source/fs_file.c ****         case FS_FILE_ORIGIN_CUR:                                /* ... current file pos            
 3428              		.loc 1 1606 5 is_stmt 1 view .LVU1210
 3429 005a 012D     		cmp	r5, #1
ARM GAS  /tmp/cccHCpmH.s 			page 144


 3430 005c 39D0     		beq	.L257
 3431 005e 022D     		cmp	r5, #2
 3432 0060 39D0     		beq	.L258
 3433 0062 0021     		movs	r1, #0
 3434              	.L259:
 3435              	.LVL335:
1622:rtos/uC-FS/Source/fs_file.c ****         if (offset == FS_FILE_OFFSET_MIN) {
 3436              		.loc 1 1622 5 view .LVU1211
1622:rtos/uC-FS/Source/fs_file.c ****         if (offset == FS_FILE_OFFSET_MIN) {
 3437              		.loc 1 1622 8 is_stmt 0 view .LVU1212
 3438 0064 002F     		cmp	r7, #0
 3439 0066 38DB     		blt	.L284
1638:rtos/uC-FS/Source/fs_file.c ****             if (FS_FILE_SIZE_MAX - (FS_FILE_SIZE)offset < start_pos) {
 3440              		.loc 1 1638 9 is_stmt 1 view .LVU1213
1638:rtos/uC-FS/Source/fs_file.c ****             if (FS_FILE_SIZE_MAX - (FS_FILE_SIZE)offset < start_pos) {
 3441              		.loc 1 1638 12 is_stmt 0 view .LVU1214
 3442 0068 002F     		cmp	r7, #0
 3443 006a 3BDD     		ble	.L262
1639:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3444              		.loc 1 1639 13 is_stmt 1 view .LVU1215
1639:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3445              		.loc 1 1639 34 is_stmt 0 view .LVU1216
 3446 006c FB43     		mvns	r3, r7
1639:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3447              		.loc 1 1639 16 view .LVU1217
 3448 006e 8B42     		cmp	r3, r1
 3449 0070 6DD3     		bcc	.L285
1645:rtos/uC-FS/Source/fs_file.c ****                 if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 3450              		.loc 1 1645 13 is_stmt 1 view .LVU1218
1645:rtos/uC-FS/Source/fs_file.c ****                 if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 3451              		.loc 1 1645 38 is_stmt 0 view .LVU1219
 3452 0072 7B18     		adds	r3, r7, r1
1645:rtos/uC-FS/Source/fs_file.c ****                 if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 3453              		.loc 1 1645 58 view .LVU1220
 3454 0074 A269     		ldr	r2, [r4, #24]
1645:rtos/uC-FS/Source/fs_file.c ****                 if (DEF_BIT_IS_CLR(p_file->AccessMode, FS_FILE_ACCESS_MODE_WR) == DEF_YES) {
 3455              		.loc 1 1645 16 view .LVU1221
 3456 0076 9342     		cmp	r3, r2
 3457 0078 34D9     		bls	.L262
1646:rtos/uC-FS/Source/fs_file.c ****                    *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3458              		.loc 1 1646 17 is_stmt 1 view .LVU1222
1646:rtos/uC-FS/Source/fs_file.c ****                    *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3459              		.loc 1 1646 21 is_stmt 0 view .LVU1223
 3460 007a 2369     		ldr	r3, [r4, #16]
1646:rtos/uC-FS/Source/fs_file.c ****                    *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3461              		.loc 1 1646 20 view .LVU1224
 3462 007c 13F0020F 		tst	r3, #2
 3463 0080 30D1     		bne	.L262
1647:rtos/uC-FS/Source/fs_file.c ****                     FSFile_ReleaseUnlock(p_file);
 3464              		.loc 1 1647 20 is_stmt 1 view .LVU1225
1647:rtos/uC-FS/Source/fs_file.c ****                     FSFile_ReleaseUnlock(p_file);
 3465              		.loc 1 1647 27 is_stmt 0 view .LVU1226
 3466 0082 40F22B33 		movw	r3, #811
 3467 0086 3380     		strh	r3, [r6]	@ movhi
1648:rtos/uC-FS/Source/fs_file.c ****                     return;
 3468              		.loc 1 1648 21 is_stmt 1 view .LVU1227
 3469 0088 2046     		mov	r0, r4
ARM GAS  /tmp/cccHCpmH.s 			page 145


 3470 008a FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3471              	.LVL336:
1649:rtos/uC-FS/Source/fs_file.c ****                 }
 3472              		.loc 1 1649 21 view .LVU1228
 3473 008e 9FE0     		b	.L248
 3474              	.L280:
1570:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
 3475              		.loc 1 1570 9 view .LVU1229
 3476 0090 2046     		mov	r0, r4
 3477 0092 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3478              	.LVL337:
1571:rtos/uC-FS/Source/fs_file.c ****         return;
 3479              		.loc 1 1571 8 view .LVU1230
1571:rtos/uC-FS/Source/fs_file.c ****         return;
 3480              		.loc 1 1571 15 is_stmt 0 view .LVU1231
 3481 0096 40F22233 		movw	r3, #802
 3482 009a 3380     		strh	r3, [r6]	@ movhi
1572:rtos/uC-FS/Source/fs_file.c ****     }
 3483              		.loc 1 1572 9 is_stmt 1 view .LVU1232
 3484 009c 98E0     		b	.L248
 3485              	.L281:
1580:rtos/uC-FS/Source/fs_file.c ****     }
 3486              		.loc 1 1580 9 view .LVU1233
1580:rtos/uC-FS/Source/fs_file.c ****     }
 3487              		.loc 1 1580 27 is_stmt 0 view .LVU1234
 3488 009e 0223     		movs	r3, #2
 3489 00a0 2386     		strh	r3, [r4, #48]	@ movhi
 3490 00a2 D2E7     		b	.L254
 3491              	.L282:
1585:rtos/uC-FS/Source/fs_file.c **** 
 3492              		.loc 1 1585 9 is_stmt 1 view .LVU1235
 3493 00a4 3146     		mov	r1, r6
 3494 00a6 2046     		mov	r0, r4
 3495 00a8 FFF7FEFF 		bl	FSFile_BufEmpty
 3496              	.LVL338:
1587:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 3497              		.loc 1 1587 9 view .LVU1236
1587:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 3498              		.loc 1 1587 13 is_stmt 0 view .LVU1237
 3499 00ac 3388     		ldrh	r3, [r6]
1587:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 3500              		.loc 1 1587 12 view .LVU1238
 3501 00ae 002B     		cmp	r3, #0
 3502 00b0 D0D0     		beq	.L255
1588:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagEOF = DEF_NO;
 3503              		.loc 1 1588 13 is_stmt 1 view .LVU1239
1588:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagEOF = DEF_NO;
 3504              		.loc 1 1588 29 is_stmt 0 view .LVU1240
 3505 00b2 0123     		movs	r3, #1
 3506 00b4 2375     		strb	r3, [r4, #20]
1589:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 3507              		.loc 1 1589 13 is_stmt 1 view .LVU1241
1589:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 3508              		.loc 1 1589 29 is_stmt 0 view .LVU1242
 3509 00b6 0023     		movs	r3, #0
 3510 00b8 6375     		strb	r3, [r4, #21]
1590:rtos/uC-FS/Source/fs_file.c ****             return;
ARM GAS  /tmp/cccHCpmH.s 			page 146


 3511              		.loc 1 1590 13 is_stmt 1 view .LVU1243
 3512 00ba 2046     		mov	r0, r4
 3513 00bc FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3514              	.LVL339:
1591:rtos/uC-FS/Source/fs_file.c ****         }
 3515              		.loc 1 1591 13 view .LVU1244
 3516 00c0 86E0     		b	.L248
 3517              	.L283:
1599:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF  = DEF_NO;                              /* ... clr EOF (see Note #1b) ...  
 3518              		.loc 1 1599 9 view .LVU1245
1599:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF  = DEF_NO;                              /* ... clr EOF (see Note #1b) ...  
 3519              		.loc 1 1599 26 is_stmt 0 view .LVU1246
 3520 00c2 0025     		movs	r5, #0
 3521 00c4 E582     		strh	r5, [r4, #22]	@ movhi
1600:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3522              		.loc 1 1600 9 is_stmt 1 view .LVU1247
1600:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3523              		.loc 1 1600 26 is_stmt 0 view .LVU1248
 3524 00c6 6575     		strb	r5, [r4, #21]
1601:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 3525              		.loc 1 1601 9 is_stmt 1 view .LVU1249
 3526 00c8 2046     		mov	r0, r4
 3527 00ca FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3528              	.LVL340:
1602:rtos/uC-FS/Source/fs_file.c ****         return;                                                 /* ... & rtn.                      
 3529              		.loc 1 1602 8 view .LVU1250
1602:rtos/uC-FS/Source/fs_file.c ****         return;                                                 /* ... & rtn.                      
 3530              		.loc 1 1602 15 is_stmt 0 view .LVU1251
 3531 00ce 3580     		strh	r5, [r6]	@ movhi
1603:rtos/uC-FS/Source/fs_file.c ****     }
 3532              		.loc 1 1603 9 is_stmt 1 view .LVU1252
 3533 00d0 7EE0     		b	.L248
 3534              	.L257:
1608:rtos/uC-FS/Source/fs_file.c ****              break;
 3535              		.loc 1 1608 14 view .LVU1253
1608:rtos/uC-FS/Source/fs_file.c ****              break;
 3536              		.loc 1 1608 24 is_stmt 0 view .LVU1254
 3537 00d2 E169     		ldr	r1, [r4, #28]
 3538              	.LVL341:
1609:rtos/uC-FS/Source/fs_file.c **** 
 3539              		.loc 1 1609 14 is_stmt 1 view .LVU1255
 3540 00d4 C6E7     		b	.L259
 3541              	.LVL342:
 3542              	.L258:
1612:rtos/uC-FS/Source/fs_file.c ****              break;
 3543              		.loc 1 1612 14 view .LVU1256
1612:rtos/uC-FS/Source/fs_file.c ****              break;
 3544              		.loc 1 1612 24 is_stmt 0 view .LVU1257
 3545 00d6 A169     		ldr	r1, [r4, #24]
 3546              	.LVL343:
1613:rtos/uC-FS/Source/fs_file.c **** 
 3547              		.loc 1 1613 14 is_stmt 1 view .LVU1258
 3548 00d8 C4E7     		b	.L259
 3549              	.L284:
1623:rtos/uC-FS/Source/fs_file.c ****             if ((FS_FILE_SIZE)FS_FILE_OFFSET_MAX + 1u > start_pos) {
 3550              		.loc 1 1623 9 view .LVU1259
1623:rtos/uC-FS/Source/fs_file.c ****             if ((FS_FILE_SIZE)FS_FILE_OFFSET_MAX + 1u > start_pos) {
ARM GAS  /tmp/cccHCpmH.s 			page 147


 3551              		.loc 1 1623 12 is_stmt 0 view .LVU1260
 3552 00da B7F1004F 		cmp	r7, #-2147483648
 3553 00de 26D0     		beq	.L286
1630:rtos/uC-FS/Source/fs_file.c ****             if (chk_pos < 0) {
 3554              		.loc 1 1630 13 is_stmt 1 view .LVU1261
 3555              	.LVL344:
1631:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3556              		.loc 1 1631 13 view .LVU1262
1631:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3557              		.loc 1 1631 16 is_stmt 0 view .LVU1263
 3558 00e0 F942     		cmn	r1, r7
 3559 00e2 2DD4     		bmi	.L287
 3560              	.LVL345:
 3561              	.L262:
1655:rtos/uC-FS/Source/fs_file.c **** 
 3562              		.loc 1 1655 5 is_stmt 1 view .LVU1264
1655:rtos/uC-FS/Source/fs_file.c **** 
 3563              		.loc 1 1655 13 is_stmt 0 view .LVU1265
 3564 00e4 0F44     		add	r7, r7, r1
 3565              	.LVL346:
1658:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_ENABLED)
 3566              		.loc 1 1658 5 is_stmt 1 view .LVU1266
1658:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_ENABLED)
 3567              		.loc 1 1658 25 is_stmt 0 view .LVU1267
 3568 00e6 A569     		ldr	r5, [r4, #24]
1658:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_RD_ONLY_EN == DEF_ENABLED)
 3569              		.loc 1 1658 8 view .LVU1268
 3570 00e8 BD42     		cmp	r5, r7
 3571 00ea 63D2     		bcs	.L264
1668:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Alloc buf filled with '\0'      
 3572              		.loc 1 1668 9 is_stmt 1 view .LVU1269
1668:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Alloc buf filled with '\0'      
 3573              		.loc 1 1668 19 is_stmt 0 view .LVU1270
 3574 00ec 7D1B     		subs	r5, r7, r5
 3575              	.LVL347:
1670:rtos/uC-FS/Source/fs_file.c ****         if (p_buf == (FS_BUF *)0) {
 3576              		.loc 1 1670 9 is_stmt 1 view .LVU1271
1670:rtos/uC-FS/Source/fs_file.c ****         if (p_buf == (FS_BUF *)0) {
 3577              		.loc 1 1670 17 is_stmt 0 view .LVU1272
 3578 00ee E06B     		ldr	r0, [r4, #60]
 3579 00f0 FFF7FEFF 		bl	FSBuf_Get
 3580              	.LVL348:
1671:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_BUF_NONE_AVAIL;
 3581              		.loc 1 1671 9 is_stmt 1 view .LVU1273
1671:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_BUF_NONE_AVAIL;
 3582              		.loc 1 1671 12 is_stmt 0 view .LVU1274
 3583 00f4 8146     		mov	r9, r0
 3584 00f6 88B3     		cbz	r0, .L288
1676:rtos/uC-FS/Source/fs_file.c **** 
 3585              		.loc 1 1676 9 is_stmt 1 view .LVU1275
1676:rtos/uC-FS/Source/fs_file.c **** 
 3586              		.loc 1 1676 18 is_stmt 0 view .LVU1276
 3587 00f8 D0F80080 		ldr	r8, [r0]
 3588              	.LVL349:
1678:rtos/uC-FS/Source/fs_file.c ****                  (CPU_INT08U)  ASCII_CHAR_NULL,
 3589              		.loc 1 1678 9 is_stmt 1 view .LVU1277
 3590 00fc 4246     		mov	r2, r8
ARM GAS  /tmp/cccHCpmH.s 			page 148


 3591 00fe 0021     		movs	r1, #0
 3592 0100 0069     		ldr	r0, [r0, #16]
 3593              	.LVL350:
1678:rtos/uC-FS/Source/fs_file.c ****                  (CPU_INT08U)  ASCII_CHAR_NULL,
 3594              		.loc 1 1678 9 is_stmt 0 view .LVU1278
 3595 0102 FFF7FEFF 		bl	Mem_Set
 3596              	.LVL351:
1682:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
 3597              		.loc 1 1682 9 is_stmt 1 view .LVU1279
 3598 0106 3246     		mov	r2, r6
 3599 0108 A169     		ldr	r1, [r4, #24]
 3600 010a 2046     		mov	r0, r4
 3601 010c FFF7FEFF 		bl	FSSys_FilePosSet
 3602              	.LVL352:
1683:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 3603              		.loc 1 1683 9 view .LVU1280
1683:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 3604              		.loc 1 1683 13 is_stmt 0 view .LVU1281
 3605 0110 3388     		ldrh	r3, [r6]
1683:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 3606              		.loc 1 1683 12 view .LVU1282
 3607 0112 4BBB     		cbnz	r3, .L289
1692:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 3608              		.loc 1 1692 9 is_stmt 1 view .LVU1283
1692:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 3609              		.loc 1 1692 25 is_stmt 0 view .LVU1284
 3610 0114 E36B     		ldr	r3, [r4, #60]
1692:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 3611              		.loc 1 1692 33 view .LVU1285
 3612 0116 9A6A     		ldr	r2, [r3, #40]
1692:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 3613              		.loc 1 1692 52 view .LVU1286
 3614 0118 E169     		ldr	r1, [r4, #28]
1692:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 3615              		.loc 1 1692 58 view .LVU1287
 3616 011a B1FBF2F3 		udiv	r3, r1, r2
 3617 011e 02FB1313 		mls	r3, r2, r3, r1
1692:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 3618              		.loc 1 1692 17 view .LVU1288
 3619 0122 A2EB030A 		sub	r10, r2, r3
 3620              	.LVL353:
1693:rtos/uC-FS/Source/fs_file.c ****             wr_size = fill_size;
 3621              		.loc 1 1693 9 is_stmt 1 view .LVU1289
1693:rtos/uC-FS/Source/fs_file.c ****             wr_size = fill_size;
 3622              		.loc 1 1693 12 is_stmt 0 view .LVU1290
 3623 0126 5545     		cmp	r5, r10
 3624 0128 2DD2     		bcs	.L272
1694:rtos/uC-FS/Source/fs_file.c ****         }
 3625              		.loc 1 1694 21 view .LVU1291
 3626 012a AA46     		mov	r10, r5
 3627              	.LVL354:
1694:rtos/uC-FS/Source/fs_file.c ****         }
 3628              		.loc 1 1694 21 view .LVU1292
 3629 012c 2BE0     		b	.L272
 3630              	.LVL355:
 3631              	.L286:
1624:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
ARM GAS  /tmp/cccHCpmH.s 			page 149


 3632              		.loc 1 1624 13 is_stmt 1 view .LVU1293
1624:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OFFSET;
 3633              		.loc 1 1624 16 is_stmt 0 view .LVU1294
 3634 012e 0029     		cmp	r1, #0
 3635 0130 D8DB     		blt	.L262
1625:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3636              		.loc 1 1625 16 is_stmt 1 view .LVU1295
1625:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3637              		.loc 1 1625 23 is_stmt 0 view .LVU1296
 3638 0132 40F22B33 		movw	r3, #811
 3639 0136 3380     		strh	r3, [r6]	@ movhi
1626:rtos/uC-FS/Source/fs_file.c ****                 return;
 3640              		.loc 1 1626 17 is_stmt 1 view .LVU1297
 3641 0138 2046     		mov	r0, r4
 3642 013a FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3643              	.LVL356:
1627:rtos/uC-FS/Source/fs_file.c ****             }
 3644              		.loc 1 1627 17 view .LVU1298
 3645 013e 47E0     		b	.L248
 3646              	.LVL357:
 3647              	.L287:
1632:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3648              		.loc 1 1632 16 view .LVU1299
1632:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3649              		.loc 1 1632 23 is_stmt 0 view .LVU1300
 3650 0140 40F22B33 		movw	r3, #811
 3651 0144 3380     		strh	r3, [r6]	@ movhi
1633:rtos/uC-FS/Source/fs_file.c ****                 return;
 3652              		.loc 1 1633 17 is_stmt 1 view .LVU1301
 3653 0146 2046     		mov	r0, r4
 3654 0148 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3655              	.LVL358:
1634:rtos/uC-FS/Source/fs_file.c ****             }
 3656              		.loc 1 1634 17 view .LVU1302
 3657 014c 40E0     		b	.L248
 3658              	.LVL359:
 3659              	.L285:
1640:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3660              		.loc 1 1640 16 view .LVU1303
1640:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3661              		.loc 1 1640 23 is_stmt 0 view .LVU1304
 3662 014e 40F22B33 		movw	r3, #811
 3663 0152 3380     		strh	r3, [r6]	@ movhi
1641:rtos/uC-FS/Source/fs_file.c ****                 return;
 3664              		.loc 1 1641 17 is_stmt 1 view .LVU1305
 3665 0154 2046     		mov	r0, r4
 3666 0156 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3667              	.LVL360:
1642:rtos/uC-FS/Source/fs_file.c ****             }
 3668              		.loc 1 1642 17 view .LVU1306
 3669 015a 39E0     		b	.L248
 3670              	.LVL361:
 3671              	.L288:
1672:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 3672              		.loc 1 1672 12 view .LVU1307
1672:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 3673              		.loc 1 1672 19 is_stmt 0 view .LVU1308
ARM GAS  /tmp/cccHCpmH.s 			page 150


 3674 015c 6423     		movs	r3, #100
 3675 015e 3380     		strh	r3, [r6]	@ movhi
1673:rtos/uC-FS/Source/fs_file.c ****             return;
 3676              		.loc 1 1673 13 is_stmt 1 view .LVU1309
 3677 0160 2046     		mov	r0, r4
 3678              	.LVL362:
1673:rtos/uC-FS/Source/fs_file.c ****             return;
 3679              		.loc 1 1673 13 is_stmt 0 view .LVU1310
 3680 0162 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3681              	.LVL363:
1674:rtos/uC-FS/Source/fs_file.c ****         }
 3682              		.loc 1 1674 13 is_stmt 1 view .LVU1311
 3683 0166 33E0     		b	.L248
 3684              	.LVL364:
 3685              	.L289:
1684:rtos/uC-FS/Source/fs_file.c ****             FSBuf_Free(p_buf);
 3686              		.loc 1 1684 13 view .LVU1312
 3687 0168 2046     		mov	r0, r4
 3688 016a FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3689              	.LVL365:
1685:rtos/uC-FS/Source/fs_file.c ****             return;
 3690              		.loc 1 1685 13 view .LVU1313
 3691 016e 4846     		mov	r0, r9
 3692 0170 FFF7FEFF 		bl	FSBuf_Free
 3693              	.LVL366:
1686:rtos/uC-FS/Source/fs_file.c ****         }
 3694              		.loc 1 1686 13 view .LVU1314
 3695 0174 2CE0     		b	.L248
 3696              	.LVL367:
 3697              	.L291:
1703:rtos/uC-FS/Source/fs_file.c ****                 FSBuf_Free(p_buf);
 3698              		.loc 1 1703 17 view .LVU1315
 3699 0176 2046     		mov	r0, r4
 3700 0178 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3701              	.LVL368:
1704:rtos/uC-FS/Source/fs_file.c ****                 return;
 3702              		.loc 1 1704 17 view .LVU1316
 3703 017c 4846     		mov	r0, r9
 3704 017e FFF7FEFF 		bl	FSBuf_Free
 3705              	.LVL369:
1705:rtos/uC-FS/Source/fs_file.c ****             }
 3706              		.loc 1 1705 17 view .LVU1317
 3707 0182 25E0     		b	.L248
 3708              	.L270:
1711:rtos/uC-FS/Source/fs_file.c ****             } else {
 3709              		.loc 1 1711 25 is_stmt 0 view .LVU1318
 3710 0184 C246     		mov	r10, r8
 3711              	.LVL370:
 3712              	.L272:
1697:rtos/uC-FS/Source/fs_file.c ****             FSSys_FileWr (p_file,
 3713              		.loc 1 1697 15 is_stmt 1 view .LVU1319
 3714 0186 95B1     		cbz	r5, .L290
1698:rtos/uC-FS/Source/fs_file.c ****                           p_buf->DataPtr,
 3715              		.loc 1 1698 13 view .LVU1320
 3716 0188 3346     		mov	r3, r6
 3717 018a 5246     		mov	r2, r10
 3718 018c D9F81010 		ldr	r1, [r9, #16]
ARM GAS  /tmp/cccHCpmH.s 			page 151


 3719 0190 2046     		mov	r0, r4
 3720 0192 FFF7FEFF 		bl	FSSys_FileWr
 3721              	.LVL371:
1702:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3722              		.loc 1 1702 13 view .LVU1321
1702:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3723              		.loc 1 1702 17 is_stmt 0 view .LVU1322
 3724 0196 3388     		ldrh	r3, [r6]
1702:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 3725              		.loc 1 1702 16 view .LVU1323
 3726 0198 002B     		cmp	r3, #0
 3727 019a ECD1     		bne	.L291
1707:rtos/uC-FS/Source/fs_file.c ****             p_file->Size += wr_size;
 3728              		.loc 1 1707 13 is_stmt 1 view .LVU1324
1707:rtos/uC-FS/Source/fs_file.c ****             p_file->Size += wr_size;
 3729              		.loc 1 1707 26 is_stmt 0 view .LVU1325
 3730 019c A5EB0A05 		sub	r5, r5, r10
 3731              	.LVL372:
1708:rtos/uC-FS/Source/fs_file.c **** 
 3732              		.loc 1 1708 13 is_stmt 1 view .LVU1326
1708:rtos/uC-FS/Source/fs_file.c **** 
 3733              		.loc 1 1708 26 is_stmt 0 view .LVU1327
 3734 01a0 A269     		ldr	r2, [r4, #24]
 3735 01a2 5244     		add	r2, r2, r10
 3736 01a4 A261     		str	r2, [r4, #24]
1710:rtos/uC-FS/Source/fs_file.c ****                 wr_size = buf_size;
 3737              		.loc 1 1710 13 is_stmt 1 view .LVU1328
1710:rtos/uC-FS/Source/fs_file.c ****                 wr_size = buf_size;
 3738              		.loc 1 1710 16 is_stmt 0 view .LVU1329
 3739 01a6 A845     		cmp	r8, r5
 3740 01a8 ECD3     		bcc	.L270
1713:rtos/uC-FS/Source/fs_file.c ****             }
 3741              		.loc 1 1713 25 view .LVU1330
 3742 01aa AA46     		mov	r10, r5
 3743              	.LVL373:
1713:rtos/uC-FS/Source/fs_file.c ****             }
 3744              		.loc 1 1713 25 view .LVU1331
 3745 01ac EBE7     		b	.L272
 3746              	.LVL374:
 3747              	.L290:
1716:rtos/uC-FS/Source/fs_file.c **** #endif
 3748              		.loc 1 1716 9 is_stmt 1 view .LVU1332
 3749 01ae 4846     		mov	r0, r9
 3750 01b0 FFF7FEFF 		bl	FSBuf_Free
 3751              	.LVL375:
 3752              	.L264:
1720:rtos/uC-FS/Source/fs_file.c **** 
 3753              		.loc 1 1720 5 view .LVU1333
 3754 01b4 3246     		mov	r2, r6
 3755 01b6 3946     		mov	r1, r7
 3756 01b8 2046     		mov	r0, r4
 3757 01ba FFF7FEFF 		bl	FSSys_FilePosSet
 3758              	.LVL376:
1722:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;                              /* Set err indicator (see Note #1a)
 3759              		.loc 1 1722 5 view .LVU1334
1722:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;                              /* Set err indicator (see Note #1a)
 3760              		.loc 1 1722 9 is_stmt 0 view .LVU1335
ARM GAS  /tmp/cccHCpmH.s 			page 152


 3761 01be 3388     		ldrh	r3, [r6]
1722:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;                              /* Set err indicator (see Note #1a)
 3762              		.loc 1 1722 8 view .LVU1336
 3763 01c0 43B1     		cbz	r3, .L274
1723:rtos/uC-FS/Source/fs_file.c ****     } else {
 3764              		.loc 1 1723 9 is_stmt 1 view .LVU1337
1723:rtos/uC-FS/Source/fs_file.c ****     } else {
 3765              		.loc 1 1723 25 is_stmt 0 view .LVU1338
 3766 01c2 0123     		movs	r3, #1
 3767 01c4 2375     		strb	r3, [r4, #20]
 3768              	.L275:
1729:rtos/uC-FS/Source/fs_file.c **** 
 3769              		.loc 1 1729 5 is_stmt 1 view .LVU1339
1729:rtos/uC-FS/Source/fs_file.c **** 
 3770              		.loc 1 1729 22 is_stmt 0 view .LVU1340
 3771 01c6 0023     		movs	r3, #0
 3772 01c8 E382     		strh	r3, [r4, #22]	@ movhi
1734:rtos/uC-FS/Source/fs_file.c **** }
 3773              		.loc 1 1734 5 is_stmt 1 view .LVU1341
 3774 01ca 2046     		mov	r0, r4
 3775 01cc FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3776              	.LVL377:
 3777              	.L248:
1735:rtos/uC-FS/Source/fs_file.c **** 
 3778              		.loc 1 1735 1 is_stmt 0 view .LVU1342
 3779 01d0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3780              	.LVL378:
 3781              	.L274:
1725:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos     = set_pos;
 3782              		.loc 1 1725 9 is_stmt 1 view .LVU1343
1725:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos     = set_pos;
 3783              		.loc 1 1725 25 is_stmt 0 view .LVU1344
 3784 01d4 0023     		movs	r3, #0
 3785 01d6 6375     		strb	r3, [r4, #21]
1726:rtos/uC-FS/Source/fs_file.c ****     }
 3786              		.loc 1 1726 9 is_stmt 1 view .LVU1345
1726:rtos/uC-FS/Source/fs_file.c ****     }
 3787              		.loc 1 1726 25 is_stmt 0 view .LVU1346
 3788 01d8 E761     		str	r7, [r4, #28]
 3789 01da F4E7     		b	.L275
 3790              		.cfi_endproc
 3791              	.LFE9:
 3793              		.section	.text.FSFile_Query,"ax",%progbits
 3794              		.align	1
 3795              		.global	FSFile_Query
 3796              		.syntax unified
 3797              		.thumb
 3798              		.thumb_func
 3799              		.fpu fpv4-sp-d16
 3801              	FSFile_Query:
 3802              	.LVL379:
 3803              	.LFB10:
1774:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 3804              		.loc 1 1774 1 is_stmt 1 view -0
 3805              		.cfi_startproc
 3806              		@ args = 0, pretend = 0, frame = 0
 3807              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cccHCpmH.s 			page 153


1774:rtos/uC-FS/Source/fs_file.c **** #if (FS_CFG_ERR_ARG_CHK_EXT_EN == DEF_ENABLED)                  /* ------------------- VALIDATE ARG
 3808              		.loc 1 1774 1 is_stmt 0 view .LVU1348
 3809 0000 70B5     		push	{r4, r5, r6, lr}
 3810              	.LCFI43:
 3811              		.cfi_def_cfa_offset 16
 3812              		.cfi_offset 4, -16
 3813              		.cfi_offset 5, -12
 3814              		.cfi_offset 6, -8
 3815              		.cfi_offset 14, -4
 3816 0002 0446     		mov	r4, r0
 3817 0004 0D46     		mov	r5, r1
1776:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 3818              		.loc 1 1776 5 is_stmt 1 view .LVU1349
1776:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 3819              		.loc 1 1776 8 is_stmt 0 view .LVU1350
 3820 0006 1646     		mov	r6, r2
 3821 0008 42B1     		cbz	r2, .L300
 3822              	.LVL380:
 3823              	.L293:
1777:rtos/uC-FS/Source/fs_file.c ****     }
 3824              		.loc 1 1777 9 is_stmt 1 discriminator 1 view .LVU1351
1779:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3825              		.loc 1 1779 5 discriminator 1 view .LVU1352
1779:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3826              		.loc 1 1779 8 is_stmt 0 discriminator 1 view .LVU1353
 3827 000a 54B1     		cbz	r4, .L301
1783:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3828              		.loc 1 1783 5 is_stmt 1 view .LVU1354
1783:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3829              		.loc 1 1783 8 is_stmt 0 view .LVU1355
 3830 000c 65B1     		cbz	r5, .L302
1790:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3831              		.loc 1 1790 5 is_stmt 1 view .LVU1356
1790:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3832              		.loc 1 1790 11 is_stmt 0 view .LVU1357
 3833 000e 3146     		mov	r1, r6
 3834 0010 2046     		mov	r0, r4
 3835 0012 FFF7FEFF 		bl	FSFile_AcquireLockChk
 3836              	.LVL381:
1791:rtos/uC-FS/Source/fs_file.c ****         return;
 3837              		.loc 1 1791 5 is_stmt 1 view .LVU1358
1791:rtos/uC-FS/Source/fs_file.c ****         return;
 3838              		.loc 1 1791 9 is_stmt 0 view .LVU1359
 3839 0016 3388     		ldrh	r3, [r6]
1791:rtos/uC-FS/Source/fs_file.c ****         return;
 3840              		.loc 1 1791 8 view .LVU1360
 3841 0018 4BB1     		cbz	r3, .L303
 3842              	.L292:
1816:rtos/uC-FS/Source/fs_file.c **** 
 3843              		.loc 1 1816 1 view .LVU1361
 3844 001a 70BD     		pop	{r4, r5, r6, pc}
 3845              	.LVL382:
 3846              	.L300:
1777:rtos/uC-FS/Source/fs_file.c ****     }
 3847              		.loc 1 1777 9 is_stmt 1 view .LVU1362
1777:rtos/uC-FS/Source/fs_file.c ****     }
 3848              		.loc 1 1777 9 view .LVU1363
ARM GAS  /tmp/cccHCpmH.s 			page 154


 3849 001c FFF7FEFF 		bl	CPU_SW_Exception
 3850              	.LVL383:
1777:rtos/uC-FS/Source/fs_file.c ****     }
 3851              		.loc 1 1777 9 is_stmt 0 view .LVU1364
 3852 0020 F3E7     		b	.L293
 3853              	.L301:
1780:rtos/uC-FS/Source/fs_file.c ****         return;
 3854              		.loc 1 1780 8 is_stmt 1 view .LVU1365
1780:rtos/uC-FS/Source/fs_file.c ****         return;
 3855              		.loc 1 1780 15 is_stmt 0 view .LVU1366
 3856 0022 1323     		movs	r3, #19
 3857 0024 3380     		strh	r3, [r6]	@ movhi
1781:rtos/uC-FS/Source/fs_file.c ****     }
 3858              		.loc 1 1781 9 is_stmt 1 view .LVU1367
 3859 0026 F8E7     		b	.L292
 3860              	.L302:
1784:rtos/uC-FS/Source/fs_file.c ****         return;
 3861              		.loc 1 1784 8 view .LVU1368
1784:rtos/uC-FS/Source/fs_file.c ****         return;
 3862              		.loc 1 1784 15 is_stmt 0 view .LVU1369
 3863 0028 1323     		movs	r3, #19
 3864 002a 3380     		strh	r3, [r6]	@ movhi
1785:rtos/uC-FS/Source/fs_file.c ****     }
 3865              		.loc 1 1785 9 is_stmt 1 view .LVU1370
 3866 002c F5E7     		b	.L292
 3867              	.L303:
1796:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3868              		.loc 1 1796 5 view .LVU1371
 3869 002e 3246     		mov	r2, r6
 3870 0030 2946     		mov	r1, r5
 3871 0032 2046     		mov	r0, r4
 3872 0034 FFF7FEFF 		bl	FSSys_FileQuery
 3873              	.LVL384:
1797:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3874              		.loc 1 1797 5 view .LVU1372
1797:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3875              		.loc 1 1797 9 is_stmt 0 view .LVU1373
 3876 0038 3388     		ldrh	r3, [r6]
1797:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3877              		.loc 1 1797 8 view .LVU1374
 3878 003a 33B9     		cbnz	r3, .L304
1805:rtos/uC-FS/Source/fs_file.c ****         p_info->Size = p_file->Size;
 3879              		.loc 1 1805 5 is_stmt 1 view .LVU1375
1805:rtos/uC-FS/Source/fs_file.c ****         p_info->Size = p_file->Size;
 3880              		.loc 1 1805 15 is_stmt 0 view .LVU1376
 3881 003c 238E     		ldrh	r3, [r4, #48]
1805:rtos/uC-FS/Source/fs_file.c ****         p_info->Size = p_file->Size;
 3882              		.loc 1 1805 8 view .LVU1377
 3883 003e 052B     		cmp	r3, #5
 3884 0040 07D0     		beq	.L305
 3885              	.L298:
1815:rtos/uC-FS/Source/fs_file.c **** }
 3886              		.loc 1 1815 5 is_stmt 1 view .LVU1378
 3887 0042 2046     		mov	r0, r4
 3888 0044 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3889              	.LVL385:
 3890 0048 E7E7     		b	.L292
ARM GAS  /tmp/cccHCpmH.s 			page 155


 3891              	.L304:
1798:rtos/uC-FS/Source/fs_file.c ****         return;
 3892              		.loc 1 1798 9 view .LVU1379
 3893 004a 2046     		mov	r0, r4
 3894 004c FFF7FEFF 		bl	FSFile_ReleaseUnlock
 3895              	.LVL386:
1799:rtos/uC-FS/Source/fs_file.c ****     }
 3896              		.loc 1 1799 9 view .LVU1380
 3897 0050 E3E7     		b	.L292
 3898              	.L305:
1806:rtos/uC-FS/Source/fs_file.c **** 
 3899              		.loc 1 1806 9 view .LVU1381
1806:rtos/uC-FS/Source/fs_file.c **** 
 3900              		.loc 1 1806 30 is_stmt 0 view .LVU1382
 3901 0052 A369     		ldr	r3, [r4, #24]
1806:rtos/uC-FS/Source/fs_file.c **** 
 3902              		.loc 1 1806 22 view .LVU1383
 3903 0054 6B60     		str	r3, [r5, #4]
 3904 0056 F4E7     		b	.L298
 3905              		.cfi_endproc
 3906              	.LFE10:
 3908              		.section	.text.FSFile_Rd,"ax",%progbits
 3909              		.align	1
 3910              		.global	FSFile_Rd
 3911              		.syntax unified
 3912              		.thumb
 3913              		.thumb_func
 3914              		.fpu fpv4-sp-d16
 3916              	FSFile_Rd:
 3917              	.LVL387:
 3918              	.LFB11:
1874:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  size_rd;
 3919              		.loc 1 1874 1 is_stmt 1 view -0
 3920              		.cfi_startproc
 3921              		@ args = 0, pretend = 0, frame = 0
 3922              		@ frame_needed = 0, uses_anonymous_args = 0
1874:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  size_rd;
 3923              		.loc 1 1874 1 is_stmt 0 view .LVU1385
 3924 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3925              	.LCFI44:
 3926              		.cfi_def_cfa_offset 24
 3927              		.cfi_offset 4, -24
 3928              		.cfi_offset 5, -20
 3929              		.cfi_offset 6, -16
 3930              		.cfi_offset 7, -12
 3931              		.cfi_offset 8, -8
 3932              		.cfi_offset 14, -4
 3933 0004 0446     		mov	r4, r0
 3934 0006 0E46     		mov	r6, r1
 3935 0008 1746     		mov	r7, r2
1875:rtos/uC-FS/Source/fs_file.c **** 
 3936              		.loc 1 1875 5 is_stmt 1 view .LVU1386
1879:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
 3937              		.loc 1 1879 5 view .LVU1387
1879:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
 3938              		.loc 1 1879 8 is_stmt 0 view .LVU1388
 3939 000a 9846     		mov	r8, r3
ARM GAS  /tmp/cccHCpmH.s 			page 156


 3940 000c 002B     		cmp	r3, #0
 3941 000e 39D0     		beq	.L327
 3942              	.LVL388:
 3943              	.L307:
1880:rtos/uC-FS/Source/fs_file.c ****     }
 3944              		.loc 1 1880 9 is_stmt 1 discriminator 1 view .LVU1389
1882:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3945              		.loc 1 1882 5 discriminator 1 view .LVU1390
1882:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3946              		.loc 1 1882 8 is_stmt 0 discriminator 1 view .LVU1391
 3947 0010 002C     		cmp	r4, #0
 3948 0012 3AD0     		beq	.L328
1886:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3949              		.loc 1 1886 5 is_stmt 1 view .LVU1392
1886:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 3950              		.loc 1 1886 8 is_stmt 0 view .LVU1393
 3951 0014 002E     		cmp	r6, #0
 3952 0016 3DD0     		beq	.L329
1894:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3953              		.loc 1 1894 5 is_stmt 1 view .LVU1394
1894:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 3954              		.loc 1 1894 11 is_stmt 0 view .LVU1395
 3955 0018 4146     		mov	r1, r8
 3956 001a 2046     		mov	r0, r4
 3957 001c FFF7FEFF 		bl	FSFile_AcquireLockChk
 3958              	.LVL389:
1895:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3959              		.loc 1 1895 5 is_stmt 1 view .LVU1396
1895:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3960              		.loc 1 1895 9 is_stmt 0 view .LVU1397
 3961 0020 B8F80030 		ldrh	r3, [r8]
1895:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 3962              		.loc 1 1895 8 view .LVU1398
 3963 0024 002B     		cmp	r3, #0
 3964 0026 40F08380 		bne	.L324
1900:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3965              		.loc 1 1900 5 is_stmt 1 view .LVU1399
1900:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3966              		.loc 1 1900 9 is_stmt 0 view .LVU1400
 3967 002a 2569     		ldr	r5, [r4, #16]
1900:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3968              		.loc 1 1900 8 view .LVU1401
 3969 002c 15F00105 		ands	r5, r5, #1
 3970 0030 37D0     		beq	.L330
1906:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3971              		.loc 1 1906 5 is_stmt 1 view .LVU1402
1906:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3972              		.loc 1 1906 15 is_stmt 0 view .LVU1403
 3973 0032 E38A     		ldrh	r3, [r4, #22]
1906:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3974              		.loc 1 1906 8 view .LVU1404
 3975 0034 022B     		cmp	r3, #2
 3976 0036 3CD0     		beq	.L331
1912:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3977              		.loc 1 1912 5 is_stmt 1 view .LVU1405
1912:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3978              		.loc 1 1912 15 is_stmt 0 view .LVU1406
ARM GAS  /tmp/cccHCpmH.s 			page 157


 3979 0038 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
1912:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3980              		.loc 1 1912 8 view .LVU1407
 3981 003a 012B     		cmp	r3, #1
 3982 003c 42D0     		beq	.L332
1918:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3983              		.loc 1 1918 5 is_stmt 1 view .LVU1408
1918:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3984              		.loc 1 1918 8 is_stmt 0 view .LVU1409
 3985 003e 002F     		cmp	r7, #0
 3986 0040 49D0     		beq	.L333
1929:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3987              		.loc 1 1929 5 is_stmt 1 view .LVU1410
1929:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3988              		.loc 1 1929 15 is_stmt 0 view .LVU1411
 3989 0042 238E     		ldrh	r3, [r4, #48]
1929:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 3990              		.loc 1 1929 8 view .LVU1412
 3991 0044 052B     		cmp	r3, #5
 3992 0046 4ED0     		beq	.L334
1936:rtos/uC-FS/Source/fs_file.c ****         size_rd = FSFile_BufRd(p_file,
 3993              		.loc 1 1936 5 is_stmt 1 view .LVU1413
1936:rtos/uC-FS/Source/fs_file.c ****         size_rd = FSFile_BufRd(p_file,
 3994              		.loc 1 1936 9 is_stmt 0 view .LVU1414
 3995 0048 E26A     		ldr	r2, [r4, #44]
1936:rtos/uC-FS/Source/fs_file.c ****         size_rd = FSFile_BufRd(p_file,
 3996              		.loc 1 1936 8 view .LVU1415
 3997 004a 12F0010F 		tst	r2, #1
 3998 004e 53D1     		bne	.L335
1951:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 3999              		.loc 1 1951 5 is_stmt 1 view .LVU1416
1951:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 4000              		.loc 1 1951 8 is_stmt 0 view .LVU1417
 4001 0050 012B     		cmp	r3, #1
 4002 0052 5FD0     		beq	.L336
 4003              	.L318:
1959:rtos/uC-FS/Source/fs_file.c ****                            p_dest,
 4004              		.loc 1 1959 5 is_stmt 1 view .LVU1418
1959:rtos/uC-FS/Source/fs_file.c ****                            p_dest,
 4005              		.loc 1 1959 15 is_stmt 0 view .LVU1419
 4006 0054 4346     		mov	r3, r8
 4007 0056 3A46     		mov	r2, r7
 4008 0058 3146     		mov	r1, r6
 4009 005a 2046     		mov	r0, r4
 4010 005c FFF7FEFF 		bl	FSSys_FileRd
 4011              	.LVL390:
 4012 0060 0546     		mov	r5, r0
 4013              	.LVL391:
1964:rtos/uC-FS/Source/fs_file.c **** 
 4014              		.loc 1 1964 5 is_stmt 1 view .LVU1420
1964:rtos/uC-FS/Source/fs_file.c **** 
 4015              		.loc 1 1964 17 is_stmt 0 view .LVU1421
 4016 0062 E369     		ldr	r3, [r4, #28]
 4017 0064 0344     		add	r3, r3, r0
 4018 0066 E361     		str	r3, [r4, #28]
1968:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_BUF_NONE_AVAIL:
 4019              		.loc 1 1968 5 is_stmt 1 view .LVU1422
ARM GAS  /tmp/cccHCpmH.s 			page 158


1968:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_BUF_NONE_AVAIL:
 4020              		.loc 1 1968 13 is_stmt 0 view .LVU1423
 4021 0068 B8F80030 		ldrh	r3, [r8]
1968:rtos/uC-FS/Source/fs_file.c ****         case FS_ERR_BUF_NONE_AVAIL:
 4022              		.loc 1 1968 5 view .LVU1424
 4023 006c 002B     		cmp	r3, #0
 4024 006e 54D0     		beq	.L319
 4025 0070 642B     		cmp	r3, #100
 4026 0072 03D0     		beq	.L320
1984:rtos/uC-FS/Source/fs_file.c ****              p_file->FlagErr = DEF_YES;
 4027              		.loc 1 1984 14 is_stmt 1 view .LVU1425
1984:rtos/uC-FS/Source/fs_file.c ****              p_file->FlagErr = DEF_YES;
 4028              		.loc 1 1984 30 is_stmt 0 view .LVU1426
 4029 0074 0023     		movs	r3, #0
 4030 0076 6375     		strb	r3, [r4, #21]
1985:rtos/uC-FS/Source/fs_file.c ****              break;
 4031              		.loc 1 1985 14 is_stmt 1 view .LVU1427
1985:rtos/uC-FS/Source/fs_file.c ****              break;
 4032              		.loc 1 1985 30 is_stmt 0 view .LVU1428
 4033 0078 0123     		movs	r3, #1
 4034 007a 2375     		strb	r3, [r4, #20]
1986:rtos/uC-FS/Source/fs_file.c ****     }
 4035              		.loc 1 1986 14 is_stmt 1 view .LVU1429
 4036              	.L320:
1992:rtos/uC-FS/Source/fs_file.c ****     return (size_rd);
 4037              		.loc 1 1992 5 view .LVU1430
 4038 007c 2046     		mov	r0, r4
 4039              	.LVL392:
1992:rtos/uC-FS/Source/fs_file.c ****     return (size_rd);
 4040              		.loc 1 1992 5 is_stmt 0 view .LVU1431
 4041 007e FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4042              	.LVL393:
1993:rtos/uC-FS/Source/fs_file.c **** }
 4043              		.loc 1 1993 5 is_stmt 1 view .LVU1432
1993:rtos/uC-FS/Source/fs_file.c **** }
 4044              		.loc 1 1993 12 is_stmt 0 view .LVU1433
 4045 0082 0BE0     		b	.L306
 4046              	.LVL394:
 4047              	.L327:
1880:rtos/uC-FS/Source/fs_file.c ****     }
 4048              		.loc 1 1880 9 is_stmt 1 view .LVU1434
1880:rtos/uC-FS/Source/fs_file.c ****     }
 4049              		.loc 1 1880 9 view .LVU1435
 4050 0084 FFF7FEFF 		bl	CPU_SW_Exception
 4051              	.LVL395:
1880:rtos/uC-FS/Source/fs_file.c ****     }
 4052              		.loc 1 1880 9 is_stmt 0 view .LVU1436
 4053 0088 C2E7     		b	.L307
 4054              	.L328:
1883:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4055              		.loc 1 1883 8 is_stmt 1 view .LVU1437
1883:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4056              		.loc 1 1883 15 is_stmt 0 view .LVU1438
 4057 008a 1323     		movs	r3, #19
 4058 008c A8F80030 		strh	r3, [r8]	@ movhi
1884:rtos/uC-FS/Source/fs_file.c ****     }
 4059              		.loc 1 1884 9 is_stmt 1 view .LVU1439
ARM GAS  /tmp/cccHCpmH.s 			page 159


1884:rtos/uC-FS/Source/fs_file.c ****     }
 4060              		.loc 1 1884 16 is_stmt 0 view .LVU1440
 4061 0090 0025     		movs	r5, #0
 4062 0092 03E0     		b	.L306
 4063              	.L329:
1887:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4064              		.loc 1 1887 8 is_stmt 1 view .LVU1441
1887:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4065              		.loc 1 1887 15 is_stmt 0 view .LVU1442
 4066 0094 1323     		movs	r3, #19
 4067 0096 A8F80030 		strh	r3, [r8]	@ movhi
1888:rtos/uC-FS/Source/fs_file.c ****     }
 4068              		.loc 1 1888 9 is_stmt 1 view .LVU1443
1888:rtos/uC-FS/Source/fs_file.c ****     }
 4069              		.loc 1 1888 16 is_stmt 0 view .LVU1444
 4070 009a 0025     		movs	r5, #0
 4071              	.L306:
1994:rtos/uC-FS/Source/fs_file.c **** 
 4072              		.loc 1 1994 1 view .LVU1445
 4073 009c 2846     		mov	r0, r5
 4074 009e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4075              	.LVL396:
 4076              	.L330:
1901:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP;
 4077              		.loc 1 1901 9 is_stmt 1 view .LVU1446
 4078 00a2 2046     		mov	r0, r4
 4079 00a4 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4080              	.LVL397:
1902:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4081              		.loc 1 1902 8 view .LVU1447
1902:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4082              		.loc 1 1902 15 is_stmt 0 view .LVU1448
 4083 00a8 40F22D33 		movw	r3, #813
 4084 00ac A8F80030 		strh	r3, [r8]	@ movhi
1903:rtos/uC-FS/Source/fs_file.c ****     }
 4085              		.loc 1 1903 9 is_stmt 1 view .LVU1449
1903:rtos/uC-FS/Source/fs_file.c ****     }
 4086              		.loc 1 1903 16 is_stmt 0 view .LVU1450
 4087 00b0 F4E7     		b	.L306
 4088              	.L331:
1907:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP_SEQ;
 4089              		.loc 1 1907 9 is_stmt 1 view .LVU1451
 4090 00b2 2046     		mov	r0, r4
 4091 00b4 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4092              	.LVL398:
1908:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4093              		.loc 1 1908 8 view .LVU1452
1908:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4094              		.loc 1 1908 15 is_stmt 0 view .LVU1453
 4095 00b8 40F22E33 		movw	r3, #814
 4096 00bc A8F80030 		strh	r3, [r8]	@ movhi
1909:rtos/uC-FS/Source/fs_file.c ****     }
 4097              		.loc 1 1909 9 is_stmt 1 view .LVU1454
1909:rtos/uC-FS/Source/fs_file.c ****     }
 4098              		.loc 1 1909 16 is_stmt 0 view .LVU1455
 4099 00c0 0025     		movs	r5, #0
 4100 00c2 EBE7     		b	.L306
ARM GAS  /tmp/cccHCpmH.s 			page 160


 4101              	.L332:
1913:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
 4102              		.loc 1 1913 9 is_stmt 1 view .LVU1456
 4103 00c4 2046     		mov	r0, r4
 4104 00c6 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4105              	.LVL399:
1914:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4106              		.loc 1 1914 8 view .LVU1457
1914:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4107              		.loc 1 1914 15 is_stmt 0 view .LVU1458
 4108 00ca 40F22233 		movw	r3, #802
 4109 00ce A8F80030 		strh	r3, [r8]	@ movhi
1915:rtos/uC-FS/Source/fs_file.c ****     }
 4110              		.loc 1 1915 9 is_stmt 1 view .LVU1459
1915:rtos/uC-FS/Source/fs_file.c ****     }
 4111              		.loc 1 1915 16 is_stmt 0 view .LVU1460
 4112 00d2 0025     		movs	r5, #0
 4113 00d4 E2E7     		b	.L306
 4114              	.L333:
1919:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 4115              		.loc 1 1919 9 is_stmt 1 view .LVU1461
 4116 00d6 2046     		mov	r0, r4
 4117 00d8 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4118              	.LVL400:
1920:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4119              		.loc 1 1920 8 view .LVU1462
1920:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4120              		.loc 1 1920 15 is_stmt 0 view .LVU1463
 4121 00dc 0023     		movs	r3, #0
 4122 00de A8F80030 		strh	r3, [r8]	@ movhi
1921:rtos/uC-FS/Source/fs_file.c ****     }
 4123              		.loc 1 1921 9 is_stmt 1 view .LVU1464
1921:rtos/uC-FS/Source/fs_file.c ****     }
 4124              		.loc 1 1921 16 is_stmt 0 view .LVU1465
 4125 00e2 3D46     		mov	r5, r7
 4126 00e4 DAE7     		b	.L306
 4127              	.L334:
1930:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP_SEQ;
 4128              		.loc 1 1930 9 is_stmt 1 view .LVU1466
 4129 00e6 2046     		mov	r0, r4
 4130 00e8 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4131              	.LVL401:
1931:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4132              		.loc 1 1931 8 view .LVU1467
1931:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4133              		.loc 1 1931 15 is_stmt 0 view .LVU1468
 4134 00ec 40F22E33 		movw	r3, #814
 4135 00f0 A8F80030 		strh	r3, [r8]	@ movhi
1932:rtos/uC-FS/Source/fs_file.c ****     }
 4136              		.loc 1 1932 9 is_stmt 1 view .LVU1469
1932:rtos/uC-FS/Source/fs_file.c ****     }
 4137              		.loc 1 1932 16 is_stmt 0 view .LVU1470
 4138 00f4 0025     		movs	r5, #0
 4139 00f6 D1E7     		b	.L306
 4140              	.L335:
1937:rtos/uC-FS/Source/fs_file.c ****                                p_dest,
 4141              		.loc 1 1937 9 is_stmt 1 view .LVU1471
ARM GAS  /tmp/cccHCpmH.s 			page 161


1937:rtos/uC-FS/Source/fs_file.c ****                                p_dest,
 4142              		.loc 1 1937 19 is_stmt 0 view .LVU1472
 4143 00f8 4346     		mov	r3, r8
 4144 00fa 3A46     		mov	r2, r7
 4145 00fc 3146     		mov	r1, r6
 4146 00fe 2046     		mov	r0, r4
 4147 0100 FFF7FEFF 		bl	FSFile_BufRd
 4148              	.LVL402:
1942:rtos/uC-FS/Source/fs_file.c ****             p_file->IO_State = FS_FILE_IO_STATE_RD;
 4149              		.loc 1 1942 9 is_stmt 1 view .LVU1473
1942:rtos/uC-FS/Source/fs_file.c ****             p_file->IO_State = FS_FILE_IO_STATE_RD;
 4150              		.loc 1 1942 12 is_stmt 0 view .LVU1474
 4151 0104 0546     		mov	r5, r0
 4152 0106 08B1     		cbz	r0, .L317
1943:rtos/uC-FS/Source/fs_file.c ****         }
 4153              		.loc 1 1943 13 is_stmt 1 view .LVU1475
1943:rtos/uC-FS/Source/fs_file.c ****         }
 4154              		.loc 1 1943 30 is_stmt 0 view .LVU1476
 4155 0108 0123     		movs	r3, #1
 4156 010a E382     		strh	r3, [r4, #22]	@ movhi
 4157              	.L317:
1946:rtos/uC-FS/Source/fs_file.c ****         return (size_rd);
 4158              		.loc 1 1946 9 is_stmt 1 view .LVU1477
 4159 010c 2046     		mov	r0, r4
 4160              	.LVL403:
1946:rtos/uC-FS/Source/fs_file.c ****         return (size_rd);
 4161              		.loc 1 1946 9 is_stmt 0 view .LVU1478
 4162 010e FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4163              	.LVL404:
1947:rtos/uC-FS/Source/fs_file.c ****     }
 4164              		.loc 1 1947 9 is_stmt 1 view .LVU1479
1947:rtos/uC-FS/Source/fs_file.c ****     }
 4165              		.loc 1 1947 16 is_stmt 0 view .LVU1480
 4166 0112 C3E7     		b	.L306
 4167              	.LVL405:
 4168              	.L336:
1952:rtos/uC-FS/Source/fs_file.c ****     }
 4169              		.loc 1 1952 9 is_stmt 1 view .LVU1481
1952:rtos/uC-FS/Source/fs_file.c ****     }
 4170              		.loc 1 1952 27 is_stmt 0 view .LVU1482
 4171 0114 0223     		movs	r3, #2
 4172 0116 2386     		strh	r3, [r4, #48]	@ movhi
 4173 0118 9CE7     		b	.L318
 4174              	.LVL406:
 4175              	.L319:
1973:rtos/uC-FS/Source/fs_file.c ****                  p_file->IO_State = FS_FILE_IO_STATE_RD;
 4176              		.loc 1 1973 14 is_stmt 1 view .LVU1483
1973:rtos/uC-FS/Source/fs_file.c ****                  p_file->IO_State = FS_FILE_IO_STATE_RD;
 4177              		.loc 1 1973 17 is_stmt 0 view .LVU1484
 4178 011a 08B1     		cbz	r0, .L322
1974:rtos/uC-FS/Source/fs_file.c ****              }
 4179              		.loc 1 1974 18 is_stmt 1 view .LVU1485
1974:rtos/uC-FS/Source/fs_file.c ****              }
 4180              		.loc 1 1974 35 is_stmt 0 view .LVU1486
 4181 011c 0123     		movs	r3, #1
 4182 011e E382     		strh	r3, [r4, #22]	@ movhi
 4183              	.L322:
ARM GAS  /tmp/cccHCpmH.s 			page 162


1976:rtos/uC-FS/Source/fs_file.c ****                  p_file->FlagEOF = DEF_YES;
 4184              		.loc 1 1976 14 is_stmt 1 view .LVU1487
1976:rtos/uC-FS/Source/fs_file.c ****                  p_file->FlagEOF = DEF_YES;
 4185              		.loc 1 1976 17 is_stmt 0 view .LVU1488
 4186 0120 AF42     		cmp	r7, r5
 4187 0122 02D0     		beq	.L323
1977:rtos/uC-FS/Source/fs_file.c ****              } else {
 4188              		.loc 1 1977 18 is_stmt 1 view .LVU1489
1977:rtos/uC-FS/Source/fs_file.c ****              } else {
 4189              		.loc 1 1977 34 is_stmt 0 view .LVU1490
 4190 0124 0123     		movs	r3, #1
 4191 0126 6375     		strb	r3, [r4, #21]
 4192 0128 A8E7     		b	.L320
 4193              	.L323:
1979:rtos/uC-FS/Source/fs_file.c ****              }
 4194              		.loc 1 1979 18 is_stmt 1 view .LVU1491
1979:rtos/uC-FS/Source/fs_file.c ****              }
 4195              		.loc 1 1979 34 is_stmt 0 view .LVU1492
 4196 012a 0023     		movs	r3, #0
 4197 012c 6375     		strb	r3, [r4, #21]
 4198 012e A5E7     		b	.L320
 4199              	.LVL407:
 4200              	.L324:
1896:rtos/uC-FS/Source/fs_file.c ****     }
 4201              		.loc 1 1896 16 view .LVU1493
 4202 0130 0025     		movs	r5, #0
 4203 0132 B3E7     		b	.L306
 4204              		.cfi_endproc
 4205              	.LFE11:
 4207              		.section	.text.FSFile_Truncate,"ax",%progbits
 4208              		.align	1
 4209              		.global	FSFile_Truncate
 4210              		.syntax unified
 4211              		.thumb
 4212              		.thumb_func
 4213              		.fpu fpv4-sp-d16
 4215              	FSFile_Truncate:
 4216              	.LVL408:
 4217              	.LFB12:
2054:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       fill_size;
 4218              		.loc 1 2054 1 is_stmt 1 view -0
 4219              		.cfi_startproc
 4220              		@ args = 0, pretend = 0, frame = 0
 4221              		@ frame_needed = 0, uses_anonymous_args = 0
2054:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       fill_size;
 4222              		.loc 1 2054 1 is_stmt 0 view .LVU1495
 4223 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4224              	.LCFI45:
 4225              		.cfi_def_cfa_offset 32
 4226              		.cfi_offset 4, -32
 4227              		.cfi_offset 5, -28
 4228              		.cfi_offset 6, -24
 4229              		.cfi_offset 7, -20
 4230              		.cfi_offset 8, -16
 4231              		.cfi_offset 9, -12
 4232              		.cfi_offset 10, -8
 4233              		.cfi_offset 14, -4
ARM GAS  /tmp/cccHCpmH.s 			page 163


 4234 0004 0446     		mov	r4, r0
 4235 0006 0F46     		mov	r7, r1
2055:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       wr_size;
 4236              		.loc 1 2055 5 is_stmt 1 view .LVU1496
2056:rtos/uC-FS/Source/fs_file.c ****     CPU_INT32U       buf_size;
 4237              		.loc 1 2056 5 view .LVU1497
2057:rtos/uC-FS/Source/fs_file.c ****     FS_BUF          *p_buf;
 4238              		.loc 1 2057 5 view .LVU1498
2058:rtos/uC-FS/Source/fs_file.c **** 
 4239              		.loc 1 2058 5 view .LVU1499
2062:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 4240              		.loc 1 2062 5 view .LVU1500
2062:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(;);
 4241              		.loc 1 2062 8 is_stmt 0 view .LVU1501
 4242 0008 1546     		mov	r5, r2
 4243 000a 002A     		cmp	r2, #0
 4244 000c 3DD0     		beq	.L363
 4245              	.LVL409:
 4246              	.L338:
2063:rtos/uC-FS/Source/fs_file.c ****     }
 4247              		.loc 1 2063 9 is_stmt 1 discriminator 1 view .LVU1502
2065:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 4248              		.loc 1 2065 5 discriminator 1 view .LVU1503
2065:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 4249              		.loc 1 2065 8 is_stmt 0 discriminator 1 view .LVU1504
 4250 000e 002C     		cmp	r4, #0
 4251 0010 3ED0     		beq	.L364
2072:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 4252              		.loc 1 2072 5 is_stmt 1 view .LVU1505
2072:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 4253              		.loc 1 2072 11 is_stmt 0 view .LVU1506
 4254 0012 2946     		mov	r1, r5
 4255 0014 2046     		mov	r0, r4
 4256 0016 FFF7FEFF 		bl	FSFile_AcquireLockChk
 4257              	.LVL410:
2073:rtos/uC-FS/Source/fs_file.c ****          return;
 4258              		.loc 1 2073 5 is_stmt 1 view .LVU1507
2073:rtos/uC-FS/Source/fs_file.c ****          return;
 4259              		.loc 1 2073 9 is_stmt 0 view .LVU1508
 4260 001a 2B88     		ldrh	r3, [r5]
2073:rtos/uC-FS/Source/fs_file.c ****          return;
 4261              		.loc 1 2073 8 view .LVU1509
 4262 001c 002B     		cmp	r3, #0
 4263 001e 39D1     		bne	.L337
2077:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4264              		.loc 1 2077 5 is_stmt 1 view .LVU1510
2077:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4265              		.loc 1 2077 9 is_stmt 0 view .LVU1511
 4266 0020 2369     		ldr	r3, [r4, #16]
2077:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4267              		.loc 1 2077 8 view .LVU1512
 4268 0022 13F0020F 		tst	r3, #2
 4269 0026 37D0     		beq	.L365
2083:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4270              		.loc 1 2083 5 is_stmt 1 view .LVU1513
2083:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4271              		.loc 1 2083 15 is_stmt 0 view .LVU1514
ARM GAS  /tmp/cccHCpmH.s 			page 164


 4272 0028 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
2083:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4273              		.loc 1 2083 8 view .LVU1515
 4274 002a 012B     		cmp	r3, #1
 4275 002c 3BD0     		beq	.L366
2094:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 4276              		.loc 1 2094 5 is_stmt 1 view .LVU1516
2094:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 4277              		.loc 1 2094 15 is_stmt 0 view .LVU1517
 4278 002e 238E     		ldrh	r3, [r4, #48]
2094:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 4279              		.loc 1 2094 8 view .LVU1518
 4280 0030 012B     		cmp	r3, #1
 4281 0032 3FD1     		bne	.L343
2095:rtos/uC-FS/Source/fs_file.c **** 
 4282              		.loc 1 2095 9 is_stmt 1 view .LVU1519
2095:rtos/uC-FS/Source/fs_file.c **** 
 4283              		.loc 1 2095 27 is_stmt 0 view .LVU1520
 4284 0034 0223     		movs	r3, #2
 4285 0036 2386     		strh	r3, [r4, #48]	@ movhi
 4286              	.L344:
2111:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4287              		.loc 1 2111 5 is_stmt 1 view .LVU1521
2111:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4288              		.loc 1 2111 23 is_stmt 0 view .LVU1522
 4289 0038 A669     		ldr	r6, [r4, #24]
2111:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4290              		.loc 1 2111 8 view .LVU1523
 4291 003a BE42     		cmp	r6, r7
 4292 003c 45D0     		beq	.L367
2117:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Extension needed ... */
 4293              		.loc 1 2117 5 is_stmt 1 view .LVU1524
2117:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Extension needed ... */
 4294              		.loc 1 2117 8 is_stmt 0 view .LVU1525
 4295 003e BE42     		cmp	r6, r7
 4296 0040 80F08480 		bcs	.L346
2120:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Alloc buf filled with '\0'      
 4297              		.loc 1 2120 9 is_stmt 1 view .LVU1526
2120:rtos/uC-FS/Source/fs_file.c ****                                                                 /* Alloc buf filled with '\0'      
 4298              		.loc 1 2120 19 is_stmt 0 view .LVU1527
 4299 0044 BE1B     		subs	r6, r7, r6
 4300              	.LVL411:
2122:rtos/uC-FS/Source/fs_file.c ****         if (p_buf == (FS_BUF *)0) {
 4301              		.loc 1 2122 9 is_stmt 1 view .LVU1528
2122:rtos/uC-FS/Source/fs_file.c ****         if (p_buf == (FS_BUF *)0) {
 4302              		.loc 1 2122 17 is_stmt 0 view .LVU1529
 4303 0046 E06B     		ldr	r0, [r4, #60]
 4304 0048 FFF7FEFF 		bl	FSBuf_Get
 4305              	.LVL412:
2123:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_BUF_NONE_AVAIL;
 4306              		.loc 1 2123 9 is_stmt 1 view .LVU1530
2123:rtos/uC-FS/Source/fs_file.c ****            *p_err = FS_ERR_BUF_NONE_AVAIL;
 4307              		.loc 1 2123 12 is_stmt 0 view .LVU1531
 4308 004c 8246     		mov	r10, r0
 4309 004e 0028     		cmp	r0, #0
 4310 0050 41D0     		beq	.L368
2128:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 165


 4311              		.loc 1 2128 9 is_stmt 1 view .LVU1532
2128:rtos/uC-FS/Source/fs_file.c **** 
 4312              		.loc 1 2128 18 is_stmt 0 view .LVU1533
 4313 0052 D0F80090 		ldr	r9, [r0]
 4314              	.LVL413:
2130:rtos/uC-FS/Source/fs_file.c ****                  (CPU_INT08U)  ASCII_CHAR_NULL,
 4315              		.loc 1 2130 9 is_stmt 1 view .LVU1534
 4316 0056 4A46     		mov	r2, r9
 4317 0058 0021     		movs	r1, #0
 4318 005a 0069     		ldr	r0, [r0, #16]
 4319              	.LVL414:
2130:rtos/uC-FS/Source/fs_file.c ****                  (CPU_INT08U)  ASCII_CHAR_NULL,
 4320              		.loc 1 2130 9 is_stmt 0 view .LVU1535
 4321 005c FFF7FEFF 		bl	Mem_Set
 4322              	.LVL415:
2134:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
 4323              		.loc 1 2134 9 is_stmt 1 view .LVU1536
 4324 0060 2A46     		mov	r2, r5
 4325 0062 A169     		ldr	r1, [r4, #24]
 4326 0064 2046     		mov	r0, r4
 4327 0066 FFF7FEFF 		bl	FSSys_FilePosSet
 4328              	.LVL416:
2135:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4329              		.loc 1 2135 9 view .LVU1537
2135:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4330              		.loc 1 2135 13 is_stmt 0 view .LVU1538
 4331 006a 2B88     		ldrh	r3, [r5]
2135:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4332              		.loc 1 2135 12 view .LVU1539
 4333 006c 002B     		cmp	r3, #0
 4334 006e 38D1     		bne	.L369
2144:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 4335              		.loc 1 2144 9 is_stmt 1 view .LVU1540
2144:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 4336              		.loc 1 2144 25 is_stmt 0 view .LVU1541
 4337 0070 E36B     		ldr	r3, [r4, #60]
2144:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 4338              		.loc 1 2144 33 view .LVU1542
 4339 0072 9A6A     		ldr	r2, [r3, #40]
2144:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 4340              		.loc 1 2144 52 view .LVU1543
 4341 0074 E169     		ldr	r1, [r4, #28]
2144:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 4342              		.loc 1 2144 58 view .LVU1544
 4343 0076 B1FBF2F3 		udiv	r3, r1, r2
 4344 007a 02FB1313 		mls	r3, r2, r3, r1
2144:rtos/uC-FS/Source/fs_file.c ****         if (fill_size < wr_size) {                              /* Limit wr to tot size.           
 4345              		.loc 1 2144 17 view .LVU1545
 4346 007e A2EB0308 		sub	r8, r2, r3
 4347              	.LVL417:
2145:rtos/uC-FS/Source/fs_file.c ****             wr_size = fill_size;
 4348              		.loc 1 2145 9 is_stmt 1 view .LVU1546
2145:rtos/uC-FS/Source/fs_file.c ****             wr_size = fill_size;
 4349              		.loc 1 2145 12 is_stmt 0 view .LVU1547
 4350 0082 4645     		cmp	r6, r8
 4351 0084 3CD2     		bcs	.L350
2146:rtos/uC-FS/Source/fs_file.c ****         }
ARM GAS  /tmp/cccHCpmH.s 			page 166


 4352              		.loc 1 2146 21 view .LVU1548
 4353 0086 B046     		mov	r8, r6
 4354              	.LVL418:
2146:rtos/uC-FS/Source/fs_file.c ****         }
 4355              		.loc 1 2146 21 view .LVU1549
 4356 0088 3AE0     		b	.L350
 4357              	.LVL419:
 4358              	.L363:
2063:rtos/uC-FS/Source/fs_file.c ****     }
 4359              		.loc 1 2063 9 is_stmt 1 view .LVU1550
2063:rtos/uC-FS/Source/fs_file.c ****     }
 4360              		.loc 1 2063 9 view .LVU1551
 4361 008a FFF7FEFF 		bl	CPU_SW_Exception
 4362              	.LVL420:
2063:rtos/uC-FS/Source/fs_file.c ****     }
 4363              		.loc 1 2063 9 is_stmt 0 view .LVU1552
 4364 008e BEE7     		b	.L338
 4365              	.L364:
2066:rtos/uC-FS/Source/fs_file.c ****         return;
 4366              		.loc 1 2066 8 is_stmt 1 view .LVU1553
2066:rtos/uC-FS/Source/fs_file.c ****         return;
 4367              		.loc 1 2066 15 is_stmt 0 view .LVU1554
 4368 0090 1323     		movs	r3, #19
 4369 0092 2B80     		strh	r3, [r5]	@ movhi
2067:rtos/uC-FS/Source/fs_file.c ****     }
 4370              		.loc 1 2067 9 is_stmt 1 view .LVU1555
 4371              	.L337:
2203:rtos/uC-FS/Source/fs_file.c **** #endif
 4372              		.loc 1 2203 1 is_stmt 0 view .LVU1556
 4373 0094 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4374              	.LVL421:
 4375              	.L365:
2078:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP;
 4376              		.loc 1 2078 9 is_stmt 1 view .LVU1557
 4377 0098 2046     		mov	r0, r4
 4378 009a FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4379              	.LVL422:
2079:rtos/uC-FS/Source/fs_file.c ****         return;
 4380              		.loc 1 2079 8 view .LVU1558
2079:rtos/uC-FS/Source/fs_file.c ****         return;
 4381              		.loc 1 2079 15 is_stmt 0 view .LVU1559
 4382 009e 40F22D33 		movw	r3, #813
 4383 00a2 2B80     		strh	r3, [r5]	@ movhi
2080:rtos/uC-FS/Source/fs_file.c ****     }
 4384              		.loc 1 2080 9 is_stmt 1 view .LVU1560
 4385 00a4 F6E7     		b	.L337
 4386              	.L366:
2084:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
 4387              		.loc 1 2084 9 view .LVU1561
 4388 00a6 2046     		mov	r0, r4
 4389 00a8 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4390              	.LVL423:
2085:rtos/uC-FS/Source/fs_file.c ****         return;
 4391              		.loc 1 2085 8 view .LVU1562
2085:rtos/uC-FS/Source/fs_file.c ****         return;
 4392              		.loc 1 2085 15 is_stmt 0 view .LVU1563
 4393 00ac 40F22233 		movw	r3, #802
ARM GAS  /tmp/cccHCpmH.s 			page 167


 4394 00b0 2B80     		strh	r3, [r5]	@ movhi
2086:rtos/uC-FS/Source/fs_file.c ****     }
 4395              		.loc 1 2086 9 is_stmt 1 view .LVU1564
 4396 00b2 EFE7     		b	.L337
 4397              	.L343:
2100:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
 4398              		.loc 1 2100 9 view .LVU1565
 4399 00b4 2946     		mov	r1, r5
 4400 00b6 2046     		mov	r0, r4
 4401 00b8 FFF7FEFF 		bl	FSFile_BufEmpty
 4402              	.LVL424:
2101:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4403              		.loc 1 2101 9 view .LVU1566
2101:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4404              		.loc 1 2101 13 is_stmt 0 view .LVU1567
 4405 00bc 2B88     		ldrh	r3, [r5]
2101:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4406              		.loc 1 2101 12 view .LVU1568
 4407 00be 002B     		cmp	r3, #0
 4408 00c0 BAD0     		beq	.L344
2102:rtos/uC-FS/Source/fs_file.c ****             return;
 4409              		.loc 1 2102 13 is_stmt 1 view .LVU1569
 4410 00c2 2046     		mov	r0, r4
 4411 00c4 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4412              	.LVL425:
2103:rtos/uC-FS/Source/fs_file.c ****         }
 4413              		.loc 1 2103 13 view .LVU1570
 4414 00c8 E4E7     		b	.L337
 4415              	.L367:
2112:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;                                    /* ... nothing to do.              
 4416              		.loc 1 2112 9 view .LVU1571
 4417 00ca 2046     		mov	r0, r4
 4418 00cc FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4419              	.LVL426:
2113:rtos/uC-FS/Source/fs_file.c ****         return;
 4420              		.loc 1 2113 8 view .LVU1572
2113:rtos/uC-FS/Source/fs_file.c ****         return;
 4421              		.loc 1 2113 15 is_stmt 0 view .LVU1573
 4422 00d0 0023     		movs	r3, #0
 4423 00d2 2B80     		strh	r3, [r5]	@ movhi
2114:rtos/uC-FS/Source/fs_file.c ****     }
 4424              		.loc 1 2114 9 is_stmt 1 view .LVU1574
 4425 00d4 DEE7     		b	.L337
 4426              	.LVL427:
 4427              	.L368:
2124:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4428              		.loc 1 2124 12 view .LVU1575
2124:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4429              		.loc 1 2124 19 is_stmt 0 view .LVU1576
 4430 00d6 6423     		movs	r3, #100
 4431 00d8 2B80     		strh	r3, [r5]	@ movhi
2125:rtos/uC-FS/Source/fs_file.c ****             return;
 4432              		.loc 1 2125 13 is_stmt 1 view .LVU1577
 4433 00da 2046     		mov	r0, r4
 4434              	.LVL428:
2125:rtos/uC-FS/Source/fs_file.c ****             return;
 4435              		.loc 1 2125 13 is_stmt 0 view .LVU1578
ARM GAS  /tmp/cccHCpmH.s 			page 168


 4436 00dc FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4437              	.LVL429:
2126:rtos/uC-FS/Source/fs_file.c ****         }
 4438              		.loc 1 2126 13 is_stmt 1 view .LVU1579
 4439 00e0 D8E7     		b	.L337
 4440              	.LVL430:
 4441              	.L369:
2136:rtos/uC-FS/Source/fs_file.c ****             FSBuf_Free(p_buf);
 4442              		.loc 1 2136 13 view .LVU1580
 4443 00e2 2046     		mov	r0, r4
 4444 00e4 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4445              	.LVL431:
2137:rtos/uC-FS/Source/fs_file.c ****             return;
 4446              		.loc 1 2137 13 view .LVU1581
 4447 00e8 5046     		mov	r0, r10
 4448 00ea FFF7FEFF 		bl	FSBuf_Free
 4449              	.LVL432:
2138:rtos/uC-FS/Source/fs_file.c ****         }
 4450              		.loc 1 2138 13 view .LVU1582
 4451 00ee D1E7     		b	.L337
 4452              	.LVL433:
 4453              	.L371:
2155:rtos/uC-FS/Source/fs_file.c ****                 FSBuf_Free(p_buf);
 4454              		.loc 1 2155 17 view .LVU1583
 4455 00f0 2046     		mov	r0, r4
 4456 00f2 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4457              	.LVL434:
2156:rtos/uC-FS/Source/fs_file.c ****                 return;
 4458              		.loc 1 2156 17 view .LVU1584
 4459 00f6 5046     		mov	r0, r10
 4460 00f8 FFF7FEFF 		bl	FSBuf_Free
 4461              	.LVL435:
2157:rtos/uC-FS/Source/fs_file.c ****             }
 4462              		.loc 1 2157 17 view .LVU1585
 4463 00fc CAE7     		b	.L337
 4464              	.L360:
2165:rtos/uC-FS/Source/fs_file.c ****             }
 4465              		.loc 1 2165 25 is_stmt 0 view .LVU1586
 4466 00fe B046     		mov	r8, r6
 4467              	.LVL436:
 4468              	.L350:
2149:rtos/uC-FS/Source/fs_file.c ****             FSSys_FileWr (p_file,
 4469              		.loc 1 2149 15 is_stmt 1 view .LVU1587
 4470 0100 96B1     		cbz	r6, .L370
2150:rtos/uC-FS/Source/fs_file.c ****                           p_buf->DataPtr,
 4471              		.loc 1 2150 13 view .LVU1588
 4472 0102 2B46     		mov	r3, r5
 4473 0104 4246     		mov	r2, r8
 4474 0106 DAF81010 		ldr	r1, [r10, #16]
 4475 010a 2046     		mov	r0, r4
 4476 010c FFF7FEFF 		bl	FSSys_FileWr
 4477              	.LVL437:
2154:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 4478              		.loc 1 2154 13 view .LVU1589
2154:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 4479              		.loc 1 2154 17 is_stmt 0 view .LVU1590
 4480 0110 2B88     		ldrh	r3, [r5]
ARM GAS  /tmp/cccHCpmH.s 			page 169


2154:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 4481              		.loc 1 2154 16 view .LVU1591
 4482 0112 002B     		cmp	r3, #0
 4483 0114 ECD1     		bne	.L371
2159:rtos/uC-FS/Source/fs_file.c ****             p_file->Size += wr_size;
 4484              		.loc 1 2159 13 is_stmt 1 view .LVU1592
2159:rtos/uC-FS/Source/fs_file.c ****             p_file->Size += wr_size;
 4485              		.loc 1 2159 26 is_stmt 0 view .LVU1593
 4486 0116 A6EB0806 		sub	r6, r6, r8
 4487              	.LVL438:
2160:rtos/uC-FS/Source/fs_file.c **** 
 4488              		.loc 1 2160 13 is_stmt 1 view .LVU1594
2160:rtos/uC-FS/Source/fs_file.c **** 
 4489              		.loc 1 2160 26 is_stmt 0 view .LVU1595
 4490 011a A369     		ldr	r3, [r4, #24]
 4491 011c 4344     		add	r3, r3, r8
 4492 011e A361     		str	r3, [r4, #24]
2162:rtos/uC-FS/Source/fs_file.c ****                 wr_size = buf_size;
 4493              		.loc 1 2162 13 is_stmt 1 view .LVU1596
2162:rtos/uC-FS/Source/fs_file.c ****                 wr_size = buf_size;
 4494              		.loc 1 2162 16 is_stmt 0 view .LVU1597
 4495 0120 B145     		cmp	r9, r6
 4496 0122 ECD2     		bcs	.L360
2163:rtos/uC-FS/Source/fs_file.c ****             } else {
 4497              		.loc 1 2163 25 view .LVU1598
 4498 0124 C846     		mov	r8, r9
 4499              	.LVL439:
2163:rtos/uC-FS/Source/fs_file.c ****             } else {
 4500              		.loc 1 2163 25 view .LVU1599
 4501 0126 EBE7     		b	.L350
 4502              	.LVL440:
 4503              	.L370:
2169:rtos/uC-FS/Source/fs_file.c ****         if (*p_err != FS_ERR_NONE) {
 4504              		.loc 1 2169 9 is_stmt 1 view .LVU1600
 4505 0128 2A46     		mov	r2, r5
 4506 012a E169     		ldr	r1, [r4, #28]
 4507 012c 2046     		mov	r0, r4
 4508 012e FFF7FEFF 		bl	FSSys_FilePosSet
 4509              	.LVL441:
2170:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4510              		.loc 1 2170 9 view .LVU1601
2170:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4511              		.loc 1 2170 13 is_stmt 0 view .LVU1602
 4512 0132 2B88     		ldrh	r3, [r5]
2170:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4513              		.loc 1 2170 12 view .LVU1603
 4514 0134 1BB9     		cbnz	r3, .L372
2176:rtos/uC-FS/Source/fs_file.c **** 
 4515              		.loc 1 2176 9 is_stmt 1 view .LVU1604
 4516 0136 5046     		mov	r0, r10
 4517 0138 FFF7FEFF 		bl	FSBuf_Free
 4518              	.LVL442:
 4519 013c 0BE0     		b	.L355
 4520              	.L372:
2171:rtos/uC-FS/Source/fs_file.c ****             FSBuf_Free(p_buf);
 4521              		.loc 1 2171 13 view .LVU1605
 4522 013e 2046     		mov	r0, r4
ARM GAS  /tmp/cccHCpmH.s 			page 170


 4523 0140 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4524              	.LVL443:
2172:rtos/uC-FS/Source/fs_file.c ****             return;
 4525              		.loc 1 2172 13 view .LVU1606
 4526 0144 5046     		mov	r0, r10
 4527 0146 FFF7FEFF 		bl	FSBuf_Free
 4528              	.LVL444:
2173:rtos/uC-FS/Source/fs_file.c ****         }
 4529              		.loc 1 2173 13 view .LVU1607
 4530 014a A3E7     		b	.L337
 4531              	.LVL445:
 4532              	.L346:
2179:rtos/uC-FS/Source/fs_file.c ****                            size,
 4533              		.loc 1 2179 9 view .LVU1608
 4534 014c 2A46     		mov	r2, r5
 4535 014e 3946     		mov	r1, r7
 4536 0150 2046     		mov	r0, r4
 4537 0152 FFF7FEFF 		bl	FSSys_FileTruncate
 4538              	.LVL446:
 4539              	.L355:
2184:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF = DEF_NO;
 4540              		.loc 1 2184 5 view .LVU1609
2184:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF = DEF_NO;
 4541              		.loc 1 2184 9 is_stmt 0 view .LVU1610
 4542 0156 2B88     		ldrh	r3, [r5]
2184:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagEOF = DEF_NO;
 4543              		.loc 1 2184 8 view .LVU1611
 4544 0158 73B9     		cbnz	r3, .L373
2191:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos = size;                                     /* Set file pos to new EOF (see Not
 4545              		.loc 1 2191 5 is_stmt 1 view .LVU1612
2191:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos = size;                                     /* Set file pos to new EOF (see Not
 4546              		.loc 1 2191 22 is_stmt 0 view .LVU1613
 4547 015a E369     		ldr	r3, [r4, #28]
2191:rtos/uC-FS/Source/fs_file.c ****         p_file->Pos = size;                                     /* Set file pos to new EOF (see Not
 4548              		.loc 1 2191 8 view .LVU1614
 4549 015c BB42     		cmp	r3, r7
 4550 015e 00D9     		bls	.L357
2192:rtos/uC-FS/Source/fs_file.c ****     }
 4551              		.loc 1 2192 9 is_stmt 1 view .LVU1615
2192:rtos/uC-FS/Source/fs_file.c ****     }
 4552              		.loc 1 2192 21 is_stmt 0 view .LVU1616
 4553 0160 E761     		str	r7, [r4, #28]
 4554              	.L357:
2195:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF =  DEF_NO;
 4555              		.loc 1 2195 5 is_stmt 1 view .LVU1617
2195:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagEOF =  DEF_NO;
 4556              		.loc 1 2195 21 is_stmt 0 view .LVU1618
 4557 0162 A761     		str	r7, [r4, #24]
2196:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagErr = (*p_err != FS_ERR_NONE) ? DEF_YES : DEF_NO;
 4558              		.loc 1 2196 5 is_stmt 1 view .LVU1619
2196:rtos/uC-FS/Source/fs_file.c ****     p_file->FlagErr = (*p_err != FS_ERR_NONE) ? DEF_YES : DEF_NO;
 4559              		.loc 1 2196 21 is_stmt 0 view .LVU1620
 4560 0164 0023     		movs	r3, #0
 4561 0166 6375     		strb	r3, [r4, #21]
2197:rtos/uC-FS/Source/fs_file.c **** 
 4562              		.loc 1 2197 5 is_stmt 1 view .LVU1621
2197:rtos/uC-FS/Source/fs_file.c **** 
ARM GAS  /tmp/cccHCpmH.s 			page 171


 4563              		.loc 1 2197 24 is_stmt 0 view .LVU1622
 4564 0168 2B88     		ldrh	r3, [r5]
2197:rtos/uC-FS/Source/fs_file.c **** 
 4565              		.loc 1 2197 21 view .LVU1623
 4566 016a 6BB1     		cbz	r3, .L361
2197:rtos/uC-FS/Source/fs_file.c **** 
 4567              		.loc 1 2197 21 view .LVU1624
 4568 016c 0123     		movs	r3, #1
 4569              	.L358:
2197:rtos/uC-FS/Source/fs_file.c **** 
 4570              		.loc 1 2197 21 discriminator 4 view .LVU1625
 4571 016e 2375     		strb	r3, [r4, #20]
2202:rtos/uC-FS/Source/fs_file.c **** }
 4572              		.loc 1 2202 5 is_stmt 1 discriminator 4 view .LVU1626
 4573 0170 2046     		mov	r0, r4
 4574 0172 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4575              	.LVL447:
 4576 0176 8DE7     		b	.L337
 4577              	.L373:
2185:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 4578              		.loc 1 2185 9 view .LVU1627
2185:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 4579              		.loc 1 2185 25 is_stmt 0 view .LVU1628
 4580 0178 0023     		movs	r3, #0
 4581 017a 6375     		strb	r3, [r4, #21]
2186:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4582              		.loc 1 2186 9 is_stmt 1 view .LVU1629
2186:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4583              		.loc 1 2186 25 is_stmt 0 view .LVU1630
 4584 017c 0123     		movs	r3, #1
 4585 017e 2375     		strb	r3, [r4, #20]
2187:rtos/uC-FS/Source/fs_file.c ****         return;
 4586              		.loc 1 2187 9 is_stmt 1 view .LVU1631
 4587 0180 2046     		mov	r0, r4
 4588 0182 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4589              	.LVL448:
2188:rtos/uC-FS/Source/fs_file.c ****     }
 4590              		.loc 1 2188 9 view .LVU1632
 4591 0186 85E7     		b	.L337
 4592              	.L361:
2197:rtos/uC-FS/Source/fs_file.c **** 
 4593              		.loc 1 2197 21 is_stmt 0 view .LVU1633
 4594 0188 0023     		movs	r3, #0
 4595 018a F0E7     		b	.L358
 4596              		.cfi_endproc
 4597              	.LFE12:
 4599              		.section	.text.FSFile_Wr,"ax",%progbits
 4600              		.align	1
 4601              		.global	FSFile_Wr
 4602              		.syntax unified
 4603              		.thumb
 4604              		.thumb_func
 4605              		.fpu fpv4-sp-d16
 4607              	FSFile_Wr:
 4608              	.LVL449:
 4609              	.LFB13:
2274:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos;
ARM GAS  /tmp/cccHCpmH.s 			page 172


 4610              		.loc 1 2274 1 is_stmt 1 view -0
 4611              		.cfi_startproc
 4612              		@ args = 0, pretend = 0, frame = 0
 4613              		@ frame_needed = 0, uses_anonymous_args = 0
2274:rtos/uC-FS/Source/fs_file.c ****     FS_FILE_SIZE  pos;
 4614              		.loc 1 2274 1 is_stmt 0 view .LVU1635
 4615 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4616              	.LCFI46:
 4617              		.cfi_def_cfa_offset 32
 4618              		.cfi_offset 3, -32
 4619              		.cfi_offset 4, -28
 4620              		.cfi_offset 5, -24
 4621              		.cfi_offset 6, -20
 4622              		.cfi_offset 7, -16
 4623              		.cfi_offset 8, -12
 4624              		.cfi_offset 9, -8
 4625              		.cfi_offset 14, -4
 4626 0004 0446     		mov	r4, r0
 4627 0006 0E46     		mov	r6, r1
 4628 0008 1746     		mov	r7, r2
2275:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T    size_wr;
 4629              		.loc 1 2275 5 is_stmt 1 view .LVU1636
2276:rtos/uC-FS/Source/fs_file.c **** 
 4630              		.loc 1 2276 5 view .LVU1637
2280:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
 4631              		.loc 1 2280 5 view .LVU1638
2280:rtos/uC-FS/Source/fs_file.c ****         CPU_SW_EXCEPTION(0u);
 4632              		.loc 1 2280 8 is_stmt 0 view .LVU1639
 4633 000a 9846     		mov	r8, r3
 4634 000c 002B     		cmp	r3, #0
 4635 000e 40D0     		beq	.L397
 4636              	.LVL450:
 4637              	.L375:
2281:rtos/uC-FS/Source/fs_file.c ****     }
 4638              		.loc 1 2281 9 is_stmt 1 discriminator 1 view .LVU1640
2283:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 4639              		.loc 1 2283 5 discriminator 1 view .LVU1641
2283:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 4640              		.loc 1 2283 8 is_stmt 0 discriminator 1 view .LVU1642
 4641 0010 002C     		cmp	r4, #0
 4642 0012 41D0     		beq	.L398
2287:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 4643              		.loc 1 2287 5 is_stmt 1 view .LVU1643
2287:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NULL_PTR;
 4644              		.loc 1 2287 8 is_stmt 0 view .LVU1644
 4645 0014 002E     		cmp	r6, #0
 4646 0016 44D0     		beq	.L399
2294:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 4647              		.loc 1 2294 5 is_stmt 1 view .LVU1645
2294:rtos/uC-FS/Source/fs_file.c ****     if (*p_err != FS_ERR_NONE) {
 4648              		.loc 1 2294 11 is_stmt 0 view .LVU1646
 4649 0018 4146     		mov	r1, r8
 4650 001a 2046     		mov	r0, r4
 4651 001c FFF7FEFF 		bl	FSFile_AcquireLockChk
 4652              	.LVL451:
2295:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4653              		.loc 1 2295 5 is_stmt 1 view .LVU1647
ARM GAS  /tmp/cccHCpmH.s 			page 173


2295:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4654              		.loc 1 2295 9 is_stmt 0 view .LVU1648
 4655 0020 B8F80030 		ldrh	r3, [r8]
2295:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4656              		.loc 1 2295 8 view .LVU1649
 4657 0024 002B     		cmp	r3, #0
 4658 0026 40F0DC80 		bne	.L395
2300:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4659              		.loc 1 2300 5 is_stmt 1 view .LVU1650
2300:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4660              		.loc 1 2300 9 is_stmt 0 view .LVU1651
 4661 002a 2569     		ldr	r5, [r4, #16]
2300:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4662              		.loc 1 2300 8 view .LVU1652
 4663 002c 15F00205 		ands	r5, r5, #2
 4664 0030 3ED0     		beq	.L400
2306:rtos/uC-FS/Source/fs_file.c ****         if (p_file->FlagEOF == DEF_NO) {                        /* ... or EOF exceeded            .
 4665              		.loc 1 2306 5 is_stmt 1 view .LVU1653
2306:rtos/uC-FS/Source/fs_file.c ****         if (p_file->FlagEOF == DEF_NO) {                        /* ... or EOF exceeded            .
 4666              		.loc 1 2306 15 is_stmt 0 view .LVU1654
 4667 0032 E38A     		ldrh	r3, [r4, #22]
2306:rtos/uC-FS/Source/fs_file.c ****         if (p_file->FlagEOF == DEF_NO) {                        /* ... or EOF exceeded            .
 4668              		.loc 1 2306 8 view .LVU1655
 4669 0034 012B     		cmp	r3, #1
 4670 0036 43D0     		beq	.L401
 4671              	.L380:
2316:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4672              		.loc 1 2316 5 is_stmt 1 view .LVU1656
2316:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4673              		.loc 1 2316 15 is_stmt 0 view .LVU1657
 4674 0038 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
2316:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4675              		.loc 1 2316 8 view .LVU1658
 4676 003a 012B     		cmp	r3, #1
 4677 003c 50D0     		beq	.L402
2322:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4678              		.loc 1 2322 5 is_stmt 1 view .LVU1659
2322:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4679              		.loc 1 2322 8 is_stmt 0 view .LVU1660
 4680 003e 002F     		cmp	r7, #0
 4681 0040 57D0     		beq	.L403
2328:rtos/uC-FS/Source/fs_file.c **** 
 4682              		.loc 1 2328 5 is_stmt 1 view .LVU1661
2328:rtos/uC-FS/Source/fs_file.c **** 
 4683              		.loc 1 2328 21 is_stmt 0 view .LVU1662
 4684 0042 0023     		movs	r3, #0
 4685 0044 6375     		strb	r3, [r4, #21]
2334:rtos/uC-FS/Source/fs_file.c ****         FSFile_BufEmpty(p_file, p_err);
 4686              		.loc 1 2334 5 is_stmt 1 view .LVU1663
2334:rtos/uC-FS/Source/fs_file.c ****         FSFile_BufEmpty(p_file, p_err);
 4687              		.loc 1 2334 15 is_stmt 0 view .LVU1664
 4688 0046 238E     		ldrh	r3, [r4, #48]
2334:rtos/uC-FS/Source/fs_file.c ****         FSFile_BufEmpty(p_file, p_err);
 4689              		.loc 1 2334 8 view .LVU1665
 4690 0048 042B     		cmp	r3, #4
 4691 004a 5AD0     		beq	.L404
 4692              	.L383:
ARM GAS  /tmp/cccHCpmH.s 			page 174


2346:rtos/uC-FS/Source/fs_file.c ****         if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
 4693              		.loc 1 2346 5 is_stmt 1 view .LVU1666
2346:rtos/uC-FS/Source/fs_file.c ****         if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
 4694              		.loc 1 2346 9 is_stmt 0 view .LVU1667
 4695 004c E36A     		ldr	r3, [r4, #44]
 4696 004e C3F34009 		ubfx	r9, r3, #1, #1
2346:rtos/uC-FS/Source/fs_file.c ****         if (p_file->BufStatus == FS_FILE_BUF_STATUS_EMPTY) {
 4697              		.loc 1 2346 8 view .LVU1668
 4698 0052 13F0020F 		tst	r3, #2
 4699 0056 7AD0     		beq	.L384
2347:rtos/uC-FS/Source/fs_file.c ****             if (DEF_BIT_IS_SET(p_file->AccessMode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
 4700              		.loc 1 2347 9 is_stmt 1 view .LVU1669
2347:rtos/uC-FS/Source/fs_file.c ****             if (DEF_BIT_IS_SET(p_file->AccessMode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
 4701              		.loc 1 2347 19 is_stmt 0 view .LVU1670
 4702 0058 238E     		ldrh	r3, [r4, #48]
2347:rtos/uC-FS/Source/fs_file.c ****             if (DEF_BIT_IS_SET(p_file->AccessMode, FS_FILE_ACCESS_MODE_APPEND) == DEF_YES) {
 4703              		.loc 1 2347 12 view .LVU1671
 4704 005a 032B     		cmp	r3, #3
 4705 005c 07D1     		bne	.L385
2348:rtos/uC-FS/Source/fs_file.c ****                 if (p_file->Pos != p_file->Size) {                  /* If pos NOT at EOF ...       
 4706              		.loc 1 2348 13 is_stmt 1 view .LVU1672
2348:rtos/uC-FS/Source/fs_file.c ****                 if (p_file->Pos != p_file->Size) {                  /* If pos NOT at EOF ...       
 4707              		.loc 1 2348 17 is_stmt 0 view .LVU1673
 4708 005e 2369     		ldr	r3, [r4, #16]
2348:rtos/uC-FS/Source/fs_file.c ****                 if (p_file->Pos != p_file->Size) {                  /* If pos NOT at EOF ...       
 4709              		.loc 1 2348 16 view .LVU1674
 4710 0060 13F0100F 		tst	r3, #16
 4711 0064 03D0     		beq	.L385
2349:rtos/uC-FS/Source/fs_file.c ****                     FSSys_FilePosSet(p_file, p_file->Size, p_err);  /* ... set pos to EOF (see Note
 4712              		.loc 1 2349 17 is_stmt 1 view .LVU1675
2349:rtos/uC-FS/Source/fs_file.c ****                     FSSys_FilePosSet(p_file, p_file->Size, p_err);  /* ... set pos to EOF (see Note
 4713              		.loc 1 2349 27 is_stmt 0 view .LVU1676
 4714 0066 E369     		ldr	r3, [r4, #28]
2349:rtos/uC-FS/Source/fs_file.c ****                     FSSys_FilePosSet(p_file, p_file->Size, p_err);  /* ... set pos to EOF (see Note
 4715              		.loc 1 2349 42 view .LVU1677
 4716 0068 A169     		ldr	r1, [r4, #24]
2349:rtos/uC-FS/Source/fs_file.c ****                     FSSys_FilePosSet(p_file, p_file->Size, p_err);  /* ... set pos to EOF (see Note
 4717              		.loc 1 2349 20 view .LVU1678
 4718 006a 8B42     		cmp	r3, r1
 4719 006c 58D1     		bne	.L405
 4720              	.L385:
2363:rtos/uC-FS/Source/fs_file.c ****                                p_src,
 4721              		.loc 1 2363 9 is_stmt 1 view .LVU1679
2363:rtos/uC-FS/Source/fs_file.c ****                                p_src,
 4722              		.loc 1 2363 19 is_stmt 0 view .LVU1680
 4723 006e 4346     		mov	r3, r8
 4724 0070 3A46     		mov	r2, r7
 4725 0072 3146     		mov	r1, r6
 4726 0074 2046     		mov	r0, r4
 4727 0076 FFF7FEFF 		bl	FSFile_BufWr
 4728              	.LVL452:
 4729 007a 0546     		mov	r5, r0
 4730              	.LVL453:
2368:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_NO;
 4731              		.loc 1 2368 9 is_stmt 1 view .LVU1681
2368:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_NO;
 4732              		.loc 1 2368 13 is_stmt 0 view .LVU1682
ARM GAS  /tmp/cccHCpmH.s 			page 175


 4733 007c B8F80030 		ldrh	r3, [r8]
2368:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_NO;
 4734              		.loc 1 2368 12 view .LVU1683
 4735 0080 002B     		cmp	r3, #0
 4736 0082 5ED1     		bne	.L406
2374:rtos/uC-FS/Source/fs_file.c ****             p_file->IO_State = FS_FILE_IO_STATE_WR;
 4737              		.loc 1 2374 9 is_stmt 1 view .LVU1684
2374:rtos/uC-FS/Source/fs_file.c ****             p_file->IO_State = FS_FILE_IO_STATE_WR;
 4738              		.loc 1 2374 12 is_stmt 0 view .LVU1685
 4739 0084 08B1     		cbz	r0, .L388
2375:rtos/uC-FS/Source/fs_file.c ****         }
 4740              		.loc 1 2375 13 is_stmt 1 view .LVU1686
2375:rtos/uC-FS/Source/fs_file.c ****         }
 4741              		.loc 1 2375 30 is_stmt 0 view .LVU1687
 4742 0086 0223     		movs	r3, #2
 4743 0088 E382     		strh	r3, [r4, #22]	@ movhi
 4744              	.L388:
2378:rtos/uC-FS/Source/fs_file.c ****         return (size_wr);
 4745              		.loc 1 2378 9 is_stmt 1 view .LVU1688
 4746 008a 2046     		mov	r0, r4
 4747              	.LVL454:
2378:rtos/uC-FS/Source/fs_file.c ****         return (size_wr);
 4748              		.loc 1 2378 9 is_stmt 0 view .LVU1689
 4749 008c FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4750              	.LVL455:
2379:rtos/uC-FS/Source/fs_file.c ****     }
 4751              		.loc 1 2379 9 is_stmt 1 view .LVU1690
2379:rtos/uC-FS/Source/fs_file.c ****     }
 4752              		.loc 1 2379 16 is_stmt 0 view .LVU1691
 4753 0090 0BE0     		b	.L374
 4754              	.LVL456:
 4755              	.L397:
2281:rtos/uC-FS/Source/fs_file.c ****     }
 4756              		.loc 1 2281 9 is_stmt 1 view .LVU1692
2281:rtos/uC-FS/Source/fs_file.c ****     }
 4757              		.loc 1 2281 9 view .LVU1693
 4758 0092 FFF7FEFF 		bl	CPU_SW_Exception
 4759              	.LVL457:
2281:rtos/uC-FS/Source/fs_file.c ****     }
 4760              		.loc 1 2281 9 is_stmt 0 view .LVU1694
 4761 0096 BBE7     		b	.L375
 4762              	.L398:
2284:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4763              		.loc 1 2284 8 is_stmt 1 view .LVU1695
2284:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4764              		.loc 1 2284 15 is_stmt 0 view .LVU1696
 4765 0098 1323     		movs	r3, #19
 4766 009a A8F80030 		strh	r3, [r8]	@ movhi
2285:rtos/uC-FS/Source/fs_file.c ****     }
 4767              		.loc 1 2285 9 is_stmt 1 view .LVU1697
2285:rtos/uC-FS/Source/fs_file.c ****     }
 4768              		.loc 1 2285 16 is_stmt 0 view .LVU1698
 4769 009e 0025     		movs	r5, #0
 4770 00a0 03E0     		b	.L374
 4771              	.L399:
2288:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4772              		.loc 1 2288 8 is_stmt 1 view .LVU1699
ARM GAS  /tmp/cccHCpmH.s 			page 176


2288:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4773              		.loc 1 2288 15 is_stmt 0 view .LVU1700
 4774 00a2 1323     		movs	r3, #19
 4775 00a4 A8F80030 		strh	r3, [r8]	@ movhi
2289:rtos/uC-FS/Source/fs_file.c ****     }
 4776              		.loc 1 2289 9 is_stmt 1 view .LVU1701
2289:rtos/uC-FS/Source/fs_file.c ****     }
 4777              		.loc 1 2289 16 is_stmt 0 view .LVU1702
 4778 00a8 0025     		movs	r5, #0
 4779              	.L374:
2436:rtos/uC-FS/Source/fs_file.c **** #endif
 4780              		.loc 1 2436 1 view .LVU1703
 4781 00aa 2846     		mov	r0, r5
 4782 00ac BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4783              	.LVL458:
 4784              	.L400:
2301:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_INVALID_OP;
 4785              		.loc 1 2301 9 is_stmt 1 view .LVU1704
 4786 00b0 2046     		mov	r0, r4
 4787 00b2 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4788              	.LVL459:
2302:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4789              		.loc 1 2302 8 view .LVU1705
2302:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4790              		.loc 1 2302 15 is_stmt 0 view .LVU1706
 4791 00b6 40F22D33 		movw	r3, #813
 4792 00ba A8F80030 		strh	r3, [r8]	@ movhi
2303:rtos/uC-FS/Source/fs_file.c ****     }
 4793              		.loc 1 2303 9 is_stmt 1 view .LVU1707
2303:rtos/uC-FS/Source/fs_file.c ****     }
 4794              		.loc 1 2303 16 is_stmt 0 view .LVU1708
 4795 00be F4E7     		b	.L374
 4796              	.L401:
2307:rtos/uC-FS/Source/fs_file.c ****             if (p_file->Pos != p_file->Size) {                  /* ... or EOF met.                 
 4797              		.loc 1 2307 9 is_stmt 1 view .LVU1709
2307:rtos/uC-FS/Source/fs_file.c ****             if (p_file->Pos != p_file->Size) {                  /* ... or EOF met.                 
 4798              		.loc 1 2307 19 is_stmt 0 view .LVU1710
 4799 00c0 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
2307:rtos/uC-FS/Source/fs_file.c ****             if (p_file->Pos != p_file->Size) {                  /* ... or EOF met.                 
 4800              		.loc 1 2307 12 view .LVU1711
 4801 00c2 002B     		cmp	r3, #0
 4802 00c4 B8D1     		bne	.L380
2308:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 4803              		.loc 1 2308 13 is_stmt 1 view .LVU1712
2308:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 4804              		.loc 1 2308 23 is_stmt 0 view .LVU1713
 4805 00c6 E269     		ldr	r2, [r4, #28]
2308:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 4806              		.loc 1 2308 38 view .LVU1714
 4807 00c8 A369     		ldr	r3, [r4, #24]
2308:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 4808              		.loc 1 2308 16 view .LVU1715
 4809 00ca 9A42     		cmp	r2, r3
 4810 00cc B4D0     		beq	.L380
2309:rtos/uC-FS/Source/fs_file.c ****                *p_err = FS_ERR_FILE_INVALID_OP_SEQ;
 4811              		.loc 1 2309 17 is_stmt 1 view .LVU1716
 4812 00ce 2046     		mov	r0, r4
ARM GAS  /tmp/cccHCpmH.s 			page 177


 4813 00d0 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4814              	.LVL460:
2310:rtos/uC-FS/Source/fs_file.c ****                 return (0u);
 4815              		.loc 1 2310 16 view .LVU1717
2310:rtos/uC-FS/Source/fs_file.c ****                 return (0u);
 4816              		.loc 1 2310 23 is_stmt 0 view .LVU1718
 4817 00d4 40F22E33 		movw	r3, #814
 4818 00d8 A8F80030 		strh	r3, [r8]	@ movhi
2311:rtos/uC-FS/Source/fs_file.c ****             }
 4819              		.loc 1 2311 17 is_stmt 1 view .LVU1719
2311:rtos/uC-FS/Source/fs_file.c ****             }
 4820              		.loc 1 2311 24 is_stmt 0 view .LVU1720
 4821 00dc 0025     		movs	r5, #0
 4822 00de E4E7     		b	.L374
 4823              	.L402:
2317:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_ERR;
 4824              		.loc 1 2317 9 is_stmt 1 view .LVU1721
 4825 00e0 2046     		mov	r0, r4
 4826 00e2 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4827              	.LVL461:
2318:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4828              		.loc 1 2318 8 view .LVU1722
2318:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4829              		.loc 1 2318 15 is_stmt 0 view .LVU1723
 4830 00e6 40F22233 		movw	r3, #802
 4831 00ea A8F80030 		strh	r3, [r8]	@ movhi
2319:rtos/uC-FS/Source/fs_file.c ****     }
 4832              		.loc 1 2319 9 is_stmt 1 view .LVU1724
2319:rtos/uC-FS/Source/fs_file.c ****     }
 4833              		.loc 1 2319 16 is_stmt 0 view .LVU1725
 4834 00ee 0025     		movs	r5, #0
 4835 00f0 DBE7     		b	.L374
 4836              	.L403:
2323:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_NONE;
 4837              		.loc 1 2323 9 is_stmt 1 view .LVU1726
 4838 00f2 2046     		mov	r0, r4
 4839 00f4 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4840              	.LVL462:
2324:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4841              		.loc 1 2324 8 view .LVU1727
2324:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 4842              		.loc 1 2324 15 is_stmt 0 view .LVU1728
 4843 00f8 0023     		movs	r3, #0
 4844 00fa A8F80030 		strh	r3, [r8]	@ movhi
2325:rtos/uC-FS/Source/fs_file.c ****     }
 4845              		.loc 1 2325 9 is_stmt 1 view .LVU1729
2325:rtos/uC-FS/Source/fs_file.c ****     }
 4846              		.loc 1 2325 16 is_stmt 0 view .LVU1730
 4847 00fe 3D46     		mov	r5, r7
 4848 0100 D3E7     		b	.L374
 4849              	.L404:
2335:rtos/uC-FS/Source/fs_file.c **** 
 4850              		.loc 1 2335 9 is_stmt 1 view .LVU1731
 4851 0102 4146     		mov	r1, r8
 4852 0104 2046     		mov	r0, r4
 4853 0106 FFF7FEFF 		bl	FSFile_BufEmpty
 4854              	.LVL463:
ARM GAS  /tmp/cccHCpmH.s 			page 178


2337:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 4855              		.loc 1 2337 9 view .LVU1732
2337:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 4856              		.loc 1 2337 13 is_stmt 0 view .LVU1733
 4857 010a B8F80030 		ldrh	r3, [r8]
2337:rtos/uC-FS/Source/fs_file.c ****             p_file->FlagErr = DEF_YES;
 4858              		.loc 1 2337 12 view .LVU1734
 4859 010e 002B     		cmp	r3, #0
 4860 0110 9CD0     		beq	.L383
2338:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4861              		.loc 1 2338 13 is_stmt 1 view .LVU1735
2338:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4862              		.loc 1 2338 29 is_stmt 0 view .LVU1736
 4863 0112 0123     		movs	r3, #1
 4864 0114 2375     		strb	r3, [r4, #20]
2339:rtos/uC-FS/Source/fs_file.c ****             return (0u);
 4865              		.loc 1 2339 13 is_stmt 1 view .LVU1737
 4866 0116 2046     		mov	r0, r4
 4867 0118 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4868              	.LVL464:
2340:rtos/uC-FS/Source/fs_file.c ****         }
 4869              		.loc 1 2340 13 view .LVU1738
2340:rtos/uC-FS/Source/fs_file.c ****         }
 4870              		.loc 1 2340 20 is_stmt 0 view .LVU1739
 4871 011c 0025     		movs	r5, #0
 4872 011e C4E7     		b	.L374
 4873              	.L405:
2350:rtos/uC-FS/Source/fs_file.c **** 
 4874              		.loc 1 2350 21 is_stmt 1 view .LVU1740
 4875 0120 4246     		mov	r2, r8
 4876 0122 2046     		mov	r0, r4
 4877 0124 FFF7FEFF 		bl	FSSys_FilePosSet
 4878              	.LVL465:
2352:rtos/uC-FS/Source/fs_file.c ****                         p_file->FlagErr = DEF_YES;
 4879              		.loc 1 2352 21 view .LVU1741
2352:rtos/uC-FS/Source/fs_file.c ****                         p_file->FlagErr = DEF_YES;
 4880              		.loc 1 2352 25 is_stmt 0 view .LVU1742
 4881 0128 B8F80030 		ldrh	r3, [r8]
2352:rtos/uC-FS/Source/fs_file.c ****                         p_file->FlagErr = DEF_YES;
 4882              		.loc 1 2352 24 view .LVU1743
 4883 012c 13B9     		cbnz	r3, .L407
2358:rtos/uC-FS/Source/fs_file.c ****                 }
 4884              		.loc 1 2358 21 is_stmt 1 view .LVU1744
2358:rtos/uC-FS/Source/fs_file.c ****                 }
 4885              		.loc 1 2358 41 is_stmt 0 view .LVU1745
 4886 012e A369     		ldr	r3, [r4, #24]
2358:rtos/uC-FS/Source/fs_file.c ****                 }
 4887              		.loc 1 2358 33 view .LVU1746
 4888 0130 E361     		str	r3, [r4, #28]
 4889 0132 9CE7     		b	.L385
 4890              	.L407:
2353:rtos/uC-FS/Source/fs_file.c ****                         FSFile_ReleaseUnlock(p_file);
 4891              		.loc 1 2353 25 is_stmt 1 view .LVU1747
2353:rtos/uC-FS/Source/fs_file.c ****                         FSFile_ReleaseUnlock(p_file);
 4892              		.loc 1 2353 41 is_stmt 0 view .LVU1748
 4893 0134 0123     		movs	r3, #1
 4894 0136 2375     		strb	r3, [r4, #20]
ARM GAS  /tmp/cccHCpmH.s 			page 179


2354:rtos/uC-FS/Source/fs_file.c ****                         return (0u);
 4895              		.loc 1 2354 25 is_stmt 1 view .LVU1749
 4896 0138 2046     		mov	r0, r4
 4897 013a FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4898              	.LVL466:
2355:rtos/uC-FS/Source/fs_file.c ****                     }
 4899              		.loc 1 2355 25 view .LVU1750
2355:rtos/uC-FS/Source/fs_file.c ****                     }
 4900              		.loc 1 2355 32 is_stmt 0 view .LVU1751
 4901 013e 0025     		movs	r5, #0
 4902 0140 B3E7     		b	.L374
 4903              	.LVL467:
 4904              	.L406:
2369:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4905              		.loc 1 2369 13 is_stmt 1 view .LVU1752
2369:rtos/uC-FS/Source/fs_file.c ****             FSFile_ReleaseUnlock(p_file);
 4906              		.loc 1 2369 29 is_stmt 0 view .LVU1753
 4907 0142 0025     		movs	r5, #0
 4908 0144 2575     		strb	r5, [r4, #20]
2370:rtos/uC-FS/Source/fs_file.c ****             return (0u);
 4909              		.loc 1 2370 13 is_stmt 1 view .LVU1754
 4910 0146 2046     		mov	r0, r4
 4911              	.LVL468:
2370:rtos/uC-FS/Source/fs_file.c ****             return (0u);
 4912              		.loc 1 2370 13 is_stmt 0 view .LVU1755
 4913 0148 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4914              	.LVL469:
2371:rtos/uC-FS/Source/fs_file.c ****         }
 4915              		.loc 1 2371 13 is_stmt 1 view .LVU1756
2371:rtos/uC-FS/Source/fs_file.c ****         }
 4916              		.loc 1 2371 20 is_stmt 0 view .LVU1757
 4917 014c ADE7     		b	.L374
 4918              	.L384:
2384:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 4919              		.loc 1 2384 5 is_stmt 1 view .LVU1758
2384:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 4920              		.loc 1 2384 15 is_stmt 0 view .LVU1759
 4921 014e 238E     		ldrh	r3, [r4, #48]
2384:rtos/uC-FS/Source/fs_file.c ****         p_file->BufStatus =  FS_FILE_BUF_STATUS_NEVER;
 4922              		.loc 1 2384 8 view .LVU1760
 4923 0150 012B     		cmp	r3, #1
 4924 0152 22D0     		beq	.L408
 4925              	.L389:
2392:rtos/uC-FS/Source/fs_file.c ****         if (p_file->Pos != p_file->Size) {                      /* If pos NOT at EOF ...           
 4926              		.loc 1 2392 5 is_stmt 1 view .LVU1761
2392:rtos/uC-FS/Source/fs_file.c ****         if (p_file->Pos != p_file->Size) {                      /* If pos NOT at EOF ...           
 4927              		.loc 1 2392 9 is_stmt 0 view .LVU1762
 4928 0154 2369     		ldr	r3, [r4, #16]
2392:rtos/uC-FS/Source/fs_file.c ****         if (p_file->Pos != p_file->Size) {                      /* If pos NOT at EOF ...           
 4929              		.loc 1 2392 8 view .LVU1763
 4930 0156 13F0100F 		tst	r3, #16
 4931 015a 03D0     		beq	.L390
2393:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Size, p_err);      /* ... set pos to EOF.             
 4932              		.loc 1 2393 9 is_stmt 1 view .LVU1764
2393:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Size, p_err);      /* ... set pos to EOF.             
 4933              		.loc 1 2393 19 is_stmt 0 view .LVU1765
 4934 015c E369     		ldr	r3, [r4, #28]
ARM GAS  /tmp/cccHCpmH.s 			page 180


2393:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Size, p_err);      /* ... set pos to EOF.             
 4935              		.loc 1 2393 34 view .LVU1766
 4936 015e A169     		ldr	r1, [r4, #24]
2393:rtos/uC-FS/Source/fs_file.c ****             FSSys_FilePosSet(p_file, p_file->Size, p_err);      /* ... set pos to EOF.             
 4937              		.loc 1 2393 12 view .LVU1767
 4938 0160 8B42     		cmp	r3, r1
 4939 0162 1DD1     		bne	.L409
 4940              	.L390:
2409:rtos/uC-FS/Source/fs_file.c ****     if (FS_FILE_SIZE_MAX - (FS_FILE_SIZE)size < pos) {          /* Rtn err & 0 bytes wr'n if wr wil
 4941              		.loc 1 2409 5 is_stmt 1 view .LVU1768
2409:rtos/uC-FS/Source/fs_file.c ****     if (FS_FILE_SIZE_MAX - (FS_FILE_SIZE)size < pos) {          /* Rtn err & 0 bytes wr'n if wr wil
 4942              		.loc 1 2409 9 is_stmt 0 view .LVU1769
 4943 0164 E369     		ldr	r3, [r4, #28]
 4944              	.LVL470:
2410:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4945              		.loc 1 2410 5 is_stmt 1 view .LVU1770
2410:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4946              		.loc 1 2410 26 is_stmt 0 view .LVU1771
 4947 0166 FA43     		mvns	r2, r7
2410:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 4948              		.loc 1 2410 8 view .LVU1772
 4949 0168 9A42     		cmp	r2, r3
 4950 016a 2AD3     		bcc	.L410
2416:rtos/uC-FS/Source/fs_file.c ****                            p_src,
 4951              		.loc 1 2416 5 is_stmt 1 view .LVU1773
2416:rtos/uC-FS/Source/fs_file.c ****                            p_src,
 4952              		.loc 1 2416 15 is_stmt 0 view .LVU1774
 4953 016c 4346     		mov	r3, r8
 4954              	.LVL471:
2416:rtos/uC-FS/Source/fs_file.c ****                            p_src,
 4955              		.loc 1 2416 15 view .LVU1775
 4956 016e 3A46     		mov	r2, r7
 4957 0170 3146     		mov	r1, r6
 4958 0172 2046     		mov	r0, r4
 4959 0174 FFF7FEFF 		bl	FSSys_FileWr
 4960              	.LVL472:
2416:rtos/uC-FS/Source/fs_file.c ****                            p_src,
 4961              		.loc 1 2416 15 view .LVU1776
 4962 0178 0546     		mov	r5, r0
 4963              	.LVL473:
2421:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 4964              		.loc 1 2421 5 is_stmt 1 view .LVU1777
2421:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 4965              		.loc 1 2421 9 is_stmt 0 view .LVU1778
 4966 017a B8F80030 		ldrh	r3, [r8]
2421:rtos/uC-FS/Source/fs_file.c ****         p_file->FlagErr = DEF_YES;
 4967              		.loc 1 2421 8 view .LVU1779
 4968 017e 4BBB     		cbnz	r3, .L411
2427:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos += size_wr;
 4969              		.loc 1 2427 5 is_stmt 1 view .LVU1780
2427:rtos/uC-FS/Source/fs_file.c ****     p_file->Pos += size_wr;
 4970              		.loc 1 2427 22 is_stmt 0 view .LVU1781
 4971 0180 0223     		movs	r3, #2
 4972 0182 E382     		strh	r3, [r4, #22]	@ movhi
2428:rtos/uC-FS/Source/fs_file.c ****     if (p_file->Size < p_file->Pos) {
 4973              		.loc 1 2428 5 is_stmt 1 view .LVU1782
2428:rtos/uC-FS/Source/fs_file.c ****     if (p_file->Size < p_file->Pos) {
ARM GAS  /tmp/cccHCpmH.s 			page 181


 4974              		.loc 1 2428 17 is_stmt 0 view .LVU1783
 4975 0184 E369     		ldr	r3, [r4, #28]
 4976 0186 0344     		add	r3, r3, r0
 4977 0188 E361     		str	r3, [r4, #28]
2429:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
 4978              		.loc 1 2429 5 is_stmt 1 view .LVU1784
2429:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
 4979              		.loc 1 2429 15 is_stmt 0 view .LVU1785
 4980 018a A269     		ldr	r2, [r4, #24]
2429:rtos/uC-FS/Source/fs_file.c ****         p_file->Size = p_file->Pos;
 4981              		.loc 1 2429 8 view .LVU1786
 4982 018c 9342     		cmp	r3, r2
 4983 018e 00D9     		bls	.L394
2430:rtos/uC-FS/Source/fs_file.c ****     }
 4984              		.loc 1 2430 9 is_stmt 1 view .LVU1787
2430:rtos/uC-FS/Source/fs_file.c ****     }
 4985              		.loc 1 2430 22 is_stmt 0 view .LVU1788
 4986 0190 A361     		str	r3, [r4, #24]
 4987              	.L394:
2434:rtos/uC-FS/Source/fs_file.c ****     return (size_wr);
 4988              		.loc 1 2434 5 is_stmt 1 view .LVU1789
 4989 0192 2046     		mov	r0, r4
 4990              	.LVL474:
2434:rtos/uC-FS/Source/fs_file.c ****     return (size_wr);
 4991              		.loc 1 2434 5 is_stmt 0 view .LVU1790
 4992 0194 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 4993              	.LVL475:
2435:rtos/uC-FS/Source/fs_file.c **** }
 4994              		.loc 1 2435 5 is_stmt 1 view .LVU1791
2435:rtos/uC-FS/Source/fs_file.c **** }
 4995              		.loc 1 2435 12 is_stmt 0 view .LVU1792
 4996 0198 87E7     		b	.L374
 4997              	.LVL476:
 4998              	.L408:
2385:rtos/uC-FS/Source/fs_file.c ****     }
 4999              		.loc 1 2385 9 is_stmt 1 view .LVU1793
2385:rtos/uC-FS/Source/fs_file.c ****     }
 5000              		.loc 1 2385 27 is_stmt 0 view .LVU1794
 5001 019a 0223     		movs	r3, #2
 5002 019c 2386     		strh	r3, [r4, #48]	@ movhi
 5003 019e D9E7     		b	.L389
 5004              	.L409:
2394:rtos/uC-FS/Source/fs_file.c **** 
 5005              		.loc 1 2394 13 is_stmt 1 view .LVU1795
 5006 01a0 4246     		mov	r2, r8
 5007 01a2 2046     		mov	r0, r4
 5008 01a4 FFF7FEFF 		bl	FSSys_FilePosSet
 5009              	.LVL477:
2396:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
 5010              		.loc 1 2396 13 view .LVU1796
2396:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
 5011              		.loc 1 2396 17 is_stmt 0 view .LVU1797
 5012 01a8 B8F80030 		ldrh	r3, [r8]
2396:rtos/uC-FS/Source/fs_file.c ****                 p_file->FlagErr = DEF_YES;
 5013              		.loc 1 2396 16 view .LVU1798
 5014 01ac 13B9     		cbnz	r3, .L412
2402:rtos/uC-FS/Source/fs_file.c ****         }
ARM GAS  /tmp/cccHCpmH.s 			page 182


 5015              		.loc 1 2402 13 is_stmt 1 view .LVU1799
2402:rtos/uC-FS/Source/fs_file.c ****         }
 5016              		.loc 1 2402 33 is_stmt 0 view .LVU1800
 5017 01ae A369     		ldr	r3, [r4, #24]
2402:rtos/uC-FS/Source/fs_file.c ****         }
 5018              		.loc 1 2402 25 view .LVU1801
 5019 01b0 E361     		str	r3, [r4, #28]
 5020 01b2 D7E7     		b	.L390
 5021              	.L412:
2397:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 5022              		.loc 1 2397 17 is_stmt 1 view .LVU1802
2397:rtos/uC-FS/Source/fs_file.c ****                 FSFile_ReleaseUnlock(p_file);
 5023              		.loc 1 2397 33 is_stmt 0 view .LVU1803
 5024 01b4 0123     		movs	r3, #1
 5025 01b6 2375     		strb	r3, [r4, #20]
2398:rtos/uC-FS/Source/fs_file.c ****                 return (0u);
 5026              		.loc 1 2398 17 is_stmt 1 view .LVU1804
 5027 01b8 2046     		mov	r0, r4
 5028 01ba FFF7FEFF 		bl	FSFile_ReleaseUnlock
 5029              	.LVL478:
2399:rtos/uC-FS/Source/fs_file.c ****             }
 5030              		.loc 1 2399 17 view .LVU1805
2399:rtos/uC-FS/Source/fs_file.c ****             }
 5031              		.loc 1 2399 24 is_stmt 0 view .LVU1806
 5032 01be 4D46     		mov	r5, r9
 5033 01c0 73E7     		b	.L374
 5034              	.LVL479:
 5035              	.L410:
2411:rtos/uC-FS/Source/fs_file.c ****        *p_err = FS_ERR_FILE_OVF;
 5036              		.loc 1 2411 9 is_stmt 1 view .LVU1807
 5037 01c2 2046     		mov	r0, r4
 5038 01c4 FFF7FEFF 		bl	FSFile_ReleaseUnlock
 5039              	.LVL480:
2412:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 5040              		.loc 1 2412 8 view .LVU1808
2412:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 5041              		.loc 1 2412 15 is_stmt 0 view .LVU1809
 5042 01c8 4FF44D73 		mov	r3, #820
 5043 01cc A8F80030 		strh	r3, [r8]	@ movhi
2413:rtos/uC-FS/Source/fs_file.c ****     }
 5044              		.loc 1 2413 9 is_stmt 1 view .LVU1810
2413:rtos/uC-FS/Source/fs_file.c ****     }
 5045              		.loc 1 2413 16 is_stmt 0 view .LVU1811
 5046 01d0 4D46     		mov	r5, r9
 5047 01d2 6AE7     		b	.L374
 5048              	.LVL481:
 5049              	.L411:
2422:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 5050              		.loc 1 2422 9 is_stmt 1 view .LVU1812
2422:rtos/uC-FS/Source/fs_file.c ****         FSFile_ReleaseUnlock(p_file);
 5051              		.loc 1 2422 25 is_stmt 0 view .LVU1813
 5052 01d4 0123     		movs	r3, #1
 5053 01d6 2375     		strb	r3, [r4, #20]
2423:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 5054              		.loc 1 2423 9 is_stmt 1 view .LVU1814
 5055 01d8 2046     		mov	r0, r4
 5056              	.LVL482:
ARM GAS  /tmp/cccHCpmH.s 			page 183


2423:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 5057              		.loc 1 2423 9 is_stmt 0 view .LVU1815
 5058 01da FFF7FEFF 		bl	FSFile_ReleaseUnlock
 5059              	.LVL483:
2424:rtos/uC-FS/Source/fs_file.c ****     }
 5060              		.loc 1 2424 9 is_stmt 1 view .LVU1816
2424:rtos/uC-FS/Source/fs_file.c ****     }
 5061              		.loc 1 2424 16 is_stmt 0 view .LVU1817
 5062 01de 4D46     		mov	r5, r9
 5063              	.LVL484:
2424:rtos/uC-FS/Source/fs_file.c ****     }
 5064              		.loc 1 2424 16 view .LVU1818
 5065 01e0 63E7     		b	.L374
 5066              	.L395:
2296:rtos/uC-FS/Source/fs_file.c ****     }
 5067              		.loc 1 2296 16 view .LVU1819
 5068 01e2 0025     		movs	r5, #0
 5069 01e4 61E7     		b	.L374
 5070              		.cfi_endproc
 5071              	.LFE13:
 5073              		.section	.text.FSFile_GetFileCnt,"ax",%progbits
 5074              		.align	1
 5075              		.global	FSFile_GetFileCnt
 5076              		.syntax unified
 5077              		.thumb
 5078              		.thumb_func
 5079              		.fpu fpv4-sp-d16
 5081              	FSFile_GetFileCnt:
 5082              	.LFB14:
2463:rtos/uC-FS/Source/fs_file.c ****     FS_QTY  file_cnt;
 5083              		.loc 1 2463 1 is_stmt 1 view -0
 5084              		.cfi_startproc
 5085              		@ args = 0, pretend = 0, frame = 8
 5086              		@ frame_needed = 0, uses_anonymous_args = 0
 5087 0000 10B5     		push	{r4, lr}
 5088              	.LCFI47:
 5089              		.cfi_def_cfa_offset 8
 5090              		.cfi_offset 4, -8
 5091              		.cfi_offset 14, -4
 5092 0002 82B0     		sub	sp, sp, #8
 5093              	.LCFI48:
 5094              		.cfi_def_cfa_offset 16
2464:rtos/uC-FS/Source/fs_file.c ****     FS_ERR  err;
 5095              		.loc 1 2464 5 view .LVU1821
2465:rtos/uC-FS/Source/fs_file.c **** 
 5096              		.loc 1 2465 5 view .LVU1822
2469:rtos/uC-FS/Source/fs_file.c ****     if (err != FS_ERR_NONE) {
 5097              		.loc 1 2469 5 view .LVU1823
 5098 0004 0DF10600 		add	r0, sp, #6
 5099 0008 FFF7FEFF 		bl	FS_OS_Lock
 5100              	.LVL485:
2470:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 5101              		.loc 1 2470 5 view .LVU1824
2470:rtos/uC-FS/Source/fs_file.c ****         return (0u);
 5102              		.loc 1 2470 13 is_stmt 0 view .LVU1825
 5103 000c BDF80630 		ldrh	r3, [sp, #6]
2470:rtos/uC-FS/Source/fs_file.c ****         return (0u);
ARM GAS  /tmp/cccHCpmH.s 			page 184


 5104              		.loc 1 2470 8 view .LVU1826
 5105 0010 1BB1     		cbz	r3, .L417
2471:rtos/uC-FS/Source/fs_file.c ****     }
 5106              		.loc 1 2471 16 view .LVU1827
 5107 0012 0024     		movs	r4, #0
 5108              	.L414:
2485:rtos/uC-FS/Source/fs_file.c **** 
 5109              		.loc 1 2485 1 view .LVU1828
 5110 0014 2046     		mov	r0, r4
 5111 0016 02B0     		add	sp, sp, #8
 5112              	.LCFI49:
 5113              		.cfi_remember_state
 5114              		.cfi_def_cfa_offset 8
 5115              		@ sp needed
 5116 0018 10BD     		pop	{r4, pc}
 5117              	.L417:
 5118              	.LCFI50:
 5119              		.cfi_restore_state
2477:rtos/uC-FS/Source/fs_file.c **** 
 5120              		.loc 1 2477 5 is_stmt 1 view .LVU1829
2477:rtos/uC-FS/Source/fs_file.c **** 
 5121              		.loc 1 2477 14 is_stmt 0 view .LVU1830
 5122 001a 024B     		ldr	r3, .L418
 5123 001c 1C88     		ldrh	r4, [r3]
 5124              	.LVL486:
2482:rtos/uC-FS/Source/fs_file.c **** 
 5125              		.loc 1 2482 5 is_stmt 1 view .LVU1831
 5126 001e FFF7FEFF 		bl	FS_OS_Unlock
 5127              	.LVL487:
2484:rtos/uC-FS/Source/fs_file.c **** }
 5128              		.loc 1 2484 5 view .LVU1832
2484:rtos/uC-FS/Source/fs_file.c **** }
 5129              		.loc 1 2484 12 is_stmt 0 view .LVU1833
 5130 0022 F7E7     		b	.L414
 5131              	.L419:
 5132              		.align	2
 5133              	.L418:
 5134 0024 00000000 		.word	.LANCHOR2
 5135              		.cfi_endproc
 5136              	.LFE14:
 5138              		.section	.text.FSFile_GetFileCntMax,"ax",%progbits
 5139              		.align	1
 5140              		.global	FSFile_GetFileCntMax
 5141              		.syntax unified
 5142              		.thumb
 5143              		.thumb_func
 5144              		.fpu fpv4-sp-d16
 5146              	FSFile_GetFileCntMax:
 5147              	.LFB15:
2503:rtos/uC-FS/Source/fs_file.c ****     FS_QTY  file_cnt_max;
 5148              		.loc 1 2503 1 is_stmt 1 view -0
 5149              		.cfi_startproc
 5150              		@ args = 0, pretend = 0, frame = 0
 5151              		@ frame_needed = 0, uses_anonymous_args = 0
 5152              		@ link register save eliminated.
2504:rtos/uC-FS/Source/fs_file.c **** 
 5153              		.loc 1 2504 5 view .LVU1835
ARM GAS  /tmp/cccHCpmH.s 			page 185


2508:rtos/uC-FS/Source/fs_file.c **** 
 5154              		.loc 1 2508 5 view .LVU1836
 5155              	.LVL488:
2510:rtos/uC-FS/Source/fs_file.c **** }
 5156              		.loc 1 2510 5 view .LVU1837
2511:rtos/uC-FS/Source/fs_file.c **** 
 5157              		.loc 1 2511 1 is_stmt 0 view .LVU1838
 5158 0000 014B     		ldr	r3, .L421
 5159 0002 1888     		ldrh	r0, [r3]
 5160 0004 7047     		bx	lr
 5161              	.L422:
 5162 0006 00BF     		.align	2
 5163              	.L421:
 5164 0008 00000000 		.word	.LANCHOR3
 5165              		.cfi_endproc
 5166              	.LFE15:
 5168              		.section	.text.FSFile_ModuleInit,"ax",%progbits
 5169              		.align	1
 5170              		.global	FSFile_ModuleInit
 5171              		.syntax unified
 5172              		.thumb
 5173              		.thumb_func
 5174              		.fpu fpv4-sp-d16
 5176              	FSFile_ModuleInit:
 5177              	.LVL489:
 5178              	.LFB16:
2544:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  octets_reqd;
 5179              		.loc 1 2544 1 is_stmt 1 view -0
 5180              		.cfi_startproc
 5181              		@ args = 0, pretend = 0, frame = 8
 5182              		@ frame_needed = 0, uses_anonymous_args = 0
2544:rtos/uC-FS/Source/fs_file.c ****     CPU_SIZE_T  octets_reqd;
 5183              		.loc 1 2544 1 is_stmt 0 view .LVU1840
 5184 0000 70B5     		push	{r4, r5, r6, lr}
 5185              	.LCFI51:
 5186              		.cfi_def_cfa_offset 16
 5187              		.cfi_offset 4, -16
 5188              		.cfi_offset 5, -12
 5189              		.cfi_offset 6, -8
 5190              		.cfi_offset 14, -4
 5191 0002 86B0     		sub	sp, sp, #24
 5192              	.LCFI52:
 5193              		.cfi_def_cfa_offset 40
 5194 0004 0446     		mov	r4, r0
 5195 0006 0D46     		mov	r5, r1
2545:rtos/uC-FS/Source/fs_file.c ****     LIB_ERR     pool_err;
 5196              		.loc 1 2545 5 is_stmt 1 view .LVU1841
2546:rtos/uC-FS/Source/fs_file.c **** 
 5197              		.loc 1 2546 5 view .LVU1842
2556:rtos/uC-FS/Source/fs_file.c ****     FSFile_Cnt        = 0u;
 5198              		.loc 1 2556 5 view .LVU1843
2556:rtos/uC-FS/Source/fs_file.c ****     FSFile_Cnt        = 0u;
 5199              		.loc 1 2556 23 is_stmt 0 view .LVU1844
 5200 0008 0021     		movs	r1, #0
 5201              	.LVL490:
2556:rtos/uC-FS/Source/fs_file.c ****     FSFile_Cnt        = 0u;
 5202              		.loc 1 2556 23 view .LVU1845
ARM GAS  /tmp/cccHCpmH.s 			page 186


 5203 000a 1B4B     		ldr	r3, .L429
 5204 000c 1980     		strh	r1, [r3]	@ movhi
2557:rtos/uC-FS/Source/fs_file.c **** 
 5205              		.loc 1 2557 5 is_stmt 1 view .LVU1846
2557:rtos/uC-FS/Source/fs_file.c **** 
 5206              		.loc 1 2557 23 is_stmt 0 view .LVU1847
 5207 000e 1B4B     		ldr	r3, .L429+4
 5208 0010 1980     		strh	r1, [r3]	@ movhi
2569:rtos/uC-FS/Source/fs_file.c ****                     DEF_NULL,
 5209              		.loc 1 2569 5 is_stmt 1 view .LVU1848
 5210 0012 0DF11203 		add	r3, sp, #18
 5211 0016 0393     		str	r3, [sp, #12]
 5212 0018 05AB     		add	r3, sp, #20
 5213 001a 0293     		str	r3, [sp, #8]
 5214 001c 0423     		movs	r3, #4
 5215 001e 0193     		str	r3, [sp, #4]
 5216 0020 4423     		movs	r3, #68
 5217 0022 0093     		str	r3, [sp]
 5218 0024 0346     		mov	r3, r0
 5219 0026 0A46     		mov	r2, r1
 5220 0028 1548     		ldr	r0, .L429+8
 5221              	.LVL491:
2569:rtos/uC-FS/Source/fs_file.c ****                     DEF_NULL,
 5222              		.loc 1 2569 5 is_stmt 0 view .LVU1849
 5223 002a FFF7FEFF 		bl	Mem_PoolCreate
 5224              	.LVL492:
2578:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_MEM_ALLOC;
 5225              		.loc 1 2578 5 is_stmt 1 view .LVU1850
2578:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_MEM_ALLOC;
 5226              		.loc 1 2578 18 is_stmt 0 view .LVU1851
 5227 002e BDF81220 		ldrh	r2, [sp, #18]
2578:rtos/uC-FS/Source/fs_file.c ****         *p_err  = FS_ERR_MEM_ALLOC;
 5228              		.loc 1 2578 8 view .LVU1852
 5229 0032 42F21073 		movw	r3, #10000
 5230 0036 9A42     		cmp	r2, r3
 5231 0038 03D0     		beq	.L424
2579:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ModuleInit(): Could not alloc mem for files: %d octets required.\r\n
 5232              		.loc 1 2579 9 is_stmt 1 view .LVU1853
2579:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ModuleInit(): Could not alloc mem for files: %d octets required.\r\n
 5233              		.loc 1 2579 17 is_stmt 0 view .LVU1854
 5234 003a 1123     		movs	r3, #17
 5235 003c 2B80     		strh	r3, [r5]	@ movhi
2580:rtos/uC-FS/Source/fs_file.c ****         return;
 5236              		.loc 1 2580 116 is_stmt 1 view .LVU1855
2581:rtos/uC-FS/Source/fs_file.c ****     }
 5237              		.loc 1 2581 9 view .LVU1856
 5238              	.L423:
2599:rtos/uC-FS/Source/fs_file.c **** 
 5239              		.loc 1 2599 1 is_stmt 0 view .LVU1857
 5240 003e 06B0     		add	sp, sp, #24
 5241              	.LCFI53:
 5242              		.cfi_remember_state
 5243              		.cfi_def_cfa_offset 16
 5244              		@ sp needed
 5245 0040 70BD     		pop	{r4, r5, r6, pc}
 5246              	.LVL493:
 5247              	.L424:
ARM GAS  /tmp/cccHCpmH.s 			page 187


 5248              	.LCFI54:
 5249              		.cfi_restore_state
2584:rtos/uC-FS/Source/fs_file.c ****                                            sizeof(CPU_ALIGN),
 5250              		.loc 1 2584 5 is_stmt 1 view .LVU1858
2584:rtos/uC-FS/Source/fs_file.c ****                                            sizeof(CPU_ALIGN),
 5251              		.loc 1 2584 30 is_stmt 0 view .LVU1859
 5252 0042 A600     		lsls	r6, r4, #2
 5253 0044 0DF11203 		add	r3, sp, #18
 5254 0048 05AA     		add	r2, sp, #20
 5255 004a 0421     		movs	r1, #4
 5256 004c 3046     		mov	r0, r6
 5257 004e FFF7FEFF 		bl	Mem_HeapAlloc
 5258              	.LVL494:
2584:rtos/uC-FS/Source/fs_file.c ****                                            sizeof(CPU_ALIGN),
 5259              		.loc 1 2584 16 view .LVU1860
 5260 0052 0C4B     		ldr	r3, .L429+12
 5261 0054 1860     		str	r0, [r3]
2588:rtos/uC-FS/Source/fs_file.c ****        *p_err  = FS_ERR_MEM_ALLOC;
 5262              		.loc 1 2588 5 is_stmt 1 view .LVU1861
2588:rtos/uC-FS/Source/fs_file.c ****        *p_err  = FS_ERR_MEM_ALLOC;
 5263              		.loc 1 2588 18 is_stmt 0 view .LVU1862
 5264 0056 BDF81220 		ldrh	r2, [sp, #18]
2588:rtos/uC-FS/Source/fs_file.c ****        *p_err  = FS_ERR_MEM_ALLOC;
 5265              		.loc 1 2588 8 view .LVU1863
 5266 005a 42F21073 		movw	r3, #10000
 5267 005e 9A42     		cmp	r2, r3
 5268 0060 02D0     		beq	.L426
2589:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ModuleInit(): Could not alloc mem for files: %d octets required.\r\n
 5269              		.loc 1 2589 8 is_stmt 1 view .LVU1864
2589:rtos/uC-FS/Source/fs_file.c ****         FS_TRACE_INFO(("FSFile_ModuleInit(): Could not alloc mem for files: %d octets required.\r\n
 5270              		.loc 1 2589 16 is_stmt 0 view .LVU1865
 5271 0062 1123     		movs	r3, #17
 5272 0064 2B80     		strh	r3, [r5]	@ movhi
2590:rtos/uC-FS/Source/fs_file.c ****         return;
 5273              		.loc 1 2590 116 is_stmt 1 view .LVU1866
2591:rtos/uC-FS/Source/fs_file.c ****     }
 5274              		.loc 1 2591 9 view .LVU1867
 5275 0066 EAE7     		b	.L423
 5276              	.L426:
2594:rtos/uC-FS/Source/fs_file.c **** 
 5277              		.loc 1 2594 5 view .LVU1868
 5278 0068 3146     		mov	r1, r6
 5279 006a FFF7FEFF 		bl	Mem_Clr
 5280              	.LVL495:
2596:rtos/uC-FS/Source/fs_file.c **** 
 5281              		.loc 1 2596 5 view .LVU1869
2596:rtos/uC-FS/Source/fs_file.c **** 
 5282              		.loc 1 2596 23 is_stmt 0 view .LVU1870
 5283 006e 024B     		ldr	r3, .L429
 5284 0070 1C80     		strh	r4, [r3]	@ movhi
2598:rtos/uC-FS/Source/fs_file.c **** }
 5285              		.loc 1 2598 4 is_stmt 1 view .LVU1871
2598:rtos/uC-FS/Source/fs_file.c **** }
 5286              		.loc 1 2598 11 is_stmt 0 view .LVU1872
 5287 0072 0023     		movs	r3, #0
 5288 0074 2B80     		strh	r3, [r5]	@ movhi
 5289 0076 E2E7     		b	.L423
ARM GAS  /tmp/cccHCpmH.s 			page 188


 5290              	.L430:
 5291              		.align	2
 5292              	.L429:
 5293 0078 00000000 		.word	.LANCHOR3
 5294 007c 00000000 		.word	.LANCHOR2
 5295 0080 00000000 		.word	.LANCHOR1
 5296 0084 00000000 		.word	.LANCHOR0
 5297              		.cfi_endproc
 5298              	.LFE16:
 5300              		.section	.text.FSFile_ModeParse,"ax",%progbits
 5301              		.align	1
 5302              		.global	FSFile_ModeParse
 5303              		.syntax unified
 5304              		.thumb
 5305              		.thumb_func
 5306              		.fpu fpv4-sp-d16
 5308              	FSFile_ModeParse:
 5309              	.LVL496:
 5310              	.LFB17:
2621:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS     mode;
 5311              		.loc 1 2621 1 is_stmt 1 view -0
 5312              		.cfi_startproc
 5313              		@ args = 0, pretend = 0, frame = 0
 5314              		@ frame_needed = 0, uses_anonymous_args = 0
 5315              		@ link register save eliminated.
2621:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS     mode;
 5316              		.loc 1 2621 1 is_stmt 0 view .LVU1874
 5317 0000 0346     		mov	r3, r0
2622:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  b_present;
 5318              		.loc 1 2622 5 is_stmt 1 view .LVU1875
2623:rtos/uC-FS/Source/fs_file.c ****     CPU_BOOLEAN  plus_present;
 5319              		.loc 1 2623 5 view .LVU1876
2624:rtos/uC-FS/Source/fs_file.c **** 
 5320              		.loc 1 2624 5 view .LVU1877
2628:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_R:
 5321              		.loc 1 2628 5 view .LVU1878
2628:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_R:
 5322              		.loc 1 2628 13 is_stmt 0 view .LVU1879
 5323 0002 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
2628:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_R:
 5324              		.loc 1 2628 5 view .LVU1880
 5325 0004 722A     		cmp	r2, #114
 5326 0006 0CD0     		beq	.L438
 5327 0008 772A     		cmp	r2, #119
 5328 000a 0CD0     		beq	.L439
 5329 000c 612A     		cmp	r2, #97
 5330 000e 01D0     		beq	.L447
 5331 0010 0020     		movs	r0, #0
 5332              	.LVL497:
2681:rtos/uC-FS/Source/fs_file.c **** 
 5333              		.loc 1 2681 1 view .LVU1881
 5334 0012 7047     		bx	lr
 5335              	.LVL498:
 5336              	.L447:
2638:rtos/uC-FS/Source/fs_file.c ****              break;
 5337              		.loc 1 2638 19 view .LVU1882
 5338 0014 1620     		movs	r0, #22
ARM GAS  /tmp/cccHCpmH.s 			page 189


 5339              	.LVL499:
 5340              	.L432:
2621:rtos/uC-FS/Source/fs_file.c ****     FS_FLAGS     mode;
 5341              		.loc 1 2621 1 view .LVU1883
 5342 0016 30B4     		push	{r4, r5}
 5343              	.LCFI55:
 5344              		.cfi_def_cfa_offset 8
 5345              		.cfi_offset 4, -8
 5346              		.cfi_offset 5, -4
 5347              	.LVL500:
2644:rtos/uC-FS/Source/fs_file.c ****     str_len--;
 5348              		.loc 1 2644 5 is_stmt 1 view .LVU1884
2644:rtos/uC-FS/Source/fs_file.c ****     str_len--;
 5349              		.loc 1 2644 13 is_stmt 0 view .LVU1885
 5350 0018 0133     		adds	r3, r3, #1
 5351              	.LVL501:
2645:rtos/uC-FS/Source/fs_file.c **** 
 5352              		.loc 1 2645 5 is_stmt 1 view .LVU1886
2645:rtos/uC-FS/Source/fs_file.c **** 
 5353              		.loc 1 2645 12 is_stmt 0 view .LVU1887
 5354 001a 0139     		subs	r1, r1, #1
 5355              	.LVL502:
2649:rtos/uC-FS/Source/fs_file.c ****     plus_present = DEF_NO;
 5356              		.loc 1 2649 5 is_stmt 1 view .LVU1888
2650:rtos/uC-FS/Source/fs_file.c **** 
 5357              		.loc 1 2650 5 view .LVU1889
2652:rtos/uC-FS/Source/fs_file.c ****         if (*str_mode == (CPU_CHAR)ASCII_CHAR_PLUS_SIGN) {
 5358              		.loc 1 2652 5 view .LVU1890
2650:rtos/uC-FS/Source/fs_file.c **** 
 5359              		.loc 1 2650 18 is_stmt 0 view .LVU1891
 5360 001c 0025     		movs	r5, #0
2649:rtos/uC-FS/Source/fs_file.c ****     plus_present = DEF_NO;
 5361              		.loc 1 2649 18 view .LVU1892
 5362 001e 2C46     		mov	r4, r5
2652:rtos/uC-FS/Source/fs_file.c ****         if (*str_mode == (CPU_CHAR)ASCII_CHAR_PLUS_SIGN) {
 5363              		.loc 1 2652 11 view .LVU1893
 5364 0020 09E0     		b	.L434
 5365              	.LVL503:
 5366              	.L438:
 5367              	.LCFI56:
 5368              		.cfi_def_cfa_offset 0
 5369              		.cfi_restore 4
 5370              		.cfi_restore 5
2628:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_R:
 5371              		.loc 1 2628 5 view .LVU1894
 5372 0022 0120     		movs	r0, #1
 5373              	.LVL504:
2628:rtos/uC-FS/Source/fs_file.c ****         case ASCII_CHAR_LATIN_LOWER_R:
 5374              		.loc 1 2628 5 view .LVU1895
 5375 0024 F7E7     		b	.L432
 5376              	.LVL505:
 5377              	.L439:
2634:rtos/uC-FS/Source/fs_file.c ****              break;
 5378              		.loc 1 2634 19 view .LVU1896
 5379 0026 0E20     		movs	r0, #14
 5380              	.LVL506:
2634:rtos/uC-FS/Source/fs_file.c ****              break;
ARM GAS  /tmp/cccHCpmH.s 			page 190


 5381              		.loc 1 2634 19 view .LVU1897
 5382 0028 F5E7     		b	.L432
 5383              	.LVL507:
 5384              	.L448:
 5385              	.LCFI57:
 5386              		.cfi_def_cfa_offset 8
 5387              		.cfi_offset 4, -8
 5388              		.cfi_offset 5, -4
2655:rtos/uC-FS/Source/fs_file.c ****                 mode  = FS_FILE_ACCESS_MODE_NONE;               /* Invalid mode.                   
 5389              		.loc 1 2655 13 is_stmt 1 view .LVU1898
2655:rtos/uC-FS/Source/fs_file.c ****                 mode  = FS_FILE_ACCESS_MODE_NONE;               /* Invalid mode.                   
 5390              		.loc 1 2655 16 is_stmt 0 view .LVU1899
 5391 002a 6DB9     		cbnz	r5, .L441
2659:rtos/uC-FS/Source/fs_file.c ****             plus_present = DEF_YES;
 5392              		.loc 1 2659 13 is_stmt 1 view .LVU1900
2659:rtos/uC-FS/Source/fs_file.c ****             plus_present = DEF_YES;
 5393              		.loc 1 2659 18 is_stmt 0 view .LVU1901
 5394 002c 40F00300 		orr	r0, r0, #3
 5395              	.LVL508:
2660:rtos/uC-FS/Source/fs_file.c **** 
 5396              		.loc 1 2660 13 is_stmt 1 view .LVU1902
2660:rtos/uC-FS/Source/fs_file.c **** 
 5397              		.loc 1 2660 26 is_stmt 0 view .LVU1903
 5398 0030 0125     		movs	r5, #1
 5399              	.LVL509:
 5400              	.L436:
2676:rtos/uC-FS/Source/fs_file.c ****         str_len--;
 5401              		.loc 1 2676 9 is_stmt 1 view .LVU1904
2676:rtos/uC-FS/Source/fs_file.c ****         str_len--;
 5402              		.loc 1 2676 17 is_stmt 0 view .LVU1905
 5403 0032 0133     		adds	r3, r3, #1
 5404              	.LVL510:
2677:rtos/uC-FS/Source/fs_file.c ****     }
 5405              		.loc 1 2677 9 is_stmt 1 view .LVU1906
2677:rtos/uC-FS/Source/fs_file.c ****     }
 5406              		.loc 1 2677 16 is_stmt 0 view .LVU1907
 5407 0034 0139     		subs	r1, r1, #1
 5408              	.LVL511:
 5409              	.L434:
2652:rtos/uC-FS/Source/fs_file.c ****         if (*str_mode == (CPU_CHAR)ASCII_CHAR_PLUS_SIGN) {
 5410              		.loc 1 2652 11 is_stmt 1 view .LVU1908
 5411 0036 51B1     		cbz	r1, .L431
2653:rtos/uC-FS/Source/fs_file.c **** 
 5412              		.loc 1 2653 9 view .LVU1909
2653:rtos/uC-FS/Source/fs_file.c **** 
 5413              		.loc 1 2653 13 is_stmt 0 view .LVU1910
 5414 0038 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
2653:rtos/uC-FS/Source/fs_file.c **** 
 5415              		.loc 1 2653 12 view .LVU1911
 5416 003a 2B2A     		cmp	r2, #43
 5417 003c F5D0     		beq	.L448
2662:rtos/uC-FS/Source/fs_file.c **** 
 5418              		.loc 1 2662 16 is_stmt 1 view .LVU1912
2662:rtos/uC-FS/Source/fs_file.c **** 
 5419              		.loc 1 2662 19 is_stmt 0 view .LVU1913
 5420 003e 622A     		cmp	r2, #98
 5421 0040 04D1     		bne	.L442
ARM GAS  /tmp/cccHCpmH.s 			page 191


2664:rtos/uC-FS/Source/fs_file.c ****                 mode  = FS_FILE_ACCESS_MODE_NONE;               /* Invalid mode.                   
 5422              		.loc 1 2664 13 is_stmt 1 view .LVU1914
2664:rtos/uC-FS/Source/fs_file.c ****                 mode  = FS_FILE_ACCESS_MODE_NONE;               /* Invalid mode.                   
 5423              		.loc 1 2664 16 is_stmt 0 view .LVU1915
 5424 0042 34B9     		cbnz	r4, .L443
2668:rtos/uC-FS/Source/fs_file.c **** 
 5425              		.loc 1 2668 23 view .LVU1916
 5426 0044 0124     		movs	r4, #1
 5427              	.LVL512:
2668:rtos/uC-FS/Source/fs_file.c **** 
 5428              		.loc 1 2668 23 view .LVU1917
 5429 0046 F4E7     		b	.L436
 5430              	.LVL513:
 5431              	.L441:
2657:rtos/uC-FS/Source/fs_file.c ****             }
 5432              		.loc 1 2657 24 view .LVU1918
 5433 0048 0020     		movs	r0, #0
 5434              	.LVL514:
2657:rtos/uC-FS/Source/fs_file.c ****             }
 5435              		.loc 1 2657 24 view .LVU1919
 5436 004a 00E0     		b	.L431
 5437              	.LVL515:
 5438              	.L442:
2673:rtos/uC-FS/Source/fs_file.c **** 
 5439              		.loc 1 2673 19 view .LVU1920
 5440 004c 0020     		movs	r0, #0
 5441              	.LVL516:
 5442              	.L431:
2681:rtos/uC-FS/Source/fs_file.c **** 
 5443              		.loc 1 2681 1 view .LVU1921
 5444 004e 30BC     		pop	{r4, r5}
 5445              	.LCFI58:
 5446              		.cfi_remember_state
 5447              		.cfi_restore 5
 5448              		.cfi_restore 4
 5449              		.cfi_def_cfa_offset 0
 5450              	.LVL517:
2681:rtos/uC-FS/Source/fs_file.c **** 
 5451              		.loc 1 2681 1 view .LVU1922
 5452 0050 7047     		bx	lr
 5453              	.LVL518:
 5454              	.L443:
 5455              	.LCFI59:
 5456              		.cfi_restore_state
2666:rtos/uC-FS/Source/fs_file.c ****             }
 5457              		.loc 1 2666 24 view .LVU1923
 5458 0052 0020     		movs	r0, #0
 5459              	.LVL519:
2666:rtos/uC-FS/Source/fs_file.c ****             }
 5460              		.loc 1 2666 24 view .LVU1924
 5461 0054 FBE7     		b	.L431
 5462              		.cfi_endproc
 5463              	.LFE17:
 5465              		.section	.bss.FSFile_Cnt,"aw",%nobits
 5466              		.align	1
 5467              		.set	.LANCHOR2,. + 0
 5470              	FSFile_Cnt:
ARM GAS  /tmp/cccHCpmH.s 			page 192


 5471 0000 0000     		.space	2
 5472              		.section	.bss.FSFile_FileCntMax,"aw",%nobits
 5473              		.align	1
 5474              		.set	.LANCHOR3,. + 0
 5477              	FSFile_FileCntMax:
 5478 0000 0000     		.space	2
 5479              		.section	.bss.FSFile_Pool,"aw",%nobits
 5480              		.align	2
 5481              		.set	.LANCHOR1,. + 0
 5484              	FSFile_Pool:
 5485 0000 00000000 		.space	24
 5485      00000000 
 5485      00000000 
 5485      00000000 
 5485      00000000 
 5486              		.section	.bss.FSFile_Tbl,"aw",%nobits
 5487              		.align	2
 5488              		.set	.LANCHOR0,. + 0
 5491              	FSFile_Tbl:
 5492 0000 00000000 		.space	4
 5493              		.text
 5494              	.Letext0:
 5495              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 5496              		.file 3 "rtos/uC-LIB/lib_def.h"
 5497              		.file 4 "rtos/uC-LIB/lib_mem.h"
 5498              		.file 5 "rtos/uC-Clk/Source/clk.h"
 5499              		.file 6 "rtos/uC-FS/Source/fs_type.h"
 5500              		.file 7 "rtos/uC-FS/Source/fs_buf.h"
 5501              		.file 8 "rtos/uC-FS/Source/fs_dev.h"
 5502              		.file 9 "rtos/uC-FS/Source/fs_entry.h"
 5503              		.file 10 "rtos/uC-FS/Source/fs_file.h"
 5504              		.file 11 "rtos/uC-FS/Source/fs_vol.h"
 5505              		.file 12 "rtos/uC-FS/Source/fs_err.h"
 5506              		.file 13 "rtos/uC-FS/Source/fs_ctr.h"
 5507              		.file 14 "rtos/uC-FS/Source/../FAT/fs_fat_type.h"
 5508              		.file 15 "rtos/uC-FS/Source/../FAT/fs_fat.h"
 5509              		.file 16 "rtos/uC-FS/Source/fs.h"
 5510              		.file 17 "rtos/uC-LIB/lib_str.h"
 5511              		.file 18 "rtos/uC-FS/Source/fs_sys.h"
 5512              		.file 19 "rtos/uC-CPU/cpu_core.h"
ARM GAS  /tmp/cccHCpmH.s 			page 193


DEFINED SYMBOLS
                            *ABS*:0000000000000000 fs_file.c
     /tmp/cccHCpmH.s:18     .text.FSFile_ObjClr:0000000000000000 $t
     /tmp/cccHCpmH.s:25     .text.FSFile_ObjClr:0000000000000000 FSFile_ObjClr
     /tmp/cccHCpmH.s:99     .text.FSFile_Acquire:0000000000000000 $t
     /tmp/cccHCpmH.s:105    .text.FSFile_Acquire:0000000000000000 FSFile_Acquire
     /tmp/cccHCpmH.s:176    .text.FSFile_Lock:0000000000000000 $t
     /tmp/cccHCpmH.s:182    .text.FSFile_Lock:0000000000000000 FSFile_Lock
     /tmp/cccHCpmH.s:210    .text.FSFile_Unlock:0000000000000000 $t
     /tmp/cccHCpmH.s:216    .text.FSFile_Unlock:0000000000000000 FSFile_Unlock
     /tmp/cccHCpmH.s:241    .text.FSFile_ObjFree:0000000000000000 $t
     /tmp/cccHCpmH.s:247    .text.FSFile_ObjFree:0000000000000000 FSFile_ObjFree
     /tmp/cccHCpmH.s:309    .text.FSFile_ObjFree:0000000000000034 $d
     /tmp/cccHCpmH.s:316    .text.FSFile_Release:0000000000000000 $t
     /tmp/cccHCpmH.s:322    .text.FSFile_Release:0000000000000000 FSFile_Release
     /tmp/cccHCpmH.s:417    .text.FSFile_ReleaseUnlock:0000000000000000 $t
     /tmp/cccHCpmH.s:423    .text.FSFile_ReleaseUnlock:0000000000000000 FSFile_ReleaseUnlock
     /tmp/cccHCpmH.s:451    .text.FSFile_AcquireLockChk:0000000000000000 $t
     /tmp/cccHCpmH.s:457    .text.FSFile_AcquireLockChk:0000000000000000 FSFile_AcquireLockChk
     /tmp/cccHCpmH.s:549    .text.FSFile_BufEmpty:0000000000000000 $t
     /tmp/cccHCpmH.s:555    .text.FSFile_BufEmpty:0000000000000000 FSFile_BufEmpty
     /tmp/cccHCpmH.s:673    .text.FSFile_NameParseChk:0000000000000000 $t
     /tmp/cccHCpmH.s:679    .text.FSFile_NameParseChk:0000000000000000 FSFile_NameParseChk
     /tmp/cccHCpmH.s:963    .text.FSFile_ObjGet:0000000000000000 $t
     /tmp/cccHCpmH.s:969    .text.FSFile_ObjGet:0000000000000000 FSFile_ObjGet
     /tmp/cccHCpmH.s:1099   .text.FSFile_ObjGet:000000000000006c $d
     /tmp/cccHCpmH.s:1107   .text.FSFile_BufRd:0000000000000000 $t
     /tmp/cccHCpmH.s:1113   .text.FSFile_BufRd:0000000000000000 FSFile_BufRd
     /tmp/cccHCpmH.s:1395   .text.FSFile_BufWr:0000000000000000 $t
     /tmp/cccHCpmH.s:1401   .text.FSFile_BufWr:0000000000000000 FSFile_BufWr
     /tmp/cccHCpmH.s:1669   .text.FSFile_BufAssign:0000000000000000 $t
     /tmp/cccHCpmH.s:1676   .text.FSFile_BufAssign:0000000000000000 FSFile_BufAssign
     /tmp/cccHCpmH.s:1907   .text.FSFile_BufFlush:0000000000000000 $t
     /tmp/cccHCpmH.s:1914   .text.FSFile_BufFlush:0000000000000000 FSFile_BufFlush
     /tmp/cccHCpmH.s:2030   .text.FSFile_Close:0000000000000000 $t
     /tmp/cccHCpmH.s:2037   .text.FSFile_Close:0000000000000000 FSFile_Close
     /tmp/cccHCpmH.s:2125   .text.FSFile_ClrErr:0000000000000000 $t
     /tmp/cccHCpmH.s:2132   .text.FSFile_ClrErr:0000000000000000 FSFile_ClrErr
     /tmp/cccHCpmH.s:2221   .text.FSFile_IsEOF:0000000000000000 $t
     /tmp/cccHCpmH.s:2228   .text.FSFile_IsEOF:0000000000000000 FSFile_IsEOF
     /tmp/cccHCpmH.s:2309   .text.FSFile_IsErr:0000000000000000 $t
     /tmp/cccHCpmH.s:2316   .text.FSFile_IsErr:0000000000000000 FSFile_IsErr
     /tmp/cccHCpmH.s:2397   .text.FSFile_IsOpen:0000000000000000 $t
     /tmp/cccHCpmH.s:2404   .text.FSFile_IsOpen:0000000000000000 FSFile_IsOpen
     /tmp/cccHCpmH.s:2686   .text.FSFile_IsOpen:00000000000000ec $d
     /tmp/cccHCpmH.s:2692   .text.FSFile_Open:0000000000000000 $t
     /tmp/cccHCpmH.s:2699   .text.FSFile_Open:0000000000000000 FSFile_Open
     /tmp/cccHCpmH.s:3197   .text.FSFile_PosGet:0000000000000000 $t
     /tmp/cccHCpmH.s:3204   .text.FSFile_PosGet:0000000000000000 FSFile_PosGet
     /tmp/cccHCpmH.s:3307   .text.FSFile_PosSet:0000000000000000 $t
     /tmp/cccHCpmH.s:3314   .text.FSFile_PosSet:0000000000000000 FSFile_PosSet
     /tmp/cccHCpmH.s:3794   .text.FSFile_Query:0000000000000000 $t
     /tmp/cccHCpmH.s:3801   .text.FSFile_Query:0000000000000000 FSFile_Query
     /tmp/cccHCpmH.s:3909   .text.FSFile_Rd:0000000000000000 $t
     /tmp/cccHCpmH.s:3916   .text.FSFile_Rd:0000000000000000 FSFile_Rd
     /tmp/cccHCpmH.s:4208   .text.FSFile_Truncate:0000000000000000 $t
     /tmp/cccHCpmH.s:4215   .text.FSFile_Truncate:0000000000000000 FSFile_Truncate
ARM GAS  /tmp/cccHCpmH.s 			page 194


     /tmp/cccHCpmH.s:4600   .text.FSFile_Wr:0000000000000000 $t
     /tmp/cccHCpmH.s:4607   .text.FSFile_Wr:0000000000000000 FSFile_Wr
     /tmp/cccHCpmH.s:5074   .text.FSFile_GetFileCnt:0000000000000000 $t
     /tmp/cccHCpmH.s:5081   .text.FSFile_GetFileCnt:0000000000000000 FSFile_GetFileCnt
     /tmp/cccHCpmH.s:5134   .text.FSFile_GetFileCnt:0000000000000024 $d
     /tmp/cccHCpmH.s:5139   .text.FSFile_GetFileCntMax:0000000000000000 $t
     /tmp/cccHCpmH.s:5146   .text.FSFile_GetFileCntMax:0000000000000000 FSFile_GetFileCntMax
     /tmp/cccHCpmH.s:5164   .text.FSFile_GetFileCntMax:0000000000000008 $d
     /tmp/cccHCpmH.s:5169   .text.FSFile_ModuleInit:0000000000000000 $t
     /tmp/cccHCpmH.s:5176   .text.FSFile_ModuleInit:0000000000000000 FSFile_ModuleInit
     /tmp/cccHCpmH.s:5293   .text.FSFile_ModuleInit:0000000000000078 $d
     /tmp/cccHCpmH.s:5301   .text.FSFile_ModeParse:0000000000000000 $t
     /tmp/cccHCpmH.s:5308   .text.FSFile_ModeParse:0000000000000000 FSFile_ModeParse
     /tmp/cccHCpmH.s:5466   .bss.FSFile_Cnt:0000000000000000 $d
     /tmp/cccHCpmH.s:5470   .bss.FSFile_Cnt:0000000000000000 FSFile_Cnt
     /tmp/cccHCpmH.s:5473   .bss.FSFile_FileCntMax:0000000000000000 $d
     /tmp/cccHCpmH.s:5477   .bss.FSFile_FileCntMax:0000000000000000 FSFile_FileCntMax
     /tmp/cccHCpmH.s:5480   .bss.FSFile_Pool:0000000000000000 $d
     /tmp/cccHCpmH.s:5484   .bss.FSFile_Pool:0000000000000000 FSFile_Pool
     /tmp/cccHCpmH.s:5487   .bss.FSFile_Tbl:0000000000000000 $d
     /tmp/cccHCpmH.s:5491   .bss.FSFile_Tbl:0000000000000000 FSFile_Tbl
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.cpu_core.h.51.7b35a59c319673f88ae4a256248776ec
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.143.d3b700e12b3a14ed3bee14c822b49a7d
                           .group:0000000000000000 wm4.lib_cfg.h.40.b2958733f73e73af70f675ca0f89303e
                           .group:0000000000000000 wm4.lib_mem.h.121.89b942a057fb20091baad8bf6b28b1e6
                           .group:0000000000000000 wm4.fs.h.42.4f6311a594ee5619f1ee7a9392eb7faa
                           .group:0000000000000000 wm4.lib_ascii.h.84.da234f9d4d202bba866fb26067887eec
                           .group:0000000000000000 wm4.fs_def.h.42.653ad677c23ef93c522ec84af681385d
                           .group:0000000000000000 wm4.fs_cfg.h.116.da4f8e9d0b9040a97ef3bf26c61e90fd
                           .group:0000000000000000 wm4.clk.h.99.39403db6a27321e53b261bbe20b56e1d
                           .group:0000000000000000 wm4.lib_str.h.60.d6fb3a1336db17c586ed26be94929677
                           .group:0000000000000000 wm4.clk_cfg.h.45.428f260ed0fbcfa16fc822c67c85dade
                           .group:0000000000000000 wm4.clk.h.219.c24c7347fcc7691d3157fe73514cb366
                           .group:0000000000000000 wm4.fs_cfg_fs.h.176.c85074fbe881bfa594608376a65f4dc2
                           .group:0000000000000000 wm4.fs_type.h.42.3e681b291920189044ba1da24ae0f22a
                           .group:0000000000000000 wm4.fs_err.h.42.d52bfed31dff3d1419c5cf09952dee67
                           .group:0000000000000000 wm4.fs.h.97.1d629f0ba32b5622ab4e01a254bd98e8
                           .group:0000000000000000 wm4.fs_buf.h.42.0c8ba10968f085926266a27b71b3972d
                           .group:0000000000000000 wm4.fs_dev.h.42.457d0b7de373584765db5fbe40e7c30d
                           .group:0000000000000000 wm4.fs_ctr.h.42.9d1398cac157503ac8af114819f7782b
                           .group:0000000000000000 wm4.fs_dev.h.84.0b8682dc82cfd464ab0da30a876c8006
                           .group:0000000000000000 wm4.fs_file.h.42.c14bff1dd20c2e1840ee8a4030c066dc
                           .group:0000000000000000 wm4.fs_entry.h.42.9d70c930b2952a9ef63a0a4e9d586c20
                           .group:0000000000000000 wm4.fs_dir.h.83.d0300b5b24eed020443871730cac76e3
                           .group:0000000000000000 wm4.fs_vol.h.42.b307128eec61fcaf68a96ce7f965d41e
                           .group:0000000000000000 wm4.fs_util.h.64.fe7812d6ca4c430dea2d2e705fd73c11
                           .group:0000000000000000 wm4.fs_fat_type.h.44.5030ef39a150a8f4f55331616cd38bbd
                           .group:0000000000000000 wm4.fs_fat.h.103.89adf2d396ea9a0dd44def3a42712dd1

UNDEFINED SYMBOLS
FS_OS_Lock
FS_OS_Unlock
ARM GAS  /tmp/cccHCpmH.s 			page 195


FSVol_Lock
FSVol_Unlock
Mem_PoolBlkFree
FSVol_Release
FSSys_FileWr
Mem_Clr
FSSys_FilePosSet
FS_PathParse
Str_Len_N
Str_Char_Last_N
FSVol_AcquireDflt
FSVol_RefreshLocked
FSVol_Acquire
FSVol_ReleaseUnlock
Mem_PoolBlkGet
Mem_Copy
FSSys_FileRd
CPU_SW_Exception
FSSys_FileClose
FSVol_FileRemove
FS_FAT_LowEntryFind
FSSys_FileOpen
FSVol_FileAdd
FSSys_FileQuery
FSBuf_Get
Mem_Set
FSBuf_Free
FSSys_FileTruncate
Mem_PoolCreate
Mem_HeapAlloc
