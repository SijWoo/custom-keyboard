ARM GAS  /tmp/ccfvxgcI.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"os_tmr.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.OS_TmrLock,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	OS_TmrLock:
  26              	.LFB12:
  27              		.file 1 "rtos/uCOS-III/Source/os_tmr.c"
   1:rtos/uCOS-III/Source/os_tmr.c **** /*
   2:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
   3:rtos/uCOS-III/Source/os_tmr.c **** *                                                uC/OS-III
   4:rtos/uCOS-III/Source/os_tmr.c **** *                                          The Real-Time Kernel
   5:rtos/uCOS-III/Source/os_tmr.c **** *
   6:rtos/uCOS-III/Source/os_tmr.c **** *                         (c) Copyright 2009-2019; Silicon Laboratories Inc.,
   7:rtos/uCOS-III/Source/os_tmr.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uCOS-III/Source/os_tmr.c **** *
   9:rtos/uCOS-III/Source/os_tmr.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uCOS-III/Source/os_tmr.c **** *
  11:rtos/uCOS-III/Source/os_tmr.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uCOS-III/Source/os_tmr.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uCOS-III/Source/os_tmr.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uCOS-III/Source/os_tmr.c **** *                  license, you may not use this software.
  15:rtos/uCOS-III/Source/os_tmr.c **** *
  16:rtos/uCOS-III/Source/os_tmr.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uCOS-III/Source/os_tmr.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uCOS-III/Source/os_tmr.c **** *
  19:rtos/uCOS-III/Source/os_tmr.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uCOS-III/Source/os_tmr.c **** *
  21:rtos/uCOS-III/Source/os_tmr.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
  23:rtos/uCOS-III/Source/os_tmr.c **** */
  24:rtos/uCOS-III/Source/os_tmr.c **** 
  25:rtos/uCOS-III/Source/os_tmr.c **** /*
  26:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
  27:rtos/uCOS-III/Source/os_tmr.c **** *                                           TIMER MANAGEMENT
  28:rtos/uCOS-III/Source/os_tmr.c **** *
  29:rtos/uCOS-III/Source/os_tmr.c **** * File    : os_tmr.c
  30:rtos/uCOS-III/Source/os_tmr.c **** * Version : V3.07.04
  31:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
ARM GAS  /tmp/ccfvxgcI.s 			page 2


  32:rtos/uCOS-III/Source/os_tmr.c **** */
  33:rtos/uCOS-III/Source/os_tmr.c **** 
  34:rtos/uCOS-III/Source/os_tmr.c **** #define  MICRIUM_SOURCE
  35:rtos/uCOS-III/Source/os_tmr.c **** #include "os.h"
  36:rtos/uCOS-III/Source/os_tmr.c **** 
  37:rtos/uCOS-III/Source/os_tmr.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  38:rtos/uCOS-III/Source/os_tmr.c **** const  CPU_CHAR  *os_tmr__c = "$Id: $";
  39:rtos/uCOS-III/Source/os_tmr.c **** #endif
  40:rtos/uCOS-III/Source/os_tmr.c **** 
  41:rtos/uCOS-III/Source/os_tmr.c **** 
  42:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TMR_EN > 0u)
  43:rtos/uCOS-III/Source/os_tmr.c **** /*
  44:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
  45:rtos/uCOS-III/Source/os_tmr.c **** *                                               LOCAL FUNCTION PROTOTYPES
  46:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
  47:rtos/uCOS-III/Source/os_tmr.c **** */
  48:rtos/uCOS-III/Source/os_tmr.c **** 
  49:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrLock      (void);
  50:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrUnlock    (void);
  51:rtos/uCOS-III/Source/os_tmr.c **** 
  52:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrCondCreate(void);
  53:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrCondSignal(void);
  54:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrCondWait  (OS_TICK  timeout);
  55:rtos/uCOS-III/Source/os_tmr.c **** 
  56:rtos/uCOS-III/Source/os_tmr.c **** 
  57:rtos/uCOS-III/Source/os_tmr.c **** /*
  58:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
  59:rtos/uCOS-III/Source/os_tmr.c **** *                                                   CREATE A TIMER
  60:rtos/uCOS-III/Source/os_tmr.c **** *
  61:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called by your application code to create a timer.
  62:rtos/uCOS-III/Source/os_tmr.c **** *
  63:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr           Is a pointer to a timer control block
  64:rtos/uCOS-III/Source/os_tmr.c **** *
  65:rtos/uCOS-III/Source/os_tmr.c **** *              p_name          Is a pointer to an ASCII string that is used to name the timer.  Nam
  66:rtos/uCOS-III/Source/os_tmr.c **** *                              debugging.
  67:rtos/uCOS-III/Source/os_tmr.c **** *
  68:rtos/uCOS-III/Source/os_tmr.c **** *              dly             Initial delay.
  69:rtos/uCOS-III/Source/os_tmr.c **** *                              If the timer is configured for ONE-SHOT mode, this is the timeout us
  70:rtos/uCOS-III/Source/os_tmr.c **** *                              If the timer is configured for PERIODIC mode, this is the first time
  71:rtos/uCOS-III/Source/os_tmr.c **** *                              before the timer starts entering periodic mode
  72:rtos/uCOS-III/Source/os_tmr.c **** *
  73:rtos/uCOS-III/Source/os_tmr.c **** *              period          The 'period' being repeated for the timer.
  74:rtos/uCOS-III/Source/os_tmr.c **** *                              If you specified 'OS_OPT_TMR_PERIODIC' as an option, when the timer 
  75:rtos/uCOS-III/Source/os_tmr.c **** *                              automatically restart with the same period.
  76:rtos/uCOS-III/Source/os_tmr.c **** *
  77:rtos/uCOS-III/Source/os_tmr.c **** *              opt             Specifies either:
  78:rtos/uCOS-III/Source/os_tmr.c **** *
  79:rtos/uCOS-III/Source/os_tmr.c **** *                                  OS_OPT_TMR_ONE_SHOT       The timer counts down only once
  80:rtos/uCOS-III/Source/os_tmr.c **** *                                  OS_OPT_TMR_PERIODIC       The timer counts down and then reloads
  81:rtos/uCOS-III/Source/os_tmr.c **** *
  82:rtos/uCOS-III/Source/os_tmr.c **** *              p_callback      Is a pointer to a callback function that will be called when the tim
  83:rtos/uCOS-III/Source/os_tmr.c **** *                              callback function must be declared as follows:
  84:rtos/uCOS-III/Source/os_tmr.c **** *
  85:rtos/uCOS-III/Source/os_tmr.c **** *                                  void  MyCallback (OS_TMR *p_tmr, void *p_arg);
  86:rtos/uCOS-III/Source/os_tmr.c **** *
  87:rtos/uCOS-III/Source/os_tmr.c **** *              p_callback_arg  Is an argument (a pointer) that is passed to the callback function w
  88:rtos/uCOS-III/Source/os_tmr.c **** *
ARM GAS  /tmp/ccfvxgcI.s 			page 3


  89:rtos/uCOS-III/Source/os_tmr.c **** *              p_err           Is a pointer to an error code.  '*p_err' will contain one of the fol
  90:rtos/uCOS-III/Source/os_tmr.c **** *
  91:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_NONE                    The call succeeded
  92:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_ILLEGAL_CREATE_RUN_TIME If you are trying to create the ti
  93:rtos/uCOS-III/Source/os_tmr.c **** *                                                                  OSSafetyCriticalStart()
  94:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_OBJ_PTR_NULL            Is 'p_tmr' is a NULL pointer
  95:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_OPT_INVALID             You specified an invalid option
  96:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID_CALLBACK    You specified an invalid callback 
  97:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID_DLY         You specified an invalid delay
  98:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID_PERIOD      You specified an invalid period
  99:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_ISR                 If the call was made from an ISR
 100:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_OBJ_CREATED             If the timer was already created
 101:rtos/uCOS-III/Source/os_tmr.c **** *
 102:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
 103:rtos/uCOS-III/Source/os_tmr.c **** *
 104:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function only creates the timer.  In other words, the timer is not started w
 105:rtos/uCOS-III/Source/os_tmr.c **** *                 start the timer, call OSTmrStart().
 106:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 107:rtos/uCOS-III/Source/os_tmr.c **** */
 108:rtos/uCOS-III/Source/os_tmr.c **** 
 109:rtos/uCOS-III/Source/os_tmr.c **** void  OSTmrCreate (OS_TMR               *p_tmr,
 110:rtos/uCOS-III/Source/os_tmr.c ****                    CPU_CHAR             *p_name,
 111:rtos/uCOS-III/Source/os_tmr.c ****                    OS_TICK               dly,
 112:rtos/uCOS-III/Source/os_tmr.c ****                    OS_TICK               period,
 113:rtos/uCOS-III/Source/os_tmr.c ****                    OS_OPT                opt,
 114:rtos/uCOS-III/Source/os_tmr.c ****                    OS_TMR_CALLBACK_PTR   p_callback,
 115:rtos/uCOS-III/Source/os_tmr.c ****                    void                 *p_callback_arg,
 116:rtos/uCOS-III/Source/os_tmr.c ****                    OS_ERR               *p_err)
 117:rtos/uCOS-III/Source/os_tmr.c **** {
 118:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 119:rtos/uCOS-III/Source/os_tmr.c ****     if (p_err == (OS_ERR *)0) {
 120:rtos/uCOS-III/Source/os_tmr.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 121:rtos/uCOS-III/Source/os_tmr.c ****         return;
 122:rtos/uCOS-III/Source/os_tmr.c ****     }
 123:rtos/uCOS-III/Source/os_tmr.c **** #endif
 124:rtos/uCOS-III/Source/os_tmr.c **** 
 125:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 126:rtos/uCOS-III/Source/os_tmr.c ****     if (OSSafetyCriticalStartFlag == OS_TRUE) {
 127:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_ILLEGAL_CREATE_RUN_TIME;
 128:rtos/uCOS-III/Source/os_tmr.c ****         return;
 129:rtos/uCOS-III/Source/os_tmr.c ****     }
 130:rtos/uCOS-III/Source/os_tmr.c **** #endif
 131:rtos/uCOS-III/Source/os_tmr.c **** 
 132:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 133:rtos/uCOS-III/Source/os_tmr.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to call from an IS
 134:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 135:rtos/uCOS-III/Source/os_tmr.c ****         return;
 136:rtos/uCOS-III/Source/os_tmr.c ****     }
 137:rtos/uCOS-III/Source/os_tmr.c **** #endif
 138:rtos/uCOS-III/Source/os_tmr.c **** 
 139:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 140:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr == (OS_TMR *)0) {                                 /* Validate 'p_tmr'                
 141:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 142:rtos/uCOS-III/Source/os_tmr.c ****         return;
 143:rtos/uCOS-III/Source/os_tmr.c ****     }
 144:rtos/uCOS-III/Source/os_tmr.c **** 
 145:rtos/uCOS-III/Source/os_tmr.c ****     switch (opt) {
ARM GAS  /tmp/ccfvxgcI.s 			page 4


 146:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_PERIODIC:
 147:rtos/uCOS-III/Source/os_tmr.c ****              if (period == 0u) {
 148:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_PERIOD;
 149:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 150:rtos/uCOS-III/Source/os_tmr.c ****              }
 151:rtos/uCOS-III/Source/os_tmr.c **** 
 152:rtos/uCOS-III/Source/os_tmr.c ****              if (p_callback == (OS_TMR_CALLBACK_PTR)0) {        /* No point in a periodic timer wit
 153:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_CALLBACK;
 154:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 155:rtos/uCOS-III/Source/os_tmr.c ****              }
 156:rtos/uCOS-III/Source/os_tmr.c ****              break;
 157:rtos/uCOS-III/Source/os_tmr.c **** 
 158:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_ONE_SHOT:
 159:rtos/uCOS-III/Source/os_tmr.c ****              if (dly == 0u) {
 160:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_DLY;
 161:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 162:rtos/uCOS-III/Source/os_tmr.c ****              }
 163:rtos/uCOS-III/Source/os_tmr.c ****              break;
 164:rtos/uCOS-III/Source/os_tmr.c **** 
 165:rtos/uCOS-III/Source/os_tmr.c ****         default:
 166:rtos/uCOS-III/Source/os_tmr.c ****             *p_err = OS_ERR_OPT_INVALID;
 167:rtos/uCOS-III/Source/os_tmr.c ****              return;
 168:rtos/uCOS-III/Source/os_tmr.c ****     }
 169:rtos/uCOS-III/Source/os_tmr.c **** #endif
 170:rtos/uCOS-III/Source/os_tmr.c **** 
 171:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning == OS_STATE_OS_RUNNING) {                     /* Only lock when the kernel is run
 172:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrLock();
 173:rtos/uCOS-III/Source/os_tmr.c ****     }
 174:rtos/uCOS-III/Source/os_tmr.c **** 
 175:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->State          = OS_TMR_STATE_STOPPED;               /* Initialize the timer fields     
 176:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_OBJ_TYPE_REQ > 0u)
 177:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr->Type == OS_OBJ_TYPE_TMR) {
 178:rtos/uCOS-III/Source/os_tmr.c ****         if (OSRunning == OS_STATE_OS_RUNNING) {
 179:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrUnlock();
 180:rtos/uCOS-III/Source/os_tmr.c ****         }
 181:rtos/uCOS-III/Source/os_tmr.c ****         *p_err = OS_ERR_OBJ_CREATED;
 182:rtos/uCOS-III/Source/os_tmr.c ****         return;
 183:rtos/uCOS-III/Source/os_tmr.c ****     }
 184:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Type           = OS_OBJ_TYPE_TMR;
 185:rtos/uCOS-III/Source/os_tmr.c **** #endif
 186:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 187:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NamePtr        = p_name;
 188:rtos/uCOS-III/Source/os_tmr.c **** #else
 189:rtos/uCOS-III/Source/os_tmr.c ****     (void)p_name;
 190:rtos/uCOS-III/Source/os_tmr.c **** #endif
 191:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Dly            =  dly    * OSTmrToTicksMult;         /* Convert to Timer Start Delay to 
 192:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Remain         =  0u;
 193:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         =  period * OSTmrToTicksMult;         /* Convert to Timer Period      to 
 194:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Opt            =  opt;
 195:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    =  p_callback;
 196:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg =  p_callback_arg;
 197:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NextPtr        = (OS_TMR *)0;
 198:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->PrevPtr        = (OS_TMR *)0;
 199:rtos/uCOS-III/Source/os_tmr.c **** 
 200:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 201:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrDbgListAdd(p_tmr);
 202:rtos/uCOS-III/Source/os_tmr.c **** #endif
ARM GAS  /tmp/ccfvxgcI.s 			page 5


 203:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 204:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrQty++;                                                 /* Keep track of the number of time
 205:rtos/uCOS-III/Source/os_tmr.c **** #endif
 206:rtos/uCOS-III/Source/os_tmr.c **** 
 207:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning == OS_STATE_OS_RUNNING) {
 208:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrUnlock();
 209:rtos/uCOS-III/Source/os_tmr.c ****     }
 210:rtos/uCOS-III/Source/os_tmr.c **** 
 211:rtos/uCOS-III/Source/os_tmr.c ****    *p_err = OS_ERR_NONE;
 212:rtos/uCOS-III/Source/os_tmr.c **** }
 213:rtos/uCOS-III/Source/os_tmr.c **** 
 214:rtos/uCOS-III/Source/os_tmr.c **** 
 215:rtos/uCOS-III/Source/os_tmr.c **** /*
 216:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 217:rtos/uCOS-III/Source/os_tmr.c **** *                                                   DELETE A TIMER
 218:rtos/uCOS-III/Source/os_tmr.c **** *
 219:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called by your application code to delete a timer.
 220:rtos/uCOS-III/Source/os_tmr.c **** *
 221:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr          Is a pointer to the timer to stop and delete.
 222:rtos/uCOS-III/Source/os_tmr.c **** *
 223:rtos/uCOS-III/Source/os_tmr.c **** *              p_err          Is a pointer to an error code.  '*p_err' will contain one of the foll
 224:rtos/uCOS-III/Source/os_tmr.c **** *
 225:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_NONE                    The call succeeded
 226:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_ILLEGAL_DEL_RUN_TIME    If you are trying to delete the ti
 227:rtos/uCOS-III/Source/os_tmr.c **** *                                                                  OSStart()
 228:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_OBJ_TYPE                If 'p_tmr' is not pointing to a ti
 229:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_OS_NOT_RUNNING          If uC/OS-III is not running yet
 230:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INACTIVE            If the timer was not created
 231:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID             If 'p_tmr' is a NULL pointer
 232:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID_STATE       The timer is in an invalid state
 233:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_ISR                 If the function was called from an
 234:rtos/uCOS-III/Source/os_tmr.c **** *
 235:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : OS_TRUE   if the timer was deleted
 236:rtos/uCOS-III/Source/os_tmr.c **** *              OS_FALSE  if not or upon an error
 237:rtos/uCOS-III/Source/os_tmr.c **** *
 238:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : none
 239:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 240:rtos/uCOS-III/Source/os_tmr.c **** */
 241:rtos/uCOS-III/Source/os_tmr.c **** 
 242:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TMR_DEL_EN > 0u)
 243:rtos/uCOS-III/Source/os_tmr.c **** CPU_BOOLEAN  OSTmrDel (OS_TMR  *p_tmr,
 244:rtos/uCOS-III/Source/os_tmr.c ****                        OS_ERR  *p_err)
 245:rtos/uCOS-III/Source/os_tmr.c **** {
 246:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN  success;
 247:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK      time;
 248:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 249:rtos/uCOS-III/Source/os_tmr.c **** 
 250:rtos/uCOS-III/Source/os_tmr.c **** 
 251:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 252:rtos/uCOS-III/Source/os_tmr.c ****     if (p_err == (OS_ERR *)0) {
 253:rtos/uCOS-III/Source/os_tmr.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 254:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 255:rtos/uCOS-III/Source/os_tmr.c ****     }
 256:rtos/uCOS-III/Source/os_tmr.c **** #endif
 257:rtos/uCOS-III/Source/os_tmr.c **** 
 258:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 259:rtos/uCOS-III/Source/os_tmr.c ****     if (OSSafetyCriticalStartFlag == OS_TRUE) {
ARM GAS  /tmp/ccfvxgcI.s 			page 6


 260:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_ILLEGAL_DEL_RUN_TIME;
 261:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 262:rtos/uCOS-III/Source/os_tmr.c ****     }
 263:rtos/uCOS-III/Source/os_tmr.c **** #endif
 264:rtos/uCOS-III/Source/os_tmr.c **** 
 265:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 266:rtos/uCOS-III/Source/os_tmr.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to call from an IS
 267:rtos/uCOS-III/Source/os_tmr.c ****        *p_err  = OS_ERR_TMR_ISR;
 268:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 269:rtos/uCOS-III/Source/os_tmr.c ****     }
 270:rtos/uCOS-III/Source/os_tmr.c **** #endif
 271:rtos/uCOS-III/Source/os_tmr.c **** 
 272:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 273:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 274:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 275:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 276:rtos/uCOS-III/Source/os_tmr.c ****     }
 277:rtos/uCOS-III/Source/os_tmr.c **** #endif
 278:rtos/uCOS-III/Source/os_tmr.c **** 
 279:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 280:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr == (OS_TMR *)0) {
 281:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 282:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 283:rtos/uCOS-III/Source/os_tmr.c ****     }
 284:rtos/uCOS-III/Source/os_tmr.c **** #endif
 285:rtos/uCOS-III/Source/os_tmr.c **** 
 286:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 287:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr->Type != OS_OBJ_TYPE_TMR) {                       /* Make sure timer was created     
 288:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 289:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 290:rtos/uCOS-III/Source/os_tmr.c ****     }
 291:rtos/uCOS-III/Source/os_tmr.c **** #endif
 292:rtos/uCOS-III/Source/os_tmr.c **** 
 293:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrLock();
 294:rtos/uCOS-III/Source/os_tmr.c **** 
 295:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_ENTER();
 296:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 297:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 298:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 299:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 300:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTickCtr + OS_DynTickGet();
 301:rtos/uCOS-III/Source/os_tmr.c **** #else
 302:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTickCtr;
 303:rtos/uCOS-III/Source/os_tmr.c **** #endif
 304:rtos/uCOS-III/Source/os_tmr.c ****     }
 305:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_EXIT();
 306:rtos/uCOS-III/Source/os_tmr.c **** 
 307:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 308:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrDbgListRemove(p_tmr);
 309:rtos/uCOS-III/Source/os_tmr.c **** #endif
 310:rtos/uCOS-III/Source/os_tmr.c **** 
 311:rtos/uCOS-III/Source/os_tmr.c ****     switch (p_tmr->State) {
 312:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 313:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_TIMEOUT:
 314:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrUnlink(p_tmr, time);                         /* Remove from the list            
 315:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrClr(p_tmr);
 316:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
ARM GAS  /tmp/ccfvxgcI.s 			page 7


 317:rtos/uCOS-III/Source/os_tmr.c ****              OSTmrQty--;                                        /* One less timer                  
 318:rtos/uCOS-III/Source/os_tmr.c **** #endif
 319:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 320:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 321:rtos/uCOS-III/Source/os_tmr.c ****              break;
 322:rtos/uCOS-III/Source/os_tmr.c **** 
 323:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_STOPPED:                              /* Timer has not started or ...    
 324:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_COMPLETED:                            /* ... timer has completed the ONE-
 325:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrClr(p_tmr);                                  /* Clear timer fields              
 326:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 327:rtos/uCOS-III/Source/os_tmr.c ****              OSTmrQty--;                                        /* One less timer                  
 328:rtos/uCOS-III/Source/os_tmr.c **** #endif
 329:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 330:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 331:rtos/uCOS-III/Source/os_tmr.c ****              break;
 332:rtos/uCOS-III/Source/os_tmr.c **** 
 333:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_UNUSED:                               /* Already deleted                 
 334:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_TMR_INACTIVE;
 335:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 336:rtos/uCOS-III/Source/os_tmr.c ****              break;
 337:rtos/uCOS-III/Source/os_tmr.c **** 
 338:rtos/uCOS-III/Source/os_tmr.c ****         default:
 339:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_TMR_INVALID_STATE;
 340:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 341:rtos/uCOS-III/Source/os_tmr.c ****              break;
 342:rtos/uCOS-III/Source/os_tmr.c ****     }
 343:rtos/uCOS-III/Source/os_tmr.c **** 
 344:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrUnlock();
 345:rtos/uCOS-III/Source/os_tmr.c **** 
 346:rtos/uCOS-III/Source/os_tmr.c ****     return (success);
 347:rtos/uCOS-III/Source/os_tmr.c **** }
 348:rtos/uCOS-III/Source/os_tmr.c **** #endif
 349:rtos/uCOS-III/Source/os_tmr.c **** 
 350:rtos/uCOS-III/Source/os_tmr.c **** 
 351:rtos/uCOS-III/Source/os_tmr.c **** /*
 352:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 353:rtos/uCOS-III/Source/os_tmr.c **** *                                    GET HOW MUCH TIME IS LEFT BEFORE A TIMER EXPIRES
 354:rtos/uCOS-III/Source/os_tmr.c **** *
 355:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called to get the number of timer increments before a timer times o
 356:rtos/uCOS-III/Source/os_tmr.c **** *
 357:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr    Is a pointer to the timer to obtain the remaining time from.
 358:rtos/uCOS-III/Source/os_tmr.c **** *
 359:rtos/uCOS-III/Source/os_tmr.c **** *              p_err    Is a pointer to an error code.  '*p_err' will contain one of the following:
 360:rtos/uCOS-III/Source/os_tmr.c **** *
 361:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_NONE               The call succeeded
 362:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_OBJ_TYPE           If 'p_tmr' is not pointing to a timer
 363:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
 364:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INACTIVE       If 'p_tmr' points to a timer that is not acti
 365:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INVALID        If 'p_tmr' is a NULL pointer
 366:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INVALID_STATE  The timer is in an invalid state
 367:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_ISR            If the call was made from an ISR
 368:rtos/uCOS-III/Source/os_tmr.c **** *
 369:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : The time remaining for the timer to expire.  The time represents 'timer' increments 
 370:rtos/uCOS-III/Source/os_tmr.c **** *
 371:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : none
 372:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 373:rtos/uCOS-III/Source/os_tmr.c **** */
ARM GAS  /tmp/ccfvxgcI.s 			page 8


 374:rtos/uCOS-III/Source/os_tmr.c **** 
 375:rtos/uCOS-III/Source/os_tmr.c **** OS_TICK  OSTmrRemainGet (OS_TMR  *p_tmr,
 376:rtos/uCOS-III/Source/os_tmr.c ****                          OS_ERR  *p_err)
 377:rtos/uCOS-III/Source/os_tmr.c **** {
 378:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
 379:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   remain;
 380:rtos/uCOS-III/Source/os_tmr.c **** 
 381:rtos/uCOS-III/Source/os_tmr.c **** 
 382:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 383:rtos/uCOS-III/Source/os_tmr.c ****     if (p_err == (OS_ERR *)0) {
 384:rtos/uCOS-III/Source/os_tmr.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 385:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 386:rtos/uCOS-III/Source/os_tmr.c ****     }
 387:rtos/uCOS-III/Source/os_tmr.c **** #endif
 388:rtos/uCOS-III/Source/os_tmr.c **** 
 389:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 390:rtos/uCOS-III/Source/os_tmr.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to call from an IS
 391:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 392:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 393:rtos/uCOS-III/Source/os_tmr.c ****     }
 394:rtos/uCOS-III/Source/os_tmr.c **** #endif
 395:rtos/uCOS-III/Source/os_tmr.c **** 
 396:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 397:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 398:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 399:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 400:rtos/uCOS-III/Source/os_tmr.c ****     }
 401:rtos/uCOS-III/Source/os_tmr.c **** #endif
 402:rtos/uCOS-III/Source/os_tmr.c **** 
 403:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 404:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr == (OS_TMR *)0) {
 405:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 406:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 407:rtos/uCOS-III/Source/os_tmr.c ****     }
 408:rtos/uCOS-III/Source/os_tmr.c **** #endif
 409:rtos/uCOS-III/Source/os_tmr.c **** 
 410:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 411:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr->Type != OS_OBJ_TYPE_TMR) {                       /* Make sure timer was created     
 412:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 413:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 414:rtos/uCOS-III/Source/os_tmr.c ****     }
 415:rtos/uCOS-III/Source/os_tmr.c **** #endif
 416:rtos/uCOS-III/Source/os_tmr.c **** 
 417:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrLock();
 418:rtos/uCOS-III/Source/os_tmr.c **** 
 419:rtos/uCOS-III/Source/os_tmr.c ****     switch (p_tmr->State) {
 420:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 421:rtos/uCOS-III/Source/os_tmr.c ****              p_tmr1 = OSTmrListPtr;
 422:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 423:rtos/uCOS-III/Source/os_tmr.c ****              while (p_tmr1 != (OS_TMR *)0) {                    /* Add up all the deltas up until t
 424:rtos/uCOS-III/Source/os_tmr.c ****                  remain += p_tmr1->Remain;
 425:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr1 == p_tmr) {
 426:rtos/uCOS-III/Source/os_tmr.c ****                      break;
 427:rtos/uCOS-III/Source/os_tmr.c ****                  }
 428:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr1 = p_tmr1->NextPtr;
 429:rtos/uCOS-III/Source/os_tmr.c ****              }
 430:rtos/uCOS-III/Source/os_tmr.c ****              remain /= OSTmrToTicksMult;
ARM GAS  /tmp/ccfvxgcI.s 			page 9


 431:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 432:rtos/uCOS-III/Source/os_tmr.c ****              break;
 433:rtos/uCOS-III/Source/os_tmr.c **** 
 434:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_STOPPED:                              /* It's assumed that the timer has 
 435:rtos/uCOS-III/Source/os_tmr.c ****              if (p_tmr->Opt == OS_OPT_TMR_PERIODIC) {
 436:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr->Dly == 0u) {
 437:rtos/uCOS-III/Source/os_tmr.c ****                      remain = p_tmr->Period / OSTmrToTicksMult;
 438:rtos/uCOS-III/Source/os_tmr.c ****                  } else {
 439:rtos/uCOS-III/Source/os_tmr.c ****                      remain = p_tmr->Dly / OSTmrToTicksMult;
 440:rtos/uCOS-III/Source/os_tmr.c ****                  }
 441:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 442:rtos/uCOS-III/Source/os_tmr.c ****                  remain = p_tmr->Dly / OSTmrToTicksMult;
 443:rtos/uCOS-III/Source/os_tmr.c ****              }
 444:rtos/uCOS-III/Source/os_tmr.c ****             *p_err = OS_ERR_NONE;
 445:rtos/uCOS-III/Source/os_tmr.c ****              break;
 446:rtos/uCOS-III/Source/os_tmr.c **** 
 447:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_TIMEOUT:                              /* Within a callback, timers are in
 448:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_COMPLETED:                            /* Only ONE-SHOT timers can be in t
 449:rtos/uCOS-III/Source/os_tmr.c ****             *p_err  = OS_ERR_NONE;
 450:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 451:rtos/uCOS-III/Source/os_tmr.c ****              break;
 452:rtos/uCOS-III/Source/os_tmr.c **** 
 453:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_UNUSED:
 454:rtos/uCOS-III/Source/os_tmr.c ****             *p_err  = OS_ERR_TMR_INACTIVE;
 455:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 456:rtos/uCOS-III/Source/os_tmr.c ****              break;
 457:rtos/uCOS-III/Source/os_tmr.c **** 
 458:rtos/uCOS-III/Source/os_tmr.c ****         default:
 459:rtos/uCOS-III/Source/os_tmr.c ****             *p_err = OS_ERR_TMR_INVALID_STATE;
 460:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 461:rtos/uCOS-III/Source/os_tmr.c ****              break;
 462:rtos/uCOS-III/Source/os_tmr.c ****     }
 463:rtos/uCOS-III/Source/os_tmr.c **** 
 464:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrUnlock();
 465:rtos/uCOS-III/Source/os_tmr.c **** 
 466:rtos/uCOS-III/Source/os_tmr.c ****     return (remain);
 467:rtos/uCOS-III/Source/os_tmr.c **** }
 468:rtos/uCOS-III/Source/os_tmr.c **** 
 469:rtos/uCOS-III/Source/os_tmr.c **** 
 470:rtos/uCOS-III/Source/os_tmr.c **** /*
 471:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 472:rtos/uCOS-III/Source/os_tmr.c **** *                                                    SET A TIMER
 473:rtos/uCOS-III/Source/os_tmr.c **** *
 474:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called by your application code to set a timer.
 475:rtos/uCOS-III/Source/os_tmr.c **** *
 476:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr           Is a pointer to a timer control block
 477:rtos/uCOS-III/Source/os_tmr.c **** *
 478:rtos/uCOS-III/Source/os_tmr.c **** *              dly             Initial delay.
 479:rtos/uCOS-III/Source/os_tmr.c **** *                              If the timer is configured for ONE-SHOT mode, this is the timeout us
 480:rtos/uCOS-III/Source/os_tmr.c **** *                              If the timer is configured for PERIODIC mode, this is the first time
 481:rtos/uCOS-III/Source/os_tmr.c **** *                              before the timer starts entering periodic mode
 482:rtos/uCOS-III/Source/os_tmr.c **** *
 483:rtos/uCOS-III/Source/os_tmr.c **** *              period          The 'period' being repeated for the timer.
 484:rtos/uCOS-III/Source/os_tmr.c **** *                              If you specified 'OS_OPT_TMR_PERIODIC' as an option, when the timer 
 485:rtos/uCOS-III/Source/os_tmr.c **** *                              automatically restart with the same period.
 486:rtos/uCOS-III/Source/os_tmr.c **** *
 487:rtos/uCOS-III/Source/os_tmr.c **** *              p_callback      Is a pointer to a callback function that will be called when the tim
ARM GAS  /tmp/ccfvxgcI.s 			page 10


 488:rtos/uCOS-III/Source/os_tmr.c **** *                              callback function must be declared as follows:
 489:rtos/uCOS-III/Source/os_tmr.c **** *
 490:rtos/uCOS-III/Source/os_tmr.c **** *                                  void  MyCallback (OS_TMR *p_tmr, void *p_arg);
 491:rtos/uCOS-III/Source/os_tmr.c **** *
 492:rtos/uCOS-III/Source/os_tmr.c **** *              p_callback_arg  Is an argument (a pointer) that is passed to the callback function w
 493:rtos/uCOS-III/Source/os_tmr.c **** *
 494:rtos/uCOS-III/Source/os_tmr.c **** *              p_err           Is a pointer to an error code.  '*p_err' will contain one of the fol
 495:rtos/uCOS-III/Source/os_tmr.c **** *
 496:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_NONE                    The timer was configured as expect
 497:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_OBJ_TYPE                If the object type is invalid
 498:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_OS_NOT_RUNNING          If uC/OS-III is not running yet
 499:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID             If 'p_tmr' is a NULL pointer or in
 500:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID_CALLBACK    you specified an invalid callback 
 501:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID_DLY         You specified an invalid delay
 502:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_INVALID_PERIOD      You specified an invalid period
 503:rtos/uCOS-III/Source/os_tmr.c **** *                                 OS_ERR_TMR_ISR                 If the call was made from an ISR
 504:rtos/uCOS-III/Source/os_tmr.c **** *
 505:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
 506:rtos/uCOS-III/Source/os_tmr.c **** *
 507:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function can be called on a running timer. The change to the delay and perio
 508:rtos/uCOS-III/Source/os_tmr.c **** *                 take effect after the current period or delay has passed. Change to the callback 
 509:rtos/uCOS-III/Source/os_tmr.c **** *                 effect immediately.
 510:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 511:rtos/uCOS-III/Source/os_tmr.c **** */
 512:rtos/uCOS-III/Source/os_tmr.c **** 
 513:rtos/uCOS-III/Source/os_tmr.c **** void  OSTmrSet (OS_TMR               *p_tmr,
 514:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TICK               dly,
 515:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TICK               period,
 516:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TMR_CALLBACK_PTR   p_callback,
 517:rtos/uCOS-III/Source/os_tmr.c ****                 void                 *p_callback_arg,
 518:rtos/uCOS-III/Source/os_tmr.c ****                 OS_ERR               *p_err)
 519:rtos/uCOS-III/Source/os_tmr.c **** {
 520:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 521:rtos/uCOS-III/Source/os_tmr.c ****     if (p_err == (OS_ERR *)0) {
 522:rtos/uCOS-III/Source/os_tmr.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 523:rtos/uCOS-III/Source/os_tmr.c ****         return;
 524:rtos/uCOS-III/Source/os_tmr.c ****     }
 525:rtos/uCOS-III/Source/os_tmr.c **** #endif
 526:rtos/uCOS-III/Source/os_tmr.c **** 
 527:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 528:rtos/uCOS-III/Source/os_tmr.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to call from an IS
 529:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 530:rtos/uCOS-III/Source/os_tmr.c ****         return;
 531:rtos/uCOS-III/Source/os_tmr.c ****     }
 532:rtos/uCOS-III/Source/os_tmr.c **** #endif
 533:rtos/uCOS-III/Source/os_tmr.c **** 
 534:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 535:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 536:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 537:rtos/uCOS-III/Source/os_tmr.c ****         return;
 538:rtos/uCOS-III/Source/os_tmr.c ****     }
 539:rtos/uCOS-III/Source/os_tmr.c **** #endif
 540:rtos/uCOS-III/Source/os_tmr.c **** 
 541:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 542:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr == (OS_TMR *)0) {                                 /* Validate 'p_tmr'                
 543:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 544:rtos/uCOS-III/Source/os_tmr.c ****         return;
ARM GAS  /tmp/ccfvxgcI.s 			page 11


 545:rtos/uCOS-III/Source/os_tmr.c ****     }
 546:rtos/uCOS-III/Source/os_tmr.c **** #endif
 547:rtos/uCOS-III/Source/os_tmr.c **** 
 548:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 549:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr->Type != OS_OBJ_TYPE_TMR) {                       /* Make sure timer was created     
 550:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 551:rtos/uCOS-III/Source/os_tmr.c ****         return;
 552:rtos/uCOS-III/Source/os_tmr.c ****     }
 553:rtos/uCOS-III/Source/os_tmr.c **** #endif
 554:rtos/uCOS-III/Source/os_tmr.c **** 
 555:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 556:rtos/uCOS-III/Source/os_tmr.c ****     switch (p_tmr->Opt) {
 557:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_PERIODIC:
 558:rtos/uCOS-III/Source/os_tmr.c ****              if (period == 0u) {
 559:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_PERIOD;
 560:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 561:rtos/uCOS-III/Source/os_tmr.c ****              }
 562:rtos/uCOS-III/Source/os_tmr.c **** 
 563:rtos/uCOS-III/Source/os_tmr.c ****              if (p_callback == (OS_TMR_CALLBACK_PTR)0) {        /* No point in a periodic timer wit
 564:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_CALLBACK;
 565:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 566:rtos/uCOS-III/Source/os_tmr.c ****              }
 567:rtos/uCOS-III/Source/os_tmr.c ****              break;
 568:rtos/uCOS-III/Source/os_tmr.c **** 
 569:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_ONE_SHOT:
 570:rtos/uCOS-III/Source/os_tmr.c ****              if (dly == 0u) {
 571:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_DLY;
 572:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 573:rtos/uCOS-III/Source/os_tmr.c ****              }
 574:rtos/uCOS-III/Source/os_tmr.c ****              break;
 575:rtos/uCOS-III/Source/os_tmr.c **** 
 576:rtos/uCOS-III/Source/os_tmr.c ****         default:
 577:rtos/uCOS-III/Source/os_tmr.c ****             *p_err = OS_ERR_TMR_INVALID;
 578:rtos/uCOS-III/Source/os_tmr.c ****              return;
 579:rtos/uCOS-III/Source/os_tmr.c ****     }
 580:rtos/uCOS-III/Source/os_tmr.c **** #endif
 581:rtos/uCOS-III/Source/os_tmr.c **** 
 582:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrLock();
 583:rtos/uCOS-III/Source/os_tmr.c **** 
 584:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Dly            = dly    * OSTmrToTicksMult;             /* Convert Timer Delay  to ticks
 585:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         = period * OSTmrToTicksMult;             /* Convert Timer Period to ticks
 586:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    = p_callback;
 587:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg = p_callback_arg;
 588:rtos/uCOS-III/Source/os_tmr.c **** 
 589:rtos/uCOS-III/Source/os_tmr.c ****    *p_err                 = OS_ERR_NONE;
 590:rtos/uCOS-III/Source/os_tmr.c **** 
 591:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrUnlock();
 592:rtos/uCOS-III/Source/os_tmr.c **** }
 593:rtos/uCOS-III/Source/os_tmr.c **** 
 594:rtos/uCOS-III/Source/os_tmr.c **** 
 595:rtos/uCOS-III/Source/os_tmr.c **** /*
 596:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 597:rtos/uCOS-III/Source/os_tmr.c **** *                                                   START A TIMER
 598:rtos/uCOS-III/Source/os_tmr.c **** *
 599:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called by your application code to start a timer.
 600:rtos/uCOS-III/Source/os_tmr.c **** *
 601:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr    Is a pointer to an OS_TMR
ARM GAS  /tmp/ccfvxgcI.s 			page 12


 602:rtos/uCOS-III/Source/os_tmr.c **** *
 603:rtos/uCOS-III/Source/os_tmr.c **** *              p_err    Is a pointer to an error code.  '*p_err' will contain one of the following:
 604:rtos/uCOS-III/Source/os_tmr.c **** *
 605:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_NONE                The timer was started
 606:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_OBJ_TYPE            If 'p_tmr' is not pointing to a timer
 607:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_OS_NOT_RUNNING      If uC/OS-III is not running yet
 608:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INACTIVE        If the timer was not created
 609:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INVALID         If 'p_tmr' is a NULL pointer
 610:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INVALID_STATE   The timer is in an invalid state
 611:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_ISR             If the call was made from an ISR
 612:rtos/uCOS-III/Source/os_tmr.c **** *
 613:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : OS_TRUE   is the timer was started
 614:rtos/uCOS-III/Source/os_tmr.c **** *              OS_FALSE  if not or upon an error
 615:rtos/uCOS-III/Source/os_tmr.c **** *
 616:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) When starting/restarting a timer, regardless if it is in PERIODIC or ONE-SHOT mod
 617:rtos/uCOS-III/Source/os_tmr.c **** *                 linked to the timer list with the OS_OPT_LINK_DLY option. This option sets the in
 618:rtos/uCOS-III/Source/os_tmr.c **** *                 time for the timer. For timers in PERIODIC mode, subsequent expiration times are 
 619:rtos/uCOS-III/Source/os_tmr.c **** *                 the OS_TmrTask().
 620:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 621:rtos/uCOS-III/Source/os_tmr.c **** */
 622:rtos/uCOS-III/Source/os_tmr.c **** 
 623:rtos/uCOS-III/Source/os_tmr.c **** CPU_BOOLEAN  OSTmrStart (OS_TMR  *p_tmr,
 624:rtos/uCOS-III/Source/os_tmr.c ****                          OS_ERR  *p_err)
 625:rtos/uCOS-III/Source/os_tmr.c **** {
 626:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN  success;
 627:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK      time;
 628:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 629:rtos/uCOS-III/Source/os_tmr.c **** 
 630:rtos/uCOS-III/Source/os_tmr.c **** 
 631:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 632:rtos/uCOS-III/Source/os_tmr.c ****     if (p_err == (OS_ERR *)0) {
 633:rtos/uCOS-III/Source/os_tmr.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 634:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 635:rtos/uCOS-III/Source/os_tmr.c ****     }
 636:rtos/uCOS-III/Source/os_tmr.c **** #endif
 637:rtos/uCOS-III/Source/os_tmr.c **** 
 638:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 639:rtos/uCOS-III/Source/os_tmr.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to call from an IS
 640:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 641:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 642:rtos/uCOS-III/Source/os_tmr.c ****     }
 643:rtos/uCOS-III/Source/os_tmr.c **** #endif
 644:rtos/uCOS-III/Source/os_tmr.c **** 
 645:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 646:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 647:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 648:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 649:rtos/uCOS-III/Source/os_tmr.c ****     }
 650:rtos/uCOS-III/Source/os_tmr.c **** #endif
 651:rtos/uCOS-III/Source/os_tmr.c **** 
 652:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 653:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr == (OS_TMR *)0) {
 654:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 655:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 656:rtos/uCOS-III/Source/os_tmr.c ****     }
 657:rtos/uCOS-III/Source/os_tmr.c **** #endif
 658:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 13


 659:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 660:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr->Type != OS_OBJ_TYPE_TMR) {                       /* Make sure timer was created     
 661:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 662:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 663:rtos/uCOS-III/Source/os_tmr.c ****     }
 664:rtos/uCOS-III/Source/os_tmr.c **** #endif
 665:rtos/uCOS-III/Source/os_tmr.c **** 
 666:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrLock();
 667:rtos/uCOS-III/Source/os_tmr.c **** 
 668:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_ENTER();
 669:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 670:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 671:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 672:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 673:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTickCtr + OS_DynTickGet();
 674:rtos/uCOS-III/Source/os_tmr.c **** #else
 675:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTickCtr;
 676:rtos/uCOS-III/Source/os_tmr.c **** #endif
 677:rtos/uCOS-III/Source/os_tmr.c ****     }
 678:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_EXIT();
 679:rtos/uCOS-III/Source/os_tmr.c **** 
 680:rtos/uCOS-III/Source/os_tmr.c **** 
 681:rtos/uCOS-III/Source/os_tmr.c ****     switch (p_tmr->State) {
 682:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:                              /* Restart the timer               
 683:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_TIMEOUT:
 684:rtos/uCOS-III/Source/os_tmr.c ****              p_tmr->State = OS_TMR_STATE_RUNNING;
 685:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrUnlink(p_tmr, time);                         /* Remove from current position in 
 686:rtos/uCOS-III/Source/os_tmr.c ****              if (p_tmr->Dly == 0u) {
 687:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 688:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 689:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Dly;
 690:rtos/uCOS-III/Source/os_tmr.c ****              }
 691:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrLink(p_tmr, time);                           /* Add timer to List               
 692:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 693:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 694:rtos/uCOS-III/Source/os_tmr.c ****              break;
 695:rtos/uCOS-III/Source/os_tmr.c **** 
 696:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_STOPPED:                              /* Start the timer                 
 697:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_COMPLETED:
 698:rtos/uCOS-III/Source/os_tmr.c ****              p_tmr->State = OS_TMR_STATE_RUNNING;
 699:rtos/uCOS-III/Source/os_tmr.c ****              if (p_tmr->Dly == 0u) {
 700:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 701:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 702:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Dly;
 703:rtos/uCOS-III/Source/os_tmr.c ****              }
 704:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrLink(p_tmr, time);                           /* Add timer to List               
 705:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 706:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 707:rtos/uCOS-III/Source/os_tmr.c ****              break;
 708:rtos/uCOS-III/Source/os_tmr.c **** 
 709:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_UNUSED:                               /* Timer not created               
 710:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_TMR_INACTIVE;
 711:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 712:rtos/uCOS-III/Source/os_tmr.c ****              break;
 713:rtos/uCOS-III/Source/os_tmr.c **** 
 714:rtos/uCOS-III/Source/os_tmr.c ****         default:
 715:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_TMR_INVALID_STATE;
ARM GAS  /tmp/ccfvxgcI.s 			page 14


 716:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 717:rtos/uCOS-III/Source/os_tmr.c ****              break;
 718:rtos/uCOS-III/Source/os_tmr.c ****     }
 719:rtos/uCOS-III/Source/os_tmr.c **** 
 720:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrUnlock();
 721:rtos/uCOS-III/Source/os_tmr.c **** 
 722:rtos/uCOS-III/Source/os_tmr.c ****     return (success);
 723:rtos/uCOS-III/Source/os_tmr.c **** }
 724:rtos/uCOS-III/Source/os_tmr.c **** 
 725:rtos/uCOS-III/Source/os_tmr.c **** 
 726:rtos/uCOS-III/Source/os_tmr.c **** /*
 727:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 728:rtos/uCOS-III/Source/os_tmr.c **** *                                           FIND OUT WHAT STATE A TIMER IS IN
 729:rtos/uCOS-III/Source/os_tmr.c **** *
 730:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called to determine what state the timer is in:
 731:rtos/uCOS-III/Source/os_tmr.c **** *
 732:rtos/uCOS-III/Source/os_tmr.c **** *                  OS_TMR_STATE_UNUSED     the timer has not been created
 733:rtos/uCOS-III/Source/os_tmr.c **** *                  OS_TMR_STATE_STOPPED    the timer has been created but has not been started or h
 734:rtos/uCOS-III/Source/os_tmr.c **** *                  OS_TMR_STATE_COMPLETED  the timer is in ONE-SHOT mode and has completed it's tim
 735:rtos/uCOS-III/Source/os_tmr.c **** *                  OS_TMR_SATE_RUNNING     the timer is currently running
 736:rtos/uCOS-III/Source/os_tmr.c **** *
 737:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr    Is a pointer to the desired timer
 738:rtos/uCOS-III/Source/os_tmr.c **** *
 739:rtos/uCOS-III/Source/os_tmr.c **** *              p_err    Is a pointer to an error code.  '*p_err' will contain one of the following:
 740:rtos/uCOS-III/Source/os_tmr.c **** *
 741:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_NONE               The return value reflects the state of the ti
 742:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_OBJ_TYPE           If 'p_tmr' is not pointing to a timer
 743:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
 744:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INVALID        If 'p_tmr' is a NULL pointer
 745:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_INVALID_STATE  If the timer is not in a valid state
 746:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_ISR            If the call was made from an ISR
 747:rtos/uCOS-III/Source/os_tmr.c **** *
 748:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : The current state of the timer (see description).
 749:rtos/uCOS-III/Source/os_tmr.c **** *
 750:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : none
 751:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 752:rtos/uCOS-III/Source/os_tmr.c **** */
 753:rtos/uCOS-III/Source/os_tmr.c **** 
 754:rtos/uCOS-III/Source/os_tmr.c **** OS_STATE  OSTmrStateGet (OS_TMR  *p_tmr,
 755:rtos/uCOS-III/Source/os_tmr.c ****                          OS_ERR  *p_err)
 756:rtos/uCOS-III/Source/os_tmr.c **** {
 757:rtos/uCOS-III/Source/os_tmr.c ****     OS_STATE  state;
 758:rtos/uCOS-III/Source/os_tmr.c **** 
 759:rtos/uCOS-III/Source/os_tmr.c **** 
 760:rtos/uCOS-III/Source/os_tmr.c **** 
 761:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 762:rtos/uCOS-III/Source/os_tmr.c ****     if (p_err == (OS_ERR *)0) {
 763:rtos/uCOS-III/Source/os_tmr.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 764:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 765:rtos/uCOS-III/Source/os_tmr.c ****     }
 766:rtos/uCOS-III/Source/os_tmr.c **** #endif
 767:rtos/uCOS-III/Source/os_tmr.c **** 
 768:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 769:rtos/uCOS-III/Source/os_tmr.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to call from an IS
 770:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 771:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 772:rtos/uCOS-III/Source/os_tmr.c ****     }
ARM GAS  /tmp/ccfvxgcI.s 			page 15


 773:rtos/uCOS-III/Source/os_tmr.c **** #endif
 774:rtos/uCOS-III/Source/os_tmr.c **** 
 775:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 776:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 777:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 778:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 779:rtos/uCOS-III/Source/os_tmr.c ****     }
 780:rtos/uCOS-III/Source/os_tmr.c **** #endif
 781:rtos/uCOS-III/Source/os_tmr.c **** 
 782:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 783:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr == (OS_TMR *)0) {
 784:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 785:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 786:rtos/uCOS-III/Source/os_tmr.c ****     }
 787:rtos/uCOS-III/Source/os_tmr.c **** #endif
 788:rtos/uCOS-III/Source/os_tmr.c **** 
 789:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 790:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr->Type != OS_OBJ_TYPE_TMR) {                       /* Make sure timer was created     
 791:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 792:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 793:rtos/uCOS-III/Source/os_tmr.c ****     }
 794:rtos/uCOS-III/Source/os_tmr.c **** #endif
 795:rtos/uCOS-III/Source/os_tmr.c **** 
 796:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrLock();
 797:rtos/uCOS-III/Source/os_tmr.c **** 
 798:rtos/uCOS-III/Source/os_tmr.c ****     state = p_tmr->State;
 799:rtos/uCOS-III/Source/os_tmr.c ****     switch (state) {
 800:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_UNUSED:
 801:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_STOPPED:
 802:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_COMPLETED:
 803:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 804:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_TIMEOUT:
 805:rtos/uCOS-III/Source/os_tmr.c ****             *p_err = OS_ERR_NONE;
 806:rtos/uCOS-III/Source/os_tmr.c ****              break;
 807:rtos/uCOS-III/Source/os_tmr.c **** 
 808:rtos/uCOS-III/Source/os_tmr.c ****         default:
 809:rtos/uCOS-III/Source/os_tmr.c ****             *p_err = OS_ERR_TMR_INVALID_STATE;
 810:rtos/uCOS-III/Source/os_tmr.c ****              break;
 811:rtos/uCOS-III/Source/os_tmr.c ****     }
 812:rtos/uCOS-III/Source/os_tmr.c **** 
 813:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrUnlock();
 814:rtos/uCOS-III/Source/os_tmr.c **** 
 815:rtos/uCOS-III/Source/os_tmr.c ****     return (state);
 816:rtos/uCOS-III/Source/os_tmr.c **** }
 817:rtos/uCOS-III/Source/os_tmr.c **** 
 818:rtos/uCOS-III/Source/os_tmr.c **** 
 819:rtos/uCOS-III/Source/os_tmr.c **** /*
 820:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 821:rtos/uCOS-III/Source/os_tmr.c **** *                                                    STOP A TIMER
 822:rtos/uCOS-III/Source/os_tmr.c **** *
 823:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called by your application code to stop a timer.
 824:rtos/uCOS-III/Source/os_tmr.c **** *
 825:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr          Is a pointer to the timer to stop.
 826:rtos/uCOS-III/Source/os_tmr.c **** *
 827:rtos/uCOS-III/Source/os_tmr.c **** *              opt            Allows you to specify an option to this functions which can be:
 828:rtos/uCOS-III/Source/os_tmr.c **** *
 829:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_OPT_TMR_NONE            Do nothing special but stop the timer
ARM GAS  /tmp/ccfvxgcI.s 			page 16


 830:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_OPT_TMR_CALLBACK        Execute the callback function, pass it t
 831:rtos/uCOS-III/Source/os_tmr.c **** *                                                          specified when the timer was created.
 832:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_OPT_TMR_CALLBACK_ARG    Execute the callback function, pass it t
 833:rtos/uCOS-III/Source/os_tmr.c **** *                                                          specified in THIS function call
 834:rtos/uCOS-III/Source/os_tmr.c **** *
 835:rtos/uCOS-III/Source/os_tmr.c **** *              callback_arg   Is a pointer to a 'new' callback argument that can be passed to the c
 836:rtos/uCOS-III/Source/os_tmr.c **** *                               instead of the timer's callback argument.  In other words, use 'cal
 837:rtos/uCOS-III/Source/os_tmr.c **** *                               THIS function INSTEAD of p_tmr->OSTmrCallbackArg
 838:rtos/uCOS-III/Source/os_tmr.c **** *
 839:rtos/uCOS-III/Source/os_tmr.c **** *              p_err          Is a pointer to an error code.  '*p_err' will contain one of the foll
 840:rtos/uCOS-III/Source/os_tmr.c **** *
 841:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_NONE                The timer has stopped
 842:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_OBJ_TYPE            If 'p_tmr' is not pointing to a timer
 843:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_OPT_INVALID         If you specified an invalid option for '
 844:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_OS_NOT_RUNNING      If uC/OS-III is not running yet
 845:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_TMR_INACTIVE        If the timer was not created
 846:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_TMR_INVALID         If 'p_tmr' is a NULL pointer
 847:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_TMR_INVALID_STATE   The timer is in an invalid state
 848:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_TMR_ISR             If the function was called from an ISR
 849:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_TMR_NO_CALLBACK     If the timer does not have a callback fu
 850:rtos/uCOS-III/Source/os_tmr.c **** *                               OS_ERR_TMR_STOPPED         If the timer was already stopped
 851:rtos/uCOS-III/Source/os_tmr.c **** *
 852:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : OS_TRUE   If we stopped the timer (if the timer is already stopped, we also return O
 853:rtos/uCOS-III/Source/os_tmr.c **** *              OS_FALSE  If not
 854:rtos/uCOS-III/Source/os_tmr.c **** *
 855:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : none
 856:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 857:rtos/uCOS-III/Source/os_tmr.c **** */
 858:rtos/uCOS-III/Source/os_tmr.c **** 
 859:rtos/uCOS-III/Source/os_tmr.c **** CPU_BOOLEAN  OSTmrStop (OS_TMR  *p_tmr,
 860:rtos/uCOS-III/Source/os_tmr.c ****                         OS_OPT   opt,
 861:rtos/uCOS-III/Source/os_tmr.c ****                         void    *p_callback_arg,
 862:rtos/uCOS-III/Source/os_tmr.c ****                         OS_ERR  *p_err)
 863:rtos/uCOS-III/Source/os_tmr.c **** {
 864:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR_CALLBACK_PTR  p_fnct;
 865:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN          success;
 866:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK              time;
 867:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 868:rtos/uCOS-III/Source/os_tmr.c **** 
 869:rtos/uCOS-III/Source/os_tmr.c **** 
 870:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 871:rtos/uCOS-III/Source/os_tmr.c ****     if (p_err == (OS_ERR *)0) {
 872:rtos/uCOS-III/Source/os_tmr.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 873:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 874:rtos/uCOS-III/Source/os_tmr.c ****     }
 875:rtos/uCOS-III/Source/os_tmr.c **** #endif
 876:rtos/uCOS-III/Source/os_tmr.c **** 
 877:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 878:rtos/uCOS-III/Source/os_tmr.c ****     if (OSIntNestingCtr > 0u) {                                 /* See if trying to call from an IS
 879:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 880:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 881:rtos/uCOS-III/Source/os_tmr.c ****     }
 882:rtos/uCOS-III/Source/os_tmr.c **** #endif
 883:rtos/uCOS-III/Source/os_tmr.c **** 
 884:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 885:rtos/uCOS-III/Source/os_tmr.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 886:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
ARM GAS  /tmp/ccfvxgcI.s 			page 17


 887:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 888:rtos/uCOS-III/Source/os_tmr.c ****     }
 889:rtos/uCOS-III/Source/os_tmr.c **** #endif
 890:rtos/uCOS-III/Source/os_tmr.c **** 
 891:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 892:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr == (OS_TMR *)0) {
 893:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 894:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 895:rtos/uCOS-III/Source/os_tmr.c ****     }
 896:rtos/uCOS-III/Source/os_tmr.c **** #endif
 897:rtos/uCOS-III/Source/os_tmr.c **** 
 898:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 899:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr->Type != OS_OBJ_TYPE_TMR) {                       /* Make sure timer was created     
 900:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 901:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 902:rtos/uCOS-III/Source/os_tmr.c ****     }
 903:rtos/uCOS-III/Source/os_tmr.c **** #endif
 904:rtos/uCOS-III/Source/os_tmr.c **** 
 905:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrLock();
 906:rtos/uCOS-III/Source/os_tmr.c **** 
 907:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_ENTER();
 908:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 909:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 910:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 911:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 912:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTickCtr + OS_DynTickGet();
 913:rtos/uCOS-III/Source/os_tmr.c **** #else
 914:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTickCtr;
 915:rtos/uCOS-III/Source/os_tmr.c **** #endif
 916:rtos/uCOS-III/Source/os_tmr.c ****     }
 917:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_EXIT();
 918:rtos/uCOS-III/Source/os_tmr.c **** 
 919:rtos/uCOS-III/Source/os_tmr.c ****     switch (p_tmr->State) {
 920:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 921:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_TIMEOUT:
 922:rtos/uCOS-III/Source/os_tmr.c ****              p_tmr->State = OS_TMR_STATE_STOPPED;               /* Ensure that any callbacks see th
 923:rtos/uCOS-III/Source/os_tmr.c ****              switch (opt) {
 924:rtos/uCOS-III/Source/os_tmr.c ****                  case OS_OPT_TMR_CALLBACK:
 925:rtos/uCOS-III/Source/os_tmr.c ****                       OS_TmrUnlink(p_tmr, time);                /* Remove from timer list          
 926:rtos/uCOS-III/Source/os_tmr.c ****                       p_fnct = p_tmr->CallbackPtr;              /* Execute callback function ...   
 927:rtos/uCOS-III/Source/os_tmr.c ****                       if (p_fnct != (OS_TMR_CALLBACK_PTR)0) {   /* ... if available                
 928:rtos/uCOS-III/Source/os_tmr.c ****                         (*p_fnct)(p_tmr, p_tmr->CallbackPtrArg);/* Use callback arg when timer was 
 929:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 930:rtos/uCOS-III/Source/os_tmr.c ****                          *p_err = OS_ERR_TMR_NO_CALLBACK;
 931:rtos/uCOS-III/Source/os_tmr.c ****                       }
 932:rtos/uCOS-III/Source/os_tmr.c ****                       break;
 933:rtos/uCOS-III/Source/os_tmr.c **** 
 934:rtos/uCOS-III/Source/os_tmr.c ****                  case OS_OPT_TMR_CALLBACK_ARG:
 935:rtos/uCOS-III/Source/os_tmr.c ****                       OS_TmrUnlink(p_tmr, time);                /* Remove from timer list          
 936:rtos/uCOS-III/Source/os_tmr.c ****                       p_fnct = p_tmr->CallbackPtr;              /* Execute callback function if ava
 937:rtos/uCOS-III/Source/os_tmr.c ****                       if (p_fnct != (OS_TMR_CALLBACK_PTR)0) {
 938:rtos/uCOS-III/Source/os_tmr.c ****                         (*p_fnct)(p_tmr, p_callback_arg);       /* .. using the 'callback_arg' prov
 939:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 940:rtos/uCOS-III/Source/os_tmr.c ****                          *p_err = OS_ERR_TMR_NO_CALLBACK;
 941:rtos/uCOS-III/Source/os_tmr.c ****                       }
 942:rtos/uCOS-III/Source/os_tmr.c ****                       break;
 943:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 18


 944:rtos/uCOS-III/Source/os_tmr.c ****                  case OS_OPT_TMR_NONE:
 945:rtos/uCOS-III/Source/os_tmr.c ****                       OS_TmrUnlink(p_tmr, time);                /* Remove from timer list          
 946:rtos/uCOS-III/Source/os_tmr.c ****                       break;
 947:rtos/uCOS-III/Source/os_tmr.c **** 
 948:rtos/uCOS-III/Source/os_tmr.c ****                  default:
 949:rtos/uCOS-III/Source/os_tmr.c ****                       OS_TmrUnlock();
 950:rtos/uCOS-III/Source/os_tmr.c ****                      *p_err = OS_ERR_OPT_INVALID;
 951:rtos/uCOS-III/Source/os_tmr.c ****                       return (OS_FALSE);
 952:rtos/uCOS-III/Source/os_tmr.c ****              }
 953:rtos/uCOS-III/Source/os_tmr.c ****             *p_err        = OS_ERR_NONE;
 954:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_TRUE;
 955:rtos/uCOS-III/Source/os_tmr.c ****              break;
 956:rtos/uCOS-III/Source/os_tmr.c **** 
 957:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_COMPLETED:                            /* Timer has already completed the 
 958:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_STOPPED:                              /* ... timer has not started yet.  
 959:rtos/uCOS-III/Source/os_tmr.c ****              p_tmr->State = OS_TMR_STATE_STOPPED;
 960:rtos/uCOS-III/Source/os_tmr.c ****             *p_err        = OS_ERR_TMR_STOPPED;
 961:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_TRUE;
 962:rtos/uCOS-III/Source/os_tmr.c ****              break;
 963:rtos/uCOS-III/Source/os_tmr.c **** 
 964:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_UNUSED:                               /* Timer was not created           
 965:rtos/uCOS-III/Source/os_tmr.c ****             *p_err        = OS_ERR_TMR_INACTIVE;
 966:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_FALSE;
 967:rtos/uCOS-III/Source/os_tmr.c ****              break;
 968:rtos/uCOS-III/Source/os_tmr.c **** 
 969:rtos/uCOS-III/Source/os_tmr.c ****         default:
 970:rtos/uCOS-III/Source/os_tmr.c ****             *p_err        = OS_ERR_TMR_INVALID_STATE;
 971:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_FALSE;
 972:rtos/uCOS-III/Source/os_tmr.c ****              break;
 973:rtos/uCOS-III/Source/os_tmr.c ****     }
 974:rtos/uCOS-III/Source/os_tmr.c **** 
 975:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrUnlock();
 976:rtos/uCOS-III/Source/os_tmr.c **** 
 977:rtos/uCOS-III/Source/os_tmr.c ****     return (success);
 978:rtos/uCOS-III/Source/os_tmr.c **** }
 979:rtos/uCOS-III/Source/os_tmr.c **** 
 980:rtos/uCOS-III/Source/os_tmr.c **** 
 981:rtos/uCOS-III/Source/os_tmr.c **** /*
 982:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 983:rtos/uCOS-III/Source/os_tmr.c **** *                                                 CLEAR TIMER FIELDS
 984:rtos/uCOS-III/Source/os_tmr.c **** *
 985:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called to clear all timer fields.
 986:rtos/uCOS-III/Source/os_tmr.c **** *
 987:rtos/uCOS-III/Source/os_tmr.c **** * Argument(s): p_tmr    Is a pointer to the timer to clear
 988:rtos/uCOS-III/Source/os_tmr.c **** *              -----
 989:rtos/uCOS-III/Source/os_tmr.c **** *
 990:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
 991:rtos/uCOS-III/Source/os_tmr.c **** *
 992:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 993:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
 994:rtos/uCOS-III/Source/os_tmr.c **** */
 995:rtos/uCOS-III/Source/os_tmr.c **** 
 996:rtos/uCOS-III/Source/os_tmr.c **** void  OS_TmrClr (OS_TMR  *p_tmr)
 997:rtos/uCOS-III/Source/os_tmr.c **** {
 998:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->State          = OS_TMR_STATE_UNUSED;                /* Clear timer fields              
 999:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_OBJ_TYPE_REQ > 0u)
1000:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Type           = OS_OBJ_TYPE_NONE;
ARM GAS  /tmp/ccfvxgcI.s 			page 19


1001:rtos/uCOS-III/Source/os_tmr.c **** #endif
1002:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1003:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NamePtr        = (CPU_CHAR *)((void *)"?TMR");
1004:rtos/uCOS-III/Source/os_tmr.c **** #endif
1005:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Dly            =                      0u;
1006:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Remain         =                      0u;
1007:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         =                      0u;
1008:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Opt            =                      0u;
1009:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    = (OS_TMR_CALLBACK_PTR)0;
1010:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg = (void              *)0;
1011:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NextPtr        = (OS_TMR            *)0;
1012:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->PrevPtr        = (OS_TMR            *)0;
1013:rtos/uCOS-III/Source/os_tmr.c **** }
1014:rtos/uCOS-III/Source/os_tmr.c **** 
1015:rtos/uCOS-III/Source/os_tmr.c **** 
1016:rtos/uCOS-III/Source/os_tmr.c **** /*
1017:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1018:rtos/uCOS-III/Source/os_tmr.c **** *                                         ADD/REMOVE TIMER TO/FROM DEBUG TABLE
1019:rtos/uCOS-III/Source/os_tmr.c **** *
1020:rtos/uCOS-III/Source/os_tmr.c **** * Description: These functions are called by uC/OS-III to add or remove a timer to/from a timer deb
1021:rtos/uCOS-III/Source/os_tmr.c **** *
1022:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr     is a pointer to the timer to add/remove
1023:rtos/uCOS-III/Source/os_tmr.c **** *
1024:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1025:rtos/uCOS-III/Source/os_tmr.c **** *
1026:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : These functions are INTERNAL to uC/OS-III and your application should not call it.
1027:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1028:rtos/uCOS-III/Source/os_tmr.c **** */
1029:rtos/uCOS-III/Source/os_tmr.c **** 
1030:rtos/uCOS-III/Source/os_tmr.c **** 
1031:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1032:rtos/uCOS-III/Source/os_tmr.c **** void  OS_TmrDbgListAdd (OS_TMR  *p_tmr)
1033:rtos/uCOS-III/Source/os_tmr.c **** {
1034:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->DbgPrevPtr               = (OS_TMR *)0;
1035:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTmrDbgListPtr == (OS_TMR *)0) {
1036:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->DbgNextPtr           = (OS_TMR *)0;
1037:rtos/uCOS-III/Source/os_tmr.c ****     } else {
1038:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->DbgNextPtr           =  OSTmrDbgListPtr;
1039:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrDbgListPtr->DbgPrevPtr =  p_tmr;
1040:rtos/uCOS-III/Source/os_tmr.c ****     }
1041:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrDbgListPtr                 =  p_tmr;
1042:rtos/uCOS-III/Source/os_tmr.c **** }
1043:rtos/uCOS-III/Source/os_tmr.c **** 
1044:rtos/uCOS-III/Source/os_tmr.c **** 
1045:rtos/uCOS-III/Source/os_tmr.c **** 
1046:rtos/uCOS-III/Source/os_tmr.c **** void  OS_TmrDbgListRemove (OS_TMR  *p_tmr)
1047:rtos/uCOS-III/Source/os_tmr.c **** {
1048:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR  *p_tmr_next;
1049:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR  *p_tmr_prev;
1050:rtos/uCOS-III/Source/os_tmr.c **** 
1051:rtos/uCOS-III/Source/os_tmr.c **** 
1052:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr_prev = p_tmr->DbgPrevPtr;
1053:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr_next = p_tmr->DbgNextPtr;
1054:rtos/uCOS-III/Source/os_tmr.c **** 
1055:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr_prev == (OS_TMR *)0) {
1056:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrDbgListPtr = p_tmr_next;
1057:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tmr_next != (OS_TMR *)0) {
ARM GAS  /tmp/ccfvxgcI.s 			page 20


1058:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr_next->DbgPrevPtr = (OS_TMR *)0;
1059:rtos/uCOS-III/Source/os_tmr.c ****         }
1060:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->DbgNextPtr = (OS_TMR *)0;
1061:rtos/uCOS-III/Source/os_tmr.c **** 
1062:rtos/uCOS-III/Source/os_tmr.c ****     } else if (p_tmr_next == (OS_TMR *)0) {
1063:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr_prev->DbgNextPtr = (OS_TMR *)0;
1064:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->DbgPrevPtr      = (OS_TMR *)0;
1065:rtos/uCOS-III/Source/os_tmr.c **** 
1066:rtos/uCOS-III/Source/os_tmr.c ****     } else {
1067:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr_prev->DbgNextPtr =  p_tmr_next;
1068:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr_next->DbgPrevPtr =  p_tmr_prev;
1069:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->DbgNextPtr      = (OS_TMR *)0;
1070:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->DbgPrevPtr      = (OS_TMR *)0;
1071:rtos/uCOS-III/Source/os_tmr.c ****     }
1072:rtos/uCOS-III/Source/os_tmr.c **** }
1073:rtos/uCOS-III/Source/os_tmr.c **** #endif
1074:rtos/uCOS-III/Source/os_tmr.c **** 
1075:rtos/uCOS-III/Source/os_tmr.c **** 
1076:rtos/uCOS-III/Source/os_tmr.c **** /*
1077:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1078:rtos/uCOS-III/Source/os_tmr.c **** *                                             INITIALIZE THE TIMER MANAGER
1079:rtos/uCOS-III/Source/os_tmr.c **** *
1080:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called by OSInit() to initialize the timer manager module.
1081:rtos/uCOS-III/Source/os_tmr.c **** *
1082:rtos/uCOS-III/Source/os_tmr.c **** * Argument(s): p_err    is a pointer to a variable that will contain an error code returned by this
1083:rtos/uCOS-III/Source/os_tmr.c **** *
1084:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_NONE
1085:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_STK_INVALID       if you didn't specify a stack for the time
1086:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_TMR_STK_SIZE_INVALID  if you didn't allocate enough space for th
1087:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_PRIO_INVALID          if you specified the same priority as the 
1088:rtos/uCOS-III/Source/os_tmr.c **** *                           OS_ERR_xxx                   any error code returned by OSTaskCreate()
1089:rtos/uCOS-III/Source/os_tmr.c **** *
1090:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1091:rtos/uCOS-III/Source/os_tmr.c **** *
1092:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1093:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1094:rtos/uCOS-III/Source/os_tmr.c **** */
1095:rtos/uCOS-III/Source/os_tmr.c **** 
1096:rtos/uCOS-III/Source/os_tmr.c **** void  OS_TmrInit (OS_ERR  *p_err)
1097:rtos/uCOS-III/Source/os_tmr.c **** {
1098:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1099:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrQty             =           0u;                        /* Keep track of the number of time
1100:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrDbgListPtr      = (OS_TMR *)0;
1101:rtos/uCOS-III/Source/os_tmr.c **** #endif
1102:rtos/uCOS-III/Source/os_tmr.c **** 
1103:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrListPtr         = (OS_TMR *)0;                         /* Create an empty timer list      
1104:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1105:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrListEntries     =           0u;
1106:rtos/uCOS-III/Source/os_tmr.c **** #endif
1107:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Calculate Timer to Ticks multipl
1108:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrToTicksMult = OSCfg_TickRate_Hz / OSCfg_TmrTaskRate_Hz;
1109:rtos/uCOS-III/Source/os_tmr.c **** 
1110:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
1111:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrTaskTime        =           0u;
1112:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrTaskTimeMax     =           0u;
1113:rtos/uCOS-III/Source/os_tmr.c **** #endif
1114:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 21


1115:rtos/uCOS-III/Source/os_tmr.c ****     OSMutexCreate(&OSTmrMutex,                                  /* Use a mutex to protect the timer
1116:rtos/uCOS-III/Source/os_tmr.c **** #if  (OS_CFG_DBG_EN == 0u)
1117:rtos/uCOS-III/Source/os_tmr.c ****                   (CPU_CHAR *)0,
1118:rtos/uCOS-III/Source/os_tmr.c **** #else
1119:rtos/uCOS-III/Source/os_tmr.c ****                   (CPU_CHAR *)"OS Tmr Mutex",
1120:rtos/uCOS-III/Source/os_tmr.c **** #endif
1121:rtos/uCOS-III/Source/os_tmr.c ****                   p_err);
1122:rtos/uCOS-III/Source/os_tmr.c ****     if (*p_err != OS_ERR_NONE) {
1123:rtos/uCOS-III/Source/os_tmr.c ****         return;
1124:rtos/uCOS-III/Source/os_tmr.c ****     }
1125:rtos/uCOS-III/Source/os_tmr.c **** 
1126:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrCondCreate();
1127:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* -------------- CREATE THE TIMER 
1128:rtos/uCOS-III/Source/os_tmr.c ****     if (OSCfg_TmrTaskStkBasePtr == (CPU_STK *)0) {
1129:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_INVALID;
1130:rtos/uCOS-III/Source/os_tmr.c ****         return;
1131:rtos/uCOS-III/Source/os_tmr.c ****     }
1132:rtos/uCOS-III/Source/os_tmr.c **** 
1133:rtos/uCOS-III/Source/os_tmr.c ****     if (OSCfg_TmrTaskStkSize < OSCfg_StkSizeMin) {
1134:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_SIZE_INVALID;
1135:rtos/uCOS-III/Source/os_tmr.c ****         return;
1136:rtos/uCOS-III/Source/os_tmr.c ****     }
1137:rtos/uCOS-III/Source/os_tmr.c **** 
1138:rtos/uCOS-III/Source/os_tmr.c ****     if (OSCfg_TmrTaskPrio >= (OS_CFG_PRIO_MAX - 1u)) {
1139:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_PRIO_INVALID;
1140:rtos/uCOS-III/Source/os_tmr.c ****         return;
1141:rtos/uCOS-III/Source/os_tmr.c ****     }
1142:rtos/uCOS-III/Source/os_tmr.c **** 
1143:rtos/uCOS-III/Source/os_tmr.c ****     OSTaskCreate(&OSTmrTaskTCB,
1144:rtos/uCOS-III/Source/os_tmr.c **** #if  (OS_CFG_DBG_EN == 0u)
1145:rtos/uCOS-III/Source/os_tmr.c ****                  (CPU_CHAR *)0,
1146:rtos/uCOS-III/Source/os_tmr.c **** #else
1147:rtos/uCOS-III/Source/os_tmr.c ****                  (CPU_CHAR *)"uC/OS-III Timer Task",
1148:rtos/uCOS-III/Source/os_tmr.c **** #endif
1149:rtos/uCOS-III/Source/os_tmr.c ****                   OS_TmrTask,
1150:rtos/uCOS-III/Source/os_tmr.c ****                  (void     *)0,
1151:rtos/uCOS-III/Source/os_tmr.c ****                   OSCfg_TmrTaskPrio,
1152:rtos/uCOS-III/Source/os_tmr.c ****                   OSCfg_TmrTaskStkBasePtr,
1153:rtos/uCOS-III/Source/os_tmr.c ****                   OSCfg_TmrTaskStkLimit,
1154:rtos/uCOS-III/Source/os_tmr.c ****                   OSCfg_TmrTaskStkSize,
1155:rtos/uCOS-III/Source/os_tmr.c ****                   0u,
1156:rtos/uCOS-III/Source/os_tmr.c ****                   0u,
1157:rtos/uCOS-III/Source/os_tmr.c ****                  (void     *)0,
1158:rtos/uCOS-III/Source/os_tmr.c ****                  (OS_OPT_TASK_STK_CHK | (OS_OPT)(OS_OPT_TASK_STK_CLR | OS_OPT_TASK_NO_TLS)),
1159:rtos/uCOS-III/Source/os_tmr.c ****                   p_err);
1160:rtos/uCOS-III/Source/os_tmr.c **** }
1161:rtos/uCOS-III/Source/os_tmr.c **** 
1162:rtos/uCOS-III/Source/os_tmr.c **** 
1163:rtos/uCOS-III/Source/os_tmr.c **** /*
1164:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1165:rtos/uCOS-III/Source/os_tmr.c **** *                                         ADD A TIMER TO THE TIMER LIST
1166:rtos/uCOS-III/Source/os_tmr.c **** *
1167:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called to add a timer to the timer list.
1168:rtos/uCOS-III/Source/os_tmr.c **** *
1169:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr          Is a pointer to the timer to add.
1170:rtos/uCOS-III/Source/os_tmr.c **** *
1171:rtos/uCOS-III/Source/os_tmr.c **** *              time           Is the system time when this timer was linked.
ARM GAS  /tmp/ccfvxgcI.s 			page 22


1172:rtos/uCOS-III/Source/os_tmr.c **** *              -----
1173:rtos/uCOS-III/Source/os_tmr.c **** *
1174:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1175:rtos/uCOS-III/Source/os_tmr.c **** *
1176:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1177:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1178:rtos/uCOS-III/Source/os_tmr.c **** */
1179:rtos/uCOS-III/Source/os_tmr.c **** 
1180:rtos/uCOS-III/Source/os_tmr.c **** void OS_TmrLink (OS_TMR   *p_tmr,
1181:rtos/uCOS-III/Source/os_tmr.c ****                  OS_TICK   time)
1182:rtos/uCOS-III/Source/os_tmr.c **** {
1183:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
1184:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr2;
1185:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   remain;
1186:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   delta;
1187:rtos/uCOS-III/Source/os_tmr.c **** 
1188:rtos/uCOS-III/Source/os_tmr.c **** 
1189:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTmrListPtr == (OS_TMR *)0) {                          /* Is the list empty?              
1190:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr    = (OS_TMR *)0;                        /* Yes, this is the first entry    
1191:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr    = (OS_TMR *)0;
1192:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListPtr      = p_tmr;
1193:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1194:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListEntries  = 1u;
1195:rtos/uCOS-III/Source/os_tmr.c **** #endif
1196:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTickBase = time;
1197:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrCondSignal();
1198:rtos/uCOS-III/Source/os_tmr.c **** 
1199:rtos/uCOS-III/Source/os_tmr.c ****         return;
1200:rtos/uCOS-III/Source/os_tmr.c ****     }
1201:rtos/uCOS-III/Source/os_tmr.c **** 
1202:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1203:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrListEntries++;
1204:rtos/uCOS-III/Source/os_tmr.c **** #endif
1205:rtos/uCOS-III/Source/os_tmr.c **** 
1206:rtos/uCOS-III/Source/os_tmr.c ****     delta = (time + p_tmr->Remain) - OSTmrTaskTickBase;
1207:rtos/uCOS-III/Source/os_tmr.c **** 
1208:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr2 = OSTmrListPtr;                                      /* No,  Insert somewhere in the lis
1209:rtos/uCOS-III/Source/os_tmr.c ****     remain = p_tmr2->Remain;
1210:rtos/uCOS-III/Source/os_tmr.c **** 
1211:rtos/uCOS-III/Source/os_tmr.c ****     if ((delta           <     remain) &&
1212:rtos/uCOS-III/Source/os_tmr.c ****         (p_tmr2->PrevPtr == (OS_TMR *)0)) {                     /* Are we the new head of the list?
1213:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->Remain    =  remain - delta;
1214:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr    = (OS_TMR *)0;
1215:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr    =  p_tmr2;
1216:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->PrevPtr   =  p_tmr;
1217:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListPtr      =  p_tmr;
1218:rtos/uCOS-III/Source/os_tmr.c **** 
1219:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTickBase = time;
1220:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrCondSignal();
1221:rtos/uCOS-III/Source/os_tmr.c **** 
1222:rtos/uCOS-III/Source/os_tmr.c ****         return;
1223:rtos/uCOS-III/Source/os_tmr.c ****     }
1224:rtos/uCOS-III/Source/os_tmr.c **** 
1225:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* No                              
1226:rtos/uCOS-III/Source/os_tmr.c ****     delta  -= remain;                                           /* Make delta relative to the curre
1227:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr1  = p_tmr2;
1228:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr2  = p_tmr1->NextPtr;
ARM GAS  /tmp/ccfvxgcI.s 			page 23


1229:rtos/uCOS-III/Source/os_tmr.c **** 
1230:rtos/uCOS-III/Source/os_tmr.c **** 
1231:rtos/uCOS-III/Source/os_tmr.c ****     while ((p_tmr2 !=        (OS_TMR *)0) &&                    /* Find the appropriate position in
1232:rtos/uCOS-III/Source/os_tmr.c ****            (delta  >= p_tmr2->Remain)) {
1233:rtos/uCOS-III/Source/os_tmr.c ****         delta  -= p_tmr2->Remain;                               /* Update our delta as we traverse 
1234:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1  = p_tmr2;
1235:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2  = p_tmr2->NextPtr;
1236:rtos/uCOS-III/Source/os_tmr.c ****     }
1237:rtos/uCOS-III/Source/os_tmr.c **** 
1238:rtos/uCOS-III/Source/os_tmr.c **** 
1239:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr2 != (OS_TMR *)0) {                                /* Our entry is not the last elemen
1240:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1           = p_tmr2->PrevPtr;
1241:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->Remain    = delta;                               /* Store remaining time            
1242:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr   = p_tmr1;
1243:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr   = p_tmr2;
1244:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->Remain  -= delta;                               /* Reduce time of next entry in the
1245:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->PrevPtr  = p_tmr;
1246:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr  = p_tmr;
1247:rtos/uCOS-III/Source/os_tmr.c **** 
1248:rtos/uCOS-III/Source/os_tmr.c ****     } else {                                                    /* Our entry belongs at the end of 
1249:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->Remain    = delta;
1250:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr   = p_tmr1;
1251:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr   = (OS_TMR *)0;
1252:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr  = p_tmr;
1253:rtos/uCOS-III/Source/os_tmr.c ****     }
1254:rtos/uCOS-III/Source/os_tmr.c **** }
1255:rtos/uCOS-III/Source/os_tmr.c **** 
1256:rtos/uCOS-III/Source/os_tmr.c **** 
1257:rtos/uCOS-III/Source/os_tmr.c **** /*
1258:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1259:rtos/uCOS-III/Source/os_tmr.c **** *                                         REMOVE A TIMER FROM THE TIMER LIST
1260:rtos/uCOS-III/Source/os_tmr.c **** *
1261:rtos/uCOS-III/Source/os_tmr.c **** * Description: This function is called to remove the timer from the timer list.
1262:rtos/uCOS-III/Source/os_tmr.c **** *
1263:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : p_tmr          Is a pointer to the timer to remove.
1264:rtos/uCOS-III/Source/os_tmr.c **** *
1265:rtos/uCOS-III/Source/os_tmr.c **** *              time           Is the system time when this timer was unlinked.
1266:rtos/uCOS-III/Source/os_tmr.c **** *              -----
1267:rtos/uCOS-III/Source/os_tmr.c **** *
1268:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1269:rtos/uCOS-III/Source/os_tmr.c **** *
1270:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1271:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1272:rtos/uCOS-III/Source/os_tmr.c **** */
1273:rtos/uCOS-III/Source/os_tmr.c **** 
1274:rtos/uCOS-III/Source/os_tmr.c **** void  OS_TmrUnlink (OS_TMR   *p_tmr,
1275:rtos/uCOS-III/Source/os_tmr.c ****                     OS_TICK   time)
1276:rtos/uCOS-III/Source/os_tmr.c **** {
1277:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
1278:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr2;
1279:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   elapsed;
1280:rtos/uCOS-III/Source/os_tmr.c **** 
1281:rtos/uCOS-III/Source/os_tmr.c **** 
1282:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr1                          = p_tmr->PrevPtr;
1283:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr2                          = p_tmr->NextPtr;
1284:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr1 == (OS_TMR *)0) {
1285:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tmr2 == (OS_TMR *)0) {                            /* Remove the ONLY entry in the lis
ARM GAS  /tmp/ccfvxgcI.s 			page 24


1286:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListPtr            = (OS_TMR *)0;
1287:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1288:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListEntries        = 0u;
1289:rtos/uCOS-III/Source/os_tmr.c **** #endif
1290:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr->Remain           = 0u;
1291:rtos/uCOS-III/Source/os_tmr.c **** 
1292:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrTaskTickBase       = time;
1293:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrCondSignal();
1294:rtos/uCOS-III/Source/os_tmr.c ****         } else {
1295:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1296:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListEntries--;
1297:rtos/uCOS-III/Source/os_tmr.c **** #endif
1298:rtos/uCOS-III/Source/os_tmr.c ****             elapsed                 = time - OSTmrTaskTickBase;
1299:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = (OS_TMR *)0;
1300:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->Remain         += p_tmr->Remain;            /* Add back the ticks to the delta 
1301:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListPtr            = p_tmr2;
1302:rtos/uCOS-III/Source/os_tmr.c **** 
1303:rtos/uCOS-III/Source/os_tmr.c ****             while ((elapsed >           0u) &&
1304:rtos/uCOS-III/Source/os_tmr.c ****                    (p_tmr2  != (OS_TMR *)0)) {
1305:rtos/uCOS-III/Source/os_tmr.c **** 
1306:rtos/uCOS-III/Source/os_tmr.c ****                 if (elapsed > p_tmr2->Remain) {
1307:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed        -= p_tmr2->Remain;
1308:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr2->Remain  = 0u;
1309:rtos/uCOS-III/Source/os_tmr.c ****                 } else {
1310:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr2->Remain -= elapsed;
1311:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed         = 0u;
1312:rtos/uCOS-III/Source/os_tmr.c ****                 }
1313:rtos/uCOS-III/Source/os_tmr.c **** 
1314:rtos/uCOS-III/Source/os_tmr.c **** 
1315:rtos/uCOS-III/Source/os_tmr.c ****                 p_tmr1              = p_tmr2;
1316:rtos/uCOS-III/Source/os_tmr.c ****                 p_tmr2              = p_tmr1->NextPtr;
1317:rtos/uCOS-III/Source/os_tmr.c ****             }
1318:rtos/uCOS-III/Source/os_tmr.c **** 
1319:rtos/uCOS-III/Source/os_tmr.c ****             if ((OSTmrListPtr->Remain != p_tmr->Remain) ||      /* Reload if new head has a differe
1320:rtos/uCOS-III/Source/os_tmr.c ****                 (OSTmrListPtr->Remain ==            0u)) {      /* ... or has already timed out.   
1321:rtos/uCOS-III/Source/os_tmr.c ****                 OSTmrTaskTickBase   = time;
1322:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TmrCondSignal();
1323:rtos/uCOS-III/Source/os_tmr.c ****             }
1324:rtos/uCOS-III/Source/os_tmr.c **** 
1325:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr->NextPtr          = (OS_TMR *)0;
1326:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr->Remain           =           0u;
1327:rtos/uCOS-III/Source/os_tmr.c ****         }
1328:rtos/uCOS-III/Source/os_tmr.c ****     } else {
1329:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
1330:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListEntries--;
1331:rtos/uCOS-III/Source/os_tmr.c **** #endif
1332:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr             = p_tmr2;
1333:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tmr2 != (OS_TMR *)0) {
1334:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = p_tmr1;
1335:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->Remain         += p_tmr->Remain;            /* Add back the ticks to the delta 
1336:rtos/uCOS-III/Source/os_tmr.c ****         }
1337:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr              = (OS_TMR *)0;
1338:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr              = (OS_TMR *)0;
1339:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->Remain               =           0u;
1340:rtos/uCOS-III/Source/os_tmr.c ****     }
1341:rtos/uCOS-III/Source/os_tmr.c **** }
1342:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 25


1343:rtos/uCOS-III/Source/os_tmr.c **** 
1344:rtos/uCOS-III/Source/os_tmr.c **** /*
1345:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1346:rtos/uCOS-III/Source/os_tmr.c **** *                                                 TIMER MANAGEMENT TASK
1347:rtos/uCOS-III/Source/os_tmr.c **** *
1348:rtos/uCOS-III/Source/os_tmr.c **** * Description: This task is created by OS_TmrInit().
1349:rtos/uCOS-III/Source/os_tmr.c **** *
1350:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : none
1351:rtos/uCOS-III/Source/os_tmr.c **** *
1352:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1353:rtos/uCOS-III/Source/os_tmr.c **** *
1354:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1355:rtos/uCOS-III/Source/os_tmr.c **** *
1356:rtos/uCOS-III/Source/os_tmr.c **** *              2) The timer list is processed in two stages.
1357:rtos/uCOS-III/Source/os_tmr.c **** *                   a) Subtract the expired time from the delta list, which leaves expired timers a
1358:rtos/uCOS-III/Source/os_tmr.c **** *                   b) Process each of the expired timers by invoking its callback (if any) and rem
1359:rtos/uCOS-III/Source/os_tmr.c **** *                 This method allows timer callbacks to Link/Unlink timers while maintaining the co
1360:rtos/uCOS-III/Source/os_tmr.c **** *
1361:rtos/uCOS-III/Source/os_tmr.c **** *              3) Timer callbacks are allowed to make calls to the Timer APIs.
1362:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1363:rtos/uCOS-III/Source/os_tmr.c **** */
1364:rtos/uCOS-III/Source/os_tmr.c **** 
1365:rtos/uCOS-III/Source/os_tmr.c **** void  OS_TmrTask (void  *p_arg)
1366:rtos/uCOS-III/Source/os_tmr.c **** {
1367:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR_CALLBACK_PTR   p_fnct;
1368:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR               *p_tmr;
1369:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK               timeout;
1370:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK               elapsed;
1371:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK               time;
1372:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
1373:rtos/uCOS-III/Source/os_tmr.c ****     CPU_TS                ts_start;
1374:rtos/uCOS-III/Source/os_tmr.c **** #endif
1375:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
1376:rtos/uCOS-III/Source/os_tmr.c **** 
1377:rtos/uCOS-III/Source/os_tmr.c **** 
1378:rtos/uCOS-III/Source/os_tmr.c ****     (void)p_arg;                                                /* Not using 'p_arg', prevent compi
1379:rtos/uCOS-III/Source/os_tmr.c **** 
1380:rtos/uCOS-III/Source/os_tmr.c ****     OS_TmrLock();
1381:rtos/uCOS-III/Source/os_tmr.c **** 
1382:rtos/uCOS-III/Source/os_tmr.c ****     for (;;) {
1383:rtos/uCOS-III/Source/os_tmr.c ****         if (OSTmrListPtr == (OS_TMR *)0) {
1384:rtos/uCOS-III/Source/os_tmr.c ****             timeout                = 0u;
1385:rtos/uCOS-III/Source/os_tmr.c ****         } else {
1386:rtos/uCOS-III/Source/os_tmr.c ****             timeout                = OSTmrListPtr->Remain;
1387:rtos/uCOS-III/Source/os_tmr.c ****         }
1388:rtos/uCOS-III/Source/os_tmr.c **** 
1389:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrCondWait(timeout);                                /* Suspend the timer task until it 
1390:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* ... the timer list again. Also r
1391:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* ... so that application tasks ca
1392:rtos/uCOS-III/Source/os_tmr.c **** 
1393:rtos/uCOS-III/Source/os_tmr.c ****         if (OSTmrListPtr == (OS_TMR *)0) {                      /* Suppresses static analyzer warni
1394:rtos/uCOS-III/Source/os_tmr.c ****             continue;
1395:rtos/uCOS-III/Source/os_tmr.c ****         }
1396:rtos/uCOS-III/Source/os_tmr.c **** 
1397:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
1398:rtos/uCOS-III/Source/os_tmr.c ****         ts_start = OS_TS_GET();
1399:rtos/uCOS-III/Source/os_tmr.c **** #endif
ARM GAS  /tmp/ccfvxgcI.s 			page 26


1400:rtos/uCOS-III/Source/os_tmr.c **** 
1401:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_ENTER();
1402:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
1403:rtos/uCOS-III/Source/os_tmr.c ****         time                       = OSTickCtr + OS_DynTickGet();
1404:rtos/uCOS-III/Source/os_tmr.c **** #else
1405:rtos/uCOS-III/Source/os_tmr.c ****         time                       = OSTickCtr;
1406:rtos/uCOS-III/Source/os_tmr.c **** #endif
1407:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
1408:rtos/uCOS-III/Source/os_tmr.c ****         elapsed                    = time - OSTmrTaskTickBase;
1409:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTickBase          = time;
1410:rtos/uCOS-III/Source/os_tmr.c **** 
1411:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Update the delta values.        
1412:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr = OSTmrListPtr;
1413:rtos/uCOS-III/Source/os_tmr.c ****         while ((elapsed !=          0u) &&
1414:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr   != (OS_TMR *)0)) {
1415:rtos/uCOS-III/Source/os_tmr.c **** 
1416:rtos/uCOS-III/Source/os_tmr.c ****             if (elapsed > p_tmr->Remain) {
1417:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed           -= p_tmr->Remain;
1418:rtos/uCOS-III/Source/os_tmr.c ****                 p_tmr->Remain      = 0u;
1419:rtos/uCOS-III/Source/os_tmr.c ****             } else {
1420:rtos/uCOS-III/Source/os_tmr.c ****                 p_tmr->Remain     -= elapsed;
1421:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed            = 0u;
1422:rtos/uCOS-III/Source/os_tmr.c ****             }
1423:rtos/uCOS-III/Source/os_tmr.c **** 
1424:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr                  = p_tmr->NextPtr;
1425:rtos/uCOS-III/Source/os_tmr.c ****         }
1426:rtos/uCOS-III/Source/os_tmr.c **** 
1427:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Process timers that have expired
1428:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr                      = OSTmrListPtr;
1429:rtos/uCOS-III/Source/os_tmr.c **** 
1430:rtos/uCOS-III/Source/os_tmr.c ****         while ((p_tmr         != (OS_TMR *)0) &&
1431:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr->Remain ==          0u)) {
1432:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr->State           = OS_TMR_STATE_TIMEOUT;
1433:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Execute callback function if ava
1434:rtos/uCOS-III/Source/os_tmr.c ****             p_fnct                 = p_tmr->CallbackPtr;
1435:rtos/uCOS-III/Source/os_tmr.c ****             if (p_fnct != (OS_TMR_CALLBACK_PTR)0u) {
1436:rtos/uCOS-III/Source/os_tmr.c ****                 (*p_fnct)(p_tmr, p_tmr->CallbackPtrArg);
1437:rtos/uCOS-III/Source/os_tmr.c ****             }
1438:rtos/uCOS-III/Source/os_tmr.c **** 
1439:rtos/uCOS-III/Source/os_tmr.c ****             if (p_tmr->State == OS_TMR_STATE_TIMEOUT) {
1440:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TmrUnlink(p_tmr, OSTmrTaskTickBase);
1441:rtos/uCOS-III/Source/os_tmr.c **** 
1442:rtos/uCOS-III/Source/os_tmr.c ****                 if (p_tmr->Opt == OS_OPT_TMR_PERIODIC) {
1443:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->State   = OS_TMR_STATE_RUNNING;
1444:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->Remain  = p_tmr->Period;
1445:rtos/uCOS-III/Source/os_tmr.c ****                     OS_TmrLink(p_tmr, OSTmrTaskTickBase);
1446:rtos/uCOS-III/Source/os_tmr.c ****                 } else {
1447:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->PrevPtr = (OS_TMR *)0;
1448:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->NextPtr = (OS_TMR *)0;
1449:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->Remain  = 0u;
1450:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->State   = OS_TMR_STATE_COMPLETED;
1451:rtos/uCOS-III/Source/os_tmr.c ****                 }
1452:rtos/uCOS-III/Source/os_tmr.c ****             }
1453:rtos/uCOS-III/Source/os_tmr.c **** 
1454:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr                  = OSTmrListPtr;
1455:rtos/uCOS-III/Source/os_tmr.c ****         }
1456:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 27


1457:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
1458:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTime = OS_TS_GET() - ts_start;                 /* Measure execution time of timer 
1459:rtos/uCOS-III/Source/os_tmr.c ****         if (OSTmrTaskTimeMax < OSTmrTaskTime) {
1460:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrTaskTimeMax       = OSTmrTaskTime;
1461:rtos/uCOS-III/Source/os_tmr.c ****         }
1462:rtos/uCOS-III/Source/os_tmr.c **** #endif
1463:rtos/uCOS-III/Source/os_tmr.c ****     }
1464:rtos/uCOS-III/Source/os_tmr.c **** }
1465:rtos/uCOS-III/Source/os_tmr.c **** 
1466:rtos/uCOS-III/Source/os_tmr.c **** 
1467:rtos/uCOS-III/Source/os_tmr.c **** /*
1468:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1469:rtos/uCOS-III/Source/os_tmr.c **** *                                          TIMER MANAGEMENT LOCKING MECHANISM
1470:rtos/uCOS-III/Source/os_tmr.c **** *
1471:rtos/uCOS-III/Source/os_tmr.c **** * Description: These functions are used to handle timer critical sections.  The method uses a mutex
1472:rtos/uCOS-III/Source/os_tmr.c **** *              to protect access to the global timer list.
1473:rtos/uCOS-III/Source/os_tmr.c **** *
1474:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : none
1475:rtos/uCOS-III/Source/os_tmr.c **** *
1476:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1477:rtos/uCOS-III/Source/os_tmr.c **** *
1478:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) These functions are INTERNAL to uC/OS-III and your application MUST NOT call them
1479:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1480:rtos/uCOS-III/Source/os_tmr.c **** */
1481:rtos/uCOS-III/Source/os_tmr.c **** 
1482:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrLock (void)
1483:rtos/uCOS-III/Source/os_tmr.c **** {
  28              		.loc 1 1483 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 00B5     		push	{lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 14, -4
  36 0002 85B0     		sub	sp, sp, #20
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
1484:rtos/uCOS-III/Source/os_tmr.c ****     OS_ERR  err;
  39              		.loc 1 1484 5 view .LVU1
1485:rtos/uCOS-III/Source/os_tmr.c **** 
1486:rtos/uCOS-III/Source/os_tmr.c **** 
1487:rtos/uCOS-III/Source/os_tmr.c ****     OSMutexPend(&OSTmrMutex, 0u, OS_OPT_PEND_BLOCKING, (CPU_TS *)0, &err);
  40              		.loc 1 1487 5 view .LVU2
  41 0004 0DF10E03 		add	r3, sp, #14
  42 0008 0093     		str	r3, [sp]
  43 000a 0023     		movs	r3, #0
  44 000c 1A46     		mov	r2, r3
  45 000e 1946     		mov	r1, r3
  46 0010 0248     		ldr	r0, .L3
  47 0012 FFF7FEFF 		bl	OSMutexPend
  48              	.LVL0:
1488:rtos/uCOS-III/Source/os_tmr.c **** }
  49              		.loc 1 1488 1 is_stmt 0 view .LVU3
  50 0016 05B0     		add	sp, sp, #20
  51              	.LCFI2:
  52              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccfvxgcI.s 			page 28


  53              		@ sp needed
  54 0018 5DF804FB 		ldr	pc, [sp], #4
  55              	.L4:
  56              		.align	2
  57              	.L3:
  58 001c 00000000 		.word	OSTmrMutex
  59              		.cfi_endproc
  60              	.LFE12:
  62              		.section	.text.OS_TmrUnlock,"ax",%progbits
  63              		.align	1
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  67              		.fpu fpv4-sp-d16
  69              	OS_TmrUnlock:
  70              	.LFB13:
1489:rtos/uCOS-III/Source/os_tmr.c **** 
1490:rtos/uCOS-III/Source/os_tmr.c **** 
1491:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrUnlock (void)
1492:rtos/uCOS-III/Source/os_tmr.c **** {
  71              		.loc 1 1492 1 is_stmt 1 view -0
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 8
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75 0000 00B5     		push	{lr}
  76              	.LCFI3:
  77              		.cfi_def_cfa_offset 4
  78              		.cfi_offset 14, -4
  79 0002 83B0     		sub	sp, sp, #12
  80              	.LCFI4:
  81              		.cfi_def_cfa_offset 16
1493:rtos/uCOS-III/Source/os_tmr.c ****     OS_ERR  err;
  82              		.loc 1 1493 5 view .LVU5
1494:rtos/uCOS-III/Source/os_tmr.c **** 
1495:rtos/uCOS-III/Source/os_tmr.c **** 
1496:rtos/uCOS-III/Source/os_tmr.c ****     OSMutexPost(&OSTmrMutex, OS_OPT_POST_NONE, &err);
  83              		.loc 1 1496 5 view .LVU6
  84 0004 0DF10602 		add	r2, sp, #6
  85 0008 0021     		movs	r1, #0
  86 000a 0348     		ldr	r0, .L7
  87 000c FFF7FEFF 		bl	OSMutexPost
  88              	.LVL1:
1497:rtos/uCOS-III/Source/os_tmr.c **** }
  89              		.loc 1 1497 1 is_stmt 0 view .LVU7
  90 0010 03B0     		add	sp, sp, #12
  91              	.LCFI5:
  92              		.cfi_def_cfa_offset 4
  93              		@ sp needed
  94 0012 5DF804FB 		ldr	pc, [sp], #4
  95              	.L8:
  96 0016 00BF     		.align	2
  97              	.L7:
  98 0018 00000000 		.word	OSTmrMutex
  99              		.cfi_endproc
 100              	.LFE13:
 102              		.section	.text.OS_TmrCondCreate,"ax",%progbits
 103              		.align	1
ARM GAS  /tmp/ccfvxgcI.s 			page 29


 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 107              		.fpu fpv4-sp-d16
 109              	OS_TmrCondCreate:
 110              	.LFB14:
1498:rtos/uCOS-III/Source/os_tmr.c **** 
1499:rtos/uCOS-III/Source/os_tmr.c **** 
1500:rtos/uCOS-III/Source/os_tmr.c **** /*
1501:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1502:rtos/uCOS-III/Source/os_tmr.c **** *                                         CREATE TIMER TASK CONDITION VARIABLE
1503:rtos/uCOS-III/Source/os_tmr.c **** *
1504:rtos/uCOS-III/Source/os_tmr.c **** * Description: Initializes a condition variable for INTERNAL use ONLY.
1505:rtos/uCOS-III/Source/os_tmr.c **** *
1506:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : none
1507:rtos/uCOS-III/Source/os_tmr.c **** *
1508:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1509:rtos/uCOS-III/Source/os_tmr.c **** *
1510:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1511:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1512:rtos/uCOS-III/Source/os_tmr.c **** */
1513:rtos/uCOS-III/Source/os_tmr.c **** 
1514:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrCondCreate (void)
1515:rtos/uCOS-III/Source/os_tmr.c **** {
 111              		.loc 1 1515 1 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115 0000 10B5     		push	{r4, lr}
 116              	.LCFI6:
 117              		.cfi_def_cfa_offset 8
 118              		.cfi_offset 4, -8
 119              		.cfi_offset 14, -4
1516:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 120              		.loc 1 1516 5 view .LVU9
 121              	.LVL2:
1517:rtos/uCOS-III/Source/os_tmr.c **** 
1518:rtos/uCOS-III/Source/os_tmr.c **** 
1519:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_ENTER();
 122              		.loc 1 1519 5 view .LVU10
 123              		.loc 1 1519 5 view .LVU11
 124              		.loc 1 1519 5 view .LVU12
 125 0002 4020     		movs	r0, #64
 126 0004 FFF7FEFF 		bl	CPU_SR_Save
 127              	.LVL3:
 128 0008 0446     		mov	r4, r0
 129              	.LVL4:
 130              		.loc 1 1519 5 view .LVU13
 131              		.loc 1 1519 5 view .LVU14
1520:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_OBJ_TYPE_REQ > 0u)
1521:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrCond.Type  = OS_OBJ_TYPE_COND;                         /* Mark the data structure as a con
 132              		.loc 1 1521 5 view .LVU15
 133              		.loc 1 1521 21 is_stmt 0 view .LVU16
 134 000a 0648     		ldr	r0, .L11
 135              	.LVL5:
 136              		.loc 1 1521 21 view .LVU17
 137 000c 064B     		ldr	r3, .L11+4
ARM GAS  /tmp/ccfvxgcI.s 			page 30


 138 000e 0360     		str	r3, [r0]
1522:rtos/uCOS-III/Source/os_tmr.c **** #endif
1523:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrCond.Mutex = &OSTmrMutex;                              /* Bind the timer mutex to the cond
 139              		.loc 1 1523 5 is_stmt 1 view .LVU18
 140              		.loc 1 1523 21 is_stmt 0 view .LVU19
 141 0010 064B     		ldr	r3, .L11+8
 142 0012 C360     		str	r3, [r0, #12]
1524:rtos/uCOS-III/Source/os_tmr.c ****     OS_PendListInit(&OSTmrCond.PendList);                       /* Initialize the waiting list     
 143              		.loc 1 1524 5 is_stmt 1 view .LVU20
 144 0014 0430     		adds	r0, r0, #4
 145 0016 FFF7FEFF 		bl	OS_PendListInit
 146              	.LVL6:
1525:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_EXIT();
 147              		.loc 1 1525 5 view .LVU21
 148              		.loc 1 1525 5 view .LVU22
 149              		.loc 1 1525 5 view .LVU23
 150 001a 2046     		mov	r0, r4
 151 001c FFF7FEFF 		bl	CPU_SR_Restore
 152              	.LVL7:
 153              		.loc 1 1525 5 view .LVU24
 154              		.loc 1 1525 5 view .LVU25
1526:rtos/uCOS-III/Source/os_tmr.c **** }
 155              		.loc 1 1526 1 is_stmt 0 view .LVU26
 156 0020 10BD     		pop	{r4, pc}
 157              	.LVL8:
 158              	.L12:
 159              		.loc 1 1526 1 view .LVU27
 160 0022 00BF     		.align	2
 161              	.L11:
 162 0024 00000000 		.word	OSTmrCond
 163 0028 434F4E44 		.word	1145982787
 164 002c 00000000 		.word	OSTmrMutex
 165              		.cfi_endproc
 166              	.LFE14:
 168              		.section	.text.OS_TmrCondSignal,"ax",%progbits
 169              		.align	1
 170              		.syntax unified
 171              		.thumb
 172              		.thumb_func
 173              		.fpu fpv4-sp-d16
 175              	OS_TmrCondSignal:
 176              	.LFB16:
1527:rtos/uCOS-III/Source/os_tmr.c **** 
1528:rtos/uCOS-III/Source/os_tmr.c **** 
1529:rtos/uCOS-III/Source/os_tmr.c **** /*
1530:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1531:rtos/uCOS-III/Source/os_tmr.c **** *                                         WAIT ON TIMER TASK CONDITION VARIABLE
1532:rtos/uCOS-III/Source/os_tmr.c **** *
1533:rtos/uCOS-III/Source/os_tmr.c **** * Description: Allows the timer task to release the global mutex and pend atomically. This ensures 
1534:rtos/uCOS-III/Source/os_tmr.c **** *              timers are only added/removed after the timer task has processed the current list an
1535:rtos/uCOS-III/Source/os_tmr.c **** *              for the next timeout. The timer task will always acquire the mutex before returning 
1536:rtos/uCOS-III/Source/os_tmr.c **** *
1537:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : timeout                   The number of ticks before the timer task will wake up.
1538:rtos/uCOS-III/Source/os_tmr.c **** *                                        A value of zero signifies an indefinite pend.
1539:rtos/uCOS-III/Source/os_tmr.c **** *
1540:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1541:rtos/uCOS-III/Source/os_tmr.c **** *
ARM GAS  /tmp/ccfvxgcI.s 			page 31


1542:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1543:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1544:rtos/uCOS-III/Source/os_tmr.c **** */
1545:rtos/uCOS-III/Source/os_tmr.c **** 
1546:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrCondWait (OS_TICK  timeout)
1547:rtos/uCOS-III/Source/os_tmr.c **** {
1548:rtos/uCOS-III/Source/os_tmr.c ****     OS_TCB        *p_tcb;
1549:rtos/uCOS-III/Source/os_tmr.c ****     OS_PEND_LIST  *p_pend_list;
1550:rtos/uCOS-III/Source/os_tmr.c ****     CPU_TS         ts;
1551:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
1552:rtos/uCOS-III/Source/os_tmr.c **** 
1553:rtos/uCOS-III/Source/os_tmr.c **** 
1554:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_ENTER();
1555:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
1556:rtos/uCOS-III/Source/os_tmr.c ****     ts             = OS_TS_GET();                               /* Get timestamp                   
1557:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrMutex.TS  = ts;
1558:rtos/uCOS-III/Source/os_tmr.c **** #else
1559:rtos/uCOS-III/Source/os_tmr.c ****     ts             = 0u;
1560:rtos/uCOS-III/Source/os_tmr.c **** #endif
1561:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Release mutex to other tasks.   
1562:rtos/uCOS-III/Source/os_tmr.c ****     OS_MutexGrpRemove(&OSTmrTaskTCB, &OSTmrMutex);
1563:rtos/uCOS-III/Source/os_tmr.c ****     p_pend_list                    = &OSTmrMutex.PendList;
1564:rtos/uCOS-III/Source/os_tmr.c **** 
1565:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTmrTaskTCB.Prio != OSTmrTaskTCB.BasePrio) {           /* Restore our original prio.      
1566:rtos/uCOS-III/Source/os_tmr.c ****         OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(&OSTmrTaskTCB, OSTmrTaskTCB.Prio);
1567:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTCB.Prio          = OSTmrTaskTCB.BasePrio;
1568:rtos/uCOS-III/Source/os_tmr.c ****         OSPrioCur                  = OSTmrTaskTCB.BasePrio;
1569:rtos/uCOS-III/Source/os_tmr.c ****     }
1570:rtos/uCOS-III/Source/os_tmr.c **** 
1571:rtos/uCOS-III/Source/os_tmr.c ****     if (p_pend_list->HeadPtr == (OS_TCB *)0) {                  /* Any task waiting on mutex?      
1572:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = (OS_TCB *)0;               /* No                              
1573:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr =           0u;
1574:rtos/uCOS-III/Source/os_tmr.c ****     } else {
1575:rtos/uCOS-III/Source/os_tmr.c ****         p_tcb                      = p_pend_list->HeadPtr;      /* Yes, give mutex to new owner    
1576:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = p_tcb;
1577:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr =           1u;
1578:rtos/uCOS-III/Source/os_tmr.c ****         OS_MutexGrpAdd(p_tcb, &OSTmrMutex);
1579:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Post to mutex                   
1580:rtos/uCOS-III/Source/os_tmr.c ****         OS_Post((OS_PEND_OBJ *)((void *)&OSTmrMutex),
1581:rtos/uCOS-III/Source/os_tmr.c ****                                          p_tcb,
1582:rtos/uCOS-III/Source/os_tmr.c ****                                 (void *) 0,
1583:rtos/uCOS-III/Source/os_tmr.c ****                                          0u,
1584:rtos/uCOS-III/Source/os_tmr.c ****                                          ts);
1585:rtos/uCOS-III/Source/os_tmr.c ****     }
1586:rtos/uCOS-III/Source/os_tmr.c **** 
1587:rtos/uCOS-III/Source/os_tmr.c ****     OS_Pend((OS_PEND_OBJ *)((void *)&OSTmrCond),                /* Pend on the condition variable. 
1588:rtos/uCOS-III/Source/os_tmr.c ****                                    &OSTmrTaskTCB,
1589:rtos/uCOS-III/Source/os_tmr.c ****                                     OS_TASK_PEND_ON_COND,
1590:rtos/uCOS-III/Source/os_tmr.c ****                                     timeout);
1591:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_EXIT();
1592:rtos/uCOS-III/Source/os_tmr.c **** 
1593:rtos/uCOS-III/Source/os_tmr.c ****     OSSched();
1594:rtos/uCOS-III/Source/os_tmr.c **** 
1595:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_ENTER();                                       /* Either we timed out, or were sig
1596:rtos/uCOS-III/Source/os_tmr.c **** 
1597:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTmrMutex.OwnerTCBPtr == (OS_TCB *)0) {                /* Can we grab the mutex?          
1598:rtos/uCOS-III/Source/os_tmr.c ****         OS_MutexGrpAdd(&OSTmrTaskTCB, &OSTmrMutex);             /* Yes, no-one else pending.       
ARM GAS  /tmp/ccfvxgcI.s 			page 32


1599:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = &OSTmrTaskTCB;
1600:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr = 1u;
1601:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
1602:rtos/uCOS-III/Source/os_tmr.c ****     } else {
1603:rtos/uCOS-III/Source/os_tmr.c ****         p_tcb = OSTmrMutex.OwnerTCBPtr;                         /* No, we need to wait for it.     
1604:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tcb->Prio > OSTmrTaskTCB.Prio) {                  /* See if mutex owner has a lower p
1605:rtos/uCOS-III/Source/os_tmr.c ****             OS_TaskChangePrio(p_tcb, OSTmrTaskTCB.Prio);
1606:rtos/uCOS-III/Source/os_tmr.c ****         }
1607:rtos/uCOS-III/Source/os_tmr.c **** 
1608:rtos/uCOS-III/Source/os_tmr.c ****         OS_Pend((OS_PEND_OBJ *)((void *)&OSTmrMutex),           /* Block TmrTask until it gets the 
1609:rtos/uCOS-III/Source/os_tmr.c ****                                         &OSTmrTaskTCB,
1610:rtos/uCOS-III/Source/os_tmr.c ****                                          OS_TASK_PEND_ON_MUTEX,
1611:rtos/uCOS-III/Source/os_tmr.c ****                                          0u);
1612:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
1613:rtos/uCOS-III/Source/os_tmr.c **** 
1614:rtos/uCOS-III/Source/os_tmr.c ****         OSSched();
1615:rtos/uCOS-III/Source/os_tmr.c ****     }
1616:rtos/uCOS-III/Source/os_tmr.c **** }
1617:rtos/uCOS-III/Source/os_tmr.c **** 
1618:rtos/uCOS-III/Source/os_tmr.c **** 
1619:rtos/uCOS-III/Source/os_tmr.c **** /*
1620:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1621:rtos/uCOS-III/Source/os_tmr.c **** *                                       SIGNAL THE TIMER TASK CONDITION VARIABLE
1622:rtos/uCOS-III/Source/os_tmr.c **** *
1623:rtos/uCOS-III/Source/os_tmr.c **** * Description: Used to signal the timer task when a timer is added/removed which requires the task 
1624:rtos/uCOS-III/Source/os_tmr.c **** *              its timeout. We ensure that this function is always called with the timer mutex lock
1625:rtos/uCOS-III/Source/os_tmr.c **** *
1626:rtos/uCOS-III/Source/os_tmr.c **** * Arguments  : none.
1627:rtos/uCOS-III/Source/os_tmr.c **** *
1628:rtos/uCOS-III/Source/os_tmr.c **** * Returns    : none
1629:rtos/uCOS-III/Source/os_tmr.c **** *
1630:rtos/uCOS-III/Source/os_tmr.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1631:rtos/uCOS-III/Source/os_tmr.c **** ***************************************************************************************************
1632:rtos/uCOS-III/Source/os_tmr.c **** */
1633:rtos/uCOS-III/Source/os_tmr.c **** 
1634:rtos/uCOS-III/Source/os_tmr.c **** static  void  OS_TmrCondSignal (void)
1635:rtos/uCOS-III/Source/os_tmr.c **** {
 177              		.loc 1 1635 1 is_stmt 1 view -0
 178              		.cfi_startproc
 179              		@ args = 0, pretend = 0, frame = 0
 180              		@ frame_needed = 0, uses_anonymous_args = 0
 181 0000 10B5     		push	{r4, lr}
 182              	.LCFI7:
 183              		.cfi_def_cfa_offset 8
 184              		.cfi_offset 4, -8
 185              		.cfi_offset 14, -4
 186 0002 82B0     		sub	sp, sp, #8
 187              	.LCFI8:
 188              		.cfi_def_cfa_offset 16
1636:rtos/uCOS-III/Source/os_tmr.c ****     OS_PEND_LIST  *p_pend_list;
 189              		.loc 1 1636 5 view .LVU29
1637:rtos/uCOS-III/Source/os_tmr.c ****     CPU_TS         ts;
 190              		.loc 1 1637 5 view .LVU30
1638:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 191              		.loc 1 1638 5 view .LVU31
 192              	.LVL9:
1639:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 33


1640:rtos/uCOS-III/Source/os_tmr.c **** 
1641:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_ENTER();
 193              		.loc 1 1641 5 view .LVU32
 194              		.loc 1 1641 5 view .LVU33
 195              		.loc 1 1641 5 view .LVU34
 196 0004 4020     		movs	r0, #64
 197 0006 FFF7FEFF 		bl	CPU_SR_Save
 198              	.LVL10:
 199 000a 0446     		mov	r4, r0
 200              	.LVL11:
 201              		.loc 1 1641 5 view .LVU35
 202              		.loc 1 1641 5 view .LVU36
1642:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
1643:rtos/uCOS-III/Source/os_tmr.c ****     ts             = OS_TS_GET();                               /* Get timestamp                   
1644:rtos/uCOS-III/Source/os_tmr.c ****     OSTmrMutex.TS  = ts;
1645:rtos/uCOS-III/Source/os_tmr.c **** #else
1646:rtos/uCOS-III/Source/os_tmr.c ****     ts             = 0u;
 203              		.loc 1 1646 5 view .LVU37
1647:rtos/uCOS-III/Source/os_tmr.c **** #endif
1648:rtos/uCOS-III/Source/os_tmr.c **** 
1649:rtos/uCOS-III/Source/os_tmr.c ****     p_pend_list    = &OSTmrCond.PendList;
 204              		.loc 1 1649 5 view .LVU38
1650:rtos/uCOS-III/Source/os_tmr.c **** 
1651:rtos/uCOS-III/Source/os_tmr.c ****     if (p_pend_list->HeadPtr == (OS_TCB *)0) {                  /* Timer task waiting on cond?     
 205              		.loc 1 1651 5 view .LVU39
 206              		.loc 1 1651 20 is_stmt 0 view .LVU40
 207 000c 084B     		ldr	r3, .L18
 208 000e 5B68     		ldr	r3, [r3, #4]
 209              		.loc 1 1651 8 view .LVU41
 210 0010 5BB1     		cbz	r3, .L17
1652:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
1653:rtos/uCOS-III/Source/os_tmr.c ****         return;                                                 /* No, nothing to signal.          
1654:rtos/uCOS-III/Source/os_tmr.c ****     } else {
1655:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Yes, signal the timer task.     
1656:rtos/uCOS-III/Source/os_tmr.c ****         OS_Post((OS_PEND_OBJ *)((void *)&OSTmrCond),
 211              		.loc 1 1656 9 is_stmt 1 view .LVU42
 212 0012 0022     		movs	r2, #0
 213 0014 0092     		str	r2, [sp]
 214 0016 1346     		mov	r3, r2
 215 0018 0649     		ldr	r1, .L18+4
 216 001a 0548     		ldr	r0, .L18
 217              	.LVL12:
 218              		.loc 1 1656 9 is_stmt 0 view .LVU43
 219 001c FFF7FEFF 		bl	OS_Post
 220              	.LVL13:
1657:rtos/uCOS-III/Source/os_tmr.c ****                                         &OSTmrTaskTCB,
1658:rtos/uCOS-III/Source/os_tmr.c ****                                 (void *) 0,
1659:rtos/uCOS-III/Source/os_tmr.c ****                                          0u,
1660:rtos/uCOS-III/Source/os_tmr.c ****                                          ts);
1661:rtos/uCOS-III/Source/os_tmr.c ****     }
1662:rtos/uCOS-III/Source/os_tmr.c **** 
1663:rtos/uCOS-III/Source/os_tmr.c ****     CPU_CRITICAL_EXIT();
 221              		.loc 1 1663 5 is_stmt 1 view .LVU44
 222              		.loc 1 1663 5 view .LVU45
 223              		.loc 1 1663 5 view .LVU46
 224 0020 2046     		mov	r0, r4
 225 0022 FFF7FEFF 		bl	CPU_SR_Restore
ARM GAS  /tmp/ccfvxgcI.s 			page 34


 226              	.LVL14:
 227              		.loc 1 1663 5 view .LVU47
 228              		.loc 1 1663 5 view .LVU48
 229              	.L13:
1664:rtos/uCOS-III/Source/os_tmr.c **** }
 230              		.loc 1 1664 1 is_stmt 0 view .LVU49
 231 0026 02B0     		add	sp, sp, #8
 232              	.LCFI9:
 233              		.cfi_remember_state
 234              		.cfi_def_cfa_offset 8
 235              		@ sp needed
 236 0028 10BD     		pop	{r4, pc}
 237              	.LVL15:
 238              	.L17:
 239              	.LCFI10:
 240              		.cfi_restore_state
1652:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
 241              		.loc 1 1652 9 is_stmt 1 view .LVU50
1652:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
 242              		.loc 1 1652 9 view .LVU51
1652:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
 243              		.loc 1 1652 9 view .LVU52
 244 002a FFF7FEFF 		bl	CPU_SR_Restore
 245              	.LVL16:
1652:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
 246              		.loc 1 1652 9 view .LVU53
1652:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
 247              		.loc 1 1652 9 view .LVU54
1653:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 248              		.loc 1 1653 9 view .LVU55
 249 002e FAE7     		b	.L13
 250              	.L19:
 251              		.align	2
 252              	.L18:
 253 0030 00000000 		.word	OSTmrCond
 254 0034 00000000 		.word	OSTmrTaskTCB
 255              		.cfi_endproc
 256              	.LFE16:
 258              		.section	.text.OS_TmrCondWait,"ax",%progbits
 259              		.align	1
 260              		.syntax unified
 261              		.thumb
 262              		.thumb_func
 263              		.fpu fpv4-sp-d16
 265              	OS_TmrCondWait:
 266              	.LVL17:
 267              	.LFB15:
1547:rtos/uCOS-III/Source/os_tmr.c ****     OS_TCB        *p_tcb;
 268              		.loc 1 1547 1 view -0
 269              		.cfi_startproc
 270              		@ args = 0, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
1547:rtos/uCOS-III/Source/os_tmr.c ****     OS_TCB        *p_tcb;
 272              		.loc 1 1547 1 is_stmt 0 view .LVU57
 273 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 274              	.LCFI11:
 275              		.cfi_def_cfa_offset 20
ARM GAS  /tmp/ccfvxgcI.s 			page 35


 276              		.cfi_offset 4, -20
 277              		.cfi_offset 5, -16
 278              		.cfi_offset 6, -12
 279              		.cfi_offset 7, -8
 280              		.cfi_offset 14, -4
 281 0002 83B0     		sub	sp, sp, #12
 282              	.LCFI12:
 283              		.cfi_def_cfa_offset 32
 284 0004 0546     		mov	r5, r0
1548:rtos/uCOS-III/Source/os_tmr.c ****     OS_PEND_LIST  *p_pend_list;
 285              		.loc 1 1548 5 is_stmt 1 view .LVU58
1549:rtos/uCOS-III/Source/os_tmr.c ****     CPU_TS         ts;
 286              		.loc 1 1549 5 view .LVU59
1550:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 287              		.loc 1 1550 5 view .LVU60
1551:rtos/uCOS-III/Source/os_tmr.c **** 
 288              		.loc 1 1551 5 view .LVU61
 289              	.LVL18:
1554:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
 290              		.loc 1 1554 5 view .LVU62
1554:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
 291              		.loc 1 1554 5 view .LVU63
1554:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
 292              		.loc 1 1554 5 view .LVU64
 293 0006 4020     		movs	r0, #64
 294              	.LVL19:
1554:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
 295              		.loc 1 1554 5 is_stmt 0 view .LVU65
 296 0008 FFF7FEFF 		bl	CPU_SR_Save
 297              	.LVL20:
 298 000c 0446     		mov	r4, r0
 299              	.LVL21:
1554:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
 300              		.loc 1 1554 5 is_stmt 1 view .LVU66
1554:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
 301              		.loc 1 1554 5 view .LVU67
1559:rtos/uCOS-III/Source/os_tmr.c **** #endif
 302              		.loc 1 1559 5 view .LVU68
1562:rtos/uCOS-III/Source/os_tmr.c ****     p_pend_list                    = &OSTmrMutex.PendList;
 303              		.loc 1 1562 5 view .LVU69
 304 000e 2D4E     		ldr	r6, .L31
 305 0010 2D49     		ldr	r1, .L31+4
 306 0012 3046     		mov	r0, r6
 307              	.LVL22:
1562:rtos/uCOS-III/Source/os_tmr.c ****     p_pend_list                    = &OSTmrMutex.PendList;
 308              		.loc 1 1562 5 is_stmt 0 view .LVU70
 309 0014 FFF7FEFF 		bl	OS_MutexGrpRemove
 310              	.LVL23:
1563:rtos/uCOS-III/Source/os_tmr.c **** 
 311              		.loc 1 1563 5 is_stmt 1 view .LVU71
1565:rtos/uCOS-III/Source/os_tmr.c ****         OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(&OSTmrTaskTCB, OSTmrTaskTCB.Prio);
 312              		.loc 1 1565 5 view .LVU72
1565:rtos/uCOS-III/Source/os_tmr.c ****         OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(&OSTmrTaskTCB, OSTmrTaskTCB.Prio);
 313              		.loc 1 1565 21 is_stmt 0 view .LVU73
 314 0018 96F82F20 		ldrb	r2, [r6, #47]	@ zero_extendqisi2
1565:rtos/uCOS-III/Source/os_tmr.c ****         OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(&OSTmrTaskTCB, OSTmrTaskTCB.Prio);
 315              		.loc 1 1565 42 view .LVU74
ARM GAS  /tmp/ccfvxgcI.s 			page 36


 316 001c 96F83030 		ldrb	r3, [r6, #48]	@ zero_extendqisi2
1565:rtos/uCOS-III/Source/os_tmr.c ****         OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(&OSTmrTaskTCB, OSTmrTaskTCB.Prio);
 317              		.loc 1 1565 8 view .LVU75
 318 0020 9A42     		cmp	r2, r3
 319 0022 03D0     		beq	.L21
1566:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTCB.Prio          = OSTmrTaskTCB.BasePrio;
 320              		.loc 1 1566 78 is_stmt 1 view .LVU76
1567:rtos/uCOS-III/Source/os_tmr.c ****         OSPrioCur                  = OSTmrTaskTCB.BasePrio;
 321              		.loc 1 1567 9 view .LVU77
1567:rtos/uCOS-III/Source/os_tmr.c ****         OSPrioCur                  = OSTmrTaskTCB.BasePrio;
 322              		.loc 1 1567 36 is_stmt 0 view .LVU78
 323 0024 86F82F30 		strb	r3, [r6, #47]
1568:rtos/uCOS-III/Source/os_tmr.c ****     }
 324              		.loc 1 1568 9 is_stmt 1 view .LVU79
1568:rtos/uCOS-III/Source/os_tmr.c ****     }
 325              		.loc 1 1568 36 is_stmt 0 view .LVU80
 326 0028 284A     		ldr	r2, .L31+8
 327 002a 1370     		strb	r3, [r2]
 328              	.L21:
1571:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = (OS_TCB *)0;               /* No                              
 329              		.loc 1 1571 5 is_stmt 1 view .LVU81
1571:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = (OS_TCB *)0;               /* No                              
 330              		.loc 1 1571 20 is_stmt 0 view .LVU82
 331 002c 264B     		ldr	r3, .L31+4
 332 002e 5E68     		ldr	r6, [r3, #4]
1571:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = (OS_TCB *)0;               /* No                              
 333              		.loc 1 1571 8 view .LVU83
 334 0030 A6B3     		cbz	r6, .L28
1575:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = p_tcb;
 335              		.loc 1 1575 9 is_stmt 1 view .LVU84
 336              	.LVL24:
1576:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr =           1u;
 337              		.loc 1 1576 9 view .LVU85
1576:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr =           1u;
 338              		.loc 1 1576 36 is_stmt 0 view .LVU86
 339 0032 254F     		ldr	r7, .L31+4
 340 0034 3E61     		str	r6, [r7, #16]
1577:rtos/uCOS-III/Source/os_tmr.c ****         OS_MutexGrpAdd(p_tcb, &OSTmrMutex);
 341              		.loc 1 1577 9 is_stmt 1 view .LVU87
1577:rtos/uCOS-III/Source/os_tmr.c ****         OS_MutexGrpAdd(p_tcb, &OSTmrMutex);
 342              		.loc 1 1577 36 is_stmt 0 view .LVU88
 343 0036 0123     		movs	r3, #1
 344 0038 3B75     		strb	r3, [r7, #20]
1578:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Post to mutex                   
 345              		.loc 1 1578 9 is_stmt 1 view .LVU89
 346 003a 3946     		mov	r1, r7
 347 003c 3046     		mov	r0, r6
 348 003e FFF7FEFF 		bl	OS_MutexGrpAdd
 349              	.LVL25:
1580:rtos/uCOS-III/Source/os_tmr.c ****                                          p_tcb,
 350              		.loc 1 1580 9 view .LVU90
 351 0042 0022     		movs	r2, #0
 352 0044 0092     		str	r2, [sp]
 353 0046 1346     		mov	r3, r2
 354 0048 3146     		mov	r1, r6
 355 004a 3846     		mov	r0, r7
 356 004c FFF7FEFF 		bl	OS_Post
ARM GAS  /tmp/ccfvxgcI.s 			page 37


 357              	.LVL26:
 358              	.L23:
1587:rtos/uCOS-III/Source/os_tmr.c ****                                    &OSTmrTaskTCB,
 359              		.loc 1 1587 5 view .LVU91
 360 0050 2B46     		mov	r3, r5
 361 0052 0322     		movs	r2, #3
 362 0054 1B49     		ldr	r1, .L31
 363 0056 1E48     		ldr	r0, .L31+12
 364 0058 FFF7FEFF 		bl	OS_Pend
 365              	.LVL27:
1591:rtos/uCOS-III/Source/os_tmr.c **** 
 366              		.loc 1 1591 5 view .LVU92
1591:rtos/uCOS-III/Source/os_tmr.c **** 
 367              		.loc 1 1591 5 view .LVU93
1591:rtos/uCOS-III/Source/os_tmr.c **** 
 368              		.loc 1 1591 5 view .LVU94
 369 005c 2046     		mov	r0, r4
 370 005e FFF7FEFF 		bl	CPU_SR_Restore
 371              	.LVL28:
1591:rtos/uCOS-III/Source/os_tmr.c **** 
 372              		.loc 1 1591 5 view .LVU95
1591:rtos/uCOS-III/Source/os_tmr.c **** 
 373              		.loc 1 1591 5 view .LVU96
1593:rtos/uCOS-III/Source/os_tmr.c **** 
 374              		.loc 1 1593 5 view .LVU97
 375 0062 FFF7FEFF 		bl	OSSched
 376              	.LVL29:
1595:rtos/uCOS-III/Source/os_tmr.c **** 
 377              		.loc 1 1595 5 view .LVU98
1595:rtos/uCOS-III/Source/os_tmr.c **** 
 378              		.loc 1 1595 5 view .LVU99
1595:rtos/uCOS-III/Source/os_tmr.c **** 
 379              		.loc 1 1595 5 view .LVU100
 380 0066 4020     		movs	r0, #64
 381 0068 FFF7FEFF 		bl	CPU_SR_Save
 382              	.LVL30:
 383 006c 0446     		mov	r4, r0
 384              	.LVL31:
1595:rtos/uCOS-III/Source/os_tmr.c **** 
 385              		.loc 1 1595 5 view .LVU101
1595:rtos/uCOS-III/Source/os_tmr.c **** 
 386              		.loc 1 1595 5 view .LVU102
1597:rtos/uCOS-III/Source/os_tmr.c ****         OS_MutexGrpAdd(&OSTmrTaskTCB, &OSTmrMutex);             /* Yes, no-one else pending.       
 387              		.loc 1 1597 5 view .LVU103
1597:rtos/uCOS-III/Source/os_tmr.c ****         OS_MutexGrpAdd(&OSTmrTaskTCB, &OSTmrMutex);             /* Yes, no-one else pending.       
 388              		.loc 1 1597 19 is_stmt 0 view .LVU104
 389 006e 164B     		ldr	r3, .L31+4
 390 0070 1869     		ldr	r0, [r3, #16]
 391              	.LVL32:
1597:rtos/uCOS-III/Source/os_tmr.c ****         OS_MutexGrpAdd(&OSTmrTaskTCB, &OSTmrMutex);             /* Yes, no-one else pending.       
 392              		.loc 1 1597 8 view .LVU105
 393 0072 B8B1     		cbz	r0, .L29
1603:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tcb->Prio > OSTmrTaskTCB.Prio) {                  /* See if mutex owner has a lower p
 394              		.loc 1 1603 9 is_stmt 1 view .LVU106
 395              	.LVL33:
1604:rtos/uCOS-III/Source/os_tmr.c ****             OS_TaskChangePrio(p_tcb, OSTmrTaskTCB.Prio);
 396              		.loc 1 1604 9 view .LVU107
ARM GAS  /tmp/ccfvxgcI.s 			page 38


1604:rtos/uCOS-III/Source/os_tmr.c ****             OS_TaskChangePrio(p_tcb, OSTmrTaskTCB.Prio);
 397              		.loc 1 1604 18 is_stmt 0 view .LVU108
 398 0074 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
1604:rtos/uCOS-III/Source/os_tmr.c ****             OS_TaskChangePrio(p_tcb, OSTmrTaskTCB.Prio);
 399              		.loc 1 1604 39 view .LVU109
 400 0078 124A     		ldr	r2, .L31
 401 007a 92F82F10 		ldrb	r1, [r2, #47]	@ zero_extendqisi2
1604:rtos/uCOS-III/Source/os_tmr.c ****             OS_TaskChangePrio(p_tcb, OSTmrTaskTCB.Prio);
 402              		.loc 1 1604 12 view .LVU110
 403 007e 8B42     		cmp	r3, r1
 404 0080 1DD8     		bhi	.L30
 405              	.LVL34:
 406              	.L26:
1608:rtos/uCOS-III/Source/os_tmr.c ****                                         &OSTmrTaskTCB,
 407              		.loc 1 1608 9 is_stmt 1 view .LVU111
 408 0082 0023     		movs	r3, #0
 409 0084 0422     		movs	r2, #4
 410 0086 0F49     		ldr	r1, .L31
 411 0088 0F48     		ldr	r0, .L31+4
 412 008a FFF7FEFF 		bl	OS_Pend
 413              	.LVL35:
1612:rtos/uCOS-III/Source/os_tmr.c **** 
 414              		.loc 1 1612 9 view .LVU112
1612:rtos/uCOS-III/Source/os_tmr.c **** 
 415              		.loc 1 1612 9 view .LVU113
1612:rtos/uCOS-III/Source/os_tmr.c **** 
 416              		.loc 1 1612 9 view .LVU114
 417 008e 2046     		mov	r0, r4
 418 0090 FFF7FEFF 		bl	CPU_SR_Restore
 419              	.LVL36:
1612:rtos/uCOS-III/Source/os_tmr.c **** 
 420              		.loc 1 1612 9 view .LVU115
1612:rtos/uCOS-III/Source/os_tmr.c **** 
 421              		.loc 1 1612 9 view .LVU116
1614:rtos/uCOS-III/Source/os_tmr.c ****     }
 422              		.loc 1 1614 9 view .LVU117
 423 0094 FFF7FEFF 		bl	OSSched
 424              	.LVL37:
 425              	.L20:
1616:rtos/uCOS-III/Source/os_tmr.c **** 
 426              		.loc 1 1616 1 is_stmt 0 view .LVU118
 427 0098 03B0     		add	sp, sp, #12
 428              	.LCFI13:
 429              		.cfi_remember_state
 430              		.cfi_def_cfa_offset 20
 431              		@ sp needed
 432 009a F0BD     		pop	{r4, r5, r6, r7, pc}
 433              	.LVL38:
 434              	.L28:
 435              	.LCFI14:
 436              		.cfi_restore_state
1572:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr =           0u;
 437              		.loc 1 1572 9 is_stmt 1 view .LVU119
1572:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr =           0u;
 438              		.loc 1 1572 36 is_stmt 0 view .LVU120
 439 009c 0022     		movs	r2, #0
 440 009e 1A61     		str	r2, [r3, #16]
ARM GAS  /tmp/ccfvxgcI.s 			page 39


1573:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 441              		.loc 1 1573 9 is_stmt 1 view .LVU121
1573:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 442              		.loc 1 1573 36 is_stmt 0 view .LVU122
 443 00a0 1A75     		strb	r2, [r3, #20]
 444 00a2 D5E7     		b	.L23
 445              	.L29:
1598:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = &OSTmrTaskTCB;
 446              		.loc 1 1598 9 is_stmt 1 view .LVU123
 447 00a4 1D46     		mov	r5, r3
 448              	.LVL39:
1598:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerTCBPtr     = &OSTmrTaskTCB;
 449              		.loc 1 1598 9 is_stmt 0 view .LVU124
 450 00a6 074E     		ldr	r6, .L31
 451 00a8 1946     		mov	r1, r3
 452 00aa 3046     		mov	r0, r6
 453 00ac FFF7FEFF 		bl	OS_MutexGrpAdd
 454              	.LVL40:
1599:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr = 1u;
 455              		.loc 1 1599 9 is_stmt 1 view .LVU125
1599:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrMutex.OwnerNestingCtr = 1u;
 456              		.loc 1 1599 36 is_stmt 0 view .LVU126
 457 00b0 2E61     		str	r6, [r5, #16]
1600:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
 458              		.loc 1 1600 9 is_stmt 1 view .LVU127
1600:rtos/uCOS-III/Source/os_tmr.c ****         CPU_CRITICAL_EXIT();
 459              		.loc 1 1600 36 is_stmt 0 view .LVU128
 460 00b2 0123     		movs	r3, #1
 461 00b4 2B75     		strb	r3, [r5, #20]
1601:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 462              		.loc 1 1601 9 is_stmt 1 view .LVU129
1601:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 463              		.loc 1 1601 9 view .LVU130
1601:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 464              		.loc 1 1601 9 view .LVU131
 465 00b6 2046     		mov	r0, r4
 466 00b8 FFF7FEFF 		bl	CPU_SR_Restore
 467              	.LVL41:
1601:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 468              		.loc 1 1601 9 view .LVU132
1601:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 469              		.loc 1 1601 9 view .LVU133
 470 00bc ECE7     		b	.L20
 471              	.LVL42:
 472              	.L30:
1605:rtos/uCOS-III/Source/os_tmr.c ****         }
 473              		.loc 1 1605 13 view .LVU134
 474 00be FFF7FEFF 		bl	OS_TaskChangePrio
 475              	.LVL43:
1605:rtos/uCOS-III/Source/os_tmr.c ****         }
 476              		.loc 1 1605 13 is_stmt 0 view .LVU135
 477 00c2 DEE7     		b	.L26
 478              	.L32:
 479              		.align	2
 480              	.L31:
 481 00c4 00000000 		.word	OSTmrTaskTCB
 482 00c8 00000000 		.word	OSTmrMutex
ARM GAS  /tmp/ccfvxgcI.s 			page 40


 483 00cc 00000000 		.word	OSPrioCur
 484 00d0 00000000 		.word	OSTmrCond
 485              		.cfi_endproc
 486              	.LFE15:
 488              		.section	.text.OSTmrCreate,"ax",%progbits
 489              		.align	1
 490              		.global	OSTmrCreate
 491              		.syntax unified
 492              		.thumb
 493              		.thumb_func
 494              		.fpu fpv4-sp-d16
 496              	OSTmrCreate:
 497              	.LVL44:
 498              	.LFB0:
 117:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 499              		.loc 1 117 1 is_stmt 1 view -0
 500              		.cfi_startproc
 501              		@ args = 16, pretend = 0, frame = 0
 502              		@ frame_needed = 0, uses_anonymous_args = 0
 117:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 503              		.loc 1 117 1 is_stmt 0 view .LVU137
 504 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 505              	.LCFI15:
 506              		.cfi_def_cfa_offset 24
 507              		.cfi_offset 3, -24
 508              		.cfi_offset 4, -20
 509              		.cfi_offset 5, -16
 510              		.cfi_offset 6, -12
 511              		.cfi_offset 7, -8
 512              		.cfi_offset 14, -4
 513 0002 BDF81870 		ldrh	r7, [sp, #24]
 133:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 514              		.loc 1 133 5 is_stmt 1 view .LVU138
 133:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 515              		.loc 1 133 25 is_stmt 0 view .LVU139
 516 0006 3249     		ldr	r1, .L54
 517              	.LVL45:
 133:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 518              		.loc 1 133 25 view .LVU140
 519 0008 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 133:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 520              		.loc 1 133 8 view .LVU141
 521 000a 79B9     		cbnz	r1, .L46
 522 000c 0446     		mov	r4, r0
 523 000e 1646     		mov	r6, r2
 524 0010 1D46     		mov	r5, r3
 140:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 525              		.loc 1 140 5 is_stmt 1 view .LVU142
 140:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 526              		.loc 1 140 8 is_stmt 0 view .LVU143
 527 0012 80B1     		cbz	r0, .L47
 145:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_PERIODIC:
 528              		.loc 1 145 5 is_stmt 1 view .LVU144
 529 0014 012F     		cmp	r7, #1
 530 0016 18D0     		beq	.L37
 531 0018 022F     		cmp	r7, #2
 532 001a 42D1     		bne	.L38
ARM GAS  /tmp/ccfvxgcI.s 			page 41


 147:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_PERIOD;
 533              		.loc 1 147 14 view .LVU145
 147:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_PERIOD;
 534              		.loc 1 147 17 is_stmt 0 view .LVU146
 535 001c 83B1     		cbz	r3, .L48
 152:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_CALLBACK;
 536              		.loc 1 152 14 is_stmt 1 view .LVU147
 152:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_CALLBACK;
 537              		.loc 1 152 17 is_stmt 0 view .LVU148
 538 001e 079B     		ldr	r3, [sp, #28]
 539              	.LVL46:
 152:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_CALLBACK;
 540              		.loc 1 152 17 view .LVU149
 541 0020 A3B9     		cbnz	r3, .L40
 153:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 542              		.loc 1 153 17 is_stmt 1 view .LVU150
 153:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 543              		.loc 1 153 24 is_stmt 0 view .LVU151
 544 0022 47F24A33 		movw	r3, #29514
 545 0026 099A     		ldr	r2, [sp, #36]
 546              	.LVL47:
 153:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 547              		.loc 1 153 24 view .LVU152
 548 0028 1380     		strh	r3, [r2]	@ movhi
 154:rtos/uCOS-III/Source/os_tmr.c ****              }
 549              		.loc 1 154 18 is_stmt 1 view .LVU153
 550 002a 03E0     		b	.L33
 551              	.LVL48:
 552              	.L46:
 134:rtos/uCOS-III/Source/os_tmr.c ****         return;
 553              		.loc 1 134 8 view .LVU154
 134:rtos/uCOS-III/Source/os_tmr.c ****         return;
 554              		.loc 1 134 15 is_stmt 0 view .LVU155
 555 002c 47F24333 		movw	r3, #29507
 556              	.LVL49:
 134:rtos/uCOS-III/Source/os_tmr.c ****         return;
 557              		.loc 1 134 15 view .LVU156
 558 0030 099A     		ldr	r2, [sp, #36]
 559              	.LVL50:
 134:rtos/uCOS-III/Source/os_tmr.c ****         return;
 560              		.loc 1 134 15 view .LVU157
 561 0032 1380     		strh	r3, [r2]	@ movhi
 135:rtos/uCOS-III/Source/os_tmr.c ****     }
 562              		.loc 1 135 9 is_stmt 1 view .LVU158
 563              	.LVL51:
 564              	.L33:
 212:rtos/uCOS-III/Source/os_tmr.c **** 
 565              		.loc 1 212 1 is_stmt 0 view .LVU159
 566 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 567              	.LVL52:
 568              	.L47:
 141:rtos/uCOS-III/Source/os_tmr.c ****         return;
 569              		.loc 1 141 8 is_stmt 1 view .LVU160
 141:rtos/uCOS-III/Source/os_tmr.c ****         return;
 570              		.loc 1 141 15 is_stmt 0 view .LVU161
 571 0036 45F6C353 		movw	r3, #24003
 572              	.LVL53:
ARM GAS  /tmp/ccfvxgcI.s 			page 42


 141:rtos/uCOS-III/Source/os_tmr.c ****         return;
 573              		.loc 1 141 15 view .LVU162
 574 003a 099A     		ldr	r2, [sp, #36]
 575              	.LVL54:
 141:rtos/uCOS-III/Source/os_tmr.c ****         return;
 576              		.loc 1 141 15 view .LVU163
 577 003c 1380     		strh	r3, [r2]	@ movhi
 142:rtos/uCOS-III/Source/os_tmr.c ****     }
 578              		.loc 1 142 9 is_stmt 1 view .LVU164
 579 003e F9E7     		b	.L33
 580              	.LVL55:
 581              	.L48:
 148:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 582              		.loc 1 148 17 view .LVU165
 148:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 583              		.loc 1 148 24 is_stmt 0 view .LVU166
 584 0040 47F24033 		movw	r3, #29504
 585              	.LVL56:
 148:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 586              		.loc 1 148 24 view .LVU167
 587 0044 099A     		ldr	r2, [sp, #36]
 588              	.LVL57:
 148:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 589              		.loc 1 148 24 view .LVU168
 590 0046 1380     		strh	r3, [r2]	@ movhi
 149:rtos/uCOS-III/Source/os_tmr.c ****              }
 591              		.loc 1 149 18 is_stmt 1 view .LVU169
 592 0048 F4E7     		b	.L33
 593              	.LVL58:
 594              	.L37:
 159:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_DLY;
 595              		.loc 1 159 14 view .LVU170
 159:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_DLY;
 596              		.loc 1 159 17 is_stmt 0 view .LVU171
 597 004a 2AB3     		cbz	r2, .L49
 598              	.LVL59:
 599              	.L40:
 171:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrLock();
 600              		.loc 1 171 5 is_stmt 1 view .LVU172
 171:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrLock();
 601              		.loc 1 171 19 is_stmt 0 view .LVU173
 602 004c 214B     		ldr	r3, .L54+4
 603 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 171:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrLock();
 604              		.loc 1 171 8 view .LVU174
 605 0050 012B     		cmp	r3, #1
 606 0052 2BD0     		beq	.L50
 607              	.LVL60:
 608              	.L41:
 175:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_OBJ_TYPE_REQ > 0u)
 609              		.loc 1 175 5 is_stmt 1 view .LVU175
 175:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_OBJ_TYPE_REQ > 0u)
 610              		.loc 1 175 27 is_stmt 0 view .LVU176
 611 0054 0123     		movs	r3, #1
 612 0056 84F82230 		strb	r3, [r4, #34]
 177:rtos/uCOS-III/Source/os_tmr.c ****         if (OSRunning == OS_STATE_OS_RUNNING) {
 613              		.loc 1 177 5 is_stmt 1 view .LVU177
ARM GAS  /tmp/ccfvxgcI.s 			page 43


 177:rtos/uCOS-III/Source/os_tmr.c ****         if (OSRunning == OS_STATE_OS_RUNNING) {
 614              		.loc 1 177 14 is_stmt 0 view .LVU178
 615 005a 2268     		ldr	r2, [r4]
 177:rtos/uCOS-III/Source/os_tmr.c ****         if (OSRunning == OS_STATE_OS_RUNNING) {
 616              		.loc 1 177 8 view .LVU179
 617 005c 1E4B     		ldr	r3, .L54+8
 618 005e 9A42     		cmp	r2, r3
 619 0060 27D0     		beq	.L51
 184:rtos/uCOS-III/Source/os_tmr.c **** #endif
 620              		.loc 1 184 5 is_stmt 1 view .LVU180
 184:rtos/uCOS-III/Source/os_tmr.c **** #endif
 621              		.loc 1 184 27 is_stmt 0 view .LVU181
 622 0062 1D4B     		ldr	r3, .L54+8
 623 0064 2360     		str	r3, [r4]
 189:rtos/uCOS-III/Source/os_tmr.c **** #endif
 624              		.loc 1 189 5 is_stmt 1 view .LVU182
 191:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Remain         =  0u;
 625              		.loc 1 191 5 view .LVU183
 191:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Remain         =  0u;
 626              		.loc 1 191 37 is_stmt 0 view .LVU184
 627 0066 1D4B     		ldr	r3, .L54+12
 628 0068 1B68     		ldr	r3, [r3]
 629 006a 06FB03F6 		mul	r6, r6, r3
 630              	.LVL61:
 191:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Remain         =  0u;
 631              		.loc 1 191 27 view .LVU185
 632 006e A661     		str	r6, [r4, #24]
 192:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         =  period * OSTmrToTicksMult;         /* Convert to Timer Period      to 
 633              		.loc 1 192 5 is_stmt 1 view .LVU186
 192:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         =  period * OSTmrToTicksMult;         /* Convert to Timer Period      to 
 634              		.loc 1 192 27 is_stmt 0 view .LVU187
 635 0070 0022     		movs	r2, #0
 636 0072 6261     		str	r2, [r4, #20]
 193:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Opt            =  opt;
 637              		.loc 1 193 5 is_stmt 1 view .LVU188
 193:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Opt            =  opt;
 638              		.loc 1 193 37 is_stmt 0 view .LVU189
 639 0074 05FB03F3 		mul	r3, r5, r3
 193:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Opt            =  opt;
 640              		.loc 1 193 27 view .LVU190
 641 0078 E361     		str	r3, [r4, #28]
 194:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    =  p_callback;
 642              		.loc 1 194 5 is_stmt 1 view .LVU191
 194:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    =  p_callback;
 643              		.loc 1 194 27 is_stmt 0 view .LVU192
 644 007a 2784     		strh	r7, [r4, #32]	@ movhi
 195:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg =  p_callback_arg;
 645              		.loc 1 195 5 is_stmt 1 view .LVU193
 195:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg =  p_callback_arg;
 646              		.loc 1 195 27 is_stmt 0 view .LVU194
 647 007c 079B     		ldr	r3, [sp, #28]
 648 007e 6360     		str	r3, [r4, #4]
 196:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NextPtr        = (OS_TMR *)0;
 649              		.loc 1 196 5 is_stmt 1 view .LVU195
 196:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NextPtr        = (OS_TMR *)0;
 650              		.loc 1 196 27 is_stmt 0 view .LVU196
 651 0080 089B     		ldr	r3, [sp, #32]
ARM GAS  /tmp/ccfvxgcI.s 			page 44


 652 0082 A360     		str	r3, [r4, #8]
 197:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->PrevPtr        = (OS_TMR *)0;
 653              		.loc 1 197 5 is_stmt 1 view .LVU197
 197:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->PrevPtr        = (OS_TMR *)0;
 654              		.loc 1 197 27 is_stmt 0 view .LVU198
 655 0084 E260     		str	r2, [r4, #12]
 198:rtos/uCOS-III/Source/os_tmr.c **** 
 656              		.loc 1 198 5 is_stmt 1 view .LVU199
 198:rtos/uCOS-III/Source/os_tmr.c **** 
 657              		.loc 1 198 27 is_stmt 0 view .LVU200
 658 0086 2261     		str	r2, [r4, #16]
 207:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrUnlock();
 659              		.loc 1 207 5 is_stmt 1 view .LVU201
 207:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrUnlock();
 660              		.loc 1 207 19 is_stmt 0 view .LVU202
 661 0088 124B     		ldr	r3, .L54+4
 662 008a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 207:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrUnlock();
 663              		.loc 1 207 8 view .LVU203
 664 008c 012B     		cmp	r3, #1
 665 008e 1CD0     		beq	.L52
 666              	.L44:
 211:rtos/uCOS-III/Source/os_tmr.c **** }
 667              		.loc 1 211 4 is_stmt 1 view .LVU204
 211:rtos/uCOS-III/Source/os_tmr.c **** }
 668              		.loc 1 211 11 is_stmt 0 view .LVU205
 669 0090 0023     		movs	r3, #0
 670 0092 099A     		ldr	r2, [sp, #36]
 671 0094 1380     		strh	r3, [r2]	@ movhi
 672 0096 CDE7     		b	.L33
 673              	.LVL62:
 674              	.L49:
 160:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 675              		.loc 1 160 17 is_stmt 1 view .LVU206
 160:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 676              		.loc 1 160 24 is_stmt 0 view .LVU207
 677 0098 47F23F33 		movw	r3, #29503
 678              	.LVL63:
 160:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 679              		.loc 1 160 24 view .LVU208
 680 009c 099A     		ldr	r2, [sp, #36]
 681              	.LVL64:
 160:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 682              		.loc 1 160 24 view .LVU209
 683 009e 1380     		strh	r3, [r2]	@ movhi
 161:rtos/uCOS-III/Source/os_tmr.c ****              }
 684              		.loc 1 161 18 is_stmt 1 view .LVU210
 685 00a0 C8E7     		b	.L33
 686              	.LVL65:
 687              	.L38:
 166:rtos/uCOS-III/Source/os_tmr.c ****              return;
 688              		.loc 1 166 13 view .LVU211
 166:rtos/uCOS-III/Source/os_tmr.c ****              return;
 689              		.loc 1 166 20 is_stmt 0 view .LVU212
 690 00a2 45F62563 		movw	r3, #24101
 691              	.LVL66:
 166:rtos/uCOS-III/Source/os_tmr.c ****              return;
ARM GAS  /tmp/ccfvxgcI.s 			page 45


 692              		.loc 1 166 20 view .LVU213
 693 00a6 099A     		ldr	r2, [sp, #36]
 694              	.LVL67:
 166:rtos/uCOS-III/Source/os_tmr.c ****              return;
 695              		.loc 1 166 20 view .LVU214
 696 00a8 1380     		strh	r3, [r2]	@ movhi
 167:rtos/uCOS-III/Source/os_tmr.c ****     }
 697              		.loc 1 167 14 is_stmt 1 view .LVU215
 698 00aa C3E7     		b	.L33
 699              	.LVL68:
 700              	.L50:
 172:rtos/uCOS-III/Source/os_tmr.c ****     }
 701              		.loc 1 172 9 view .LVU216
 702 00ac FFF7FEFF 		bl	OS_TmrLock
 703              	.LVL69:
 172:rtos/uCOS-III/Source/os_tmr.c ****     }
 704              		.loc 1 172 9 is_stmt 0 view .LVU217
 705 00b0 D0E7     		b	.L41
 706              	.L51:
 178:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrUnlock();
 707              		.loc 1 178 9 is_stmt 1 view .LVU218
 178:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrUnlock();
 708              		.loc 1 178 23 is_stmt 0 view .LVU219
 709 00b2 084B     		ldr	r3, .L54+4
 710 00b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 178:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrUnlock();
 711              		.loc 1 178 12 view .LVU220
 712 00b6 012B     		cmp	r3, #1
 713 00b8 04D0     		beq	.L53
 714              	.L43:
 181:rtos/uCOS-III/Source/os_tmr.c ****         return;
 715              		.loc 1 181 9 is_stmt 1 view .LVU221
 181:rtos/uCOS-III/Source/os_tmr.c ****         return;
 716              		.loc 1 181 16 is_stmt 0 view .LVU222
 717 00ba 45F6C153 		movw	r3, #24001
 718 00be 099A     		ldr	r2, [sp, #36]
 719 00c0 1380     		strh	r3, [r2]	@ movhi
 182:rtos/uCOS-III/Source/os_tmr.c ****     }
 720              		.loc 1 182 9 is_stmt 1 view .LVU223
 721 00c2 B7E7     		b	.L33
 722              	.L53:
 179:rtos/uCOS-III/Source/os_tmr.c ****         }
 723              		.loc 1 179 13 view .LVU224
 724 00c4 FFF7FEFF 		bl	OS_TmrUnlock
 725              	.LVL70:
 726 00c8 F7E7     		b	.L43
 727              	.LVL71:
 728              	.L52:
 208:rtos/uCOS-III/Source/os_tmr.c ****     }
 729              		.loc 1 208 9 view .LVU225
 730 00ca FFF7FEFF 		bl	OS_TmrUnlock
 731              	.LVL72:
 732 00ce DFE7     		b	.L44
 733              	.L55:
 734              		.align	2
 735              	.L54:
 736 00d0 00000000 		.word	OSIntNestingCtr
ARM GAS  /tmp/ccfvxgcI.s 			page 46


 737 00d4 00000000 		.word	OSRunning
 738 00d8 544D5220 		.word	542264660
 739 00dc 00000000 		.word	OSTmrToTicksMult
 740              		.cfi_endproc
 741              	.LFE0:
 743              		.section	.text.OSTmrRemainGet,"ax",%progbits
 744              		.align	1
 745              		.global	OSTmrRemainGet
 746              		.syntax unified
 747              		.thumb
 748              		.thumb_func
 749              		.fpu fpv4-sp-d16
 751              	OSTmrRemainGet:
 752              	.LVL73:
 753              	.LFB2:
 377:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
 754              		.loc 1 377 1 view -0
 755              		.cfi_startproc
 756              		@ args = 0, pretend = 0, frame = 0
 757              		@ frame_needed = 0, uses_anonymous_args = 0
 377:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
 758              		.loc 1 377 1 is_stmt 0 view .LVU227
 759 0000 70B5     		push	{r4, r5, r6, lr}
 760              	.LCFI16:
 761              		.cfi_def_cfa_offset 16
 762              		.cfi_offset 4, -16
 763              		.cfi_offset 5, -12
 764              		.cfi_offset 6, -8
 765              		.cfi_offset 14, -4
 766 0002 0C46     		mov	r4, r1
 378:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   remain;
 767              		.loc 1 378 5 is_stmt 1 view .LVU228
 379:rtos/uCOS-III/Source/os_tmr.c **** 
 768              		.loc 1 379 5 view .LVU229
 390:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 769              		.loc 1 390 5 view .LVU230
 390:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 770              		.loc 1 390 25 is_stmt 0 view .LVU231
 771 0004 324B     		ldr	r3, .L79
 772 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 390:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 773              		.loc 1 390 8 view .LVU232
 774 0008 4BB9     		cbnz	r3, .L76
 775 000a 0646     		mov	r6, r0
 397:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 776              		.loc 1 397 5 is_stmt 1 view .LVU233
 397:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 777              		.loc 1 397 19 is_stmt 0 view .LVU234
 778 000c 314B     		ldr	r3, .L79+4
 779 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 397:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 780              		.loc 1 397 8 view .LVU235
 781 0010 012B     		cmp	r3, #1
 782 0012 0AD0     		beq	.L59
 398:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 783              		.loc 1 398 8 is_stmt 1 view .LVU236
 398:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
ARM GAS  /tmp/ccfvxgcI.s 			page 47


 784              		.loc 1 398 15 is_stmt 0 view .LVU237
 785 0014 45F68963 		movw	r3, #24201
 786 0018 0B80     		strh	r3, [r1]	@ movhi
 399:rtos/uCOS-III/Source/os_tmr.c ****     }
 787              		.loc 1 399 9 is_stmt 1 view .LVU238
 399:rtos/uCOS-III/Source/os_tmr.c ****     }
 788              		.loc 1 399 16 is_stmt 0 view .LVU239
 789 001a 0025     		movs	r5, #0
 790 001c 03E0     		b	.L56
 791              	.L76:
 391:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 792              		.loc 1 391 8 is_stmt 1 view .LVU240
 391:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 793              		.loc 1 391 15 is_stmt 0 view .LVU241
 794 001e 47F24333 		movw	r3, #29507
 795 0022 0B80     		strh	r3, [r1]	@ movhi
 392:rtos/uCOS-III/Source/os_tmr.c ****     }
 796              		.loc 1 392 9 is_stmt 1 view .LVU242
 392:rtos/uCOS-III/Source/os_tmr.c ****     }
 797              		.loc 1 392 16 is_stmt 0 view .LVU243
 798 0024 0025     		movs	r5, #0
 799              	.LVL74:
 800              	.L56:
 467:rtos/uCOS-III/Source/os_tmr.c **** 
 801              		.loc 1 467 1 view .LVU244
 802 0026 2846     		mov	r0, r5
 803 0028 70BD     		pop	{r4, r5, r6, pc}
 804              	.LVL75:
 805              	.L59:
 404:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 806              		.loc 1 404 5 is_stmt 1 view .LVU245
 404:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 807              		.loc 1 404 8 is_stmt 0 view .LVU246
 808 002a 40B1     		cbz	r0, .L77
 411:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 809              		.loc 1 411 5 is_stmt 1 view .LVU247
 411:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 810              		.loc 1 411 14 is_stmt 0 view .LVU248
 811 002c 0268     		ldr	r2, [r0]
 411:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 812              		.loc 1 411 8 view .LVU249
 813 002e 2A4B     		ldr	r3, .L79+8
 814 0030 9A42     		cmp	r2, r3
 815 0032 09D0     		beq	.L61
 412:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 816              		.loc 1 412 8 is_stmt 1 view .LVU250
 412:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 817              		.loc 1 412 15 is_stmt 0 view .LVU251
 818 0034 45F6C453 		movw	r3, #24004
 819 0038 0B80     		strh	r3, [r1]	@ movhi
 413:rtos/uCOS-III/Source/os_tmr.c ****     }
 820              		.loc 1 413 9 is_stmt 1 view .LVU252
 413:rtos/uCOS-III/Source/os_tmr.c ****     }
 821              		.loc 1 413 16 is_stmt 0 view .LVU253
 822 003a 0025     		movs	r5, #0
 823 003c F3E7     		b	.L56
 824              	.L77:
ARM GAS  /tmp/ccfvxgcI.s 			page 48


 405:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 825              		.loc 1 405 8 is_stmt 1 view .LVU254
 405:rtos/uCOS-III/Source/os_tmr.c ****         return (0u);
 826              		.loc 1 405 15 is_stmt 0 view .LVU255
 827 003e 47F24233 		movw	r3, #29506
 828 0042 0B80     		strh	r3, [r1]	@ movhi
 406:rtos/uCOS-III/Source/os_tmr.c ****     }
 829              		.loc 1 406 9 is_stmt 1 view .LVU256
 406:rtos/uCOS-III/Source/os_tmr.c ****     }
 830              		.loc 1 406 16 is_stmt 0 view .LVU257
 831 0044 0025     		movs	r5, #0
 832 0046 EEE7     		b	.L56
 833              	.L61:
 417:rtos/uCOS-III/Source/os_tmr.c **** 
 834              		.loc 1 417 5 is_stmt 1 view .LVU258
 835 0048 FFF7FEFF 		bl	OS_TmrLock
 836              	.LVL76:
 419:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 837              		.loc 1 419 5 view .LVU259
 419:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 838              		.loc 1 419 18 is_stmt 0 view .LVU260
 839 004c 96F82230 		ldrb	r3, [r6, #34]	@ zero_extendqisi2
 840 0050 042B     		cmp	r3, #4
 841 0052 37D8     		bhi	.L62
 842 0054 DFE803F0 		tbb	[pc, r3]
 843              	.L64:
 844 0058 31       		.byte	(.L67-.L64)/2
 845 0059 16       		.byte	(.L66-.L64)/2
 846 005a 03       		.byte	(.L65-.L64)/2
 847 005b 2E       		.byte	(.L63-.L64)/2
 848 005c 2E       		.byte	(.L63-.L64)/2
 849 005d 00       		.p2align 1
 850              	.L65:
 421:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 851              		.loc 1 421 14 is_stmt 1 view .LVU261
 421:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 852              		.loc 1 421 21 is_stmt 0 view .LVU262
 853 005e 1F4B     		ldr	r3, .L79+12
 854 0060 1B68     		ldr	r3, [r3]
 855              	.LVL77:
 422:rtos/uCOS-III/Source/os_tmr.c ****              while (p_tmr1 != (OS_TMR *)0) {                    /* Add up all the deltas up until t
 856              		.loc 1 422 14 is_stmt 1 view .LVU263
 423:rtos/uCOS-III/Source/os_tmr.c ****                  remain += p_tmr1->Remain;
 857              		.loc 1 423 14 view .LVU264
 422:rtos/uCOS-III/Source/os_tmr.c ****              while (p_tmr1 != (OS_TMR *)0) {                    /* Add up all the deltas up until t
 858              		.loc 1 422 21 is_stmt 0 view .LVU265
 859 0062 0025     		movs	r5, #0
 860              	.LVL78:
 861              	.L68:
 423:rtos/uCOS-III/Source/os_tmr.c ****                  remain += p_tmr1->Remain;
 862              		.loc 1 423 20 is_stmt 1 view .LVU266
 863 0064 2BB1     		cbz	r3, .L69
 424:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr1 == p_tmr) {
 864              		.loc 1 424 18 view .LVU267
 424:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr1 == p_tmr) {
 865              		.loc 1 424 34 is_stmt 0 view .LVU268
 866 0066 5A69     		ldr	r2, [r3, #20]
ARM GAS  /tmp/ccfvxgcI.s 			page 49


 424:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr1 == p_tmr) {
 867              		.loc 1 424 25 view .LVU269
 868 0068 1544     		add	r5, r5, r2
 869              	.LVL79:
 425:rtos/uCOS-III/Source/os_tmr.c ****                      break;
 870              		.loc 1 425 18 is_stmt 1 view .LVU270
 425:rtos/uCOS-III/Source/os_tmr.c ****                      break;
 871              		.loc 1 425 21 is_stmt 0 view .LVU271
 872 006a B342     		cmp	r3, r6
 873 006c 01D0     		beq	.L69
 428:rtos/uCOS-III/Source/os_tmr.c ****              }
 874              		.loc 1 428 18 is_stmt 1 view .LVU272
 428:rtos/uCOS-III/Source/os_tmr.c ****              }
 875              		.loc 1 428 25 is_stmt 0 view .LVU273
 876 006e DB68     		ldr	r3, [r3, #12]
 877              	.LVL80:
 428:rtos/uCOS-III/Source/os_tmr.c ****              }
 878              		.loc 1 428 25 view .LVU274
 879 0070 F8E7     		b	.L68
 880              	.L69:
 430:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 881              		.loc 1 430 14 is_stmt 1 view .LVU275
 430:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 882              		.loc 1 430 21 is_stmt 0 view .LVU276
 883 0072 1B4B     		ldr	r3, .L79+16
 884              	.LVL81:
 430:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 885              		.loc 1 430 21 view .LVU277
 886 0074 1B68     		ldr	r3, [r3]
 887 0076 B5FBF3F5 		udiv	r5, r5, r3
 888              	.LVL82:
 431:rtos/uCOS-III/Source/os_tmr.c ****              break;
 889              		.loc 1 431 13 is_stmt 1 view .LVU278
 431:rtos/uCOS-III/Source/os_tmr.c ****              break;
 890              		.loc 1 431 22 is_stmt 0 view .LVU279
 891 007a 0023     		movs	r3, #0
 892 007c 2380     		strh	r3, [r4]	@ movhi
 432:rtos/uCOS-III/Source/os_tmr.c **** 
 893              		.loc 1 432 14 is_stmt 1 view .LVU280
 894              	.LVL83:
 895              	.L71:
 464:rtos/uCOS-III/Source/os_tmr.c **** 
 896              		.loc 1 464 5 view .LVU281
 897 007e FFF7FEFF 		bl	OS_TmrUnlock
 898              	.LVL84:
 466:rtos/uCOS-III/Source/os_tmr.c **** }
 899              		.loc 1 466 5 view .LVU282
 466:rtos/uCOS-III/Source/os_tmr.c **** }
 900              		.loc 1 466 12 is_stmt 0 view .LVU283
 901 0082 D0E7     		b	.L56
 902              	.LVL85:
 903              	.L66:
 435:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr->Dly == 0u) {
 904              		.loc 1 435 14 is_stmt 1 view .LVU284
 435:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr->Dly == 0u) {
 905              		.loc 1 435 23 is_stmt 0 view .LVU285
 906 0084 338C     		ldrh	r3, [r6, #32]
ARM GAS  /tmp/ccfvxgcI.s 			page 50


 435:rtos/uCOS-III/Source/os_tmr.c ****                  if (p_tmr->Dly == 0u) {
 907              		.loc 1 435 17 view .LVU286
 908 0086 022B     		cmp	r3, #2
 909 0088 07D0     		beq	.L78
 442:rtos/uCOS-III/Source/os_tmr.c ****              }
 910              		.loc 1 442 18 is_stmt 1 view .LVU287
 442:rtos/uCOS-III/Source/os_tmr.c ****              }
 911              		.loc 1 442 32 is_stmt 0 view .LVU288
 912 008a B569     		ldr	r5, [r6, #24]
 442:rtos/uCOS-III/Source/os_tmr.c ****              }
 913              		.loc 1 442 38 view .LVU289
 914 008c 144B     		ldr	r3, .L79+16
 915 008e 1B68     		ldr	r3, [r3]
 442:rtos/uCOS-III/Source/os_tmr.c ****              }
 916              		.loc 1 442 25 view .LVU290
 917 0090 B5FBF3F5 		udiv	r5, r5, r3
 918              	.LVL86:
 919              	.L74:
 444:rtos/uCOS-III/Source/os_tmr.c ****              break;
 920              		.loc 1 444 13 is_stmt 1 view .LVU291
 444:rtos/uCOS-III/Source/os_tmr.c ****              break;
 921              		.loc 1 444 20 is_stmt 0 view .LVU292
 922 0094 0023     		movs	r3, #0
 923 0096 2380     		strh	r3, [r4]	@ movhi
 445:rtos/uCOS-III/Source/os_tmr.c **** 
 924              		.loc 1 445 14 is_stmt 1 view .LVU293
 925 0098 F1E7     		b	.L71
 926              	.LVL87:
 927              	.L78:
 436:rtos/uCOS-III/Source/os_tmr.c ****                      remain = p_tmr->Period / OSTmrToTicksMult;
 928              		.loc 1 436 18 view .LVU294
 436:rtos/uCOS-III/Source/os_tmr.c ****                      remain = p_tmr->Period / OSTmrToTicksMult;
 929              		.loc 1 436 27 is_stmt 0 view .LVU295
 930 009a B569     		ldr	r5, [r6, #24]
 436:rtos/uCOS-III/Source/os_tmr.c ****                      remain = p_tmr->Period / OSTmrToTicksMult;
 931              		.loc 1 436 21 view .LVU296
 932 009c 2DB9     		cbnz	r5, .L73
 437:rtos/uCOS-III/Source/os_tmr.c ****                  } else {
 933              		.loc 1 437 22 is_stmt 1 view .LVU297
 437:rtos/uCOS-III/Source/os_tmr.c ****                  } else {
 934              		.loc 1 437 36 is_stmt 0 view .LVU298
 935 009e F569     		ldr	r5, [r6, #28]
 437:rtos/uCOS-III/Source/os_tmr.c ****                  } else {
 936              		.loc 1 437 45 view .LVU299
 937 00a0 0F4B     		ldr	r3, .L79+16
 938 00a2 1B68     		ldr	r3, [r3]
 437:rtos/uCOS-III/Source/os_tmr.c ****                  } else {
 939              		.loc 1 437 29 view .LVU300
 940 00a4 B5FBF3F5 		udiv	r5, r5, r3
 941              	.LVL88:
 437:rtos/uCOS-III/Source/os_tmr.c ****                  } else {
 942              		.loc 1 437 29 view .LVU301
 943 00a8 F4E7     		b	.L74
 944              	.LVL89:
 945              	.L73:
 439:rtos/uCOS-III/Source/os_tmr.c ****                  }
 946              		.loc 1 439 22 is_stmt 1 view .LVU302
ARM GAS  /tmp/ccfvxgcI.s 			page 51


 439:rtos/uCOS-III/Source/os_tmr.c ****                  }
 947              		.loc 1 439 42 is_stmt 0 view .LVU303
 948 00aa 0D4B     		ldr	r3, .L79+16
 949 00ac 1B68     		ldr	r3, [r3]
 439:rtos/uCOS-III/Source/os_tmr.c ****                  }
 950              		.loc 1 439 29 view .LVU304
 951 00ae B5FBF3F5 		udiv	r5, r5, r3
 952              	.LVL90:
 439:rtos/uCOS-III/Source/os_tmr.c ****                  }
 953              		.loc 1 439 29 view .LVU305
 954 00b2 EFE7     		b	.L74
 955              	.LVL91:
 956              	.L63:
 449:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 957              		.loc 1 449 13 is_stmt 1 view .LVU306
 449:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 958              		.loc 1 449 21 is_stmt 0 view .LVU307
 959 00b4 0025     		movs	r5, #0
 960 00b6 2580     		strh	r5, [r4]	@ movhi
 450:rtos/uCOS-III/Source/os_tmr.c ****              break;
 961              		.loc 1 450 14 is_stmt 1 view .LVU308
 962              	.LVL92:
 451:rtos/uCOS-III/Source/os_tmr.c **** 
 963              		.loc 1 451 14 view .LVU309
 964 00b8 E1E7     		b	.L71
 965              	.LVL93:
 966              	.L67:
 454:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 967              		.loc 1 454 13 view .LVU310
 454:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 968              		.loc 1 454 21 is_stmt 0 view .LVU311
 969 00ba 47F23D33 		movw	r3, #29501
 970 00be 2380     		strh	r3, [r4]	@ movhi
 455:rtos/uCOS-III/Source/os_tmr.c ****              break;
 971              		.loc 1 455 14 is_stmt 1 view .LVU312
 972              	.LVL94:
 456:rtos/uCOS-III/Source/os_tmr.c **** 
 973              		.loc 1 456 14 view .LVU313
 455:rtos/uCOS-III/Source/os_tmr.c ****              break;
 974              		.loc 1 455 21 is_stmt 0 view .LVU314
 975 00c0 0025     		movs	r5, #0
 456:rtos/uCOS-III/Source/os_tmr.c **** 
 976              		.loc 1 456 14 view .LVU315
 977 00c2 DCE7     		b	.L71
 978              	.LVL95:
 979              	.L62:
 459:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 980              		.loc 1 459 13 is_stmt 1 view .LVU316
 459:rtos/uCOS-III/Source/os_tmr.c ****              remain = 0u;
 981              		.loc 1 459 20 is_stmt 0 view .LVU317
 982 00c4 47F24133 		movw	r3, #29505
 983 00c8 2380     		strh	r3, [r4]	@ movhi
 460:rtos/uCOS-III/Source/os_tmr.c ****              break;
 984              		.loc 1 460 14 is_stmt 1 view .LVU318
 985              	.LVL96:
 461:rtos/uCOS-III/Source/os_tmr.c ****     }
 986              		.loc 1 461 14 view .LVU319
ARM GAS  /tmp/ccfvxgcI.s 			page 52


 460:rtos/uCOS-III/Source/os_tmr.c ****              break;
 987              		.loc 1 460 21 is_stmt 0 view .LVU320
 988 00ca 0025     		movs	r5, #0
 461:rtos/uCOS-III/Source/os_tmr.c ****     }
 989              		.loc 1 461 14 view .LVU321
 990 00cc D7E7     		b	.L71
 991              	.L80:
 992 00ce 00BF     		.align	2
 993              	.L79:
 994 00d0 00000000 		.word	OSIntNestingCtr
 995 00d4 00000000 		.word	OSRunning
 996 00d8 544D5220 		.word	542264660
 997 00dc 00000000 		.word	OSTmrListPtr
 998 00e0 00000000 		.word	OSTmrToTicksMult
 999              		.cfi_endproc
 1000              	.LFE2:
 1002              		.section	.text.OSTmrSet,"ax",%progbits
 1003              		.align	1
 1004              		.global	OSTmrSet
 1005              		.syntax unified
 1006              		.thumb
 1007              		.thumb_func
 1008              		.fpu fpv4-sp-d16
 1010              	OSTmrSet:
 1011              	.LVL97:
 1012              	.LFB3:
 519:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 1013              		.loc 1 519 1 is_stmt 1 view -0
 1014              		.cfi_startproc
 1015              		@ args = 8, pretend = 0, frame = 0
 1016              		@ frame_needed = 0, uses_anonymous_args = 0
 519:rtos/uCOS-III/Source/os_tmr.c **** #ifdef OS_SAFETY_CRITICAL
 1017              		.loc 1 519 1 is_stmt 0 view .LVU323
 1018 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1019              	.LCFI17:
 1020              		.cfi_def_cfa_offset 24
 1021              		.cfi_offset 3, -24
 1022              		.cfi_offset 4, -20
 1023              		.cfi_offset 5, -16
 1024              		.cfi_offset 6, -12
 1025              		.cfi_offset 7, -8
 1026              		.cfi_offset 14, -4
 1027 0002 0446     		mov	r4, r0
 528:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 1028              		.loc 1 528 5 is_stmt 1 view .LVU324
 528:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 1029              		.loc 1 528 25 is_stmt 0 view .LVU325
 1030 0004 2848     		ldr	r0, .L96
 1031              	.LVL98:
 528:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 1032              		.loc 1 528 25 view .LVU326
 1033 0006 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 528:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 1034              		.loc 1 528 8 view .LVU327
 1035 0008 58B9     		cbnz	r0, .L92
 1036 000a 0F46     		mov	r7, r1
 1037 000c 1646     		mov	r6, r2
ARM GAS  /tmp/ccfvxgcI.s 			page 53


 1038 000e 1D46     		mov	r5, r3
 535:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1039              		.loc 1 535 5 is_stmt 1 view .LVU328
 535:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1040              		.loc 1 535 19 is_stmt 0 view .LVU329
 1041 0010 264B     		ldr	r3, .L96+4
 1042              	.LVL99:
 535:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1043              		.loc 1 535 19 view .LVU330
 1044 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 535:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1045              		.loc 1 535 8 view .LVU331
 1046 0014 012B     		cmp	r3, #1
 1047 0016 09D0     		beq	.L84
 536:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1048              		.loc 1 536 8 is_stmt 1 view .LVU332
 536:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1049              		.loc 1 536 15 is_stmt 0 view .LVU333
 1050 0018 45F68963 		movw	r3, #24201
 1051 001c 079A     		ldr	r2, [sp, #28]
 1052              	.LVL100:
 536:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1053              		.loc 1 536 15 view .LVU334
 1054 001e 1380     		strh	r3, [r2]	@ movhi
 537:rtos/uCOS-III/Source/os_tmr.c ****     }
 1055              		.loc 1 537 9 is_stmt 1 view .LVU335
 1056 0020 03E0     		b	.L81
 1057              	.LVL101:
 1058              	.L92:
 529:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1059              		.loc 1 529 8 view .LVU336
 529:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1060              		.loc 1 529 15 is_stmt 0 view .LVU337
 1061 0022 47F24333 		movw	r3, #29507
 1062              	.LVL102:
 529:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1063              		.loc 1 529 15 view .LVU338
 1064 0026 079A     		ldr	r2, [sp, #28]
 1065              	.LVL103:
 529:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1066              		.loc 1 529 15 view .LVU339
 1067 0028 1380     		strh	r3, [r2]	@ movhi
 530:rtos/uCOS-III/Source/os_tmr.c ****     }
 1068              		.loc 1 530 9 is_stmt 1 view .LVU340
 1069              	.LVL104:
 1070              	.L81:
 592:rtos/uCOS-III/Source/os_tmr.c **** 
 1071              		.loc 1 592 1 is_stmt 0 view .LVU341
 1072 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1073              	.LVL105:
 1074              	.L84:
 542:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 1075              		.loc 1 542 5 is_stmt 1 view .LVU342
 542:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 1076              		.loc 1 542 8 is_stmt 0 view .LVU343
 1077 002c 44B1     		cbz	r4, .L93
 549:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
ARM GAS  /tmp/ccfvxgcI.s 			page 54


 1078              		.loc 1 549 5 is_stmt 1 view .LVU344
 549:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 1079              		.loc 1 549 14 is_stmt 0 view .LVU345
 1080 002e 2268     		ldr	r2, [r4]
 1081              	.LVL106:
 549:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 1082              		.loc 1 549 8 view .LVU346
 1083 0030 1F4B     		ldr	r3, .L96+8
 1084 0032 9A42     		cmp	r2, r3
 1085 0034 09D0     		beq	.L86
 550:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1086              		.loc 1 550 8 is_stmt 1 view .LVU347
 550:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1087              		.loc 1 550 15 is_stmt 0 view .LVU348
 1088 0036 45F6C453 		movw	r3, #24004
 1089 003a 079A     		ldr	r2, [sp, #28]
 1090 003c 1380     		strh	r3, [r2]	@ movhi
 551:rtos/uCOS-III/Source/os_tmr.c ****     }
 1091              		.loc 1 551 9 is_stmt 1 view .LVU349
 1092 003e F4E7     		b	.L81
 1093              	.LVL107:
 1094              	.L93:
 543:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1095              		.loc 1 543 8 view .LVU350
 543:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1096              		.loc 1 543 15 is_stmt 0 view .LVU351
 1097 0040 47F24233 		movw	r3, #29506
 1098 0044 079A     		ldr	r2, [sp, #28]
 1099              	.LVL108:
 543:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1100              		.loc 1 543 15 view .LVU352
 1101 0046 1380     		strh	r3, [r2]	@ movhi
 544:rtos/uCOS-III/Source/os_tmr.c ****     }
 1102              		.loc 1 544 9 is_stmt 1 view .LVU353
 1103 0048 EFE7     		b	.L81
 1104              	.L86:
 556:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_PERIODIC:
 1105              		.loc 1 556 5 view .LVU354
 556:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_PERIODIC:
 1106              		.loc 1 556 18 is_stmt 0 view .LVU355
 1107 004a 238C     		ldrh	r3, [r4, #32]
 556:rtos/uCOS-III/Source/os_tmr.c ****         case OS_OPT_TMR_PERIODIC:
 1108              		.loc 1 556 5 view .LVU356
 1109 004c 012B     		cmp	r3, #1
 1110 004e 0DD0     		beq	.L87
 1111 0050 022B     		cmp	r3, #2
 1112 0052 24D1     		bne	.L88
 558:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_PERIOD;
 1113              		.loc 1 558 14 is_stmt 1 view .LVU357
 558:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_PERIOD;
 1114              		.loc 1 558 17 is_stmt 0 view .LVU358
 1115 0054 2EB1     		cbz	r6, .L94
 563:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_CALLBACK;
 1116              		.loc 1 563 14 is_stmt 1 view .LVU359
 563:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_CALLBACK;
 1117              		.loc 1 563 17 is_stmt 0 view .LVU360
 1118 0056 55B9     		cbnz	r5, .L90
ARM GAS  /tmp/ccfvxgcI.s 			page 55


 564:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 1119              		.loc 1 564 17 is_stmt 1 view .LVU361
 564:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 1120              		.loc 1 564 24 is_stmt 0 view .LVU362
 1121 0058 47F24A33 		movw	r3, #29514
 1122 005c 079A     		ldr	r2, [sp, #28]
 1123 005e 1380     		strh	r3, [r2]	@ movhi
 565:rtos/uCOS-III/Source/os_tmr.c ****              }
 1124              		.loc 1 565 18 is_stmt 1 view .LVU363
 1125 0060 E3E7     		b	.L81
 1126              	.L94:
 559:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 1127              		.loc 1 559 17 view .LVU364
 559:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 1128              		.loc 1 559 24 is_stmt 0 view .LVU365
 1129 0062 47F24033 		movw	r3, #29504
 1130 0066 079A     		ldr	r2, [sp, #28]
 1131 0068 1380     		strh	r3, [r2]	@ movhi
 560:rtos/uCOS-III/Source/os_tmr.c ****              }
 1132              		.loc 1 560 18 is_stmt 1 view .LVU366
 1133 006a DEE7     		b	.L81
 1134              	.L87:
 570:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_DLY;
 1135              		.loc 1 570 14 view .LVU367
 570:rtos/uCOS-III/Source/os_tmr.c ****                 *p_err = OS_ERR_TMR_INVALID_DLY;
 1136              		.loc 1 570 17 is_stmt 0 view .LVU368
 1137 006c 91B1     		cbz	r1, .L95
 1138              	.L90:
 582:rtos/uCOS-III/Source/os_tmr.c **** 
 1139              		.loc 1 582 5 is_stmt 1 view .LVU369
 1140 006e FFF7FEFF 		bl	OS_TmrLock
 1141              	.LVL109:
 584:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         = period * OSTmrToTicksMult;             /* Convert Timer Period to ticks
 1142              		.loc 1 584 5 view .LVU370
 584:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         = period * OSTmrToTicksMult;             /* Convert Timer Period to ticks
 1143              		.loc 1 584 36 is_stmt 0 view .LVU371
 1144 0072 104B     		ldr	r3, .L96+12
 1145 0074 1A68     		ldr	r2, [r3]
 1146 0076 07FB02F7 		mul	r7, r7, r2
 1147              	.LVL110:
 584:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         = period * OSTmrToTicksMult;             /* Convert Timer Period to ticks
 1148              		.loc 1 584 27 view .LVU372
 1149 007a A761     		str	r7, [r4, #24]
 585:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    = p_callback;
 1150              		.loc 1 585 5 is_stmt 1 view .LVU373
 585:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    = p_callback;
 1151              		.loc 1 585 36 is_stmt 0 view .LVU374
 1152 007c 06FB02F2 		mul	r2, r6, r2
 585:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    = p_callback;
 1153              		.loc 1 585 27 view .LVU375
 1154 0080 E261     		str	r2, [r4, #28]
 586:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg = p_callback_arg;
 1155              		.loc 1 586 5 is_stmt 1 view .LVU376
 586:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg = p_callback_arg;
 1156              		.loc 1 586 27 is_stmt 0 view .LVU377
 1157 0082 6560     		str	r5, [r4, #4]
 587:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 56


 1158              		.loc 1 587 5 is_stmt 1 view .LVU378
 587:rtos/uCOS-III/Source/os_tmr.c **** 
 1159              		.loc 1 587 27 is_stmt 0 view .LVU379
 1160 0084 069B     		ldr	r3, [sp, #24]
 1161 0086 A360     		str	r3, [r4, #8]
 589:rtos/uCOS-III/Source/os_tmr.c **** 
 1162              		.loc 1 589 4 is_stmt 1 view .LVU380
 589:rtos/uCOS-III/Source/os_tmr.c **** 
 1163              		.loc 1 589 27 is_stmt 0 view .LVU381
 1164 0088 0023     		movs	r3, #0
 1165 008a 079A     		ldr	r2, [sp, #28]
 1166 008c 1380     		strh	r3, [r2]	@ movhi
 591:rtos/uCOS-III/Source/os_tmr.c **** }
 1167              		.loc 1 591 5 is_stmt 1 view .LVU382
 1168 008e FFF7FEFF 		bl	OS_TmrUnlock
 1169              	.LVL111:
 1170 0092 CAE7     		b	.L81
 1171              	.LVL112:
 1172              	.L95:
 571:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 1173              		.loc 1 571 17 view .LVU383
 571:rtos/uCOS-III/Source/os_tmr.c ****                  return;
 1174              		.loc 1 571 24 is_stmt 0 view .LVU384
 1175 0094 47F23F33 		movw	r3, #29503
 1176 0098 079A     		ldr	r2, [sp, #28]
 1177 009a 1380     		strh	r3, [r2]	@ movhi
 572:rtos/uCOS-III/Source/os_tmr.c ****              }
 1178              		.loc 1 572 18 is_stmt 1 view .LVU385
 1179 009c C5E7     		b	.L81
 1180              	.L88:
 577:rtos/uCOS-III/Source/os_tmr.c ****              return;
 1181              		.loc 1 577 13 view .LVU386
 577:rtos/uCOS-III/Source/os_tmr.c ****              return;
 1182              		.loc 1 577 20 is_stmt 0 view .LVU387
 1183 009e 47F24233 		movw	r3, #29506
 1184 00a2 079A     		ldr	r2, [sp, #28]
 1185 00a4 1380     		strh	r3, [r2]	@ movhi
 578:rtos/uCOS-III/Source/os_tmr.c ****     }
 1186              		.loc 1 578 14 is_stmt 1 view .LVU388
 1187 00a6 C0E7     		b	.L81
 1188              	.L97:
 1189              		.align	2
 1190              	.L96:
 1191 00a8 00000000 		.word	OSIntNestingCtr
 1192 00ac 00000000 		.word	OSRunning
 1193 00b0 544D5220 		.word	542264660
 1194 00b4 00000000 		.word	OSTmrToTicksMult
 1195              		.cfi_endproc
 1196              	.LFE3:
 1198              		.section	.text.OSTmrStateGet,"ax",%progbits
 1199              		.align	1
 1200              		.global	OSTmrStateGet
 1201              		.syntax unified
 1202              		.thumb
 1203              		.thumb_func
 1204              		.fpu fpv4-sp-d16
 1206              	OSTmrStateGet:
ARM GAS  /tmp/ccfvxgcI.s 			page 57


 1207              	.LVL113:
 1208              	.LFB5:
 756:rtos/uCOS-III/Source/os_tmr.c ****     OS_STATE  state;
 1209              		.loc 1 756 1 view -0
 1210              		.cfi_startproc
 1211              		@ args = 0, pretend = 0, frame = 0
 1212              		@ frame_needed = 0, uses_anonymous_args = 0
 756:rtos/uCOS-III/Source/os_tmr.c ****     OS_STATE  state;
 1213              		.loc 1 756 1 is_stmt 0 view .LVU390
 1214 0000 70B5     		push	{r4, r5, r6, lr}
 1215              	.LCFI18:
 1216              		.cfi_def_cfa_offset 16
 1217              		.cfi_offset 4, -16
 1218              		.cfi_offset 5, -12
 1219              		.cfi_offset 6, -8
 1220              		.cfi_offset 14, -4
 1221 0002 0D46     		mov	r5, r1
 757:rtos/uCOS-III/Source/os_tmr.c **** 
 1222              		.loc 1 757 5 is_stmt 1 view .LVU391
 769:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 1223              		.loc 1 769 5 view .LVU392
 769:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 1224              		.loc 1 769 25 is_stmt 0 view .LVU393
 1225 0004 164B     		ldr	r3, .L109
 1226 0006 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 769:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 1227              		.loc 1 769 8 view .LVU394
 1228 0008 44B9     		cbnz	r4, .L107
 1229 000a 0646     		mov	r6, r0
 776:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1230              		.loc 1 776 5 is_stmt 1 view .LVU395
 776:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1231              		.loc 1 776 19 is_stmt 0 view .LVU396
 1232 000c 154B     		ldr	r3, .L109+4
 1233 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 776:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1234              		.loc 1 776 8 view .LVU397
 1235 0010 012B     		cmp	r3, #1
 1236 0012 09D0     		beq	.L101
 777:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1237              		.loc 1 777 8 is_stmt 1 view .LVU398
 777:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1238              		.loc 1 777 15 is_stmt 0 view .LVU399
 1239 0014 45F68963 		movw	r3, #24201
 1240 0018 0B80     		strh	r3, [r1]	@ movhi
 778:rtos/uCOS-III/Source/os_tmr.c ****     }
 1241              		.loc 1 778 9 is_stmt 1 view .LVU400
 778:rtos/uCOS-III/Source/os_tmr.c ****     }
 1242              		.loc 1 778 16 is_stmt 0 view .LVU401
 1243 001a 03E0     		b	.L100
 1244              	.L107:
 770:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1245              		.loc 1 770 8 is_stmt 1 view .LVU402
 770:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1246              		.loc 1 770 15 is_stmt 0 view .LVU403
 1247 001c 47F24333 		movw	r3, #29507
 1248 0020 0B80     		strh	r3, [r1]	@ movhi
ARM GAS  /tmp/ccfvxgcI.s 			page 58


 771:rtos/uCOS-III/Source/os_tmr.c ****     }
 1249              		.loc 1 771 9 is_stmt 1 view .LVU404
 771:rtos/uCOS-III/Source/os_tmr.c ****     }
 1250              		.loc 1 771 16 is_stmt 0 view .LVU405
 1251 0022 0024     		movs	r4, #0
 1252              	.LVL114:
 1253              	.L100:
 816:rtos/uCOS-III/Source/os_tmr.c **** 
 1254              		.loc 1 816 1 view .LVU406
 1255 0024 2046     		mov	r0, r4
 1256 0026 70BD     		pop	{r4, r5, r6, pc}
 1257              	.LVL115:
 1258              	.L101:
 783:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 1259              		.loc 1 783 5 is_stmt 1 view .LVU407
 783:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 1260              		.loc 1 783 8 is_stmt 0 view .LVU408
 1261 0028 38B1     		cbz	r0, .L108
 790:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 1262              		.loc 1 790 5 is_stmt 1 view .LVU409
 790:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 1263              		.loc 1 790 14 is_stmt 0 view .LVU410
 1264 002a 0268     		ldr	r2, [r0]
 790:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 1265              		.loc 1 790 8 view .LVU411
 1266 002c 0E4B     		ldr	r3, .L109+8
 1267 002e 9A42     		cmp	r2, r3
 1268 0030 07D0     		beq	.L103
 791:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1269              		.loc 1 791 8 is_stmt 1 view .LVU412
 791:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1270              		.loc 1 791 15 is_stmt 0 view .LVU413
 1271 0032 45F6C453 		movw	r3, #24004
 1272 0036 0B80     		strh	r3, [r1]	@ movhi
 792:rtos/uCOS-III/Source/os_tmr.c ****     }
 1273              		.loc 1 792 9 is_stmt 1 view .LVU414
 792:rtos/uCOS-III/Source/os_tmr.c ****     }
 1274              		.loc 1 792 16 is_stmt 0 view .LVU415
 1275 0038 F4E7     		b	.L100
 1276              	.L108:
 784:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1277              		.loc 1 784 8 is_stmt 1 view .LVU416
 784:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_TMR_STATE_UNUSED);
 1278              		.loc 1 784 15 is_stmt 0 view .LVU417
 1279 003a 47F24233 		movw	r3, #29506
 1280 003e 0B80     		strh	r3, [r1]	@ movhi
 785:rtos/uCOS-III/Source/os_tmr.c ****     }
 1281              		.loc 1 785 9 is_stmt 1 view .LVU418
 785:rtos/uCOS-III/Source/os_tmr.c ****     }
 1282              		.loc 1 785 16 is_stmt 0 view .LVU419
 1283 0040 F0E7     		b	.L100
 1284              	.L103:
 796:rtos/uCOS-III/Source/os_tmr.c **** 
 1285              		.loc 1 796 5 is_stmt 1 view .LVU420
 1286 0042 FFF7FEFF 		bl	OS_TmrLock
 1287              	.LVL116:
 798:rtos/uCOS-III/Source/os_tmr.c ****     switch (state) {
ARM GAS  /tmp/ccfvxgcI.s 			page 59


 1288              		.loc 1 798 5 view .LVU421
 798:rtos/uCOS-III/Source/os_tmr.c ****     switch (state) {
 1289              		.loc 1 798 11 is_stmt 0 view .LVU422
 1290 0046 96F82240 		ldrb	r4, [r6, #34]	@ zero_extendqisi2
 1291              	.LVL117:
 799:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_UNUSED:
 1292              		.loc 1 799 5 is_stmt 1 view .LVU423
 1293 004a 042C     		cmp	r4, #4
 1294 004c 04D8     		bhi	.L104
 805:rtos/uCOS-III/Source/os_tmr.c ****              break;
 1295              		.loc 1 805 13 view .LVU424
 805:rtos/uCOS-III/Source/os_tmr.c ****              break;
 1296              		.loc 1 805 20 is_stmt 0 view .LVU425
 1297 004e 0023     		movs	r3, #0
 1298 0050 2B80     		strh	r3, [r5]	@ movhi
 806:rtos/uCOS-III/Source/os_tmr.c **** 
 1299              		.loc 1 806 14 is_stmt 1 view .LVU426
 1300              	.L105:
 813:rtos/uCOS-III/Source/os_tmr.c **** 
 1301              		.loc 1 813 5 view .LVU427
 1302 0052 FFF7FEFF 		bl	OS_TmrUnlock
 1303              	.LVL118:
 815:rtos/uCOS-III/Source/os_tmr.c **** }
 1304              		.loc 1 815 5 view .LVU428
 815:rtos/uCOS-III/Source/os_tmr.c **** }
 1305              		.loc 1 815 12 is_stmt 0 view .LVU429
 1306 0056 E5E7     		b	.L100
 1307              	.L104:
 809:rtos/uCOS-III/Source/os_tmr.c ****              break;
 1308              		.loc 1 809 13 is_stmt 1 view .LVU430
 809:rtos/uCOS-III/Source/os_tmr.c ****              break;
 1309              		.loc 1 809 20 is_stmt 0 view .LVU431
 1310 0058 47F24133 		movw	r3, #29505
 1311 005c 2B80     		strh	r3, [r5]	@ movhi
 810:rtos/uCOS-III/Source/os_tmr.c ****     }
 1312              		.loc 1 810 14 is_stmt 1 view .LVU432
 1313 005e F8E7     		b	.L105
 1314              	.L110:
 1315              		.align	2
 1316              	.L109:
 1317 0060 00000000 		.word	OSIntNestingCtr
 1318 0064 00000000 		.word	OSRunning
 1319 0068 544D5220 		.word	542264660
 1320              		.cfi_endproc
 1321              	.LFE5:
 1323              		.section	.text.OS_TmrClr,"ax",%progbits
 1324              		.align	1
 1325              		.global	OS_TmrClr
 1326              		.syntax unified
 1327              		.thumb
 1328              		.thumb_func
 1329              		.fpu fpv4-sp-d16
 1331              	OS_TmrClr:
 1332              	.LVL119:
 1333              	.LFB7:
 997:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->State          = OS_TMR_STATE_UNUSED;                /* Clear timer fields              
 1334              		.loc 1 997 1 view -0
ARM GAS  /tmp/ccfvxgcI.s 			page 60


 1335              		.cfi_startproc
 1336              		@ args = 0, pretend = 0, frame = 0
 1337              		@ frame_needed = 0, uses_anonymous_args = 0
 1338              		@ link register save eliminated.
 998:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_OBJ_TYPE_REQ > 0u)
 1339              		.loc 1 998 5 view .LVU434
 998:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_OBJ_TYPE_REQ > 0u)
 1340              		.loc 1 998 27 is_stmt 0 view .LVU435
 1341 0000 0023     		movs	r3, #0
 1342 0002 80F82230 		strb	r3, [r0, #34]
1000:rtos/uCOS-III/Source/os_tmr.c **** #endif
 1343              		.loc 1 1000 5 is_stmt 1 view .LVU436
1000:rtos/uCOS-III/Source/os_tmr.c **** #endif
 1344              		.loc 1 1000 27 is_stmt 0 view .LVU437
 1345 0006 054A     		ldr	r2, .L112
 1346 0008 0260     		str	r2, [r0]
1005:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Remain         =                      0u;
 1347              		.loc 1 1005 5 is_stmt 1 view .LVU438
1005:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Remain         =                      0u;
 1348              		.loc 1 1005 27 is_stmt 0 view .LVU439
 1349 000a 8361     		str	r3, [r0, #24]
1006:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         =                      0u;
 1350              		.loc 1 1006 5 is_stmt 1 view .LVU440
1006:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Period         =                      0u;
 1351              		.loc 1 1006 27 is_stmt 0 view .LVU441
 1352 000c 4361     		str	r3, [r0, #20]
1007:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Opt            =                      0u;
 1353              		.loc 1 1007 5 is_stmt 1 view .LVU442
1007:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->Opt            =                      0u;
 1354              		.loc 1 1007 27 is_stmt 0 view .LVU443
 1355 000e C361     		str	r3, [r0, #28]
1008:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    = (OS_TMR_CALLBACK_PTR)0;
 1356              		.loc 1 1008 5 is_stmt 1 view .LVU444
1008:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtr    = (OS_TMR_CALLBACK_PTR)0;
 1357              		.loc 1 1008 27 is_stmt 0 view .LVU445
 1358 0010 0384     		strh	r3, [r0, #32]	@ movhi
1009:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg = (void              *)0;
 1359              		.loc 1 1009 5 is_stmt 1 view .LVU446
1009:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->CallbackPtrArg = (void              *)0;
 1360              		.loc 1 1009 27 is_stmt 0 view .LVU447
 1361 0012 4360     		str	r3, [r0, #4]
1010:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NextPtr        = (OS_TMR            *)0;
 1362              		.loc 1 1010 5 is_stmt 1 view .LVU448
1010:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->NextPtr        = (OS_TMR            *)0;
 1363              		.loc 1 1010 27 is_stmt 0 view .LVU449
 1364 0014 8360     		str	r3, [r0, #8]
1011:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->PrevPtr        = (OS_TMR            *)0;
 1365              		.loc 1 1011 5 is_stmt 1 view .LVU450
1011:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr->PrevPtr        = (OS_TMR            *)0;
 1366              		.loc 1 1011 27 is_stmt 0 view .LVU451
 1367 0016 C360     		str	r3, [r0, #12]
1012:rtos/uCOS-III/Source/os_tmr.c **** }
 1368              		.loc 1 1012 5 is_stmt 1 view .LVU452
1012:rtos/uCOS-III/Source/os_tmr.c **** }
 1369              		.loc 1 1012 27 is_stmt 0 view .LVU453
 1370 0018 0361     		str	r3, [r0, #16]
1013:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 61


 1371              		.loc 1 1013 1 view .LVU454
 1372 001a 7047     		bx	lr
 1373              	.L113:
 1374              		.align	2
 1375              	.L112:
 1376 001c 4E4F4E45 		.word	1162760014
 1377              		.cfi_endproc
 1378              	.LFE7:
 1380              		.section	.text.OS_TmrInit,"ax",%progbits
 1381              		.align	1
 1382              		.global	OS_TmrInit
 1383              		.syntax unified
 1384              		.thumb
 1385              		.thumb_func
 1386              		.fpu fpv4-sp-d16
 1388              	OS_TmrInit:
 1389              	.LVL120:
 1390              	.LFB8:
1097:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1391              		.loc 1 1097 1 is_stmt 1 view -0
 1392              		.cfi_startproc
 1393              		@ args = 0, pretend = 0, frame = 0
 1394              		@ frame_needed = 0, uses_anonymous_args = 0
1097:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1395              		.loc 1 1097 1 is_stmt 0 view .LVU456
 1396 0000 10B5     		push	{r4, lr}
 1397              	.LCFI19:
 1398              		.cfi_def_cfa_offset 8
 1399              		.cfi_offset 4, -8
 1400              		.cfi_offset 14, -4
 1401 0002 8AB0     		sub	sp, sp, #40
 1402              	.LCFI20:
 1403              		.cfi_def_cfa_offset 48
 1404 0004 0446     		mov	r4, r0
1103:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1405              		.loc 1 1103 5 is_stmt 1 view .LVU457
1103:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1406              		.loc 1 1103 26 is_stmt 0 view .LVU458
 1407 0006 0021     		movs	r1, #0
 1408 0008 1F4B     		ldr	r3, .L123
 1409 000a 1960     		str	r1, [r3]
1108:rtos/uCOS-III/Source/os_tmr.c **** 
 1410              		.loc 1 1108 5 is_stmt 1 view .LVU459
1108:rtos/uCOS-III/Source/os_tmr.c **** 
 1411              		.loc 1 1108 42 is_stmt 0 view .LVU460
 1412 000c 1F4B     		ldr	r3, .L123+4
 1413 000e 1B68     		ldr	r3, [r3]
 1414 0010 1F4A     		ldr	r2, .L123+8
 1415 0012 1268     		ldr	r2, [r2]
 1416 0014 B3FBF2F3 		udiv	r3, r3, r2
1108:rtos/uCOS-III/Source/os_tmr.c **** 
 1417              		.loc 1 1108 22 view .LVU461
 1418 0018 1E4A     		ldr	r2, .L123+12
 1419 001a 1360     		str	r3, [r2]
1115:rtos/uCOS-III/Source/os_tmr.c **** #if  (OS_CFG_DBG_EN == 0u)
 1420              		.loc 1 1115 5 is_stmt 1 view .LVU462
 1421 001c 0246     		mov	r2, r0
ARM GAS  /tmp/ccfvxgcI.s 			page 62


 1422 001e 1E48     		ldr	r0, .L123+16
 1423              	.LVL121:
1115:rtos/uCOS-III/Source/os_tmr.c **** #if  (OS_CFG_DBG_EN == 0u)
 1424              		.loc 1 1115 5 is_stmt 0 view .LVU463
 1425 0020 FFF7FEFF 		bl	OSMutexCreate
 1426              	.LVL122:
1122:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1427              		.loc 1 1122 5 is_stmt 1 view .LVU464
1122:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1428              		.loc 1 1122 9 is_stmt 0 view .LVU465
 1429 0024 2388     		ldrh	r3, [r4]
1122:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1430              		.loc 1 1122 8 view .LVU466
 1431 0026 0BB1     		cbz	r3, .L120
 1432              	.L114:
1160:rtos/uCOS-III/Source/os_tmr.c **** 
 1433              		.loc 1 1160 1 view .LVU467
 1434 0028 0AB0     		add	sp, sp, #40
 1435              	.LCFI21:
 1436              		.cfi_remember_state
 1437              		.cfi_def_cfa_offset 8
 1438              		@ sp needed
 1439 002a 10BD     		pop	{r4, pc}
 1440              	.LVL123:
 1441              	.L120:
 1442              	.LCFI22:
 1443              		.cfi_restore_state
1126:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* -------------- CREATE THE TIMER 
 1444              		.loc 1 1126 5 is_stmt 1 view .LVU468
 1445 002c FFF7FEFF 		bl	OS_TmrCondCreate
 1446              	.LVL124:
1128:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_INVALID;
 1447              		.loc 1 1128 5 view .LVU469
1128:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_INVALID;
 1448              		.loc 1 1128 33 is_stmt 0 view .LVU470
 1449 0030 1A4B     		ldr	r3, .L123+20
 1450 0032 1A68     		ldr	r2, [r3]
1128:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_INVALID;
 1451              		.loc 1 1128 8 view .LVU471
 1452 0034 6AB1     		cbz	r2, .L121
1133:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_SIZE_INVALID;
 1453              		.loc 1 1133 5 is_stmt 1 view .LVU472
1133:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_SIZE_INVALID;
 1454              		.loc 1 1133 30 is_stmt 0 view .LVU473
 1455 0036 1A4B     		ldr	r3, .L123+24
 1456 0038 1868     		ldr	r0, [r3]
 1457 003a 1A4B     		ldr	r3, .L123+28
 1458 003c 1B68     		ldr	r3, [r3]
1133:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_STK_SIZE_INVALID;
 1459              		.loc 1 1133 8 view .LVU474
 1460 003e 9842     		cmp	r0, r3
 1461 0040 0BD3     		bcc	.L122
1138:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_PRIO_INVALID;
 1462              		.loc 1 1138 5 is_stmt 1 view .LVU475
1138:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_PRIO_INVALID;
 1463              		.loc 1 1138 27 is_stmt 0 view .LVU476
 1464 0042 194B     		ldr	r3, .L123+32
ARM GAS  /tmp/ccfvxgcI.s 			page 63


 1465 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1138:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_PRIO_INVALID;
 1466              		.loc 1 1138 8 view .LVU477
 1467 0046 3E2B     		cmp	r3, #62
 1468 0048 0BD9     		bls	.L118
1139:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1469              		.loc 1 1139 8 is_stmt 1 view .LVU478
1139:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1470              		.loc 1 1139 15 is_stmt 0 view .LVU479
 1471 004a 47F24633 		movw	r3, #29510
 1472 004e 2380     		strh	r3, [r4]	@ movhi
1140:rtos/uCOS-III/Source/os_tmr.c ****     }
 1473              		.loc 1 1140 9 is_stmt 1 view .LVU480
 1474 0050 EAE7     		b	.L114
 1475              	.L121:
1129:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1476              		.loc 1 1129 8 view .LVU481
1129:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1477              		.loc 1 1129 15 is_stmt 0 view .LVU482
 1478 0052 47F24733 		movw	r3, #29511
 1479 0056 2380     		strh	r3, [r4]	@ movhi
1130:rtos/uCOS-III/Source/os_tmr.c ****     }
 1480              		.loc 1 1130 9 is_stmt 1 view .LVU483
 1481 0058 E6E7     		b	.L114
 1482              	.L122:
1134:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1483              		.loc 1 1134 8 view .LVU484
1134:rtos/uCOS-III/Source/os_tmr.c ****         return;
 1484              		.loc 1 1134 15 is_stmt 0 view .LVU485
 1485 005a 47F24833 		movw	r3, #29512
 1486 005e 2380     		strh	r3, [r4]	@ movhi
1135:rtos/uCOS-III/Source/os_tmr.c ****     }
 1487              		.loc 1 1135 9 is_stmt 1 view .LVU486
 1488 0060 E2E7     		b	.L114
 1489              	.L118:
1143:rtos/uCOS-III/Source/os_tmr.c **** #if  (OS_CFG_DBG_EN == 0u)
 1490              		.loc 1 1143 5 view .LVU487
 1491 0062 0894     		str	r4, [sp, #32]
 1492 0064 0B21     		movs	r1, #11
 1493 0066 0791     		str	r1, [sp, #28]
 1494 0068 0021     		movs	r1, #0
 1495 006a 0691     		str	r1, [sp, #24]
 1496 006c 0591     		str	r1, [sp, #20]
 1497 006e 0491     		str	r1, [sp, #16]
 1498 0070 0390     		str	r0, [sp, #12]
 1499 0072 0E48     		ldr	r0, .L123+36
 1500 0074 0068     		ldr	r0, [r0]
 1501 0076 0290     		str	r0, [sp, #8]
 1502 0078 0192     		str	r2, [sp, #4]
 1503 007a 0093     		str	r3, [sp]
 1504 007c 0B46     		mov	r3, r1
 1505 007e 0C4A     		ldr	r2, .L123+40
 1506 0080 0C48     		ldr	r0, .L123+44
 1507 0082 FFF7FEFF 		bl	OSTaskCreate
 1508              	.LVL125:
 1509 0086 CFE7     		b	.L114
 1510              	.L124:
ARM GAS  /tmp/ccfvxgcI.s 			page 64


 1511              		.align	2
 1512              	.L123:
 1513 0088 00000000 		.word	OSTmrListPtr
 1514 008c 00000000 		.word	OSCfg_TickRate_Hz
 1515 0090 00000000 		.word	OSCfg_TmrTaskRate_Hz
 1516 0094 00000000 		.word	OSTmrToTicksMult
 1517 0098 00000000 		.word	OSTmrMutex
 1518 009c 00000000 		.word	OSCfg_TmrTaskStkBasePtr
 1519 00a0 00000000 		.word	OSCfg_TmrTaskStkSize
 1520 00a4 00000000 		.word	OSCfg_StkSizeMin
 1521 00a8 00000000 		.word	OSCfg_TmrTaskPrio
 1522 00ac 00000000 		.word	OSCfg_TmrTaskStkLimit
 1523 00b0 00000000 		.word	OS_TmrTask
 1524 00b4 00000000 		.word	OSTmrTaskTCB
 1525              		.cfi_endproc
 1526              	.LFE8:
 1528              		.section	.text.OS_TmrLink,"ax",%progbits
 1529              		.align	1
 1530              		.global	OS_TmrLink
 1531              		.syntax unified
 1532              		.thumb
 1533              		.thumb_func
 1534              		.fpu fpv4-sp-d16
 1536              	OS_TmrLink:
 1537              	.LVL126:
 1538              	.LFB9:
1182:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
 1539              		.loc 1 1182 1 view -0
 1540              		.cfi_startproc
 1541              		@ args = 0, pretend = 0, frame = 0
 1542              		@ frame_needed = 0, uses_anonymous_args = 0
1182:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
 1543              		.loc 1 1182 1 is_stmt 0 view .LVU489
 1544 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1545              	.LCFI23:
 1546              		.cfi_def_cfa_offset 24
 1547              		.cfi_offset 3, -24
 1548              		.cfi_offset 4, -20
 1549              		.cfi_offset 5, -16
 1550              		.cfi_offset 6, -12
 1551              		.cfi_offset 7, -8
 1552              		.cfi_offset 14, -4
1183:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr2;
 1553              		.loc 1 1183 5 is_stmt 1 view .LVU490
1184:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   remain;
 1554              		.loc 1 1184 5 view .LVU491
1185:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   delta;
 1555              		.loc 1 1185 5 view .LVU492
1186:rtos/uCOS-III/Source/os_tmr.c **** 
 1556              		.loc 1 1186 5 view .LVU493
1189:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr    = (OS_TMR *)0;                        /* Yes, this is the first entry    
 1557              		.loc 1 1189 5 view .LVU494
1189:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr    = (OS_TMR *)0;                        /* Yes, this is the first entry    
 1558              		.loc 1 1189 22 is_stmt 0 view .LVU495
 1559 0002 204B     		ldr	r3, .L136
 1560 0004 1C68     		ldr	r4, [r3]
1189:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr    = (OS_TMR *)0;                        /* Yes, this is the first entry    
ARM GAS  /tmp/ccfvxgcI.s 			page 65


 1561              		.loc 1 1189 8 view .LVU496
 1562 0006 9CB1     		cbz	r4, .L134
1206:rtos/uCOS-III/Source/os_tmr.c **** 
 1563              		.loc 1 1206 5 is_stmt 1 view .LVU497
1206:rtos/uCOS-III/Source/os_tmr.c **** 
 1564              		.loc 1 1206 26 is_stmt 0 view .LVU498
 1565 0008 4369     		ldr	r3, [r0, #20]
1206:rtos/uCOS-III/Source/os_tmr.c **** 
 1566              		.loc 1 1206 19 view .LVU499
 1567 000a 0B44     		add	r3, r3, r1
1206:rtos/uCOS-III/Source/os_tmr.c **** 
 1568              		.loc 1 1206 36 view .LVU500
 1569 000c 1E4A     		ldr	r2, .L136+4
 1570 000e 1668     		ldr	r6, [r2]
1206:rtos/uCOS-III/Source/os_tmr.c **** 
 1571              		.loc 1 1206 11 view .LVU501
 1572 0010 9A1B     		subs	r2, r3, r6
 1573              	.LVL127:
1208:rtos/uCOS-III/Source/os_tmr.c ****     remain = p_tmr2->Remain;
 1574              		.loc 1 1208 5 is_stmt 1 view .LVU502
1209:rtos/uCOS-III/Source/os_tmr.c **** 
 1575              		.loc 1 1209 5 view .LVU503
1209:rtos/uCOS-III/Source/os_tmr.c **** 
 1576              		.loc 1 1209 12 is_stmt 0 view .LVU504
 1577 0012 6569     		ldr	r5, [r4, #20]
 1578              	.LVL128:
1211:rtos/uCOS-III/Source/os_tmr.c ****         (p_tmr2->PrevPtr == (OS_TMR *)0)) {                     /* Are we the new head of the list?
 1579              		.loc 1 1211 5 is_stmt 1 view .LVU505
1211:rtos/uCOS-III/Source/os_tmr.c ****         (p_tmr2->PrevPtr == (OS_TMR *)0)) {                     /* Are we the new head of the list?
 1580              		.loc 1 1211 8 is_stmt 0 view .LVU506
 1581 0014 AA42     		cmp	r2, r5
 1582 0016 01D2     		bcs	.L128
1212:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->Remain    =  remain - delta;
 1583              		.loc 1 1212 16 discriminator 1 view .LVU507
 1584 0018 2769     		ldr	r7, [r4, #16]
1211:rtos/uCOS-III/Source/os_tmr.c ****         (p_tmr2->PrevPtr == (OS_TMR *)0)) {                     /* Are we the new head of the list?
 1585              		.loc 1 1211 40 discriminator 1 view .LVU508
 1586 001a 9FB1     		cbz	r7, .L135
 1587              	.L128:
1226:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr1  = p_tmr2;
 1588              		.loc 1 1226 5 is_stmt 1 view .LVU509
1226:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr1  = p_tmr2;
 1589              		.loc 1 1226 12 is_stmt 0 view .LVU510
 1590 001c 521B     		subs	r2, r2, r5
 1591              	.LVL129:
1227:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr2  = p_tmr1->NextPtr;
 1592              		.loc 1 1227 5 is_stmt 1 view .LVU511
1228:rtos/uCOS-III/Source/os_tmr.c **** 
 1593              		.loc 1 1228 5 view .LVU512
1228:rtos/uCOS-III/Source/os_tmr.c **** 
 1594              		.loc 1 1228 13 is_stmt 0 view .LVU513
 1595 001e E368     		ldr	r3, [r4, #12]
 1596              	.LVL130:
1231:rtos/uCOS-III/Source/os_tmr.c ****            (delta  >= p_tmr2->Remain)) {
 1597              		.loc 1 1231 5 is_stmt 1 view .LVU514
 1598              	.L129:
1231:rtos/uCOS-III/Source/os_tmr.c ****            (delta  >= p_tmr2->Remain)) {
ARM GAS  /tmp/ccfvxgcI.s 			page 66


 1599              		.loc 1 1231 11 view .LVU515
 1600 0020 F3B1     		cbz	r3, .L130
1232:rtos/uCOS-III/Source/os_tmr.c ****         delta  -= p_tmr2->Remain;                               /* Update our delta as we traverse 
 1601              		.loc 1 1232 29 is_stmt 0 discriminator 1 view .LVU516
 1602 0022 5969     		ldr	r1, [r3, #20]
1231:rtos/uCOS-III/Source/os_tmr.c ****            (delta  >= p_tmr2->Remain)) {
 1603              		.loc 1 1231 43 discriminator 1 view .LVU517
 1604 0024 9142     		cmp	r1, r2
 1605 0026 1BD8     		bhi	.L130
1233:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1  = p_tmr2;
 1606              		.loc 1 1233 9 is_stmt 1 view .LVU518
1233:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1  = p_tmr2;
 1607              		.loc 1 1233 16 is_stmt 0 view .LVU519
 1608 0028 521A     		subs	r2, r2, r1
 1609              	.LVL131:
1234:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2  = p_tmr2->NextPtr;
 1610              		.loc 1 1234 9 is_stmt 1 view .LVU520
1235:rtos/uCOS-III/Source/os_tmr.c ****     }
 1611              		.loc 1 1235 9 view .LVU521
1234:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2  = p_tmr2->NextPtr;
 1612              		.loc 1 1234 17 is_stmt 0 view .LVU522
 1613 002a 1C46     		mov	r4, r3
1235:rtos/uCOS-III/Source/os_tmr.c ****     }
 1614              		.loc 1 1235 17 view .LVU523
 1615 002c DB68     		ldr	r3, [r3, #12]
 1616              	.LVL132:
1235:rtos/uCOS-III/Source/os_tmr.c ****     }
 1617              		.loc 1 1235 17 view .LVU524
 1618 002e F7E7     		b	.L129
 1619              	.LVL133:
 1620              	.L134:
1190:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr    = (OS_TMR *)0;
 1621              		.loc 1 1190 9 is_stmt 1 view .LVU525
1190:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr    = (OS_TMR *)0;
 1622              		.loc 1 1190 27 is_stmt 0 view .LVU526
 1623 0030 0023     		movs	r3, #0
 1624 0032 C360     		str	r3, [r0, #12]
1191:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListPtr      = p_tmr;
 1625              		.loc 1 1191 9 is_stmt 1 view .LVU527
1191:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListPtr      = p_tmr;
 1626              		.loc 1 1191 27 is_stmt 0 view .LVU528
 1627 0034 0361     		str	r3, [r0, #16]
1192:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1628              		.loc 1 1192 9 is_stmt 1 view .LVU529
1192:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1629              		.loc 1 1192 27 is_stmt 0 view .LVU530
 1630 0036 134B     		ldr	r3, .L136
 1631 0038 1860     		str	r0, [r3]
1196:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrCondSignal();
 1632              		.loc 1 1196 9 is_stmt 1 view .LVU531
1196:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrCondSignal();
 1633              		.loc 1 1196 27 is_stmt 0 view .LVU532
 1634 003a 134B     		ldr	r3, .L136+4
 1635 003c 1960     		str	r1, [r3]
1197:rtos/uCOS-III/Source/os_tmr.c **** 
 1636              		.loc 1 1197 9 is_stmt 1 view .LVU533
 1637 003e FFF7FEFF 		bl	OS_TmrCondSignal
ARM GAS  /tmp/ccfvxgcI.s 			page 67


 1638              	.LVL134:
1199:rtos/uCOS-III/Source/os_tmr.c ****     }
 1639              		.loc 1 1199 9 view .LVU534
 1640 0042 17E0     		b	.L125
 1641              	.LVL135:
 1642              	.L135:
1213:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr    = (OS_TMR *)0;
 1643              		.loc 1 1213 9 view .LVU535
1213:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr    = (OS_TMR *)0;
 1644              		.loc 1 1213 37 is_stmt 0 view .LVU536
 1645 0044 F31A     		subs	r3, r6, r3
 1646 0046 2B44     		add	r3, r3, r5
1213:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr    = (OS_TMR *)0;
 1647              		.loc 1 1213 27 view .LVU537
 1648 0048 6361     		str	r3, [r4, #20]
1214:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr    =  p_tmr2;
 1649              		.loc 1 1214 9 is_stmt 1 view .LVU538
1214:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr    =  p_tmr2;
 1650              		.loc 1 1214 27 is_stmt 0 view .LVU539
 1651 004a 0023     		movs	r3, #0
 1652 004c 0361     		str	r3, [r0, #16]
1215:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->PrevPtr   =  p_tmr;
 1653              		.loc 1 1215 9 is_stmt 1 view .LVU540
1215:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->PrevPtr   =  p_tmr;
 1654              		.loc 1 1215 27 is_stmt 0 view .LVU541
 1655 004e C460     		str	r4, [r0, #12]
1216:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListPtr      =  p_tmr;
 1656              		.loc 1 1216 9 is_stmt 1 view .LVU542
1216:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrListPtr      =  p_tmr;
 1657              		.loc 1 1216 27 is_stmt 0 view .LVU543
 1658 0050 2061     		str	r0, [r4, #16]
1217:rtos/uCOS-III/Source/os_tmr.c **** 
 1659              		.loc 1 1217 9 is_stmt 1 view .LVU544
1217:rtos/uCOS-III/Source/os_tmr.c **** 
 1660              		.loc 1 1217 27 is_stmt 0 view .LVU545
 1661 0052 0C4B     		ldr	r3, .L136
 1662 0054 1860     		str	r0, [r3]
1219:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrCondSignal();
 1663              		.loc 1 1219 9 is_stmt 1 view .LVU546
1219:rtos/uCOS-III/Source/os_tmr.c ****         OS_TmrCondSignal();
 1664              		.loc 1 1219 27 is_stmt 0 view .LVU547
 1665 0056 0C4B     		ldr	r3, .L136+4
 1666 0058 1960     		str	r1, [r3]
1220:rtos/uCOS-III/Source/os_tmr.c **** 
 1667              		.loc 1 1220 9 is_stmt 1 view .LVU548
 1668 005a FFF7FEFF 		bl	OS_TmrCondSignal
 1669              	.LVL136:
1222:rtos/uCOS-III/Source/os_tmr.c ****     }
 1670              		.loc 1 1222 9 view .LVU549
 1671 005e 09E0     		b	.L125
 1672              	.LVL137:
 1673              	.L130:
1239:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1           = p_tmr2->PrevPtr;
 1674              		.loc 1 1239 5 view .LVU550
1239:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1           = p_tmr2->PrevPtr;
 1675              		.loc 1 1239 8 is_stmt 0 view .LVU551
 1676 0060 4BB1     		cbz	r3, .L132
ARM GAS  /tmp/ccfvxgcI.s 			page 68


1240:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->Remain    = delta;                               /* Store remaining time            
 1677              		.loc 1 1240 9 is_stmt 1 view .LVU552
1240:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->Remain    = delta;                               /* Store remaining time            
 1678              		.loc 1 1240 26 is_stmt 0 view .LVU553
 1679 0062 1C69     		ldr	r4, [r3, #16]
 1680              	.LVL138:
1241:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr   = p_tmr1;
 1681              		.loc 1 1241 9 is_stmt 1 view .LVU554
1241:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr   = p_tmr1;
 1682              		.loc 1 1241 26 is_stmt 0 view .LVU555
 1683 0064 4261     		str	r2, [r0, #20]
1242:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr   = p_tmr2;
 1684              		.loc 1 1242 9 is_stmt 1 view .LVU556
1242:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr   = p_tmr2;
 1685              		.loc 1 1242 26 is_stmt 0 view .LVU557
 1686 0066 0461     		str	r4, [r0, #16]
1243:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->Remain  -= delta;                               /* Reduce time of next entry in the
 1687              		.loc 1 1243 9 is_stmt 1 view .LVU558
1243:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->Remain  -= delta;                               /* Reduce time of next entry in the
 1688              		.loc 1 1243 26 is_stmt 0 view .LVU559
 1689 0068 C360     		str	r3, [r0, #12]
1244:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->PrevPtr  = p_tmr;
 1690              		.loc 1 1244 9 is_stmt 1 view .LVU560
1244:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->PrevPtr  = p_tmr;
 1691              		.loc 1 1244 25 is_stmt 0 view .LVU561
 1692 006a 5969     		ldr	r1, [r3, #20]
 1693 006c 8A1A     		subs	r2, r1, r2
 1694              	.LVL139:
1244:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr2->PrevPtr  = p_tmr;
 1695              		.loc 1 1244 25 view .LVU562
 1696 006e 5A61     		str	r2, [r3, #20]
 1697              	.LVL140:
1245:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr  = p_tmr;
 1698              		.loc 1 1245 9 is_stmt 1 view .LVU563
1245:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr  = p_tmr;
 1699              		.loc 1 1245 26 is_stmt 0 view .LVU564
 1700 0070 1861     		str	r0, [r3, #16]
1246:rtos/uCOS-III/Source/os_tmr.c **** 
 1701              		.loc 1 1246 9 is_stmt 1 view .LVU565
1246:rtos/uCOS-III/Source/os_tmr.c **** 
 1702              		.loc 1 1246 26 is_stmt 0 view .LVU566
 1703 0072 E060     		str	r0, [r4, #12]
 1704              	.LVL141:
 1705              	.L125:
1254:rtos/uCOS-III/Source/os_tmr.c **** 
 1706              		.loc 1 1254 1 view .LVU567
 1707 0074 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1708              	.LVL142:
 1709              	.L132:
1249:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr   = p_tmr1;
 1710              		.loc 1 1249 9 is_stmt 1 view .LVU568
1249:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->PrevPtr   = p_tmr1;
 1711              		.loc 1 1249 26 is_stmt 0 view .LVU569
 1712 0076 4261     		str	r2, [r0, #20]
1250:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr   = (OS_TMR *)0;
 1713              		.loc 1 1250 9 is_stmt 1 view .LVU570
1250:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr   = (OS_TMR *)0;
ARM GAS  /tmp/ccfvxgcI.s 			page 69


 1714              		.loc 1 1250 26 is_stmt 0 view .LVU571
 1715 0078 0461     		str	r4, [r0, #16]
1251:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr  = p_tmr;
 1716              		.loc 1 1251 9 is_stmt 1 view .LVU572
1251:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr  = p_tmr;
 1717              		.loc 1 1251 26 is_stmt 0 view .LVU573
 1718 007a 0023     		movs	r3, #0
 1719              	.LVL143:
1251:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr1->NextPtr  = p_tmr;
 1720              		.loc 1 1251 26 view .LVU574
 1721 007c C360     		str	r3, [r0, #12]
1252:rtos/uCOS-III/Source/os_tmr.c ****     }
 1722              		.loc 1 1252 9 is_stmt 1 view .LVU575
1252:rtos/uCOS-III/Source/os_tmr.c ****     }
 1723              		.loc 1 1252 26 is_stmt 0 view .LVU576
 1724 007e E060     		str	r0, [r4, #12]
 1725 0080 F8E7     		b	.L125
 1726              	.L137:
 1727 0082 00BF     		.align	2
 1728              	.L136:
 1729 0084 00000000 		.word	OSTmrListPtr
 1730 0088 00000000 		.word	OSTmrTaskTickBase
 1731              		.cfi_endproc
 1732              	.LFE9:
 1734              		.section	.text.OS_TmrUnlink,"ax",%progbits
 1735              		.align	1
 1736              		.global	OS_TmrUnlink
 1737              		.syntax unified
 1738              		.thumb
 1739              		.thumb_func
 1740              		.fpu fpv4-sp-d16
 1742              	OS_TmrUnlink:
 1743              	.LVL144:
 1744              	.LFB10:
1276:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
 1745              		.loc 1 1276 1 is_stmt 1 view -0
 1746              		.cfi_startproc
 1747              		@ args = 0, pretend = 0, frame = 0
 1748              		@ frame_needed = 0, uses_anonymous_args = 0
1276:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr1;
 1749              		.loc 1 1276 1 is_stmt 0 view .LVU578
 1750 0000 38B5     		push	{r3, r4, r5, lr}
 1751              	.LCFI24:
 1752              		.cfi_def_cfa_offset 16
 1753              		.cfi_offset 3, -16
 1754              		.cfi_offset 4, -12
 1755              		.cfi_offset 5, -8
 1756              		.cfi_offset 14, -4
 1757 0002 0446     		mov	r4, r0
1277:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR   *p_tmr2;
 1758              		.loc 1 1277 5 is_stmt 1 view .LVU579
1278:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK   elapsed;
 1759              		.loc 1 1278 5 view .LVU580
1279:rtos/uCOS-III/Source/os_tmr.c **** 
 1760              		.loc 1 1279 5 view .LVU581
1282:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr2                          = p_tmr->NextPtr;
 1761              		.loc 1 1282 5 view .LVU582
ARM GAS  /tmp/ccfvxgcI.s 			page 70


1282:rtos/uCOS-III/Source/os_tmr.c ****     p_tmr2                          = p_tmr->NextPtr;
 1762              		.loc 1 1282 37 is_stmt 0 view .LVU583
 1763 0004 0369     		ldr	r3, [r0, #16]
 1764              	.LVL145:
1283:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr1 == (OS_TMR *)0) {
 1765              		.loc 1 1283 5 is_stmt 1 view .LVU584
1283:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr1 == (OS_TMR *)0) {
 1766              		.loc 1 1283 37 is_stmt 0 view .LVU585
 1767 0006 C568     		ldr	r5, [r0, #12]
 1768              	.LVL146:
1284:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tmr2 == (OS_TMR *)0) {                            /* Remove the ONLY entry in the lis
 1769              		.loc 1 1284 5 is_stmt 1 view .LVU586
1284:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tmr2 == (OS_TMR *)0) {                            /* Remove the ONLY entry in the lis
 1770              		.loc 1 1284 8 is_stmt 0 view .LVU587
 1771 0008 5BB1     		cbz	r3, .L151
1332:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tmr2 != (OS_TMR *)0) {
 1772              		.loc 1 1332 9 is_stmt 1 view .LVU588
1332:rtos/uCOS-III/Source/os_tmr.c ****         if (p_tmr2 != (OS_TMR *)0) {
 1773              		.loc 1 1332 37 is_stmt 0 view .LVU589
 1774 000a DD60     		str	r5, [r3, #12]
1333:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = p_tmr1;
 1775              		.loc 1 1333 9 is_stmt 1 view .LVU590
1333:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = p_tmr1;
 1776              		.loc 1 1333 12 is_stmt 0 view .LVU591
 1777 000c 25B1     		cbz	r5, .L149
1334:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->Remain         += p_tmr->Remain;            /* Add back the ticks to the delta 
 1778              		.loc 1 1334 13 is_stmt 1 view .LVU592
1334:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->Remain         += p_tmr->Remain;            /* Add back the ticks to the delta 
 1779              		.loc 1 1334 37 is_stmt 0 view .LVU593
 1780 000e 2B61     		str	r3, [r5, #16]
1335:rtos/uCOS-III/Source/os_tmr.c ****         }
 1781              		.loc 1 1335 13 is_stmt 1 view .LVU594
1335:rtos/uCOS-III/Source/os_tmr.c ****         }
 1782              		.loc 1 1335 44 is_stmt 0 view .LVU595
 1783 0010 4269     		ldr	r2, [r0, #20]
1335:rtos/uCOS-III/Source/os_tmr.c ****         }
 1784              		.loc 1 1335 36 view .LVU596
 1785 0012 6B69     		ldr	r3, [r5, #20]
 1786              	.LVL147:
1335:rtos/uCOS-III/Source/os_tmr.c ****         }
 1787              		.loc 1 1335 36 view .LVU597
 1788 0014 1344     		add	r3, r3, r2
 1789 0016 6B61     		str	r3, [r5, #20]
 1790              	.LVL148:
 1791              	.L149:
1337:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr              = (OS_TMR *)0;
 1792              		.loc 1 1337 9 is_stmt 1 view .LVU598
1337:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->NextPtr              = (OS_TMR *)0;
 1793              		.loc 1 1337 37 is_stmt 0 view .LVU599
 1794 0018 0023     		movs	r3, #0
 1795 001a 2361     		str	r3, [r4, #16]
1338:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->Remain               =           0u;
 1796              		.loc 1 1338 9 is_stmt 1 view .LVU600
1338:rtos/uCOS-III/Source/os_tmr.c ****         p_tmr->Remain               =           0u;
 1797              		.loc 1 1338 37 is_stmt 0 view .LVU601
 1798 001c E360     		str	r3, [r4, #12]
1339:rtos/uCOS-III/Source/os_tmr.c ****     }
ARM GAS  /tmp/ccfvxgcI.s 			page 71


 1799              		.loc 1 1339 9 is_stmt 1 view .LVU602
1339:rtos/uCOS-III/Source/os_tmr.c ****     }
 1800              		.loc 1 1339 37 is_stmt 0 view .LVU603
 1801 001e 6361     		str	r3, [r4, #20]
 1802              	.LVL149:
 1803              	.L138:
1341:rtos/uCOS-III/Source/os_tmr.c **** 
 1804              		.loc 1 1341 1 view .LVU604
 1805 0020 38BD     		pop	{r3, r4, r5, pc}
 1806              	.LVL150:
 1807              	.L151:
1285:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListPtr            = (OS_TMR *)0;
 1808              		.loc 1 1285 9 is_stmt 1 view .LVU605
1285:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListPtr            = (OS_TMR *)0;
 1809              		.loc 1 1285 12 is_stmt 0 view .LVU606
 1810 0022 65B1     		cbz	r5, .L152
1298:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = (OS_TMR *)0;
 1811              		.loc 1 1298 13 is_stmt 1 view .LVU607
1298:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = (OS_TMR *)0;
 1812              		.loc 1 1298 44 is_stmt 0 view .LVU608
 1813 0024 174B     		ldr	r3, .L153
 1814              	.LVL151:
1298:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = (OS_TMR *)0;
 1815              		.loc 1 1298 44 view .LVU609
 1816 0026 1A68     		ldr	r2, [r3]
1298:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->PrevPtr         = (OS_TMR *)0;
 1817              		.loc 1 1298 37 view .LVU610
 1818 0028 8A1A     		subs	r2, r1, r2
 1819              	.LVL152:
1299:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->Remain         += p_tmr->Remain;            /* Add back the ticks to the delta 
 1820              		.loc 1 1299 13 is_stmt 1 view .LVU611
1299:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr2->Remain         += p_tmr->Remain;            /* Add back the ticks to the delta 
 1821              		.loc 1 1299 37 is_stmt 0 view .LVU612
 1822 002a 0023     		movs	r3, #0
 1823 002c 2B61     		str	r3, [r5, #16]
 1824              	.LVL153:
1300:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListPtr            = p_tmr2;
 1825              		.loc 1 1300 13 is_stmt 1 view .LVU613
1300:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListPtr            = p_tmr2;
 1826              		.loc 1 1300 44 is_stmt 0 view .LVU614
 1827 002e 4069     		ldr	r0, [r0, #20]
 1828              	.LVL154:
1300:rtos/uCOS-III/Source/os_tmr.c ****             OSTmrListPtr            = p_tmr2;
 1829              		.loc 1 1300 36 view .LVU615
 1830 0030 6B69     		ldr	r3, [r5, #20]
 1831 0032 0344     		add	r3, r3, r0
 1832 0034 6B61     		str	r3, [r5, #20]
1301:rtos/uCOS-III/Source/os_tmr.c **** 
 1833              		.loc 1 1301 13 is_stmt 1 view .LVU616
1301:rtos/uCOS-III/Source/os_tmr.c **** 
 1834              		.loc 1 1301 37 is_stmt 0 view .LVU617
 1835 0036 144B     		ldr	r3, .L153+4
 1836 0038 1D60     		str	r5, [r3]
1303:rtos/uCOS-III/Source/os_tmr.c ****                    (p_tmr2  != (OS_TMR *)0)) {
 1837              		.loc 1 1303 13 is_stmt 1 view .LVU618
1283:rtos/uCOS-III/Source/os_tmr.c ****     if (p_tmr1 == (OS_TMR *)0) {
 1838              		.loc 1 1283 37 is_stmt 0 view .LVU619
ARM GAS  /tmp/ccfvxgcI.s 			page 72


 1839 003a 2B46     		mov	r3, r5
1303:rtos/uCOS-III/Source/os_tmr.c ****                    (p_tmr2  != (OS_TMR *)0)) {
 1840              		.loc 1 1303 19 view .LVU620
 1841 003c 0BE0     		b	.L142
 1842              	.LVL155:
 1843              	.L152:
1286:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1844              		.loc 1 1286 13 is_stmt 1 view .LVU621
1286:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 1845              		.loc 1 1286 37 is_stmt 0 view .LVU622
 1846 003e 124A     		ldr	r2, .L153+4
 1847 0040 1360     		str	r3, [r2]
1290:rtos/uCOS-III/Source/os_tmr.c **** 
 1848              		.loc 1 1290 13 is_stmt 1 view .LVU623
1290:rtos/uCOS-III/Source/os_tmr.c **** 
 1849              		.loc 1 1290 37 is_stmt 0 view .LVU624
 1850 0042 4361     		str	r3, [r0, #20]
1292:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrCondSignal();
 1851              		.loc 1 1292 13 is_stmt 1 view .LVU625
1292:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrCondSignal();
 1852              		.loc 1 1292 37 is_stmt 0 view .LVU626
 1853 0044 0F4B     		ldr	r3, .L153
 1854              	.LVL156:
1292:rtos/uCOS-III/Source/os_tmr.c ****             OS_TmrCondSignal();
 1855              		.loc 1 1292 37 view .LVU627
 1856 0046 1960     		str	r1, [r3]
1293:rtos/uCOS-III/Source/os_tmr.c ****         } else {
 1857              		.loc 1 1293 13 is_stmt 1 view .LVU628
 1858 0048 FFF7FEFF 		bl	OS_TmrCondSignal
 1859              	.LVL157:
1293:rtos/uCOS-III/Source/os_tmr.c ****         } else {
 1860              		.loc 1 1293 13 is_stmt 0 view .LVU629
 1861 004c E8E7     		b	.L138
 1862              	.LVL158:
 1863              	.L143:
1310:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed         = 0u;
 1864              		.loc 1 1310 21 is_stmt 1 view .LVU630
1310:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed         = 0u;
 1865              		.loc 1 1310 36 is_stmt 0 view .LVU631
 1866 004e 821A     		subs	r2, r0, r2
 1867              	.LVL159:
1310:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed         = 0u;
 1868              		.loc 1 1310 36 view .LVU632
 1869 0050 5A61     		str	r2, [r3, #20]
1311:rtos/uCOS-III/Source/os_tmr.c ****                 }
 1870              		.loc 1 1311 21 is_stmt 1 view .LVU633
 1871              	.LVL160:
1311:rtos/uCOS-III/Source/os_tmr.c ****                 }
 1872              		.loc 1 1311 37 is_stmt 0 view .LVU634
 1873 0052 0022     		movs	r2, #0
 1874              	.LVL161:
 1875              	.L144:
1315:rtos/uCOS-III/Source/os_tmr.c ****                 p_tmr2              = p_tmr1->NextPtr;
 1876              		.loc 1 1315 17 is_stmt 1 view .LVU635
1316:rtos/uCOS-III/Source/os_tmr.c ****             }
 1877              		.loc 1 1316 17 view .LVU636
1316:rtos/uCOS-III/Source/os_tmr.c ****             }
ARM GAS  /tmp/ccfvxgcI.s 			page 73


 1878              		.loc 1 1316 37 is_stmt 0 view .LVU637
 1879 0054 DB68     		ldr	r3, [r3, #12]
 1880              	.LVL162:
 1881              	.L142:
1303:rtos/uCOS-III/Source/os_tmr.c ****                    (p_tmr2  != (OS_TMR *)0)) {
 1882              		.loc 1 1303 19 is_stmt 1 view .LVU638
 1883 0056 3AB1     		cbz	r2, .L145
1303:rtos/uCOS-III/Source/os_tmr.c ****                    (p_tmr2  != (OS_TMR *)0)) {
 1884              		.loc 1 1303 45 is_stmt 0 discriminator 1 view .LVU639
 1885 0058 33B1     		cbz	r3, .L145
1306:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed        -= p_tmr2->Remain;
 1886              		.loc 1 1306 17 is_stmt 1 view .LVU640
1306:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed        -= p_tmr2->Remain;
 1887              		.loc 1 1306 37 is_stmt 0 view .LVU641
 1888 005a 5869     		ldr	r0, [r3, #20]
1306:rtos/uCOS-III/Source/os_tmr.c ****                     elapsed        -= p_tmr2->Remain;
 1889              		.loc 1 1306 20 view .LVU642
 1890 005c 9042     		cmp	r0, r2
 1891 005e F6D2     		bcs	.L143
1307:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr2->Remain  = 0u;
 1892              		.loc 1 1307 21 is_stmt 1 view .LVU643
1307:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr2->Remain  = 0u;
 1893              		.loc 1 1307 36 is_stmt 0 view .LVU644
 1894 0060 121A     		subs	r2, r2, r0
 1895              	.LVL163:
1308:rtos/uCOS-III/Source/os_tmr.c ****                 } else {
 1896              		.loc 1 1308 21 is_stmt 1 view .LVU645
1308:rtos/uCOS-III/Source/os_tmr.c ****                 } else {
 1897              		.loc 1 1308 37 is_stmt 0 view .LVU646
 1898 0062 0020     		movs	r0, #0
 1899 0064 5861     		str	r0, [r3, #20]
 1900 0066 F5E7     		b	.L144
 1901              	.L145:
1319:rtos/uCOS-III/Source/os_tmr.c ****                 (OSTmrListPtr->Remain ==            0u)) {      /* ... or has already timed out.   
 1902              		.loc 1 1319 13 is_stmt 1 view .LVU647
1319:rtos/uCOS-III/Source/os_tmr.c ****                 (OSTmrListPtr->Remain ==            0u)) {      /* ... or has already timed out.   
 1903              		.loc 1 1319 30 is_stmt 0 view .LVU648
 1904 0068 6B69     		ldr	r3, [r5, #20]
 1905              	.LVL164:
1319:rtos/uCOS-III/Source/os_tmr.c ****                 (OSTmrListPtr->Remain ==            0u)) {      /* ... or has already timed out.   
 1906              		.loc 1 1319 47 view .LVU649
 1907 006a 6269     		ldr	r2, [r4, #20]
 1908              	.LVL165:
1319:rtos/uCOS-III/Source/os_tmr.c ****                 (OSTmrListPtr->Remain ==            0u)) {      /* ... or has already timed out.   
 1909              		.loc 1 1319 16 view .LVU650
 1910 006c 9342     		cmp	r3, r2
 1911 006e 00D1     		bne	.L147
1319:rtos/uCOS-III/Source/os_tmr.c ****                 (OSTmrListPtr->Remain ==            0u)) {      /* ... or has already timed out.   
 1912              		.loc 1 1319 57 discriminator 1 view .LVU651
 1913 0070 1BB9     		cbnz	r3, .L148
 1914              	.L147:
1321:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TmrCondSignal();
 1915              		.loc 1 1321 17 is_stmt 1 view .LVU652
1321:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TmrCondSignal();
 1916              		.loc 1 1321 37 is_stmt 0 view .LVU653
 1917 0072 044B     		ldr	r3, .L153
 1918 0074 1960     		str	r1, [r3]
ARM GAS  /tmp/ccfvxgcI.s 			page 74


1322:rtos/uCOS-III/Source/os_tmr.c ****             }
 1919              		.loc 1 1322 17 is_stmt 1 view .LVU654
 1920 0076 FFF7FEFF 		bl	OS_TmrCondSignal
 1921              	.LVL166:
 1922              	.L148:
1325:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr->Remain           =           0u;
 1923              		.loc 1 1325 13 view .LVU655
1325:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr->Remain           =           0u;
 1924              		.loc 1 1325 37 is_stmt 0 view .LVU656
 1925 007a 0023     		movs	r3, #0
 1926 007c E360     		str	r3, [r4, #12]
1326:rtos/uCOS-III/Source/os_tmr.c ****         }
 1927              		.loc 1 1326 13 is_stmt 1 view .LVU657
1326:rtos/uCOS-III/Source/os_tmr.c ****         }
 1928              		.loc 1 1326 37 is_stmt 0 view .LVU658
 1929 007e 6361     		str	r3, [r4, #20]
 1930 0080 CEE7     		b	.L138
 1931              	.L154:
 1932 0082 00BF     		.align	2
 1933              	.L153:
 1934 0084 00000000 		.word	OSTmrTaskTickBase
 1935 0088 00000000 		.word	OSTmrListPtr
 1936              		.cfi_endproc
 1937              	.LFE10:
 1939              		.section	.text.OSTmrDel,"ax",%progbits
 1940              		.align	1
 1941              		.global	OSTmrDel
 1942              		.syntax unified
 1943              		.thumb
 1944              		.thumb_func
 1945              		.fpu fpv4-sp-d16
 1947              	OSTmrDel:
 1948              	.LVL167:
 1949              	.LFB1:
 245:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN  success;
 1950              		.loc 1 245 1 is_stmt 1 view -0
 1951              		.cfi_startproc
 1952              		@ args = 0, pretend = 0, frame = 0
 1953              		@ frame_needed = 0, uses_anonymous_args = 0
 245:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN  success;
 1954              		.loc 1 245 1 is_stmt 0 view .LVU660
 1955 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1956              	.LCFI25:
 1957              		.cfi_def_cfa_offset 24
 1958              		.cfi_offset 4, -24
 1959              		.cfi_offset 5, -20
 1960              		.cfi_offset 6, -16
 1961              		.cfi_offset 7, -12
 1962              		.cfi_offset 8, -8
 1963              		.cfi_offset 14, -4
 1964 0004 0D46     		mov	r5, r1
 246:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK      time;
 1965              		.loc 1 246 5 is_stmt 1 view .LVU661
 247:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 1966              		.loc 1 247 5 view .LVU662
 248:rtos/uCOS-III/Source/os_tmr.c **** 
 1967              		.loc 1 248 5 view .LVU663
ARM GAS  /tmp/ccfvxgcI.s 			page 75


 1968              	.LVL168:
 266:rtos/uCOS-III/Source/os_tmr.c ****        *p_err  = OS_ERR_TMR_ISR;
 1969              		.loc 1 266 5 view .LVU664
 266:rtos/uCOS-III/Source/os_tmr.c ****        *p_err  = OS_ERR_TMR_ISR;
 1970              		.loc 1 266 25 is_stmt 0 view .LVU665
 1971 0006 2C4B     		ldr	r3, .L173
 1972 0008 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 266:rtos/uCOS-III/Source/os_tmr.c ****        *p_err  = OS_ERR_TMR_ISR;
 1973              		.loc 1 266 8 view .LVU666
 1974 000a 44B9     		cbnz	r4, .L170
 1975 000c 0646     		mov	r6, r0
 273:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1976              		.loc 1 273 5 is_stmt 1 view .LVU667
 273:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1977              		.loc 1 273 19 is_stmt 0 view .LVU668
 1978 000e 2B4B     		ldr	r3, .L173+4
 1979 0010 1F78     		ldrb	r7, [r3]	@ zero_extendqisi2
 273:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1980              		.loc 1 273 8 view .LVU669
 1981 0012 012F     		cmp	r7, #1
 1982 0014 0AD0     		beq	.L158
 274:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 1983              		.loc 1 274 8 is_stmt 1 view .LVU670
 274:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 1984              		.loc 1 274 15 is_stmt 0 view .LVU671
 1985 0016 45F68963 		movw	r3, #24201
 1986 001a 0B80     		strh	r3, [r1]	@ movhi
 275:rtos/uCOS-III/Source/os_tmr.c ****     }
 1987              		.loc 1 275 9 is_stmt 1 view .LVU672
 275:rtos/uCOS-III/Source/os_tmr.c ****     }
 1988              		.loc 1 275 16 is_stmt 0 view .LVU673
 1989 001c 03E0     		b	.L157
 1990              	.L170:
 267:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 1991              		.loc 1 267 8 is_stmt 1 view .LVU674
 267:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 1992              		.loc 1 267 16 is_stmt 0 view .LVU675
 1993 001e 47F24333 		movw	r3, #29507
 1994 0022 0B80     		strh	r3, [r1]	@ movhi
 268:rtos/uCOS-III/Source/os_tmr.c ****     }
 1995              		.loc 1 268 9 is_stmt 1 view .LVU676
 268:rtos/uCOS-III/Source/os_tmr.c ****     }
 1996              		.loc 1 268 16 is_stmt 0 view .LVU677
 1997 0024 0024     		movs	r4, #0
 1998              	.LVL169:
 1999              	.L157:
 347:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2000              		.loc 1 347 1 view .LVU678
 2001 0026 2046     		mov	r0, r4
 2002 0028 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2003              	.LVL170:
 2004              	.L158:
 280:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 2005              		.loc 1 280 5 is_stmt 1 view .LVU679
 280:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 2006              		.loc 1 280 8 is_stmt 0 view .LVU680
 2007 002c 38B1     		cbz	r0, .L171
ARM GAS  /tmp/ccfvxgcI.s 			page 76


 287:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2008              		.loc 1 287 5 is_stmt 1 view .LVU681
 287:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2009              		.loc 1 287 14 is_stmt 0 view .LVU682
 2010 002e 0268     		ldr	r2, [r0]
 287:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2011              		.loc 1 287 8 view .LVU683
 2012 0030 234B     		ldr	r3, .L173+8
 2013 0032 9A42     		cmp	r2, r3
 2014 0034 07D0     		beq	.L160
 288:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2015              		.loc 1 288 8 is_stmt 1 view .LVU684
 288:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2016              		.loc 1 288 15 is_stmt 0 view .LVU685
 2017 0036 45F6C453 		movw	r3, #24004
 2018 003a 0B80     		strh	r3, [r1]	@ movhi
 289:rtos/uCOS-III/Source/os_tmr.c ****     }
 2019              		.loc 1 289 9 is_stmt 1 view .LVU686
 289:rtos/uCOS-III/Source/os_tmr.c ****     }
 2020              		.loc 1 289 16 is_stmt 0 view .LVU687
 2021 003c F3E7     		b	.L157
 2022              	.L171:
 281:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2023              		.loc 1 281 8 is_stmt 1 view .LVU688
 281:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2024              		.loc 1 281 15 is_stmt 0 view .LVU689
 2025 003e 47F24233 		movw	r3, #29506
 2026 0042 0B80     		strh	r3, [r1]	@ movhi
 282:rtos/uCOS-III/Source/os_tmr.c ****     }
 2027              		.loc 1 282 9 is_stmt 1 view .LVU690
 282:rtos/uCOS-III/Source/os_tmr.c ****     }
 2028              		.loc 1 282 16 is_stmt 0 view .LVU691
 2029 0044 EFE7     		b	.L157
 2030              	.L160:
 293:rtos/uCOS-III/Source/os_tmr.c **** 
 2031              		.loc 1 293 5 is_stmt 1 view .LVU692
 2032 0046 FFF7FEFF 		bl	OS_TmrLock
 2033              	.LVL171:
 295:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2034              		.loc 1 295 5 view .LVU693
 295:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2035              		.loc 1 295 5 view .LVU694
 295:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2036              		.loc 1 295 5 view .LVU695
 2037 004a 4020     		movs	r0, #64
 2038 004c FFF7FEFF 		bl	CPU_SR_Save
 2039              	.LVL172:
 295:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2040              		.loc 1 295 5 view .LVU696
 295:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2041              		.loc 1 295 5 view .LVU697
 296:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2042              		.loc 1 296 5 view .LVU698
 296:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2043              		.loc 1 296 21 is_stmt 0 view .LVU699
 2044 0050 1C4B     		ldr	r3, .L173+12
 2045 0052 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccfvxgcI.s 			page 77


 296:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2046              		.loc 1 296 8 view .LVU700
 2047 0054 1C4B     		ldr	r3, .L173+16
 2048 0056 9A42     		cmp	r2, r3
 2049 0058 0DD0     		beq	.L172
 302:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2050              		.loc 1 302 9 is_stmt 1 view .LVU701
 302:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2051              		.loc 1 302 14 is_stmt 0 view .LVU702
 2052 005a 1C4B     		ldr	r3, .L173+20
 2053 005c D3F80080 		ldr	r8, [r3]
 2054              	.LVL173:
 2055              	.L162:
 305:rtos/uCOS-III/Source/os_tmr.c **** 
 2056              		.loc 1 305 5 is_stmt 1 view .LVU703
 305:rtos/uCOS-III/Source/os_tmr.c **** 
 2057              		.loc 1 305 5 view .LVU704
 305:rtos/uCOS-III/Source/os_tmr.c **** 
 2058              		.loc 1 305 5 view .LVU705
 2059 0060 FFF7FEFF 		bl	CPU_SR_Restore
 2060              	.LVL174:
 305:rtos/uCOS-III/Source/os_tmr.c **** 
 2061              		.loc 1 305 5 view .LVU706
 305:rtos/uCOS-III/Source/os_tmr.c **** 
 2062              		.loc 1 305 5 view .LVU707
 311:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 2063              		.loc 1 311 5 view .LVU708
 311:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 2064              		.loc 1 311 18 is_stmt 0 view .LVU709
 2065 0064 96F82230 		ldrb	r3, [r6, #34]	@ zero_extendqisi2
 2066 0068 042B     		cmp	r3, #4
 2067 006a 21D8     		bhi	.L163
 2068 006c DFE803F0 		tbb	[pc, r3]
 2069              	.L165:
 2070 0070 1B       		.byte	(.L167-.L165)/2
 2071 0071 14       		.byte	(.L166-.L165)/2
 2072 0072 07       		.byte	(.L164-.L165)/2
 2073 0073 14       		.byte	(.L166-.L165)/2
 2074 0074 07       		.byte	(.L164-.L165)/2
 2075              	.LVL175:
 2076 0075 00       		.p2align 1
 2077              	.L172:
 297:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2078              		.loc 1 297 9 is_stmt 1 view .LVU710
 297:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2079              		.loc 1 297 14 is_stmt 0 view .LVU711
 2080 0076 164B     		ldr	r3, .L173+24
 2081 0078 D3F80080 		ldr	r8, [r3]
 2082              	.LVL176:
 297:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2083              		.loc 1 297 14 view .LVU712
 2084 007c F0E7     		b	.L162
 2085              	.LVL177:
 2086              	.L164:
 314:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrClr(p_tmr);
 2087              		.loc 1 314 14 is_stmt 1 view .LVU713
 2088 007e 4146     		mov	r1, r8
ARM GAS  /tmp/ccfvxgcI.s 			page 78


 2089 0080 3046     		mov	r0, r6
 2090 0082 FFF7FEFF 		bl	OS_TmrUnlink
 2091              	.LVL178:
 315:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 2092              		.loc 1 315 14 view .LVU714
 2093 0086 3046     		mov	r0, r6
 2094 0088 FFF7FEFF 		bl	OS_TmrClr
 2095              	.LVL179:
 319:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2096              		.loc 1 319 13 view .LVU715
 319:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2097              		.loc 1 319 22 is_stmt 0 view .LVU716
 2098 008c 0023     		movs	r3, #0
 2099 008e 2B80     		strh	r3, [r5]	@ movhi
 320:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2100              		.loc 1 320 14 is_stmt 1 view .LVU717
 2101              	.LVL180:
 321:rtos/uCOS-III/Source/os_tmr.c **** 
 2102              		.loc 1 321 14 view .LVU718
 320:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2103              		.loc 1 320 22 is_stmt 0 view .LVU719
 2104 0090 3C46     		mov	r4, r7
 2105              	.LVL181:
 2106              	.L168:
 344:rtos/uCOS-III/Source/os_tmr.c **** 
 2107              		.loc 1 344 5 is_stmt 1 view .LVU720
 2108 0092 FFF7FEFF 		bl	OS_TmrUnlock
 2109              	.LVL182:
 346:rtos/uCOS-III/Source/os_tmr.c **** }
 2110              		.loc 1 346 5 view .LVU721
 346:rtos/uCOS-III/Source/os_tmr.c **** }
 2111              		.loc 1 346 12 is_stmt 0 view .LVU722
 2112 0096 C6E7     		b	.L157
 2113              	.LVL183:
 2114              	.L166:
 325:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DBG_EN > 0u)
 2115              		.loc 1 325 14 is_stmt 1 view .LVU723
 2116 0098 3046     		mov	r0, r6
 2117 009a FFF7FEFF 		bl	OS_TmrClr
 2118              	.LVL184:
 329:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2119              		.loc 1 329 13 view .LVU724
 329:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2120              		.loc 1 329 22 is_stmt 0 view .LVU725
 2121 009e 0023     		movs	r3, #0
 2122 00a0 2B80     		strh	r3, [r5]	@ movhi
 330:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2123              		.loc 1 330 14 is_stmt 1 view .LVU726
 2124              	.LVL185:
 331:rtos/uCOS-III/Source/os_tmr.c **** 
 2125              		.loc 1 331 14 view .LVU727
 330:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2126              		.loc 1 330 22 is_stmt 0 view .LVU728
 2127 00a2 3C46     		mov	r4, r7
 331:rtos/uCOS-III/Source/os_tmr.c **** 
 2128              		.loc 1 331 14 view .LVU729
 2129 00a4 F5E7     		b	.L168
ARM GAS  /tmp/ccfvxgcI.s 			page 79


 2130              	.LVL186:
 2131              	.L167:
 334:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2132              		.loc 1 334 13 is_stmt 1 view .LVU730
 334:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2133              		.loc 1 334 22 is_stmt 0 view .LVU731
 2134 00a6 47F23D32 		movw	r2, #29501
 2135 00aa 2A80     		strh	r2, [r5]	@ movhi
 335:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2136              		.loc 1 335 14 is_stmt 1 view .LVU732
 2137              	.LVL187:
 336:rtos/uCOS-III/Source/os_tmr.c **** 
 2138              		.loc 1 336 14 view .LVU733
 335:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2139              		.loc 1 335 22 is_stmt 0 view .LVU734
 2140 00ac 1C46     		mov	r4, r3
 336:rtos/uCOS-III/Source/os_tmr.c **** 
 2141              		.loc 1 336 14 view .LVU735
 2142 00ae F0E7     		b	.L168
 2143              	.LVL188:
 2144              	.L163:
 339:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2145              		.loc 1 339 13 is_stmt 1 view .LVU736
 339:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2146              		.loc 1 339 22 is_stmt 0 view .LVU737
 2147 00b0 47F24133 		movw	r3, #29505
 2148 00b4 2B80     		strh	r3, [r5]	@ movhi
 340:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2149              		.loc 1 340 14 is_stmt 1 view .LVU738
 2150              	.LVL189:
 341:rtos/uCOS-III/Source/os_tmr.c ****     }
 2151              		.loc 1 341 14 view .LVU739
 2152 00b6 ECE7     		b	.L168
 2153              	.L174:
 2154              		.align	2
 2155              	.L173:
 2156 00b8 00000000 		.word	OSIntNestingCtr
 2157 00bc 00000000 		.word	OSRunning
 2158 00c0 544D5220 		.word	542264660
 2159 00c4 00000000 		.word	OSTCBCurPtr
 2160 00c8 00000000 		.word	OSTmrTaskTCB
 2161 00cc 00000000 		.word	OSTickCtr
 2162 00d0 00000000 		.word	OSTmrTaskTickBase
 2163              		.cfi_endproc
 2164              	.LFE1:
 2166              		.section	.text.OSTmrStart,"ax",%progbits
 2167              		.align	1
 2168              		.global	OSTmrStart
 2169              		.syntax unified
 2170              		.thumb
 2171              		.thumb_func
 2172              		.fpu fpv4-sp-d16
 2174              	OSTmrStart:
 2175              	.LVL190:
 2176              	.LFB4:
 625:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN  success;
 2177              		.loc 1 625 1 view -0
ARM GAS  /tmp/ccfvxgcI.s 			page 80


 2178              		.cfi_startproc
 2179              		@ args = 0, pretend = 0, frame = 0
 2180              		@ frame_needed = 0, uses_anonymous_args = 0
 625:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN  success;
 2181              		.loc 1 625 1 is_stmt 0 view .LVU741
 2182 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2183              	.LCFI26:
 2184              		.cfi_def_cfa_offset 24
 2185              		.cfi_offset 4, -24
 2186              		.cfi_offset 5, -20
 2187              		.cfi_offset 6, -16
 2188              		.cfi_offset 7, -12
 2189              		.cfi_offset 8, -8
 2190              		.cfi_offset 14, -4
 2191 0004 0D46     		mov	r5, r1
 626:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK      time;
 2192              		.loc 1 626 5 is_stmt 1 view .LVU742
 627:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 2193              		.loc 1 627 5 view .LVU743
 628:rtos/uCOS-III/Source/os_tmr.c **** 
 2194              		.loc 1 628 5 view .LVU744
 2195              	.LVL191:
 639:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 2196              		.loc 1 639 5 view .LVU745
 639:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 2197              		.loc 1 639 25 is_stmt 0 view .LVU746
 2198 0006 364B     		ldr	r3, .L197
 2199 0008 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 639:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 2200              		.loc 1 639 8 view .LVU747
 2201 000a 44B9     		cbnz	r4, .L194
 2202 000c 0646     		mov	r6, r0
 646:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2203              		.loc 1 646 5 is_stmt 1 view .LVU748
 646:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2204              		.loc 1 646 19 is_stmt 0 view .LVU749
 2205 000e 354B     		ldr	r3, .L197+4
 2206 0010 1F78     		ldrb	r7, [r3]	@ zero_extendqisi2
 646:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2207              		.loc 1 646 8 view .LVU750
 2208 0012 012F     		cmp	r7, #1
 2209 0014 0AD0     		beq	.L178
 647:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2210              		.loc 1 647 8 is_stmt 1 view .LVU751
 647:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2211              		.loc 1 647 15 is_stmt 0 view .LVU752
 2212 0016 45F68963 		movw	r3, #24201
 2213 001a 0B80     		strh	r3, [r1]	@ movhi
 648:rtos/uCOS-III/Source/os_tmr.c ****     }
 2214              		.loc 1 648 9 is_stmt 1 view .LVU753
 648:rtos/uCOS-III/Source/os_tmr.c ****     }
 2215              		.loc 1 648 16 is_stmt 0 view .LVU754
 2216 001c 03E0     		b	.L177
 2217              	.L194:
 640:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2218              		.loc 1 640 8 is_stmt 1 view .LVU755
 640:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
ARM GAS  /tmp/ccfvxgcI.s 			page 81


 2219              		.loc 1 640 15 is_stmt 0 view .LVU756
 2220 001e 47F24333 		movw	r3, #29507
 2221 0022 0B80     		strh	r3, [r1]	@ movhi
 641:rtos/uCOS-III/Source/os_tmr.c ****     }
 2222              		.loc 1 641 9 is_stmt 1 view .LVU757
 641:rtos/uCOS-III/Source/os_tmr.c ****     }
 2223              		.loc 1 641 16 is_stmt 0 view .LVU758
 2224 0024 0024     		movs	r4, #0
 2225              	.LVL192:
 2226              	.L177:
 723:rtos/uCOS-III/Source/os_tmr.c **** 
 2227              		.loc 1 723 1 view .LVU759
 2228 0026 2046     		mov	r0, r4
 2229 0028 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2230              	.LVL193:
 2231              	.L178:
 653:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 2232              		.loc 1 653 5 is_stmt 1 view .LVU760
 653:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 2233              		.loc 1 653 8 is_stmt 0 view .LVU761
 2234 002c 38B1     		cbz	r0, .L195
 660:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2235              		.loc 1 660 5 is_stmt 1 view .LVU762
 660:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2236              		.loc 1 660 14 is_stmt 0 view .LVU763
 2237 002e 0268     		ldr	r2, [r0]
 660:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2238              		.loc 1 660 8 view .LVU764
 2239 0030 2D4B     		ldr	r3, .L197+8
 2240 0032 9A42     		cmp	r2, r3
 2241 0034 07D0     		beq	.L180
 661:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2242              		.loc 1 661 8 is_stmt 1 view .LVU765
 661:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2243              		.loc 1 661 15 is_stmt 0 view .LVU766
 2244 0036 45F6C453 		movw	r3, #24004
 2245 003a 0B80     		strh	r3, [r1]	@ movhi
 662:rtos/uCOS-III/Source/os_tmr.c ****     }
 2246              		.loc 1 662 9 is_stmt 1 view .LVU767
 662:rtos/uCOS-III/Source/os_tmr.c ****     }
 2247              		.loc 1 662 16 is_stmt 0 view .LVU768
 2248 003c F3E7     		b	.L177
 2249              	.L195:
 654:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2250              		.loc 1 654 8 is_stmt 1 view .LVU769
 654:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2251              		.loc 1 654 15 is_stmt 0 view .LVU770
 2252 003e 47F24233 		movw	r3, #29506
 2253 0042 0B80     		strh	r3, [r1]	@ movhi
 655:rtos/uCOS-III/Source/os_tmr.c ****     }
 2254              		.loc 1 655 9 is_stmt 1 view .LVU771
 655:rtos/uCOS-III/Source/os_tmr.c ****     }
 2255              		.loc 1 655 16 is_stmt 0 view .LVU772
 2256 0044 EFE7     		b	.L177
 2257              	.L180:
 666:rtos/uCOS-III/Source/os_tmr.c **** 
 2258              		.loc 1 666 5 is_stmt 1 view .LVU773
ARM GAS  /tmp/ccfvxgcI.s 			page 82


 2259 0046 FFF7FEFF 		bl	OS_TmrLock
 2260              	.LVL194:
 668:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2261              		.loc 1 668 5 view .LVU774
 668:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2262              		.loc 1 668 5 view .LVU775
 668:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2263              		.loc 1 668 5 view .LVU776
 2264 004a 4020     		movs	r0, #64
 2265 004c FFF7FEFF 		bl	CPU_SR_Save
 2266              	.LVL195:
 668:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2267              		.loc 1 668 5 view .LVU777
 668:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2268              		.loc 1 668 5 view .LVU778
 669:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2269              		.loc 1 669 5 view .LVU779
 669:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2270              		.loc 1 669 21 is_stmt 0 view .LVU780
 2271 0050 264B     		ldr	r3, .L197+12
 2272 0052 1A68     		ldr	r2, [r3]
 669:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2273              		.loc 1 669 8 view .LVU781
 2274 0054 264B     		ldr	r3, .L197+16
 2275 0056 9A42     		cmp	r2, r3
 2276 0058 0DD0     		beq	.L196
 675:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2277              		.loc 1 675 9 is_stmt 1 view .LVU782
 675:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2278              		.loc 1 675 14 is_stmt 0 view .LVU783
 2279 005a 264B     		ldr	r3, .L197+20
 2280 005c D3F80080 		ldr	r8, [r3]
 2281              	.LVL196:
 2282              	.L182:
 678:rtos/uCOS-III/Source/os_tmr.c **** 
 2283              		.loc 1 678 5 is_stmt 1 view .LVU784
 678:rtos/uCOS-III/Source/os_tmr.c **** 
 2284              		.loc 1 678 5 view .LVU785
 678:rtos/uCOS-III/Source/os_tmr.c **** 
 2285              		.loc 1 678 5 view .LVU786
 2286 0060 FFF7FEFF 		bl	CPU_SR_Restore
 2287              	.LVL197:
 678:rtos/uCOS-III/Source/os_tmr.c **** 
 2288              		.loc 1 678 5 view .LVU787
 678:rtos/uCOS-III/Source/os_tmr.c **** 
 2289              		.loc 1 678 5 view .LVU788
 681:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:                              /* Restart the timer               
 2290              		.loc 1 681 5 view .LVU789
 681:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:                              /* Restart the timer               
 2291              		.loc 1 681 18 is_stmt 0 view .LVU790
 2292 0064 96F82230 		ldrb	r3, [r6, #34]	@ zero_extendqisi2
 2293 0068 042B     		cmp	r3, #4
 2294 006a 35D8     		bhi	.L183
 2295 006c DFE803F0 		tbb	[pc, r3]
 2296              	.L185:
 2297 0070 2F       		.byte	(.L187-.L185)/2
 2298 0071 1E       		.byte	(.L186-.L185)/2
ARM GAS  /tmp/ccfvxgcI.s 			page 83


 2299 0072 07       		.byte	(.L184-.L185)/2
 2300 0073 1E       		.byte	(.L186-.L185)/2
 2301 0074 07       		.byte	(.L184-.L185)/2
 2302              	.LVL198:
 2303 0075 00       		.p2align 1
 2304              	.L196:
 670:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2305              		.loc 1 670 9 is_stmt 1 view .LVU791
 670:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2306              		.loc 1 670 14 is_stmt 0 view .LVU792
 2307 0076 204B     		ldr	r3, .L197+24
 2308 0078 D3F80080 		ldr	r8, [r3]
 2309              	.LVL199:
 670:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2310              		.loc 1 670 14 view .LVU793
 2311 007c F0E7     		b	.L182
 2312              	.LVL200:
 2313              	.L184:
 684:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrUnlink(p_tmr, time);                         /* Remove from current position in 
 2314              		.loc 1 684 14 is_stmt 1 view .LVU794
 684:rtos/uCOS-III/Source/os_tmr.c ****              OS_TmrUnlink(p_tmr, time);                         /* Remove from current position in 
 2315              		.loc 1 684 27 is_stmt 0 view .LVU795
 2316 007e 0223     		movs	r3, #2
 2317 0080 86F82230 		strb	r3, [r6, #34]
 685:rtos/uCOS-III/Source/os_tmr.c ****              if (p_tmr->Dly == 0u) {
 2318              		.loc 1 685 14 is_stmt 1 view .LVU796
 2319 0084 4146     		mov	r1, r8
 2320 0086 3046     		mov	r0, r6
 2321 0088 FFF7FEFF 		bl	OS_TmrUnlink
 2322              	.LVL201:
 686:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 2323              		.loc 1 686 14 view .LVU797
 686:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 2324              		.loc 1 686 23 is_stmt 0 view .LVU798
 2325 008c B369     		ldr	r3, [r6, #24]
 686:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 2326              		.loc 1 686 17 view .LVU799
 2327 008e 5BB9     		cbnz	r3, .L188
 687:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 2328              		.loc 1 687 18 is_stmt 1 view .LVU800
 687:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 2329              		.loc 1 687 39 is_stmt 0 view .LVU801
 2330 0090 F369     		ldr	r3, [r6, #28]
 687:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 2331              		.loc 1 687 32 view .LVU802
 2332 0092 7361     		str	r3, [r6, #20]
 2333              	.L189:
 691:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 2334              		.loc 1 691 14 is_stmt 1 view .LVU803
 2335 0094 4146     		mov	r1, r8
 2336 0096 3046     		mov	r0, r6
 2337 0098 FFF7FEFF 		bl	OS_TmrLink
 2338              	.LVL202:
 692:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2339              		.loc 1 692 13 view .LVU804
 692:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2340              		.loc 1 692 22 is_stmt 0 view .LVU805
ARM GAS  /tmp/ccfvxgcI.s 			page 84


 2341 009c 0023     		movs	r3, #0
 2342 009e 2B80     		strh	r3, [r5]	@ movhi
 693:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2343              		.loc 1 693 14 is_stmt 1 view .LVU806
 2344              	.LVL203:
 694:rtos/uCOS-III/Source/os_tmr.c **** 
 2345              		.loc 1 694 14 view .LVU807
 693:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2346              		.loc 1 693 22 is_stmt 0 view .LVU808
 2347 00a0 3C46     		mov	r4, r7
 2348              	.LVL204:
 2349              	.L190:
 720:rtos/uCOS-III/Source/os_tmr.c **** 
 2350              		.loc 1 720 5 is_stmt 1 view .LVU809
 2351 00a2 FFF7FEFF 		bl	OS_TmrUnlock
 2352              	.LVL205:
 722:rtos/uCOS-III/Source/os_tmr.c **** }
 2353              		.loc 1 722 5 view .LVU810
 722:rtos/uCOS-III/Source/os_tmr.c **** }
 2354              		.loc 1 722 12 is_stmt 0 view .LVU811
 2355 00a6 BEE7     		b	.L177
 2356              	.LVL206:
 2357              	.L188:
 689:rtos/uCOS-III/Source/os_tmr.c ****              }
 2358              		.loc 1 689 18 is_stmt 1 view .LVU812
 689:rtos/uCOS-III/Source/os_tmr.c ****              }
 2359              		.loc 1 689 32 is_stmt 0 view .LVU813
 2360 00a8 7361     		str	r3, [r6, #20]
 2361 00aa F3E7     		b	.L189
 2362              	.L186:
 698:rtos/uCOS-III/Source/os_tmr.c ****              if (p_tmr->Dly == 0u) {
 2363              		.loc 1 698 14 is_stmt 1 view .LVU814
 698:rtos/uCOS-III/Source/os_tmr.c ****              if (p_tmr->Dly == 0u) {
 2364              		.loc 1 698 27 is_stmt 0 view .LVU815
 2365 00ac 0223     		movs	r3, #2
 2366 00ae 86F82230 		strb	r3, [r6, #34]
 699:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 2367              		.loc 1 699 14 is_stmt 1 view .LVU816
 699:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 2368              		.loc 1 699 23 is_stmt 0 view .LVU817
 2369 00b2 B369     		ldr	r3, [r6, #24]
 699:rtos/uCOS-III/Source/os_tmr.c ****                  p_tmr->Remain = p_tmr->Period;
 2370              		.loc 1 699 17 view .LVU818
 2371 00b4 4BB9     		cbnz	r3, .L191
 700:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 2372              		.loc 1 700 18 is_stmt 1 view .LVU819
 700:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 2373              		.loc 1 700 39 is_stmt 0 view .LVU820
 2374 00b6 F369     		ldr	r3, [r6, #28]
 700:rtos/uCOS-III/Source/os_tmr.c ****              } else {
 2375              		.loc 1 700 32 view .LVU821
 2376 00b8 7361     		str	r3, [r6, #20]
 2377              	.L192:
 704:rtos/uCOS-III/Source/os_tmr.c ****             *p_err   = OS_ERR_NONE;
 2378              		.loc 1 704 14 is_stmt 1 view .LVU822
 2379 00ba 4146     		mov	r1, r8
 2380 00bc 3046     		mov	r0, r6
ARM GAS  /tmp/ccfvxgcI.s 			page 85


 2381 00be FFF7FEFF 		bl	OS_TmrLink
 2382              	.LVL207:
 705:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2383              		.loc 1 705 13 view .LVU823
 705:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_TRUE;
 2384              		.loc 1 705 22 is_stmt 0 view .LVU824
 2385 00c2 0023     		movs	r3, #0
 2386 00c4 2B80     		strh	r3, [r5]	@ movhi
 706:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2387              		.loc 1 706 14 is_stmt 1 view .LVU825
 2388              	.LVL208:
 707:rtos/uCOS-III/Source/os_tmr.c **** 
 2389              		.loc 1 707 14 view .LVU826
 706:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2390              		.loc 1 706 22 is_stmt 0 view .LVU827
 2391 00c6 3C46     		mov	r4, r7
 707:rtos/uCOS-III/Source/os_tmr.c **** 
 2392              		.loc 1 707 14 view .LVU828
 2393 00c8 EBE7     		b	.L190
 2394              	.LVL209:
 2395              	.L191:
 702:rtos/uCOS-III/Source/os_tmr.c ****              }
 2396              		.loc 1 702 18 is_stmt 1 view .LVU829
 702:rtos/uCOS-III/Source/os_tmr.c ****              }
 2397              		.loc 1 702 32 is_stmt 0 view .LVU830
 2398 00ca 7361     		str	r3, [r6, #20]
 2399 00cc F5E7     		b	.L192
 2400              	.L187:
 710:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2401              		.loc 1 710 13 is_stmt 1 view .LVU831
 710:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2402              		.loc 1 710 22 is_stmt 0 view .LVU832
 2403 00ce 47F23D32 		movw	r2, #29501
 2404 00d2 2A80     		strh	r2, [r5]	@ movhi
 711:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2405              		.loc 1 711 14 is_stmt 1 view .LVU833
 2406              	.LVL210:
 712:rtos/uCOS-III/Source/os_tmr.c **** 
 2407              		.loc 1 712 14 view .LVU834
 711:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2408              		.loc 1 711 22 is_stmt 0 view .LVU835
 2409 00d4 1C46     		mov	r4, r3
 712:rtos/uCOS-III/Source/os_tmr.c **** 
 2410              		.loc 1 712 14 view .LVU836
 2411 00d6 E4E7     		b	.L190
 2412              	.LVL211:
 2413              	.L183:
 715:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2414              		.loc 1 715 13 is_stmt 1 view .LVU837
 715:rtos/uCOS-III/Source/os_tmr.c ****              success = OS_FALSE;
 2415              		.loc 1 715 22 is_stmt 0 view .LVU838
 2416 00d8 47F24133 		movw	r3, #29505
 2417 00dc 2B80     		strh	r3, [r5]	@ movhi
 716:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2418              		.loc 1 716 14 is_stmt 1 view .LVU839
 2419              	.LVL212:
 717:rtos/uCOS-III/Source/os_tmr.c ****     }
ARM GAS  /tmp/ccfvxgcI.s 			page 86


 2420              		.loc 1 717 14 view .LVU840
 2421 00de E0E7     		b	.L190
 2422              	.L198:
 2423              		.align	2
 2424              	.L197:
 2425 00e0 00000000 		.word	OSIntNestingCtr
 2426 00e4 00000000 		.word	OSRunning
 2427 00e8 544D5220 		.word	542264660
 2428 00ec 00000000 		.word	OSTCBCurPtr
 2429 00f0 00000000 		.word	OSTmrTaskTCB
 2430 00f4 00000000 		.word	OSTickCtr
 2431 00f8 00000000 		.word	OSTmrTaskTickBase
 2432              		.cfi_endproc
 2433              	.LFE4:
 2435              		.section	.text.OSTmrStop,"ax",%progbits
 2436              		.align	1
 2437              		.global	OSTmrStop
 2438              		.syntax unified
 2439              		.thumb
 2440              		.thumb_func
 2441              		.fpu fpv4-sp-d16
 2443              	OSTmrStop:
 2444              	.LVL213:
 2445              	.LFB6:
 863:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR_CALLBACK_PTR  p_fnct;
 2446              		.loc 1 863 1 view -0
 2447              		.cfi_startproc
 2448              		@ args = 0, pretend = 0, frame = 0
 2449              		@ frame_needed = 0, uses_anonymous_args = 0
 863:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR_CALLBACK_PTR  p_fnct;
 2450              		.loc 1 863 1 is_stmt 0 view .LVU842
 2451 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2452              	.LCFI27:
 2453              		.cfi_def_cfa_offset 32
 2454              		.cfi_offset 4, -32
 2455              		.cfi_offset 5, -28
 2456              		.cfi_offset 6, -24
 2457              		.cfi_offset 7, -20
 2458              		.cfi_offset 8, -16
 2459              		.cfi_offset 9, -12
 2460              		.cfi_offset 10, -8
 2461              		.cfi_offset 14, -4
 2462 0004 1D46     		mov	r5, r3
 864:rtos/uCOS-III/Source/os_tmr.c ****     CPU_BOOLEAN          success;
 2463              		.loc 1 864 5 is_stmt 1 view .LVU843
 865:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK              time;
 2464              		.loc 1 865 5 view .LVU844
 866:rtos/uCOS-III/Source/os_tmr.c ****     CPU_SR_ALLOC();
 2465              		.loc 1 866 5 view .LVU845
 867:rtos/uCOS-III/Source/os_tmr.c **** 
 2466              		.loc 1 867 5 view .LVU846
 2467              	.LVL214:
 878:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 2468              		.loc 1 878 5 view .LVU847
 878:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 2469              		.loc 1 878 25 is_stmt 0 view .LVU848
 2470 0006 404C     		ldr	r4, .L224
ARM GAS  /tmp/ccfvxgcI.s 			page 87


 2471 0008 2478     		ldrb	r4, [r4]	@ zero_extendqisi2
 878:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_ISR;
 2472              		.loc 1 878 8 view .LVU849
 2473 000a 64B9     		cbnz	r4, .L220
 2474 000c 0646     		mov	r6, r0
 2475 000e 8846     		mov	r8, r1
 2476 0010 1746     		mov	r7, r2
 885:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2477              		.loc 1 885 5 is_stmt 1 view .LVU850
 885:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2478              		.loc 1 885 19 is_stmt 0 view .LVU851
 2479 0012 3E4B     		ldr	r3, .L224+4
 2480              	.LVL215:
 885:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2481              		.loc 1 885 19 view .LVU852
 2482 0014 93F80090 		ldrb	r9, [r3]	@ zero_extendqisi2
 885:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 2483              		.loc 1 885 8 view .LVU853
 2484 0018 B9F1010F 		cmp	r9, #1
 2485 001c 0AD0     		beq	.L202
 886:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2486              		.loc 1 886 8 is_stmt 1 view .LVU854
 886:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2487              		.loc 1 886 15 is_stmt 0 view .LVU855
 2488 001e 45F68963 		movw	r3, #24201
 2489 0022 2B80     		strh	r3, [r5]	@ movhi
 887:rtos/uCOS-III/Source/os_tmr.c ****     }
 2490              		.loc 1 887 9 is_stmt 1 view .LVU856
 887:rtos/uCOS-III/Source/os_tmr.c ****     }
 2491              		.loc 1 887 16 is_stmt 0 view .LVU857
 2492 0024 03E0     		b	.L201
 2493              	.LVL216:
 2494              	.L220:
 879:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2495              		.loc 1 879 8 is_stmt 1 view .LVU858
 879:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2496              		.loc 1 879 15 is_stmt 0 view .LVU859
 2497 0026 47F24333 		movw	r3, #29507
 2498              	.LVL217:
 879:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2499              		.loc 1 879 15 view .LVU860
 2500 002a 2B80     		strh	r3, [r5]	@ movhi
 880:rtos/uCOS-III/Source/os_tmr.c ****     }
 2501              		.loc 1 880 9 is_stmt 1 view .LVU861
 880:rtos/uCOS-III/Source/os_tmr.c ****     }
 2502              		.loc 1 880 16 is_stmt 0 view .LVU862
 2503 002c 0024     		movs	r4, #0
 2504              	.LVL218:
 2505              	.L201:
 978:rtos/uCOS-III/Source/os_tmr.c **** 
 2506              		.loc 1 978 1 view .LVU863
 2507 002e 2046     		mov	r0, r4
 2508 0030 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2509              	.LVL219:
 2510              	.L202:
 892:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 2511              		.loc 1 892 5 is_stmt 1 view .LVU864
ARM GAS  /tmp/ccfvxgcI.s 			page 88


 892:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_TMR_INVALID;
 2512              		.loc 1 892 8 is_stmt 0 view .LVU865
 2513 0034 38B1     		cbz	r0, .L221
 899:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2514              		.loc 1 899 5 is_stmt 1 view .LVU866
 899:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2515              		.loc 1 899 14 is_stmt 0 view .LVU867
 2516 0036 0268     		ldr	r2, [r0]
 2517              	.LVL220:
 899:rtos/uCOS-III/Source/os_tmr.c ****        *p_err = OS_ERR_OBJ_TYPE;
 2518              		.loc 1 899 8 view .LVU868
 2519 0038 354B     		ldr	r3, .L224+8
 2520 003a 9A42     		cmp	r2, r3
 2521 003c 07D0     		beq	.L204
 900:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2522              		.loc 1 900 8 is_stmt 1 view .LVU869
 900:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2523              		.loc 1 900 15 is_stmt 0 view .LVU870
 2524 003e 45F6C453 		movw	r3, #24004
 2525 0042 2B80     		strh	r3, [r5]	@ movhi
 901:rtos/uCOS-III/Source/os_tmr.c ****     }
 2526              		.loc 1 901 9 is_stmt 1 view .LVU871
 901:rtos/uCOS-III/Source/os_tmr.c ****     }
 2527              		.loc 1 901 16 is_stmt 0 view .LVU872
 2528 0044 F3E7     		b	.L201
 2529              	.LVL221:
 2530              	.L221:
 893:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2531              		.loc 1 893 8 is_stmt 1 view .LVU873
 893:rtos/uCOS-III/Source/os_tmr.c ****         return (OS_FALSE);
 2532              		.loc 1 893 15 is_stmt 0 view .LVU874
 2533 0046 47F24233 		movw	r3, #29506
 2534 004a 2B80     		strh	r3, [r5]	@ movhi
 894:rtos/uCOS-III/Source/os_tmr.c ****     }
 2535              		.loc 1 894 9 is_stmt 1 view .LVU875
 894:rtos/uCOS-III/Source/os_tmr.c ****     }
 2536              		.loc 1 894 16 is_stmt 0 view .LVU876
 2537 004c EFE7     		b	.L201
 2538              	.LVL222:
 2539              	.L204:
 905:rtos/uCOS-III/Source/os_tmr.c **** 
 2540              		.loc 1 905 5 is_stmt 1 view .LVU877
 2541 004e FFF7FEFF 		bl	OS_TmrLock
 2542              	.LVL223:
 907:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2543              		.loc 1 907 5 view .LVU878
 907:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2544              		.loc 1 907 5 view .LVU879
 907:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2545              		.loc 1 907 5 view .LVU880
 2546 0052 4020     		movs	r0, #64
 2547 0054 FFF7FEFF 		bl	CPU_SR_Save
 2548              	.LVL224:
 907:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2549              		.loc 1 907 5 view .LVU881
 907:rtos/uCOS-III/Source/os_tmr.c ****     if (OSTCBCurPtr == &OSTmrTaskTCB) {                         /* Callbacks operate on the Tmr Tas
 2550              		.loc 1 907 5 view .LVU882
ARM GAS  /tmp/ccfvxgcI.s 			page 89


 908:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2551              		.loc 1 908 5 view .LVU883
 908:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2552              		.loc 1 908 21 is_stmt 0 view .LVU884
 2553 0058 2E4B     		ldr	r3, .L224+12
 2554 005a 1A68     		ldr	r2, [r3]
 908:rtos/uCOS-III/Source/os_tmr.c ****         time = OSTmrTaskTickBase;
 2555              		.loc 1 908 8 view .LVU885
 2556 005c 2E4B     		ldr	r3, .L224+16
 2557 005e 9A42     		cmp	r2, r3
 2558 0060 0DD0     		beq	.L222
 914:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2559              		.loc 1 914 9 is_stmt 1 view .LVU886
 914:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2560              		.loc 1 914 14 is_stmt 0 view .LVU887
 2561 0062 2E4B     		ldr	r3, .L224+20
 2562 0064 D3F800A0 		ldr	r10, [r3]
 2563              	.LVL225:
 2564              	.L206:
 917:rtos/uCOS-III/Source/os_tmr.c **** 
 2565              		.loc 1 917 5 is_stmt 1 view .LVU888
 917:rtos/uCOS-III/Source/os_tmr.c **** 
 2566              		.loc 1 917 5 view .LVU889
 917:rtos/uCOS-III/Source/os_tmr.c **** 
 2567              		.loc 1 917 5 view .LVU890
 2568 0068 FFF7FEFF 		bl	CPU_SR_Restore
 2569              	.LVL226:
 917:rtos/uCOS-III/Source/os_tmr.c **** 
 2570              		.loc 1 917 5 view .LVU891
 917:rtos/uCOS-III/Source/os_tmr.c **** 
 2571              		.loc 1 917 5 view .LVU892
 919:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 2572              		.loc 1 919 5 view .LVU893
 919:rtos/uCOS-III/Source/os_tmr.c ****         case OS_TMR_STATE_RUNNING:
 2573              		.loc 1 919 18 is_stmt 0 view .LVU894
 2574 006c 96F82230 		ldrb	r3, [r6, #34]	@ zero_extendqisi2
 2575 0070 042B     		cmp	r3, #4
 2576 0072 45D8     		bhi	.L207
 2577 0074 DFE803F0 		tbb	[pc, r3]
 2578              	.L209:
 2579 0078 3F       		.byte	(.L211-.L209)/2
 2580 0079 35       		.byte	(.L210-.L209)/2
 2581 007a 07       		.byte	(.L208-.L209)/2
 2582 007b 35       		.byte	(.L210-.L209)/2
 2583 007c 07       		.byte	(.L208-.L209)/2
 2584              	.LVL227:
 2585 007d 00       		.p2align 1
 2586              	.L222:
 909:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2587              		.loc 1 909 9 is_stmt 1 view .LVU895
 909:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2588              		.loc 1 909 14 is_stmt 0 view .LVU896
 2589 007e 284B     		ldr	r3, .L224+24
 2590 0080 D3F800A0 		ldr	r10, [r3]
 2591              	.LVL228:
 909:rtos/uCOS-III/Source/os_tmr.c ****     } else {
 2592              		.loc 1 909 14 view .LVU897
ARM GAS  /tmp/ccfvxgcI.s 			page 90


 2593 0084 F0E7     		b	.L206
 2594              	.LVL229:
 2595              	.L208:
 922:rtos/uCOS-III/Source/os_tmr.c ****              switch (opt) {
 2596              		.loc 1 922 14 is_stmt 1 view .LVU898
 922:rtos/uCOS-III/Source/os_tmr.c ****              switch (opt) {
 2597              		.loc 1 922 27 is_stmt 0 view .LVU899
 2598 0086 0123     		movs	r3, #1
 2599 0088 86F82230 		strb	r3, [r6, #34]
 923:rtos/uCOS-III/Source/os_tmr.c ****                  case OS_OPT_TMR_CALLBACK:
 2600              		.loc 1 923 14 is_stmt 1 view .LVU900
 2601 008c B8F1030F 		cmp	r8, #3
 2602 0090 0BD0     		beq	.L212
 2603 0092 B8F1040F 		cmp	r8, #4
 2604 0096 12D0     		beq	.L213
 2605 0098 B8F1000F 		cmp	r8, #0
 2606 009c 19D0     		beq	.L223
 949:rtos/uCOS-III/Source/os_tmr.c ****                      *p_err = OS_ERR_OPT_INVALID;
 2607              		.loc 1 949 23 view .LVU901
 2608 009e FFF7FEFF 		bl	OS_TmrUnlock
 2609              	.LVL230:
 950:rtos/uCOS-III/Source/os_tmr.c ****                       return (OS_FALSE);
 2610              		.loc 1 950 22 view .LVU902
 950:rtos/uCOS-III/Source/os_tmr.c ****                       return (OS_FALSE);
 2611              		.loc 1 950 29 is_stmt 0 view .LVU903
 2612 00a2 45F62563 		movw	r3, #24101
 2613 00a6 2B80     		strh	r3, [r5]	@ movhi
 951:rtos/uCOS-III/Source/os_tmr.c ****              }
 2614              		.loc 1 951 23 is_stmt 1 view .LVU904
 951:rtos/uCOS-III/Source/os_tmr.c ****              }
 2615              		.loc 1 951 30 is_stmt 0 view .LVU905
 2616 00a8 C1E7     		b	.L201
 2617              	.L212:
 925:rtos/uCOS-III/Source/os_tmr.c ****                       p_fnct = p_tmr->CallbackPtr;              /* Execute callback function ...   
 2618              		.loc 1 925 23 is_stmt 1 view .LVU906
 2619 00aa 5146     		mov	r1, r10
 2620 00ac 3046     		mov	r0, r6
 2621 00ae FFF7FEFF 		bl	OS_TmrUnlink
 2622              	.LVL231:
 926:rtos/uCOS-III/Source/os_tmr.c ****                       if (p_fnct != (OS_TMR_CALLBACK_PTR)0) {   /* ... if available                
 2623              		.loc 1 926 23 view .LVU907
 926:rtos/uCOS-III/Source/os_tmr.c ****                       if (p_fnct != (OS_TMR_CALLBACK_PTR)0) {   /* ... if available                
 2624              		.loc 1 926 30 is_stmt 0 view .LVU908
 2625 00b2 7368     		ldr	r3, [r6, #4]
 2626              	.LVL232:
 927:rtos/uCOS-III/Source/os_tmr.c ****                         (*p_fnct)(p_tmr, p_tmr->CallbackPtrArg);/* Use callback arg when timer was 
 2627              		.loc 1 927 23 is_stmt 1 view .LVU909
 927:rtos/uCOS-III/Source/os_tmr.c ****                         (*p_fnct)(p_tmr, p_tmr->CallbackPtrArg);/* Use callback arg when timer was 
 2628              		.loc 1 927 26 is_stmt 0 view .LVU910
 2629 00b4 8BB1     		cbz	r3, .L216
 928:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 2630              		.loc 1 928 25 is_stmt 1 view .LVU911
 928:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 2631              		.loc 1 928 26 is_stmt 0 view .LVU912
 2632 00b6 B168     		ldr	r1, [r6, #8]
 2633 00b8 3046     		mov	r0, r6
 2634 00ba 9847     		blx	r3
ARM GAS  /tmp/ccfvxgcI.s 			page 91


 2635              	.LVL233:
 928:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 2636              		.loc 1 928 26 view .LVU913
 2637 00bc 0DE0     		b	.L216
 2638              	.L213:
 935:rtos/uCOS-III/Source/os_tmr.c ****                       p_fnct = p_tmr->CallbackPtr;              /* Execute callback function if ava
 2639              		.loc 1 935 23 is_stmt 1 view .LVU914
 2640 00be 5146     		mov	r1, r10
 2641 00c0 3046     		mov	r0, r6
 2642 00c2 FFF7FEFF 		bl	OS_TmrUnlink
 2643              	.LVL234:
 936:rtos/uCOS-III/Source/os_tmr.c ****                       if (p_fnct != (OS_TMR_CALLBACK_PTR)0) {
 2644              		.loc 1 936 23 view .LVU915
 936:rtos/uCOS-III/Source/os_tmr.c ****                       if (p_fnct != (OS_TMR_CALLBACK_PTR)0) {
 2645              		.loc 1 936 30 is_stmt 0 view .LVU916
 2646 00c6 7368     		ldr	r3, [r6, #4]
 2647              	.LVL235:
 937:rtos/uCOS-III/Source/os_tmr.c ****                         (*p_fnct)(p_tmr, p_callback_arg);       /* .. using the 'callback_arg' prov
 2648              		.loc 1 937 23 is_stmt 1 view .LVU917
 937:rtos/uCOS-III/Source/os_tmr.c ****                         (*p_fnct)(p_tmr, p_callback_arg);       /* .. using the 'callback_arg' prov
 2649              		.loc 1 937 26 is_stmt 0 view .LVU918
 2650 00c8 3BB1     		cbz	r3, .L216
 938:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 2651              		.loc 1 938 25 is_stmt 1 view .LVU919
 938:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 2652              		.loc 1 938 26 is_stmt 0 view .LVU920
 2653 00ca 3946     		mov	r1, r7
 2654 00cc 3046     		mov	r0, r6
 2655 00ce 9847     		blx	r3
 2656              	.LVL236:
 938:rtos/uCOS-III/Source/os_tmr.c ****                       } else {
 2657              		.loc 1 938 26 view .LVU921
 2658 00d0 03E0     		b	.L216
 2659              	.L223:
 945:rtos/uCOS-III/Source/os_tmr.c ****                       break;
 2660              		.loc 1 945 23 is_stmt 1 view .LVU922
 2661 00d2 5146     		mov	r1, r10
 2662 00d4 3046     		mov	r0, r6
 2663 00d6 FFF7FEFF 		bl	OS_TmrUnlink
 2664              	.LVL237:
 946:rtos/uCOS-III/Source/os_tmr.c **** 
 2665              		.loc 1 946 23 view .LVU923
 2666              	.L216:
 953:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_TRUE;
 2667              		.loc 1 953 13 view .LVU924
 953:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_TRUE;
 2668              		.loc 1 953 27 is_stmt 0 view .LVU925
 2669 00da 0023     		movs	r3, #0
 2670 00dc 2B80     		strh	r3, [r5]	@ movhi
 954:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2671              		.loc 1 954 14 is_stmt 1 view .LVU926
 2672              	.LVL238:
 955:rtos/uCOS-III/Source/os_tmr.c **** 
 2673              		.loc 1 955 14 view .LVU927
 954:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2674              		.loc 1 954 27 is_stmt 0 view .LVU928
 2675 00de 4C46     		mov	r4, r9
ARM GAS  /tmp/ccfvxgcI.s 			page 92


 955:rtos/uCOS-III/Source/os_tmr.c **** 
 2676              		.loc 1 955 14 view .LVU929
 2677 00e0 06E0     		b	.L217
 2678              	.LVL239:
 2679              	.L210:
 959:rtos/uCOS-III/Source/os_tmr.c ****             *p_err        = OS_ERR_TMR_STOPPED;
 2680              		.loc 1 959 14 is_stmt 1 view .LVU930
 959:rtos/uCOS-III/Source/os_tmr.c ****             *p_err        = OS_ERR_TMR_STOPPED;
 2681              		.loc 1 959 27 is_stmt 0 view .LVU931
 2682 00e2 0123     		movs	r3, #1
 2683 00e4 86F82230 		strb	r3, [r6, #34]
 960:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_TRUE;
 2684              		.loc 1 960 13 is_stmt 1 view .LVU932
 960:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_TRUE;
 2685              		.loc 1 960 27 is_stmt 0 view .LVU933
 2686 00e8 47F24933 		movw	r3, #29513
 2687 00ec 2B80     		strh	r3, [r5]	@ movhi
 961:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2688              		.loc 1 961 14 is_stmt 1 view .LVU934
 2689              	.LVL240:
 962:rtos/uCOS-III/Source/os_tmr.c **** 
 2690              		.loc 1 962 14 view .LVU935
 961:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2691              		.loc 1 961 27 is_stmt 0 view .LVU936
 2692 00ee 4C46     		mov	r4, r9
 2693              	.LVL241:
 2694              	.L217:
 975:rtos/uCOS-III/Source/os_tmr.c **** 
 2695              		.loc 1 975 5 is_stmt 1 view .LVU937
 2696 00f0 FFF7FEFF 		bl	OS_TmrUnlock
 2697              	.LVL242:
 977:rtos/uCOS-III/Source/os_tmr.c **** }
 2698              		.loc 1 977 5 view .LVU938
 977:rtos/uCOS-III/Source/os_tmr.c **** }
 2699              		.loc 1 977 12 is_stmt 0 view .LVU939
 2700 00f4 9BE7     		b	.L201
 2701              	.LVL243:
 2702              	.L211:
 965:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_FALSE;
 2703              		.loc 1 965 13 is_stmt 1 view .LVU940
 965:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_FALSE;
 2704              		.loc 1 965 27 is_stmt 0 view .LVU941
 2705 00f6 47F23D32 		movw	r2, #29501
 2706 00fa 2A80     		strh	r2, [r5]	@ movhi
 966:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2707              		.loc 1 966 14 is_stmt 1 view .LVU942
 2708              	.LVL244:
 967:rtos/uCOS-III/Source/os_tmr.c **** 
 2709              		.loc 1 967 14 view .LVU943
 966:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2710              		.loc 1 966 27 is_stmt 0 view .LVU944
 2711 00fc 1C46     		mov	r4, r3
 967:rtos/uCOS-III/Source/os_tmr.c **** 
 2712              		.loc 1 967 14 view .LVU945
 2713 00fe F7E7     		b	.L217
 2714              	.LVL245:
 2715              	.L207:
ARM GAS  /tmp/ccfvxgcI.s 			page 93


 970:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_FALSE;
 2716              		.loc 1 970 13 is_stmt 1 view .LVU946
 970:rtos/uCOS-III/Source/os_tmr.c ****              success      = OS_FALSE;
 2717              		.loc 1 970 27 is_stmt 0 view .LVU947
 2718 0100 47F24133 		movw	r3, #29505
 2719 0104 2B80     		strh	r3, [r5]	@ movhi
 971:rtos/uCOS-III/Source/os_tmr.c ****              break;
 2720              		.loc 1 971 14 is_stmt 1 view .LVU948
 2721              	.LVL246:
 972:rtos/uCOS-III/Source/os_tmr.c ****     }
 2722              		.loc 1 972 14 view .LVU949
 2723 0106 F3E7     		b	.L217
 2724              	.L225:
 2725              		.align	2
 2726              	.L224:
 2727 0108 00000000 		.word	OSIntNestingCtr
 2728 010c 00000000 		.word	OSRunning
 2729 0110 544D5220 		.word	542264660
 2730 0114 00000000 		.word	OSTCBCurPtr
 2731 0118 00000000 		.word	OSTmrTaskTCB
 2732 011c 00000000 		.word	OSTickCtr
 2733 0120 00000000 		.word	OSTmrTaskTickBase
 2734              		.cfi_endproc
 2735              	.LFE6:
 2737              		.section	.text.OS_TmrTask,"ax",%progbits
 2738              		.align	1
 2739              		.global	OS_TmrTask
 2740              		.syntax unified
 2741              		.thumb
 2742              		.thumb_func
 2743              		.fpu fpv4-sp-d16
 2745              	OS_TmrTask:
 2746              	.LVL247:
 2747              	.LFB11:
1366:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR_CALLBACK_PTR   p_fnct;
 2748              		.loc 1 1366 1 view -0
 2749              		.cfi_startproc
 2750              		@ args = 0, pretend = 0, frame = 0
 2751              		@ frame_needed = 0, uses_anonymous_args = 0
1366:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR_CALLBACK_PTR   p_fnct;
 2752              		.loc 1 1366 1 is_stmt 0 view .LVU951
 2753 0000 10B5     		push	{r4, lr}
 2754              	.LCFI28:
 2755              		.cfi_def_cfa_offset 8
 2756              		.cfi_offset 4, -8
 2757              		.cfi_offset 14, -4
1367:rtos/uCOS-III/Source/os_tmr.c ****     OS_TMR               *p_tmr;
 2758              		.loc 1 1367 5 is_stmt 1 view .LVU952
1368:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK               timeout;
 2759              		.loc 1 1368 5 view .LVU953
1369:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK               elapsed;
 2760              		.loc 1 1369 5 view .LVU954
1370:rtos/uCOS-III/Source/os_tmr.c ****     OS_TICK               time;
 2761              		.loc 1 1370 5 view .LVU955
1371:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_TS_EN > 0u)
 2762              		.loc 1 1371 5 view .LVU956
1375:rtos/uCOS-III/Source/os_tmr.c **** 
ARM GAS  /tmp/ccfvxgcI.s 			page 94


 2763              		.loc 1 1375 5 view .LVU957
 2764              	.LVL248:
1378:rtos/uCOS-III/Source/os_tmr.c **** 
 2765              		.loc 1 1378 5 view .LVU958
1380:rtos/uCOS-III/Source/os_tmr.c **** 
 2766              		.loc 1 1380 5 view .LVU959
 2767 0002 FFF7FEFF 		bl	OS_TmrLock
 2768              	.LVL249:
1380:rtos/uCOS-III/Source/os_tmr.c **** 
 2769              		.loc 1 1380 5 is_stmt 0 view .LVU960
 2770 0006 05E0     		b	.L227
 2771              	.LVL250:
 2772              	.L240:
1384:rtos/uCOS-III/Source/os_tmr.c ****         } else {
 2773              		.loc 1 1384 36 view .LVU961
 2774 0008 0020     		movs	r0, #0
 2775              	.L228:
 2776              	.LVL251:
1389:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* ... the timer list again. Also r
 2777              		.loc 1 1389 9 is_stmt 1 view .LVU962
 2778 000a FFF7FEFF 		bl	OS_TmrCondWait
 2779              	.LVL252:
1393:rtos/uCOS-III/Source/os_tmr.c ****             continue;
 2780              		.loc 1 1393 9 view .LVU963
1393:rtos/uCOS-III/Source/os_tmr.c ****             continue;
 2781              		.loc 1 1393 26 is_stmt 0 view .LVU964
 2782 000e 2A4B     		ldr	r3, .L245
 2783 0010 1B68     		ldr	r3, [r3]
1393:rtos/uCOS-III/Source/os_tmr.c ****             continue;
 2784              		.loc 1 1393 12 view .LVU965
 2785 0012 2BB9     		cbnz	r3, .L242
 2786              	.L227:
1382:rtos/uCOS-III/Source/os_tmr.c ****         if (OSTmrListPtr == (OS_TMR *)0) {
 2787              		.loc 1 1382 5 is_stmt 1 view .LVU966
1383:rtos/uCOS-III/Source/os_tmr.c ****             timeout                = 0u;
 2788              		.loc 1 1383 9 view .LVU967
1383:rtos/uCOS-III/Source/os_tmr.c ****             timeout                = 0u;
 2789              		.loc 1 1383 26 is_stmt 0 view .LVU968
 2790 0014 284B     		ldr	r3, .L245
 2791 0016 1B68     		ldr	r3, [r3]
1383:rtos/uCOS-III/Source/os_tmr.c ****             timeout                = 0u;
 2792              		.loc 1 1383 12 view .LVU969
 2793 0018 002B     		cmp	r3, #0
 2794 001a F5D0     		beq	.L240
1386:rtos/uCOS-III/Source/os_tmr.c ****         }
 2795              		.loc 1 1386 13 is_stmt 1 view .LVU970
1386:rtos/uCOS-III/Source/os_tmr.c ****         }
 2796              		.loc 1 1386 36 is_stmt 0 view .LVU971
 2797 001c 5869     		ldr	r0, [r3, #20]
 2798              	.LVL253:
1386:rtos/uCOS-III/Source/os_tmr.c ****         }
 2799              		.loc 1 1386 36 view .LVU972
 2800 001e F4E7     		b	.L228
 2801              	.LVL254:
 2802              	.L242:
1401:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 2803              		.loc 1 1401 9 is_stmt 1 view .LVU973
ARM GAS  /tmp/ccfvxgcI.s 			page 95


1401:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 2804              		.loc 1 1401 9 view .LVU974
1401:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 2805              		.loc 1 1401 9 view .LVU975
 2806 0020 4020     		movs	r0, #64
 2807 0022 FFF7FEFF 		bl	CPU_SR_Save
 2808              	.LVL255:
1401:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 2809              		.loc 1 1401 9 view .LVU976
1401:rtos/uCOS-III/Source/os_tmr.c **** #if (OS_CFG_DYN_TICK_EN > 0u)
 2810              		.loc 1 1401 9 view .LVU977
1405:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2811              		.loc 1 1405 9 view .LVU978
1405:rtos/uCOS-III/Source/os_tmr.c **** #endif
 2812              		.loc 1 1405 36 is_stmt 0 view .LVU979
 2813 0026 254B     		ldr	r3, .L245+4
 2814 0028 1C68     		ldr	r4, [r3]
 2815              	.LVL256:
1407:rtos/uCOS-III/Source/os_tmr.c ****         elapsed                    = time - OSTmrTaskTickBase;
 2816              		.loc 1 1407 9 is_stmt 1 view .LVU980
1407:rtos/uCOS-III/Source/os_tmr.c ****         elapsed                    = time - OSTmrTaskTickBase;
 2817              		.loc 1 1407 9 view .LVU981
1407:rtos/uCOS-III/Source/os_tmr.c ****         elapsed                    = time - OSTmrTaskTickBase;
 2818              		.loc 1 1407 9 view .LVU982
 2819 002a FFF7FEFF 		bl	CPU_SR_Restore
 2820              	.LVL257:
1407:rtos/uCOS-III/Source/os_tmr.c ****         elapsed                    = time - OSTmrTaskTickBase;
 2821              		.loc 1 1407 9 view .LVU983
1407:rtos/uCOS-III/Source/os_tmr.c ****         elapsed                    = time - OSTmrTaskTickBase;
 2822              		.loc 1 1407 9 view .LVU984
1408:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTickBase          = time;
 2823              		.loc 1 1408 9 view .LVU985
1408:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTickBase          = time;
 2824              		.loc 1 1408 43 is_stmt 0 view .LVU986
 2825 002e 244B     		ldr	r3, .L245+8
 2826 0030 1A68     		ldr	r2, [r3]
1408:rtos/uCOS-III/Source/os_tmr.c ****         OSTmrTaskTickBase          = time;
 2827              		.loc 1 1408 36 view .LVU987
 2828 0032 A21A     		subs	r2, r4, r2
 2829              	.LVL258:
1409:rtos/uCOS-III/Source/os_tmr.c **** 
 2830              		.loc 1 1409 9 is_stmt 1 view .LVU988
1409:rtos/uCOS-III/Source/os_tmr.c **** 
 2831              		.loc 1 1409 36 is_stmt 0 view .LVU989
 2832 0034 1C60     		str	r4, [r3]
1412:rtos/uCOS-III/Source/os_tmr.c ****         while ((elapsed !=          0u) &&
 2833              		.loc 1 1412 9 is_stmt 1 view .LVU990
1412:rtos/uCOS-III/Source/os_tmr.c ****         while ((elapsed !=          0u) &&
 2834              		.loc 1 1412 15 is_stmt 0 view .LVU991
 2835 0036 204B     		ldr	r3, .L245
 2836 0038 1C68     		ldr	r4, [r3]
 2837              	.LVL259:
1413:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr   != (OS_TMR *)0)) {
 2838              		.loc 1 1413 9 is_stmt 1 view .LVU992
1412:rtos/uCOS-III/Source/os_tmr.c ****         while ((elapsed !=          0u) &&
 2839              		.loc 1 1412 15 is_stmt 0 view .LVU993
 2840 003a 2346     		mov	r3, r4
ARM GAS  /tmp/ccfvxgcI.s 			page 96


1413:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr   != (OS_TMR *)0)) {
 2841              		.loc 1 1413 15 view .LVU994
 2842 003c 03E0     		b	.L230
 2843              	.LVL260:
 2844              	.L231:
1420:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed            = 0u;
 2845              		.loc 1 1420 17 is_stmt 1 view .LVU995
1420:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed            = 0u;
 2846              		.loc 1 1420 35 is_stmt 0 view .LVU996
 2847 003e 8A1A     		subs	r2, r1, r2
 2848              	.LVL261:
1420:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed            = 0u;
 2849              		.loc 1 1420 35 view .LVU997
 2850 0040 5A61     		str	r2, [r3, #20]
1421:rtos/uCOS-III/Source/os_tmr.c ****             }
 2851              		.loc 1 1421 17 is_stmt 1 view .LVU998
 2852              	.LVL262:
1421:rtos/uCOS-III/Source/os_tmr.c ****             }
 2853              		.loc 1 1421 36 is_stmt 0 view .LVU999
 2854 0042 0022     		movs	r2, #0
 2855              	.LVL263:
 2856              	.L232:
1424:rtos/uCOS-III/Source/os_tmr.c ****         }
 2857              		.loc 1 1424 13 is_stmt 1 view .LVU1000
1424:rtos/uCOS-III/Source/os_tmr.c ****         }
 2858              		.loc 1 1424 36 is_stmt 0 view .LVU1001
 2859 0044 DB68     		ldr	r3, [r3, #12]
 2860              	.LVL264:
 2861              	.L230:
1413:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr   != (OS_TMR *)0)) {
 2862              		.loc 1 1413 15 is_stmt 1 view .LVU1002
 2863 0046 6AB1     		cbz	r2, .L238
1413:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr   != (OS_TMR *)0)) {
 2864              		.loc 1 1413 41 is_stmt 0 discriminator 1 view .LVU1003
 2865 0048 63B1     		cbz	r3, .L238
1416:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed           -= p_tmr->Remain;
 2866              		.loc 1 1416 13 is_stmt 1 view .LVU1004
1416:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed           -= p_tmr->Remain;
 2867              		.loc 1 1416 32 is_stmt 0 view .LVU1005
 2868 004a 5969     		ldr	r1, [r3, #20]
1416:rtos/uCOS-III/Source/os_tmr.c ****                 elapsed           -= p_tmr->Remain;
 2869              		.loc 1 1416 16 view .LVU1006
 2870 004c 9142     		cmp	r1, r2
 2871 004e F6D2     		bcs	.L231
1417:rtos/uCOS-III/Source/os_tmr.c ****                 p_tmr->Remain      = 0u;
 2872              		.loc 1 1417 17 is_stmt 1 view .LVU1007
1417:rtos/uCOS-III/Source/os_tmr.c ****                 p_tmr->Remain      = 0u;
 2873              		.loc 1 1417 35 is_stmt 0 view .LVU1008
 2874 0050 521A     		subs	r2, r2, r1
 2875              	.LVL265:
1418:rtos/uCOS-III/Source/os_tmr.c ****             } else {
 2876              		.loc 1 1418 17 is_stmt 1 view .LVU1009
1418:rtos/uCOS-III/Source/os_tmr.c ****             } else {
 2877              		.loc 1 1418 36 is_stmt 0 view .LVU1010
 2878 0052 0021     		movs	r1, #0
 2879 0054 5961     		str	r1, [r3, #20]
 2880 0056 F5E7     		b	.L232
ARM GAS  /tmp/ccfvxgcI.s 			page 97


 2881              	.LVL266:
 2882              	.L235:
1439:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TmrUnlink(p_tmr, OSTmrTaskTickBase);
 2883              		.loc 1 1439 13 is_stmt 1 view .LVU1011
1439:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TmrUnlink(p_tmr, OSTmrTaskTickBase);
 2884              		.loc 1 1439 22 is_stmt 0 view .LVU1012
 2885 0058 94F82230 		ldrb	r3, [r4, #34]	@ zero_extendqisi2
1439:rtos/uCOS-III/Source/os_tmr.c ****                 OS_TmrUnlink(p_tmr, OSTmrTaskTickBase);
 2886              		.loc 1 1439 16 view .LVU1013
 2887 005c 042B     		cmp	r3, #4
 2888 005e 10D0     		beq	.L243
 2889              	.L236:
1454:rtos/uCOS-III/Source/os_tmr.c ****         }
 2890              		.loc 1 1454 13 is_stmt 1 view .LVU1014
1454:rtos/uCOS-III/Source/os_tmr.c ****         }
 2891              		.loc 1 1454 36 is_stmt 0 view .LVU1015
 2892 0060 154B     		ldr	r3, .L245
 2893 0062 1C68     		ldr	r4, [r3]
 2894              	.LVL267:
 2895              	.L238:
1430:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr->Remain ==          0u)) {
 2896              		.loc 1 1430 15 is_stmt 1 view .LVU1016
 2897 0064 002C     		cmp	r4, #0
 2898 0066 D5D0     		beq	.L227
1431:rtos/uCOS-III/Source/os_tmr.c ****             p_tmr->State           = OS_TMR_STATE_TIMEOUT;
 2899              		.loc 1 1431 22 is_stmt 0 discriminator 1 view .LVU1017
 2900 0068 6369     		ldr	r3, [r4, #20]
1430:rtos/uCOS-III/Source/os_tmr.c ****                (p_tmr->Remain ==          0u)) {
 2901              		.loc 1 1430 47 discriminator 1 view .LVU1018
 2902 006a 002B     		cmp	r3, #0
 2903 006c D2D1     		bne	.L227
1432:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Execute callback function if ava
 2904              		.loc 1 1432 13 is_stmt 1 view .LVU1019
1432:rtos/uCOS-III/Source/os_tmr.c ****                                                                 /* Execute callback function if ava
 2905              		.loc 1 1432 36 is_stmt 0 view .LVU1020
 2906 006e 0423     		movs	r3, #4
 2907 0070 84F82230 		strb	r3, [r4, #34]
1434:rtos/uCOS-III/Source/os_tmr.c ****             if (p_fnct != (OS_TMR_CALLBACK_PTR)0u) {
 2908              		.loc 1 1434 13 is_stmt 1 view .LVU1021
1434:rtos/uCOS-III/Source/os_tmr.c ****             if (p_fnct != (OS_TMR_CALLBACK_PTR)0u) {
 2909              		.loc 1 1434 36 is_stmt 0 view .LVU1022
 2910 0074 6368     		ldr	r3, [r4, #4]
 2911              	.LVL268:
1435:rtos/uCOS-III/Source/os_tmr.c ****                 (*p_fnct)(p_tmr, p_tmr->CallbackPtrArg);
 2912              		.loc 1 1435 13 is_stmt 1 view .LVU1023
1435:rtos/uCOS-III/Source/os_tmr.c ****                 (*p_fnct)(p_tmr, p_tmr->CallbackPtrArg);
 2913              		.loc 1 1435 16 is_stmt 0 view .LVU1024
 2914 0076 002B     		cmp	r3, #0
 2915 0078 EED0     		beq	.L235
1436:rtos/uCOS-III/Source/os_tmr.c ****             }
 2916              		.loc 1 1436 17 is_stmt 1 view .LVU1025
1436:rtos/uCOS-III/Source/os_tmr.c ****             }
 2917              		.loc 1 1436 18 is_stmt 0 view .LVU1026
 2918 007a A168     		ldr	r1, [r4, #8]
 2919 007c 2046     		mov	r0, r4
 2920 007e 9847     		blx	r3
 2921              	.LVL269:
ARM GAS  /tmp/ccfvxgcI.s 			page 98


1436:rtos/uCOS-III/Source/os_tmr.c ****             }
 2922              		.loc 1 1436 18 view .LVU1027
 2923 0080 EAE7     		b	.L235
 2924              	.L243:
1440:rtos/uCOS-III/Source/os_tmr.c **** 
 2925              		.loc 1 1440 17 is_stmt 1 view .LVU1028
 2926 0082 0F4B     		ldr	r3, .L245+8
 2927 0084 1968     		ldr	r1, [r3]
 2928 0086 2046     		mov	r0, r4
 2929 0088 FFF7FEFF 		bl	OS_TmrUnlink
 2930              	.LVL270:
1442:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->State   = OS_TMR_STATE_RUNNING;
 2931              		.loc 1 1442 17 view .LVU1029
1442:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->State   = OS_TMR_STATE_RUNNING;
 2932              		.loc 1 1442 26 is_stmt 0 view .LVU1030
 2933 008c 238C     		ldrh	r3, [r4, #32]
1442:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->State   = OS_TMR_STATE_RUNNING;
 2934              		.loc 1 1442 20 view .LVU1031
 2935 008e 022B     		cmp	r3, #2
 2936 0090 07D0     		beq	.L244
1447:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->NextPtr = (OS_TMR *)0;
 2937              		.loc 1 1447 21 is_stmt 1 view .LVU1032
1447:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->NextPtr = (OS_TMR *)0;
 2938              		.loc 1 1447 36 is_stmt 0 view .LVU1033
 2939 0092 0023     		movs	r3, #0
 2940 0094 2361     		str	r3, [r4, #16]
1448:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->Remain  = 0u;
 2941              		.loc 1 1448 21 is_stmt 1 view .LVU1034
1448:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->Remain  = 0u;
 2942              		.loc 1 1448 36 is_stmt 0 view .LVU1035
 2943 0096 E360     		str	r3, [r4, #12]
1449:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->State   = OS_TMR_STATE_COMPLETED;
 2944              		.loc 1 1449 21 is_stmt 1 view .LVU1036
1449:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->State   = OS_TMR_STATE_COMPLETED;
 2945              		.loc 1 1449 36 is_stmt 0 view .LVU1037
 2946 0098 6361     		str	r3, [r4, #20]
1450:rtos/uCOS-III/Source/os_tmr.c ****                 }
 2947              		.loc 1 1450 21 is_stmt 1 view .LVU1038
1450:rtos/uCOS-III/Source/os_tmr.c ****                 }
 2948              		.loc 1 1450 36 is_stmt 0 view .LVU1039
 2949 009a 0323     		movs	r3, #3
 2950 009c 84F82230 		strb	r3, [r4, #34]
 2951 00a0 DEE7     		b	.L236
 2952              	.L244:
1443:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->Remain  = p_tmr->Period;
 2953              		.loc 1 1443 21 is_stmt 1 view .LVU1040
1443:rtos/uCOS-III/Source/os_tmr.c ****                     p_tmr->Remain  = p_tmr->Period;
 2954              		.loc 1 1443 36 is_stmt 0 view .LVU1041
 2955 00a2 84F82230 		strb	r3, [r4, #34]
1444:rtos/uCOS-III/Source/os_tmr.c ****                     OS_TmrLink(p_tmr, OSTmrTaskTickBase);
 2956              		.loc 1 1444 21 is_stmt 1 view .LVU1042
1444:rtos/uCOS-III/Source/os_tmr.c ****                     OS_TmrLink(p_tmr, OSTmrTaskTickBase);
 2957              		.loc 1 1444 43 is_stmt 0 view .LVU1043
 2958 00a6 E369     		ldr	r3, [r4, #28]
1444:rtos/uCOS-III/Source/os_tmr.c ****                     OS_TmrLink(p_tmr, OSTmrTaskTickBase);
 2959              		.loc 1 1444 36 view .LVU1044
 2960 00a8 6361     		str	r3, [r4, #20]
ARM GAS  /tmp/ccfvxgcI.s 			page 99


1445:rtos/uCOS-III/Source/os_tmr.c ****                 } else {
 2961              		.loc 1 1445 21 is_stmt 1 view .LVU1045
 2962 00aa 054B     		ldr	r3, .L245+8
 2963 00ac 1968     		ldr	r1, [r3]
 2964 00ae 2046     		mov	r0, r4
 2965 00b0 FFF7FEFF 		bl	OS_TmrLink
 2966              	.LVL271:
 2967 00b4 D4E7     		b	.L236
 2968              	.L246:
 2969 00b6 00BF     		.align	2
 2970              	.L245:
 2971 00b8 00000000 		.word	OSTmrListPtr
 2972 00bc 00000000 		.word	OSTickCtr
 2973 00c0 00000000 		.word	OSTmrTaskTickBase
 2974              		.cfi_endproc
 2975              	.LFE11:
 2977              		.text
 2978              	.Letext0:
 2979              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 2980              		.file 3 "rtos/uC-CPU/cpu_core.h"
 2981              		.file 4 "rtos/uCOS-III/Source/os_type.h"
 2982              		.file 5 "rtos/uCOS-III/Source/os.h"
 2983              		.file 6 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/GNU/os_cpu.h"
ARM GAS  /tmp/ccfvxgcI.s 			page 100


DEFINED SYMBOLS
                            *ABS*:0000000000000000 os_tmr.c
     /tmp/ccfvxgcI.s:18     .text.OS_TmrLock:0000000000000000 $t
     /tmp/ccfvxgcI.s:25     .text.OS_TmrLock:0000000000000000 OS_TmrLock
     /tmp/ccfvxgcI.s:58     .text.OS_TmrLock:000000000000001c $d
     /tmp/ccfvxgcI.s:63     .text.OS_TmrUnlock:0000000000000000 $t
     /tmp/ccfvxgcI.s:69     .text.OS_TmrUnlock:0000000000000000 OS_TmrUnlock
     /tmp/ccfvxgcI.s:98     .text.OS_TmrUnlock:0000000000000018 $d
     /tmp/ccfvxgcI.s:103    .text.OS_TmrCondCreate:0000000000000000 $t
     /tmp/ccfvxgcI.s:109    .text.OS_TmrCondCreate:0000000000000000 OS_TmrCondCreate
     /tmp/ccfvxgcI.s:162    .text.OS_TmrCondCreate:0000000000000024 $d
     /tmp/ccfvxgcI.s:169    .text.OS_TmrCondSignal:0000000000000000 $t
     /tmp/ccfvxgcI.s:175    .text.OS_TmrCondSignal:0000000000000000 OS_TmrCondSignal
     /tmp/ccfvxgcI.s:253    .text.OS_TmrCondSignal:0000000000000030 $d
     /tmp/ccfvxgcI.s:259    .text.OS_TmrCondWait:0000000000000000 $t
     /tmp/ccfvxgcI.s:265    .text.OS_TmrCondWait:0000000000000000 OS_TmrCondWait
     /tmp/ccfvxgcI.s:481    .text.OS_TmrCondWait:00000000000000c4 $d
     /tmp/ccfvxgcI.s:489    .text.OSTmrCreate:0000000000000000 $t
     /tmp/ccfvxgcI.s:496    .text.OSTmrCreate:0000000000000000 OSTmrCreate
     /tmp/ccfvxgcI.s:736    .text.OSTmrCreate:00000000000000d0 $d
     /tmp/ccfvxgcI.s:744    .text.OSTmrRemainGet:0000000000000000 $t
     /tmp/ccfvxgcI.s:751    .text.OSTmrRemainGet:0000000000000000 OSTmrRemainGet
     /tmp/ccfvxgcI.s:844    .text.OSTmrRemainGet:0000000000000058 $d
     /tmp/ccfvxgcI.s:994    .text.OSTmrRemainGet:00000000000000d0 $d
     /tmp/ccfvxgcI.s:1003   .text.OSTmrSet:0000000000000000 $t
     /tmp/ccfvxgcI.s:1010   .text.OSTmrSet:0000000000000000 OSTmrSet
     /tmp/ccfvxgcI.s:1191   .text.OSTmrSet:00000000000000a8 $d
     /tmp/ccfvxgcI.s:1199   .text.OSTmrStateGet:0000000000000000 $t
     /tmp/ccfvxgcI.s:1206   .text.OSTmrStateGet:0000000000000000 OSTmrStateGet
     /tmp/ccfvxgcI.s:1317   .text.OSTmrStateGet:0000000000000060 $d
     /tmp/ccfvxgcI.s:1324   .text.OS_TmrClr:0000000000000000 $t
     /tmp/ccfvxgcI.s:1331   .text.OS_TmrClr:0000000000000000 OS_TmrClr
     /tmp/ccfvxgcI.s:1376   .text.OS_TmrClr:000000000000001c $d
     /tmp/ccfvxgcI.s:1381   .text.OS_TmrInit:0000000000000000 $t
     /tmp/ccfvxgcI.s:1388   .text.OS_TmrInit:0000000000000000 OS_TmrInit
     /tmp/ccfvxgcI.s:1513   .text.OS_TmrInit:0000000000000088 $d
     /tmp/ccfvxgcI.s:2745   .text.OS_TmrTask:0000000000000000 OS_TmrTask
     /tmp/ccfvxgcI.s:1529   .text.OS_TmrLink:0000000000000000 $t
     /tmp/ccfvxgcI.s:1536   .text.OS_TmrLink:0000000000000000 OS_TmrLink
     /tmp/ccfvxgcI.s:1729   .text.OS_TmrLink:0000000000000084 $d
     /tmp/ccfvxgcI.s:1735   .text.OS_TmrUnlink:0000000000000000 $t
     /tmp/ccfvxgcI.s:1742   .text.OS_TmrUnlink:0000000000000000 OS_TmrUnlink
     /tmp/ccfvxgcI.s:1934   .text.OS_TmrUnlink:0000000000000084 $d
     /tmp/ccfvxgcI.s:1940   .text.OSTmrDel:0000000000000000 $t
     /tmp/ccfvxgcI.s:1947   .text.OSTmrDel:0000000000000000 OSTmrDel
     /tmp/ccfvxgcI.s:2070   .text.OSTmrDel:0000000000000070 $d
     /tmp/ccfvxgcI.s:2156   .text.OSTmrDel:00000000000000b8 $d
     /tmp/ccfvxgcI.s:2167   .text.OSTmrStart:0000000000000000 $t
     /tmp/ccfvxgcI.s:2174   .text.OSTmrStart:0000000000000000 OSTmrStart
     /tmp/ccfvxgcI.s:2297   .text.OSTmrStart:0000000000000070 $d
     /tmp/ccfvxgcI.s:2425   .text.OSTmrStart:00000000000000e0 $d
     /tmp/ccfvxgcI.s:2436   .text.OSTmrStop:0000000000000000 $t
     /tmp/ccfvxgcI.s:2443   .text.OSTmrStop:0000000000000000 OSTmrStop
     /tmp/ccfvxgcI.s:2579   .text.OSTmrStop:0000000000000078 $d
     /tmp/ccfvxgcI.s:2727   .text.OSTmrStop:0000000000000108 $d
     /tmp/ccfvxgcI.s:2738   .text.OS_TmrTask:0000000000000000 $t
     /tmp/ccfvxgcI.s:2971   .text.OS_TmrTask:00000000000000b8 $d
ARM GAS  /tmp/ccfvxgcI.s 			page 101


     /tmp/ccfvxgcI.s:849    .text.OSTmrRemainGet:000000000000005d $d
     /tmp/ccfvxgcI.s:849    .text.OSTmrRemainGet:000000000000005e $t
     /tmp/ccfvxgcI.s:2076   .text.OSTmrDel:0000000000000075 $d
     /tmp/ccfvxgcI.s:2076   .text.OSTmrDel:0000000000000076 $t
     /tmp/ccfvxgcI.s:2303   .text.OSTmrStart:0000000000000075 $d
     /tmp/ccfvxgcI.s:2303   .text.OSTmrStart:0000000000000076 $t
     /tmp/ccfvxgcI.s:2585   .text.OSTmrStop:000000000000007d $d
     /tmp/ccfvxgcI.s:2585   .text.OSTmrStop:000000000000007e $t
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.os.h.38.05c7a360e844508f9424830362f7eef3
                           .group:0000000000000000 wm4.os_cfg.h.36.1682609214807c39119743015cd1b75b
                           .group:0000000000000000 wm4.os_cfg_app.h.36.9d01bed009cfc3a5184d9a87250e45bf
                           .group:0000000000000000 wm4.cpu_core.h.51.7b35a59c319673f88ae4a256248776ec
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.143.d3b700e12b3a14ed3bee14c822b49a7d
                           .group:0000000000000000 wm4.os_cpu.h.45.281d793567585e56a091270c28fc7efc
                           .group:0000000000000000 wm4.os_trace.h.37.a6badbf6e748c370e142a9584653748e
                           .group:0000000000000000 wm4.os.h.95.7b45e7e080367d299efd03f7510809bc

UNDEFINED SYMBOLS
OSMutexPend
OSTmrMutex
OSMutexPost
CPU_SR_Save
OS_PendListInit
CPU_SR_Restore
OSTmrCond
OS_Post
OSTmrTaskTCB
OS_MutexGrpRemove
OS_MutexGrpAdd
OS_Pend
OSSched
OS_TaskChangePrio
OSPrioCur
OSIntNestingCtr
OSRunning
OSTmrToTicksMult
OSTmrListPtr
OSMutexCreate
OSTaskCreate
OSCfg_TickRate_Hz
OSCfg_TmrTaskRate_Hz
OSCfg_TmrTaskStkBasePtr
OSCfg_TmrTaskStkSize
OSCfg_StkSizeMin
OSCfg_TmrTaskPrio
OSCfg_TmrTaskStkLimit
OSTmrTaskTickBase
OSTCBCurPtr
OSTickCtr
