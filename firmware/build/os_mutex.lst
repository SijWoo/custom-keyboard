ARM GAS  /tmp/ccv4eJMD.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"os_mutex.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.OSMutexCreate,"ax",%progbits
  18              		.align	1
  19              		.global	OSMutexCreate
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	OSMutexCreate:
  27              	.LVL0:
  28              	.LFB0:
  29              		.file 1 "rtos/uCOS-III/Source/os_mutex.c"
   1:rtos/uCOS-III/Source/os_mutex.c **** /*
   2:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
   3:rtos/uCOS-III/Source/os_mutex.c **** *                                                uC/OS-III
   4:rtos/uCOS-III/Source/os_mutex.c **** *                                          The Real-Time Kernel
   5:rtos/uCOS-III/Source/os_mutex.c **** *
   6:rtos/uCOS-III/Source/os_mutex.c **** *                         (c) Copyright 2009-2019; Silicon Laboratories Inc.,
   7:rtos/uCOS-III/Source/os_mutex.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uCOS-III/Source/os_mutex.c **** *
   9:rtos/uCOS-III/Source/os_mutex.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uCOS-III/Source/os_mutex.c **** *
  11:rtos/uCOS-III/Source/os_mutex.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uCOS-III/Source/os_mutex.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uCOS-III/Source/os_mutex.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uCOS-III/Source/os_mutex.c **** *                  license, you may not use this software.
  15:rtos/uCOS-III/Source/os_mutex.c **** *
  16:rtos/uCOS-III/Source/os_mutex.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uCOS-III/Source/os_mutex.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uCOS-III/Source/os_mutex.c **** *
  19:rtos/uCOS-III/Source/os_mutex.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uCOS-III/Source/os_mutex.c **** *
  21:rtos/uCOS-III/Source/os_mutex.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
  23:rtos/uCOS-III/Source/os_mutex.c **** */
  24:rtos/uCOS-III/Source/os_mutex.c **** 
  25:rtos/uCOS-III/Source/os_mutex.c **** /*
  26:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
  27:rtos/uCOS-III/Source/os_mutex.c **** *                                           MUTEX MANAGEMENT
  28:rtos/uCOS-III/Source/os_mutex.c **** *
  29:rtos/uCOS-III/Source/os_mutex.c **** * File    : os_mutex.c
ARM GAS  /tmp/ccv4eJMD.s 			page 2


  30:rtos/uCOS-III/Source/os_mutex.c **** * Version : V3.07.04
  31:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
  32:rtos/uCOS-III/Source/os_mutex.c **** */
  33:rtos/uCOS-III/Source/os_mutex.c **** 
  34:rtos/uCOS-III/Source/os_mutex.c **** #define  MICRIUM_SOURCE
  35:rtos/uCOS-III/Source/os_mutex.c **** #include "os.h"
  36:rtos/uCOS-III/Source/os_mutex.c **** 
  37:rtos/uCOS-III/Source/os_mutex.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  38:rtos/uCOS-III/Source/os_mutex.c **** const  CPU_CHAR  *os_mutex__c = "$Id: $";
  39:rtos/uCOS-III/Source/os_mutex.c **** #endif
  40:rtos/uCOS-III/Source/os_mutex.c **** 
  41:rtos/uCOS-III/Source/os_mutex.c **** 
  42:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_MUTEX_EN > 0u)
  43:rtos/uCOS-III/Source/os_mutex.c **** /*
  44:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
  45:rtos/uCOS-III/Source/os_mutex.c **** *                                                   CREATE A MUTEX
  46:rtos/uCOS-III/Source/os_mutex.c **** *
  47:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function creates a mutex.
  48:rtos/uCOS-III/Source/os_mutex.c **** *
  49:rtos/uCOS-III/Source/os_mutex.c **** * Arguments  : p_mutex       is a pointer to the mutex to initialize.  Your application is responsi
  50:rtos/uCOS-III/Source/os_mutex.c **** *                            storage for the mutex.
  51:rtos/uCOS-III/Source/os_mutex.c **** *
  52:rtos/uCOS-III/Source/os_mutex.c **** *              p_name        is a pointer to the name you would like to give the mutex.
  53:rtos/uCOS-III/Source/os_mutex.c **** *
  54:rtos/uCOS-III/Source/os_mutex.c **** *              p_err         is a pointer to a variable that will contain an error code returned by
  55:rtos/uCOS-III/Source/os_mutex.c **** *
  56:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_NONE                    If the call was successful
  57:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_CREATE_ISR              If you called this function from an
  58:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_ILLEGAL_CREATE_RUN_TIME If you are trying to create the mut
  59:rtos/uCOS-III/Source/os_mutex.c **** *                                                                 OSSafetyCriticalStart()
  60:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_PTR_NULL            If 'p_mutex' is a NULL pointer
  61:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_CREATED             If the mutex was already created
  62:rtos/uCOS-III/Source/os_mutex.c **** *
  63:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none
  64:rtos/uCOS-III/Source/os_mutex.c **** *
  65:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : none
  66:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
  67:rtos/uCOS-III/Source/os_mutex.c **** */
  68:rtos/uCOS-III/Source/os_mutex.c **** 
  69:rtos/uCOS-III/Source/os_mutex.c **** void  OSMutexCreate (OS_MUTEX  *p_mutex,
  70:rtos/uCOS-III/Source/os_mutex.c ****                      CPU_CHAR  *p_name,
  71:rtos/uCOS-III/Source/os_mutex.c ****                      OS_ERR    *p_err)
  72:rtos/uCOS-III/Source/os_mutex.c **** {
  30              		.loc 1 72 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 72 1 is_stmt 0 view .LVU1
  35 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 3, -24
  39              		.cfi_offset 4, -20
  40              		.cfi_offset 5, -16
  41              		.cfi_offset 6, -12
  42              		.cfi_offset 7, -8
  43              		.cfi_offset 14, -4
ARM GAS  /tmp/ccv4eJMD.s 			page 3


  44 0002 1546     		mov	r5, r2
  73:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
  45              		.loc 1 73 5 is_stmt 1 view .LVU2
  46              	.LVL1:
  74:rtos/uCOS-III/Source/os_mutex.c **** 
  75:rtos/uCOS-III/Source/os_mutex.c **** 
  76:rtos/uCOS-III/Source/os_mutex.c **** #ifdef OS_SAFETY_CRITICAL
  77:rtos/uCOS-III/Source/os_mutex.c ****     if (p_err == (OS_ERR *)0) {
  78:rtos/uCOS-III/Source/os_mutex.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
  79:rtos/uCOS-III/Source/os_mutex.c ****         return;
  80:rtos/uCOS-III/Source/os_mutex.c ****     }
  81:rtos/uCOS-III/Source/os_mutex.c **** #endif
  82:rtos/uCOS-III/Source/os_mutex.c **** 
  83:rtos/uCOS-III/Source/os_mutex.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
  84:rtos/uCOS-III/Source/os_mutex.c ****     if (OSSafetyCriticalStartFlag == OS_TRUE) {
  85:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_ILLEGAL_CREATE_RUN_TIME;
  86:rtos/uCOS-III/Source/os_mutex.c ****         return;
  87:rtos/uCOS-III/Source/os_mutex.c ****     }
  88:rtos/uCOS-III/Source/os_mutex.c **** #endif
  89:rtos/uCOS-III/Source/os_mutex.c **** 
  90:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
  91:rtos/uCOS-III/Source/os_mutex.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to be called from an
  47              		.loc 1 91 5 view .LVU3
  48              		.loc 1 91 25 is_stmt 0 view .LVU4
  49 0004 144B     		ldr	r3, .L10
  50 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  51              		.loc 1 91 8 view .LVU5
  52 0008 BBB9     		cbnz	r3, .L7
  53 000a 0446     		mov	r4, r0
  92:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_CREATE_ISR;
  93:rtos/uCOS-III/Source/os_mutex.c ****         return;
  94:rtos/uCOS-III/Source/os_mutex.c ****     }
  95:rtos/uCOS-III/Source/os_mutex.c **** #endif
  96:rtos/uCOS-III/Source/os_mutex.c **** 
  97:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
  98:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex == (OS_MUTEX *)0) {                             /* Validate 'p_mutex'              
  54              		.loc 1 98 5 is_stmt 1 view .LVU6
  55              		.loc 1 98 8 is_stmt 0 view .LVU7
  56 000c C8B1     		cbz	r0, .L8
  99:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 100:rtos/uCOS-III/Source/os_mutex.c ****         return;
 101:rtos/uCOS-III/Source/os_mutex.c ****     }
 102:rtos/uCOS-III/Source/os_mutex.c **** #endif
 103:rtos/uCOS-III/Source/os_mutex.c **** 
 104:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_ENTER();
  57              		.loc 1 104 5 is_stmt 1 view .LVU8
  58              		.loc 1 104 5 view .LVU9
  59              		.loc 1 104 5 view .LVU10
  60 000e 4020     		movs	r0, #64
  61              	.LVL2:
  62              		.loc 1 104 5 is_stmt 0 view .LVU11
  63 0010 FFF7FEFF 		bl	CPU_SR_Save
  64              	.LVL3:
  65              		.loc 1 104 5 view .LVU12
  66 0014 0646     		mov	r6, r0
  67              	.LVL4:
  68              		.loc 1 104 5 is_stmt 1 view .LVU13
ARM GAS  /tmp/ccv4eJMD.s 			page 4


  69              		.loc 1 104 5 view .LVU14
 105:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_OBJ_TYPE_REQ > 0u)
 106:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->Type == OS_OBJ_TYPE_MUTEX) {
  70              		.loc 1 106 5 view .LVU15
  71              		.loc 1 106 16 is_stmt 0 view .LVU16
  72 0016 2268     		ldr	r2, [r4]
  73              		.loc 1 106 8 view .LVU17
  74 0018 104B     		ldr	r3, .L10+4
  75 001a 9A42     		cmp	r2, r3
  76 001c 15D0     		beq	.L9
 107:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 108:rtos/uCOS-III/Source/os_mutex.c ****         *p_err = OS_ERR_OBJ_CREATED;
 109:rtos/uCOS-III/Source/os_mutex.c ****         return;
 110:rtos/uCOS-III/Source/os_mutex.c ****     }
 111:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->Type              =  OS_OBJ_TYPE_MUTEX;            /* Mark the data structure as a mut
  77              		.loc 1 111 5 is_stmt 1 view .LVU18
  78              		.loc 1 111 32 is_stmt 0 view .LVU19
  79 001e 0F4B     		ldr	r3, .L10+4
  80 0020 2360     		str	r3, [r4]
 112:rtos/uCOS-III/Source/os_mutex.c **** #endif
 113:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 114:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->NamePtr           =  p_name;
 115:rtos/uCOS-III/Source/os_mutex.c **** #else
 116:rtos/uCOS-III/Source/os_mutex.c ****     (void)p_name;
  81              		.loc 1 116 5 is_stmt 1 view .LVU20
 117:rtos/uCOS-III/Source/os_mutex.c **** #endif
 118:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->MutexGrpNextPtr   = (OS_MUTEX *)0;
  82              		.loc 1 118 5 view .LVU21
  83              		.loc 1 118 32 is_stmt 0 view .LVU22
  84 0022 0027     		movs	r7, #0
  85 0024 E760     		str	r7, [r4, #12]
 119:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerTCBPtr       = (OS_TCB   *)0;
  86              		.loc 1 119 5 is_stmt 1 view .LVU23
  87              		.loc 1 119 32 is_stmt 0 view .LVU24
  88 0026 2761     		str	r7, [r4, #16]
 120:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerNestingCtr   =             0u;                /* Mutex is available              
  89              		.loc 1 120 5 is_stmt 1 view .LVU25
  90              		.loc 1 120 32 is_stmt 0 view .LVU26
  91 0028 2775     		strb	r7, [r4, #20]
 121:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 122:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->TS                =             0u;
 123:rtos/uCOS-III/Source/os_mutex.c **** #endif
 124:rtos/uCOS-III/Source/os_mutex.c ****     OS_PendListInit(&p_mutex->PendList);                        /* Initialize the waiting list     
  92              		.loc 1 124 5 is_stmt 1 view .LVU27
  93 002a 201D     		adds	r0, r4, #4
  94              	.LVL5:
  95              		.loc 1 124 5 is_stmt 0 view .LVU28
  96 002c FFF7FEFF 		bl	OS_PendListInit
  97              	.LVL6:
 125:rtos/uCOS-III/Source/os_mutex.c **** 
 126:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 127:rtos/uCOS-III/Source/os_mutex.c ****     OS_MutexDbgListAdd(p_mutex);
 128:rtos/uCOS-III/Source/os_mutex.c ****     OSMutexQty++;
 129:rtos/uCOS-III/Source/os_mutex.c **** #endif
 130:rtos/uCOS-III/Source/os_mutex.c **** 
 131:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_CREATE(p_mutex, p_name);
  98              		.loc 1 131 43 is_stmt 1 view .LVU29
ARM GAS  /tmp/ccv4eJMD.s 			page 5


 132:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_EXIT();
  99              		.loc 1 132 5 view .LVU30
 100              		.loc 1 132 5 view .LVU31
 101              		.loc 1 132 5 view .LVU32
 102 0030 3046     		mov	r0, r6
 103 0032 FFF7FEFF 		bl	CPU_SR_Restore
 104              	.LVL7:
 105              		.loc 1 132 5 view .LVU33
 106              		.loc 1 132 5 view .LVU34
 133:rtos/uCOS-III/Source/os_mutex.c ****    *p_err = OS_ERR_NONE;
 107              		.loc 1 133 4 view .LVU35
 108              		.loc 1 133 11 is_stmt 0 view .LVU36
 109 0036 2F80     		strh	r7, [r5]	@ movhi
 110              	.LVL8:
 111              	.L1:
 134:rtos/uCOS-III/Source/os_mutex.c **** }
 112              		.loc 1 134 1 view .LVU37
 113 0038 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 114              	.LVL9:
 115              	.L7:
  92:rtos/uCOS-III/Source/os_mutex.c ****         return;
 116              		.loc 1 92 8 is_stmt 1 view .LVU38
  92:rtos/uCOS-III/Source/os_mutex.c ****         return;
 117              		.loc 1 92 15 is_stmt 0 view .LVU39
 118 003a 42F6E163 		movw	r3, #12001
 119 003e 1380     		strh	r3, [r2]	@ movhi
  93:rtos/uCOS-III/Source/os_mutex.c ****     }
 120              		.loc 1 93 9 is_stmt 1 view .LVU40
 121 0040 FAE7     		b	.L1
 122              	.L8:
  99:rtos/uCOS-III/Source/os_mutex.c ****         return;
 123              		.loc 1 99 8 view .LVU41
  99:rtos/uCOS-III/Source/os_mutex.c ****         return;
 124              		.loc 1 99 15 is_stmt 0 view .LVU42
 125 0042 45F6C353 		movw	r3, #24003
 126 0046 1380     		strh	r3, [r2]	@ movhi
 100:rtos/uCOS-III/Source/os_mutex.c ****     }
 127              		.loc 1 100 9 is_stmt 1 view .LVU43
 128 0048 F6E7     		b	.L1
 129              	.LVL10:
 130              	.L9:
 107:rtos/uCOS-III/Source/os_mutex.c ****         *p_err = OS_ERR_OBJ_CREATED;
 131              		.loc 1 107 9 view .LVU44
 107:rtos/uCOS-III/Source/os_mutex.c ****         *p_err = OS_ERR_OBJ_CREATED;
 132              		.loc 1 107 9 view .LVU45
 107:rtos/uCOS-III/Source/os_mutex.c ****         *p_err = OS_ERR_OBJ_CREATED;
 133              		.loc 1 107 9 view .LVU46
 134 004a FFF7FEFF 		bl	CPU_SR_Restore
 135              	.LVL11:
 107:rtos/uCOS-III/Source/os_mutex.c ****         *p_err = OS_ERR_OBJ_CREATED;
 136              		.loc 1 107 9 view .LVU47
 107:rtos/uCOS-III/Source/os_mutex.c ****         *p_err = OS_ERR_OBJ_CREATED;
 137              		.loc 1 107 9 view .LVU48
 108:rtos/uCOS-III/Source/os_mutex.c ****         return;
 138              		.loc 1 108 9 view .LVU49
 108:rtos/uCOS-III/Source/os_mutex.c ****         return;
 139              		.loc 1 108 16 is_stmt 0 view .LVU50
ARM GAS  /tmp/ccv4eJMD.s 			page 6


 140 004e 45F6C153 		movw	r3, #24001
 141 0052 2B80     		strh	r3, [r5]	@ movhi
 109:rtos/uCOS-III/Source/os_mutex.c ****     }
 142              		.loc 1 109 9 is_stmt 1 view .LVU51
 143 0054 F0E7     		b	.L1
 144              	.L11:
 145 0056 00BF     		.align	2
 146              	.L10:
 147 0058 00000000 		.word	OSIntNestingCtr
 148 005c 4D555458 		.word	1481921869
 149              		.cfi_endproc
 150              	.LFE0:
 152              		.section	.text.OS_MutexClr,"ax",%progbits
 153              		.align	1
 154              		.global	OS_MutexClr
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	OS_MutexClr:
 161              	.LVL12:
 162              	.LFB5:
 135:rtos/uCOS-III/Source/os_mutex.c **** 
 136:rtos/uCOS-III/Source/os_mutex.c **** 
 137:rtos/uCOS-III/Source/os_mutex.c **** /*
 138:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 139:rtos/uCOS-III/Source/os_mutex.c **** *                                                   DELETE A MUTEX
 140:rtos/uCOS-III/Source/os_mutex.c **** *
 141:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function deletes a mutex and readies all tasks pending on the mutex.
 142:rtos/uCOS-III/Source/os_mutex.c **** *
 143:rtos/uCOS-III/Source/os_mutex.c **** * Arguments  : p_mutex       is a pointer to the mutex to delete
 144:rtos/uCOS-III/Source/os_mutex.c **** *
 145:rtos/uCOS-III/Source/os_mutex.c **** *              opt           determines delete options as follows:
 146:rtos/uCOS-III/Source/os_mutex.c **** *
 147:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_DEL_NO_PEND          Delete mutex ONLY if no task pending
 148:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_DEL_ALWAYS           Deletes the mutex even if tasks are wa
 149:rtos/uCOS-III/Source/os_mutex.c **** *                                                            In this case, all the tasks pending wi
 150:rtos/uCOS-III/Source/os_mutex.c **** *
 151:rtos/uCOS-III/Source/os_mutex.c **** *              p_err         is a pointer to a variable that will contain an error code returned by
 152:rtos/uCOS-III/Source/os_mutex.c **** *
 153:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_NONE                    The call was successful and the mut
 154:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_DEL_ISR                 If you attempted to delete the mute
 155:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_ILLEGAL_DEL_RUN_TIME    If you are trying to delete the mut
 156:rtos/uCOS-III/Source/os_mutex.c **** *                                                                 OSStart()
 157:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_PTR_NULL            If 'p_mutex' is a NULL pointer
 158:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_TYPE                If 'p_mutex' is not pointing to a m
 159:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OPT_INVALID             An invalid option was specified
 160:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OS_NOT_RUNNING          If uC/OS-III is not running yet
 161:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_TASK_WAITING            One or more tasks were waiting on t
 162:rtos/uCOS-III/Source/os_mutex.c **** *
 163:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : == 0          if no tasks were waiting on the mutex, or upon error.
 164:rtos/uCOS-III/Source/os_mutex.c **** *              >  0          if one or more tasks waiting on the mutex are now readied and informed
 165:rtos/uCOS-III/Source/os_mutex.c **** *
 166:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : 1) This function must be used with care.  Tasks that would normally expect the prese
 167:rtos/uCOS-III/Source/os_mutex.c **** *                 check the return code of OSMutexPend().
 168:rtos/uCOS-III/Source/os_mutex.c **** *
 169:rtos/uCOS-III/Source/os_mutex.c **** *              2) Because ALL tasks pending on the mutex will be readied, you MUST be careful in ap
ARM GAS  /tmp/ccv4eJMD.s 			page 7


 170:rtos/uCOS-III/Source/os_mutex.c **** *                 mutex is used for mutual exclusion because the resource(s) will no longer be guar
 171:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 172:rtos/uCOS-III/Source/os_mutex.c **** */
 173:rtos/uCOS-III/Source/os_mutex.c **** 
 174:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_MUTEX_DEL_EN > 0u)
 175:rtos/uCOS-III/Source/os_mutex.c **** OS_OBJ_QTY  OSMutexDel (OS_MUTEX  *p_mutex,
 176:rtos/uCOS-III/Source/os_mutex.c ****                         OS_OPT     opt,
 177:rtos/uCOS-III/Source/os_mutex.c ****                         OS_ERR    *p_err)
 178:rtos/uCOS-III/Source/os_mutex.c **** {
 179:rtos/uCOS-III/Source/os_mutex.c ****     OS_OBJ_QTY     nbr_tasks;
 180:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 181:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb;
 182:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb_owner;
 183:rtos/uCOS-III/Source/os_mutex.c ****     CPU_TS         ts;
 184:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_MUTEX_EN > 0u)
 185:rtos/uCOS-III/Source/os_mutex.c ****     OS_PRIO        prio_new;
 186:rtos/uCOS-III/Source/os_mutex.c **** #endif
 187:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
 188:rtos/uCOS-III/Source/os_mutex.c **** 
 189:rtos/uCOS-III/Source/os_mutex.c **** 
 190:rtos/uCOS-III/Source/os_mutex.c **** #ifdef OS_SAFETY_CRITICAL
 191:rtos/uCOS-III/Source/os_mutex.c ****     if (p_err == (OS_ERR *)0) {
 192:rtos/uCOS-III/Source/os_mutex.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 193:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 194:rtos/uCOS-III/Source/os_mutex.c ****     }
 195:rtos/uCOS-III/Source/os_mutex.c **** #endif
 196:rtos/uCOS-III/Source/os_mutex.c **** 
 197:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_DEL_ENTER(p_mutex, opt);
 198:rtos/uCOS-III/Source/os_mutex.c **** 
 199:rtos/uCOS-III/Source/os_mutex.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 200:rtos/uCOS-III/Source/os_mutex.c ****     if (OSSafetyCriticalStartFlag == OS_TRUE) {
 201:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_ILLEGAL_DEL_RUN_TIME);
 202:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_ILLEGAL_DEL_RUN_TIME;
 203:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 204:rtos/uCOS-III/Source/os_mutex.c ****     }
 205:rtos/uCOS-III/Source/os_mutex.c **** #endif
 206:rtos/uCOS-III/Source/os_mutex.c **** 
 207:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 208:rtos/uCOS-III/Source/os_mutex.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to delete a mutex fr
 209:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_DEL_ISR);
 210:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_DEL_ISR;
 211:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 212:rtos/uCOS-III/Source/os_mutex.c ****     }
 213:rtos/uCOS-III/Source/os_mutex.c **** #endif
 214:rtos/uCOS-III/Source/os_mutex.c **** 
 215:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 216:rtos/uCOS-III/Source/os_mutex.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 217:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OS_NOT_RUNNING);
 218:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 219:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 220:rtos/uCOS-III/Source/os_mutex.c ****     }
 221:rtos/uCOS-III/Source/os_mutex.c **** #endif
 222:rtos/uCOS-III/Source/os_mutex.c **** 
 223:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 224:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex == (OS_MUTEX *)0) {                             /* Validate 'p_mutex'              
 225:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OBJ_PTR_NULL);
 226:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
ARM GAS  /tmp/ccv4eJMD.s 			page 8


 227:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 228:rtos/uCOS-III/Source/os_mutex.c ****     }
 229:rtos/uCOS-III/Source/os_mutex.c **** #endif
 230:rtos/uCOS-III/Source/os_mutex.c **** 
 231:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 232:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->Type != OS_OBJ_TYPE_MUTEX) {                   /* Make sure mutex was created     
 233:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OBJ_TYPE);
 234:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_TYPE;
 235:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 236:rtos/uCOS-III/Source/os_mutex.c ****     }
 237:rtos/uCOS-III/Source/os_mutex.c **** #endif
 238:rtos/uCOS-III/Source/os_mutex.c **** 
 239:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_ENTER();
 240:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 241:rtos/uCOS-III/Source/os_mutex.c ****     nbr_tasks   = 0u;
 242:rtos/uCOS-III/Source/os_mutex.c ****     switch (opt) {
 243:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_DEL_NO_PEND:                                /* Delete mutex only if no task wai
 244:rtos/uCOS-III/Source/os_mutex.c ****              if (p_pend_list->HeadPtr == (OS_TCB *)0) {
 245:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 246:rtos/uCOS-III/Source/os_mutex.c ****                  OS_MutexDbgListRemove(p_mutex);
 247:rtos/uCOS-III/Source/os_mutex.c ****                  OSMutexQty--;
 248:rtos/uCOS-III/Source/os_mutex.c **** #endif
 249:rtos/uCOS-III/Source/os_mutex.c ****                  OS_TRACE_MUTEX_DEL(p_mutex);
 250:rtos/uCOS-III/Source/os_mutex.c ****                  if (p_mutex->OwnerTCBPtr != (OS_TCB *)0) {     /* Does the mutex belong to a task?
 251:rtos/uCOS-III/Source/os_mutex.c ****                      OS_MutexGrpRemove(p_mutex->OwnerTCBPtr, p_mutex); /* yes, remove it from the t
 252:rtos/uCOS-III/Source/os_mutex.c ****                  }
 253:rtos/uCOS-III/Source/os_mutex.c ****                  OS_MutexClr(p_mutex);
 254:rtos/uCOS-III/Source/os_mutex.c ****                  CPU_CRITICAL_EXIT();
 255:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_NONE;
 256:rtos/uCOS-III/Source/os_mutex.c ****              } else {
 257:rtos/uCOS-III/Source/os_mutex.c ****                  CPU_CRITICAL_EXIT();
 258:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_TASK_WAITING;
 259:rtos/uCOS-III/Source/os_mutex.c ****              }
 260:rtos/uCOS-III/Source/os_mutex.c ****              break;
 261:rtos/uCOS-III/Source/os_mutex.c **** 
 262:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_DEL_ALWAYS:                                 /* Always delete the mutex         
 263:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 264:rtos/uCOS-III/Source/os_mutex.c ****              ts = OS_TS_GET();                                  /* Get timestamp                   
 265:rtos/uCOS-III/Source/os_mutex.c **** #else
 266:rtos/uCOS-III/Source/os_mutex.c ****              ts = 0u;
 267:rtos/uCOS-III/Source/os_mutex.c **** #endif
 268:rtos/uCOS-III/Source/os_mutex.c ****              while (p_pend_list->HeadPtr != (OS_TCB *)0) {      /* Remove all tasks from the pend l
 269:rtos/uCOS-III/Source/os_mutex.c ****                  p_tcb = p_pend_list->HeadPtr;
 270:rtos/uCOS-III/Source/os_mutex.c ****                  OS_PendAbort(p_tcb,
 271:rtos/uCOS-III/Source/os_mutex.c ****                               ts,
 272:rtos/uCOS-III/Source/os_mutex.c ****                               OS_STATUS_PEND_DEL);
 273:rtos/uCOS-III/Source/os_mutex.c ****                  nbr_tasks++;
 274:rtos/uCOS-III/Source/os_mutex.c ****              }
 275:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 276:rtos/uCOS-III/Source/os_mutex.c ****              OS_MutexDbgListRemove(p_mutex);
 277:rtos/uCOS-III/Source/os_mutex.c ****              OSMutexQty--;
 278:rtos/uCOS-III/Source/os_mutex.c **** #endif
 279:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_DEL(p_mutex);
 280:rtos/uCOS-III/Source/os_mutex.c ****              p_tcb_owner = p_mutex->OwnerTCBPtr;
 281:rtos/uCOS-III/Source/os_mutex.c ****              if (p_tcb_owner != (OS_TCB *)0) {                  /* Does the mutex belong to a task?
 282:rtos/uCOS-III/Source/os_mutex.c ****                  OS_MutexGrpRemove(p_tcb_owner, p_mutex);       /* yes, remove it from the task gro
 283:rtos/uCOS-III/Source/os_mutex.c ****              }
ARM GAS  /tmp/ccv4eJMD.s 			page 9


 284:rtos/uCOS-III/Source/os_mutex.c **** 
 285:rtos/uCOS-III/Source/os_mutex.c **** 
 286:rtos/uCOS-III/Source/os_mutex.c ****              if (p_tcb_owner != (OS_TCB *)0) {                  /* Did we had to change the prio of
 287:rtos/uCOS-III/Source/os_mutex.c ****                  if (p_tcb_owner->Prio != p_tcb_owner->BasePrio) {
 288:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 289:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : prio_n
 290:rtos/uCOS-III/Source/os_mutex.c ****                      OS_TaskChangePrio(p_tcb_owner, prio_new);
 291:rtos/uCOS-III/Source/os_mutex.c ****                      OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(p_tcb_owner, p_tcb_owner->Prio);
 292:rtos/uCOS-III/Source/os_mutex.c ****                  }
 293:rtos/uCOS-III/Source/os_mutex.c ****              }
 294:rtos/uCOS-III/Source/os_mutex.c **** 
 295:rtos/uCOS-III/Source/os_mutex.c ****              OS_MutexClr(p_mutex);
 296:rtos/uCOS-III/Source/os_mutex.c ****              CPU_CRITICAL_EXIT();
 297:rtos/uCOS-III/Source/os_mutex.c ****              OSSched();                                         /* Find highest priority task ready
 298:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_NONE;
 299:rtos/uCOS-III/Source/os_mutex.c ****              break;
 300:rtos/uCOS-III/Source/os_mutex.c **** 
 301:rtos/uCOS-III/Source/os_mutex.c ****         default:
 302:rtos/uCOS-III/Source/os_mutex.c ****              CPU_CRITICAL_EXIT();
 303:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 304:rtos/uCOS-III/Source/os_mutex.c ****              break;
 305:rtos/uCOS-III/Source/os_mutex.c ****     }
 306:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_DEL_EXIT(*p_err);
 307:rtos/uCOS-III/Source/os_mutex.c ****     return (nbr_tasks);
 308:rtos/uCOS-III/Source/os_mutex.c **** }
 309:rtos/uCOS-III/Source/os_mutex.c **** #endif
 310:rtos/uCOS-III/Source/os_mutex.c **** 
 311:rtos/uCOS-III/Source/os_mutex.c **** 
 312:rtos/uCOS-III/Source/os_mutex.c **** /*
 313:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 314:rtos/uCOS-III/Source/os_mutex.c **** *                                                    PEND ON MUTEX
 315:rtos/uCOS-III/Source/os_mutex.c **** *
 316:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function waits for a mutex.
 317:rtos/uCOS-III/Source/os_mutex.c **** *
 318:rtos/uCOS-III/Source/os_mutex.c **** * Arguments  : p_mutex       is a pointer to the mutex
 319:rtos/uCOS-III/Source/os_mutex.c **** *
 320:rtos/uCOS-III/Source/os_mutex.c **** *              timeout       is an optional timeout period (in clock ticks).  If non-zero, your tas
 321:rtos/uCOS-III/Source/os_mutex.c **** *                            resource up to the amount of time (in 'ticks') specified by this argum
 322:rtos/uCOS-III/Source/os_mutex.c **** *                            0, however, your task will wait forever at the specified mutex or, unt
 323:rtos/uCOS-III/Source/os_mutex.c **** *                            becomes available.
 324:rtos/uCOS-III/Source/os_mutex.c **** *
 325:rtos/uCOS-III/Source/os_mutex.c **** *              opt           determines whether the user wants to block if the mutex is available o
 326:rtos/uCOS-III/Source/os_mutex.c **** *
 327:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_PEND_BLOCKING
 328:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_PEND_NON_BLOCKING
 329:rtos/uCOS-III/Source/os_mutex.c **** *
 330:rtos/uCOS-III/Source/os_mutex.c **** *              p_ts          is a pointer to a variable that will receive the timestamp of when the
 331:rtos/uCOS-III/Source/os_mutex.c **** *                            pend aborted or the mutex deleted.  If you pass a NULL pointer (i.e. (
 332:rtos/uCOS-III/Source/os_mutex.c **** *                            will not get the timestamp.  In other words, passing a NULL pointer is
 333:rtos/uCOS-III/Source/os_mutex.c **** *                            that you don't need the timestamp.
 334:rtos/uCOS-III/Source/os_mutex.c **** *
 335:rtos/uCOS-III/Source/os_mutex.c **** *              p_err         is a pointer to a variable that will contain an error code returned by
 336:rtos/uCOS-III/Source/os_mutex.c **** *
 337:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_NONE               The call was successful and your task ow
 338:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_MUTEX_OWNER        If calling task already owns the mutex
 339:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_MUTEX_OVF          Mutex nesting counter overflowed
 340:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_DEL            If 'p_mutex' was deleted
ARM GAS  /tmp/ccv4eJMD.s 			page 10


 341:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_PTR_NULL       If 'p_mutex' is a NULL pointer
 342:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_TYPE           If 'p_mutex' is not pointing at a mutex
 343:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OPT_INVALID        If you didn't specify a valid option
 344:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
 345:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_PEND_ABORT         If the pend was aborted by another task
 346:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_PEND_ISR           If you called this function from an ISR 
 347:rtos/uCOS-III/Source/os_mutex.c **** *                                                          would lead to a suspension
 348:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_PEND_WOULD_BLOCK   If you specified non-blocking but the mu
 349:rtos/uCOS-III/Source/os_mutex.c **** *                                                          available
 350:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_SCHED_LOCKED       If you called this function when the sch
 351:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_STATUS_INVALID     If the pend status has an invalid value
 352:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_TIMEOUT            The mutex was not received within the sp
 353:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_TICK_DISABLED      If kernel ticks are disabled and a timeo
 354:rtos/uCOS-III/Source/os_mutex.c **** *
 355:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none
 356:rtos/uCOS-III/Source/os_mutex.c **** *
 357:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : This API 'MUST NOT' be called from a timer callback function.
 358:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 359:rtos/uCOS-III/Source/os_mutex.c **** */
 360:rtos/uCOS-III/Source/os_mutex.c **** 
 361:rtos/uCOS-III/Source/os_mutex.c **** void  OSMutexPend (OS_MUTEX  *p_mutex,
 362:rtos/uCOS-III/Source/os_mutex.c ****                    OS_TICK    timeout,
 363:rtos/uCOS-III/Source/os_mutex.c ****                    OS_OPT     opt,
 364:rtos/uCOS-III/Source/os_mutex.c ****                    CPU_TS    *p_ts,
 365:rtos/uCOS-III/Source/os_mutex.c ****                    OS_ERR    *p_err)
 366:rtos/uCOS-III/Source/os_mutex.c **** {
 367:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB  *p_tcb;
 368:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
 369:rtos/uCOS-III/Source/os_mutex.c **** 
 370:rtos/uCOS-III/Source/os_mutex.c **** 
 371:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN == 0u)
 372:rtos/uCOS-III/Source/os_mutex.c ****     (void)p_ts;                                                 /* Prevent compiler warning for not
 373:rtos/uCOS-III/Source/os_mutex.c **** #endif
 374:rtos/uCOS-III/Source/os_mutex.c **** 
 375:rtos/uCOS-III/Source/os_mutex.c **** #ifdef OS_SAFETY_CRITICAL
 376:rtos/uCOS-III/Source/os_mutex.c ****     if (p_err == (OS_ERR *)0) {
 377:rtos/uCOS-III/Source/os_mutex.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 378:rtos/uCOS-III/Source/os_mutex.c ****         return;
 379:rtos/uCOS-III/Source/os_mutex.c ****     }
 380:rtos/uCOS-III/Source/os_mutex.c **** #endif
 381:rtos/uCOS-III/Source/os_mutex.c **** 
 382:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_ENTER(p_mutex, timeout, opt, p_ts);
 383:rtos/uCOS-III/Source/os_mutex.c **** 
 384:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TICK_EN == 0u)
 385:rtos/uCOS-III/Source/os_mutex.c ****     if (timeout != 0u) {
 386:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_TICK_DISABLED;
 387:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 388:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_TICK_DISABLED);
 389:rtos/uCOS-III/Source/os_mutex.c ****         return;
 390:rtos/uCOS-III/Source/os_mutex.c ****     }
 391:rtos/uCOS-III/Source/os_mutex.c **** #endif
 392:rtos/uCOS-III/Source/os_mutex.c **** 
 393:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 394:rtos/uCOS-III/Source/os_mutex.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 395:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 396:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_PEND_ISR);
 397:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_PEND_ISR;
ARM GAS  /tmp/ccv4eJMD.s 			page 11


 398:rtos/uCOS-III/Source/os_mutex.c ****         return;
 399:rtos/uCOS-III/Source/os_mutex.c ****     }
 400:rtos/uCOS-III/Source/os_mutex.c **** #endif
 401:rtos/uCOS-III/Source/os_mutex.c **** 
 402:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 403:rtos/uCOS-III/Source/os_mutex.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 404:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 405:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 406:rtos/uCOS-III/Source/os_mutex.c ****         return;
 407:rtos/uCOS-III/Source/os_mutex.c ****     }
 408:rtos/uCOS-III/Source/os_mutex.c **** #endif
 409:rtos/uCOS-III/Source/os_mutex.c **** 
 410:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 411:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex == (OS_MUTEX *)0) {                             /* Validate arguments              
 412:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 413:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OBJ_PTR_NULL);
 414:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 415:rtos/uCOS-III/Source/os_mutex.c ****         return;
 416:rtos/uCOS-III/Source/os_mutex.c ****     }
 417:rtos/uCOS-III/Source/os_mutex.c ****     switch (opt) {                                              /* Validate 'opt'                  
 418:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_BLOCKING:
 419:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_NON_BLOCKING:
 420:rtos/uCOS-III/Source/os_mutex.c ****              break;
 421:rtos/uCOS-III/Source/os_mutex.c **** 
 422:rtos/uCOS-III/Source/os_mutex.c ****         default:
 423:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 424:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OPT_INVALID);
 425:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 426:rtos/uCOS-III/Source/os_mutex.c ****              return;
 427:rtos/uCOS-III/Source/os_mutex.c ****     }
 428:rtos/uCOS-III/Source/os_mutex.c **** #endif
 429:rtos/uCOS-III/Source/os_mutex.c **** 
 430:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 431:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->Type != OS_OBJ_TYPE_MUTEX) {                   /* Make sure mutex was created     
 432:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 433:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OBJ_TYPE);
 434:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_TYPE;
 435:rtos/uCOS-III/Source/os_mutex.c ****         return;
 436:rtos/uCOS-III/Source/os_mutex.c ****     }
 437:rtos/uCOS-III/Source/os_mutex.c **** #endif
 438:rtos/uCOS-III/Source/os_mutex.c **** 
 439:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_ENTER();
 440:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 441:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = OSTCBCurPtr;                 /* Yes, caller may proceed         
 442:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr = 1u;
 443:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 444:rtos/uCOS-III/Source/os_mutex.c ****         if (p_ts != (CPU_TS *)0) {
 445:rtos/uCOS-III/Source/os_mutex.c ****            *p_ts = p_mutex->TS;
 446:rtos/uCOS-III/Source/os_mutex.c ****         }
 447:rtos/uCOS-III/Source/os_mutex.c **** #endif
 448:rtos/uCOS-III/Source/os_mutex.c ****         OS_MutexGrpAdd(OSTCBCurPtr, p_mutex);                   /* Add mutex to owner's group      
 449:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 450:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND(p_mutex);
 451:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_NONE);
 452:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_NONE;
 453:rtos/uCOS-III/Source/os_mutex.c ****         return;
 454:rtos/uCOS-III/Source/os_mutex.c ****     }
ARM GAS  /tmp/ccv4eJMD.s 			page 12


 455:rtos/uCOS-III/Source/os_mutex.c **** 
 456:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr == p_mutex->OwnerTCBPtr) {                  /* See if current task is already t
 457:rtos/uCOS-III/Source/os_mutex.c ****         if (p_mutex->OwnerNestingCtr == (OS_NESTING_CTR)-1) {
 458:rtos/uCOS-III/Source/os_mutex.c ****             CPU_CRITICAL_EXIT();
 459:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 460:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_MUTEX_OVF);
 461:rtos/uCOS-III/Source/os_mutex.c ****            *p_err = OS_ERR_MUTEX_OVF;
 462:rtos/uCOS-III/Source/os_mutex.c ****             return;
 463:rtos/uCOS-III/Source/os_mutex.c ****         }
 464:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr++;
 465:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 466:rtos/uCOS-III/Source/os_mutex.c ****         if (p_ts != (CPU_TS *)0) {
 467:rtos/uCOS-III/Source/os_mutex.c ****            *p_ts = p_mutex->TS;
 468:rtos/uCOS-III/Source/os_mutex.c ****         }
 469:rtos/uCOS-III/Source/os_mutex.c **** #endif
 470:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 471:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 472:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_MUTEX_OWNER);
 473:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_MUTEX_OWNER;                             /* Indicate that current task alrea
 474:rtos/uCOS-III/Source/os_mutex.c ****         return;
 475:rtos/uCOS-III/Source/os_mutex.c ****     }
 476:rtos/uCOS-III/Source/os_mutex.c **** 
 477:rtos/uCOS-III/Source/os_mutex.c ****     if ((opt & OS_OPT_PEND_NON_BLOCKING) != 0u) {               /* Caller wants to block if not ava
 478:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 479:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 480:rtos/uCOS-III/Source/os_mutex.c ****         if (p_ts != (CPU_TS *)0) {
 481:rtos/uCOS-III/Source/os_mutex.c ****            *p_ts = 0u;
 482:rtos/uCOS-III/Source/os_mutex.c ****         }
 483:rtos/uCOS-III/Source/os_mutex.c **** #endif
 484:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 485:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_PEND_WOULD_BLOCK);
 486:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_PEND_WOULD_BLOCK;                        /* No                              
 487:rtos/uCOS-III/Source/os_mutex.c ****         return;
 488:rtos/uCOS-III/Source/os_mutex.c ****     } else {
 489:rtos/uCOS-III/Source/os_mutex.c ****         if (OSSchedLockNestingCtr > 0u) {                       /* Can't pend when the scheduler is
 490:rtos/uCOS-III/Source/os_mutex.c ****             CPU_CRITICAL_EXIT();
 491:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 492:rtos/uCOS-III/Source/os_mutex.c ****             if (p_ts != (CPU_TS *)0) {
 493:rtos/uCOS-III/Source/os_mutex.c ****                *p_ts = 0u;
 494:rtos/uCOS-III/Source/os_mutex.c ****             }
 495:rtos/uCOS-III/Source/os_mutex.c **** #endif
 496:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 497:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_SCHED_LOCKED);
 498:rtos/uCOS-III/Source/os_mutex.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 499:rtos/uCOS-III/Source/os_mutex.c ****             return;
 500:rtos/uCOS-III/Source/os_mutex.c ****         }
 501:rtos/uCOS-III/Source/os_mutex.c ****     }
 502:rtos/uCOS-III/Source/os_mutex.c **** 
 503:rtos/uCOS-III/Source/os_mutex.c ****     p_tcb = p_mutex->OwnerTCBPtr;                               /* Point to the TCB of the Mutex ow
 504:rtos/uCOS-III/Source/os_mutex.c ****     if (p_tcb->Prio > OSTCBCurPtr->Prio) {                      /* See if mutex owner has a lower p
 505:rtos/uCOS-III/Source/os_mutex.c ****         OS_TaskChangePrio(p_tcb, OSTCBCurPtr->Prio);
 506:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_TASK_PRIO_INHERIT(p_tcb, p_tcb->Prio);
 507:rtos/uCOS-III/Source/os_mutex.c ****     }
 508:rtos/uCOS-III/Source/os_mutex.c **** 
 509:rtos/uCOS-III/Source/os_mutex.c ****     OS_Pend((OS_PEND_OBJ *)((void *)p_mutex),                   /* Block task pending on Mutex     
 510:rtos/uCOS-III/Source/os_mutex.c ****              OSTCBCurPtr,
 511:rtos/uCOS-III/Source/os_mutex.c ****              OS_TASK_PEND_ON_MUTEX,
ARM GAS  /tmp/ccv4eJMD.s 			page 13


 512:rtos/uCOS-III/Source/os_mutex.c ****              timeout);
 513:rtos/uCOS-III/Source/os_mutex.c **** 
 514:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_EXIT();
 515:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_BLOCK(p_mutex);
 516:rtos/uCOS-III/Source/os_mutex.c ****     OSSched();                                                  /* Find the next highest priority t
 517:rtos/uCOS-III/Source/os_mutex.c **** 
 518:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_ENTER();
 519:rtos/uCOS-III/Source/os_mutex.c ****     switch (OSTCBCurPtr->PendStatus) {
 520:rtos/uCOS-III/Source/os_mutex.c ****         case OS_STATUS_PEND_OK:                                 /* We got the mutex                
 521:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 522:rtos/uCOS-III/Source/os_mutex.c ****              if (p_ts != (CPU_TS *)0) {
 523:rtos/uCOS-III/Source/os_mutex.c ****                 *p_ts = OSTCBCurPtr->TS;
 524:rtos/uCOS-III/Source/os_mutex.c ****              }
 525:rtos/uCOS-III/Source/os_mutex.c **** #endif
 526:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND(p_mutex);
 527:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_NONE;
 528:rtos/uCOS-III/Source/os_mutex.c ****              break;
 529:rtos/uCOS-III/Source/os_mutex.c **** 
 530:rtos/uCOS-III/Source/os_mutex.c ****         case OS_STATUS_PEND_ABORT:                              /* Indicate that we aborted        
 531:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 532:rtos/uCOS-III/Source/os_mutex.c ****              if (p_ts != (CPU_TS *)0) {
 533:rtos/uCOS-III/Source/os_mutex.c ****                 *p_ts = OSTCBCurPtr->TS;
 534:rtos/uCOS-III/Source/os_mutex.c ****              }
 535:rtos/uCOS-III/Source/os_mutex.c **** #endif
 536:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 537:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_PEND_ABORT;
 538:rtos/uCOS-III/Source/os_mutex.c ****              break;
 539:rtos/uCOS-III/Source/os_mutex.c **** 
 540:rtos/uCOS-III/Source/os_mutex.c ****         case OS_STATUS_PEND_TIMEOUT:                            /* Indicate that we didn't get mute
 541:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 542:rtos/uCOS-III/Source/os_mutex.c ****              if (p_ts != (CPU_TS *)0) {
 543:rtos/uCOS-III/Source/os_mutex.c ****                 *p_ts = 0u;
 544:rtos/uCOS-III/Source/os_mutex.c ****              }
 545:rtos/uCOS-III/Source/os_mutex.c **** #endif
 546:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 547:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_TIMEOUT;
 548:rtos/uCOS-III/Source/os_mutex.c ****              break;
 549:rtos/uCOS-III/Source/os_mutex.c **** 
 550:rtos/uCOS-III/Source/os_mutex.c ****         case OS_STATUS_PEND_DEL:                                /* Indicate that object pended on h
 551:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 552:rtos/uCOS-III/Source/os_mutex.c ****              if (p_ts != (CPU_TS *)0) {
 553:rtos/uCOS-III/Source/os_mutex.c ****                 *p_ts = OSTCBCurPtr->TS;
 554:rtos/uCOS-III/Source/os_mutex.c ****              }
 555:rtos/uCOS-III/Source/os_mutex.c **** #endif
 556:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 557:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OBJ_DEL;
 558:rtos/uCOS-III/Source/os_mutex.c ****              break;
 559:rtos/uCOS-III/Source/os_mutex.c **** 
 560:rtos/uCOS-III/Source/os_mutex.c ****         default:
 561:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 562:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_STATUS_INVALID;
 563:rtos/uCOS-III/Source/os_mutex.c ****              break;
 564:rtos/uCOS-III/Source/os_mutex.c ****     }
 565:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_EXIT();
 566:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_EXIT(*p_err);
 567:rtos/uCOS-III/Source/os_mutex.c **** }
 568:rtos/uCOS-III/Source/os_mutex.c **** 
ARM GAS  /tmp/ccv4eJMD.s 			page 14


 569:rtos/uCOS-III/Source/os_mutex.c **** 
 570:rtos/uCOS-III/Source/os_mutex.c **** /*
 571:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 572:rtos/uCOS-III/Source/os_mutex.c **** *                                               ABORT WAITING ON A MUTEX
 573:rtos/uCOS-III/Source/os_mutex.c **** *
 574:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function aborts & readies any tasks currently waiting on a mutex.  This functio
 575:rtos/uCOS-III/Source/os_mutex.c **** *              to fault-abort the wait on the mutex, rather than to normally signal the mutex via O
 576:rtos/uCOS-III/Source/os_mutex.c **** *
 577:rtos/uCOS-III/Source/os_mutex.c **** * Arguments  : p_mutex       is a pointer to the mutex
 578:rtos/uCOS-III/Source/os_mutex.c **** *
 579:rtos/uCOS-III/Source/os_mutex.c **** *              opt           determines the type of ABORT performed:
 580:rtos/uCOS-III/Source/os_mutex.c **** *
 581:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_PEND_ABORT_1          ABORT wait for a single task (HPT) wa
 582:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_PEND_ABORT_ALL        ABORT wait for ALL tasks that are  wa
 583:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_POST_NO_SCHED         Do not call the scheduler
 584:rtos/uCOS-III/Source/os_mutex.c **** *
 585:rtos/uCOS-III/Source/os_mutex.c **** *              p_err         is a pointer to a variable that will contain an error code returned by
 586:rtos/uCOS-III/Source/os_mutex.c **** *
 587:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_NONE               At least one task waiting on the mutex w
 588:rtos/uCOS-III/Source/os_mutex.c **** *                                                          informed of the aborted wait; check retu
 589:rtos/uCOS-III/Source/os_mutex.c **** *                                                          number of tasks whose wait on the mutex 
 590:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_PTR_NULL       If 'p_mutex' is a NULL pointer
 591:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_TYPE           If 'p_mutex' is not pointing at a mutex
 592:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OPT_INVALID        If you specified an invalid option
 593:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
 594:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_PEND_ABORT_ISR     If you attempted to call this function f
 595:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_PEND_ABORT_NONE    No task were pending
 596:rtos/uCOS-III/Source/os_mutex.c **** *
 597:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : == 0          if no tasks were waiting on the mutex, or upon error.
 598:rtos/uCOS-III/Source/os_mutex.c **** *              >  0          if one or more tasks waiting on the mutex are now readied and informed
 599:rtos/uCOS-III/Source/os_mutex.c **** *
 600:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : none
 601:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 602:rtos/uCOS-III/Source/os_mutex.c **** */
 603:rtos/uCOS-III/Source/os_mutex.c **** 
 604:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_MUTEX_PEND_ABORT_EN > 0u)
 605:rtos/uCOS-III/Source/os_mutex.c **** OS_OBJ_QTY  OSMutexPendAbort (OS_MUTEX  *p_mutex,
 606:rtos/uCOS-III/Source/os_mutex.c ****                               OS_OPT     opt,
 607:rtos/uCOS-III/Source/os_mutex.c ****                               OS_ERR    *p_err)
 608:rtos/uCOS-III/Source/os_mutex.c **** {
 609:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 610:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb;
 611:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb_owner;
 612:rtos/uCOS-III/Source/os_mutex.c ****     CPU_TS         ts;
 613:rtos/uCOS-III/Source/os_mutex.c ****     OS_OBJ_QTY     nbr_tasks;
 614:rtos/uCOS-III/Source/os_mutex.c ****     OS_PRIO        prio_new;
 615:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
 616:rtos/uCOS-III/Source/os_mutex.c **** 
 617:rtos/uCOS-III/Source/os_mutex.c **** 
 618:rtos/uCOS-III/Source/os_mutex.c **** #ifdef OS_SAFETY_CRITICAL
 619:rtos/uCOS-III/Source/os_mutex.c ****     if (p_err == (OS_ERR *)0) {
 620:rtos/uCOS-III/Source/os_mutex.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 621:rtos/uCOS-III/Source/os_mutex.c ****         return ((OS_OBJ_QTY)0u);
 622:rtos/uCOS-III/Source/os_mutex.c ****     }
 623:rtos/uCOS-III/Source/os_mutex.c **** #endif
 624:rtos/uCOS-III/Source/os_mutex.c **** 
 625:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
ARM GAS  /tmp/ccv4eJMD.s 			page 15


 626:rtos/uCOS-III/Source/os_mutex.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to Pend Abort from a
 627:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_ISR;
 628:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 629:rtos/uCOS-III/Source/os_mutex.c ****     }
 630:rtos/uCOS-III/Source/os_mutex.c **** #endif
 631:rtos/uCOS-III/Source/os_mutex.c **** 
 632:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 633:rtos/uCOS-III/Source/os_mutex.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 634:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 635:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 636:rtos/uCOS-III/Source/os_mutex.c ****     }
 637:rtos/uCOS-III/Source/os_mutex.c **** #endif
 638:rtos/uCOS-III/Source/os_mutex.c **** 
 639:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 640:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex == (OS_MUTEX *)0) {                             /* Validate 'p_mutex'              
 641:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_OBJ_PTR_NULL;
 642:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 643:rtos/uCOS-III/Source/os_mutex.c ****     }
 644:rtos/uCOS-III/Source/os_mutex.c ****     switch (opt) {                                              /* Validate 'opt'                  
 645:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_ABORT_1:
 646:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_ABORT_ALL:
 647:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_ABORT_1   | OS_OPT_POST_NO_SCHED:
 648:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_ABORT_ALL | OS_OPT_POST_NO_SCHED:
 649:rtos/uCOS-III/Source/os_mutex.c ****              break;
 650:rtos/uCOS-III/Source/os_mutex.c **** 
 651:rtos/uCOS-III/Source/os_mutex.c ****         default:
 652:rtos/uCOS-III/Source/os_mutex.c ****             *p_err =  OS_ERR_OPT_INVALID;
 653:rtos/uCOS-III/Source/os_mutex.c ****              return (0u);
 654:rtos/uCOS-III/Source/os_mutex.c ****     }
 655:rtos/uCOS-III/Source/os_mutex.c **** #endif
 656:rtos/uCOS-III/Source/os_mutex.c **** 
 657:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 658:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->Type != OS_OBJ_TYPE_MUTEX) {                   /* Make sure mutex was created     
 659:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_OBJ_TYPE;
 660:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 661:rtos/uCOS-III/Source/os_mutex.c ****     }
 662:rtos/uCOS-III/Source/os_mutex.c **** #endif
 663:rtos/uCOS-III/Source/os_mutex.c **** 
 664:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_ENTER();
 665:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 666:rtos/uCOS-III/Source/os_mutex.c ****     if (p_pend_list->HeadPtr == (OS_TCB *)0) {                  /* Any task waiting on mutex?      
 667:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
 668:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_NONE;
 669:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 670:rtos/uCOS-III/Source/os_mutex.c ****     }
 671:rtos/uCOS-III/Source/os_mutex.c **** 
 672:rtos/uCOS-III/Source/os_mutex.c ****     nbr_tasks = 0u;
 673:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 674:rtos/uCOS-III/Source/os_mutex.c ****     ts        = OS_TS_GET();                                    /* Get local time stamp so all task
 675:rtos/uCOS-III/Source/os_mutex.c **** #else
 676:rtos/uCOS-III/Source/os_mutex.c ****     ts        = 0u;
 677:rtos/uCOS-III/Source/os_mutex.c **** #endif
 678:rtos/uCOS-III/Source/os_mutex.c ****     while (p_pend_list->HeadPtr != (OS_TCB *)0) {
 679:rtos/uCOS-III/Source/os_mutex.c ****         p_tcb = p_pend_list->HeadPtr;
 680:rtos/uCOS-III/Source/os_mutex.c **** 
 681:rtos/uCOS-III/Source/os_mutex.c ****         OS_PendAbort(p_tcb,
 682:rtos/uCOS-III/Source/os_mutex.c ****                      ts,
ARM GAS  /tmp/ccv4eJMD.s 			page 16


 683:rtos/uCOS-III/Source/os_mutex.c ****                      OS_STATUS_PEND_ABORT);
 684:rtos/uCOS-III/Source/os_mutex.c ****         p_tcb_owner = p_mutex->OwnerTCBPtr;
 685:rtos/uCOS-III/Source/os_mutex.c ****         prio_new    = p_tcb_owner->Prio;
 686:rtos/uCOS-III/Source/os_mutex.c ****         if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 687:rtos/uCOS-III/Source/os_mutex.c ****             (p_tcb_owner->Prio == p_tcb->Prio)) {               /* Has the owner inherited a priori
 688:rtos/uCOS-III/Source/os_mutex.c ****             prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 689:rtos/uCOS-III/Source/os_mutex.c ****             prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : prio_new;
 690:rtos/uCOS-III/Source/os_mutex.c ****         }
 691:rtos/uCOS-III/Source/os_mutex.c **** 
 692:rtos/uCOS-III/Source/os_mutex.c ****         if(prio_new != p_tcb_owner->Prio) {
 693:rtos/uCOS-III/Source/os_mutex.c ****             OS_TaskChangePrio(p_tcb_owner, prio_new);
 694:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(p_tcb_owner, p_tcb_owner->Prio);
 695:rtos/uCOS-III/Source/os_mutex.c ****         }
 696:rtos/uCOS-III/Source/os_mutex.c **** 
 697:rtos/uCOS-III/Source/os_mutex.c ****         nbr_tasks++;
 698:rtos/uCOS-III/Source/os_mutex.c ****         if (opt != OS_OPT_PEND_ABORT_ALL) {                     /* Pend abort all tasks waiting?   
 699:rtos/uCOS-III/Source/os_mutex.c ****             break;                                              /* No                              
 700:rtos/uCOS-III/Source/os_mutex.c ****         }
 701:rtos/uCOS-III/Source/os_mutex.c ****     }
 702:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_EXIT();
 703:rtos/uCOS-III/Source/os_mutex.c **** 
 704:rtos/uCOS-III/Source/os_mutex.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 705:rtos/uCOS-III/Source/os_mutex.c ****         OSSched();                                              /* Run the scheduler               
 706:rtos/uCOS-III/Source/os_mutex.c ****     }
 707:rtos/uCOS-III/Source/os_mutex.c **** 
 708:rtos/uCOS-III/Source/os_mutex.c ****    *p_err = OS_ERR_NONE;
 709:rtos/uCOS-III/Source/os_mutex.c ****     return (nbr_tasks);
 710:rtos/uCOS-III/Source/os_mutex.c **** }
 711:rtos/uCOS-III/Source/os_mutex.c **** #endif
 712:rtos/uCOS-III/Source/os_mutex.c **** 
 713:rtos/uCOS-III/Source/os_mutex.c **** 
 714:rtos/uCOS-III/Source/os_mutex.c **** /*
 715:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 716:rtos/uCOS-III/Source/os_mutex.c **** *                                                   POST TO A MUTEX
 717:rtos/uCOS-III/Source/os_mutex.c **** *
 718:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function signals a mutex.
 719:rtos/uCOS-III/Source/os_mutex.c **** *
 720:rtos/uCOS-III/Source/os_mutex.c **** * Arguments  : p_mutex       is a pointer to the mutex
 721:rtos/uCOS-III/Source/os_mutex.c **** *
 722:rtos/uCOS-III/Source/os_mutex.c **** *              opt           is an option you can specify to alter the behavior of the post.  The c
 723:rtos/uCOS-III/Source/os_mutex.c **** *
 724:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_POST_NONE        No special option selected
 725:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_OPT_POST_NO_SCHED    If you don't want the scheduler to be call
 726:rtos/uCOS-III/Source/os_mutex.c **** *
 727:rtos/uCOS-III/Source/os_mutex.c **** *              p_err         is a pointer to a variable that will contain an error code returned by
 728:rtos/uCOS-III/Source/os_mutex.c **** *
 729:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_NONE               The call was successful and the mutex wa
 730:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_MUTEX_NESTING      Mutex owner nested its use of the mutex
 731:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_MUTEX_NOT_OWNER    If the task posting is not the Mutex own
 732:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_PTR_NULL       If 'p_mutex' is a NULL pointer
 733:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OBJ_TYPE           If 'p_mutex' is not pointing at a mutex
 734:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OPT_INVALID        If you specified an invalid option
 735:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_OS_NOT_RUNNING     If uC/OS-III is not running yet
 736:rtos/uCOS-III/Source/os_mutex.c **** *                                OS_ERR_POST_ISR           If you attempted to post from an ISR
 737:rtos/uCOS-III/Source/os_mutex.c **** *
 738:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none
 739:rtos/uCOS-III/Source/os_mutex.c **** *
ARM GAS  /tmp/ccv4eJMD.s 			page 17


 740:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : none
 741:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 742:rtos/uCOS-III/Source/os_mutex.c **** */
 743:rtos/uCOS-III/Source/os_mutex.c **** 
 744:rtos/uCOS-III/Source/os_mutex.c **** void  OSMutexPost (OS_MUTEX  *p_mutex,
 745:rtos/uCOS-III/Source/os_mutex.c ****                    OS_OPT     opt,
 746:rtos/uCOS-III/Source/os_mutex.c ****                    OS_ERR    *p_err)
 747:rtos/uCOS-III/Source/os_mutex.c **** {
 748:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 749:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb;
 750:rtos/uCOS-III/Source/os_mutex.c ****     CPU_TS         ts;
 751:rtos/uCOS-III/Source/os_mutex.c ****     OS_PRIO        prio_new;
 752:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
 753:rtos/uCOS-III/Source/os_mutex.c **** 
 754:rtos/uCOS-III/Source/os_mutex.c **** 
 755:rtos/uCOS-III/Source/os_mutex.c **** #ifdef OS_SAFETY_CRITICAL
 756:rtos/uCOS-III/Source/os_mutex.c ****     if (p_err == (OS_ERR *)0) {
 757:rtos/uCOS-III/Source/os_mutex.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 758:rtos/uCOS-III/Source/os_mutex.c ****         return;
 759:rtos/uCOS-III/Source/os_mutex.c ****     }
 760:rtos/uCOS-III/Source/os_mutex.c **** #endif
 761:rtos/uCOS-III/Source/os_mutex.c **** 
 762:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_POST_ENTER(p_mutex, opt);
 763:rtos/uCOS-III/Source/os_mutex.c **** 
 764:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u)
 765:rtos/uCOS-III/Source/os_mutex.c ****     if (OSIntNestingCtr > 0u) {                                 /* Not allowed to call from an ISR 
 766:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 767:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_POST_ISR);
 768:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_POST_ISR;
 769:rtos/uCOS-III/Source/os_mutex.c ****         return;
 770:rtos/uCOS-III/Source/os_mutex.c ****     }
 771:rtos/uCOS-III/Source/os_mutex.c **** #endif
 772:rtos/uCOS-III/Source/os_mutex.c **** 
 773:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_INVALID_OS_CALLS_CHK_EN > 0u)
 774:rtos/uCOS-III/Source/os_mutex.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                     /* Is the kernel running?          
 775:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OS_NOT_RUNNING);
 776:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 777:rtos/uCOS-III/Source/os_mutex.c ****         return;
 778:rtos/uCOS-III/Source/os_mutex.c ****     }
 779:rtos/uCOS-III/Source/os_mutex.c **** #endif
 780:rtos/uCOS-III/Source/os_mutex.c **** 
 781:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_ARG_CHK_EN > 0u)
 782:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex == (OS_MUTEX *)0) {                             /* Validate 'p_mutex'              
 783:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 784:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OBJ_PTR_NULL);
 785:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 786:rtos/uCOS-III/Source/os_mutex.c ****         return;
 787:rtos/uCOS-III/Source/os_mutex.c ****     }
 788:rtos/uCOS-III/Source/os_mutex.c ****     switch (opt) {                                              /* Validate 'opt'                  
 789:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_POST_NONE:
 790:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_POST_NO_SCHED:
 791:rtos/uCOS-III/Source/os_mutex.c ****              break;
 792:rtos/uCOS-III/Source/os_mutex.c **** 
 793:rtos/uCOS-III/Source/os_mutex.c ****         default:
 794:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 795:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OPT_INVALID);
 796:rtos/uCOS-III/Source/os_mutex.c ****             *p_err =  OS_ERR_OPT_INVALID;
ARM GAS  /tmp/ccv4eJMD.s 			page 18


 797:rtos/uCOS-III/Source/os_mutex.c ****              return;
 798:rtos/uCOS-III/Source/os_mutex.c ****     }
 799:rtos/uCOS-III/Source/os_mutex.c **** #endif
 800:rtos/uCOS-III/Source/os_mutex.c **** 
 801:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_OBJ_TYPE_CHK_EN > 0u)
 802:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->Type != OS_OBJ_TYPE_MUTEX) {                   /* Make sure mutex was created     
 803:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 804:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OBJ_TYPE);
 805:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_TYPE;
 806:rtos/uCOS-III/Source/os_mutex.c ****         return;
 807:rtos/uCOS-III/Source/os_mutex.c ****     }
 808:rtos/uCOS-III/Source/os_mutex.c **** #endif
 809:rtos/uCOS-III/Source/os_mutex.c **** 
 810:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_ENTER();
 811:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 812:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 813:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 814:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NOT_OWNER);
 815:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_MUTEX_NOT_OWNER;
 816:rtos/uCOS-III/Source/os_mutex.c ****         return;
 817:rtos/uCOS-III/Source/os_mutex.c ****     }
 818:rtos/uCOS-III/Source/os_mutex.c **** 
 819:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_POST(p_mutex);
 820:rtos/uCOS-III/Source/os_mutex.c **** 
 821:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 822:rtos/uCOS-III/Source/os_mutex.c ****     ts          = OS_TS_GET();                                  /* Get timestamp                   
 823:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->TS = ts;
 824:rtos/uCOS-III/Source/os_mutex.c **** #else
 825:rtos/uCOS-III/Source/os_mutex.c ****     ts          = 0u;
 826:rtos/uCOS-III/Source/os_mutex.c **** #endif
 827:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerNestingCtr--;                                 /* Decrement owner's nesting counte
 828:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr > 0u) {                        /* Are we done with all nestings?  
 829:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();                                     /* No                             
 830:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NESTING);
 831:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_MUTEX_NESTING;
 832:rtos/uCOS-III/Source/os_mutex.c ****         return;
 833:rtos/uCOS-III/Source/os_mutex.c ****     }
 834:rtos/uCOS-III/Source/os_mutex.c **** 
 835:rtos/uCOS-III/Source/os_mutex.c ****     OS_MutexGrpRemove(OSTCBCurPtr, p_mutex);                    /* Remove mutex from owner's group 
 836:rtos/uCOS-III/Source/os_mutex.c **** 
 837:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 838:rtos/uCOS-III/Source/os_mutex.c ****     if (p_pend_list->HeadPtr == (OS_TCB *)0) {                  /* Any task waiting on mutex?      
 839:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = (OS_TCB *)0;                 /* No                              
 840:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr =           0u;
 841:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 842:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_NONE);
 843:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_NONE;
 844:rtos/uCOS-III/Source/os_mutex.c ****         return;
 845:rtos/uCOS-III/Source/os_mutex.c ****     }
 846:rtos/uCOS-III/Source/os_mutex.c ****                                                                 /* Yes                             
 847:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr->Prio != OSTCBCurPtr->BasePrio) {           /* Has owner inherited a priority? 
 848:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = OS_MutexGrpPrioFindHighest(OSTCBCurPtr);     /* Yes, find highest priority pendi
 849:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = (prio_new > OSTCBCurPtr->BasePrio) ? OSTCBCurPtr->BasePrio : prio_new;
 850:rtos/uCOS-III/Source/os_mutex.c ****         if (prio_new > OSTCBCurPtr->Prio) {
 851:rtos/uCOS-III/Source/os_mutex.c ****             OS_RdyListRemove(OSTCBCurPtr);
 852:rtos/uCOS-III/Source/os_mutex.c ****             OSTCBCurPtr->Prio = prio_new;                       /* Lower owner's priority back to i
 853:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(OSTCBCurPtr, prio_new);
ARM GAS  /tmp/ccv4eJMD.s 			page 19


 854:rtos/uCOS-III/Source/os_mutex.c ****             OS_PrioInsert(prio_new);
 855:rtos/uCOS-III/Source/os_mutex.c ****             OS_RdyListInsertTail(OSTCBCurPtr);                  /* Insert owner in ready list at ne
 856:rtos/uCOS-III/Source/os_mutex.c ****             OSPrioCur         = prio_new;
 857:rtos/uCOS-III/Source/os_mutex.c ****         }
 858:rtos/uCOS-III/Source/os_mutex.c ****     }
 859:rtos/uCOS-III/Source/os_mutex.c ****                                                                 /* Get TCB from head of pend list  
 860:rtos/uCOS-III/Source/os_mutex.c ****     p_tcb                    = p_pend_list->HeadPtr;
 861:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerTCBPtr     = p_tcb;                           /* Give mutex to new owner         
 862:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerNestingCtr = 1u;
 863:rtos/uCOS-III/Source/os_mutex.c ****     OS_MutexGrpAdd(p_tcb, p_mutex);
 864:rtos/uCOS-III/Source/os_mutex.c ****                                                                 /* Post to mutex                   
 865:rtos/uCOS-III/Source/os_mutex.c ****     OS_Post((OS_PEND_OBJ *)((void *)p_mutex),
 866:rtos/uCOS-III/Source/os_mutex.c ****                            p_tcb,
 867:rtos/uCOS-III/Source/os_mutex.c ****                            (void *)0,
 868:rtos/uCOS-III/Source/os_mutex.c ****                            0u,
 869:rtos/uCOS-III/Source/os_mutex.c ****                            ts);
 870:rtos/uCOS-III/Source/os_mutex.c **** 
 871:rtos/uCOS-III/Source/os_mutex.c ****     CPU_CRITICAL_EXIT();
 872:rtos/uCOS-III/Source/os_mutex.c **** 
 873:rtos/uCOS-III/Source/os_mutex.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == 0u) {
 874:rtos/uCOS-III/Source/os_mutex.c ****         OSSched();                                              /* Run the scheduler               
 875:rtos/uCOS-III/Source/os_mutex.c ****     }
 876:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_POST_EXIT(OS_ERR_NONE);
 877:rtos/uCOS-III/Source/os_mutex.c ****    *p_err = OS_ERR_NONE;
 878:rtos/uCOS-III/Source/os_mutex.c **** }
 879:rtos/uCOS-III/Source/os_mutex.c **** 
 880:rtos/uCOS-III/Source/os_mutex.c **** 
 881:rtos/uCOS-III/Source/os_mutex.c **** /*
 882:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 883:rtos/uCOS-III/Source/os_mutex.c **** *                                            CLEAR THE CONTENTS OF A MUTEX
 884:rtos/uCOS-III/Source/os_mutex.c **** *
 885:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function is called by OSMutexDel() to clear the contents of a mutex
 886:rtos/uCOS-III/Source/os_mutex.c **** *
 887:rtos/uCOS-III/Source/os_mutex.c **** 
 888:rtos/uCOS-III/Source/os_mutex.c **** * Argument(s): p_mutex      is a pointer to the mutex to clear
 889:rtos/uCOS-III/Source/os_mutex.c **** *              -------
 890:rtos/uCOS-III/Source/os_mutex.c **** *
 891:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none
 892:rtos/uCOS-III/Source/os_mutex.c **** *
 893:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
 894:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 895:rtos/uCOS-III/Source/os_mutex.c **** */
 896:rtos/uCOS-III/Source/os_mutex.c **** 
 897:rtos/uCOS-III/Source/os_mutex.c **** void  OS_MutexClr (OS_MUTEX  *p_mutex)
 898:rtos/uCOS-III/Source/os_mutex.c **** {
 163              		.loc 1 898 1 view -0
 164              		.cfi_startproc
 165              		@ args = 0, pretend = 0, frame = 0
 166              		@ frame_needed = 0, uses_anonymous_args = 0
 167              		.loc 1 898 1 is_stmt 0 view .LVU53
 168 0000 08B5     		push	{r3, lr}
 169              	.LCFI1:
 170              		.cfi_def_cfa_offset 8
 171              		.cfi_offset 3, -8
 172              		.cfi_offset 14, -4
 899:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_OBJ_TYPE_REQ > 0u)
 900:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->Type              =  OS_OBJ_TYPE_NONE;             /* Mark the data structure as a NON
ARM GAS  /tmp/ccv4eJMD.s 			page 20


 173              		.loc 1 900 5 is_stmt 1 view .LVU54
 174              		.loc 1 900 32 is_stmt 0 view .LVU55
 175 0002 054B     		ldr	r3, .L14
 176 0004 0360     		str	r3, [r0]
 901:rtos/uCOS-III/Source/os_mutex.c **** #endif
 902:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 903:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->NamePtr           = (CPU_CHAR *)((void *)"?MUTEX");
 904:rtos/uCOS-III/Source/os_mutex.c **** #endif
 905:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->MutexGrpNextPtr   = (OS_MUTEX *)0;
 177              		.loc 1 905 5 is_stmt 1 view .LVU56
 178              		.loc 1 905 32 is_stmt 0 view .LVU57
 179 0006 0023     		movs	r3, #0
 180 0008 C360     		str	r3, [r0, #12]
 906:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerTCBPtr       = (OS_TCB   *)0;
 181              		.loc 1 906 5 is_stmt 1 view .LVU58
 182              		.loc 1 906 32 is_stmt 0 view .LVU59
 183 000a 0361     		str	r3, [r0, #16]
 907:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerNestingCtr   =             0u;
 184              		.loc 1 907 5 is_stmt 1 view .LVU60
 185              		.loc 1 907 32 is_stmt 0 view .LVU61
 186 000c 0375     		strb	r3, [r0, #20]
 908:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 909:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->TS                =             0u;
 910:rtos/uCOS-III/Source/os_mutex.c **** #endif
 911:rtos/uCOS-III/Source/os_mutex.c ****     OS_PendListInit(&p_mutex->PendList);                        /* Initialize the waiting list     
 187              		.loc 1 911 5 is_stmt 1 view .LVU62
 188 000e 0430     		adds	r0, r0, #4
 189              	.LVL13:
 190              		.loc 1 911 5 is_stmt 0 view .LVU63
 191 0010 FFF7FEFF 		bl	OS_PendListInit
 192              	.LVL14:
 912:rtos/uCOS-III/Source/os_mutex.c **** }
 193              		.loc 1 912 1 view .LVU64
 194 0014 08BD     		pop	{r3, pc}
 195              	.L15:
 196 0016 00BF     		.align	2
 197              	.L14:
 198 0018 4E4F4E45 		.word	1162760014
 199              		.cfi_endproc
 200              	.LFE5:
 202              		.section	.text.OS_MutexGrpAdd,"ax",%progbits
 203              		.align	1
 204              		.global	OS_MutexGrpAdd
 205              		.syntax unified
 206              		.thumb
 207              		.thumb_func
 208              		.fpu fpv4-sp-d16
 210              	OS_MutexGrpAdd:
 211              	.LVL15:
 212              	.LFB6:
 913:rtos/uCOS-III/Source/os_mutex.c **** 
 914:rtos/uCOS-III/Source/os_mutex.c **** 
 915:rtos/uCOS-III/Source/os_mutex.c **** /*
 916:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 917:rtos/uCOS-III/Source/os_mutex.c **** *                                          ADD/REMOVE MUTEX TO/FROM DEBUG LIST
 918:rtos/uCOS-III/Source/os_mutex.c **** *
 919:rtos/uCOS-III/Source/os_mutex.c **** * Description: These functions are called by uC/OS-III to add or remove a mutex to/from the debug l
ARM GAS  /tmp/ccv4eJMD.s 			page 21


 920:rtos/uCOS-III/Source/os_mutex.c **** *
 921:rtos/uCOS-III/Source/os_mutex.c **** * Arguments  : p_mutex     is a pointer to the mutex to add/remove
 922:rtos/uCOS-III/Source/os_mutex.c **** *
 923:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none
 924:rtos/uCOS-III/Source/os_mutex.c **** *
 925:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : These functions are INTERNAL to uC/OS-III and your application should not call it.
 926:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 927:rtos/uCOS-III/Source/os_mutex.c **** */
 928:rtos/uCOS-III/Source/os_mutex.c **** 
 929:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 930:rtos/uCOS-III/Source/os_mutex.c **** void  OS_MutexDbgListAdd (OS_MUTEX  *p_mutex)
 931:rtos/uCOS-III/Source/os_mutex.c **** {
 932:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->DbgNamePtr               = (CPU_CHAR *)((void *)" ");
 933:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->DbgPrevPtr               = (OS_MUTEX *)0;
 934:rtos/uCOS-III/Source/os_mutex.c ****     if (OSMutexDbgListPtr == (OS_MUTEX *)0) {
 935:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->DbgNextPtr           = (OS_MUTEX *)0;
 936:rtos/uCOS-III/Source/os_mutex.c ****     } else {
 937:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->DbgNextPtr           =  OSMutexDbgListPtr;
 938:rtos/uCOS-III/Source/os_mutex.c ****         OSMutexDbgListPtr->DbgPrevPtr =  p_mutex;
 939:rtos/uCOS-III/Source/os_mutex.c ****     }
 940:rtos/uCOS-III/Source/os_mutex.c ****     OSMutexDbgListPtr                 =  p_mutex;
 941:rtos/uCOS-III/Source/os_mutex.c **** }
 942:rtos/uCOS-III/Source/os_mutex.c **** 
 943:rtos/uCOS-III/Source/os_mutex.c **** 
 944:rtos/uCOS-III/Source/os_mutex.c **** void  OS_MutexDbgListRemove (OS_MUTEX  *p_mutex)
 945:rtos/uCOS-III/Source/os_mutex.c **** {
 946:rtos/uCOS-III/Source/os_mutex.c ****     OS_MUTEX  *p_mutex_next;
 947:rtos/uCOS-III/Source/os_mutex.c ****     OS_MUTEX  *p_mutex_prev;
 948:rtos/uCOS-III/Source/os_mutex.c **** 
 949:rtos/uCOS-III/Source/os_mutex.c **** 
 950:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex_prev = p_mutex->DbgPrevPtr;
 951:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex_next = p_mutex->DbgNextPtr;
 952:rtos/uCOS-III/Source/os_mutex.c **** 
 953:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex_prev == (OS_MUTEX *)0) {
 954:rtos/uCOS-III/Source/os_mutex.c ****         OSMutexDbgListPtr = p_mutex_next;
 955:rtos/uCOS-III/Source/os_mutex.c ****         if (p_mutex_next != (OS_MUTEX *)0) {
 956:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex_next->DbgPrevPtr = (OS_MUTEX *)0;
 957:rtos/uCOS-III/Source/os_mutex.c ****         }
 958:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->DbgNextPtr = (OS_MUTEX *)0;
 959:rtos/uCOS-III/Source/os_mutex.c **** 
 960:rtos/uCOS-III/Source/os_mutex.c ****     } else if (p_mutex_next == (OS_MUTEX *)0) {
 961:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex_prev->DbgNextPtr = (OS_MUTEX *)0;
 962:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->DbgPrevPtr      = (OS_MUTEX *)0;
 963:rtos/uCOS-III/Source/os_mutex.c **** 
 964:rtos/uCOS-III/Source/os_mutex.c ****     } else {
 965:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex_prev->DbgNextPtr =  p_mutex_next;
 966:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex_next->DbgPrevPtr =  p_mutex_prev;
 967:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->DbgNextPtr      = (OS_MUTEX *)0;
 968:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->DbgPrevPtr      = (OS_MUTEX *)0;
 969:rtos/uCOS-III/Source/os_mutex.c ****     }
 970:rtos/uCOS-III/Source/os_mutex.c **** }
 971:rtos/uCOS-III/Source/os_mutex.c **** #endif
 972:rtos/uCOS-III/Source/os_mutex.c **** 
 973:rtos/uCOS-III/Source/os_mutex.c **** 
 974:rtos/uCOS-III/Source/os_mutex.c **** /*
 975:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 976:rtos/uCOS-III/Source/os_mutex.c **** *                                               MUTEX GROUP ADD
ARM GAS  /tmp/ccv4eJMD.s 			page 22


 977:rtos/uCOS-III/Source/os_mutex.c **** *
 978:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function is called by the kernel to add a mutex to a task's mutex group.
 979:rtos/uCOS-III/Source/os_mutex.c **** *
 980:rtos/uCOS-III/Source/os_mutex.c **** 
 981:rtos/uCOS-III/Source/os_mutex.c **** * Argument(s): p_tcb        is a pointer to the tcb of the task to give the mutex to.
 982:rtos/uCOS-III/Source/os_mutex.c **** *
 983:rtos/uCOS-III/Source/os_mutex.c **** *              p_mutex      is a point to the mutex to add to the group.
 984:rtos/uCOS-III/Source/os_mutex.c **** *
 985:rtos/uCOS-III/Source/os_mutex.c **** *
 986:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none
 987:rtos/uCOS-III/Source/os_mutex.c **** *
 988:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 989:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
 990:rtos/uCOS-III/Source/os_mutex.c **** */
 991:rtos/uCOS-III/Source/os_mutex.c **** 
 992:rtos/uCOS-III/Source/os_mutex.c **** void  OS_MutexGrpAdd (OS_TCB  *p_tcb, OS_MUTEX  *p_mutex)
 993:rtos/uCOS-III/Source/os_mutex.c **** {
 213              		.loc 1 993 1 is_stmt 1 view -0
 214              		.cfi_startproc
 215              		@ args = 0, pretend = 0, frame = 0
 216              		@ frame_needed = 0, uses_anonymous_args = 0
 217              		@ link register save eliminated.
 994:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->MutexGrpNextPtr = p_tcb->MutexGrpHeadPtr;      /* The mutex grp is not sorted add to h
 218              		.loc 1 994 5 view .LVU66
 219              		.loc 1 994 37 is_stmt 0 view .LVU67
 220 0000 436B     		ldr	r3, [r0, #52]
 221              		.loc 1 994 30 view .LVU68
 222 0002 CB60     		str	r3, [r1, #12]
 995:rtos/uCOS-III/Source/os_mutex.c ****     p_tcb->MutexGrpHeadPtr   = p_mutex;
 223              		.loc 1 995 5 is_stmt 1 view .LVU69
 224              		.loc 1 995 30 is_stmt 0 view .LVU70
 225 0004 4163     		str	r1, [r0, #52]
 996:rtos/uCOS-III/Source/os_mutex.c **** }
 226              		.loc 1 996 1 view .LVU71
 227 0006 7047     		bx	lr
 228              		.cfi_endproc
 229              	.LFE6:
 231              		.section	.text.OSMutexPend,"ax",%progbits
 232              		.align	1
 233              		.global	OSMutexPend
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
 237              		.fpu fpv4-sp-d16
 239              	OSMutexPend:
 240              	.LVL16:
 241              	.LFB2:
 366:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB  *p_tcb;
 242              		.loc 1 366 1 is_stmt 1 view -0
 243              		.cfi_startproc
 244              		@ args = 4, pretend = 0, frame = 0
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 366:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB  *p_tcb;
 246              		.loc 1 366 1 is_stmt 0 view .LVU73
 247 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 248              	.LCFI2:
 249              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccv4eJMD.s 			page 23


 250              		.cfi_offset 3, -24
 251              		.cfi_offset 4, -20
 252              		.cfi_offset 5, -16
 253              		.cfi_offset 6, -12
 254              		.cfi_offset 7, -8
 255              		.cfi_offset 14, -4
 367:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
 256              		.loc 1 367 5 is_stmt 1 view .LVU74
 368:rtos/uCOS-III/Source/os_mutex.c **** 
 257              		.loc 1 368 5 view .LVU75
 258              	.LVL17:
 372:rtos/uCOS-III/Source/os_mutex.c **** #endif
 259              		.loc 1 372 5 view .LVU76
 382:rtos/uCOS-III/Source/os_mutex.c **** 
 260              		.loc 1 382 59 view .LVU77
 394:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 261              		.loc 1 394 5 view .LVU78
 394:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 262              		.loc 1 394 25 is_stmt 0 view .LVU79
 263 0002 564B     		ldr	r3, .L46
 264              	.LVL18:
 394:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 265              		.loc 1 394 25 view .LVU80
 266 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 394:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 267              		.loc 1 394 8 view .LVU81
 268 0006 5BB9     		cbnz	r3, .L38
 269 0008 0646     		mov	r6, r0
 270 000a 0D46     		mov	r5, r1
 271 000c 1446     		mov	r4, r2
 403:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 272              		.loc 1 403 5 is_stmt 1 view .LVU82
 403:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 273              		.loc 1 403 19 is_stmt 0 view .LVU83
 274 000e 544B     		ldr	r3, .L46+4
 275 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 403:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OS_NOT_RUNNING);
 276              		.loc 1 403 8 view .LVU84
 277 0012 012B     		cmp	r3, #1
 278 0014 09D0     		beq	.L20
 404:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 279              		.loc 1 404 56 is_stmt 1 view .LVU85
 405:rtos/uCOS-III/Source/os_mutex.c ****         return;
 280              		.loc 1 405 8 view .LVU86
 405:rtos/uCOS-III/Source/os_mutex.c ****         return;
 281              		.loc 1 405 15 is_stmt 0 view .LVU87
 282 0016 45F68963 		movw	r3, #24201
 283 001a 069A     		ldr	r2, [sp, #24]
 284              	.LVL19:
 405:rtos/uCOS-III/Source/os_mutex.c ****         return;
 285              		.loc 1 405 15 view .LVU88
 286 001c 1380     		strh	r3, [r2]	@ movhi
 406:rtos/uCOS-III/Source/os_mutex.c ****     }
 287              		.loc 1 406 9 is_stmt 1 view .LVU89
 288 001e 03E0     		b	.L17
 289              	.LVL20:
 290              	.L38:
ARM GAS  /tmp/ccv4eJMD.s 			page 24


 395:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_PEND_ISR);
 291              		.loc 1 395 44 view .LVU90
 396:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_PEND_ISR;
 292              		.loc 1 396 50 view .LVU91
 397:rtos/uCOS-III/Source/os_mutex.c ****         return;
 293              		.loc 1 397 8 view .LVU92
 397:rtos/uCOS-III/Source/os_mutex.c ****         return;
 294              		.loc 1 397 15 is_stmt 0 view .LVU93
 295 0020 46F2AE13 		movw	r3, #25006
 296 0024 069A     		ldr	r2, [sp, #24]
 297              	.LVL21:
 397:rtos/uCOS-III/Source/os_mutex.c ****         return;
 298              		.loc 1 397 15 view .LVU94
 299 0026 1380     		strh	r3, [r2]	@ movhi
 398:rtos/uCOS-III/Source/os_mutex.c ****     }
 300              		.loc 1 398 9 is_stmt 1 view .LVU95
 301              	.LVL22:
 302              	.L17:
 567:rtos/uCOS-III/Source/os_mutex.c **** 
 303              		.loc 1 567 1 is_stmt 0 view .LVU96
 304 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 305              	.LVL23:
 306              	.L20:
 411:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 307              		.loc 1 411 5 is_stmt 1 view .LVU97
 411:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 308              		.loc 1 411 8 is_stmt 0 view .LVU98
 309 002a 40B1     		cbz	r0, .L39
 417:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_BLOCKING:
 310              		.loc 1 417 5 is_stmt 1 view .LVU99
 311 002c 62B1     		cbz	r2, .L22
 312 002e B2F5004F 		cmp	r2, #32768
 313 0032 09D0     		beq	.L22
 423:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OPT_INVALID);
 314              		.loc 1 423 49 view .LVU100
 424:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 315              		.loc 1 424 58 view .LVU101
 425:rtos/uCOS-III/Source/os_mutex.c ****              return;
 316              		.loc 1 425 13 view .LVU102
 425:rtos/uCOS-III/Source/os_mutex.c ****              return;
 317              		.loc 1 425 20 is_stmt 0 view .LVU103
 318 0034 45F62563 		movw	r3, #24101
 319 0038 069A     		ldr	r2, [sp, #24]
 320              	.LVL24:
 425:rtos/uCOS-III/Source/os_mutex.c ****              return;
 321              		.loc 1 425 20 view .LVU104
 322 003a 1380     		strh	r3, [r2]	@ movhi
 426:rtos/uCOS-III/Source/os_mutex.c ****     }
 323              		.loc 1 426 14 is_stmt 1 view .LVU105
 324 003c F4E7     		b	.L17
 325              	.LVL25:
 326              	.L39:
 412:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OBJ_PTR_NULL);
 327              		.loc 1 412 44 view .LVU106
 413:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 328              		.loc 1 413 54 view .LVU107
 414:rtos/uCOS-III/Source/os_mutex.c ****         return;
ARM GAS  /tmp/ccv4eJMD.s 			page 25


 329              		.loc 1 414 8 view .LVU108
 414:rtos/uCOS-III/Source/os_mutex.c ****         return;
 330              		.loc 1 414 15 is_stmt 0 view .LVU109
 331 003e 45F6C353 		movw	r3, #24003
 332 0042 069A     		ldr	r2, [sp, #24]
 333              	.LVL26:
 414:rtos/uCOS-III/Source/os_mutex.c ****         return;
 334              		.loc 1 414 15 view .LVU110
 335 0044 1380     		strh	r3, [r2]	@ movhi
 415:rtos/uCOS-III/Source/os_mutex.c ****     }
 336              		.loc 1 415 9 is_stmt 1 view .LVU111
 337 0046 EFE7     		b	.L17
 338              	.LVL27:
 339              	.L22:
 420:rtos/uCOS-III/Source/os_mutex.c **** 
 340              		.loc 1 420 14 view .LVU112
 431:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 341              		.loc 1 431 5 view .LVU113
 431:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 342              		.loc 1 431 16 is_stmt 0 view .LVU114
 343 0048 3268     		ldr	r2, [r6]
 344              	.LVL28:
 431:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 345              		.loc 1 431 8 view .LVU115
 346 004a 464B     		ldr	r3, .L46+8
 347 004c 9A42     		cmp	r2, r3
 348 004e 04D0     		beq	.L23
 432:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_OBJ_TYPE);
 349              		.loc 1 432 44 is_stmt 1 view .LVU116
 433:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_TYPE;
 350              		.loc 1 433 50 view .LVU117
 434:rtos/uCOS-III/Source/os_mutex.c ****         return;
 351              		.loc 1 434 8 view .LVU118
 434:rtos/uCOS-III/Source/os_mutex.c ****         return;
 352              		.loc 1 434 15 is_stmt 0 view .LVU119
 353 0050 45F6C453 		movw	r3, #24004
 354 0054 069A     		ldr	r2, [sp, #24]
 355 0056 1380     		strh	r3, [r2]	@ movhi
 435:rtos/uCOS-III/Source/os_mutex.c ****     }
 356              		.loc 1 435 9 is_stmt 1 view .LVU120
 357 0058 E6E7     		b	.L17
 358              	.L23:
 439:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 359              		.loc 1 439 5 view .LVU121
 439:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 360              		.loc 1 439 5 view .LVU122
 439:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 361              		.loc 1 439 5 view .LVU123
 362 005a 4020     		movs	r0, #64
 363              	.LVL29:
 439:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 364              		.loc 1 439 5 is_stmt 0 view .LVU124
 365 005c FFF7FEFF 		bl	CPU_SR_Save
 366              	.LVL30:
 439:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 367              		.loc 1 439 5 view .LVU125
 368 0060 0746     		mov	r7, r0
ARM GAS  /tmp/ccv4eJMD.s 			page 26


 369              	.LVL31:
 439:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 370              		.loc 1 439 5 is_stmt 1 view .LVU126
 439:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr == 0u) {                       /* Resource available?             
 371              		.loc 1 439 5 view .LVU127
 440:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = OSTCBCurPtr;                 /* Yes, caller may proceed         
 372              		.loc 1 440 5 view .LVU128
 440:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = OSTCBCurPtr;                 /* Yes, caller may proceed         
 373              		.loc 1 440 16 is_stmt 0 view .LVU129
 374 0062 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 440:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = OSTCBCurPtr;                 /* Yes, caller may proceed         
 375              		.loc 1 440 8 view .LVU130
 376 0064 4BB3     		cbz	r3, .L40
 456:rtos/uCOS-III/Source/os_mutex.c ****         if (p_mutex->OwnerNestingCtr == (OS_NESTING_CTR)-1) {
 377              		.loc 1 456 5 is_stmt 1 view .LVU131
 456:rtos/uCOS-III/Source/os_mutex.c ****         if (p_mutex->OwnerNestingCtr == (OS_NESTING_CTR)-1) {
 378              		.loc 1 456 31 is_stmt 0 view .LVU132
 379 0066 3069     		ldr	r0, [r6, #16]
 380              	.LVL32:
 456:rtos/uCOS-III/Source/os_mutex.c ****         if (p_mutex->OwnerNestingCtr == (OS_NESTING_CTR)-1) {
 381              		.loc 1 456 21 view .LVU133
 382 0068 3F49     		ldr	r1, .L46+12
 383 006a 0968     		ldr	r1, [r1]
 456:rtos/uCOS-III/Source/os_mutex.c ****         if (p_mutex->OwnerNestingCtr == (OS_NESTING_CTR)-1) {
 384              		.loc 1 456 8 view .LVU134
 385 006c 8842     		cmp	r0, r1
 386 006e 33D0     		beq	.L41
 477:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 387              		.loc 1 477 5 is_stmt 1 view .LVU135
 477:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 388              		.loc 1 477 8 is_stmt 0 view .LVU136
 389 0070 14F4004F 		tst	r4, #32768
 390 0074 44D1     		bne	.L42
 489:rtos/uCOS-III/Source/os_mutex.c ****             CPU_CRITICAL_EXIT();
 391              		.loc 1 489 9 is_stmt 1 view .LVU137
 489:rtos/uCOS-III/Source/os_mutex.c ****             CPU_CRITICAL_EXIT();
 392              		.loc 1 489 35 is_stmt 0 view .LVU138
 393 0076 3D4B     		ldr	r3, .L46+16
 394 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 489:rtos/uCOS-III/Source/os_mutex.c ****             CPU_CRITICAL_EXIT();
 395              		.loc 1 489 12 view .LVU139
 396 007a 002B     		cmp	r3, #0
 397 007c 48D1     		bne	.L43
 503:rtos/uCOS-III/Source/os_mutex.c ****     if (p_tcb->Prio > OSTCBCurPtr->Prio) {                      /* See if mutex owner has a lower p
 398              		.loc 1 503 5 is_stmt 1 view .LVU140
 399              	.LVL33:
 504:rtos/uCOS-III/Source/os_mutex.c ****         OS_TaskChangePrio(p_tcb, OSTCBCurPtr->Prio);
 400              		.loc 1 504 5 view .LVU141
 504:rtos/uCOS-III/Source/os_mutex.c ****         OS_TaskChangePrio(p_tcb, OSTCBCurPtr->Prio);
 401              		.loc 1 504 14 is_stmt 0 view .LVU142
 402 007e 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
 504:rtos/uCOS-III/Source/os_mutex.c ****         OS_TaskChangePrio(p_tcb, OSTCBCurPtr->Prio);
 403              		.loc 1 504 34 view .LVU143
 404 0082 91F82F10 		ldrb	r1, [r1, #47]	@ zero_extendqisi2
 504:rtos/uCOS-III/Source/os_mutex.c ****         OS_TaskChangePrio(p_tcb, OSTCBCurPtr->Prio);
 405              		.loc 1 504 8 view .LVU144
 406 0086 8B42     		cmp	r3, r1
ARM GAS  /tmp/ccv4eJMD.s 			page 27


 407 0088 4AD8     		bhi	.L44
 408              	.LVL34:
 409              	.L29:
 506:rtos/uCOS-III/Source/os_mutex.c ****     }
 410              		.loc 1 506 61 is_stmt 1 view .LVU145
 509:rtos/uCOS-III/Source/os_mutex.c ****              OSTCBCurPtr,
 411              		.loc 1 509 5 view .LVU146
 412 008a 374C     		ldr	r4, .L46+12
 413 008c 2B46     		mov	r3, r5
 414 008e 0422     		movs	r2, #4
 415 0090 2168     		ldr	r1, [r4]
 416 0092 3046     		mov	r0, r6
 417 0094 FFF7FEFF 		bl	OS_Pend
 418              	.LVL35:
 514:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_BLOCK(p_mutex);
 419              		.loc 1 514 5 view .LVU147
 514:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_BLOCK(p_mutex);
 420              		.loc 1 514 5 view .LVU148
 514:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_BLOCK(p_mutex);
 421              		.loc 1 514 5 view .LVU149
 422 0098 3846     		mov	r0, r7
 423 009a FFF7FEFF 		bl	CPU_SR_Restore
 424              	.LVL36:
 514:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_BLOCK(p_mutex);
 425              		.loc 1 514 5 view .LVU150
 514:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_BLOCK(p_mutex);
 426              		.loc 1 514 5 view .LVU151
 515:rtos/uCOS-III/Source/os_mutex.c ****     OSSched();                                                  /* Find the next highest priority t
 427              		.loc 1 515 39 view .LVU152
 516:rtos/uCOS-III/Source/os_mutex.c **** 
 428              		.loc 1 516 5 view .LVU153
 429 009e FFF7FEFF 		bl	OSSched
 430              	.LVL37:
 518:rtos/uCOS-III/Source/os_mutex.c ****     switch (OSTCBCurPtr->PendStatus) {
 431              		.loc 1 518 5 view .LVU154
 518:rtos/uCOS-III/Source/os_mutex.c ****     switch (OSTCBCurPtr->PendStatus) {
 432              		.loc 1 518 5 view .LVU155
 518:rtos/uCOS-III/Source/os_mutex.c ****     switch (OSTCBCurPtr->PendStatus) {
 433              		.loc 1 518 5 view .LVU156
 434 00a2 4020     		movs	r0, #64
 435 00a4 FFF7FEFF 		bl	CPU_SR_Save
 436              	.LVL38:
 518:rtos/uCOS-III/Source/os_mutex.c ****     switch (OSTCBCurPtr->PendStatus) {
 437              		.loc 1 518 5 view .LVU157
 518:rtos/uCOS-III/Source/os_mutex.c ****     switch (OSTCBCurPtr->PendStatus) {
 438              		.loc 1 518 5 view .LVU158
 519:rtos/uCOS-III/Source/os_mutex.c ****         case OS_STATUS_PEND_OK:                                 /* We got the mutex                
 439              		.loc 1 519 5 view .LVU159
 519:rtos/uCOS-III/Source/os_mutex.c ****         case OS_STATUS_PEND_OK:                                 /* We got the mutex                
 440              		.loc 1 519 24 is_stmt 0 view .LVU160
 441 00a8 2368     		ldr	r3, [r4]
 442 00aa 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
 443 00ae 032B     		cmp	r3, #3
 444 00b0 4ED8     		bhi	.L30
 445 00b2 DFE803F0 		tbb	[pc, r3]
 446              	.L32:
 447 00b6 38       		.byte	(.L35-.L32)/2
ARM GAS  /tmp/ccv4eJMD.s 			page 28


 448 00b7 3E       		.byte	(.L34-.L32)/2
 449 00b8 48       		.byte	(.L33-.L32)/2
 450 00b9 43       		.byte	(.L31-.L32)/2
 451              		.p2align 1
 452              	.L40:
 441:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr = 1u;
 453              		.loc 1 441 9 is_stmt 1 view .LVU161
 441:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr = 1u;
 454              		.loc 1 441 34 is_stmt 0 view .LVU162
 455 00ba 2B4B     		ldr	r3, .L46+12
 456 00bc 1868     		ldr	r0, [r3]
 457              	.LVL39:
 441:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr = 1u;
 458              		.loc 1 441 34 view .LVU163
 459 00be 3061     		str	r0, [r6, #16]
 442:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 460              		.loc 1 442 9 is_stmt 1 view .LVU164
 442:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 461              		.loc 1 442 34 is_stmt 0 view .LVU165
 462 00c0 0123     		movs	r3, #1
 463 00c2 3375     		strb	r3, [r6, #20]
 448:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 464              		.loc 1 448 9 is_stmt 1 view .LVU166
 465 00c4 3146     		mov	r1, r6
 466 00c6 FFF7FEFF 		bl	OS_MutexGrpAdd
 467              	.LVL40:
 449:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND(p_mutex);
 468              		.loc 1 449 9 view .LVU167
 449:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND(p_mutex);
 469              		.loc 1 449 9 view .LVU168
 449:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND(p_mutex);
 470              		.loc 1 449 9 view .LVU169
 471 00ca 3846     		mov	r0, r7
 472 00cc FFF7FEFF 		bl	CPU_SR_Restore
 473              	.LVL41:
 449:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND(p_mutex);
 474              		.loc 1 449 9 view .LVU170
 449:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND(p_mutex);
 475              		.loc 1 449 9 view .LVU171
 450:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_NONE);
 476              		.loc 1 450 37 view .LVU172
 451:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_NONE;
 477              		.loc 1 451 46 view .LVU173
 452:rtos/uCOS-III/Source/os_mutex.c ****         return;
 478              		.loc 1 452 8 view .LVU174
 452:rtos/uCOS-III/Source/os_mutex.c ****         return;
 479              		.loc 1 452 15 is_stmt 0 view .LVU175
 480 00d0 0023     		movs	r3, #0
 481 00d2 069A     		ldr	r2, [sp, #24]
 482 00d4 1380     		strh	r3, [r2]	@ movhi
 453:rtos/uCOS-III/Source/os_mutex.c ****     }
 483              		.loc 1 453 9 is_stmt 1 view .LVU176
 484 00d6 A7E7     		b	.L17
 485              	.L41:
 457:rtos/uCOS-III/Source/os_mutex.c ****             CPU_CRITICAL_EXIT();
 486              		.loc 1 457 9 view .LVU177
 457:rtos/uCOS-III/Source/os_mutex.c ****             CPU_CRITICAL_EXIT();
ARM GAS  /tmp/ccv4eJMD.s 			page 29


 487              		.loc 1 457 12 is_stmt 0 view .LVU178
 488 00d8 FF2B     		cmp	r3, #255
 489 00da 09D0     		beq	.L45
 464:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 490              		.loc 1 464 9 is_stmt 1 view .LVU179
 464:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 491              		.loc 1 464 33 is_stmt 0 view .LVU180
 492 00dc 0133     		adds	r3, r3, #1
 493 00de 3375     		strb	r3, [r6, #20]
 470:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 494              		.loc 1 470 9 is_stmt 1 view .LVU181
 470:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 495              		.loc 1 470 9 view .LVU182
 470:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 496              		.loc 1 470 9 view .LVU183
 497 00e0 3846     		mov	r0, r7
 498 00e2 FFF7FEFF 		bl	CPU_SR_Restore
 499              	.LVL42:
 470:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 500              		.loc 1 470 9 view .LVU184
 470:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 501              		.loc 1 470 9 view .LVU185
 471:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_MUTEX_OWNER);
 502              		.loc 1 471 44 view .LVU186
 472:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_MUTEX_OWNER;                             /* Indicate that current task alrea
 503              		.loc 1 472 53 view .LVU187
 473:rtos/uCOS-III/Source/os_mutex.c ****         return;
 504              		.loc 1 473 8 view .LVU188
 473:rtos/uCOS-III/Source/os_mutex.c ****         return;
 505              		.loc 1 473 15 is_stmt 0 view .LVU189
 506 00e6 45F28273 		movw	r3, #22402
 507 00ea 069A     		ldr	r2, [sp, #24]
 508 00ec 1380     		strh	r3, [r2]	@ movhi
 474:rtos/uCOS-III/Source/os_mutex.c ****     }
 509              		.loc 1 474 9 is_stmt 1 view .LVU190
 510 00ee 9BE7     		b	.L17
 511              	.L45:
 458:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 512              		.loc 1 458 13 view .LVU191
 458:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 513              		.loc 1 458 13 view .LVU192
 458:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 514              		.loc 1 458 13 view .LVU193
 515 00f0 3846     		mov	r0, r7
 516 00f2 FFF7FEFF 		bl	CPU_SR_Restore
 517              	.LVL43:
 458:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 518              		.loc 1 458 13 view .LVU194
 458:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_FAILED(p_mutex);
 519              		.loc 1 458 13 view .LVU195
 459:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_MUTEX_OVF);
 520              		.loc 1 459 48 view .LVU196
 460:rtos/uCOS-III/Source/os_mutex.c ****            *p_err = OS_ERR_MUTEX_OVF;
 521              		.loc 1 460 55 view .LVU197
 461:rtos/uCOS-III/Source/os_mutex.c ****             return;
 522              		.loc 1 461 12 view .LVU198
 461:rtos/uCOS-III/Source/os_mutex.c ****             return;
ARM GAS  /tmp/ccv4eJMD.s 			page 30


 523              		.loc 1 461 19 is_stmt 0 view .LVU199
 524 00f6 45F28473 		movw	r3, #22404
 525 00fa 069A     		ldr	r2, [sp, #24]
 526 00fc 1380     		strh	r3, [r2]	@ movhi
 462:rtos/uCOS-III/Source/os_mutex.c ****         }
 527              		.loc 1 462 13 is_stmt 1 view .LVU200
 528 00fe 93E7     		b	.L17
 529              	.L42:
 478:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 530              		.loc 1 478 9 view .LVU201
 478:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 531              		.loc 1 478 9 view .LVU202
 478:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 532              		.loc 1 478 9 view .LVU203
 533 0100 3846     		mov	r0, r7
 534 0102 FFF7FEFF 		bl	CPU_SR_Restore
 535              	.LVL44:
 478:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 536              		.loc 1 478 9 view .LVU204
 478:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 537              		.loc 1 478 9 view .LVU205
 484:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_PEND_WOULD_BLOCK);
 538              		.loc 1 484 44 view .LVU206
 485:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_PEND_WOULD_BLOCK;                        /* No                              
 539              		.loc 1 485 58 view .LVU207
 486:rtos/uCOS-III/Source/os_mutex.c ****         return;
 540              		.loc 1 486 8 view .LVU208
 486:rtos/uCOS-III/Source/os_mutex.c ****         return;
 541              		.loc 1 486 15 is_stmt 0 view .LVU209
 542 0106 46F2B013 		movw	r3, #25008
 543 010a 069A     		ldr	r2, [sp, #24]
 544 010c 1380     		strh	r3, [r2]	@ movhi
 487:rtos/uCOS-III/Source/os_mutex.c ****     } else {
 545              		.loc 1 487 9 is_stmt 1 view .LVU210
 546 010e 8BE7     		b	.L17
 547              	.L43:
 490:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 548              		.loc 1 490 13 view .LVU211
 490:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 549              		.loc 1 490 13 view .LVU212
 490:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 550              		.loc 1 490 13 view .LVU213
 551 0110 3846     		mov	r0, r7
 552 0112 FFF7FEFF 		bl	CPU_SR_Restore
 553              	.LVL45:
 490:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 554              		.loc 1 490 13 view .LVU214
 490:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 555              		.loc 1 490 13 view .LVU215
 496:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_PEND_EXIT(OS_ERR_SCHED_LOCKED);
 556              		.loc 1 496 48 view .LVU216
 497:rtos/uCOS-III/Source/os_mutex.c ****            *p_err = OS_ERR_SCHED_LOCKED;
 557              		.loc 1 497 58 view .LVU217
 498:rtos/uCOS-III/Source/os_mutex.c ****             return;
 558              		.loc 1 498 12 view .LVU218
 498:rtos/uCOS-III/Source/os_mutex.c ****             return;
 559              		.loc 1 498 19 is_stmt 0 view .LVU219
ARM GAS  /tmp/ccv4eJMD.s 			page 31


 560 0116 46F66353 		movw	r3, #28003
 561 011a 069A     		ldr	r2, [sp, #24]
 562 011c 1380     		strh	r3, [r2]	@ movhi
 499:rtos/uCOS-III/Source/os_mutex.c ****         }
 563              		.loc 1 499 13 is_stmt 1 view .LVU220
 564 011e 83E7     		b	.L17
 565              	.LVL46:
 566              	.L44:
 505:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_TASK_PRIO_INHERIT(p_tcb, p_tcb->Prio);
 567              		.loc 1 505 9 view .LVU221
 568 0120 FFF7FEFF 		bl	OS_TaskChangePrio
 569              	.LVL47:
 505:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_TASK_PRIO_INHERIT(p_tcb, p_tcb->Prio);
 570              		.loc 1 505 9 is_stmt 0 view .LVU222
 571 0124 B1E7     		b	.L29
 572              	.LVL48:
 573              	.L35:
 526:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_NONE;
 574              		.loc 1 526 42 is_stmt 1 view .LVU223
 527:rtos/uCOS-III/Source/os_mutex.c ****              break;
 575              		.loc 1 527 13 view .LVU224
 527:rtos/uCOS-III/Source/os_mutex.c ****              break;
 576              		.loc 1 527 20 is_stmt 0 view .LVU225
 577 0126 0023     		movs	r3, #0
 578 0128 069A     		ldr	r2, [sp, #24]
 579 012a 1380     		strh	r3, [r2]	@ movhi
 528:rtos/uCOS-III/Source/os_mutex.c **** 
 580              		.loc 1 528 14 is_stmt 1 view .LVU226
 581              	.L36:
 565:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_EXIT(*p_err);
 582              		.loc 1 565 5 view .LVU227
 565:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_EXIT(*p_err);
 583              		.loc 1 565 5 view .LVU228
 565:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_EXIT(*p_err);
 584              		.loc 1 565 5 view .LVU229
 585 012c FFF7FEFF 		bl	CPU_SR_Restore
 586              	.LVL49:
 565:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_EXIT(*p_err);
 587              		.loc 1 565 5 view .LVU230
 565:rtos/uCOS-III/Source/os_mutex.c ****     OS_TRACE_MUTEX_PEND_EXIT(*p_err);
 588              		.loc 1 565 5 view .LVU231
 566:rtos/uCOS-III/Source/os_mutex.c **** }
 589              		.loc 1 566 37 view .LVU232
 590 0130 7AE7     		b	.L17
 591              	.LVL50:
 592              	.L34:
 536:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_PEND_ABORT;
 593              		.loc 1 536 49 view .LVU233
 537:rtos/uCOS-III/Source/os_mutex.c ****              break;
 594              		.loc 1 537 13 view .LVU234
 537:rtos/uCOS-III/Source/os_mutex.c ****              break;
 595              		.loc 1 537 20 is_stmt 0 view .LVU235
 596 0132 46F2A913 		movw	r3, #25001
 597 0136 069A     		ldr	r2, [sp, #24]
 598 0138 1380     		strh	r3, [r2]	@ movhi
 538:rtos/uCOS-III/Source/os_mutex.c **** 
 599              		.loc 1 538 14 is_stmt 1 view .LVU236
ARM GAS  /tmp/ccv4eJMD.s 			page 32


 600 013a F7E7     		b	.L36
 601              	.L31:
 546:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_TIMEOUT;
 602              		.loc 1 546 49 view .LVU237
 547:rtos/uCOS-III/Source/os_mutex.c ****              break;
 603              		.loc 1 547 13 view .LVU238
 547:rtos/uCOS-III/Source/os_mutex.c ****              break;
 604              		.loc 1 547 20 is_stmt 0 view .LVU239
 605 013c 47F2D923 		movw	r3, #29401
 606 0140 069A     		ldr	r2, [sp, #24]
 607 0142 1380     		strh	r3, [r2]	@ movhi
 548:rtos/uCOS-III/Source/os_mutex.c **** 
 608              		.loc 1 548 14 is_stmt 1 view .LVU240
 609 0144 F2E7     		b	.L36
 610              	.L33:
 556:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OBJ_DEL;
 611              		.loc 1 556 49 view .LVU241
 557:rtos/uCOS-III/Source/os_mutex.c ****              break;
 612              		.loc 1 557 13 view .LVU242
 557:rtos/uCOS-III/Source/os_mutex.c ****              break;
 613              		.loc 1 557 20 is_stmt 0 view .LVU243
 614 0146 45F6C253 		movw	r3, #24002
 615 014a 069A     		ldr	r2, [sp, #24]
 616 014c 1380     		strh	r3, [r2]	@ movhi
 558:rtos/uCOS-III/Source/os_mutex.c **** 
 617              		.loc 1 558 14 is_stmt 1 view .LVU244
 618 014e EDE7     		b	.L36
 619              	.L30:
 561:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_STATUS_INVALID;
 620              		.loc 1 561 49 view .LVU245
 562:rtos/uCOS-III/Source/os_mutex.c ****              break;
 621              		.loc 1 562 13 view .LVU246
 562:rtos/uCOS-III/Source/os_mutex.c ****              break;
 622              		.loc 1 562 20 is_stmt 0 view .LVU247
 623 0150 46F62E63 		movw	r3, #28206
 624 0154 069A     		ldr	r2, [sp, #24]
 625 0156 1380     		strh	r3, [r2]	@ movhi
 563:rtos/uCOS-III/Source/os_mutex.c ****     }
 626              		.loc 1 563 14 is_stmt 1 view .LVU248
 627 0158 E8E7     		b	.L36
 628              	.L47:
 629 015a 00BF     		.align	2
 630              	.L46:
 631 015c 00000000 		.word	OSIntNestingCtr
 632 0160 00000000 		.word	OSRunning
 633 0164 4D555458 		.word	1481921869
 634 0168 00000000 		.word	OSTCBCurPtr
 635 016c 00000000 		.word	OSSchedLockNestingCtr
 636              		.cfi_endproc
 637              	.LFE2:
 639              		.section	.text.OS_MutexGrpRemove,"ax",%progbits
 640              		.align	1
 641              		.global	OS_MutexGrpRemove
 642              		.syntax unified
 643              		.thumb
 644              		.thumb_func
 645              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccv4eJMD.s 			page 33


 647              	OS_MutexGrpRemove:
 648              	.LVL51:
 649              	.LFB7:
 997:rtos/uCOS-III/Source/os_mutex.c **** 
 998:rtos/uCOS-III/Source/os_mutex.c **** 
 999:rtos/uCOS-III/Source/os_mutex.c **** /*
1000:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
1001:rtos/uCOS-III/Source/os_mutex.c **** *                                              MUTEX GROUP REMOVE
1002:rtos/uCOS-III/Source/os_mutex.c **** *
1003:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function is called by the kernel to remove a mutex to a task's mutex group.
1004:rtos/uCOS-III/Source/os_mutex.c **** *
1005:rtos/uCOS-III/Source/os_mutex.c **** 
1006:rtos/uCOS-III/Source/os_mutex.c **** * Argument(s): p_tcb        is a pointer to the tcb of the task to remove the mutex from.
1007:rtos/uCOS-III/Source/os_mutex.c **** *
1008:rtos/uCOS-III/Source/os_mutex.c **** *              p_mutex      is a point to the mutex to remove from the group.
1009:rtos/uCOS-III/Source/os_mutex.c **** *
1010:rtos/uCOS-III/Source/os_mutex.c **** *
1011:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none
1012:rtos/uCOS-III/Source/os_mutex.c **** *
1013:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1014:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
1015:rtos/uCOS-III/Source/os_mutex.c **** */
1016:rtos/uCOS-III/Source/os_mutex.c **** 
1017:rtos/uCOS-III/Source/os_mutex.c **** void  OS_MutexGrpRemove (OS_TCB  *p_tcb, OS_MUTEX  *p_mutex)
1018:rtos/uCOS-III/Source/os_mutex.c **** {
 650              		.loc 1 1018 1 view -0
 651              		.cfi_startproc
 652              		@ args = 0, pretend = 0, frame = 0
 653              		@ frame_needed = 0, uses_anonymous_args = 0
 654              		@ link register save eliminated.
1019:rtos/uCOS-III/Source/os_mutex.c ****     OS_MUTEX  **pp_mutex;
 655              		.loc 1 1019 5 view .LVU250
1020:rtos/uCOS-III/Source/os_mutex.c **** 
1021:rtos/uCOS-III/Source/os_mutex.c ****     pp_mutex = &p_tcb->MutexGrpHeadPtr;
 656              		.loc 1 1021 5 view .LVU251
 657              		.loc 1 1021 14 is_stmt 0 view .LVU252
 658 0000 3430     		adds	r0, r0, #52
 659              	.LVL52:
1022:rtos/uCOS-III/Source/os_mutex.c **** 
1023:rtos/uCOS-III/Source/os_mutex.c ****     while(*pp_mutex != p_mutex) {
 660              		.loc 1 1023 5 is_stmt 1 view .LVU253
 661              	.L49:
 662              		.loc 1 1023 10 view .LVU254
 663              		.loc 1 1023 11 is_stmt 0 view .LVU255
 664 0002 0368     		ldr	r3, [r0]
 665              		.loc 1 1023 10 view .LVU256
 666 0004 8B42     		cmp	r3, r1
 667 0006 02D0     		beq	.L51
1024:rtos/uCOS-III/Source/os_mutex.c ****         pp_mutex = &(*pp_mutex)->MutexGrpNextPtr;
 668              		.loc 1 1024 9 is_stmt 1 view .LVU257
 669              		.loc 1 1024 18 is_stmt 0 view .LVU258
 670 0008 03F10C00 		add	r0, r3, #12
 671              	.LVL53:
 672              		.loc 1 1024 18 view .LVU259
 673 000c F9E7     		b	.L49
 674              	.L51:
1025:rtos/uCOS-III/Source/os_mutex.c ****     }
ARM GAS  /tmp/ccv4eJMD.s 			page 34


1026:rtos/uCOS-III/Source/os_mutex.c **** 
1027:rtos/uCOS-III/Source/os_mutex.c ****     *pp_mutex = (*pp_mutex)->MutexGrpNextPtr;
 675              		.loc 1 1027 5 is_stmt 1 view .LVU260
 676              		.loc 1 1027 28 is_stmt 0 view .LVU261
 677 000e DB68     		ldr	r3, [r3, #12]
 678              		.loc 1 1027 15 view .LVU262
 679 0010 0360     		str	r3, [r0]
1028:rtos/uCOS-III/Source/os_mutex.c **** }
 680              		.loc 1 1028 1 view .LVU263
 681 0012 7047     		bx	lr
 682              		.cfi_endproc
 683              	.LFE7:
 685              		.section	.text.OS_MutexGrpPrioFindHighest,"ax",%progbits
 686              		.align	1
 687              		.global	OS_MutexGrpPrioFindHighest
 688              		.syntax unified
 689              		.thumb
 690              		.thumb_func
 691              		.fpu fpv4-sp-d16
 693              	OS_MutexGrpPrioFindHighest:
 694              	.LVL54:
 695              	.LFB8:
1029:rtos/uCOS-III/Source/os_mutex.c **** 
1030:rtos/uCOS-III/Source/os_mutex.c **** 
1031:rtos/uCOS-III/Source/os_mutex.c **** /*
1032:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
1033:rtos/uCOS-III/Source/os_mutex.c **** *                                              MUTEX FIND HIGHEST PENDING
1034:rtos/uCOS-III/Source/os_mutex.c **** *
1035:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function is called by the kernel to find the highest task pending on any mutex 
1036:rtos/uCOS-III/Source/os_mutex.c **** *
1037:rtos/uCOS-III/Source/os_mutex.c **** 
1038:rtos/uCOS-III/Source/os_mutex.c **** * Argument(s): p_tcb        is a pointer to the tcb of the task to process.
1039:rtos/uCOS-III/Source/os_mutex.c **** *
1040:rtos/uCOS-III/Source/os_mutex.c **** *
1041:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : Highest priority pending or OS_CFG_PRIO_MAX - 1u if none found.
1042:rtos/uCOS-III/Source/os_mutex.c **** *
1043:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1044:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
1045:rtos/uCOS-III/Source/os_mutex.c **** */
1046:rtos/uCOS-III/Source/os_mutex.c **** 
1047:rtos/uCOS-III/Source/os_mutex.c **** OS_PRIO  OS_MutexGrpPrioFindHighest (OS_TCB  *p_tcb)
1048:rtos/uCOS-III/Source/os_mutex.c **** {
 696              		.loc 1 1048 1 is_stmt 1 view -0
 697              		.cfi_startproc
 698              		@ args = 0, pretend = 0, frame = 0
 699              		@ frame_needed = 0, uses_anonymous_args = 0
 700              		@ link register save eliminated.
1049:rtos/uCOS-III/Source/os_mutex.c ****     OS_MUTEX  **pp_mutex;
 701              		.loc 1 1049 5 view .LVU265
1050:rtos/uCOS-III/Source/os_mutex.c ****     OS_PRIO     highest_prio;
 702              		.loc 1 1050 5 view .LVU266
1051:rtos/uCOS-III/Source/os_mutex.c ****     OS_PRIO     prio;
 703              		.loc 1 1051 5 view .LVU267
1052:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB     *p_head;
 704              		.loc 1 1052 5 view .LVU268
1053:rtos/uCOS-III/Source/os_mutex.c **** 
1054:rtos/uCOS-III/Source/os_mutex.c **** 
ARM GAS  /tmp/ccv4eJMD.s 			page 35


1055:rtos/uCOS-III/Source/os_mutex.c ****     highest_prio = (OS_PRIO)(OS_CFG_PRIO_MAX - 1u);
 705              		.loc 1 1055 5 view .LVU269
1056:rtos/uCOS-III/Source/os_mutex.c ****     pp_mutex = &p_tcb->MutexGrpHeadPtr;
 706              		.loc 1 1056 5 view .LVU270
 707              		.loc 1 1056 14 is_stmt 0 view .LVU271
 708 0000 00F13403 		add	r3, r0, #52
 709              	.LVL55:
1057:rtos/uCOS-III/Source/os_mutex.c **** 
1058:rtos/uCOS-III/Source/os_mutex.c ****     while(*pp_mutex != (OS_MUTEX *)0) {
 710              		.loc 1 1058 5 is_stmt 1 view .LVU272
1055:rtos/uCOS-III/Source/os_mutex.c ****     pp_mutex = &p_tcb->MutexGrpHeadPtr;
 711              		.loc 1 1055 18 is_stmt 0 view .LVU273
 712 0004 3F20     		movs	r0, #63
 713              	.LVL56:
 714              		.loc 1 1058 10 view .LVU274
 715 0006 00E0     		b	.L53
 716              	.LVL57:
 717              	.L54:
1059:rtos/uCOS-III/Source/os_mutex.c ****         p_head = (*pp_mutex)->PendList.HeadPtr;
1060:rtos/uCOS-III/Source/os_mutex.c ****         if (p_head != (OS_TCB *)0) {
1061:rtos/uCOS-III/Source/os_mutex.c ****             prio = p_head->Prio;
1062:rtos/uCOS-III/Source/os_mutex.c ****             if(prio < highest_prio) {
1063:rtos/uCOS-III/Source/os_mutex.c ****                 highest_prio = prio;
1064:rtos/uCOS-III/Source/os_mutex.c ****             }
1065:rtos/uCOS-III/Source/os_mutex.c ****         }
1066:rtos/uCOS-III/Source/os_mutex.c ****         pp_mutex = &(*pp_mutex)->MutexGrpNextPtr;
 718              		.loc 1 1066 9 is_stmt 1 view .LVU275
 719              		.loc 1 1066 18 is_stmt 0 view .LVU276
 720 0008 0C33     		adds	r3, r3, #12
 721              	.LVL58:
 722              	.L53:
1058:rtos/uCOS-III/Source/os_mutex.c ****         p_head = (*pp_mutex)->PendList.HeadPtr;
 723              		.loc 1 1058 10 is_stmt 1 view .LVU277
1058:rtos/uCOS-III/Source/os_mutex.c ****         p_head = (*pp_mutex)->PendList.HeadPtr;
 724              		.loc 1 1058 11 is_stmt 0 view .LVU278
 725 000a 1B68     		ldr	r3, [r3]
 726              	.LVL59:
1058:rtos/uCOS-III/Source/os_mutex.c ****         p_head = (*pp_mutex)->PendList.HeadPtr;
 727              		.loc 1 1058 10 view .LVU279
 728 000c 43B1     		cbz	r3, .L57
1059:rtos/uCOS-III/Source/os_mutex.c ****         p_head = (*pp_mutex)->PendList.HeadPtr;
 729              		.loc 1 1059 9 is_stmt 1 view .LVU280
1059:rtos/uCOS-III/Source/os_mutex.c ****         p_head = (*pp_mutex)->PendList.HeadPtr;
 730              		.loc 1 1059 16 is_stmt 0 view .LVU281
 731 000e 5A68     		ldr	r2, [r3, #4]
 732              	.LVL60:
1060:rtos/uCOS-III/Source/os_mutex.c ****             prio = p_head->Prio;
 733              		.loc 1 1060 9 is_stmt 1 view .LVU282
1060:rtos/uCOS-III/Source/os_mutex.c ****             prio = p_head->Prio;
 734              		.loc 1 1060 12 is_stmt 0 view .LVU283
 735 0010 002A     		cmp	r2, #0
 736 0012 F9D0     		beq	.L54
1061:rtos/uCOS-III/Source/os_mutex.c ****             if(prio < highest_prio) {
 737              		.loc 1 1061 13 is_stmt 1 view .LVU284
1061:rtos/uCOS-III/Source/os_mutex.c ****             if(prio < highest_prio) {
 738              		.loc 1 1061 18 is_stmt 0 view .LVU285
 739 0014 92F82F20 		ldrb	r2, [r2, #47]	@ zero_extendqisi2
ARM GAS  /tmp/ccv4eJMD.s 			page 36


 740              	.LVL61:
1062:rtos/uCOS-III/Source/os_mutex.c ****                 highest_prio = prio;
 741              		.loc 1 1062 13 is_stmt 1 view .LVU286
1062:rtos/uCOS-III/Source/os_mutex.c ****                 highest_prio = prio;
 742              		.loc 1 1062 15 is_stmt 0 view .LVU287
 743 0018 9042     		cmp	r0, r2
 744 001a F5D9     		bls	.L54
1063:rtos/uCOS-III/Source/os_mutex.c ****             }
 745              		.loc 1 1063 30 view .LVU288
 746 001c 1046     		mov	r0, r2
 747              	.LVL62:
1063:rtos/uCOS-III/Source/os_mutex.c ****             }
 748              		.loc 1 1063 30 view .LVU289
 749 001e F3E7     		b	.L54
 750              	.LVL63:
 751              	.L57:
1067:rtos/uCOS-III/Source/os_mutex.c ****     }
1068:rtos/uCOS-III/Source/os_mutex.c **** 
1069:rtos/uCOS-III/Source/os_mutex.c ****     return (highest_prio);
1070:rtos/uCOS-III/Source/os_mutex.c **** }
 752              		.loc 1 1070 1 view .LVU290
 753 0020 7047     		bx	lr
 754              		.cfi_endproc
 755              	.LFE8:
 757              		.section	.text.OSMutexDel,"ax",%progbits
 758              		.align	1
 759              		.global	OSMutexDel
 760              		.syntax unified
 761              		.thumb
 762              		.thumb_func
 763              		.fpu fpv4-sp-d16
 765              	OSMutexDel:
 766              	.LVL64:
 767              	.LFB1:
 178:rtos/uCOS-III/Source/os_mutex.c ****     OS_OBJ_QTY     nbr_tasks;
 768              		.loc 1 178 1 is_stmt 1 view -0
 769              		.cfi_startproc
 770              		@ args = 0, pretend = 0, frame = 0
 771              		@ frame_needed = 0, uses_anonymous_args = 0
 178:rtos/uCOS-III/Source/os_mutex.c ****     OS_OBJ_QTY     nbr_tasks;
 772              		.loc 1 178 1 is_stmt 0 view .LVU292
 773 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 774              	.LCFI3:
 775              		.cfi_def_cfa_offset 32
 776              		.cfi_offset 3, -32
 777              		.cfi_offset 4, -28
 778              		.cfi_offset 5, -24
 779              		.cfi_offset 6, -20
 780              		.cfi_offset 7, -16
 781              		.cfi_offset 8, -12
 782              		.cfi_offset 9, -8
 783              		.cfi_offset 14, -4
 784 0004 1646     		mov	r6, r2
 179:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 785              		.loc 1 179 5 is_stmt 1 view .LVU293
 180:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb;
 786              		.loc 1 180 5 view .LVU294
ARM GAS  /tmp/ccv4eJMD.s 			page 37


 181:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb_owner;
 787              		.loc 1 181 5 view .LVU295
 182:rtos/uCOS-III/Source/os_mutex.c ****     CPU_TS         ts;
 788              		.loc 1 182 5 view .LVU296
 183:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_MUTEX_EN > 0u)
 789              		.loc 1 183 5 view .LVU297
 185:rtos/uCOS-III/Source/os_mutex.c **** #endif
 790              		.loc 1 185 5 view .LVU298
 187:rtos/uCOS-III/Source/os_mutex.c **** 
 791              		.loc 1 187 5 view .LVU299
 792              	.LVL65:
 197:rtos/uCOS-III/Source/os_mutex.c **** 
 793              		.loc 1 197 43 view .LVU300
 208:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_DEL_ISR);
 794              		.loc 1 208 5 view .LVU301
 208:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_DEL_ISR);
 795              		.loc 1 208 25 is_stmt 0 view .LVU302
 796 0006 3E4B     		ldr	r3, .L79
 797 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 208:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_DEL_ISR);
 798              		.loc 1 208 8 view .LVU303
 799 000a 53B9     		cbnz	r3, .L75
 800 000c 0546     		mov	r5, r0
 801 000e 0C46     		mov	r4, r1
 216:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OS_NOT_RUNNING);
 802              		.loc 1 216 5 is_stmt 1 view .LVU304
 216:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OS_NOT_RUNNING);
 803              		.loc 1 216 19 is_stmt 0 view .LVU305
 804 0010 3C4B     		ldr	r3, .L79+4
 805 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 216:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OS_NOT_RUNNING);
 806              		.loc 1 216 8 view .LVU306
 807 0014 012B     		cmp	r3, #1
 808 0016 0BD0     		beq	.L61
 217:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 809              		.loc 1 217 55 is_stmt 1 view .LVU307
 218:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 810              		.loc 1 218 8 view .LVU308
 218:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 811              		.loc 1 218 15 is_stmt 0 view .LVU309
 812 0018 45F68963 		movw	r3, #24201
 813 001c 1380     		strh	r3, [r2]	@ movhi
 219:rtos/uCOS-III/Source/os_mutex.c ****     }
 814              		.loc 1 219 9 is_stmt 1 view .LVU310
 219:rtos/uCOS-III/Source/os_mutex.c ****     }
 815              		.loc 1 219 16 is_stmt 0 view .LVU311
 816 001e 0024     		movs	r4, #0
 817 0020 03E0     		b	.L60
 818              	.L75:
 209:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_DEL_ISR;
 819              		.loc 1 209 48 is_stmt 1 view .LVU312
 210:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 820              		.loc 1 210 8 view .LVU313
 210:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 821              		.loc 1 210 15 is_stmt 0 view .LVU314
 822 0022 43F2C923 		movw	r3, #13001
 823 0026 1380     		strh	r3, [r2]	@ movhi
ARM GAS  /tmp/ccv4eJMD.s 			page 38


 211:rtos/uCOS-III/Source/os_mutex.c ****     }
 824              		.loc 1 211 9 is_stmt 1 view .LVU315
 211:rtos/uCOS-III/Source/os_mutex.c ****     }
 825              		.loc 1 211 16 is_stmt 0 view .LVU316
 826 0028 0024     		movs	r4, #0
 827              	.LVL66:
 828              	.L60:
 308:rtos/uCOS-III/Source/os_mutex.c **** #endif
 829              		.loc 1 308 1 view .LVU317
 830 002a 2046     		mov	r0, r4
 831 002c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 832              	.LVL67:
 833              	.L61:
 224:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OBJ_PTR_NULL);
 834              		.loc 1 224 5 is_stmt 1 view .LVU318
 224:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OBJ_PTR_NULL);
 835              		.loc 1 224 8 is_stmt 0 view .LVU319
 836 0030 40B1     		cbz	r0, .L76
 232:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OBJ_TYPE);
 837              		.loc 1 232 5 is_stmt 1 view .LVU320
 232:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OBJ_TYPE);
 838              		.loc 1 232 16 is_stmt 0 view .LVU321
 839 0032 0268     		ldr	r2, [r0]
 840              	.LVL68:
 232:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_DEL_EXIT(OS_ERR_OBJ_TYPE);
 841              		.loc 1 232 8 view .LVU322
 842 0034 344B     		ldr	r3, .L79+8
 843 0036 9A42     		cmp	r2, r3
 844 0038 09D0     		beq	.L63
 233:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_TYPE;
 845              		.loc 1 233 49 is_stmt 1 view .LVU323
 234:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 846              		.loc 1 234 8 view .LVU324
 234:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 847              		.loc 1 234 15 is_stmt 0 view .LVU325
 848 003a 45F6C453 		movw	r3, #24004
 849 003e 3380     		strh	r3, [r6]	@ movhi
 235:rtos/uCOS-III/Source/os_mutex.c ****     }
 850              		.loc 1 235 9 is_stmt 1 view .LVU326
 235:rtos/uCOS-III/Source/os_mutex.c ****     }
 851              		.loc 1 235 16 is_stmt 0 view .LVU327
 852 0040 0024     		movs	r4, #0
 853 0042 F2E7     		b	.L60
 854              	.LVL69:
 855              	.L76:
 225:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 856              		.loc 1 225 53 is_stmt 1 view .LVU328
 226:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 857              		.loc 1 226 8 view .LVU329
 226:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 858              		.loc 1 226 15 is_stmt 0 view .LVU330
 859 0044 45F6C353 		movw	r3, #24003
 860 0048 1380     		strh	r3, [r2]	@ movhi
 227:rtos/uCOS-III/Source/os_mutex.c ****     }
 861              		.loc 1 227 9 is_stmt 1 view .LVU331
 227:rtos/uCOS-III/Source/os_mutex.c ****     }
 862              		.loc 1 227 16 is_stmt 0 view .LVU332
ARM GAS  /tmp/ccv4eJMD.s 			page 39


 863 004a 0024     		movs	r4, #0
 864 004c EDE7     		b	.L60
 865              	.LVL70:
 866              	.L63:
 239:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 867              		.loc 1 239 5 is_stmt 1 view .LVU333
 239:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 868              		.loc 1 239 5 view .LVU334
 239:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 869              		.loc 1 239 5 view .LVU335
 870 004e 4020     		movs	r0, #64
 871              	.LVL71:
 239:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 872              		.loc 1 239 5 is_stmt 0 view .LVU336
 873 0050 FFF7FEFF 		bl	CPU_SR_Save
 874              	.LVL72:
 239:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 875              		.loc 1 239 5 view .LVU337
 876 0054 0746     		mov	r7, r0
 877              	.LVL73:
 239:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 878              		.loc 1 239 5 is_stmt 1 view .LVU338
 239:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 879              		.loc 1 239 5 view .LVU339
 240:rtos/uCOS-III/Source/os_mutex.c ****     nbr_tasks   = 0u;
 880              		.loc 1 240 5 view .LVU340
 241:rtos/uCOS-III/Source/os_mutex.c ****     switch (opt) {
 881              		.loc 1 241 5 view .LVU341
 242:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_DEL_NO_PEND:                                /* Delete mutex only if no task wai
 882              		.loc 1 242 5 view .LVU342
 883 0056 44B1     		cbz	r4, .L64
 884 0058 012C     		cmp	r4, #1
 885 005a 42D0     		beq	.L72
 302:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 886              		.loc 1 302 14 view .LVU343
 302:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 887              		.loc 1 302 14 view .LVU344
 302:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 888              		.loc 1 302 14 view .LVU345
 889 005c FFF7FEFF 		bl	CPU_SR_Restore
 890              	.LVL74:
 302:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 891              		.loc 1 302 14 view .LVU346
 302:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_OPT_INVALID;
 892              		.loc 1 302 14 view .LVU347
 303:rtos/uCOS-III/Source/os_mutex.c ****              break;
 893              		.loc 1 303 13 view .LVU348
 303:rtos/uCOS-III/Source/os_mutex.c ****              break;
 894              		.loc 1 303 20 is_stmt 0 view .LVU349
 895 0060 45F62563 		movw	r3, #24101
 896 0064 3380     		strh	r3, [r6]	@ movhi
 304:rtos/uCOS-III/Source/os_mutex.c ****     }
 897              		.loc 1 304 14 is_stmt 1 view .LVU350
 241:rtos/uCOS-III/Source/os_mutex.c ****     switch (opt) {
 898              		.loc 1 241 17 is_stmt 0 view .LVU351
 899 0066 0024     		movs	r4, #0
 304:rtos/uCOS-III/Source/os_mutex.c ****     }
ARM GAS  /tmp/ccv4eJMD.s 			page 40


 900              		.loc 1 304 14 view .LVU352
 901 0068 DFE7     		b	.L60
 902              	.LVL75:
 903              	.L64:
 244:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 904              		.loc 1 244 14 is_stmt 1 view .LVU353
 244:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 905              		.loc 1 244 29 is_stmt 0 view .LVU354
 906 006a 6B68     		ldr	r3, [r5, #4]
 244:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_DBG_EN > 0u)
 907              		.loc 1 244 17 view .LVU355
 908 006c 2BB1     		cbz	r3, .L77
 257:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_TASK_WAITING;
 909              		.loc 1 257 18 is_stmt 1 view .LVU356
 257:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_TASK_WAITING;
 910              		.loc 1 257 18 view .LVU357
 257:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_TASK_WAITING;
 911              		.loc 1 257 18 view .LVU358
 912 006e FFF7FEFF 		bl	CPU_SR_Restore
 913              	.LVL76:
 257:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_TASK_WAITING;
 914              		.loc 1 257 18 view .LVU359
 257:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_TASK_WAITING;
 915              		.loc 1 257 18 view .LVU360
 258:rtos/uCOS-III/Source/os_mutex.c ****              }
 916              		.loc 1 258 17 view .LVU361
 258:rtos/uCOS-III/Source/os_mutex.c ****              }
 917              		.loc 1 258 24 is_stmt 0 view .LVU362
 918 0072 47F25F13 		movw	r3, #29023
 919 0076 3380     		strh	r3, [r6]	@ movhi
 920 0078 D7E7     		b	.L60
 921              	.LVL77:
 922              	.L77:
 249:rtos/uCOS-III/Source/os_mutex.c ****                  if (p_mutex->OwnerTCBPtr != (OS_TCB *)0) {     /* Does the mutex belong to a task?
 923              		.loc 1 249 45 is_stmt 1 view .LVU363
 250:rtos/uCOS-III/Source/os_mutex.c ****                      OS_MutexGrpRemove(p_mutex->OwnerTCBPtr, p_mutex); /* yes, remove it from the t
 924              		.loc 1 250 18 view .LVU364
 250:rtos/uCOS-III/Source/os_mutex.c ****                      OS_MutexGrpRemove(p_mutex->OwnerTCBPtr, p_mutex); /* yes, remove it from the t
 925              		.loc 1 250 29 is_stmt 0 view .LVU365
 926 007a 2869     		ldr	r0, [r5, #16]
 927              	.LVL78:
 250:rtos/uCOS-III/Source/os_mutex.c ****                      OS_MutexGrpRemove(p_mutex->OwnerTCBPtr, p_mutex); /* yes, remove it from the t
 928              		.loc 1 250 21 view .LVU366
 929 007c 10B1     		cbz	r0, .L68
 251:rtos/uCOS-III/Source/os_mutex.c ****                  }
 930              		.loc 1 251 22 is_stmt 1 view .LVU367
 931 007e 2946     		mov	r1, r5
 932 0080 FFF7FEFF 		bl	OS_MutexGrpRemove
 933              	.LVL79:
 934              	.L68:
 253:rtos/uCOS-III/Source/os_mutex.c ****                  CPU_CRITICAL_EXIT();
 935              		.loc 1 253 18 view .LVU368
 936 0084 2846     		mov	r0, r5
 937 0086 FFF7FEFF 		bl	OS_MutexClr
 938              	.LVL80:
 254:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_NONE;
 939              		.loc 1 254 18 view .LVU369
ARM GAS  /tmp/ccv4eJMD.s 			page 41


 254:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_NONE;
 940              		.loc 1 254 18 view .LVU370
 254:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_NONE;
 941              		.loc 1 254 18 view .LVU371
 942 008a 3846     		mov	r0, r7
 943 008c FFF7FEFF 		bl	CPU_SR_Restore
 944              	.LVL81:
 254:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_NONE;
 945              		.loc 1 254 18 view .LVU372
 254:rtos/uCOS-III/Source/os_mutex.c ****                 *p_err = OS_ERR_NONE;
 946              		.loc 1 254 18 view .LVU373
 255:rtos/uCOS-III/Source/os_mutex.c ****              } else {
 947              		.loc 1 255 17 view .LVU374
 255:rtos/uCOS-III/Source/os_mutex.c ****              } else {
 948              		.loc 1 255 24 is_stmt 0 view .LVU375
 949 0090 0023     		movs	r3, #0
 950 0092 3380     		strh	r3, [r6]	@ movhi
 951 0094 C9E7     		b	.L60
 952              	.LVL82:
 953              	.L69:
 269:rtos/uCOS-III/Source/os_mutex.c ****                  OS_PendAbort(p_tcb,
 954              		.loc 1 269 18 is_stmt 1 view .LVU376
 270:rtos/uCOS-III/Source/os_mutex.c ****                               ts,
 955              		.loc 1 270 18 view .LVU377
 956 0096 0222     		movs	r2, #2
 957 0098 0021     		movs	r1, #0
 958 009a FFF7FEFF 		bl	OS_PendAbort
 959              	.LVL83:
 273:rtos/uCOS-III/Source/os_mutex.c ****              }
 960              		.loc 1 273 18 view .LVU378
 273:rtos/uCOS-III/Source/os_mutex.c ****              }
 961              		.loc 1 273 27 is_stmt 0 view .LVU379
 962 009e 0134     		adds	r4, r4, #1
 963              	.LVL84:
 273:rtos/uCOS-III/Source/os_mutex.c ****              }
 964              		.loc 1 273 27 view .LVU380
 965 00a0 A4B2     		uxth	r4, r4
 966              	.LVL85:
 967              	.L65:
 268:rtos/uCOS-III/Source/os_mutex.c ****                  p_tcb = p_pend_list->HeadPtr;
 968              		.loc 1 268 20 is_stmt 1 view .LVU381
 268:rtos/uCOS-III/Source/os_mutex.c ****                  p_tcb = p_pend_list->HeadPtr;
 969              		.loc 1 268 32 is_stmt 0 view .LVU382
 970 00a2 6868     		ldr	r0, [r5, #4]
 268:rtos/uCOS-III/Source/os_mutex.c ****                  p_tcb = p_pend_list->HeadPtr;
 971              		.loc 1 268 20 view .LVU383
 972 00a4 0028     		cmp	r0, #0
 973 00a6 F6D1     		bne	.L69
 279:rtos/uCOS-III/Source/os_mutex.c ****              p_tcb_owner = p_mutex->OwnerTCBPtr;
 974              		.loc 1 279 41 is_stmt 1 view .LVU384
 280:rtos/uCOS-III/Source/os_mutex.c ****              if (p_tcb_owner != (OS_TCB *)0) {                  /* Does the mutex belong to a task?
 975              		.loc 1 280 14 view .LVU385
 280:rtos/uCOS-III/Source/os_mutex.c ****              if (p_tcb_owner != (OS_TCB *)0) {                  /* Does the mutex belong to a task?
 976              		.loc 1 280 26 is_stmt 0 view .LVU386
 977 00a8 D5F81080 		ldr	r8, [r5, #16]
 978              	.LVL86:
 281:rtos/uCOS-III/Source/os_mutex.c ****                  OS_MutexGrpRemove(p_tcb_owner, p_mutex);       /* yes, remove it from the task gro
ARM GAS  /tmp/ccv4eJMD.s 			page 42


 979              		.loc 1 281 14 is_stmt 1 view .LVU387
 281:rtos/uCOS-III/Source/os_mutex.c ****                  OS_MutexGrpRemove(p_tcb_owner, p_mutex);       /* yes, remove it from the task gro
 980              		.loc 1 281 17 is_stmt 0 view .LVU388
 981 00ac B8F1000F 		cmp	r8, #0
 982 00b0 03D0     		beq	.L70
 282:rtos/uCOS-III/Source/os_mutex.c ****              }
 983              		.loc 1 282 18 is_stmt 1 view .LVU389
 984 00b2 2946     		mov	r1, r5
 985 00b4 4046     		mov	r0, r8
 986 00b6 FFF7FEFF 		bl	OS_MutexGrpRemove
 987              	.LVL87:
 988              	.L70:
 286:rtos/uCOS-III/Source/os_mutex.c ****                  if (p_tcb_owner->Prio != p_tcb_owner->BasePrio) {
 989              		.loc 1 286 14 view .LVU390
 286:rtos/uCOS-III/Source/os_mutex.c ****                  if (p_tcb_owner->Prio != p_tcb_owner->BasePrio) {
 990              		.loc 1 286 17 is_stmt 0 view .LVU391
 991 00ba B8F1000F 		cmp	r8, #0
 992 00be 05D0     		beq	.L71
 287:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 993              		.loc 1 287 18 is_stmt 1 view .LVU392
 287:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 994              		.loc 1 287 33 is_stmt 0 view .LVU393
 995 00c0 98F82F30 		ldrb	r3, [r8, #47]	@ zero_extendqisi2
 287:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 996              		.loc 1 287 54 view .LVU394
 997 00c4 98F83090 		ldrb	r9, [r8, #48]	@ zero_extendqisi2
 287:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 998              		.loc 1 287 21 view .LVU395
 999 00c8 4B45     		cmp	r3, r9
 1000 00ca 0CD1     		bne	.L78
 1001              	.L71:
 291:rtos/uCOS-III/Source/os_mutex.c ****                  }
 1002              		.loc 1 291 89 is_stmt 1 view .LVU396
 295:rtos/uCOS-III/Source/os_mutex.c ****              CPU_CRITICAL_EXIT();
 1003              		.loc 1 295 14 view .LVU397
 1004 00cc 2846     		mov	r0, r5
 1005 00ce FFF7FEFF 		bl	OS_MutexClr
 1006              	.LVL88:
 296:rtos/uCOS-III/Source/os_mutex.c ****              OSSched();                                         /* Find highest priority task ready
 1007              		.loc 1 296 14 view .LVU398
 296:rtos/uCOS-III/Source/os_mutex.c ****              OSSched();                                         /* Find highest priority task ready
 1008              		.loc 1 296 14 view .LVU399
 296:rtos/uCOS-III/Source/os_mutex.c ****              OSSched();                                         /* Find highest priority task ready
 1009              		.loc 1 296 14 view .LVU400
 1010 00d2 3846     		mov	r0, r7
 1011 00d4 FFF7FEFF 		bl	CPU_SR_Restore
 1012              	.LVL89:
 296:rtos/uCOS-III/Source/os_mutex.c ****              OSSched();                                         /* Find highest priority task ready
 1013              		.loc 1 296 14 view .LVU401
 296:rtos/uCOS-III/Source/os_mutex.c ****              OSSched();                                         /* Find highest priority task ready
 1014              		.loc 1 296 14 view .LVU402
 297:rtos/uCOS-III/Source/os_mutex.c ****             *p_err = OS_ERR_NONE;
 1015              		.loc 1 297 14 view .LVU403
 1016 00d8 FFF7FEFF 		bl	OSSched
 1017              	.LVL90:
 298:rtos/uCOS-III/Source/os_mutex.c ****              break;
 1018              		.loc 1 298 13 view .LVU404
ARM GAS  /tmp/ccv4eJMD.s 			page 43


 298:rtos/uCOS-III/Source/os_mutex.c ****              break;
 1019              		.loc 1 298 20 is_stmt 0 view .LVU405
 1020 00dc 0023     		movs	r3, #0
 1021 00de 3380     		strh	r3, [r6]	@ movhi
 299:rtos/uCOS-III/Source/os_mutex.c **** 
 1022              		.loc 1 299 14 is_stmt 1 view .LVU406
 1023 00e0 A3E7     		b	.L60
 1024              	.LVL91:
 1025              	.L72:
 242:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_DEL_NO_PEND:                                /* Delete mutex only if no task wai
 1026              		.loc 1 242 5 is_stmt 0 view .LVU407
 1027 00e2 0024     		movs	r4, #0
 1028 00e4 DDE7     		b	.L65
 1029              	.LVL92:
 1030              	.L78:
 288:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : prio_n
 1031              		.loc 1 288 22 is_stmt 1 view .LVU408
 288:rtos/uCOS-III/Source/os_mutex.c ****                      prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : prio_n
 1032              		.loc 1 288 33 is_stmt 0 view .LVU409
 1033 00e6 4046     		mov	r0, r8
 1034 00e8 FFF7FEFF 		bl	OS_MutexGrpPrioFindHighest
 1035              	.LVL93:
 289:rtos/uCOS-III/Source/os_mutex.c ****                      OS_TaskChangePrio(p_tcb_owner, prio_new);
 1036              		.loc 1 289 22 is_stmt 1 view .LVU410
 289:rtos/uCOS-III/Source/os_mutex.c ****                      OS_TaskChangePrio(p_tcb_owner, prio_new);
 1037              		.loc 1 289 31 is_stmt 0 view .LVU411
 1038 00ec 8145     		cmp	r9, r0
 1039 00ee 28BF     		it	cs
 1040 00f0 8146     		movcs	r9, r0
 1041              	.LVL94:
 290:rtos/uCOS-III/Source/os_mutex.c ****                      OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(p_tcb_owner, p_tcb_owner->Prio);
 1042              		.loc 1 290 22 is_stmt 1 view .LVU412
 1043 00f2 5FFA89F1 		uxtb	r1, r9
 1044 00f6 4046     		mov	r0, r8
 1045 00f8 FFF7FEFF 		bl	OS_TaskChangePrio
 1046              	.LVL95:
 1047 00fc E6E7     		b	.L71
 1048              	.L80:
 1049 00fe 00BF     		.align	2
 1050              	.L79:
 1051 0100 00000000 		.word	OSIntNestingCtr
 1052 0104 00000000 		.word	OSRunning
 1053 0108 4D555458 		.word	1481921869
 1054              		.cfi_endproc
 1055              	.LFE1:
 1057              		.section	.text.OSMutexPendAbort,"ax",%progbits
 1058              		.align	1
 1059              		.global	OSMutexPendAbort
 1060              		.syntax unified
 1061              		.thumb
 1062              		.thumb_func
 1063              		.fpu fpv4-sp-d16
 1065              	OSMutexPendAbort:
 1066              	.LVL96:
 1067              	.LFB3:
 608:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 1068              		.loc 1 608 1 view -0
ARM GAS  /tmp/ccv4eJMD.s 			page 44


 1069              		.cfi_startproc
 1070              		@ args = 0, pretend = 0, frame = 8
 1071              		@ frame_needed = 0, uses_anonymous_args = 0
 608:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 1072              		.loc 1 608 1 is_stmt 0 view .LVU414
 1073 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1074              	.LCFI4:
 1075              		.cfi_def_cfa_offset 36
 1076              		.cfi_offset 4, -36
 1077              		.cfi_offset 5, -32
 1078              		.cfi_offset 6, -28
 1079              		.cfi_offset 7, -24
 1080              		.cfi_offset 8, -20
 1081              		.cfi_offset 9, -16
 1082              		.cfi_offset 10, -12
 1083              		.cfi_offset 11, -8
 1084              		.cfi_offset 14, -4
 1085 0004 83B0     		sub	sp, sp, #12
 1086              	.LCFI5:
 1087              		.cfi_def_cfa_offset 48
 1088 0006 1646     		mov	r6, r2
 609:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb;
 1089              		.loc 1 609 5 is_stmt 1 view .LVU415
 610:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb_owner;
 1090              		.loc 1 610 5 view .LVU416
 611:rtos/uCOS-III/Source/os_mutex.c ****     CPU_TS         ts;
 1091              		.loc 1 611 5 view .LVU417
 612:rtos/uCOS-III/Source/os_mutex.c ****     OS_OBJ_QTY     nbr_tasks;
 1092              		.loc 1 612 5 view .LVU418
 613:rtos/uCOS-III/Source/os_mutex.c ****     OS_PRIO        prio_new;
 1093              		.loc 1 613 5 view .LVU419
 614:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
 1094              		.loc 1 614 5 view .LVU420
 615:rtos/uCOS-III/Source/os_mutex.c **** 
 1095              		.loc 1 615 5 view .LVU421
 1096              	.LVL97:
 626:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_ISR;
 1097              		.loc 1 626 5 view .LVU422
 626:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_ISR;
 1098              		.loc 1 626 25 is_stmt 0 view .LVU423
 1099 0008 3E4B     		ldr	r3, .L106
 1100 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 626:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_ISR;
 1101              		.loc 1 626 8 view .LVU424
 1102 000c 53B9     		cbnz	r3, .L100
 1103 000e 0546     		mov	r5, r0
 1104 0010 0C46     		mov	r4, r1
 633:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1105              		.loc 1 633 5 is_stmt 1 view .LVU425
 633:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1106              		.loc 1 633 19 is_stmt 0 view .LVU426
 1107 0012 3D4B     		ldr	r3, .L106+4
 1108 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 633:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
 1109              		.loc 1 633 8 view .LVU427
 1110 0016 012B     		cmp	r3, #1
 1111 0018 0CD0     		beq	.L84
ARM GAS  /tmp/ccv4eJMD.s 			page 45


 634:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1112              		.loc 1 634 8 is_stmt 1 view .LVU428
 634:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1113              		.loc 1 634 15 is_stmt 0 view .LVU429
 1114 001a 45F68963 		movw	r3, #24201
 1115 001e 1380     		strh	r3, [r2]	@ movhi
 635:rtos/uCOS-III/Source/os_mutex.c ****     }
 1116              		.loc 1 635 9 is_stmt 1 view .LVU430
 635:rtos/uCOS-III/Source/os_mutex.c ****     }
 1117              		.loc 1 635 16 is_stmt 0 view .LVU431
 1118 0020 0027     		movs	r7, #0
 1119 0022 03E0     		b	.L83
 1120              	.L100:
 627:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1121              		.loc 1 627 8 is_stmt 1 view .LVU432
 627:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1122              		.loc 1 627 15 is_stmt 0 view .LVU433
 1123 0024 46F2AA13 		movw	r3, #25002
 1124 0028 1380     		strh	r3, [r2]	@ movhi
 628:rtos/uCOS-III/Source/os_mutex.c ****     }
 1125              		.loc 1 628 9 is_stmt 1 view .LVU434
 628:rtos/uCOS-III/Source/os_mutex.c ****     }
 1126              		.loc 1 628 16 is_stmt 0 view .LVU435
 1127 002a 0027     		movs	r7, #0
 1128              	.LVL98:
 1129              	.L83:
 710:rtos/uCOS-III/Source/os_mutex.c **** #endif
 1130              		.loc 1 710 1 view .LVU436
 1131 002c 3846     		mov	r0, r7
 1132 002e 03B0     		add	sp, sp, #12
 1133              	.LCFI6:
 1134              		.cfi_remember_state
 1135              		.cfi_def_cfa_offset 36
 1136              		@ sp needed
 1137 0030 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1138              	.LVL99:
 1139              	.L84:
 1140              	.LCFI7:
 1141              		.cfi_restore_state
 640:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_OBJ_PTR_NULL;
 1142              		.loc 1 640 5 is_stmt 1 view .LVU437
 640:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_OBJ_PTR_NULL;
 1143              		.loc 1 640 8 is_stmt 0 view .LVU438
 1144 0034 80B1     		cbz	r0, .L101
 644:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_ABORT_1:
 1145              		.loc 1 644 5 is_stmt 1 view .LVU439
 1146 0036 B1F5004F 		cmp	r1, #32768
 1147 003a 04D0     		beq	.L86
 1148 003c 11D8     		bhi	.L87
 1149 003e 11B1     		cbz	r1, .L86
 1150 0040 B1F5807F 		cmp	r1, #256
 1151 0044 10D1     		bne	.L88
 1152              	.L86:
 649:rtos/uCOS-III/Source/os_mutex.c **** 
 1153              		.loc 1 649 14 view .LVU440
 658:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_OBJ_TYPE;
 1154              		.loc 1 658 5 view .LVU441
ARM GAS  /tmp/ccv4eJMD.s 			page 46


 658:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_OBJ_TYPE;
 1155              		.loc 1 658 16 is_stmt 0 view .LVU442
 1156 0046 2A68     		ldr	r2, [r5]
 1157              	.LVL100:
 658:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_OBJ_TYPE;
 1158              		.loc 1 658 8 view .LVU443
 1159 0048 304B     		ldr	r3, .L106+8
 1160 004a 9A42     		cmp	r2, r3
 1161 004c 11D0     		beq	.L89
 659:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1162              		.loc 1 659 8 is_stmt 1 view .LVU444
 659:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1163              		.loc 1 659 15 is_stmt 0 view .LVU445
 1164 004e 45F6C453 		movw	r3, #24004
 1165 0052 3380     		strh	r3, [r6]	@ movhi
 660:rtos/uCOS-III/Source/os_mutex.c ****     }
 1166              		.loc 1 660 9 is_stmt 1 view .LVU446
 660:rtos/uCOS-III/Source/os_mutex.c ****     }
 1167              		.loc 1 660 16 is_stmt 0 view .LVU447
 1168 0054 0027     		movs	r7, #0
 1169 0056 E9E7     		b	.L83
 1170              	.LVL101:
 1171              	.L101:
 641:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1172              		.loc 1 641 8 is_stmt 1 view .LVU448
 641:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1173              		.loc 1 641 15 is_stmt 0 view .LVU449
 1174 0058 45F6C353 		movw	r3, #24003
 1175 005c 1380     		strh	r3, [r2]	@ movhi
 642:rtos/uCOS-III/Source/os_mutex.c ****     }
 1176              		.loc 1 642 9 is_stmt 1 view .LVU450
 642:rtos/uCOS-III/Source/os_mutex.c ****     }
 1177              		.loc 1 642 16 is_stmt 0 view .LVU451
 1178 005e 0027     		movs	r7, #0
 1179 0060 E4E7     		b	.L83
 1180              	.L87:
 644:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_PEND_ABORT_1:
 1181              		.loc 1 644 5 view .LVU452
 1182 0062 B1F5014F 		cmp	r1, #33024
 1183 0066 EED0     		beq	.L86
 1184              	.L88:
 652:rtos/uCOS-III/Source/os_mutex.c ****              return (0u);
 1185              		.loc 1 652 13 is_stmt 1 view .LVU453
 652:rtos/uCOS-III/Source/os_mutex.c ****              return (0u);
 1186              		.loc 1 652 20 is_stmt 0 view .LVU454
 1187 0068 45F62563 		movw	r3, #24101
 1188 006c 3380     		strh	r3, [r6]	@ movhi
 653:rtos/uCOS-III/Source/os_mutex.c ****     }
 1189              		.loc 1 653 14 is_stmt 1 view .LVU455
 653:rtos/uCOS-III/Source/os_mutex.c ****     }
 1190              		.loc 1 653 21 is_stmt 0 view .LVU456
 1191 006e 0027     		movs	r7, #0
 1192 0070 DCE7     		b	.L83
 1193              	.LVL102:
 1194              	.L89:
 664:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 1195              		.loc 1 664 5 is_stmt 1 view .LVU457
ARM GAS  /tmp/ccv4eJMD.s 			page 47


 664:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 1196              		.loc 1 664 5 view .LVU458
 664:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 1197              		.loc 1 664 5 view .LVU459
 1198 0072 4020     		movs	r0, #64
 1199              	.LVL103:
 664:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 1200              		.loc 1 664 5 is_stmt 0 view .LVU460
 1201 0074 FFF7FEFF 		bl	CPU_SR_Save
 1202              	.LVL104:
 664:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 1203              		.loc 1 664 5 view .LVU461
 1204 0078 0190     		str	r0, [sp, #4]
 1205              	.LVL105:
 664:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 1206              		.loc 1 664 5 is_stmt 1 view .LVU462
 664:rtos/uCOS-III/Source/os_mutex.c ****     p_pend_list = &p_mutex->PendList;
 1207              		.loc 1 664 5 view .LVU463
 665:rtos/uCOS-III/Source/os_mutex.c ****     if (p_pend_list->HeadPtr == (OS_TCB *)0) {                  /* Any task waiting on mutex?      
 1208              		.loc 1 665 5 view .LVU464
 666:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
 1209              		.loc 1 666 5 view .LVU465
 666:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
 1210              		.loc 1 666 20 is_stmt 0 view .LVU466
 1211 007a 6B68     		ldr	r3, [r5, #4]
 666:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();                                    /* No                              
 1212              		.loc 1 666 8 view .LVU467
 1213 007c 0BB1     		cbz	r3, .L102
 672:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 1214              		.loc 1 672 15 view .LVU468
 1215 007e 0027     		movs	r7, #0
 1216 0080 19E0     		b	.L90
 1217              	.L102:
 667:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_NONE;
 1218              		.loc 1 667 9 is_stmt 1 view .LVU469
 667:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_NONE;
 1219              		.loc 1 667 9 view .LVU470
 667:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_NONE;
 1220              		.loc 1 667 9 view .LVU471
 1221 0082 FFF7FEFF 		bl	CPU_SR_Restore
 1222              	.LVL106:
 667:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_NONE;
 1223              		.loc 1 667 9 view .LVU472
 667:rtos/uCOS-III/Source/os_mutex.c ****        *p_err =  OS_ERR_PEND_ABORT_NONE;
 1224              		.loc 1 667 9 view .LVU473
 668:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1225              		.loc 1 668 8 view .LVU474
 668:rtos/uCOS-III/Source/os_mutex.c ****         return (0u);
 1226              		.loc 1 668 15 is_stmt 0 view .LVU475
 1227 0086 46F2AB13 		movw	r3, #25003
 1228 008a 3380     		strh	r3, [r6]	@ movhi
 669:rtos/uCOS-III/Source/os_mutex.c ****     }
 1229              		.loc 1 669 9 is_stmt 1 view .LVU476
 669:rtos/uCOS-III/Source/os_mutex.c ****     }
 1230              		.loc 1 669 16 is_stmt 0 view .LVU477
 1231 008c 0027     		movs	r7, #0
 1232 008e CDE7     		b	.L83
ARM GAS  /tmp/ccv4eJMD.s 			page 48


 1233              	.LVL107:
 1234              	.L103:
 688:rtos/uCOS-III/Source/os_mutex.c ****             prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : prio_new;
 1235              		.loc 1 688 13 is_stmt 1 view .LVU478
 688:rtos/uCOS-III/Source/os_mutex.c ****             prio_new = (prio_new > p_tcb_owner->BasePrio) ? p_tcb_owner->BasePrio : prio_new;
 1236              		.loc 1 688 24 is_stmt 0 view .LVU479
 1237 0090 5846     		mov	r0, fp
 1238 0092 FFF7FEFF 		bl	OS_MutexGrpPrioFindHighest
 1239              	.LVL108:
 689:rtos/uCOS-III/Source/os_mutex.c ****         }
 1240              		.loc 1 689 13 is_stmt 1 view .LVU480
 689:rtos/uCOS-III/Source/os_mutex.c ****         }
 1241              		.loc 1 689 22 is_stmt 0 view .LVU481
 1242 0096 8045     		cmp	r8, r0
 1243 0098 28BF     		it	cs
 1244 009a 8046     		movcs	r8, r0
 1245 009c 5FFA88F1 		uxtb	r1, r8
 1246              	.LVL109:
 689:rtos/uCOS-III/Source/os_mutex.c ****         }
 1247              		.loc 1 689 22 view .LVU482
 1248 00a0 20E0     		b	.L91
 1249              	.LVL110:
 1250              	.L97:
 685:rtos/uCOS-III/Source/os_mutex.c ****         if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 1251              		.loc 1 685 21 view .LVU483
 1252 00a2 4946     		mov	r1, r9
 1253 00a4 1EE0     		b	.L91
 1254              	.LVL111:
 1255              	.L104:
 693:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(p_tcb_owner, p_tcb_owner->Prio);
 1256              		.loc 1 693 13 is_stmt 1 view .LVU484
 1257 00a6 5846     		mov	r0, fp
 1258 00a8 FFF7FEFF 		bl	OS_TaskChangePrio
 1259              	.LVL112:
 1260              	.L92:
 694:rtos/uCOS-III/Source/os_mutex.c ****         }
 1261              		.loc 1 694 80 view .LVU485
 697:rtos/uCOS-III/Source/os_mutex.c ****         if (opt != OS_OPT_PEND_ABORT_ALL) {                     /* Pend abort all tasks waiting?   
 1262              		.loc 1 697 9 view .LVU486
 697:rtos/uCOS-III/Source/os_mutex.c ****         if (opt != OS_OPT_PEND_ABORT_ALL) {                     /* Pend abort all tasks waiting?   
 1263              		.loc 1 697 18 is_stmt 0 view .LVU487
 1264 00ac 0137     		adds	r7, r7, #1
 1265              	.LVL113:
 697:rtos/uCOS-III/Source/os_mutex.c ****         if (opt != OS_OPT_PEND_ABORT_ALL) {                     /* Pend abort all tasks waiting?   
 1266              		.loc 1 697 18 view .LVU488
 1267 00ae BFB2     		uxth	r7, r7
 1268              	.LVL114:
 698:rtos/uCOS-III/Source/os_mutex.c ****             break;                                              /* No                              
 1269              		.loc 1 698 9 is_stmt 1 view .LVU489
 698:rtos/uCOS-III/Source/os_mutex.c ****             break;                                              /* No                              
 1270              		.loc 1 698 12 is_stmt 0 view .LVU490
 1271 00b0 B4F5807F 		cmp	r4, #256
 1272 00b4 19D1     		bne	.L93
 1273              	.LVL115:
 1274              	.L90:
 678:rtos/uCOS-III/Source/os_mutex.c ****         p_tcb = p_pend_list->HeadPtr;
 1275              		.loc 1 678 11 is_stmt 1 view .LVU491
ARM GAS  /tmp/ccv4eJMD.s 			page 49


 678:rtos/uCOS-III/Source/os_mutex.c ****         p_tcb = p_pend_list->HeadPtr;
 1276              		.loc 1 678 23 is_stmt 0 view .LVU492
 1277 00b6 D5F804A0 		ldr	r10, [r5, #4]
 678:rtos/uCOS-III/Source/os_mutex.c ****         p_tcb = p_pend_list->HeadPtr;
 1278              		.loc 1 678 11 view .LVU493
 1279 00ba BAF1000F 		cmp	r10, #0
 1280 00be 14D0     		beq	.L93
 679:rtos/uCOS-III/Source/os_mutex.c **** 
 1281              		.loc 1 679 9 is_stmt 1 view .LVU494
 1282              	.LVL116:
 681:rtos/uCOS-III/Source/os_mutex.c ****                      ts,
 1283              		.loc 1 681 9 view .LVU495
 1284 00c0 0122     		movs	r2, #1
 1285 00c2 0021     		movs	r1, #0
 1286 00c4 5046     		mov	r0, r10
 1287 00c6 FFF7FEFF 		bl	OS_PendAbort
 1288              	.LVL117:
 684:rtos/uCOS-III/Source/os_mutex.c ****         prio_new    = p_tcb_owner->Prio;
 1289              		.loc 1 684 9 view .LVU496
 684:rtos/uCOS-III/Source/os_mutex.c ****         prio_new    = p_tcb_owner->Prio;
 1290              		.loc 1 684 21 is_stmt 0 view .LVU497
 1291 00ca D5F810B0 		ldr	fp, [r5, #16]
 1292              	.LVL118:
 685:rtos/uCOS-III/Source/os_mutex.c ****         if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 1293              		.loc 1 685 9 is_stmt 1 view .LVU498
 685:rtos/uCOS-III/Source/os_mutex.c ****         if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 1294              		.loc 1 685 21 is_stmt 0 view .LVU499
 1295 00ce 9BF82F90 		ldrb	r9, [fp, #47]	@ zero_extendqisi2
 1296              	.LVL119:
 686:rtos/uCOS-III/Source/os_mutex.c ****             (p_tcb_owner->Prio == p_tcb->Prio)) {               /* Has the owner inherited a priori
 1297              		.loc 1 686 9 is_stmt 1 view .LVU500
 686:rtos/uCOS-III/Source/os_mutex.c ****             (p_tcb_owner->Prio == p_tcb->Prio)) {               /* Has the owner inherited a priori
 1298              		.loc 1 686 46 is_stmt 0 view .LVU501
 1299 00d2 9BF83080 		ldrb	r8, [fp, #48]	@ zero_extendqisi2
 686:rtos/uCOS-III/Source/os_mutex.c ****             (p_tcb_owner->Prio == p_tcb->Prio)) {               /* Has the owner inherited a priori
 1300              		.loc 1 686 12 view .LVU502
 1301 00d6 C845     		cmp	r8, r9
 1302 00d8 E3D0     		beq	.L97
 687:rtos/uCOS-III/Source/os_mutex.c ****             prio_new = OS_MutexGrpPrioFindHighest(p_tcb_owner);
 1303              		.loc 1 687 40 discriminator 1 view .LVU503
 1304 00da 9AF82F30 		ldrb	r3, [r10, #47]	@ zero_extendqisi2
 686:rtos/uCOS-III/Source/os_mutex.c ****             (p_tcb_owner->Prio == p_tcb->Prio)) {               /* Has the owner inherited a priori
 1305              		.loc 1 686 58 discriminator 1 view .LVU504
 1306 00de 4B45     		cmp	r3, r9
 1307 00e0 D6D0     		beq	.L103
 685:rtos/uCOS-III/Source/os_mutex.c ****         if ((p_tcb_owner->Prio != p_tcb_owner->BasePrio) &&
 1308              		.loc 1 685 21 view .LVU505
 1309 00e2 4946     		mov	r1, r9
 1310              	.LVL120:
 1311              	.L91:
 692:rtos/uCOS-III/Source/os_mutex.c ****             OS_TaskChangePrio(p_tcb_owner, prio_new);
 1312              		.loc 1 692 9 is_stmt 1 view .LVU506
 692:rtos/uCOS-III/Source/os_mutex.c ****             OS_TaskChangePrio(p_tcb_owner, prio_new);
 1313              		.loc 1 692 11 is_stmt 0 view .LVU507
 1314 00e4 4945     		cmp	r1, r9
 1315 00e6 E1D0     		beq	.L92
 1316 00e8 DDE7     		b	.L104
ARM GAS  /tmp/ccv4eJMD.s 			page 50


 1317              	.LVL121:
 1318              	.L93:
 702:rtos/uCOS-III/Source/os_mutex.c **** 
 1319              		.loc 1 702 5 is_stmt 1 view .LVU508
 702:rtos/uCOS-III/Source/os_mutex.c **** 
 1320              		.loc 1 702 5 view .LVU509
 702:rtos/uCOS-III/Source/os_mutex.c **** 
 1321              		.loc 1 702 5 view .LVU510
 1322 00ea 0198     		ldr	r0, [sp, #4]
 1323 00ec FFF7FEFF 		bl	CPU_SR_Restore
 1324              	.LVL122:
 702:rtos/uCOS-III/Source/os_mutex.c **** 
 1325              		.loc 1 702 5 view .LVU511
 702:rtos/uCOS-III/Source/os_mutex.c **** 
 1326              		.loc 1 702 5 view .LVU512
 704:rtos/uCOS-III/Source/os_mutex.c ****         OSSched();                                              /* Run the scheduler               
 1327              		.loc 1 704 5 view .LVU513
 704:rtos/uCOS-III/Source/os_mutex.c ****         OSSched();                                              /* Run the scheduler               
 1328              		.loc 1 704 8 is_stmt 0 view .LVU514
 1329 00f0 14F4004F 		tst	r4, #32768
 1330 00f4 02D0     		beq	.L105
 1331              	.L95:
 708:rtos/uCOS-III/Source/os_mutex.c ****     return (nbr_tasks);
 1332              		.loc 1 708 4 is_stmt 1 view .LVU515
 708:rtos/uCOS-III/Source/os_mutex.c ****     return (nbr_tasks);
 1333              		.loc 1 708 11 is_stmt 0 view .LVU516
 1334 00f6 0023     		movs	r3, #0
 1335 00f8 3380     		strh	r3, [r6]	@ movhi
 709:rtos/uCOS-III/Source/os_mutex.c **** }
 1336              		.loc 1 709 5 is_stmt 1 view .LVU517
 709:rtos/uCOS-III/Source/os_mutex.c **** }
 1337              		.loc 1 709 12 is_stmt 0 view .LVU518
 1338 00fa 97E7     		b	.L83
 1339              	.L105:
 705:rtos/uCOS-III/Source/os_mutex.c ****     }
 1340              		.loc 1 705 9 is_stmt 1 view .LVU519
 1341 00fc FFF7FEFF 		bl	OSSched
 1342              	.LVL123:
 1343 0100 F9E7     		b	.L95
 1344              	.L107:
 1345 0102 00BF     		.align	2
 1346              	.L106:
 1347 0104 00000000 		.word	OSIntNestingCtr
 1348 0108 00000000 		.word	OSRunning
 1349 010c 4D555458 		.word	1481921869
 1350              		.cfi_endproc
 1351              	.LFE3:
 1353              		.section	.text.OSMutexPost,"ax",%progbits
 1354              		.align	1
 1355              		.global	OSMutexPost
 1356              		.syntax unified
 1357              		.thumb
 1358              		.thumb_func
 1359              		.fpu fpv4-sp-d16
 1361              	OSMutexPost:
 1362              	.LVL124:
 1363              	.LFB4:
ARM GAS  /tmp/ccv4eJMD.s 			page 51


 747:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 1364              		.loc 1 747 1 view -0
 1365              		.cfi_startproc
 1366              		@ args = 0, pretend = 0, frame = 0
 1367              		@ frame_needed = 0, uses_anonymous_args = 0
 747:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 1368              		.loc 1 747 1 is_stmt 0 view .LVU521
 1369 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1370              	.LCFI8:
 1371              		.cfi_def_cfa_offset 32
 1372              		.cfi_offset 4, -32
 1373              		.cfi_offset 5, -28
 1374              		.cfi_offset 6, -24
 1375              		.cfi_offset 7, -20
 1376              		.cfi_offset 8, -16
 1377              		.cfi_offset 9, -12
 1378              		.cfi_offset 10, -8
 1379              		.cfi_offset 14, -4
 1380 0004 82B0     		sub	sp, sp, #8
 1381              	.LCFI9:
 1382              		.cfi_def_cfa_offset 40
 1383 0006 1446     		mov	r4, r2
 748:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb;
 1384              		.loc 1 748 5 is_stmt 1 view .LVU522
 749:rtos/uCOS-III/Source/os_mutex.c ****     CPU_TS         ts;
 1385              		.loc 1 749 5 view .LVU523
 750:rtos/uCOS-III/Source/os_mutex.c ****     OS_PRIO        prio_new;
 1386              		.loc 1 750 5 view .LVU524
 751:rtos/uCOS-III/Source/os_mutex.c ****     CPU_SR_ALLOC();
 1387              		.loc 1 751 5 view .LVU525
 752:rtos/uCOS-III/Source/os_mutex.c **** 
 1388              		.loc 1 752 5 view .LVU526
 1389              	.LVL125:
 762:rtos/uCOS-III/Source/os_mutex.c **** 
 1390              		.loc 1 762 44 view .LVU527
 765:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1391              		.loc 1 765 5 view .LVU528
 765:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1392              		.loc 1 765 25 is_stmt 0 view .LVU529
 1393 0008 4A4B     		ldr	r3, .L128
 1394 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 765:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1395              		.loc 1 765 8 view .LVU530
 1396 000c 4BB9     		cbnz	r3, .L121
 1397 000e 0646     		mov	r6, r0
 1398 0010 0D46     		mov	r5, r1
 774:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OS_NOT_RUNNING);
 1399              		.loc 1 774 5 is_stmt 1 view .LVU531
 774:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OS_NOT_RUNNING);
 1400              		.loc 1 774 19 is_stmt 0 view .LVU532
 1401 0012 494B     		ldr	r3, .L128+4
 1402 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 774:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OS_NOT_RUNNING);
 1403              		.loc 1 774 8 view .LVU533
 1404 0016 012B     		cmp	r3, #1
 1405 0018 09D0     		beq	.L111
 775:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OS_NOT_RUNNING;
ARM GAS  /tmp/ccv4eJMD.s 			page 52


 1406              		.loc 1 775 56 is_stmt 1 view .LVU534
 776:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1407              		.loc 1 776 8 view .LVU535
 776:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1408              		.loc 1 776 15 is_stmt 0 view .LVU536
 1409 001a 45F68963 		movw	r3, #24201
 1410 001e 1380     		strh	r3, [r2]	@ movhi
 777:rtos/uCOS-III/Source/os_mutex.c ****     }
 1411              		.loc 1 777 9 is_stmt 1 view .LVU537
 1412 0020 02E0     		b	.L108
 1413              	.L121:
 766:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_POST_ISR);
 1414              		.loc 1 766 44 view .LVU538
 767:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_POST_ISR;
 1415              		.loc 1 767 50 view .LVU539
 768:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1416              		.loc 1 768 8 view .LVU540
 768:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1417              		.loc 1 768 15 is_stmt 0 view .LVU541
 1418 0022 46F20E23 		movw	r3, #25102
 1419 0026 1380     		strh	r3, [r2]	@ movhi
 769:rtos/uCOS-III/Source/os_mutex.c ****     }
 1420              		.loc 1 769 9 is_stmt 1 view .LVU542
 1421              	.LVL126:
 1422              	.L108:
 878:rtos/uCOS-III/Source/os_mutex.c **** 
 1423              		.loc 1 878 1 is_stmt 0 view .LVU543
 1424 0028 02B0     		add	sp, sp, #8
 1425              	.LCFI10:
 1426              		.cfi_remember_state
 1427              		.cfi_def_cfa_offset 32
 1428              		@ sp needed
 1429 002a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1430              	.LVL127:
 1431              	.L111:
 1432              	.LCFI11:
 1433              		.cfi_restore_state
 782:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1434              		.loc 1 782 5 is_stmt 1 view .LVU544
 782:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1435              		.loc 1 782 8 is_stmt 0 view .LVU545
 1436 002e 38B1     		cbz	r0, .L122
 788:rtos/uCOS-III/Source/os_mutex.c ****         case OS_OPT_POST_NONE:
 1437              		.loc 1 788 5 is_stmt 1 view .LVU546
 1438 0030 51B1     		cbz	r1, .L113
 1439 0032 B1F5004F 		cmp	r1, #32768
 1440 0036 07D0     		beq	.L113
 794:rtos/uCOS-III/Source/os_mutex.c ****              OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OPT_INVALID);
 1441              		.loc 1 794 49 view .LVU547
 795:rtos/uCOS-III/Source/os_mutex.c ****             *p_err =  OS_ERR_OPT_INVALID;
 1442              		.loc 1 795 58 view .LVU548
 796:rtos/uCOS-III/Source/os_mutex.c ****              return;
 1443              		.loc 1 796 13 view .LVU549
 796:rtos/uCOS-III/Source/os_mutex.c ****              return;
 1444              		.loc 1 796 20 is_stmt 0 view .LVU550
 1445 0038 45F62563 		movw	r3, #24101
 1446 003c 1380     		strh	r3, [r2]	@ movhi
ARM GAS  /tmp/ccv4eJMD.s 			page 53


 797:rtos/uCOS-III/Source/os_mutex.c ****     }
 1447              		.loc 1 797 14 is_stmt 1 view .LVU551
 1448 003e F3E7     		b	.L108
 1449              	.L122:
 783:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OBJ_PTR_NULL);
 1450              		.loc 1 783 44 view .LVU552
 784:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_PTR_NULL;
 1451              		.loc 1 784 54 view .LVU553
 785:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1452              		.loc 1 785 8 view .LVU554
 785:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1453              		.loc 1 785 15 is_stmt 0 view .LVU555
 1454 0040 45F6C353 		movw	r3, #24003
 1455 0044 1380     		strh	r3, [r2]	@ movhi
 786:rtos/uCOS-III/Source/os_mutex.c ****     }
 1456              		.loc 1 786 9 is_stmt 1 view .LVU556
 1457 0046 EFE7     		b	.L108
 1458              	.L113:
 791:rtos/uCOS-III/Source/os_mutex.c **** 
 1459              		.loc 1 791 14 view .LVU557
 802:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1460              		.loc 1 802 5 view .LVU558
 802:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1461              		.loc 1 802 16 is_stmt 0 view .LVU559
 1462 0048 3268     		ldr	r2, [r6]
 1463              	.LVL128:
 802:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1464              		.loc 1 802 8 view .LVU560
 1465 004a 3C4B     		ldr	r3, .L128+8
 1466 004c 9A42     		cmp	r2, r3
 1467 004e 03D0     		beq	.L114
 803:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_OBJ_TYPE);
 1468              		.loc 1 803 44 is_stmt 1 view .LVU561
 804:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_OBJ_TYPE;
 1469              		.loc 1 804 50 view .LVU562
 805:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1470              		.loc 1 805 8 view .LVU563
 805:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1471              		.loc 1 805 15 is_stmt 0 view .LVU564
 1472 0050 45F6C453 		movw	r3, #24004
 1473 0054 2380     		strh	r3, [r4]	@ movhi
 806:rtos/uCOS-III/Source/os_mutex.c ****     }
 1474              		.loc 1 806 9 is_stmt 1 view .LVU565
 1475 0056 E7E7     		b	.L108
 1476              	.L114:
 810:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 1477              		.loc 1 810 5 view .LVU566
 810:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 1478              		.loc 1 810 5 view .LVU567
 810:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 1479              		.loc 1 810 5 view .LVU568
 1480 0058 4020     		movs	r0, #64
 1481              	.LVL129:
 810:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 1482              		.loc 1 810 5 is_stmt 0 view .LVU569
 1483 005a FFF7FEFF 		bl	CPU_SR_Save
 1484              	.LVL130:
ARM GAS  /tmp/ccv4eJMD.s 			page 54


 810:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 1485              		.loc 1 810 5 view .LVU570
 1486 005e 0746     		mov	r7, r0
 1487              	.LVL131:
 810:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 1488              		.loc 1 810 5 is_stmt 1 view .LVU571
 810:rtos/uCOS-III/Source/os_mutex.c ****     if (OSTCBCurPtr != p_mutex->OwnerTCBPtr) {                  /* Make sure the mutex owner is rel
 1489              		.loc 1 810 5 view .LVU572
 811:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 1490              		.loc 1 811 5 view .LVU573
 811:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 1491              		.loc 1 811 31 is_stmt 0 view .LVU574
 1492 0060 3369     		ldr	r3, [r6, #16]
 811:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 1493              		.loc 1 811 21 view .LVU575
 1494 0062 374A     		ldr	r2, .L128+12
 1495 0064 1068     		ldr	r0, [r2]
 1496              	.LVL132:
 811:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 1497              		.loc 1 811 8 view .LVU576
 1498 0066 8342     		cmp	r3, r0
 1499 0068 2CD1     		bne	.L123
 819:rtos/uCOS-III/Source/os_mutex.c **** 
 1500              		.loc 1 819 33 is_stmt 1 view .LVU577
 825:rtos/uCOS-III/Source/os_mutex.c **** #endif
 1501              		.loc 1 825 5 view .LVU578
 1502              	.LVL133:
 827:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr > 0u) {                        /* Are we done with all nestings?  
 1503              		.loc 1 827 5 view .LVU579
 827:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr > 0u) {                        /* Are we done with all nestings?  
 1504              		.loc 1 827 12 is_stmt 0 view .LVU580
 1505 006a 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 827:rtos/uCOS-III/Source/os_mutex.c ****     if (p_mutex->OwnerNestingCtr > 0u) {                        /* Are we done with all nestings?  
 1506              		.loc 1 827 29 view .LVU581
 1507 006c 013B     		subs	r3, r3, #1
 1508 006e DBB2     		uxtb	r3, r3
 1509 0070 3375     		strb	r3, [r6, #20]
 828:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();                                     /* No                             
 1510              		.loc 1 828 5 is_stmt 1 view .LVU582
 828:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();                                     /* No                             
 1511              		.loc 1 828 8 is_stmt 0 view .LVU583
 1512 0072 73BB     		cbnz	r3, .L124
 835:rtos/uCOS-III/Source/os_mutex.c **** 
 1513              		.loc 1 835 5 is_stmt 1 view .LVU584
 1514 0074 3146     		mov	r1, r6
 1515 0076 FFF7FEFF 		bl	OS_MutexGrpRemove
 1516              	.LVL134:
 837:rtos/uCOS-III/Source/os_mutex.c ****     if (p_pend_list->HeadPtr == (OS_TCB *)0) {                  /* Any task waiting on mutex?      
 1517              		.loc 1 837 5 view .LVU585
 838:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = (OS_TCB *)0;                 /* No                              
 1518              		.loc 1 838 5 view .LVU586
 838:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = (OS_TCB *)0;                 /* No                              
 1519              		.loc 1 838 20 is_stmt 0 view .LVU587
 1520 007a 7368     		ldr	r3, [r6, #4]
 838:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerTCBPtr     = (OS_TCB *)0;                 /* No                              
 1521              		.loc 1 838 8 view .LVU588
 1522 007c 83B3     		cbz	r3, .L125
ARM GAS  /tmp/ccv4eJMD.s 			page 55


 847:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = OS_MutexGrpPrioFindHighest(OSTCBCurPtr);     /* Yes, find highest priority pendi
 1523              		.loc 1 847 5 is_stmt 1 view .LVU589
 847:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = OS_MutexGrpPrioFindHighest(OSTCBCurPtr);     /* Yes, find highest priority pendi
 1524              		.loc 1 847 20 is_stmt 0 view .LVU590
 1525 007e 304B     		ldr	r3, .L128+12
 1526 0080 D3F80090 		ldr	r9, [r3]
 1527 0084 99F82FA0 		ldrb	r10, [r9, #47]	@ zero_extendqisi2
 847:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = OS_MutexGrpPrioFindHighest(OSTCBCurPtr);     /* Yes, find highest priority pendi
 1528              		.loc 1 847 41 view .LVU591
 1529 0088 99F83080 		ldrb	r8, [r9, #48]	@ zero_extendqisi2
 847:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = OS_MutexGrpPrioFindHighest(OSTCBCurPtr);     /* Yes, find highest priority pendi
 1530              		.loc 1 847 8 view .LVU592
 1531 008c C245     		cmp	r10, r8
 1532 008e 2FD1     		bne	.L126
 1533              	.L118:
 860:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerTCBPtr     = p_tcb;                           /* Give mutex to new owner         
 1534              		.loc 1 860 5 is_stmt 1 view .LVU593
 860:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerTCBPtr     = p_tcb;                           /* Give mutex to new owner         
 1535              		.loc 1 860 30 is_stmt 0 view .LVU594
 1536 0090 D6F80480 		ldr	r8, [r6, #4]
 1537              	.LVL135:
 861:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerNestingCtr = 1u;
 1538              		.loc 1 861 5 is_stmt 1 view .LVU595
 861:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex->OwnerNestingCtr = 1u;
 1539              		.loc 1 861 30 is_stmt 0 view .LVU596
 1540 0094 C6F81080 		str	r8, [r6, #16]
 862:rtos/uCOS-III/Source/os_mutex.c ****     OS_MutexGrpAdd(p_tcb, p_mutex);
 1541              		.loc 1 862 5 is_stmt 1 view .LVU597
 862:rtos/uCOS-III/Source/os_mutex.c ****     OS_MutexGrpAdd(p_tcb, p_mutex);
 1542              		.loc 1 862 30 is_stmt 0 view .LVU598
 1543 0098 0123     		movs	r3, #1
 1544 009a 3375     		strb	r3, [r6, #20]
 863:rtos/uCOS-III/Source/os_mutex.c ****                                                                 /* Post to mutex                   
 1545              		.loc 1 863 5 is_stmt 1 view .LVU599
 1546 009c 3146     		mov	r1, r6
 1547 009e 4046     		mov	r0, r8
 1548 00a0 FFF7FEFF 		bl	OS_MutexGrpAdd
 1549              	.LVL136:
 865:rtos/uCOS-III/Source/os_mutex.c ****                            p_tcb,
 1550              		.loc 1 865 5 view .LVU600
 1551 00a4 0022     		movs	r2, #0
 1552 00a6 0092     		str	r2, [sp]
 1553 00a8 1346     		mov	r3, r2
 1554 00aa 4146     		mov	r1, r8
 1555 00ac 3046     		mov	r0, r6
 1556 00ae FFF7FEFF 		bl	OS_Post
 1557              	.LVL137:
 871:rtos/uCOS-III/Source/os_mutex.c **** 
 1558              		.loc 1 871 5 view .LVU601
 871:rtos/uCOS-III/Source/os_mutex.c **** 
 1559              		.loc 1 871 5 view .LVU602
 871:rtos/uCOS-III/Source/os_mutex.c **** 
 1560              		.loc 1 871 5 view .LVU603
 1561 00b2 3846     		mov	r0, r7
 1562 00b4 FFF7FEFF 		bl	CPU_SR_Restore
 1563              	.LVL138:
 871:rtos/uCOS-III/Source/os_mutex.c **** 
ARM GAS  /tmp/ccv4eJMD.s 			page 56


 1564              		.loc 1 871 5 view .LVU604
 871:rtos/uCOS-III/Source/os_mutex.c **** 
 1565              		.loc 1 871 5 view .LVU605
 873:rtos/uCOS-III/Source/os_mutex.c ****         OSSched();                                              /* Run the scheduler               
 1566              		.loc 1 873 5 view .LVU606
 873:rtos/uCOS-III/Source/os_mutex.c ****         OSSched();                                              /* Run the scheduler               
 1567              		.loc 1 873 8 is_stmt 0 view .LVU607
 1568 00b8 15F4004F 		tst	r5, #32768
 1569 00bc 36D0     		beq	.L127
 1570              	.L119:
 876:rtos/uCOS-III/Source/os_mutex.c ****    *p_err = OS_ERR_NONE;
 1571              		.loc 1 876 42 is_stmt 1 view .LVU608
 877:rtos/uCOS-III/Source/os_mutex.c **** }
 1572              		.loc 1 877 4 view .LVU609
 877:rtos/uCOS-III/Source/os_mutex.c **** }
 1573              		.loc 1 877 11 is_stmt 0 view .LVU610
 1574 00be 0023     		movs	r3, #0
 1575 00c0 2380     		strh	r3, [r4]	@ movhi
 1576 00c2 B1E7     		b	.L108
 1577              	.LVL139:
 1578              	.L123:
 812:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1579              		.loc 1 812 9 is_stmt 1 view .LVU611
 812:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1580              		.loc 1 812 9 view .LVU612
 812:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1581              		.loc 1 812 9 view .LVU613
 1582 00c4 3846     		mov	r0, r7
 1583 00c6 FFF7FEFF 		bl	CPU_SR_Restore
 1584              	.LVL140:
 812:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1585              		.loc 1 812 9 view .LVU614
 812:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_FAILED(p_mutex);
 1586              		.loc 1 812 9 view .LVU615
 813:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NOT_OWNER);
 1587              		.loc 1 813 44 view .LVU616
 814:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_MUTEX_NOT_OWNER;
 1588              		.loc 1 814 57 view .LVU617
 815:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1589              		.loc 1 815 8 view .LVU618
 815:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1590              		.loc 1 815 15 is_stmt 0 view .LVU619
 1591 00ca 45F28173 		movw	r3, #22401
 1592 00ce 2380     		strh	r3, [r4]	@ movhi
 816:rtos/uCOS-III/Source/os_mutex.c ****     }
 1593              		.loc 1 816 9 is_stmt 1 view .LVU620
 1594 00d0 AAE7     		b	.L108
 1595              	.LVL141:
 1596              	.L124:
 829:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NESTING);
 1597              		.loc 1 829 9 view .LVU621
 829:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NESTING);
 1598              		.loc 1 829 9 view .LVU622
 829:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NESTING);
 1599              		.loc 1 829 9 view .LVU623
 1600 00d2 3846     		mov	r0, r7
 1601 00d4 FFF7FEFF 		bl	CPU_SR_Restore
ARM GAS  /tmp/ccv4eJMD.s 			page 57


 1602              	.LVL142:
 829:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NESTING);
 1603              		.loc 1 829 9 view .LVU624
 829:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_MUTEX_NESTING);
 1604              		.loc 1 829 9 view .LVU625
 830:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_MUTEX_NESTING;
 1605              		.loc 1 830 55 view .LVU626
 831:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1606              		.loc 1 831 8 view .LVU627
 831:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1607              		.loc 1 831 15 is_stmt 0 view .LVU628
 1608 00d8 45F28373 		movw	r3, #22403
 1609 00dc 2380     		strh	r3, [r4]	@ movhi
 832:rtos/uCOS-III/Source/os_mutex.c ****     }
 1610              		.loc 1 832 9 is_stmt 1 view .LVU629
 1611 00de A3E7     		b	.L108
 1612              	.LVL143:
 1613              	.L125:
 839:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr =           0u;
 1614              		.loc 1 839 9 view .LVU630
 839:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->OwnerNestingCtr =           0u;
 1615              		.loc 1 839 34 is_stmt 0 view .LVU631
 1616 00e0 0025     		movs	r5, #0
 1617 00e2 3561     		str	r5, [r6, #16]
 840:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 1618              		.loc 1 840 9 is_stmt 1 view .LVU632
 840:rtos/uCOS-III/Source/os_mutex.c ****         CPU_CRITICAL_EXIT();
 1619              		.loc 1 840 34 is_stmt 0 view .LVU633
 1620 00e4 3575     		strb	r5, [r6, #20]
 841:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_NONE);
 1621              		.loc 1 841 9 is_stmt 1 view .LVU634
 841:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_NONE);
 1622              		.loc 1 841 9 view .LVU635
 841:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_NONE);
 1623              		.loc 1 841 9 view .LVU636
 1624 00e6 3846     		mov	r0, r7
 1625 00e8 FFF7FEFF 		bl	CPU_SR_Restore
 1626              	.LVL144:
 841:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_NONE);
 1627              		.loc 1 841 9 view .LVU637
 841:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST_EXIT(OS_ERR_NONE);
 1628              		.loc 1 841 9 view .LVU638
 842:rtos/uCOS-III/Source/os_mutex.c ****        *p_err = OS_ERR_NONE;
 1629              		.loc 1 842 46 view .LVU639
 843:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1630              		.loc 1 843 8 view .LVU640
 843:rtos/uCOS-III/Source/os_mutex.c ****         return;
 1631              		.loc 1 843 15 is_stmt 0 view .LVU641
 1632 00ec 2580     		strh	r5, [r4]	@ movhi
 844:rtos/uCOS-III/Source/os_mutex.c ****     }
 1633              		.loc 1 844 9 is_stmt 1 view .LVU642
 1634 00ee 9BE7     		b	.L108
 1635              	.L126:
 848:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = (prio_new > OSTCBCurPtr->BasePrio) ? OSTCBCurPtr->BasePrio : prio_new;
 1636              		.loc 1 848 9 view .LVU643
 848:rtos/uCOS-III/Source/os_mutex.c ****         prio_new = (prio_new > OSTCBCurPtr->BasePrio) ? OSTCBCurPtr->BasePrio : prio_new;
 1637              		.loc 1 848 20 is_stmt 0 view .LVU644
ARM GAS  /tmp/ccv4eJMD.s 			page 58


 1638 00f0 4846     		mov	r0, r9
 1639 00f2 FFF7FEFF 		bl	OS_MutexGrpPrioFindHighest
 1640              	.LVL145:
 849:rtos/uCOS-III/Source/os_mutex.c ****         if (prio_new > OSTCBCurPtr->Prio) {
 1641              		.loc 1 849 9 is_stmt 1 view .LVU645
 849:rtos/uCOS-III/Source/os_mutex.c ****         if (prio_new > OSTCBCurPtr->Prio) {
 1642              		.loc 1 849 18 is_stmt 0 view .LVU646
 1643 00f6 8045     		cmp	r8, r0
 1644 00f8 28BF     		it	cs
 1645 00fa 8046     		movcs	r8, r0
 1646 00fc 5FFA88F8 		uxtb	r8, r8
 1647              	.LVL146:
 850:rtos/uCOS-III/Source/os_mutex.c ****             OS_RdyListRemove(OSTCBCurPtr);
 1648              		.loc 1 850 9 is_stmt 1 view .LVU647
 850:rtos/uCOS-III/Source/os_mutex.c ****             OS_RdyListRemove(OSTCBCurPtr);
 1649              		.loc 1 850 12 is_stmt 0 view .LVU648
 1650 0100 C245     		cmp	r10, r8
 1651 0102 C5D2     		bcs	.L118
 851:rtos/uCOS-III/Source/os_mutex.c ****             OSTCBCurPtr->Prio = prio_new;                       /* Lower owner's priority back to i
 1652              		.loc 1 851 13 is_stmt 1 view .LVU649
 1653 0104 4846     		mov	r0, r9
 1654 0106 FFF7FEFF 		bl	OS_RdyListRemove
 1655              	.LVL147:
 852:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(OSTCBCurPtr, prio_new);
 1656              		.loc 1 852 13 view .LVU650
 852:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(OSTCBCurPtr, prio_new);
 1657              		.loc 1 852 24 is_stmt 0 view .LVU651
 1658 010a DFF83490 		ldr	r9, .L128+12
 1659 010e D9F80030 		ldr	r3, [r9]
 852:rtos/uCOS-III/Source/os_mutex.c ****             OS_TRACE_MUTEX_TASK_PRIO_DISINHERIT(OSTCBCurPtr, prio_new);
 1660              		.loc 1 852 31 view .LVU652
 1661 0112 83F82F80 		strb	r8, [r3, #47]
 853:rtos/uCOS-III/Source/os_mutex.c ****             OS_PrioInsert(prio_new);
 1662              		.loc 1 853 71 is_stmt 1 view .LVU653
 854:rtos/uCOS-III/Source/os_mutex.c ****             OS_RdyListInsertTail(OSTCBCurPtr);                  /* Insert owner in ready list at ne
 1663              		.loc 1 854 13 view .LVU654
 1664 0116 4046     		mov	r0, r8
 1665 0118 FFF7FEFF 		bl	OS_PrioInsert
 1666              	.LVL148:
 855:rtos/uCOS-III/Source/os_mutex.c ****             OSPrioCur         = prio_new;
 1667              		.loc 1 855 13 view .LVU655
 1668 011c D9F80000 		ldr	r0, [r9]
 1669 0120 FFF7FEFF 		bl	OS_RdyListInsertTail
 1670              	.LVL149:
 856:rtos/uCOS-III/Source/os_mutex.c ****         }
 1671              		.loc 1 856 13 view .LVU656
 856:rtos/uCOS-III/Source/os_mutex.c ****         }
 1672              		.loc 1 856 31 is_stmt 0 view .LVU657
 1673 0124 074B     		ldr	r3, .L128+16
 1674 0126 83F80080 		strb	r8, [r3]
 1675 012a B1E7     		b	.L118
 1676              	.LVL150:
 1677              	.L127:
 874:rtos/uCOS-III/Source/os_mutex.c ****     }
 1678              		.loc 1 874 9 is_stmt 1 view .LVU658
 1679 012c FFF7FEFF 		bl	OSSched
 1680              	.LVL151:
ARM GAS  /tmp/ccv4eJMD.s 			page 59


 1681 0130 C5E7     		b	.L119
 1682              	.L129:
 1683 0132 00BF     		.align	2
 1684              	.L128:
 1685 0134 00000000 		.word	OSIntNestingCtr
 1686 0138 00000000 		.word	OSRunning
 1687 013c 4D555458 		.word	1481921869
 1688 0140 00000000 		.word	OSTCBCurPtr
 1689 0144 00000000 		.word	OSPrioCur
 1690              		.cfi_endproc
 1691              	.LFE4:
 1693              		.section	.text.OS_MutexGrpPostAll,"ax",%progbits
 1694              		.align	1
 1695              		.global	OS_MutexGrpPostAll
 1696              		.syntax unified
 1697              		.thumb
 1698              		.thumb_func
 1699              		.fpu fpv4-sp-d16
 1701              	OS_MutexGrpPostAll:
 1702              	.LVL152:
 1703              	.LFB9:
1071:rtos/uCOS-III/Source/os_mutex.c **** 
1072:rtos/uCOS-III/Source/os_mutex.c **** 
1073:rtos/uCOS-III/Source/os_mutex.c **** /*
1074:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
1075:rtos/uCOS-III/Source/os_mutex.c **** *                                               MUTEX GROUP POST ALL
1076:rtos/uCOS-III/Source/os_mutex.c **** *
1077:rtos/uCOS-III/Source/os_mutex.c **** * Description: This function is called by the kernel to post (release) all the mutex from a group. 
1078:rtos/uCOS-III/Source/os_mutex.c **** *              a task.
1079:rtos/uCOS-III/Source/os_mutex.c **** *
1080:rtos/uCOS-III/Source/os_mutex.c **** 
1081:rtos/uCOS-III/Source/os_mutex.c **** * Argument(s): p_tcb        is a pointer to the tcb of the task to process.
1082:rtos/uCOS-III/Source/os_mutex.c **** *
1083:rtos/uCOS-III/Source/os_mutex.c **** *
1084:rtos/uCOS-III/Source/os_mutex.c **** * Returns    : none.
1085:rtos/uCOS-III/Source/os_mutex.c **** *
1086:rtos/uCOS-III/Source/os_mutex.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1087:rtos/uCOS-III/Source/os_mutex.c **** ***************************************************************************************************
1088:rtos/uCOS-III/Source/os_mutex.c **** */
1089:rtos/uCOS-III/Source/os_mutex.c **** 
1090:rtos/uCOS-III/Source/os_mutex.c **** void  OS_MutexGrpPostAll (OS_TCB  *p_tcb)
1091:rtos/uCOS-III/Source/os_mutex.c **** {
 1704              		.loc 1 1091 1 view -0
 1705              		.cfi_startproc
 1706              		@ args = 0, pretend = 0, frame = 0
 1707              		@ frame_needed = 0, uses_anonymous_args = 0
 1708              		.loc 1 1091 1 is_stmt 0 view .LVU660
 1709 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1710              	.LCFI12:
 1711              		.cfi_def_cfa_offset 20
 1712              		.cfi_offset 4, -20
 1713              		.cfi_offset 5, -16
 1714              		.cfi_offset 6, -12
 1715              		.cfi_offset 7, -8
 1716              		.cfi_offset 14, -4
 1717 0002 83B0     		sub	sp, sp, #12
 1718              	.LCFI13:
ARM GAS  /tmp/ccv4eJMD.s 			page 60


 1719              		.cfi_def_cfa_offset 32
 1720 0004 0646     		mov	r6, r0
1092:rtos/uCOS-III/Source/os_mutex.c ****     OS_MUTEX      *p_mutex;
 1721              		.loc 1 1092 5 is_stmt 1 view .LVU661
1093:rtos/uCOS-III/Source/os_mutex.c ****     OS_MUTEX      *p_mutex_next;
 1722              		.loc 1 1093 5 view .LVU662
1094:rtos/uCOS-III/Source/os_mutex.c ****     CPU_TS         ts;
 1723              		.loc 1 1094 5 view .LVU663
1095:rtos/uCOS-III/Source/os_mutex.c ****     OS_PEND_LIST  *p_pend_list;
 1724              		.loc 1 1095 5 view .LVU664
1096:rtos/uCOS-III/Source/os_mutex.c ****     OS_TCB        *p_tcb_new;
 1725              		.loc 1 1096 5 view .LVU665
1097:rtos/uCOS-III/Source/os_mutex.c **** 
1098:rtos/uCOS-III/Source/os_mutex.c **** 
1099:rtos/uCOS-III/Source/os_mutex.c ****     p_mutex = p_tcb->MutexGrpHeadPtr;
 1726              		.loc 1 1099 5 view .LVU666
 1727              		.loc 1 1099 13 is_stmt 0 view .LVU667
 1728 0006 446B     		ldr	r4, [r0, #52]
 1729              	.LVL153:
1100:rtos/uCOS-III/Source/os_mutex.c **** 
1101:rtos/uCOS-III/Source/os_mutex.c ****     while(p_mutex != (OS_MUTEX *)0) {
 1730              		.loc 1 1101 5 is_stmt 1 view .LVU668
 1731              		.loc 1 1101 10 is_stmt 0 view .LVU669
 1732 0008 0EE0     		b	.L131
 1733              	.LVL154:
 1734              	.L132:
1102:rtos/uCOS-III/Source/os_mutex.c **** 
1103:rtos/uCOS-III/Source/os_mutex.c ****         OS_TRACE_MUTEX_POST(p_mutex);
1104:rtos/uCOS-III/Source/os_mutex.c **** 
1105:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex_next = p_mutex->MutexGrpNextPtr;
1106:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
1107:rtos/uCOS-III/Source/os_mutex.c ****         ts           = OS_TS_GET();                             /* Get timestamp                   
1108:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex->TS  = ts;
1109:rtos/uCOS-III/Source/os_mutex.c **** #else
1110:rtos/uCOS-III/Source/os_mutex.c ****         ts           = 0u;
1111:rtos/uCOS-III/Source/os_mutex.c **** #endif
1112:rtos/uCOS-III/Source/os_mutex.c ****         OS_MutexGrpRemove(p_tcb,  p_mutex);                     /* Remove mutex from owner's group 
1113:rtos/uCOS-III/Source/os_mutex.c **** 
1114:rtos/uCOS-III/Source/os_mutex.c ****         p_pend_list = &p_mutex->PendList;
1115:rtos/uCOS-III/Source/os_mutex.c ****         if (p_pend_list->HeadPtr == (OS_TCB *)0) {              /* Any task waiting on mutex?      
1116:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerNestingCtr =           0u;            /* Decrement owner's nesting counte
1117:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerTCBPtr     = (OS_TCB *)0;             /* No                              
1118:rtos/uCOS-III/Source/os_mutex.c ****         } else {
1119:rtos/uCOS-III/Source/os_mutex.c ****                                                                 /* Get TCB from head of pend list  
1120:rtos/uCOS-III/Source/os_mutex.c ****             p_tcb_new                = p_pend_list->HeadPtr;
 1735              		.loc 1 1120 13 is_stmt 1 view .LVU670
1121:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerTCBPtr     = p_tcb;                   /* Give mutex to new owner         
 1736              		.loc 1 1121 13 view .LVU671
 1737              		.loc 1 1121 38 is_stmt 0 view .LVU672
 1738 000a 2661     		str	r6, [r4, #16]
1122:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerNestingCtr = 1u;
 1739              		.loc 1 1122 13 is_stmt 1 view .LVU673
 1740              		.loc 1 1122 38 is_stmt 0 view .LVU674
 1741 000c 0123     		movs	r3, #1
 1742 000e 2375     		strb	r3, [r4, #20]
1123:rtos/uCOS-III/Source/os_mutex.c ****             OS_MutexGrpAdd(p_tcb_new, p_mutex);
 1743              		.loc 1 1123 13 is_stmt 1 view .LVU675
ARM GAS  /tmp/ccv4eJMD.s 			page 61


 1744 0010 2146     		mov	r1, r4
 1745 0012 2846     		mov	r0, r5
 1746 0014 FFF7FEFF 		bl	OS_MutexGrpAdd
 1747              	.LVL155:
1124:rtos/uCOS-III/Source/os_mutex.c ****                                                                 /* Post to mutex                   
1125:rtos/uCOS-III/Source/os_mutex.c ****             OS_Post((OS_PEND_OBJ *)((void *)p_mutex),
 1748              		.loc 1 1125 13 view .LVU676
 1749 0018 0022     		movs	r2, #0
 1750 001a 0092     		str	r2, [sp]
 1751 001c 1346     		mov	r3, r2
 1752 001e 2946     		mov	r1, r5
 1753 0020 2046     		mov	r0, r4
 1754 0022 FFF7FEFF 		bl	OS_Post
 1755              	.LVL156:
 1756              	.L133:
1091:rtos/uCOS-III/Source/os_mutex.c ****     OS_MUTEX      *p_mutex;
 1757              		.loc 1 1091 1 is_stmt 0 view .LVU677
 1758 0026 3C46     		mov	r4, r7
 1759              	.LVL157:
 1760              	.L131:
1101:rtos/uCOS-III/Source/os_mutex.c **** 
 1761              		.loc 1 1101 10 is_stmt 1 view .LVU678
 1762 0028 5CB1     		cbz	r4, .L136
1103:rtos/uCOS-III/Source/os_mutex.c **** 
 1763              		.loc 1 1103 37 view .LVU679
1105:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 1764              		.loc 1 1105 9 view .LVU680
1105:rtos/uCOS-III/Source/os_mutex.c **** #if (OS_CFG_TS_EN > 0u)
 1765              		.loc 1 1105 22 is_stmt 0 view .LVU681
 1766 002a E768     		ldr	r7, [r4, #12]
 1767              	.LVL158:
1110:rtos/uCOS-III/Source/os_mutex.c **** #endif
 1768              		.loc 1 1110 9 is_stmt 1 view .LVU682
1112:rtos/uCOS-III/Source/os_mutex.c **** 
 1769              		.loc 1 1112 9 view .LVU683
 1770 002c 2146     		mov	r1, r4
 1771 002e 3046     		mov	r0, r6
 1772 0030 FFF7FEFF 		bl	OS_MutexGrpRemove
 1773              	.LVL159:
1114:rtos/uCOS-III/Source/os_mutex.c ****         if (p_pend_list->HeadPtr == (OS_TCB *)0) {              /* Any task waiting on mutex?      
 1774              		.loc 1 1114 9 view .LVU684
1115:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerNestingCtr =           0u;            /* Decrement owner's nesting counte
 1775              		.loc 1 1115 9 view .LVU685
1115:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerNestingCtr =           0u;            /* Decrement owner's nesting counte
 1776              		.loc 1 1115 24 is_stmt 0 view .LVU686
 1777 0034 6568     		ldr	r5, [r4, #4]
1115:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerNestingCtr =           0u;            /* Decrement owner's nesting counte
 1778              		.loc 1 1115 12 view .LVU687
 1779 0036 002D     		cmp	r5, #0
 1780 0038 E7D1     		bne	.L132
1116:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerTCBPtr     = (OS_TCB *)0;             /* No                              
 1781              		.loc 1 1116 13 is_stmt 1 view .LVU688
1116:rtos/uCOS-III/Source/os_mutex.c ****             p_mutex->OwnerTCBPtr     = (OS_TCB *)0;             /* No                              
 1782              		.loc 1 1116 38 is_stmt 0 view .LVU689
 1783 003a 0023     		movs	r3, #0
 1784 003c 2375     		strb	r3, [r4, #20]
1117:rtos/uCOS-III/Source/os_mutex.c ****         } else {
ARM GAS  /tmp/ccv4eJMD.s 			page 62


 1785              		.loc 1 1117 13 is_stmt 1 view .LVU690
1117:rtos/uCOS-III/Source/os_mutex.c ****         } else {
 1786              		.loc 1 1117 38 is_stmt 0 view .LVU691
 1787 003e 2361     		str	r3, [r4, #16]
 1788 0040 F1E7     		b	.L133
 1789              	.LVL160:
 1790              	.L136:
1126:rtos/uCOS-III/Source/os_mutex.c ****                                    p_tcb_new,
1127:rtos/uCOS-III/Source/os_mutex.c ****                                    (void *)0,
1128:rtos/uCOS-III/Source/os_mutex.c ****                                    0u,
1129:rtos/uCOS-III/Source/os_mutex.c ****                                    ts);
1130:rtos/uCOS-III/Source/os_mutex.c ****         }
1131:rtos/uCOS-III/Source/os_mutex.c **** 
1132:rtos/uCOS-III/Source/os_mutex.c ****         p_mutex = p_mutex_next;
1133:rtos/uCOS-III/Source/os_mutex.c ****     }
1134:rtos/uCOS-III/Source/os_mutex.c **** 
1135:rtos/uCOS-III/Source/os_mutex.c **** }
 1791              		.loc 1 1135 1 view .LVU692
 1792 0042 03B0     		add	sp, sp, #12
 1793              	.LCFI14:
 1794              		.cfi_def_cfa_offset 20
 1795              		@ sp needed
 1796 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
 1797              		.loc 1 1135 1 view .LVU693
 1798              		.cfi_endproc
 1799              	.LFE9:
 1801              		.text
 1802              	.Letext0:
 1803              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 1804              		.file 3 "rtos/uC-CPU/cpu_core.h"
 1805              		.file 4 "rtos/uCOS-III/Source/os_type.h"
 1806              		.file 5 "rtos/uCOS-III/Source/os.h"
 1807              		.file 6 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/GNU/os_cpu.h"
ARM GAS  /tmp/ccv4eJMD.s 			page 63


DEFINED SYMBOLS
                            *ABS*:0000000000000000 os_mutex.c
     /tmp/ccv4eJMD.s:18     .text.OSMutexCreate:0000000000000000 $t
     /tmp/ccv4eJMD.s:26     .text.OSMutexCreate:0000000000000000 OSMutexCreate
     /tmp/ccv4eJMD.s:147    .text.OSMutexCreate:0000000000000058 $d
     /tmp/ccv4eJMD.s:153    .text.OS_MutexClr:0000000000000000 $t
     /tmp/ccv4eJMD.s:160    .text.OS_MutexClr:0000000000000000 OS_MutexClr
     /tmp/ccv4eJMD.s:198    .text.OS_MutexClr:0000000000000018 $d
     /tmp/ccv4eJMD.s:203    .text.OS_MutexGrpAdd:0000000000000000 $t
     /tmp/ccv4eJMD.s:210    .text.OS_MutexGrpAdd:0000000000000000 OS_MutexGrpAdd
     /tmp/ccv4eJMD.s:232    .text.OSMutexPend:0000000000000000 $t
     /tmp/ccv4eJMD.s:239    .text.OSMutexPend:0000000000000000 OSMutexPend
     /tmp/ccv4eJMD.s:447    .text.OSMutexPend:00000000000000b6 $d
     /tmp/ccv4eJMD.s:451    .text.OSMutexPend:00000000000000ba $t
     /tmp/ccv4eJMD.s:631    .text.OSMutexPend:000000000000015c $d
     /tmp/ccv4eJMD.s:640    .text.OS_MutexGrpRemove:0000000000000000 $t
     /tmp/ccv4eJMD.s:647    .text.OS_MutexGrpRemove:0000000000000000 OS_MutexGrpRemove
     /tmp/ccv4eJMD.s:686    .text.OS_MutexGrpPrioFindHighest:0000000000000000 $t
     /tmp/ccv4eJMD.s:693    .text.OS_MutexGrpPrioFindHighest:0000000000000000 OS_MutexGrpPrioFindHighest
     /tmp/ccv4eJMD.s:758    .text.OSMutexDel:0000000000000000 $t
     /tmp/ccv4eJMD.s:765    .text.OSMutexDel:0000000000000000 OSMutexDel
     /tmp/ccv4eJMD.s:1051   .text.OSMutexDel:0000000000000100 $d
     /tmp/ccv4eJMD.s:1058   .text.OSMutexPendAbort:0000000000000000 $t
     /tmp/ccv4eJMD.s:1065   .text.OSMutexPendAbort:0000000000000000 OSMutexPendAbort
     /tmp/ccv4eJMD.s:1347   .text.OSMutexPendAbort:0000000000000104 $d
     /tmp/ccv4eJMD.s:1354   .text.OSMutexPost:0000000000000000 $t
     /tmp/ccv4eJMD.s:1361   .text.OSMutexPost:0000000000000000 OSMutexPost
     /tmp/ccv4eJMD.s:1685   .text.OSMutexPost:0000000000000134 $d
     /tmp/ccv4eJMD.s:1694   .text.OS_MutexGrpPostAll:0000000000000000 $t
     /tmp/ccv4eJMD.s:1701   .text.OS_MutexGrpPostAll:0000000000000000 OS_MutexGrpPostAll
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.os.h.38.05c7a360e844508f9424830362f7eef3
                           .group:0000000000000000 wm4.os_cfg.h.36.1682609214807c39119743015cd1b75b
                           .group:0000000000000000 wm4.os_cfg_app.h.36.9d01bed009cfc3a5184d9a87250e45bf
                           .group:0000000000000000 wm4.cpu_core.h.51.7b35a59c319673f88ae4a256248776ec
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.143.d3b700e12b3a14ed3bee14c822b49a7d
                           .group:0000000000000000 wm4.os_cpu.h.45.281d793567585e56a091270c28fc7efc
                           .group:0000000000000000 wm4.os_trace.h.37.a6badbf6e748c370e142a9584653748e
                           .group:0000000000000000 wm4.os.h.95.7b45e7e080367d299efd03f7510809bc

UNDEFINED SYMBOLS
CPU_SR_Save
OS_PendListInit
CPU_SR_Restore
OSIntNestingCtr
OS_Pend
OSSched
OS_TaskChangePrio
OSRunning
OSTCBCurPtr
OSSchedLockNestingCtr
OS_PendAbort
OS_Post
ARM GAS  /tmp/ccv4eJMD.s 			page 64


OS_RdyListRemove
OS_PrioInsert
OS_RdyListInsertTail
OSPrioCur
