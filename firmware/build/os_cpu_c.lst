ARM GAS  /tmp/ccEYnJow.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"os_cpu_c.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.OSIdleTaskHook,"ax",%progbits
  18              		.align	1
  19              		.global	OSIdleTaskHook
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	OSIdleTaskHook:
  27              	.LFB0:
  28              		.file 1 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c"
   1:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
   2:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
   3:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                                uC/OS-III
   4:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          The Real-Time Kernel
   5:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
   6:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                         (c) Copyright 2009-2019; Silicon Laboratories Inc.,
   7:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
   9:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                   All rights reserved. Protected by international copyright laws.
  10:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  11:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  license, you may not use this software.
  15:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  16:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  software available. Your honesty is greatly appreciated.
  18:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  19:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  21:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                          For more information visit us at: www.micrium.com
  22:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  23:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
  24:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  25:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
  26:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  27:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  28:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                             ARMv7-M Port
  29:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  30:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * File    : os_cpu_c.c
ARM GAS  /tmp/ccEYnJow.s 			page 2


  31:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Version : V3.07.04
  32:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  33:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * For     : ARMv7-M Cortex-M
  34:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Mode    : Thumb-2 ISA
  35:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  36:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s) : (1) This port supports the ARM Cortex-M3, Cortex-M4 and Cortex-M7 architectures.
  37:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *           (2) It has been tested with the following Hardware Floating Point Unit.
  38:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *               (a) Single-precision: FPv4-SP-D16-M and FPv5-SP-D16-M
  39:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *               (b) Double-precision: FPv5-D16-M
  40:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  41:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
  42:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  43:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #define   OS_CPU_GLOBALS
  44:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  45:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  46:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** const  CPU_CHAR  *os_cpu_c__c = "$Id: $";
  47:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
  48:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  49:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  50:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
  51:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  52:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                             INCLUDE FILES
  53:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  54:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
  55:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  56:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #include  "../../../Source/os.h"
  57:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  58:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  59:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #ifdef __cplusplus
  60:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** extern  "C" {
  61:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
  62:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  63:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
  64:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  65:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                       LOCAL GLOBAL VARIABLES
  66:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  67:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
  68:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  69:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** CPU_INT32U  OS_KA_BASEPRI_Boundary;                             /* Base Priority boundary.         
  70:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  71:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  72:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
  73:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  74:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                         FLOATING POINT DEFINES
  75:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  76:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
  77:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  78:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #define  CPU_REG_FP_FPCCR              (*((CPU_REG32 *)0xE000EF34uL))   /* Floating-Point Context C
  79:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  80:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                         /* Enabled FP lazy stacking
  81:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                         /* ..automatic state saving
  82:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #define  CPU_REG_FPCCR_LAZY_STK                        0xC0000000uL
  83:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  84:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  85:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
  86:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  87:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                           IDLE TASK HOOK
ARM GAS  /tmp/ccEYnJow.s 			page 3


  88:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  89:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called by the idle task.  This hook has been added to allow you to 
  90:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              such things as STOP the CPU to conserve power.
  91:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  92:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : None.
  93:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
  94:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : None.
  95:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
  96:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
  97:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
  98:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSIdleTaskHook (void)
  99:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
  29              		.loc 1 99 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
 100:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 101:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppIdleTaskHookPtr != (OS_APP_HOOK_VOID)0) {
  38              		.loc 1 101 5 view .LVU1
  39              		.loc 1 101 31 is_stmt 0 view .LVU2
  40 0002 024B     		ldr	r3, .L4
  41 0004 1B68     		ldr	r3, [r3]
  42              		.loc 1 101 8 view .LVU3
  43 0006 03B1     		cbz	r3, .L1
 102:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppIdleTaskHookPtr)();
  44              		.loc 1 102 9 is_stmt 1 view .LVU4
  45              		.loc 1 102 10 is_stmt 0 view .LVU5
  46 0008 9847     		blx	r3
  47              	.LVL0:
  48              	.L1:
 103:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 104:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 105:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
  49              		.loc 1 105 1 view .LVU6
  50 000a 08BD     		pop	{r3, pc}
  51              	.L5:
  52              		.align	2
  53              	.L4:
  54 000c 00000000 		.word	OS_AppIdleTaskHookPtr
  55              		.cfi_endproc
  56              	.LFE0:
  58              		.section	.text.OSInitHook,"ax",%progbits
  59              		.align	1
  60              		.global	OSInitHook
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  64              		.fpu fpv4-sp-d16
  66              	OSInitHook:
  67              	.LFB1:
 106:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 107:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
ARM GAS  /tmp/ccEYnJow.s 			page 4


 108:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 109:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 110:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                       OS INITIALIZATION HOOK
 111:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 112:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called by OSInit() at the beginning of OSInit().
 113:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 114:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : None.
 115:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 116:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : 1) When using hardware floating point please do the following during the reset handl
 117:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                 a) Set full access for CP10 & CP11 bits in CPACR register.
 118:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                 b) Set bits ASPEN and LSPEN in FPCCR register.
 119:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 120:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 121:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 122:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSInitHook (void)
 123:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
  68              		.loc 1 123 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              		@ link register save eliminated.
 124:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CPU_ARM_FP_EN > 0u)
 125:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_INT32U   reg_val;
  73              		.loc 1 125 5 view .LVU8
 126:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 127:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* 8-byte align the ISR stack.     
 128:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OS_CPU_ExceptStkBase = (CPU_STK *)(OSCfg_ISRStkBasePtr + OSCfg_ISRStkSize);
  74              		.loc 1 128 5 view .LVU9
  75              		.loc 1 128 60 is_stmt 0 view .LVU10
  76 0000 0A4B     		ldr	r3, .L9
  77 0002 1A68     		ldr	r2, [r3]
  78 0004 0A4B     		ldr	r3, .L9+4
  79 0006 1B68     		ldr	r3, [r3]
  80 0008 03EB8203 		add	r3, r3, r2, lsl #2
 129:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OS_CPU_ExceptStkBase = (CPU_STK *)((CPU_STK)(OS_CPU_ExceptStkBase) & 0xFFFFFFF8);
  81              		.loc 1 129 5 is_stmt 1 view .LVU11
  82              		.loc 1 129 72 is_stmt 0 view .LVU12
  83 000c 23F00703 		bic	r3, r3, #7
  84              		.loc 1 129 26 view .LVU13
  85 0010 084A     		ldr	r2, .L9+8
  86 0012 1360     		str	r3, [r2]
 130:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 131:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CPU_ARM_FP_EN > 0u)
 132:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     reg_val = CPU_REG_FP_FPCCR;                                 /* Check the floating point mode.  
  87              		.loc 1 132 5 is_stmt 1 view .LVU14
  88              		.loc 1 132 13 is_stmt 0 view .LVU15
  89 0014 084B     		ldr	r3, .L9+12
  90 0016 1B68     		ldr	r3, [r3]
  91              	.LVL1:
 133:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if ((reg_val & CPU_REG_FPCCR_LAZY_STK) != CPU_REG_FPCCR_LAZY_STK) {
  92              		.loc 1 133 5 is_stmt 1 view .LVU16
  93              		.loc 1 133 18 is_stmt 0 view .LVU17
  94 0018 03F04043 		and	r3, r3, #-1073741824
  95              	.LVL2:
  96              		.loc 1 133 8 view .LVU18
  97 001c B3F1404F 		cmp	r3, #-1073741824
  98 0020 00D0     		beq	.L7
ARM GAS  /tmp/ccEYnJow.s 			page 5


  99              	.L8:
 134:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         while (1u) {                                            /* See Note (1).                   
 100              		.loc 1 134 9 is_stmt 1 discriminator 1 view .LVU19
 135:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****             ;
 101              		.loc 1 135 13 discriminator 1 view .LVU20
 134:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         while (1u) {                                            /* See Note (1).                   
 102              		.loc 1 134 15 discriminator 1 view .LVU21
 103 0022 FEE7     		b	.L8
 104              	.L7:
 136:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         }
 137:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 138:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 139:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Set BASEPRI boundary from the co
 140:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OS_KA_BASEPRI_Boundary = (CPU_INT32U)(CPU_CFG_KA_IPL_BOUNDARY << (8u - CPU_CFG_NVIC_PRIO_BITS))
 105              		.loc 1 140 5 view .LVU22
 106              		.loc 1 140 28 is_stmt 0 view .LVU23
 107 0024 054B     		ldr	r3, .L9+16
 108 0026 4022     		movs	r2, #64
 109 0028 1A60     		str	r2, [r3]
 141:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 110              		.loc 1 141 1 view .LVU24
 111 002a 7047     		bx	lr
 112              	.L10:
 113              		.align	2
 114              	.L9:
 115 002c 00000000 		.word	OSCfg_ISRStkSize
 116 0030 00000000 		.word	OSCfg_ISRStkBasePtr
 117 0034 00000000 		.word	OS_CPU_ExceptStkBase
 118 0038 34EF00E0 		.word	-536809676
 119 003c 00000000 		.word	OS_KA_BASEPRI_Boundary
 120              		.cfi_endproc
 121              	.LFE1:
 123              		.section	.text.OSStatTaskHook,"ax",%progbits
 124              		.align	1
 125              		.global	OSStatTaskHook
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu fpv4-sp-d16
 131              	OSStatTaskHook:
 132              	.LFB2:
 142:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 143:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 144:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 145:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 146:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                           REDZONE HIT HOOK
 147:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 148:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called when a task's stack overflowed.
 149:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 150:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : p_tcb        Pointer to the task control block of the offending task. NULL if ISR.
 151:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 152:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : None.
 153:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 154:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 155:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 156:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSRedzoneHitHook (OS_TCB  *p_tcb)
 157:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
ARM GAS  /tmp/ccEYnJow.s 			page 6


 158:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 159:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppRedzoneHitHookPtr != (OS_APP_HOOK_TCB)0) {
 160:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppRedzoneHitHookPtr)(p_tcb);
 161:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     } else {
 162:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         CPU_SW_EXCEPTION(;);
 163:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 164:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 165:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     (void)p_tcb;                                                /* Prevent compiler warning        
 166:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_SW_EXCEPTION(;);
 167:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 168:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 169:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 170:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 171:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 172:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 173:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 174:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                         STATISTIC TASK HOOK
 175:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 176:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called every second by uC/OS-III's statistics task.  This allows yo
 177:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              application to add functionality to the statistics task.
 178:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 179:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : None.
 180:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 181:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : None.
 182:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 183:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 184:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 185:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSStatTaskHook (void)
 186:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 133              		.loc 1 186 1 is_stmt 1 view -0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 0
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137 0000 08B5     		push	{r3, lr}
 138              	.LCFI1:
 139              		.cfi_def_cfa_offset 8
 140              		.cfi_offset 3, -8
 141              		.cfi_offset 14, -4
 187:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 188:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppStatTaskHookPtr != (OS_APP_HOOK_VOID)0) {
 142              		.loc 1 188 5 view .LVU26
 143              		.loc 1 188 31 is_stmt 0 view .LVU27
 144 0002 024B     		ldr	r3, .L14
 145 0004 1B68     		ldr	r3, [r3]
 146              		.loc 1 188 8 view .LVU28
 147 0006 03B1     		cbz	r3, .L11
 189:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppStatTaskHookPtr)();
 148              		.loc 1 189 9 is_stmt 1 view .LVU29
 149              		.loc 1 189 10 is_stmt 0 view .LVU30
 150 0008 9847     		blx	r3
 151              	.LVL3:
 152              	.L11:
 190:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 191:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 192:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 153              		.loc 1 192 1 view .LVU31
 154 000a 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccEYnJow.s 			page 7


 155              	.L15:
 156              		.align	2
 157              	.L14:
 158 000c 00000000 		.word	OS_AppStatTaskHookPtr
 159              		.cfi_endproc
 160              	.LFE2:
 162              		.section	.text.OSTaskCreateHook,"ax",%progbits
 163              		.align	1
 164              		.global	OSTaskCreateHook
 165              		.syntax unified
 166              		.thumb
 167              		.thumb_func
 168              		.fpu fpv4-sp-d16
 170              	OSTaskCreateHook:
 171              	.LVL4:
 172              	.LFB3:
 193:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 194:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 195:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 196:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 197:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          TASK CREATION HOOK
 198:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 199:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called when a task is created.
 200:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 201:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : p_tcb        Pointer to the task control block of the task being created.
 202:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 203:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : None.
 204:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 205:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 206:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 207:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSTaskCreateHook (OS_TCB  *p_tcb)
 208:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 173              		.loc 1 208 1 is_stmt 1 view -0
 174              		.cfi_startproc
 175              		@ args = 0, pretend = 0, frame = 0
 176              		@ frame_needed = 0, uses_anonymous_args = 0
 177              		.loc 1 208 1 is_stmt 0 view .LVU33
 178 0000 08B5     		push	{r3, lr}
 179              	.LCFI2:
 180              		.cfi_def_cfa_offset 8
 181              		.cfi_offset 3, -8
 182              		.cfi_offset 14, -4
 209:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 210:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppTaskCreateHookPtr != (OS_APP_HOOK_TCB)0) {
 183              		.loc 1 210 5 is_stmt 1 view .LVU34
 184              		.loc 1 210 33 is_stmt 0 view .LVU35
 185 0002 024B     		ldr	r3, .L19
 186 0004 1B68     		ldr	r3, [r3]
 187              		.loc 1 210 8 view .LVU36
 188 0006 03B1     		cbz	r3, .L16
 211:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppTaskCreateHookPtr)(p_tcb);
 189              		.loc 1 211 9 is_stmt 1 view .LVU37
 190              		.loc 1 211 10 is_stmt 0 view .LVU38
 191 0008 9847     		blx	r3
 192              	.LVL5:
 193              	.L16:
 212:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
ARM GAS  /tmp/ccEYnJow.s 			page 8


 213:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 214:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     (void)p_tcb;                                                /* Prevent compiler warning        
 215:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 216:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 194              		.loc 1 216 1 view .LVU39
 195 000a 08BD     		pop	{r3, pc}
 196              	.L20:
 197              		.align	2
 198              	.L19:
 199 000c 00000000 		.word	OS_AppTaskCreateHookPtr
 200              		.cfi_endproc
 201              	.LFE3:
 203              		.section	.text.OSTaskDelHook,"ax",%progbits
 204              		.align	1
 205              		.global	OSTaskDelHook
 206              		.syntax unified
 207              		.thumb
 208              		.thumb_func
 209              		.fpu fpv4-sp-d16
 211              	OSTaskDelHook:
 212              	.LVL6:
 213              	.LFB4:
 217:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 218:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 219:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 220:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 221:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                           TASK DELETION HOOK
 222:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 223:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called when a task is deleted.
 224:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 225:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : p_tcb        Pointer to the task control block of the task being deleted.
 226:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 227:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : None.
 228:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 229:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 230:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 231:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSTaskDelHook (OS_TCB  *p_tcb)
 232:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 214              		.loc 1 232 1 is_stmt 1 view -0
 215              		.cfi_startproc
 216              		@ args = 0, pretend = 0, frame = 0
 217              		@ frame_needed = 0, uses_anonymous_args = 0
 218              		.loc 1 232 1 is_stmt 0 view .LVU41
 219 0000 08B5     		push	{r3, lr}
 220              	.LCFI3:
 221              		.cfi_def_cfa_offset 8
 222              		.cfi_offset 3, -8
 223              		.cfi_offset 14, -4
 233:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 234:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppTaskDelHookPtr != (OS_APP_HOOK_TCB)0) {
 224              		.loc 1 234 5 is_stmt 1 view .LVU42
 225              		.loc 1 234 30 is_stmt 0 view .LVU43
 226 0002 024B     		ldr	r3, .L24
 227 0004 1B68     		ldr	r3, [r3]
 228              		.loc 1 234 8 view .LVU44
 229 0006 03B1     		cbz	r3, .L21
 235:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppTaskDelHookPtr)(p_tcb);
ARM GAS  /tmp/ccEYnJow.s 			page 9


 230              		.loc 1 235 9 is_stmt 1 view .LVU45
 231              		.loc 1 235 10 is_stmt 0 view .LVU46
 232 0008 9847     		blx	r3
 233              	.LVL7:
 234              	.L21:
 236:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 237:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 238:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     (void)p_tcb;                                                /* Prevent compiler warning        
 239:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 240:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 235              		.loc 1 240 1 view .LVU47
 236 000a 08BD     		pop	{r3, pc}
 237              	.L25:
 238              		.align	2
 239              	.L24:
 240 000c 00000000 		.word	OS_AppTaskDelHookPtr
 241              		.cfi_endproc
 242              	.LFE4:
 244              		.section	.text.OSTaskReturnHook,"ax",%progbits
 245              		.align	1
 246              		.global	OSTaskReturnHook
 247              		.syntax unified
 248              		.thumb
 249              		.thumb_func
 250              		.fpu fpv4-sp-d16
 252              	OSTaskReturnHook:
 253              	.LVL8:
 254              	.LFB5:
 241:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 242:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 243:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 244:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 245:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                            TASK RETURN HOOK
 246:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 247:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called if a task accidentally returns.  In other words, a task shou
 248:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              either be an infinite loop or delete itself when done.
 249:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 250:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : p_tcb        Pointer to the task control block of the task that is returning.
 251:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 252:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : None.
 253:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 254:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 255:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 256:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSTaskReturnHook (OS_TCB  *p_tcb)
 257:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 255              		.loc 1 257 1 is_stmt 1 view -0
 256              		.cfi_startproc
 257              		@ args = 0, pretend = 0, frame = 0
 258              		@ frame_needed = 0, uses_anonymous_args = 0
 259              		.loc 1 257 1 is_stmt 0 view .LVU49
 260 0000 08B5     		push	{r3, lr}
 261              	.LCFI4:
 262              		.cfi_def_cfa_offset 8
 263              		.cfi_offset 3, -8
 264              		.cfi_offset 14, -4
 258:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 259:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppTaskReturnHookPtr != (OS_APP_HOOK_TCB)0) {
ARM GAS  /tmp/ccEYnJow.s 			page 10


 265              		.loc 1 259 5 is_stmt 1 view .LVU50
 266              		.loc 1 259 33 is_stmt 0 view .LVU51
 267 0002 024B     		ldr	r3, .L29
 268 0004 1B68     		ldr	r3, [r3]
 269              		.loc 1 259 8 view .LVU52
 270 0006 03B1     		cbz	r3, .L26
 260:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppTaskReturnHookPtr)(p_tcb);
 271              		.loc 1 260 9 is_stmt 1 view .LVU53
 272              		.loc 1 260 10 is_stmt 0 view .LVU54
 273 0008 9847     		blx	r3
 274              	.LVL9:
 275              	.L26:
 261:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 262:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 263:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     (void)p_tcb;                                                /* Prevent compiler warning        
 264:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 265:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 276              		.loc 1 265 1 view .LVU55
 277 000a 08BD     		pop	{r3, pc}
 278              	.L30:
 279              		.align	2
 280              	.L29:
 281 000c 00000000 		.word	OS_AppTaskReturnHookPtr
 282              		.cfi_endproc
 283              	.LFE5:
 285              		.section	.text.OSTaskStkInit,"ax",%progbits
 286              		.align	1
 287              		.global	OSTaskStkInit
 288              		.syntax unified
 289              		.thumb
 290              		.thumb_func
 291              		.fpu fpv4-sp-d16
 293              	OSTaskStkInit:
 294              	.LVL10:
 295              	.LFB6:
 266:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 267:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 268:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 269:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 270:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                        INITIALIZE A TASK'S STACK
 271:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 272:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called by either OSTaskCreate() or OSTaskCreateExt() to initialize 
 273:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              stack frame of the task being created.  This function is highly processor specific.
 274:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 275:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : p_task       Pointer to the task entry point address.
 276:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 277:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              p_arg        Pointer to a user supplied data area that will be passed to the task
 278:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                               when the task first executes.
 279:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 280:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              p_stk_base   Pointer to the base address of the stack.
 281:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 282:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              stk_size     Size of the stack, in number of CPU_STK elements.
 283:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 284:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              opt          Options used to alter the behavior of OS_Task_StkInit().
 285:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                            (see OS.H for OS_TASK_OPT_xxx).
 286:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 287:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Returns    : Always returns the location of the new top-of-stack once the processor registers hav
ARM GAS  /tmp/ccEYnJow.s 			page 11


 288:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              been placed on the stack in the proper order.
 289:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 290:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : (1) Interrupts are enabled when task starts executing.
 291:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 292:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              (2) All tasks run in Thread mode, using process stack.
 293:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 294:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              (3) There are two different stack frames depending on whether the Floating-Point(FP)
 295:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  co-processor is enabled or not.
 296:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 297:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  (a) The stack frame shown in the diagram is used when the Co-processor Access Co
 298:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      Register(CPACR) is disabling the Floating Point Unit. In this case, the FP
 299:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      registers(S0- S31) & FP Status Control(FPSCR) register are not saved in the 
 300:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 301:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  (b) The stack frame shown in the diagram is used when the Floating Point Unit is
 302:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      that is, CP10 and CP11 field in CPACR are ones and FPCCR sets bits ASPEN and
 303:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 304:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      (1) When enabling the FPU through CPACR, make sure to set bits ASPEN and LSP
 305:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                          Floating-Point Context Control Register (FPCCR).
 306:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 307:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 308:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |             |
 309:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 310:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |             |
 311:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 312:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |    FPSCR    |
 313:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 314:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S15     |
 315:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 316:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S14     |
 317:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 318:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S13     |
 319:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 320:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                                .
 321:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                                .
 322:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                                .
 323:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 324:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S2      |
 325:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 326:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S1      |
 327:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 328:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |             |       |     S0      |
 329:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 330:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    xPSR     |       |    xPSR     |
 331:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 332:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    | Return Addr |       | Return Addr |
 333:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 334:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |  LR(R14)    |       |   LR(R14)   |
 335:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 336:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R12      |       |     R12     |
 337:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 338:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R3       |       |     R3      |
 339:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 340:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R2       |       |     R0      |
 341:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 342:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R1       |       |     R1      |
 343:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 344:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R0       |       |     R0      |
ARM GAS  /tmp/ccEYnJow.s 			page 12


 345:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 346:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    | EXEC_RETURN |       | EXEC_RETURN |
 347:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 348:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R11      |       |     R11     |
 349:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 350:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R10      |       |     R10     |
 351:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 352:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R9       |       |     R9      |
 353:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 354:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R8       |       |     R8      |
 355:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 356:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R7       |       |     R7      |
 357:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 358:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R6       |       |     R6      |
 359:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 360:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R5       |       |     R5      |
 361:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 362:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    |    R4       |       |     R4      |
 363:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    +-------------+       +-------------+
 364:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                          (a)             |     S31     |
 365:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 366:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S30     |
 367:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 368:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S29     |
 369:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                            +-------------+
 370:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                                .
 371:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                                .
 372:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                                .
 373:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 374:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S17     |
 375:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                            +-------------+
 376:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          |     S16     |
 377:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          +-------------+
 378:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                               (b)
 379:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 380:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *             (4) The SP must be 8-byte aligned in conforming to the Procedure Call Standard for th
 381:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 382:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                    (a) Section 2.1 of the  ABI for the ARM Architecture Advisory Note. SP must be
 383:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        on entry to AAPCS-Conforming functions states :
 384:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 385:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        The Procedure Call Standard for the ARM Architecture [AAPCS] requires prim
 386:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        data types to be naturally aligned according to their sizes (for size = 1,
 387:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        Doing otherwise creates more problems than it solves.
 388:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 389:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        In return for preserving the natural alignment of data, conforming code is
 390:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        to rely on that alignment. To support aligning data allocated on the stack
 391:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        pointer (SP) is required to be 8-byte aligned on entry to a conforming fun
 392:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                        practice this requirement is met if:
 393:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 394:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                           (1) At each call site, the current size of the calling function's stack
 395:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                               This places an obligation on compilers and assembly language progra
 396:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 397:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                           (2) SP is a multiple of 8 when control first enters a program.
 398:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                               This places an obligation on authors of low level OS, RTOS, and run
 399:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                               code to align SP at all points at which control first enters
 400:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                               a body of (AAPCS-conforming) code.
 401:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
ARM GAS  /tmp/ccEYnJow.s 			page 13


 402:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                       In turn, this requires the value of SP to be aligned to 0 modulo 8:
 403:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 404:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                           (3) By exception handlers, before calling AAPCS-conforming code.
 405:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 406:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                           (4) By OS/RTOS/run-time system code, before giving control to an applic
 407:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 408:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                 (b) Section 2.3.1 corrective steps from the the SP must be 8-byte aligned on entr
 409:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                     to AAPCS-conforming functions advisory note also states.
 410:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 411:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                     " This requirement extends to operating systems and run-time code for all arc
 412:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                       prior to ARMV7 and to the A, R and M architecture profiles thereafter. Spec
 413:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                       associated with ARMV7M are discussed in section 2.3.3"
 414:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 415:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                     (1) Even if the SP 8-byte aligment is not a requirement for the ARMv7M profil
 416:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                         to 8-byte boundaries to support legacy execution enviroments.
 417:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 418:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                 (c) Section 5.2.1.2 from the Procedure Call Standard for the ARM
 419:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                     architecture states :  "The stack must also conform to the following
 420:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                     constraint at a public interface:
 421:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 422:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                     (1) SP mod 8 = 0. The stack must be double-word aligned"
 423:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 424:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                 (d) From the ARM Technical Support Knowledge Base. 8 Byte stack aligment.
 425:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 426:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                     "8 byte stack alignment is a requirement of the ARM Architecture Procedure
 427:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      Call Standard [AAPCS]. This specifies that functions must maintain an 8 byte
 428:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      aligned stack address (e.g. 0x00, 0x08, 0x10, 0x18, 0x20) on all external
 429:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      interfaces. In practice this requirement is met if:
 430:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 431:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      (1) At each external interface, the current stack pointer
 432:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                          is a multiple of 8 bytes.
 433:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 434:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                      (2) Your OS maintains 8 byte stack alignment on its external interfaces
 435:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                          e.g. on task switches"
 436:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 437:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              (5) Exception Return Behavior(EXEC_RETURN)
 438:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  0xFFFFFFFD      Return to Thread mode, exception return uses non-floating point 
 439:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                  from the PSP and execution uses PSP after return.
 440:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 441:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                  0xFFFFFFED      Return to Thread mode, exception return uses floating point stat
 442:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                  from the PSP and execution uses PSP after return.
 443:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 444:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 445:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 446:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** CPU_STK  *OSTaskStkInit (OS_TASK_PTR    p_task,
 447:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                          void          *p_arg,
 448:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                          CPU_STK       *p_stk_base,
 449:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                          CPU_STK       *p_stk_limit,
 450:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                          CPU_STK_SIZE   stk_size,
 451:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                          OS_OPT         opt)
 452:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 296              		.loc 1 452 1 is_stmt 1 view -0
 297              		.cfi_startproc
 298              		@ args = 8, pretend = 0, frame = 0
 299              		@ frame_needed = 0, uses_anonymous_args = 0
 300              		@ link register save eliminated.
 301              		.loc 1 452 1 is_stmt 0 view .LVU57
ARM GAS  /tmp/ccEYnJow.s 			page 14


 302 0000 10B4     		push	{r4}
 303              	.LCFI5:
 304              		.cfi_def_cfa_offset 4
 305              		.cfi_offset 4, -4
 453:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_STK    *p_stk;
 306              		.loc 1 453 5 is_stmt 1 view .LVU58
 454:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 455:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 456:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     (void)opt;                                                  /* 'opt' is not used, prevent warni
 307              		.loc 1 456 5 view .LVU59
 457:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 458:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     p_stk = &p_stk_base[stk_size];                              /* Load stack pointer              
 308              		.loc 1 458 5 view .LVU60
 309              		.loc 1 458 11 is_stmt 0 view .LVU61
 310 0002 019C     		ldr	r4, [sp, #4]
 311 0004 02EB8402 		add	r2, r2, r4, lsl #2
 312              	.LVL11:
 459:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Align the stack to 8-bytes.     
 460:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     p_stk = (CPU_STK *)((CPU_STK)(p_stk) & 0xFFFFFFF8u);
 313              		.loc 1 460 5 is_stmt 1 view .LVU62
 314              		.loc 1 460 42 is_stmt 0 view .LVU63
 315 0008 22F00702 		bic	r2, r2, #7
 316              	.LVL12:
 461:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Registers stacked as if auto-sav
 462:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CPU_ARM_FP_EN > 0u)                                     /* FPU auto-saved registers.       
 463:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****      --p_stk;
 317              		.loc 1 463 6 is_stmt 1 view .LVU64
 464:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x02000000u;                          /* FPSCR                           
 318              		.loc 1 464 5 view .LVU65
 319              		.loc 1 464 16 is_stmt 0 view .LVU66
 320 000c 4FF00074 		mov	r4, #33554432
 321 0010 42F8084C 		str	r4, [r2, #-8]
 465:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Initialize S0-S15 floating point
 466:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41700000u;                          /* S15                             
 322              		.loc 1 466 5 is_stmt 1 view .LVU67
 323              	.LVL13:
 324              		.loc 1 466 16 is_stmt 0 view .LVU68
 325 0014 5F4C     		ldr	r4, .L33
 326 0016 42F80C4C 		str	r4, [r2, #-12]
 467:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41600000u;                          /* S14                             
 327              		.loc 1 467 5 is_stmt 1 view .LVU69
 328              	.LVL14:
 329              		.loc 1 467 16 is_stmt 0 view .LVU70
 330 001a A4F58014 		sub	r4, r4, #1048576
 331 001e 42F8104C 		str	r4, [r2, #-16]
 468:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41500000u;                          /* S13                             
 332              		.loc 1 468 5 is_stmt 1 view .LVU71
 333              	.LVL15:
 334              		.loc 1 468 16 is_stmt 0 view .LVU72
 335 0022 A4F58014 		sub	r4, r4, #1048576
 336 0026 42F8144C 		str	r4, [r2, #-20]
 469:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41400000u;                          /* S12                             
 337              		.loc 1 469 5 is_stmt 1 view .LVU73
 338              	.LVL16:
 339              		.loc 1 469 16 is_stmt 0 view .LVU74
 340 002a A4F58014 		sub	r4, r4, #1048576
 341 002e 42F8184C 		str	r4, [r2, #-24]
ARM GAS  /tmp/ccEYnJow.s 			page 15


 470:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41300000u;                          /* S11                             
 342              		.loc 1 470 5 is_stmt 1 view .LVU75
 343              	.LVL17:
 344              		.loc 1 470 16 is_stmt 0 view .LVU76
 345 0032 A4F58014 		sub	r4, r4, #1048576
 346 0036 42F81C4C 		str	r4, [r2, #-28]
 471:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41200000u;                          /* S10                             
 347              		.loc 1 471 5 is_stmt 1 view .LVU77
 348              	.LVL18:
 349              		.loc 1 471 16 is_stmt 0 view .LVU78
 350 003a A4F58014 		sub	r4, r4, #1048576
 351 003e 42F8204C 		str	r4, [r2, #-32]
 472:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41100000u;                          /* S9                              
 352              		.loc 1 472 5 is_stmt 1 view .LVU79
 353              	.LVL19:
 354              		.loc 1 472 16 is_stmt 0 view .LVU80
 355 0042 A4F58014 		sub	r4, r4, #1048576
 356 0046 42F8244C 		str	r4, [r2, #-36]
 473:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41000000u;                          /* S8                              
 357              		.loc 1 473 5 is_stmt 1 view .LVU81
 358              	.LVL20:
 359              		.loc 1 473 16 is_stmt 0 view .LVU82
 360 004a 4FF08244 		mov	r4, #1090519040
 361 004e 42F8284C 		str	r4, [r2, #-40]
 474:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x40E00000u;                          /* S7                              
 362              		.loc 1 474 5 is_stmt 1 view .LVU83
 363              	.LVL21:
 364              		.loc 1 474 16 is_stmt 0 view .LVU84
 365 0052 A4F50014 		sub	r4, r4, #2097152
 366 0056 42F82C4C 		str	r4, [r2, #-44]
 475:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x40C00000u;                          /* S6                              
 367              		.loc 1 475 5 is_stmt 1 view .LVU85
 368              	.LVL22:
 369              		.loc 1 475 16 is_stmt 0 view .LVU86
 370 005a A4F50014 		sub	r4, r4, #2097152
 371 005e 42F8304C 		str	r4, [r2, #-48]
 476:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x40A00000u;                          /* S5                              
 372              		.loc 1 476 5 is_stmt 1 view .LVU87
 373              	.LVL23:
 374              		.loc 1 476 16 is_stmt 0 view .LVU88
 375 0062 A4F50014 		sub	r4, r4, #2097152
 376 0066 42F8344C 		str	r4, [r2, #-52]
 477:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x40800000u;                          /* S4                              
 377              		.loc 1 477 5 is_stmt 1 view .LVU89
 378              	.LVL24:
 379              		.loc 1 477 16 is_stmt 0 view .LVU90
 380 006a 4FF08144 		mov	r4, #1082130432
 381 006e 42F8384C 		str	r4, [r2, #-56]
 478:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x40400000u;                          /* S3                              
 382              		.loc 1 478 5 is_stmt 1 view .LVU91
 383              	.LVL25:
 384              		.loc 1 478 16 is_stmt 0 view .LVU92
 385 0072 A4F58004 		sub	r4, r4, #4194304
 386 0076 42F83C4C 		str	r4, [r2, #-60]
 479:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x40000000u;                          /* S2                              
 387              		.loc 1 479 5 is_stmt 1 view .LVU93
 388              	.LVL26:
ARM GAS  /tmp/ccEYnJow.s 			page 16


 389              		.loc 1 479 16 is_stmt 0 view .LVU94
 390 007a 4FF08044 		mov	r4, #1073741824
 391 007e 42F8404C 		str	r4, [r2, #-64]
 480:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x3F800000u;                          /* S1                              
 392              		.loc 1 480 5 is_stmt 1 view .LVU95
 393              	.LVL27:
 394              		.loc 1 480 16 is_stmt 0 view .LVU96
 395 0082 4FF07E54 		mov	r4, #1065353216
 396 0086 42F8444C 		str	r4, [r2, #-68]
 481:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x00000000u;                          /* S0                              
 397              		.loc 1 481 5 is_stmt 1 view .LVU97
 398              	.LVL28:
 399              		.loc 1 481 16 is_stmt 0 view .LVU98
 400 008a 0024     		movs	r4, #0
 401 008c 42F8484C 		str	r4, [r2, #-72]
 482:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 483:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x01000000u;                          /* xPSR                            
 402              		.loc 1 483 5 is_stmt 1 view .LVU99
 403              	.LVL29:
 404              		.loc 1 483 16 is_stmt 0 view .LVU100
 405 0090 4FF08074 		mov	r4, #16777216
 406 0094 42F84C4C 		str	r4, [r2, #-76]
 484:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)p_task;                               /* Entry Point                     
 407              		.loc 1 484 5 is_stmt 1 view .LVU101
 408              	.LVL30:
 409              		.loc 1 484 16 is_stmt 0 view .LVU102
 410 0098 42F8500C 		str	r0, [r2, #-80]
 485:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)OS_TaskReturn;                        /* R14 (LR)                        
 411              		.loc 1 485 5 is_stmt 1 view .LVU103
 412              	.LVL31:
 413              		.loc 1 485 18 is_stmt 0 view .LVU104
 414 009c 3E48     		ldr	r0, .L33+4
 415              	.LVL32:
 416              		.loc 1 485 16 view .LVU105
 417 009e 42F8540C 		str	r0, [r2, #-84]
 486:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x12121212u;                          /* R12                             
 418              		.loc 1 486 5 is_stmt 1 view .LVU106
 419              	.LVL33:
 420              		.loc 1 486 16 is_stmt 0 view .LVU107
 421 00a2 4FF01230 		mov	r0, #303174162
 422 00a6 42F8580C 		str	r0, [r2, #-88]
 487:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x03030303u;                          /* R3                              
 423              		.loc 1 487 5 is_stmt 1 view .LVU108
 424              	.LVL34:
 425              		.loc 1 487 16 is_stmt 0 view .LVU109
 426 00aa 4FF00330 		mov	r0, #50529027
 427 00ae 42F85C0C 		str	r0, [r2, #-92]
 488:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x02020202u;                          /* R2                              
 428              		.loc 1 488 5 is_stmt 1 view .LVU110
 429              	.LVL35:
 430              		.loc 1 488 16 is_stmt 0 view .LVU111
 431 00b2 4FF00230 		mov	r0, #33686018
 432 00b6 42F8600C 		str	r0, [r2, #-96]
 489:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)p_stk_limit;                          /* R1                              
 433              		.loc 1 489 5 is_stmt 1 view .LVU112
 434              	.LVL36:
 435              		.loc 1 489 16 is_stmt 0 view .LVU113
ARM GAS  /tmp/ccEYnJow.s 			page 17


 436 00ba 42F8643C 		str	r3, [r2, #-100]
 490:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)p_arg;                                /* R0 : argument                   
 437              		.loc 1 490 5 is_stmt 1 view .LVU114
 438              	.LVL37:
 439              		.loc 1 490 16 is_stmt 0 view .LVU115
 440 00be 42F8681C 		str	r1, [r2, #-104]
 491:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 492:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CPU_ARM_FP_EN > 0u)
 493:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0xFFFFFFEDuL;                         /* R14: EXEC_RETURN; See Note 5    
 441              		.loc 1 493 5 is_stmt 1 view .LVU116
 442              	.LVL38:
 443              		.loc 1 493 16 is_stmt 0 view .LVU117
 444 00c2 6FF01203 		mvn	r3, #18
 445              	.LVL39:
 446              		.loc 1 493 16 view .LVU118
 447 00c6 42F86C3C 		str	r3, [r2, #-108]
 494:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 495:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0xFFFFFFFDuL;                         /* R14: EXEC_RETURN; See Note 5    
 496:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 497:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Remaining registers saved on pro
 498:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x11111111uL;                         /* R11                             
 448              		.loc 1 498 5 is_stmt 1 view .LVU119
 449              	.LVL40:
 450              		.loc 1 498 16 is_stmt 0 view .LVU120
 451 00ca 4FF01133 		mov	r3, #286331153
 452 00ce 42F8703C 		str	r3, [r2, #-112]
 499:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x10101010uL;                         /* R10                             
 453              		.loc 1 499 5 is_stmt 1 view .LVU121
 454              	.LVL41:
 455              		.loc 1 499 16 is_stmt 0 view .LVU122
 456 00d2 4FF01033 		mov	r3, #269488144
 457 00d6 42F8743C 		str	r3, [r2, #-116]
 500:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x09090909uL;                         /* R9                              
 458              		.loc 1 500 5 is_stmt 1 view .LVU123
 459              	.LVL42:
 460              		.loc 1 500 16 is_stmt 0 view .LVU124
 461 00da 4FF00933 		mov	r3, #151587081
 462 00de 42F8783C 		str	r3, [r2, #-120]
 501:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x08080808uL;                         /* R8                              
 463              		.loc 1 501 5 is_stmt 1 view .LVU125
 464              	.LVL43:
 465              		.loc 1 501 16 is_stmt 0 view .LVU126
 466 00e2 4FF00833 		mov	r3, #134744072
 467 00e6 42F87C3C 		str	r3, [r2, #-124]
 502:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x07070707uL;                         /* R7                              
 468              		.loc 1 502 5 is_stmt 1 view .LVU127
 469              	.LVL44:
 470              		.loc 1 502 16 is_stmt 0 view .LVU128
 471 00ea 4FF00733 		mov	r3, #117901063
 472 00ee 42F8803C 		str	r3, [r2, #-128]
 503:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x06060606uL;                         /* R6                              
 473              		.loc 1 503 5 is_stmt 1 view .LVU129
 474              	.LVL45:
 475              		.loc 1 503 16 is_stmt 0 view .LVU130
 476 00f2 4FF00633 		mov	r3, #101058054
 477 00f6 42F8843C 		str	r3, [r2, #-132]
 504:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x05050505uL;                         /* R5                              
ARM GAS  /tmp/ccEYnJow.s 			page 18


 478              		.loc 1 504 5 is_stmt 1 view .LVU131
 479              	.LVL46:
 480              		.loc 1 504 16 is_stmt 0 view .LVU132
 481 00fa 4FF00533 		mov	r3, #84215045
 482 00fe 42F8883C 		str	r3, [r2, #-136]
 505:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x04040404uL;                         /* R4                              
 483              		.loc 1 505 5 is_stmt 1 view .LVU133
 484              	.LVL47:
 485              		.loc 1 505 16 is_stmt 0 view .LVU134
 486 0102 4FF00433 		mov	r3, #67372036
 487 0106 42F88C3C 		str	r3, [r2, #-140]
 506:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 507:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CPU_ARM_FP_EN > 0u)
 508:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Initialize S16-S31 floating poin
 509:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41F80000u;                          /* S31                             
 488              		.loc 1 509 5 is_stmt 1 view .LVU135
 489              	.LVL48:
 490              		.loc 1 509 16 is_stmt 0 view .LVU136
 491 010a 244B     		ldr	r3, .L33+8
 492 010c 42F8903C 		str	r3, [r2, #-144]
 510:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41F00000u;                          /* S30                             
 493              		.loc 1 510 5 is_stmt 1 view .LVU137
 494              	.LVL49:
 495              		.loc 1 510 16 is_stmt 0 view .LVU138
 496 0110 A3F50023 		sub	r3, r3, #524288
 497 0114 42F8943C 		str	r3, [r2, #-148]
 511:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41E80000u;                          /* S29                             
 498              		.loc 1 511 5 is_stmt 1 view .LVU139
 499              	.LVL50:
 500              		.loc 1 511 16 is_stmt 0 view .LVU140
 501 0118 A3F50023 		sub	r3, r3, #524288
 502 011c 42F8983C 		str	r3, [r2, #-152]
 512:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41E00000u;                          /* S28                             
 503              		.loc 1 512 5 is_stmt 1 view .LVU141
 504              	.LVL51:
 505              		.loc 1 512 16 is_stmt 0 view .LVU142
 506 0120 A3F50023 		sub	r3, r3, #524288
 507 0124 42F89C3C 		str	r3, [r2, #-156]
 513:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41D80000u;                          /* S27                             
 508              		.loc 1 513 5 is_stmt 1 view .LVU143
 509              	.LVL52:
 510              		.loc 1 513 16 is_stmt 0 view .LVU144
 511 0128 A3F50023 		sub	r3, r3, #524288
 512 012c 42F8A03C 		str	r3, [r2, #-160]
 514:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41D00000u;                          /* S26                             
 513              		.loc 1 514 5 is_stmt 1 view .LVU145
 514              	.LVL53:
 515              		.loc 1 514 16 is_stmt 0 view .LVU146
 516 0130 A3F50023 		sub	r3, r3, #524288
 517 0134 42F8A43C 		str	r3, [r2, #-164]
 515:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41C80000u;                          /* S25                             
 518              		.loc 1 515 5 is_stmt 1 view .LVU147
 519              	.LVL54:
 520              		.loc 1 515 16 is_stmt 0 view .LVU148
 521 0138 A3F50023 		sub	r3, r3, #524288
 522 013c 42F8A83C 		str	r3, [r2, #-168]
 516:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41C00000u;                          /* S24                             
ARM GAS  /tmp/ccEYnJow.s 			page 19


 523              		.loc 1 516 5 is_stmt 1 view .LVU149
 524              	.LVL55:
 525              		.loc 1 516 16 is_stmt 0 view .LVU150
 526 0140 A3F50023 		sub	r3, r3, #524288
 527 0144 42F8AC3C 		str	r3, [r2, #-172]
 517:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41B80000u;                          /* S23                             
 528              		.loc 1 517 5 is_stmt 1 view .LVU151
 529              	.LVL56:
 530              		.loc 1 517 16 is_stmt 0 view .LVU152
 531 0148 A3F50023 		sub	r3, r3, #524288
 532 014c 42F8B03C 		str	r3, [r2, #-176]
 518:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41B00000u;                          /* S22                             
 533              		.loc 1 518 5 is_stmt 1 view .LVU153
 534              	.LVL57:
 535              		.loc 1 518 16 is_stmt 0 view .LVU154
 536 0150 A3F50023 		sub	r3, r3, #524288
 537 0154 42F8B43C 		str	r3, [r2, #-180]
 519:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41A80000u;                          /* S21                             
 538              		.loc 1 519 5 is_stmt 1 view .LVU155
 539              	.LVL58:
 540              		.loc 1 519 16 is_stmt 0 view .LVU156
 541 0158 A3F50023 		sub	r3, r3, #524288
 542 015c 42F8B83C 		str	r3, [r2, #-184]
 520:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41A00000u;                          /* S20                             
 543              		.loc 1 520 5 is_stmt 1 view .LVU157
 544              	.LVL59:
 545              		.loc 1 520 16 is_stmt 0 view .LVU158
 546 0160 A3F50023 		sub	r3, r3, #524288
 547 0164 42F8BC3C 		str	r3, [r2, #-188]
 521:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41980000u;                          /* S19                             
 548              		.loc 1 521 5 is_stmt 1 view .LVU159
 549              	.LVL60:
 550              		.loc 1 521 16 is_stmt 0 view .LVU160
 551 0168 A3F50023 		sub	r3, r3, #524288
 552 016c 42F8C03C 		str	r3, [r2, #-192]
 522:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41900000u;                          /* S18                             
 553              		.loc 1 522 5 is_stmt 1 view .LVU161
 554              	.LVL61:
 555              		.loc 1 522 16 is_stmt 0 view .LVU162
 556 0170 A3F50023 		sub	r3, r3, #524288
 557 0174 42F8C43C 		str	r3, [r2, #-196]
 523:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41880000u;                          /* S17                             
 558              		.loc 1 523 5 is_stmt 1 view .LVU163
 559              	.LVL62:
 560              		.loc 1 523 16 is_stmt 0 view .LVU164
 561 0178 A3F50023 		sub	r3, r3, #524288
 562 017c 42F8C83C 		str	r3, [r2, #-200]
 524:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     *(--p_stk) = (CPU_STK)0x41800000u;                          /* S16                             
 563              		.loc 1 524 5 is_stmt 1 view .LVU165
 564              	.LVL63:
 565              		.loc 1 524 16 is_stmt 0 view .LVU166
 566 0180 4FF08343 		mov	r3, #1098907648
 567 0184 42F8CC3C 		str	r3, [r2, #-204]
 525:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 526:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 527:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     return (p_stk);
 568              		.loc 1 527 5 is_stmt 1 view .LVU167
ARM GAS  /tmp/ccEYnJow.s 			page 20


 528:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 569              		.loc 1 528 1 is_stmt 0 view .LVU168
 570 0188 A2F1CC00 		sub	r0, r2, #204
 571              	.LVL64:
 572              		.loc 1 528 1 view .LVU169
 573 018c 5DF8044B 		ldr	r4, [sp], #4
 574              	.LCFI6:
 575              		.cfi_restore 4
 576              		.cfi_def_cfa_offset 0
 577              	.LVL65:
 578              		.loc 1 528 1 view .LVU170
 579 0190 7047     		bx	lr
 580              	.L34:
 581 0192 00BF     		.align	2
 582              	.L33:
 583 0194 00007041 		.word	1097859072
 584 0198 00000000 		.word	OS_TaskReturn
 585 019c 0000F841 		.word	1106771968
 586              		.cfi_endproc
 587              	.LFE6:
 589              		.section	.text.OSTaskSwHook,"ax",%progbits
 590              		.align	1
 591              		.global	OSTaskSwHook
 592              		.syntax unified
 593              		.thumb
 594              		.thumb_func
 595              		.fpu fpv4-sp-d16
 597              	OSTaskSwHook:
 598              	.LFB7:
 529:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 530:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 531:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 532:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 533:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                           TASK SWITCH HOOK
 534:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 535:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called when a task switch is performed.  This allows you to perform
 536:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              operations during a context switch.
 537:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 538:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : None.
 539:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 540:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : 1) Interrupts are disabled during this call.
 541:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              2) It is assumed that the global pointer 'OSTCBHighRdyPtr' points to the TCB of the 
 542:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                 that will be 'switched in' (i.e. the highest priority task) and, 'OSTCBCurPtr' po
 543:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                 to the task being switched out (i.e. the preempted task).
 544:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 545:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 546:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 547:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSTaskSwHook (void)
 548:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 599              		.loc 1 548 1 is_stmt 1 view -0
 600              		.cfi_startproc
 601              		@ args = 0, pretend = 0, frame = 0
 602              		@ frame_needed = 0, uses_anonymous_args = 0
 603 0000 08B5     		push	{r3, lr}
 604              	.LCFI7:
 605              		.cfi_def_cfa_offset 8
 606              		.cfi_offset 3, -8
ARM GAS  /tmp/ccEYnJow.s 			page 21


 607              		.cfi_offset 14, -4
 549:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
 550:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_TS  ts;
 608              		.loc 1 550 5 view .LVU172
 551:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 552:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #ifdef  CPU_CFG_INT_DIS_MEAS_EN
 553:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_TS  int_dis_time;
 554:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 555:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 556:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_BOOLEAN  stk_status;
 557:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 558:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 559:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CPU_ARM_FP_EN > 0u)
 560:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OS_CPU_FP_Reg_Push(OSTCBCurPtr->StkPtr);                    /* Push the FP registers of the cur
 609              		.loc 1 560 5 view .LVU173
 610              		.loc 1 560 35 is_stmt 0 view .LVU174
 611 0002 104B     		ldr	r3, .L39
 612 0004 1B68     		ldr	r3, [r3]
 613              		.loc 1 560 5 view .LVU175
 614 0006 1868     		ldr	r0, [r3]
 615 0008 FFF7FEFF 		bl	OS_CPU_FP_Reg_Push
 616              	.LVL66:
 561:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 562:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 563:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 564:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppTaskSwHookPtr != (OS_APP_HOOK_VOID)0) {
 617              		.loc 1 564 5 is_stmt 1 view .LVU176
 618              		.loc 1 564 29 is_stmt 0 view .LVU177
 619 000c 0E4B     		ldr	r3, .L39+4
 620 000e 1B68     		ldr	r3, [r3]
 621              		.loc 1 564 8 view .LVU178
 622 0010 03B1     		cbz	r3, .L36
 565:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppTaskSwHookPtr)();
 623              		.loc 1 565 9 is_stmt 1 view .LVU179
 624              		.loc 1 565 10 is_stmt 0 view .LVU180
 625 0012 9847     		blx	r3
 626              	.LVL67:
 627              	.L36:
 566:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 567:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 568:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 569:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OS_TRACE_TASK_SWITCHED_IN(OSTCBHighRdyPtr);
 628              		.loc 1 569 47 is_stmt 1 view .LVU181
 570:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 571:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
 572:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     ts = OS_TS_GET();
 629              		.loc 1 572 5 view .LVU182
 573:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OSTCBCurPtr != OSTCBHighRdyPtr) {
 630              		.loc 1 573 5 view .LVU183
 631              		.loc 1 573 21 is_stmt 0 view .LVU184
 632 0014 0B4B     		ldr	r3, .L39
 633 0016 1B68     		ldr	r3, [r3]
 634 0018 0C4A     		ldr	r2, .L39+8
 635 001a 1268     		ldr	r2, [r2]
 636              		.loc 1 573 8 view .LVU185
 637 001c 9342     		cmp	r3, r2
 638 001e 09D0     		beq	.L37
ARM GAS  /tmp/ccEYnJow.s 			page 22


 574:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         OSTCBCurPtr->CyclesDelta  = ts - OSTCBCurPtr->CyclesStart;
 639              		.loc 1 574 9 is_stmt 1 view .LVU186
 640              		.loc 1 574 53 is_stmt 0 view .LVU187
 641 0020 D3F88C10 		ldr	r1, [r3, #140]
 642              		.loc 1 574 40 view .LVU188
 643 0024 4942     		rsbs	r1, r1, #0
 644              		.loc 1 574 35 view .LVU189
 645 0026 C3F88810 		str	r1, [r3, #136]
 575:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         OSTCBCurPtr->CyclesTotal += (OS_CYCLES)OSTCBCurPtr->CyclesDelta;
 646              		.loc 1 575 9 is_stmt 1 view .LVU190
 647              		.loc 1 575 34 is_stmt 0 view .LVU191
 648 002a D3F89000 		ldr	r0, [r3, #144]
 649 002e 0144     		add	r1, r1, r0
 650 0030 C3F89010 		str	r1, [r3, #144]
 651              	.L37:
 576:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 577:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 578:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OSTCBHighRdyPtr->CyclesStart = ts;
 652              		.loc 1 578 5 is_stmt 1 view .LVU192
 653              		.loc 1 578 34 is_stmt 0 view .LVU193
 654 0034 0023     		movs	r3, #0
 655 0036 C2F88C30 		str	r3, [r2, #140]
 579:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 580:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 581:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #ifdef  CPU_CFG_INT_DIS_MEAS_EN
 582:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     int_dis_time = CPU_IntDisMeasMaxCurReset();                 /* Keep track of per-task interrupt
 583:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OSTCBCurPtr->IntDisTimeMax < int_dis_time) {
 584:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         OSTCBCurPtr->IntDisTimeMax = int_dis_time;
 585:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 586:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 587:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 588:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u
 589:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Keep track of per-task scheduler
 590:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OSTCBCurPtr->SchedLockTimeMax < OSSchedLockTimeMaxCur) {
 591:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         OSTCBCurPtr->SchedLockTimeMax = OSSchedLockTimeMaxCur;
 592:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 593:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OSSchedLockTimeMaxCur = (CPU_TS)0;                          /* Reset the per-task value        
 594:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 595:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 596:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CFG_TASK_STK_REDZONE_EN > 0u)
 597:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Check if stack overflowed.      
 598:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     stk_status = OSTaskStkRedzoneChk((OS_TCB *)0u);
 599:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (stk_status != OS_TRUE) {
 600:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         OSRedzoneHitHook(OSTCBCurPtr);
 601:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
 602:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 603:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 604:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CPU_ARM_FP_EN > 0u)
 605:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OS_CPU_FP_Reg_Pop(OSTCBHighRdyPtr->StkPtr);                 /* Pop the FP registers of the high
 656              		.loc 1 605 5 is_stmt 1 view .LVU194
 657 003a 1068     		ldr	r0, [r2]
 658 003c FFF7FEFF 		bl	OS_CPU_FP_Reg_Pop
 659              	.LVL68:
 606:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 607:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 660              		.loc 1 607 1 is_stmt 0 view .LVU195
 661 0040 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccEYnJow.s 			page 23


 662              	.L40:
 663 0042 00BF     		.align	2
 664              	.L39:
 665 0044 00000000 		.word	OSTCBCurPtr
 666 0048 00000000 		.word	OS_AppTaskSwHookPtr
 667 004c 00000000 		.word	OSTCBHighRdyPtr
 668              		.cfi_endproc
 669              	.LFE7:
 671              		.section	.text.OSTimeTickHook,"ax",%progbits
 672              		.align	1
 673              		.global	OSTimeTickHook
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 677              		.fpu fpv4-sp-d16
 679              	OSTimeTickHook:
 680              	.LFB8:
 608:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 609:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 610:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 611:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 612:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                              TICK HOOK
 613:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 614:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: This function is called every tick.
 615:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 616:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : None.
 617:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 618:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : 1) This function is assumed to be called from the Tick ISR.
 619:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 620:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 621:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 622:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OSTimeTickHook (void)
 623:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 681              		.loc 1 623 1 is_stmt 1 view -0
 682              		.cfi_startproc
 683              		@ args = 0, pretend = 0, frame = 0
 684              		@ frame_needed = 0, uses_anonymous_args = 0
 685 0000 08B5     		push	{r3, lr}
 686              	.LCFI8:
 687              		.cfi_def_cfa_offset 8
 688              		.cfi_offset 3, -8
 689              		.cfi_offset 14, -4
 624:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if OS_CFG_APP_HOOKS_EN > 0u
 625:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     if (OS_AppTimeTickHookPtr != (OS_APP_HOOK_VOID)0) {
 690              		.loc 1 625 5 view .LVU197
 691              		.loc 1 625 31 is_stmt 0 view .LVU198
 692 0002 024B     		ldr	r3, .L44
 693 0004 1B68     		ldr	r3, [r3]
 694              		.loc 1 625 8 view .LVU199
 695 0006 03B1     		cbz	r3, .L41
 626:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****         (*OS_AppTimeTickHookPtr)();
 696              		.loc 1 626 9 is_stmt 1 view .LVU200
 697              		.loc 1 626 10 is_stmt 0 view .LVU201
 698 0008 9847     		blx	r3
 699              	.LVL69:
 700              	.L41:
 627:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     }
ARM GAS  /tmp/ccEYnJow.s 			page 24


 628:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 629:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 701              		.loc 1 629 1 view .LVU202
 702 000a 08BD     		pop	{r3, pc}
 703              	.L45:
 704              		.align	2
 705              	.L44:
 706 000c 00000000 		.word	OS_AppTimeTickHookPtr
 707              		.cfi_endproc
 708              	.LFE8:
 710              		.section	.text.OS_CPU_SysTickHandler,"ax",%progbits
 711              		.align	1
 712              		.global	OS_CPU_SysTickHandler
 713              		.syntax unified
 714              		.thumb
 715              		.thumb_func
 716              		.fpu fpv4-sp-d16
 718              	OS_CPU_SysTickHandler:
 719              	.LFB9:
 630:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 631:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 632:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 633:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 634:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                          SYS TICK HANDLER
 635:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 636:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: Handle the system tick (SysTick) interrupt, which is used to generate the uC/OS-III 
 637:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              interrupt.
 638:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 639:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : None.
 640:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 641:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : 1) This function MUST be placed on entry 15 of the Cortex-M vector table.
 642:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 643:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 644:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 645:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OS_CPU_SysTickHandler  (void)
 646:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 720              		.loc 1 646 1 is_stmt 1 view -0
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 0
 723              		@ frame_needed = 0, uses_anonymous_args = 0
 724 0000 10B5     		push	{r4, lr}
 725              	.LCFI9:
 726              		.cfi_def_cfa_offset 8
 727              		.cfi_offset 4, -8
 728              		.cfi_offset 14, -4
 647:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_SR_ALLOC();
 729              		.loc 1 647 5 view .LVU204
 730              	.LVL70:
 648:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 649:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 650:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_CRITICAL_ENTER();
 731              		.loc 1 650 5 view .LVU205
 732              		.loc 1 650 5 view .LVU206
 733              		.loc 1 650 5 view .LVU207
 734 0002 4020     		movs	r0, #64
 735 0004 FFF7FEFF 		bl	CPU_SR_Save
 736              	.LVL71:
ARM GAS  /tmp/ccEYnJow.s 			page 25


 737 0008 0446     		mov	r4, r0
 738              	.LVL72:
 739              		.loc 1 650 5 view .LVU208
 740              		.loc 1 650 5 view .LVU209
 651:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OSIntEnter();                                               /* Tell uC/OS-III that we are start
 741              		.loc 1 651 5 view .LVU210
 742 000a FFF7FEFF 		bl	OSIntEnter
 743              	.LVL73:
 652:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_CRITICAL_EXIT();
 744              		.loc 1 652 5 view .LVU211
 745              		.loc 1 652 5 view .LVU212
 746              		.loc 1 652 5 view .LVU213
 747 000e 2046     		mov	r0, r4
 748 0010 FFF7FEFF 		bl	CPU_SR_Restore
 749              	.LVL74:
 750              		.loc 1 652 5 view .LVU214
 751              		.loc 1 652 5 view .LVU215
 653:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 654:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OSTimeTick();                                               /* Call uC/OS-III's OSTimeTick()   
 752              		.loc 1 654 5 view .LVU216
 753 0014 FFF7FEFF 		bl	OSTimeTick
 754              	.LVL75:
 655:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 656:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OSIntExit();                                                /* Tell uC/OS-III that we are leavi
 755              		.loc 1 656 5 view .LVU217
 756 0018 FFF7FEFF 		bl	OSIntExit
 757              	.LVL76:
 657:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 758              		.loc 1 657 1 is_stmt 0 view .LVU218
 759 001c 10BD     		pop	{r4, pc}
 760              		.loc 1 657 1 view .LVU219
 761              		.cfi_endproc
 762              	.LFE9:
 764              		.section	.text.OS_CPU_SysTickInit,"ax",%progbits
 765              		.align	1
 766              		.global	OS_CPU_SysTickInit
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 770              		.fpu fpv4-sp-d16
 772              	OS_CPU_SysTickInit:
 773              	.LVL77:
 774              	.LFB11:
 658:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 659:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 660:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 661:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 662:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                         INITIALIZE SYS TICK
 663:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 664:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: Initialize the SysTick using the CPU clock frequency.
 665:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 666:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : cpu_freq         CPU clock frequency.
 667:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 668:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : 1) This function MUST be called after OSStart() & after processor initialization.
 669:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 670:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              2) Either OS_CPU_SysTickInitFreq or OS_CPU_SysTickInit() can be called.
 671:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
ARM GAS  /tmp/ccEYnJow.s 			page 26


 672:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 673:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 674:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OS_CPU_SysTickInitFreq (CPU_INT32U  cpu_freq)
 675:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 676:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CFG_TICK_EN > 0u)
 677:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_INT32U  cnts;
 678:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 679:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 680:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     cnts = (cpu_freq / (CPU_INT32U)OSCfg_TickRate_Hz);          /* Determine nbr SysTick cnts betwe
 681:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 682:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     OS_CPU_SysTickInit(cnts);
 683:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 684:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     (void)cpu_freq;
 685:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 686:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 687:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 688:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 689:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** /*
 690:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 691:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *                                         INITIALIZE SYS TICK
 692:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 693:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Description: Initialize the SysTick using the number of countes between two ticks.
 694:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 695:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Arguments  : cnts         Number of SysTick counts between two OS tick interrupts.
 696:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 697:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** * Note(s)    : 1) This function MUST be called after OSStart() & after processor initialization.
 698:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *
 699:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** *              2) Either OS_CPU_SysTickInitFreq or OS_CPU_SysTickInit() can be called.
 700:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** ***************************************************************************************************
 701:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** */
 702:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 703:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** void  OS_CPU_SysTickInit (CPU_INT32U  cnts)
 704:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** {
 775              		.loc 1 704 1 is_stmt 1 view -0
 776              		.cfi_startproc
 777              		@ args = 0, pretend = 0, frame = 0
 778              		@ frame_needed = 0, uses_anonymous_args = 0
 779              		@ link register save eliminated.
 705:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CFG_TICK_EN > 0u)
 706:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_INT32U  prio;
 780              		.loc 1 706 5 view .LVU221
 707:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_INT32U  basepri;
 781              		.loc 1 707 5 view .LVU222
 708:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 709:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 710:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Set BASEPRI boundary from the co
 711:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     basepri             = (CPU_INT32U)(CPU_CFG_KA_IPL_BOUNDARY << (8u - CPU_CFG_NVIC_PRIO_BITS));
 782              		.loc 1 711 5 view .LVU223
 712:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_REG_SYST_RVR    = cnts - 1u;                            /* Set Reload Register             
 783              		.loc 1 712 5 view .LVU224
 784              		.loc 1 712 32 is_stmt 0 view .LVU225
 785 0000 0138     		subs	r0, r0, #1
 786              	.LVL78:
 787              		.loc 1 712 25 view .LVU226
 788 0002 094B     		ldr	r3, .L49
 789 0004 1860     		str	r0, [r3]
 713:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
ARM GAS  /tmp/ccEYnJow.s 			page 27


 714:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Set SysTick handler prio.       
 715:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     prio                = CPU_REG_SCB_SHPRI3;
 790              		.loc 1 715 5 is_stmt 1 view .LVU227
 791              		.loc 1 715 25 is_stmt 0 view .LVU228
 792 0006 094A     		ldr	r2, .L49+4
 793 0008 1368     		ldr	r3, [r2]
 794              	.LVL79:
 716:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     prio               &= 0x00FFFFFFu;
 795              		.loc 1 716 5 is_stmt 1 view .LVU229
 796              		.loc 1 716 24 is_stmt 0 view .LVU230
 797 000a 23F07F43 		bic	r3, r3, #-16777216
 798              	.LVL80:
 717:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     prio               |= (basepri << 24u);
 799              		.loc 1 717 5 is_stmt 1 view .LVU231
 800              		.loc 1 717 24 is_stmt 0 view .LVU232
 801 000e 43F08043 		orr	r3, r3, #1073741824
 802              	.LVL81:
 718:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 719:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_REG_SCB_SHPRI3  = prio;
 803              		.loc 1 719 5 is_stmt 1 view .LVU233
 804              		.loc 1 719 25 is_stmt 0 view .LVU234
 805 0012 1360     		str	r3, [r2]
 720:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 721:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                                                                 /* Enable timer.                   
 722:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_REG_SYST_CSR   |= CPU_REG_SYST_CSR_CLKSOURCE |
 806              		.loc 1 722 5 is_stmt 1 view .LVU235
 807              		.loc 1 722 24 is_stmt 0 view .LVU236
 808 0014 064B     		ldr	r3, .L49+8
 809              	.LVL82:
 810              		.loc 1 722 24 view .LVU237
 811 0016 1A68     		ldr	r2, [r3]
 812              	.LVL83:
 813              		.loc 1 722 24 view .LVU238
 814 0018 42F00502 		orr	r2, r2, #5
 815 001c 1A60     		str	r2, [r3]
 816              	.LVL84:
 723:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****                           CPU_REG_SYST_CSR_ENABLE;
 724:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 725:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     CPU_REG_SYST_CSR   |= CPU_REG_SYST_CSR_TICKINT;             /* Enable timer interrupt.         
 817              		.loc 1 725 5 is_stmt 1 view .LVU239
 818              		.loc 1 725 24 is_stmt 0 view .LVU240
 819 001e 1A68     		ldr	r2, [r3]
 820 0020 42F00202 		orr	r2, r2, #2
 821 0024 1A60     		str	r2, [r3]
 726:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 727:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c ****     (void)cnts;
 728:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #endif
 729:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** }
 822              		.loc 1 729 1 view .LVU241
 823 0026 7047     		bx	lr
 824              	.L50:
 825              		.align	2
 826              	.L49:
 827 0028 14E000E0 		.word	-536813548
 828 002c 20ED00E0 		.word	-536810208
 829 0030 10E000E0 		.word	-536813552
 830              		.cfi_endproc
ARM GAS  /tmp/ccEYnJow.s 			page 28


 831              	.LFE11:
 833              		.section	.text.OS_CPU_SysTickInitFreq,"ax",%progbits
 834              		.align	1
 835              		.global	OS_CPU_SysTickInitFreq
 836              		.syntax unified
 837              		.thumb
 838              		.thumb_func
 839              		.fpu fpv4-sp-d16
 841              	OS_CPU_SysTickInitFreq:
 842              	.LVL85:
 843              	.LFB10:
 675:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CFG_TICK_EN > 0u)
 844              		.loc 1 675 1 is_stmt 1 view -0
 845              		.cfi_startproc
 846              		@ args = 0, pretend = 0, frame = 0
 847              		@ frame_needed = 0, uses_anonymous_args = 0
 675:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #if (OS_CFG_TICK_EN > 0u)
 848              		.loc 1 675 1 is_stmt 0 view .LVU243
 849 0000 08B5     		push	{r3, lr}
 850              	.LCFI10:
 851              		.cfi_def_cfa_offset 8
 852              		.cfi_offset 3, -8
 853              		.cfi_offset 14, -4
 677:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 854              		.loc 1 677 5 is_stmt 1 view .LVU244
 680:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 855              		.loc 1 680 5 view .LVU245
 680:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 856              		.loc 1 680 24 is_stmt 0 view .LVU246
 857 0002 034B     		ldr	r3, .L53
 858 0004 1B68     		ldr	r3, [r3]
 859              	.LVL86:
 682:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 860              		.loc 1 682 5 is_stmt 1 view .LVU247
 861 0006 B0FBF3F0 		udiv	r0, r0, r3
 862              	.LVL87:
 682:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** #else
 863              		.loc 1 682 5 is_stmt 0 view .LVU248
 864 000a FFF7FEFF 		bl	OS_CPU_SysTickInit
 865              	.LVL88:
 686:rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/os_cpu_c.c **** 
 866              		.loc 1 686 1 view .LVU249
 867 000e 08BD     		pop	{r3, pc}
 868              	.L54:
 869              		.align	2
 870              	.L53:
 871 0010 00000000 		.word	OSCfg_TickRate_Hz
 872              		.cfi_endproc
 873              	.LFE10:
 875              		.comm	OS_KA_BASEPRI_Boundary,4,4
 876              		.comm	OS_CPU_ExceptStkBase,4,4
 877              		.text
 878              	.Letext0:
 879              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 880              		.file 3 "rtos/uC-CPU/cpu_core.h"
 881              		.file 4 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/../../../Source/os_type.h"
 882              		.file 5 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/../../../Source/os.h"
ARM GAS  /tmp/ccEYnJow.s 			page 29


 883              		.file 6 "rtos/uCOS-III/Ports/ARM-Cortex-M/ARMv7-M/GNU/os_cpu.h"
ARM GAS  /tmp/ccEYnJow.s 			page 30


DEFINED SYMBOLS
                            *ABS*:0000000000000000 os_cpu_c.c
     /tmp/ccEYnJow.s:18     .text.OSIdleTaskHook:0000000000000000 $t
     /tmp/ccEYnJow.s:26     .text.OSIdleTaskHook:0000000000000000 OSIdleTaskHook
     /tmp/ccEYnJow.s:54     .text.OSIdleTaskHook:000000000000000c $d
     /tmp/ccEYnJow.s:59     .text.OSInitHook:0000000000000000 $t
     /tmp/ccEYnJow.s:66     .text.OSInitHook:0000000000000000 OSInitHook
     /tmp/ccEYnJow.s:115    .text.OSInitHook:000000000000002c $d
                            *COM*:0000000000000004 OS_CPU_ExceptStkBase
                            *COM*:0000000000000004 OS_KA_BASEPRI_Boundary
     /tmp/ccEYnJow.s:124    .text.OSStatTaskHook:0000000000000000 $t
     /tmp/ccEYnJow.s:131    .text.OSStatTaskHook:0000000000000000 OSStatTaskHook
     /tmp/ccEYnJow.s:158    .text.OSStatTaskHook:000000000000000c $d
     /tmp/ccEYnJow.s:163    .text.OSTaskCreateHook:0000000000000000 $t
     /tmp/ccEYnJow.s:170    .text.OSTaskCreateHook:0000000000000000 OSTaskCreateHook
     /tmp/ccEYnJow.s:199    .text.OSTaskCreateHook:000000000000000c $d
     /tmp/ccEYnJow.s:204    .text.OSTaskDelHook:0000000000000000 $t
     /tmp/ccEYnJow.s:211    .text.OSTaskDelHook:0000000000000000 OSTaskDelHook
     /tmp/ccEYnJow.s:240    .text.OSTaskDelHook:000000000000000c $d
     /tmp/ccEYnJow.s:245    .text.OSTaskReturnHook:0000000000000000 $t
     /tmp/ccEYnJow.s:252    .text.OSTaskReturnHook:0000000000000000 OSTaskReturnHook
     /tmp/ccEYnJow.s:281    .text.OSTaskReturnHook:000000000000000c $d
     /tmp/ccEYnJow.s:286    .text.OSTaskStkInit:0000000000000000 $t
     /tmp/ccEYnJow.s:293    .text.OSTaskStkInit:0000000000000000 OSTaskStkInit
     /tmp/ccEYnJow.s:583    .text.OSTaskStkInit:0000000000000194 $d
     /tmp/ccEYnJow.s:590    .text.OSTaskSwHook:0000000000000000 $t
     /tmp/ccEYnJow.s:597    .text.OSTaskSwHook:0000000000000000 OSTaskSwHook
     /tmp/ccEYnJow.s:665    .text.OSTaskSwHook:0000000000000044 $d
     /tmp/ccEYnJow.s:672    .text.OSTimeTickHook:0000000000000000 $t
     /tmp/ccEYnJow.s:679    .text.OSTimeTickHook:0000000000000000 OSTimeTickHook
     /tmp/ccEYnJow.s:706    .text.OSTimeTickHook:000000000000000c $d
     /tmp/ccEYnJow.s:711    .text.OS_CPU_SysTickHandler:0000000000000000 $t
     /tmp/ccEYnJow.s:718    .text.OS_CPU_SysTickHandler:0000000000000000 OS_CPU_SysTickHandler
     /tmp/ccEYnJow.s:765    .text.OS_CPU_SysTickInit:0000000000000000 $t
     /tmp/ccEYnJow.s:772    .text.OS_CPU_SysTickInit:0000000000000000 OS_CPU_SysTickInit
     /tmp/ccEYnJow.s:827    .text.OS_CPU_SysTickInit:0000000000000028 $d
     /tmp/ccEYnJow.s:834    .text.OS_CPU_SysTickInitFreq:0000000000000000 $t
     /tmp/ccEYnJow.s:841    .text.OS_CPU_SysTickInitFreq:0000000000000000 OS_CPU_SysTickInitFreq
     /tmp/ccEYnJow.s:871    .text.OS_CPU_SysTickInitFreq:0000000000000010 $d
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.os.h.38.05c7a360e844508f9424830362f7eef3
                           .group:0000000000000000 wm4.os_cfg.h.36.1682609214807c39119743015cd1b75b
                           .group:0000000000000000 wm4.os_cfg_app.h.36.9d01bed009cfc3a5184d9a87250e45bf
                           .group:0000000000000000 wm4.cpu_core.h.51.7b35a59c319673f88ae4a256248776ec
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.143.d3b700e12b3a14ed3bee14c822b49a7d
                           .group:0000000000000000 wm4.os_cpu.h.45.3d940667f523adec5ab8f7d7faa60884
                           .group:0000000000000000 wm4.os_trace.h.37.a6badbf6e748c370e142a9584653748e
                           .group:0000000000000000 wm4.os.h.95.7b45e7e080367d299efd03f7510809bc

UNDEFINED SYMBOLS
OS_AppIdleTaskHookPtr
OSCfg_ISRStkSize
OSCfg_ISRStkBasePtr
ARM GAS  /tmp/ccEYnJow.s 			page 31


OS_AppStatTaskHookPtr
OS_AppTaskCreateHookPtr
OS_AppTaskDelHookPtr
OS_AppTaskReturnHookPtr
OS_TaskReturn
OS_CPU_FP_Reg_Push
OS_CPU_FP_Reg_Pop
OSTCBCurPtr
OS_AppTaskSwHookPtr
OSTCBHighRdyPtr
OS_AppTimeTickHookPtr
CPU_SR_Save
OSIntEnter
CPU_SR_Restore
OSTimeTick
OSIntExit
OSCfg_TickRate_Hz
