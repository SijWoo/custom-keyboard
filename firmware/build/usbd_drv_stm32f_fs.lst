ARM GAS  /tmp/ccEVxbcI.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_drv_stm32f_fs.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBD_DrvHandlerStart,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USBD_DrvHandlerStart:
  26              	.LVL0:
  27              	.LFB9:
  28              		.file 1 "bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c"
   1:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
   2:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
   3:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                            uC/USB-Device
   4:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                    The Embedded USB Device Stack
   5:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
   6:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         (c) Copyright 2004-2019; Silicon Laboratories Inc.,
   7:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                400 W. Cesar Chavez, Austin, TX 78701
   8:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
   9:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   All rights reserved. Protected by international copyright laws.
  10:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  11:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                  Your use of this software is subject to your acceptance of the terms
  12:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                  of a Silicon Labs Micrium software license, which can be obtained by
  13:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                  contacting info@micrium.com. If you do not agree to the terms of this
  14:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                  license, you may not use this software.
  15:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  16:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                  Please help us continue to provide the Embedded community with the finest
  17:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                  software available. Your honesty is greatly appreciated.
  18:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  19:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    You can find our product's documentation at: doc.micrium.com
  20:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  21:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                          For more information visit us at: www.micrium.com
  22:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  23:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
  24:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
  25:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
  26:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  27:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  28:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                          USB DEVICE DRIVER
  29:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  30:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                  USB ON-THE-GO FULL-SPEED (OTG_FS)
ARM GAS  /tmp/ccEVxbcI.s 			page 2


  31:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  32:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Filename : usbd_drv_stm32f_fs.c
  33:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Version  : V4.05.06
  34:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  35:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)  : (1) You can find specific information about this driver at:
  36:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                https://doc.micrium.com/display/USBDDRV/STM32F_FS
  37:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  38:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *            (2) With an appropriate BSP, this device driver will support the OTG_FS device module 
  39:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                the STMicroelectronics STM32F10xxx, STM32F2xx, STM32F4xx, and STM32F7xx MCUs, this
  40:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                applies to the following devices:
  41:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  42:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F105xx series.
  43:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F107xx series.
  44:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F205xx series.
  45:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F207xx series.
  46:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F215xx series.
  47:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F217xx series.
  48:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F405xx series.
  49:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F407xx series.
  50:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F415xx series.
  51:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F417xx series.
  52:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F74xxx series.
  53:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    STM32F75xxx series.
  54:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  55:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *            (3) With an appropriate BSP, this device driver will support the OTG_FS device module 
  56:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                the Silicon Labs EFM32 MCUs, this applies to the following devices:
  57:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  58:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    EFM32 Giant   Gecko series.
  59:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    EFM32 Wonder  Gecko series.
  60:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    EFM32 Leopard Gecko series.
  61:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  62:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *            (4) With an appropriate BSP, this device driver will support the USB device module on
  63:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                the Infineon XMC4000 MCUs, this applies to the following devices:
  64:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  65:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    Infineon XMC4100 series.
  66:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    Infineon XMC4200 series.
  67:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    Infineon XMC4300 series.
  68:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    Infineon XMC4400 series.
  69:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    Infineon XMC4500 series.
  70:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    Infineon XMC4700 series.
  71:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                    Infineon XMC4800 series.
  72:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
  73:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *            (5) This device driver DOES NOT support the USB on-the-go high-speed(OTG_HS) device mo
  74:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                of the STM32F2xx, STM32F4xx, STM32F7xx, or EFM32 Gecko series.
  75:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  76:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
  77:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
  78:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
  79:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  80:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                            INCLUDE FILES
  81:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  82:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
  83:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
  84:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define    MICRIUM_SOURCE
  85:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #include  "../../Source/usbd_core.h"
  86:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #include  "usbd_drv_stm32f_fs.h"
  87:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
ARM GAS  /tmp/ccEVxbcI.s 			page 3


  88:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
  89:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  90:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                            LOCAL DEFINES
  91:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
  92:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
  93:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
  94:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  DRV_STM32F_FS                               0u
  95:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  DRV_STM32F_OTG_FS                           1u
  96:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  DRV_EFM32_OTG_FS                            2u
  97:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  DRV_XMC_OTG_FS                              3u
  98:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
  99:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_REG_VAL_TO                        0x3FFu
 100:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_REG_FMOD_TO                       0x7FFFFu
 101:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 102:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  USBD_DBG_DRV_EP(msg, ep_addr)               USBD_DBG_GENERIC((msg),                       
 103:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                       (ep_addr),                   
 104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                        USBD_IF_NBR_NONE)
 105:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 106:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  USBD_DBG_DRV_EP_ARG(msg, ep_addr, arg)      USBD_DBG_GENERIC_ARG((msg),                   
 107:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                           (ep_addr),               
 108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                            USBD_IF_NBR_NONE,       
 109:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                           (arg))
 110:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 111:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 112:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 113:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                   STM32 OTG USB DEVICE CONSTRAINTS
 114:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 115:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s) : (1) Depending on which USB controller the MCU supports, the USB system features one of 
 116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               following dedicated data RAM allocations for TX and RX endpoints:
 117:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   (a) 1.25Kbytes = 1280 bytes = 320 32-bit words.
 118:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   (b) 2KBbytes   = 2048 bytes = 512 32-bit words.
 119:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 120:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               RX-FIFO : The USB device uses a single receive FIFO that receiveds the data directe
 121:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         to all OUT enpoints. The size of the receive FIFO is configured with
 122:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         the receive FIFO Size register (GRXFSIZ). The value written to GRXFSIZ is
 123:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         term of 32-bit words.
 124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 125:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               TX-FIFO : The core has a dedicated FIFO for each IN endpoint. These can be configur
 126:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         by writing to DIEPTXF0 for IN endpoint0 and DIEPTXFx for IN endpoint x.
 127:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         The Tx FIFO depth value is in terms of 32-bit words. The minimum RAM spac
 128:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         required for each IN endpoint Tx FIFO is 64bytes (Max packet size), which
 129:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                         is equal to 16 32-bit words.
 130:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 131:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 132:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 133:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 134:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_NBR_EPS                             16u      /* Maximum number of endpoints     
 135:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_NBR_CHANNEL                          8u      /* Maximum number of channels      
 136:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DFIFO_SIZE                        1024u      /* Number of entries               
 137:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_MAX_PKT_SIZE                        64u
 138:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 139:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_RXFIFO_SIZE                        128u      /* See note #1.                    
 140:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP0_SIZE                     16u
 141:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP1_SIZE                     32u
 142:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP2_SIZE                     32u
 143:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP3_SIZE                     32u
 144:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP4_SIZE                     32u
ARM GAS  /tmp/ccEVxbcI.s 			page 4


 145:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP5_SIZE                     32u
 146:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP6_SIZE                     32u
 147:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 148:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP0_START_ADDR         STM32F_FS_RXFIFO_SIZE
 149:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP1_START_ADDR        (STM32F_FS_TXFIFO_EP0_START_ADDR + STM32F_FS_TXFIFO
 150:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP2_START_ADDR        (STM32F_FS_TXFIFO_EP1_START_ADDR + STM32F_FS_TXFIFO
 151:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP3_START_ADDR        (STM32F_FS_TXFIFO_EP2_START_ADDR + STM32F_FS_TXFIFO
 152:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP4_START_ADDR        (STM32F_FS_TXFIFO_EP3_START_ADDR + STM32F_FS_TXFIFO
 153:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP5_START_ADDR        (STM32F_FS_TXFIFO_EP4_START_ADDR + STM32F_FS_TXFIFO
 154:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_TXFIFO_EP6_START_ADDR        (STM32F_FS_TXFIFO_EP5_START_ADDR + STM32F_FS_TXFIFO
 155:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 156:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 157:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 158:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 159:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        REGISTER BIT DEFINES
 160:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 161:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 162:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 163:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGCTL_BIT_BVALOEN           DEF_BIT_06
 164:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGCTL_BIT_BVALOVAL          DEF_BIT_07
 165:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 166:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGINT_BIT_SEDET             DEF_BIT_02
 167:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGINT_BIT_SRSSCHG           DEF_BIT_08
 168:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGINT_BIT_HNSSCHG           DEF_BIT_09
 169:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGINT_BIT_HNGDET            DEF_BIT_17
 170:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGINT_BIT_ADTOCHG           DEF_BIT_18
 171:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GOTGINT_BIT_DBCDNE            DEF_BIT_19
 172:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 173:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GAHBCFG_BIT_TXFELVL           DEF_BIT_07
 174:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GAHBCFG_BIT_GINTMSK           DEF_BIT_00
 175:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 176:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GUSBCFG_BIT_FDMOD             DEF_BIT_30
 177:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GUSBCFG_BIT_FHMOD             DEF_BIT_29
 178:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GUSBCFG_BIT_HNPCAP            DEF_BIT_09
 179:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GUSBCFG_BIT_SRPCAP            DEF_BIT_08
 180:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GUSBCFG_BIT_PHYSEL            DEF_BIT_07
 181:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GUSBCFG_TRDT_MASK             DEF_BIT_FIELD(15u, 10u)
 182:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 183:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_BIT_AHBIDL            DEF_BIT_31
 184:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_FLUSH_TXFIFO_00       DEF_BIT_NONE
 185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_FLUSH_TXFIFO_01       DEF_BIT_MASK(1u, 6u)
 186:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_FLUSH_TXFIFO_02       DEF_BIT_MASK(2u, 6u)
 187:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_FLUSH_TXFIFO_03       DEF_BIT_MASK(3u, 6u)
 188:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_FLUSH_TXFIFO_ALL      DEF_BIT_MASK(16u, 6u)
 189:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_BIT_TXFFLSH           DEF_BIT_05
 190:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_BIT_RXFFLSH           DEF_BIT_04
 191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_BIT_HSRST             DEF_BIT_01
 192:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRSTCTL_BIT_CSRST             DEF_BIT_00
 193:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 194:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_WKUPINT           DEF_BIT_31
 195:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_SRQINT            DEF_BIT_30
 196:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_DISCINT           DEF_BIT_29
 197:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_CIDSCHG           DEF_BIT_28
 198:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_INCOMPISOOUT      DEF_BIT_21
 199:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_IISOIXFR          DEF_BIT_20
 200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_OEPINT            DEF_BIT_19
 201:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_IEPINT            DEF_BIT_18
ARM GAS  /tmp/ccEVxbcI.s 			page 5


 202:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_EOPF              DEF_BIT_15
 203:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_ISOODRP           DEF_BIT_14
 204:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_ENUMDNE           DEF_BIT_13
 205:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_USBRST            DEF_BIT_12
 206:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_USBSUSP           DEF_BIT_11
 207:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_ESUSP             DEF_BIT_10
 208:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_GONAKEFF          DEF_BIT_07
 209:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_GINAKEFF          DEF_BIT_06
 210:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_RXFLVL            DEF_BIT_04
 211:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_SOF               DEF_BIT_03
 212:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_OTGINT            DEF_BIT_02
 213:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_MMIS              DEF_BIT_01
 214:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_BIT_CMOD              DEF_BIT_00
 215:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Interrupts are clear by writing 
 216:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTSTS_INT_ALL              (STM32F_FS_GINTSTS_BIT_WKUPINT  | STM32F_FS_GINTSTS
 217:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_GINTSTS_BIT_CIDSCHG  | STM32F_FS_GINTSTS
 218:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_GINTSTS_BIT_IISOIXFR | STM32F_FS_GINTSTS
 219:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_GINTSTS_BIT_ISOODRP  | STM32F_FS_GINTSTS
 220:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_GINTSTS_BIT_USBRST   | STM32F_FS_GINTSTS
 221:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_GINTSTS_BIT_ESUSP    | STM32F_FS_GINTSTS
 222:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_GINTSTS_BIT_MMIS)
 223:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 224:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_WUIM              DEF_BIT_31
 225:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_SRQIM             DEF_BIT_30
 226:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_DISCINT           DEF_BIT_29
 227:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_CIDSCHGM          DEF_BIT_28
 228:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_IISOOXFRM         DEF_BIT_21
 229:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_IISOIXFRM         DEF_BIT_20
 230:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_OEPINT            DEF_BIT_19
 231:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_IEPINT            DEF_BIT_18
 232:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_EPMISM            DEF_BIT_17
 233:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_EOPFM             DEF_BIT_15
 234:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_ISOODRPM          DEF_BIT_14
 235:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_ENUMDNEM          DEF_BIT_13
 236:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_USBRST            DEF_BIT_12
 237:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_USBSUSPM          DEF_BIT_11
 238:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_ESUSPM            DEF_BIT_10
 239:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_GONAKEFFM         DEF_BIT_07
 240:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_GINAKEFFM         DEF_BIT_06
 241:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_RXFLVLM           DEF_BIT_04
 242:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_SOFM              DEF_BIT_03
 243:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_OTGINT            DEF_BIT_02
 244:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GINTMSK_BIT_MMISM             DEF_BIT_01
 245:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 246:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_PKTSTS_OUT_NAK        1u
 247:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_PKTSTS_OUT_RX         2u
 248:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_PKTSTS_OUT_COMPL      3u
 249:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_PKTSTS_SETUP_COMPL    4u
 250:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_PKTSTS_SETUP_RX       6u
 251:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_PKTSTS_MASK           DEF_BIT_FIELD(4u, 17u)
 252:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_EPNUM_MASK            DEF_BIT_FIELD(2u, 0u)
 253:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GRXSTSx_BCNT_MASK             DEF_BIT_FIELD(11u, 4u)
 254:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 255:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GCCFG_BIT_VBDEN               DEF_BIT_21     /* This bit is use for STM32F74xx &
 256:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GCCFG_BIT_NONVBUSSENS         DEF_BIT_21     /* This bit is use for STM32F107, S
 257:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GCCFG_BIT_SOFOUTEN            DEF_BIT_20
 258:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GCCFG_BIT_VBUSBEN             DEF_BIT_19
ARM GAS  /tmp/ccEVxbcI.s 			page 6


 259:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GCCFG_BIT_VBUSAEN             DEF_BIT_18
 260:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_GCCFG_BIT_PWRDWN              DEF_BIT_16
 261:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 262:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCFG_PFIVL_80                 DEF_BIT_MASK(0u, 11u)
 263:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCFG_PFIVL_85                 DEF_BIT_MASK(1u, 11u)
 264:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCFG_PFIVL_90                 DEF_BIT_MASK(2u, 11u)
 265:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCFG_PFIVL_95                 DEF_BIT_MASK(3u, 11u)
 266:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCFG_BIT_NZLSOHSK             DEF_BIT_02
 267:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCFG_DSPD_FULLSPEED           DEF_BIT_MASK(3u, 0u)
 268:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCFG_DAD_MASK                 DEF_BIT_FIELD(7u, 4u)
 269:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 270:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_POPRGDNE             DEF_BIT_11
 271:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_CGONAK               DEF_BIT_10
 272:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_SGONAK               DEF_BIT_09
 273:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_CGINAK               DEF_BIT_08
 274:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_SGINAK               DEF_BIT_07
 275:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_GONSTS               DEF_BIT_03
 276:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_GINSTS               DEF_BIT_02
 277:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_SDIS                 DEF_BIT_01
 278:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DCTL_BIT_RWUSIG               DEF_BIT_00
 279:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 280:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DSTS_BIT_EERR                 DEF_BIT_03
 281:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DSTS_ENUMSPD_FS_PHY_48MHZ     DEF_BIT_MASK(3u, 1u)
 282:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DSTS_BIT_SUSPSTS              DEF_BIT_00
 283:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DSTS_FNSOF_MASK               DEF_BIT_FIELD(14u, 8u)
 284:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 285:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPMSK_BIT_INEPNEM           DEF_BIT_06
 286:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPMSK_BIT_INEPNMM           DEF_BIT_05
 287:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPMSK_BIT_ITTXFEMSK         DEF_BIT_04
 288:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPMSK_BIT_TOM               DEF_BIT_03
 289:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPMSK_BIT_EPDM              DEF_BIT_01
 290:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPMSK_BIT_XFRCM             DEF_BIT_00
 291:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 292:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPMSK_BIT_OTEPDM            DEF_BIT_04
 293:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPMSK_BIT_STUPM             DEF_BIT_03
 294:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPMSK_BIT_EPDM              DEF_BIT_01
 295:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPMSK_BIT_XFRCM             DEF_BIT_00
 296:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 297:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_OEPINT_EP0          DEF_BIT_16
 298:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_OEPINT_EP1          DEF_BIT_17
 299:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_OEPINT_EP2          DEF_BIT_18
 300:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_OEPINT_EP3          DEF_BIT_19
 301:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_IEPINT_EP0          DEF_BIT_00
 302:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_IEPINT_EP1          DEF_BIT_01
 303:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_IEPINT_EP2          DEF_BIT_02
 304:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINT_BIT_IEPINT_EP3          DEF_BIT_03
 305:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 306:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_BIT_OEPINT_EP0       DEF_BIT_16
 307:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_BIT_OEPINT_EP1       DEF_BIT_17
 308:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINMSKT_BIT_OEPINT_EP2       DEF_BIT_18
 309:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_BIT_OEPINT_EP3       DEF_BIT_19
 310:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_OEPINT_ALL          (STM32F_FS_DAINTMSK_BIT_OEPINT_EP0 | STM32F_FS_DAIN
 311:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_DAINTMSK_BIT_OEPINT_EP2 | STM32F_FS_DAIN
 312:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_BIT_IEPINT_EP0       DEF_BIT_00
 313:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_BIT_IEPINT_EP1       DEF_BIT_01
 314:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_BIT_IEPINT_EP2       DEF_BIT_02
 315:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_BIT_IEPINT_EP3       DEF_BIT_03
ARM GAS  /tmp/ccEVxbcI.s 			page 7


 316:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DAINTMSK_IEPINT_ALL          (STM32F_FS_DAINTMSK_BIT_IEPINT_EP0 | STM32F_FS_DAIN
 317:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  STM32F_FS_DAINTMSK_BIT_IEPINT_EP2 | STM32F_FS_DAIN
 318:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 319:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPEMPMSK_BIT_INEPTXFEM_EP0  DEF_BIT_00
 320:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPEMPMSK_BIT_INEPTXFEM_EP1  DEF_BIT_01
 321:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPEMPMSK_BIT_INEPTXFEM_EP2  DEF_BIT_02
 322:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPEMPMSK_BIT_INEPTXFEM_EP3  DEF_BIT_03
 323:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 324:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_EPENA            DEF_BIT_31
 325:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_EPDIS            DEF_BIT_30
 326:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_SODDFRM          DEF_BIT_29
 327:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_SD0PID           DEF_BIT_28
 328:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_SEVNFRM          DEF_BIT_28
 329:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_SNAK             DEF_BIT_27
 330:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_CNAK             DEF_BIT_26
 331:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_STALL            DEF_BIT_21
 332:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_EPTYPE_CTRL          DEF_BIT_MASK(0u, 18u)
 333:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_EPTYPE_ISO           DEF_BIT_MASK(1u, 18u)
 334:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_EPTYPE_BULK          DEF_BIT_MASK(2u, 18u)
 335:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_EPTYPE_INTR          DEF_BIT_MASK(3u, 18u)
 336:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_NAKSTS           DEF_BIT_17
 337:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_EONUM            DEF_BIT_16
 338:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_DPID             DEF_BIT_16
 339:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_BIT_USBAEP           DEF_BIT_15
 340:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTLx_MPSIZ_MASK           DEF_BIT_FIELD(11u, 0u)
 341:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 342:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTL0_MPSIZ_64             DEF_BIT_MASK(0u, 0u)
 343:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DxEPCTL0_MPSIZ_64_MSK         DEF_BIT_FIELD(2u, 0u)
 344:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 345:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPCTLx_BIT_SD1PID           DEF_BIT_29
 346:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPCTLx_BIT_SNPM             DEF_BIT_20
 347:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 348:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPINTx_BIT_TXFE             DEF_BIT_07
 349:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPINTx_BIT_INEPNE           DEF_BIT_06
 350:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPINTx_BIT_ITTXFE           DEF_BIT_04
 351:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPINTx_BIT_TOC              DEF_BIT_03
 352:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPINTx_BIT_EPDISD           DEF_BIT_01
 353:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPINTx_BIT_XFRC             DEF_BIT_00
 354:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 355:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPINTx_BIT_B2BSTUP          DEF_BIT_06
 356:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPINTx_BIT_OTEPDIS          DEF_BIT_04
 357:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPINTx_BIT_STUP             DEF_BIT_03
 358:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPINTx_BIT_EPDISD           DEF_BIT_01
 359:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPINTx_BIT_XFRC             DEF_BIT_00
 360:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 361:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_STUPCNT_1_PKT       DEF_BIT_MASK(1u, 29u)
 362:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_STUPCNT_2_PKT       DEF_BIT_MASK(2u, 29u)
 363:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_STUPCNT_3_PKT       DEF_BIT_MASK(3u, 29u)
 364:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_XFRSIZ_MSK          DEF_BIT_FIELD(19u, 0u)
 365:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_PKTCNT_MSK          DEF_BIT_FIELD(10u, 19u)
 366:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 367:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZ0_BIT_PKTCNT          DEF_BIT_19
 368:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZ0_XFRSIZ_MAX_64       DEF_BIT_MASK(64u, 0u)
 369:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 370:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPTSIZx_MCNT_1_PKT          DEF_BIT_MASK(1u, 29u)
 371:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPTSIZx_MCNT_2_PKT          DEF_BIT_MASK(2u, 29u)
 372:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPTSIZx_MCNT_3_PKT          DEF_BIT_MASK(3u, 29u)
ARM GAS  /tmp/ccEVxbcI.s 			page 8


 373:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPTSIZx_XFRSIZ_MSK          DEF_BIT_FIELD(19u, 0u)
 374:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPTSIZx_PKTCNT_MSK          DEF_BIT_FIELD(10u, 19u)
 375:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DIEPTSIZx_PKTCNT_01           DEF_BIT_MASK(1u, 19u)
 376:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 377:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DTXFSTSx_EP_FIFO_FULL         DEF_BIT_NONE
 378:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DTXFSTSx_EP_FIFO_WAVAIL_01    DEF_BIT_MASK(1u, 0u)
 379:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DTXFSTSx_EP_FIFO_WAVAIL_02    DEF_BIT_MASK(2u, 0u)
 380:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 381:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_RXDPID_DATA0        DEF_BIT_MASK(0u, 29u)
 382:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_RXDPID_DATA1        DEF_BIT_MASK(2u, 29u)
 383:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_RXDPID_DATA2        DEF_BIT_MASK(1u, 29u)
 384:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_DOEPTSIZx_RXDPID_MDATA        DEF_BIT_MASK(3u, 29u)
 385:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 386:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_PCGCCTL_BIT_PHYSUSP           DEF_BIT_04
 387:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_PCGCCTL_BIT_GATEHCLK          DEF_BIT_01
 388:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** #define  STM32F_FS_PCGCCTL_BIT_STPPCLK           DEF_BIT_00
 389:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 390:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 391:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 392:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 393:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                           LOCAL CONSTANTS
 394:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 395:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 396:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 397:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 398:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 399:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 400:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                            LOCAL MACROS
 401:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 402:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 403:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 404:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 405:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 406:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 407:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                          LOCAL DATA TYPES
 408:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 409:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 410:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 411:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** typedef  struct  usbd_stm32f_fs_in_ep_reg {                     /* -------------- IN-ENDPOINT REGIS
 412:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  CTLx;                            /* Device control IN endpoint-x    
 413:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD0;
 414:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  INTx;                            /* Device IN endpoint-x interrupt  
 415:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD1;
 416:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  TSIZx;                           /* Device IN endpoint-x transfer si
 417:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DMAx;                            /* OTG_HS device IN endpoint-x DMA 
 418:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DTXFSTSx;                        /* Device IN endpoint-x transmit FI
 419:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD2;
 420:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** } USBD_STM32F_FS_IN_EP_REG;
 421:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 422:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 423:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** typedef  struct  usbd_stm32f_fs_out_ep_reg {                    /* ------------- OUT ENDPOINT REGIS
 424:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  CTLx;                            /* Device control OUT endpoint-x   
 425:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD0;
 426:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  INTx;                            /* Device OUT endpoint-x interrupt 
 427:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD1;
 428:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  TSIZx;                           /* Device OUT endpoint-x transfer s
 429:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DMAx;                            /* OTG_HS device OUT endpoint-x DMA
ARM GAS  /tmp/ccEVxbcI.s 			page 9


 430:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD2[2u];
 431:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** } USBD_STM32F_FS_OUT_EP_REG;
 432:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 433:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** typedef  struct  usbd_stm32f_fs_dfifo_reg {                     /* ---------- DATA FIFO ACCESS REGI
 434:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DATA[STM32F_FS_DFIFO_SIZE];      /* 4K bytes per endpoint           
 435:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** } USBD_STM32F_FS_DFIFO_REG;
 436:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 437:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** typedef  struct  usbd_stm32f_fs_reg {
 438:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----- CORE GLOBAL CONTROL AND ST
 439:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GOTGCTL;                         /* Core control and status         
 440:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GOTGINT;                         /* Core interrupt                  
 441:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GAHBCFG;                         /* Core AHB configuration          
 442:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GUSBCFG;                         /* Core USB configuration          
 443:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GRSTCTL;                         /* Core reset                      
 444:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GINTSTS;                         /* Core interrupt                  
 445:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GINTMSK;                         /* Core interrupt mask             
 446:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GRXSTSR;                         /* Core receive status debug read  
 447:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GRXSTSP;                         /* Core status read and pop        
 448:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GRXFSIZ;                         /* Core receive FIFO size          
 449:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DIEPTXF0;                        /* Endpoint 0 transmit FIFO size   
 450:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  HNPTXSTS;                        /* Core Non Periodic Tx FIFO/Queue 
 451:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GI2CCTL;                         /* OTG_HS I2C access register      
 452:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD0;
 453:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  GCCFG;                           /* General core configuration      
 454:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  CID;                             /* Core ID register                
 455:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 456:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD1[48u];
 457:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 458:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  HPTXFSIZ;                        /* Core Host Periodic Tx FIFO size 
 459:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DIEPTXFx[STM32F_FS_NBR_EPS - 1]; /* Device IN endpoint transmit FIFO
 460:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 461:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD2[432u];
 462:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----- DEVICE MODE CONTROL AND ST
 463:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DCFG;                            /* Device configuration            
 464:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DCTL;                            /* Device control                  
 465:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DSTS;                            /* Device status                   
 466:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD3;
 467:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DIEPMSK;                         /* Device IN endpoint common interr
 468:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DOEPMSK;                         /* Device OUT endpoint common inter
 469:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DAINT;                           /* Device All endpoints interrupt  
 470:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DAINTMSK;                        /* Device All endpoints interrupt m
 471:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 472:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD4[2u];
 473:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 474:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DVBUSDIS;                        /* Device VBUS discharge time      
 475:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DVBUSPULSE;                      /* Device VBUS pulsing time        
 476:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 477:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RESVD5;
 478:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 479:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DIEPEMPMSK;                      /* Device IN ep FIFO empty interrup
 480:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 481:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  EACHHINT;                        /* OTG_HS device each endpoint inte
 482:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  EACHHINTMSK;                     /* OTG_HS device each endpoint inte
 483:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DIEPEACHMSK1;                    /* OTG_HS device each IN endpoint-1
 484:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD6[15u];
 485:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  DOEPEACHMSK1;                    /* OTG_HS device each OUT endpoint-
 486:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
ARM GAS  /tmp/ccEVxbcI.s 			page 10


 487:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD7[31u];
 488:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 489:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_IN_EP_REG   DIEP[STM32F_FS_NBR_EPS];         /* Device IN EP registers          
 490:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_OUT_EP_REG  DOEP[STM32F_FS_NBR_EPS];         /* Device OUT EP registers         
 491:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 492:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD8[64u];
 493:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 494:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  PCGCR;                           /* Power anc clock gating control  
 495:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 496:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32                  RSVD9[127u];
 497:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 498:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_DFIFO_REG   DFIFO[STM32F_FS_NBR_EPS];        /* Data FIFO access registers      
 499:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** } USBD_STM32F_FS_REG;
 500:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 501:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 502:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 503:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 504:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                          DRIVER DATA TYPE
 505:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 506:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 507:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 508:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** typedef  struct  usbd_drv_data_ep {                             /* ---------- DEVICE ENDPOINT DATA 
 509:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U   DataBuf[STM32F_FS_MAX_PKT_SIZE / 4u];          /* Drv internal aligned buffer.    
 510:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U   EP_MaxPktSize[STM32F_FS_NBR_CHANNEL];          /* Max pkt size of opened EPs.     
 511:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U   EP_PktXferLen[STM32F_FS_NBR_CHANNEL];          /* EPs current xfer len.           
 512:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U  *EP_AppBufPtr[STM32F_FS_NBR_CHANNEL];           /* Ptr to app buffer.              
 513:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U   EP_AppBufLen[STM32F_FS_NBR_CHANNEL];           /* Len of app buffer.              
 514:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U   EP_SetupBuf[2u];                               /* Buffer that contains setup pkt. 
 515:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U   DrvType;                                       /* STM32F_FS/ STM32F_OTG_FS/ EFM32_
 516:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** } USBD_DRV_DATA_EP;
 517:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 518:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 519:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 520:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 521:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                       LOCAL GLOBAL VARIABLES
 522:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 523:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 524:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 525:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 526:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 527:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 528:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                             USB DEVICE CONTROLLER DRIVER API PROTOTYPES
 529:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 530:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 531:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 532:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------ FULL-SPEED MODE DRI
 533:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvSTM32F_FS_Init     (USBD_DRV     *p_drv,
 534:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 535:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 536:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvSTM32F_OTG_FS_Init (USBD_DRV     *p_drv,
 537:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 538:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 539:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvEFM32_OTG_FS_Init  (USBD_DRV     *p_drv,
 540:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 541:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 542:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvXMC_OTG_FS_Init    (USBD_DRV     *p_drv,
 543:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
ARM GAS  /tmp/ccEVxbcI.s 			page 11


 544:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 545:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvHandlerInit        (USBD_DRV     *p_drv,
 546:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT16U    drv_type,
 547:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 548:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 549:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvSTM32F_FS_Start    (USBD_DRV     *p_drv,
 550:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 551:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 552:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvSTM32F_OTG_FS_Start(USBD_DRV     *p_drv,
 553:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 554:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 555:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvEFM32_OTG_FS_Start (USBD_DRV     *p_drv,
 556:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 557:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 558:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvXMC_OTG_FS_Start   (USBD_DRV     *p_drv,
 559:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 560:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 561:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvHandlerStart       (USBD_DRV     *p_drv,
 562:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT16U    drv_type,
 563:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 564:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 565:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvStop               (USBD_DRV     *p_drv);
 566:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 567:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_BOOLEAN  USBD_DrvAddrSet            (USBD_DRV     *p_drv,
 568:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    dev_addr);
 569:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 570:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT16U   USBD_DrvFrameNbrGet        (USBD_DRV     *p_drv);
 571:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 572:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvEP_Open            (USBD_DRV     *p_drv,
 573:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 574:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_type,
 575:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT16U    max_pkt_size,
 576:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    transaction_frame,
 577:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 578:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 579:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvEP_Close           (USBD_DRV     *p_drv,
 580:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr);
 581:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 582:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT32U   USBD_DrvEP_RxStart         (USBD_DRV     *p_drv,
 583:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 584:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U   *p_buf,
 585:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT32U    buf_len,
 586:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 587:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 588:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT32U   USBD_DrvEP_Rx              (USBD_DRV     *p_drv,
 589:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 590:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U   *p_buf,
 591:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT32U    buf_len,
 592:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 593:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 594:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvEP_RxZLP           (USBD_DRV     *p_drv,
 595:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 596:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 597:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 598:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT32U   USBD_DrvEP_Tx              (USBD_DRV     *p_drv,
 599:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 600:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U   *p_buf,
ARM GAS  /tmp/ccEVxbcI.s 			page 12


 601:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT32U    buf_len,
 602:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 603:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 604:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvEP_TxStart         (USBD_DRV     *p_drv,
 605:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 606:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U   *p_buf,
 607:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT32U    buf_len,
 608:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 609:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 610:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 611:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvEP_TxZLP           (USBD_DRV     *p_drv,
 612:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 613:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  USBD_ERR     *p_err);
 614:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 615:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_BOOLEAN  USBD_DrvEP_Abort           (USBD_DRV     *p_drv,
 616:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr);
 617:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 618:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_BOOLEAN  USBD_DrvEP_Stall           (USBD_DRV     *p_drv,
 619:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_INT08U    ep_addr,
 620:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                  CPU_BOOLEAN   state);
 621:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 622:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         USBD_DrvISR_Handler        (USBD_DRV     *p_drv);
 623:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 624:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 625:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 626:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 627:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                      LOCAL FUNCTION PROTOTYPES
 628:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 629:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 630:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 631:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         STM32_RxFIFO_Rd           (USBD_DRV     *p_drv);
 632:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 633:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         STM32_TxFIFO_Wr           (USBD_DRV     *p_drv,
 634:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                 CPU_INT08U    ep_log_nbr,
 635:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                 CPU_INT08U   *p_buf,
 636:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                 CPU_INT16U    ep_pkt_len);
 637:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 638:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         STM32_EP_OutProcess       (USBD_DRV     *p_drv);
 639:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 640:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void         STM32_EP_InProcess        (USBD_DRV     *p_drv);
 641:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 642:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 643:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 644:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 645:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                     LOCAL CONFIGURATION ERRORS
 646:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 647:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 648:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 649:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 650:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 651:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 652:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                  USB DEVICE CONTROLLER DRIVER API
 653:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 654:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 655:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 656:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* --------------- STM32F_FS DRIVER
 657:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** USBD_DRV_API  USBD_DrvAPI_STM32F_FS     = { USBD_DrvSTM32F_FS_Init,
ARM GAS  /tmp/ccEVxbcI.s 			page 13


 658:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvSTM32F_FS_Start,
 659:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvStop,
 660:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvAddrSet,
 661:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 662:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 663:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 664:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvFrameNbrGet,
 665:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Open,
 666:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Close,
 667:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxStart,
 668:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Rx,
 669:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxZLP,
 670:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Tx,
 671:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxStart,
 672:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxZLP,
 673:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Abort,
 674:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Stall,
 675:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvISR_Handler,
 676:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           };
 677:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 678:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 679:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------- STM32F_OTG_FS DRIV
 680:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** USBD_DRV_API  USBD_DrvAPI_STM32F_OTG_FS = { USBD_DrvSTM32F_OTG_FS_Init,
 681:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvSTM32F_OTG_FS_Start,
 682:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvStop,
 683:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvAddrSet,
 684:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 685:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 686:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 687:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvFrameNbrGet,
 688:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Open,
 689:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Close,
 690:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxStart,
 691:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Rx,
 692:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxZLP,
 693:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Tx,
 694:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxStart,
 695:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxZLP,
 696:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Abort,
 697:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Stall,
 698:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvISR_Handler,
 699:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           };
 700:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 701:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* -------------- EFM32_OTG_FS DRIV
 702:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** USBD_DRV_API  USBD_DrvAPI_EFM32_OTG_FS  = { USBD_DrvEFM32_OTG_FS_Init,
 703:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEFM32_OTG_FS_Start,
 704:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvStop,
 705:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvAddrSet,
 706:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 707:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 708:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 709:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvFrameNbrGet,
 710:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Open,
 711:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Close,
 712:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxStart,
 713:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Rx,
 714:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxZLP,
ARM GAS  /tmp/ccEVxbcI.s 			page 14


 715:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Tx,
 716:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxStart,
 717:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxZLP,
 718:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Abort,
 719:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Stall,
 720:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvISR_Handler,
 721:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           };
 722:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 723:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* --------------- XMC_OTG_FS DRIVE
 724:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** USBD_DRV_API  USBD_DrvAPI_XMC_OTG_FS    = { USBD_DrvXMC_OTG_FS_Init,
 725:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvXMC_OTG_FS_Start,
 726:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvStop,
 727:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvAddrSet,
 728:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 729:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 730:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             DEF_NULL,
 731:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvFrameNbrGet,
 732:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Open,
 733:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Close,
 734:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxStart,
 735:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Rx,
 736:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_RxZLP,
 737:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Tx,
 738:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxStart,
 739:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_TxZLP,
 740:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Abort,
 741:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvEP_Stall,
 742:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                             USBD_DrvISR_Handler,
 743:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           };
 744:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 745:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 746:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 747:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 748:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 749:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                     DRIVER INTERFACE FUNCTIONS
 750:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 751:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 752:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 753:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 754:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 755:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 756:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                      USBD_DrvSTM32F_FS_Init()
 757:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                    USBD_DrvSTM32F_OTG_FS_Init()
 758:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                     USBD_DrvEFM32_OTG_FS_Init()
 759:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                      USBD_DrvXMC_OTG_FS_Init()
 760:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 761:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Initialize the USB Full-speed device controller.
 762:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 763:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
 764:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 765:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 766:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 767:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE       Device successfully initialized.
 768:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_ALLOC      Memory allocation failed.
 769:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 770:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
 771:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
ARM GAS  /tmp/ccEVxbcI.s 			page 15


 772:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : None.
 773:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 774:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 775:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 776:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvSTM32F_FS_Init (USBD_DRV  *p_drv,
 777:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                       USBD_ERR  *p_err)
 778:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 779:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_STM32F_FS, p_err);
 780:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 781:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 782:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 783:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvSTM32F_OTG_FS_Init (USBD_DRV  *p_drv,
 784:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           USBD_ERR  *p_err)
 785:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 786:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_STM32F_OTG_FS, p_err);
 787:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 788:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 789:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 790:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvEFM32_OTG_FS_Init (USBD_DRV  *p_drv,
 791:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                          USBD_ERR  *p_err)
 792:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 793:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_EFM32_OTG_FS, p_err);
 794:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 795:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 796:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 797:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvXMC_OTG_FS_Init (USBD_DRV  *p_drv,
 798:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                        USBD_ERR  *p_err)
 799:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 800:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_XMC_OTG_FS, p_err);
 801:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 802:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 803:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 804:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 805:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 806:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        USBD_DrvHandlerInit()
 807:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 808:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Initialize the Full-speed device.
 809:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 810:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
 811:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 812:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               drv_type    Driver type:
 813:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 814:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_STM32F_FS              Driver for STM32F10x, STM32F2x and STM32
 815:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_STM32F_OTG_FS          Driver for STM32F74xx and STM32F75xx ser
 816:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_EFM32_OTG_FS           Driver for EFM32 Gecko series.
 817:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_XMC_OTG_FS             Driver for XMC4000 series.
 818:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 819:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
 820:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 821:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE       Device successfully initialized.
 822:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_ALLOC      Memory allocation failed.
 823:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 824:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
 825:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
 826:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : (1) Since the CPU frequency could be higher than OTG module clock, a timeout is nee
 827:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   to reset the OTG controller successfully.
 828:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
ARM GAS  /tmp/ccEVxbcI.s 			page 16


 829:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
 830:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 831:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvHandlerInit (USBD_DRV    *p_drv,
 832:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    CPU_INT16U   drv_type,
 833:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    USBD_ERR    *p_err)
 834:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 835:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_nbr;
 836:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           reg_to;
 837:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32            ctrl_reg;
 838:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_SIZE_T           reqd_octets;
 839:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     LIB_ERR              lib_mem_err;
 840:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 841:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_BSP_API    *p_bsp_api;
 842:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 843:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 844:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 845:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Alloc drv internal data.        
 846:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP *)Mem_HeapAlloc(sizeof(USBD_DRV_DATA_EP),
 847:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                    sizeof(CPU_ALIGN),
 848:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                   &reqd_octets,
 849:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                   &lib_mem_err);
 850:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (p_drv_data == (void *)0) {
 851:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_err = USBD_ERR_ALLOC;
 852:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         return;
 853:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 854:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 855:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     Mem_Clr(p_drv_data, sizeof(USBD_DRV_DATA_EP));
 856:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 857:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data->DrvType = drv_type;
 858:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv->DataPtr      = p_drv_data;                           /* Store drv internal data ptr.    
 859:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 860:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_bsp_api =  p_drv->BSP_API_Ptr;                            /* Get driver BSP API reference.   
 861:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg     = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;  /* Get USB ctrl reg ref.           
 862:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 863:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (p_bsp_api->Init != (void *)0) {
 864:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_bsp_api->Init(p_drv);                                 /* Call board/chip specific device 
 865:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ... initialization function.    
 866:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 867:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 868:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Disable the global interrupt    
 869:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(p_reg->GAHBCFG, STM32F_FS_GAHBCFG_BIT_GINTMSK);
 870:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 871:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* --------------------- PHY CFG --
 872:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     switch (drv_type){
 873:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_FS:
 874:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_OTG_FS:
 875:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Full Speed serial transceivers  
 876:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_SET(p_reg->GUSBCFG, STM32F_FS_GUSBCFG_BIT_PHYSEL);
 877:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 878:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 879:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 880:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_EFM32_OTG_FS:
 881:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_XMC_OTG_FS:
 882:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         default:
 883:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 884:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 885:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* -------------------- CORE RESET 
ARM GAS  /tmp/ccEVxbcI.s 			page 17


 886:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_to = STM32F_FS_REG_VAL_TO;                              /* Check AHB master state machine i
 887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_CLR(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_AHBIDL)) &&
 888:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 889:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to--;
 890:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 891:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 892:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     switch (drv_type) {
 893:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_FS:
 894:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear the control logic in the A
 895:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_HSRST);
 896:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              reg_to = STM32F_FS_REG_VAL_TO;                     /* Check all necessary logic is res
 897:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_HSRST)) &&
 898:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                     (reg_to > 0u)) {
 899:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  reg_to--;
 900:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 901:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 902:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 903:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 904:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         default:
 905:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 906:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 907:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 908:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_CSRST);   /* Resets the HCLK and PCLK domains
 909:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 910:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_to = STM32F_FS_REG_VAL_TO;                              /* Check all necessary logic is res
 911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_CSRST)) &&
 912:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 913:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to--;
 914:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 915:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 916:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (drv_type != DRV_XMC_OTG_FS) {
 917:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->GCCFG = STM32F_FS_GCCFG_BIT_PWRDWN;
 918:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 919:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 920:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_SET(p_reg->GUSBCFG, STM32F_FS_GUSBCFG_BIT_FDMOD);   /* Force the core to device mode   
 921:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_to = STM32F_FS_REG_FMOD_TO;                             /* Wait at least 25ms before the ch
 922:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while (reg_to > 0u) {
 923:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to--;
 924:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 925:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 926:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     switch (drv_type) {
 927:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_FS:
 928:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              p_reg->GCCFG |= STM32F_FS_GCCFG_BIT_NONVBUSSENS;   /* Vbus sensing not needed for devi
 929:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 930:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 931:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 932:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_OTG_FS:
 933:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Vbus detection disable.         
 934:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_CLR(p_reg->GCCFG, STM32F_FS_GCCFG_BIT_VBDEN);
 935:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_SET(p_reg->GOTGCTL, (STM32F_FS_GOTGCTL_BIT_BVALOEN  |
 936:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           STM32F_FS_GOTGCTL_BIT_BVALOVAL));
 937:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 938:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 939:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 940:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_EFM32_OTG_FS:
 941:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_XMC_OTG_FS:
 942:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         default:
ARM GAS  /tmp/ccEVxbcI.s 			page 18


 943:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 944:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 945:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 946:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------------- DEVICE INIT 
 947:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->PCGCR = DEF_BIT_NONE;                                /* Reset the PHY clock             
 948:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 949:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DCFG = STM32F_FS_DCFG_PFIVL_80 |
 950:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                   STM32F_FS_DCFG_DSPD_FULLSPEED;
 951:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 952:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->GRSTCTL = STM32F_FS_GRSTCTL_BIT_TXFFLSH |            /* Flush all transmit FIFOs        
 953:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      STM32F_FS_GRSTCTL_FLUSH_TXFIFO_ALL;
 954:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 955:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_to = STM32F_FS_REG_VAL_TO;                              /* Wait for the flush completion   
 956:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_TXFFLSH)) &&
 957:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 958:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to--;
 959:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 960:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 961:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Flush the receive FIFO          
 962:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_RXFFLSH);
 963:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 964:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_to = STM32F_FS_REG_VAL_TO;                              /* Wait for the flush completion   
 965:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_RXFFLSH)) &&
 966:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 967:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to--;
 968:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 969:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear all pending Device interru
 970:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DIEPMSK  = DEF_BIT_NONE;                             /* Dis. interrupts for the Device I
 971:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DOEPMSK  = DEF_BIT_NONE;                             /* Dis. interrupts for the Device O
 972:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DAINTMSK = DEF_BIT_NONE;                             /* Dis. interrupts foo all Device E
 973:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 974:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ctrl_reg = STM32F_FS_DxEPCTLx_BIT_EPDIS |
 975:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                STM32F_FS_DxEPCTLx_BIT_SNAK;
 976:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     for (ep_nbr = 0u; ep_nbr < STM32F_FS_NBR_EPS; ep_nbr++) {
 978:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
 979:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEP[ep_nbr].CTLx  = ctrl_reg;
 980:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEP[ep_nbr].TSIZx = DEF_BIT_NONE;
 981:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEP[ep_nbr].INTx  = 0x000000FFu;                /* Clear any pending Interrupt     
 982:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 983:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ---------------- OUT ENDPOINT RE
 984:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DOEP[ep_nbr].CTLx  = ctrl_reg;
 985:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DOEP[ep_nbr].TSIZx = DEF_BIT_NONE;
 986:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DOEP[ep_nbr].INTx  = 0x000000FFu;                /* Clear any pending Interrupt     
 987:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 988:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 989:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->GINTMSK = DEF_BIT_NONE;                              /* Disable all interrupts          
 990:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 991:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(p_reg->DCFG, STM32F_FS_DCFG_DAD_MASK);          /* Set Device Address to zero      
 992:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 993:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****    *p_err = USBD_ERR_NONE;
 994:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 995:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 996:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 997:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
 998:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
 999:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                      USBD_DrvSTM32F_FS_Start()
ARM GAS  /tmp/ccEVxbcI.s 			page 19


1000:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                    USBD_DrvSTM32F_OTG_FS_Start()
1001:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                    USBD_DrvEFM32_OTG_FS_Start()
1002:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                     USBD_DrvXMC_OTG_FS_Start()
1003:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1004:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Start device operation with VBUS detection enable.
1005:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1006:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1007:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1008:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1009:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1010:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE    Device successfully connected.
1011:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1012:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1013:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1014:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1015:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1016:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1017:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1018:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvSTM32F_FS_Start (USBD_DRV  *p_drv,
1019:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                        USBD_ERR  *p_err)
1020:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
1021:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_STM32F_FS, p_err);
1022:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
1023:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1024:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1025:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvSTM32F_OTG_FS_Start (USBD_DRV  *p_drv,
1026:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                            USBD_ERR  *p_err)
1027:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
1028:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_STM32F_OTG_FS, p_err);
1029:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
1030:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1031:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1032:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvEFM32_OTG_FS_Start (USBD_DRV  *p_drv,
1033:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           USBD_ERR  *p_err)
1034:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
1035:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_EFM32_OTG_FS, p_err);
1036:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
1037:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1038:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1039:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvXMC_OTG_FS_Start (USBD_DRV  *p_drv,
1040:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                         USBD_ERR  *p_err)
1041:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
1042:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_XMC_OTG_FS, p_err);
1043:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
1044:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1045:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1046:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1047:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1048:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                           USBD_DrvHandlerStart()
1049:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1050:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Start device operation :
1051:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1052:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   (1) Enable device controller bus state interrupts.
1053:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   (2) Call board/chip specific connect function.
1054:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1055:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1056:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
ARM GAS  /tmp/ccEVxbcI.s 			page 20


1057:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               drv_type    Driver type:
1058:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1059:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_STM32F_FS          Driver for STM32F10x, STM32F2x, & STM32F4x s
1060:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_STM32F_OTG_FS      Driver for STM32F74xx and STM32F75xx series.
1061:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_EFM32_OTG_FS       Driver for EFM32 Gecko series.
1062:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               DRV_XMC_OTG_FS         Driver for XMC4000 series.
1063:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1064:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1065:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1066:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE    Device successfully connected.
1067:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1068:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1069:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1070:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : Typically, the start function activates the pull-down on the D- pin to simulate
1071:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               attachment to host. Some MCUs/MPUs have an internal pull-down that is activated by 
1072:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               device controller register; for others, this may be a GPIO pin. Additionally, inter
1073:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               for reset and suspend are activated.
1074:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1075:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1076:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1077:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvHandlerStart (USBD_DRV    *p_drv,
1078:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                     CPU_INT16U   drv_type,
1079:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                     USBD_ERR    *p_err)
1080:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
  29              		.loc 1 1080 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 1080 1 is_stmt 0 view .LVU1
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 1546     		mov	r5, r2
1081:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_BSP_API    *p_bsp_api;
  42              		.loc 1 1081 5 is_stmt 1 view .LVU2
1082:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
  43              		.loc 1 1082 5 view .LVU3
1083:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1084:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1085:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_bsp_api =  p_drv->BSP_API_Ptr;                            /* Get driver BSP API reference.   
  44              		.loc 1 1085 5 view .LVU4
  45              		.loc 1 1085 15 is_stmt 0 view .LVU5
  46 0004 0269     		ldr	r2, [r0, #16]
  47              	.LVL1:
1086:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg     = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;  /* Get USB ctrl reg ref.           
  48              		.loc 1 1086 5 is_stmt 1 view .LVU6
  49              		.loc 1 1086 44 is_stmt 0 view .LVU7
  50 0006 8368     		ldr	r3, [r0, #8]
  51              		.loc 1 1086 52 view .LVU8
  52 0008 1C68     		ldr	r4, [r3]
  53              	.LVL2:
1087:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1088:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->GINTSTS = 0xFFFFFFFFu;                               /* Clear any pending interrupt     
ARM GAS  /tmp/ccEVxbcI.s 			page 21


  54              		.loc 1 1088 5 is_stmt 1 view .LVU9
  55              		.loc 1 1088 20 is_stmt 0 view .LVU10
  56 000a 4FF0FF33 		mov	r3, #-1
  57 000e 6361     		str	r3, [r4, #20]
1089:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Enable interrupts               
1090:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->GINTMSK = STM32F_FS_GINTMSK_BIT_USBSUSPM |
  58              		.loc 1 1090 5 is_stmt 1 view .LVU11
  59              		.loc 1 1090 20 is_stmt 0 view .LVU12
  60 0010 0C4B     		ldr	r3, .L5
  61 0012 A361     		str	r3, [r4, #24]
1091:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      STM32F_FS_GINTMSK_BIT_USBRST   |
1092:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      STM32F_FS_GINTMSK_BIT_ENUMDNEM |
1093:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      STM32F_FS_GINTMSK_BIT_WUIM;
1094:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1095:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     switch (drv_type) {
  62              		.loc 1 1095 5 is_stmt 1 view .LVU13
  63 0014 29B9     		cbnz	r1, .L2
1096:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_FS:
1097:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              p_reg->GINTMSK |= (STM32F_FS_GINTMSK_BIT_OTGINT  |
  64              		.loc 1 1097 14 view .LVU14
  65              		.loc 1 1097 29 is_stmt 0 view .LVU15
  66 0016 A369     		ldr	r3, [r4, #24]
  67 0018 43F08043 		orr	r3, r3, #1073741824
  68 001c 43F00403 		orr	r3, r3, #4
  69 0020 A361     		str	r3, [r4, #24]
1098:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                 STM32F_FS_GINTMSK_BIT_SRQIM);
1099:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
  70              		.loc 1 1099 14 is_stmt 1 view .LVU16
  71              	.L2:
1100:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1101:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1102:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_OTG_FS:
1103:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_EFM32_OTG_FS:
1104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_XMC_OTG_FS:
1105:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         default:
1106:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
1107:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1109:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Enable Global Interrupt         
1110:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_SET(p_reg->GAHBCFG, STM32F_FS_GAHBCFG_BIT_GINTMSK);
  72              		.loc 1 1110 5 view .LVU17
  73 0022 A368     		ldr	r3, [r4, #8]
  74 0024 43F00103 		orr	r3, r3, #1
  75 0028 A360     		str	r3, [r4, #8]
1111:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1112:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (p_bsp_api->Conn != (void *)0) {
  76              		.loc 1 1112 5 view .LVU18
  77              		.loc 1 1112 18 is_stmt 0 view .LVU19
  78 002a 5368     		ldr	r3, [r2, #4]
  79              		.loc 1 1112 8 view .LVU20
  80 002c 03B1     		cbz	r3, .L3
1113:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_bsp_api->Conn();                                      /* Call board/chip specific connect
  81              		.loc 1 1113 9 is_stmt 1 view .LVU21
  82 002e 9847     		blx	r3
  83              	.LVL3:
  84              	.L3:
1114:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
ARM GAS  /tmp/ccEVxbcI.s 			page 22


1115:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(p_reg->DCTL, STM32F_FS_DCTL_BIT_SDIS);          /* Generate Device connect event to
  85              		.loc 1 1116 5 view .LVU22
  86 0030 D4F80438 		ldr	r3, [r4, #2052]
  87 0034 23F00203 		bic	r3, r3, #2
  88 0038 C4F80438 		str	r3, [r4, #2052]
1117:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1118:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****    *p_err = USBD_ERR_NONE;
  89              		.loc 1 1118 4 view .LVU23
  90              		.loc 1 1118 11 is_stmt 0 view .LVU24
  91 003c 0023     		movs	r3, #0
  92 003e 2B80     		strh	r3, [r5]	@ movhi
1119:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
  93              		.loc 1 1119 1 view .LVU25
  94 0040 38BD     		pop	{r3, r4, r5, pc}
  95              	.LVL4:
  96              	.L6:
  97              		.loc 1 1119 1 view .LVU26
  98 0042 00BF     		.align	2
  99              	.L5:
 100 0044 00380080 		.word	-2147469312
 101              		.cfi_endproc
 102              	.LFE9:
 104              		.section	.text.USBD_DrvSTM32F_FS_Start,"ax",%progbits
 105              		.align	1
 106              		.syntax unified
 107              		.thumb
 108              		.thumb_func
 109              		.fpu fpv4-sp-d16
 111              	USBD_DrvSTM32F_FS_Start:
 112              	.LVL5:
 113              	.LFB5:
1020:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_STM32F_FS, p_err);
 114              		.loc 1 1020 1 is_stmt 1 view -0
 115              		.cfi_startproc
 116              		@ args = 0, pretend = 0, frame = 0
 117              		@ frame_needed = 0, uses_anonymous_args = 0
1020:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_STM32F_FS, p_err);
 118              		.loc 1 1020 1 is_stmt 0 view .LVU28
 119 0000 08B5     		push	{r3, lr}
 120              	.LCFI1:
 121              		.cfi_def_cfa_offset 8
 122              		.cfi_offset 3, -8
 123              		.cfi_offset 14, -4
 124 0002 0A46     		mov	r2, r1
1021:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 125              		.loc 1 1021 5 is_stmt 1 view .LVU29
 126 0004 0021     		movs	r1, #0
 127              	.LVL6:
1021:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 128              		.loc 1 1021 5 is_stmt 0 view .LVU30
 129 0006 FFF7FEFF 		bl	USBD_DrvHandlerStart
 130              	.LVL7:
1022:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 131              		.loc 1 1022 1 view .LVU31
 132 000a 08BD     		pop	{r3, pc}
 133              		.cfi_endproc
ARM GAS  /tmp/ccEVxbcI.s 			page 23


 134              	.LFE5:
 136              		.section	.text.USBD_DrvSTM32F_OTG_FS_Start,"ax",%progbits
 137              		.align	1
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	USBD_DrvSTM32F_OTG_FS_Start:
 144              	.LVL8:
 145              	.LFB6:
1027:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_STM32F_OTG_FS, p_err);
 146              		.loc 1 1027 1 is_stmt 1 view -0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 0
 149              		@ frame_needed = 0, uses_anonymous_args = 0
1027:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_STM32F_OTG_FS, p_err);
 150              		.loc 1 1027 1 is_stmt 0 view .LVU33
 151 0000 08B5     		push	{r3, lr}
 152              	.LCFI2:
 153              		.cfi_def_cfa_offset 8
 154              		.cfi_offset 3, -8
 155              		.cfi_offset 14, -4
 156 0002 0A46     		mov	r2, r1
1028:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 157              		.loc 1 1028 5 is_stmt 1 view .LVU34
 158 0004 0121     		movs	r1, #1
 159              	.LVL9:
1028:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 160              		.loc 1 1028 5 is_stmt 0 view .LVU35
 161 0006 FFF7FEFF 		bl	USBD_DrvHandlerStart
 162              	.LVL10:
1029:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 163              		.loc 1 1029 1 view .LVU36
 164 000a 08BD     		pop	{r3, pc}
 165              		.cfi_endproc
 166              	.LFE6:
 168              		.section	.text.USBD_DrvEFM32_OTG_FS_Start,"ax",%progbits
 169              		.align	1
 170              		.syntax unified
 171              		.thumb
 172              		.thumb_func
 173              		.fpu fpv4-sp-d16
 175              	USBD_DrvEFM32_OTG_FS_Start:
 176              	.LVL11:
 177              	.LFB7:
1034:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_EFM32_OTG_FS, p_err);
 178              		.loc 1 1034 1 is_stmt 1 view -0
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
1034:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_EFM32_OTG_FS, p_err);
 182              		.loc 1 1034 1 is_stmt 0 view .LVU38
 183 0000 08B5     		push	{r3, lr}
 184              	.LCFI3:
 185              		.cfi_def_cfa_offset 8
 186              		.cfi_offset 3, -8
 187              		.cfi_offset 14, -4
ARM GAS  /tmp/ccEVxbcI.s 			page 24


 188 0002 0A46     		mov	r2, r1
1035:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 189              		.loc 1 1035 5 is_stmt 1 view .LVU39
 190 0004 0221     		movs	r1, #2
 191              	.LVL12:
1035:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 192              		.loc 1 1035 5 is_stmt 0 view .LVU40
 193 0006 FFF7FEFF 		bl	USBD_DrvHandlerStart
 194              	.LVL13:
1036:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 195              		.loc 1 1036 1 view .LVU41
 196 000a 08BD     		pop	{r3, pc}
 197              		.cfi_endproc
 198              	.LFE7:
 200              		.section	.text.USBD_DrvXMC_OTG_FS_Start,"ax",%progbits
 201              		.align	1
 202              		.syntax unified
 203              		.thumb
 204              		.thumb_func
 205              		.fpu fpv4-sp-d16
 207              	USBD_DrvXMC_OTG_FS_Start:
 208              	.LVL14:
 209              	.LFB8:
1041:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_XMC_OTG_FS, p_err);
 210              		.loc 1 1041 1 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
1041:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerStart(p_drv, DRV_XMC_OTG_FS, p_err);
 214              		.loc 1 1041 1 is_stmt 0 view .LVU43
 215 0000 08B5     		push	{r3, lr}
 216              	.LCFI4:
 217              		.cfi_def_cfa_offset 8
 218              		.cfi_offset 3, -8
 219              		.cfi_offset 14, -4
 220 0002 0A46     		mov	r2, r1
1042:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 221              		.loc 1 1042 5 is_stmt 1 view .LVU44
 222 0004 0321     		movs	r1, #3
 223              	.LVL15:
1042:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 224              		.loc 1 1042 5 is_stmt 0 view .LVU45
 225 0006 FFF7FEFF 		bl	USBD_DrvHandlerStart
 226              	.LVL16:
1043:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 227              		.loc 1 1043 1 view .LVU46
 228 000a 08BD     		pop	{r3, pc}
 229              		.cfi_endproc
 230              	.LFE8:
 232              		.section	.text.USBD_DrvStop,"ax",%progbits
 233              		.align	1
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
 237              		.fpu fpv4-sp-d16
 239              	USBD_DrvStop:
 240              	.LVL17:
ARM GAS  /tmp/ccEVxbcI.s 			page 25


 241              	.LFB10:
1120:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1121:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1122:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1123:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                           USBD_DrvStop()
1125:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1126:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Stop Full-speed device operation.
1127:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1128:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1129:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1130:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1131:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1132:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : Typically, the stop function performs the following operations:
1133:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               (1) Clear and disable USB interrupts.
1134:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               (2) Disconnect from the USB host (e.g, reset the pull-down on the D- pin).
1135:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1136:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1137:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1138:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvStop (USBD_DRV  *p_drv)
1139:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 242              		.loc 1 1139 1 is_stmt 1 view -0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 0
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246              		.loc 1 1139 1 is_stmt 0 view .LVU48
 247 0000 10B5     		push	{r4, lr}
 248              	.LCFI5:
 249              		.cfi_def_cfa_offset 8
 250              		.cfi_offset 4, -8
 251              		.cfi_offset 14, -4
1140:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_BSP_API    *p_bsp_api;
 252              		.loc 1 1140 5 is_stmt 1 view .LVU49
1141:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 253              		.loc 1 1141 5 view .LVU50
1142:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1143:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1144:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_bsp_api =  p_drv->BSP_API_Ptr;                            /* Get driver BSP API reference.   
 254              		.loc 1 1144 5 view .LVU51
 255              		.loc 1 1144 15 is_stmt 0 view .LVU52
 256 0002 0369     		ldr	r3, [r0, #16]
 257              	.LVL18:
1145:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg     = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;  /* Get USB ctrl reg ref.           
 258              		.loc 1 1145 5 is_stmt 1 view .LVU53
 259              		.loc 1 1145 44 is_stmt 0 view .LVU54
 260 0004 8268     		ldr	r2, [r0, #8]
 261              		.loc 1 1145 52 view .LVU55
 262 0006 1468     		ldr	r4, [r2]
 263              	.LVL19:
1146:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1147:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (p_bsp_api->Disconn != (void *)0) {
 264              		.loc 1 1147 5 is_stmt 1 view .LVU56
 265              		.loc 1 1147 18 is_stmt 0 view .LVU57
 266 0008 9B68     		ldr	r3, [r3, #8]
 267              	.LVL20:
 268              		.loc 1 1147 8 view .LVU58
 269 000a 03B1     		cbz	r3, .L16
ARM GAS  /tmp/ccEVxbcI.s 			page 26


1148:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_bsp_api->Disconn();
 270              		.loc 1 1148 9 is_stmt 1 view .LVU59
 271 000c 9847     		blx	r3
 272              	.LVL21:
 273              	.L16:
1149:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1150:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1151:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->GINTMSK = DEF_BIT_NONE;                              /* Disable all interrupts          
 274              		.loc 1 1151 5 view .LVU60
 275              		.loc 1 1151 20 is_stmt 0 view .LVU61
 276 000e 0023     		movs	r3, #0
 277 0010 A361     		str	r3, [r4, #24]
1152:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->GINTSTS = 0xFFFFFFFF;                                /* Clear any pending interrupt     
 278              		.loc 1 1152 5 is_stmt 1 view .LVU62
 279              		.loc 1 1152 20 is_stmt 0 view .LVU63
 280 0012 4FF0FF33 		mov	r3, #-1
 281 0016 6361     		str	r3, [r4, #20]
1153:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Disable the global interrupt    
1154:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(p_reg->GAHBCFG, STM32F_FS_GAHBCFG_BIT_GINTMSK);
 282              		.loc 1 1154 5 is_stmt 1 view .LVU64
 283 0018 A368     		ldr	r3, [r4, #8]
 284 001a 23F00103 		bic	r3, r3, #1
 285 001e A360     		str	r3, [r4, #8]
1155:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1156:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_SET(p_reg->DCTL, STM32F_FS_DCTL_BIT_SDIS);          /* Generate Device Disconnect event
 286              		.loc 1 1156 5 view .LVU65
 287 0020 D4F80438 		ldr	r3, [r4, #2052]
 288 0024 43F00203 		orr	r3, r3, #2
 289 0028 C4F80438 		str	r3, [r4, #2052]
1157:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 290              		.loc 1 1157 1 is_stmt 0 view .LVU66
 291 002c 10BD     		pop	{r4, pc}
 292              		.loc 1 1157 1 view .LVU67
 293              		.cfi_endproc
 294              	.LFE10:
 296              		.section	.text.USBD_DrvAddrSet,"ax",%progbits
 297              		.align	1
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 301              		.fpu fpv4-sp-d16
 303              	USBD_DrvAddrSet:
 304              	.LVL22:
 305              	.LFB11:
1158:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1159:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1160:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1161:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1162:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                          USBD_DrvAddrSet()
1163:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1164:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Assign an address to device.
1165:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1166:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1167:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1168:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               dev_addr    Device address assigned by the host.
1169:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1170:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : DEF_OK,   if NO error(s).
ARM GAS  /tmp/ccEVxbcI.s 			page 27


1171:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1172:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               DEF_FAIL, otherwise.
1173:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1174:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : (1) For device controllers that have hardware assistance to enable the device addre
1175:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   the status stage has completed, the assignment of the device address can also b
1176:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   combined with enabling the device address mode.
1177:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1178:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               (2) For device controllers that change the device address immediately, without wait
1179:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   status phase to complete, see USBD_DrvAddrEn().
1180:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1181:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1182:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1183:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_BOOLEAN  USBD_DrvAddrSet (USBD_DRV    *p_drv,
1184:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                       CPU_INT08U   dev_addr)
1185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 306              		.loc 1 1185 1 is_stmt 1 view -0
 307              		.cfi_startproc
 308              		@ args = 0, pretend = 0, frame = 0
 309              		@ frame_needed = 0, uses_anonymous_args = 0
 310              		@ link register save eliminated.
1186:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 311              		.loc 1 1186 5 view .LVU69
1187:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1188:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1189:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg = (USBD_STM32F_FS_REG *)(p_drv->CfgPtr->BaseAddr);
 312              		.loc 1 1189 5 view .LVU70
 313              		.loc 1 1189 41 is_stmt 0 view .LVU71
 314 0000 8368     		ldr	r3, [r0, #8]
 315              		.loc 1 1189 49 view .LVU72
 316 0002 1B68     		ldr	r3, [r3]
 317              	.LVL23:
1190:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(p_reg->DCFG, STM32F_FS_DCFG_DAD_MASK);
 318              		.loc 1 1191 5 is_stmt 1 view .LVU73
 319 0004 D3F80008 		ldr	r0, [r3, #2048]
 320              	.LVL24:
 321              		.loc 1 1191 5 is_stmt 0 view .LVU74
 322 0008 20F4FE60 		bic	r0, r0, #2032
 323 000c C3F80008 		str	r0, [r3, #2048]
1192:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DCFG |= (dev_addr << 4u);                            /* Set Device Address              
 324              		.loc 1 1192 5 is_stmt 1 view .LVU75
 325              		.loc 1 1192 17 is_stmt 0 view .LVU76
 326 0010 D3F80028 		ldr	r2, [r3, #2048]
 327 0014 42EA0112 		orr	r2, r2, r1, lsl #4
 328 0018 C3F80028 		str	r2, [r3, #2048]
1193:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1194:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     return (DEF_OK);
 329              		.loc 1 1194 5 is_stmt 1 view .LVU77
1195:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 330              		.loc 1 1195 1 is_stmt 0 view .LVU78
 331 001c 0120     		movs	r0, #1
 332 001e 7047     		bx	lr
 333              		.cfi_endproc
 334              	.LFE11:
 336              		.section	.text.USBD_DrvFrameNbrGet,"ax",%progbits
 337              		.align	1
 338              		.syntax unified
ARM GAS  /tmp/ccEVxbcI.s 			page 28


 339              		.thumb
 340              		.thumb_func
 341              		.fpu fpv4-sp-d16
 343              	USBD_DrvFrameNbrGet:
 344              	.LVL25:
 345              	.LFB12:
1196:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1197:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1198:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1199:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        USBD_DrvFrameNbrGet()
1201:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1202:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Retrieve current frame number.
1203:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1204:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1205:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1206:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : Frame number.
1207:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1208:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1209:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1210:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1211:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1212:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT16U  USBD_DrvFrameNbrGet (USBD_DRV  *p_drv)
1213:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 346              		.loc 1 1213 1 is_stmt 1 view -0
 347              		.cfi_startproc
 348              		@ args = 0, pretend = 0, frame = 0
 349              		@ frame_needed = 0, uses_anonymous_args = 0
 350              		@ link register save eliminated.
1214:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U           frame_nbr;
 351              		.loc 1 1214 5 view .LVU80
1215:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 352              		.loc 1 1215 5 view .LVU81
1216:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1217:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1218:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg     = (USBD_STM32F_FS_REG *)(p_drv->CfgPtr->BaseAddr);
 353              		.loc 1 1218 5 view .LVU82
 354              		.loc 1 1218 45 is_stmt 0 view .LVU83
 355 0000 8368     		ldr	r3, [r0, #8]
 356              		.loc 1 1218 53 view .LVU84
 357 0002 1B68     		ldr	r3, [r3]
 358              	.LVL26:
1219:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     frame_nbr = (p_reg->DSTS & STM32F_FS_DSTS_FNSOF_MASK) >> 8u;
 359              		.loc 1 1219 5 is_stmt 1 view .LVU85
 360              		.loc 1 1219 23 is_stmt 0 view .LVU86
 361 0004 D3F80808 		ldr	r0, [r3, #2056]
 362              	.LVL27:
1220:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1221:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     return (frame_nbr);
 363              		.loc 1 1221 5 is_stmt 1 view .LVU87
1222:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 364              		.loc 1 1222 1 is_stmt 0 view .LVU88
 365 0008 C0F30D20 		ubfx	r0, r0, #8, #14
 366              	.LVL28:
 367              		.loc 1 1222 1 view .LVU89
 368 000c 7047     		bx	lr
 369              		.cfi_endproc
ARM GAS  /tmp/ccEVxbcI.s 			page 29


 370              	.LFE12:
 372              		.section	.text.USBD_DrvEP_Open,"ax",%progbits
 373              		.align	1
 374              		.syntax unified
 375              		.thumb
 376              		.thumb_func
 377              		.fpu fpv4-sp-d16
 379              	USBD_DrvEP_Open:
 380              	.LVL29:
 381              	.LFB13:
1223:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1224:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1225:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1226:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1227:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                          USBD_DrvEP_Open()
1228:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1229:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Open and configure a device endpoint, given its characteristics (e.g., endpoint typ
1230:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               endpoint address, maximum packet size, etc).
1231:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1232:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv               Pointer to device driver structure.
1233:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1234:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr             Endpoint address.
1235:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1236:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_type             Endpoint type :
1237:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1238:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                       USBD_EP_TYPE_CTRL,
1239:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                       USBD_EP_TYPE_ISOC,
1240:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                       USBD_EP_TYPE_BULK,
1241:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                       USBD_EP_TYPE_INTR.
1242:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1243:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               max_pkt_size        Maximum packet size.
1244:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1245:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               transaction_frame   Endpoint transactions per frame.
1246:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1247:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1248:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1249:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE               Endpoint successfully opened.
1250:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_EP_INVALID_ADDR    Invalid endpoint address.
1251:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1252:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1253:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1254:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : (1) Typically, the endpoint open function performs the following operations:
1255:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1256:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   (a) Validate endpoint address, type and maximum packet size.
1257:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   (b) Configure endpoint information in the device controller. This may include n
1258:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                       only assigning the type and maximum packet size, but also making certain th
1259:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                       the endpoint is successfully configured (or  realized  or  mapped ). For so
1260:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                       device controllers, this may not be necessary.
1261:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1262:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               (2) If the endpoint address is valid, then the endpoint open function should valida
1263:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   the attributes allowed by the hardware endpoint :
1264:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1265:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   (a) The maximum packet size 'max_pkt_size' should be validated to match hardwar
1266:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                       capabilities.
1267:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1268:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1269:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
ARM GAS  /tmp/ccEVxbcI.s 			page 30


1270:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvEP_Open (USBD_DRV    *p_drv,
1271:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                CPU_INT08U   ep_addr,
1272:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                CPU_INT08U   ep_type,
1273:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                CPU_INT16U   max_pkt_size,
1274:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                CPU_INT08U   transaction_frame,
1275:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                USBD_ERR    *p_err)
1276:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 382              		.loc 1 1276 1 is_stmt 1 view -0
 383              		.cfi_startproc
 384              		@ args = 8, pretend = 0, frame = 0
 385              		@ frame_needed = 0, uses_anonymous_args = 0
 386              		@ link register save eliminated.
 387              		.loc 1 1276 1 is_stmt 0 view .LVU91
 388 0000 F0B4     		push	{r4, r5, r6, r7}
 389              	.LCFI6:
 390              		.cfi_def_cfa_offset 16
 391              		.cfi_offset 4, -16
 392              		.cfi_offset 5, -12
 393              		.cfi_offset 6, -8
 394              		.cfi_offset 7, -4
1277:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1278:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 395              		.loc 1 1278 5 is_stmt 1 view .LVU92
1279:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_phy_nbr;
 396              		.loc 1 1279 5 view .LVU93
1280:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           reg_val;
 397              		.loc 1 1280 5 view .LVU94
1281:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 398              		.loc 1 1281 5 view .LVU95
1282:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 399              		.loc 1 1282 5 view .LVU96
1283:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1284:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1285:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     (void)transaction_frame;
 400              		.loc 1 1285 5 view .LVU97
1286:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1287:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)(p_drv->CfgPtr->BaseAddr);
 401              		.loc 1 1287 5 view .LVU98
 402              		.loc 1 1287 46 is_stmt 0 view .LVU99
 403 0002 8468     		ldr	r4, [r0, #8]
 404              		.loc 1 1287 54 view .LVU100
 405 0004 2568     		ldr	r5, [r4]
 406              	.LVL30:
1288:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)(p_drv->DataPtr);
 407              		.loc 1 1288 5 is_stmt 1 view .LVU101
 408              		.loc 1 1288 16 is_stmt 0 view .LVU102
 409 0006 C768     		ldr	r7, [r0, #12]
 410              	.LVL31:
1289:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 411              		.loc 1 1289 5 is_stmt 1 view .LVU103
 412              		.loc 1 1289 16 is_stmt 0 view .LVU104
 413 0008 01F00F04 		and	r4, r1, #15
 414              	.LVL32:
1290:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_phy_nbr =  USBD_EP_ADDR_TO_PHY(ep_addr);
 415              		.loc 1 1290 5 is_stmt 1 view .LVU105
 416              		.loc 1 1290 19 is_stmt 0 view .LVU106
 417 000c 4FEAD11C 		lsr	ip, r1, #7
ARM GAS  /tmp/ccEVxbcI.s 			page 31


 418              		.loc 1 1290 16 view .LVU107
 419 0010 0CEB4406 		add	r6, ip, r4, lsl #1
 420              	.LVL33:
1291:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_val    =  0u;
 421              		.loc 1 1291 5 is_stmt 1 view .LVU108
1292:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1293:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP FIFO Open", ep_addr);
 422              		.loc 1 1293 51 view .LVU109
1294:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1295:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     switch (ep_type) {
 423              		.loc 1 1295 5 view .LVU110
 424 0014 DAB1     		cbz	r2, .L21
 425 0016 1046     		mov	r0, r2
 426              	.LVL34:
 427              		.loc 1 1295 5 is_stmt 0 view .LVU111
 428 0018 023A     		subs	r2, r2, #2
 429              	.LVL35:
 430              		.loc 1 1295 5 view .LVU112
 431 001a D2B2     		uxtb	r2, r2
 432 001c 012A     		cmp	r2, #1
 433 001e 58D8     		bhi	.L30
1296:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case USBD_EP_TYPE_CTRL:
1297:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              if (USBD_EP_IS_IN(ep_addr) == DEF_YES) {
1298:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. Device EP0 IN interrupt     
1299:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DAINTMSK, STM32F_FS_DAINTMSK_BIT_IEPINT_EP0);
1300:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. common IN EP Transfer comple
1301:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DIEPMSK, STM32F_FS_DIEPMSK_BIT_XFRCM);
1302:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1303:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              } else {
1304:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. EP0 OUT interrupt           
1305:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DAINTMSK, STM32F_FS_DAINTMSK_BIT_OEPINT_EP0);
1306:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. common OUT EP Setup $ Xfer c
1307:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DOEPMSK, (STM32F_FS_DOEPMSK_BIT_STUPM | STM32F_FS_DOEPMSK_BIT_X
1308:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_reg->DOEP[ep_log_nbr].TSIZx = (STM32F_FS_DOEPTSIZx_STUPCNT_3_PKT |
1309:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                   STM32F_FS_DOEPTSIZ0_BIT_PKTCNT    |
1310:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                   STM32F_FS_DOEPTSIZ0_XFRSIZ_MAX_64);
1311:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1312:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_SNAK);
1313:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
1314:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1315:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
1316:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1317:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1318:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case USBD_EP_TYPE_INTR:
1319:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case USBD_EP_TYPE_BULK:
1320:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              if (USBD_EP_IS_IN(ep_addr)) {
 434              		.loc 1 1320 14 is_stmt 1 view .LVU113
 435              		.loc 1 1320 17 is_stmt 0 view .LVU114
 436 0020 CA09     		lsrs	r2, r1, #7
 437 0022 43D0     		beq	.L26
1321:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  reg_val = (max_pkt_size                 |      /* cfg EP max packet size          
 438              		.loc 1 1321 18 is_stmt 1 view .LVU115
 439              		.loc 1 1321 58 is_stmt 0 view .LVU116
 440 0024 43EA8040 		orr	r0, r3, r0, lsl #18
1322:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            (ep_type    << 18u)           |      /* cfg EP type                     
 441              		.loc 1 1322 58 view .LVU117
 442 0028 40EA8450 		orr	r0, r0, r4, lsl #22
ARM GAS  /tmp/ccEVxbcI.s 			page 32


1321:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  reg_val = (max_pkt_size                 |      /* cfg EP max packet size          
 443              		.loc 1 1321 26 view .LVU118
 444 002c 40F08050 		orr	r0, r0, #268435456
 445 0030 40F40040 		orr	r0, r0, #32768
 446              	.LVL36:
1323:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            (ep_log_nbr << 22u)           |      /* Tx FIFO number                  
1324:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            STM32F_FS_DxEPCTLx_BIT_SD0PID |      /* EP start data toggle            
1325:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            STM32F_FS_DxEPCTLx_BIT_USBAEP);      /* USB active EP                   
1326:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1327:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_reg->DIEP[ep_log_nbr].CTLx = reg_val;
 447              		.loc 1 1327 18 is_stmt 1 view .LVU119
 448              		.loc 1 1327 47 is_stmt 0 view .LVU120
 449 0034 04F14802 		add	r2, r4, #72
 450 0038 5201     		lsls	r2, r2, #5
 451 003a A850     		str	r0, [r5, r2]
1328:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. Device EPx IN Interrupt     
1329:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DAINTMSK, DEF_BIT(ep_log_nbr));
 452              		.loc 1 1329 18 is_stmt 1 view .LVU121
 453 003c D5F81C28 		ldr	r2, [r5, #2076]
 454 0040 0121     		movs	r1, #1
 455              	.LVL37:
 456              		.loc 1 1329 18 is_stmt 0 view .LVU122
 457 0042 01FA04F4 		lsl	r4, r1, r4
 458              	.LVL38:
 459              		.loc 1 1329 18 view .LVU123
 460 0046 1443     		orrs	r4, r4, r2
 461 0048 C5F81C48 		str	r4, [r5, #2076]
 462 004c 0EE0     		b	.L25
 463              	.LVL39:
 464              	.L21:
1297:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. Device EP0 IN interrupt     
 465              		.loc 1 1297 14 is_stmt 1 view .LVU124
1297:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. Device EP0 IN interrupt     
 466              		.loc 1 1297 17 is_stmt 0 view .LVU125
 467 004e BCF1000F 		cmp	ip, #0
 468 0052 13D0     		beq	.L24
1299:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. common IN EP Transfer comple
 469              		.loc 1 1299 18 is_stmt 1 view .LVU126
 470 0054 D5F81C28 		ldr	r2, [r5, #2076]
 471              	.LVL40:
1299:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. common IN EP Transfer comple
 472              		.loc 1 1299 18 is_stmt 0 view .LVU127
 473 0058 42F00102 		orr	r2, r2, #1
 474 005c C5F81C28 		str	r2, [r5, #2076]
1301:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 475              		.loc 1 1301 18 is_stmt 1 view .LVU128
 476 0060 D5F81028 		ldr	r2, [r5, #2064]
 477 0064 42F00102 		orr	r2, r2, #1
 478 0068 C5F81028 		str	r2, [r5, #2064]
 479              	.LVL41:
 480              	.L25:
1330:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              } else {
1331:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  reg_val = (max_pkt_size                 |      /* cfg EP max packet size          
1332:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            (ep_type << 18u)              |      /* cfg EP type                     
1333:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            STM32F_FS_DxEPCTLx_BIT_SD0PID |      /* EP start data toggle            
1334:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            STM32F_FS_DxEPCTLx_BIT_USBAEP);      /* USB active EP                   
1335:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
ARM GAS  /tmp/ccEVxbcI.s 			page 33


1336:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_reg->DOEP[ep_log_nbr].CTLx = reg_val;
1337:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1338:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  reg_val = DEF_BIT(ep_log_nbr) << 16u;
1339:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DAINTMSK, reg_val);         /* En. Device EPx OUT Interrupt    
1340:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
1341:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
1342:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1343:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1344:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case USBD_EP_TYPE_ISOC:
1345:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         default:
1346:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             *p_err = USBD_ERR_INVALID_ARG;
1347:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              return;
1348:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1349:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1350:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data->EP_MaxPktSize[ep_phy_nbr] = max_pkt_size;
 481              		.loc 1 1350 5 view .LVU129
 482              		.loc 1 1350 43 is_stmt 0 view .LVU130
 483 006c 2036     		adds	r6, r6, #32
 484              	.LVL42:
 485              		.loc 1 1350 43 view .LVU131
 486 006e 27F81630 		strh	r3, [r7, r6, lsl #1]	@ movhi
1351:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1352:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****    *p_err = USBD_ERR_NONE;
 487              		.loc 1 1352 4 is_stmt 1 view .LVU132
 488              		.loc 1 1352 11 is_stmt 0 view .LVU133
 489 0072 0023     		movs	r3, #0
 490              	.LVL43:
 491              		.loc 1 1352 11 view .LVU134
 492 0074 059A     		ldr	r2, [sp, #20]
 493 0076 1380     		strh	r3, [r2]	@ movhi
 494              	.LVL44:
 495              	.L20:
1353:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 496              		.loc 1 1353 1 view .LVU135
 497 0078 F0BC     		pop	{r4, r5, r6, r7}
 498              	.LCFI7:
 499              		.cfi_remember_state
 500              		.cfi_restore 7
 501              		.cfi_restore 6
 502              		.cfi_restore 5
 503              		.cfi_restore 4
 504              		.cfi_def_cfa_offset 0
 505              	.LVL45:
 506              		.loc 1 1353 1 view .LVU136
 507 007a 7047     		bx	lr
 508              	.LVL46:
 509              	.L24:
 510              	.LCFI8:
 511              		.cfi_restore_state
1305:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. common OUT EP Setup $ Xfer c
 512              		.loc 1 1305 18 is_stmt 1 view .LVU137
 513 007c D5F81C28 		ldr	r2, [r5, #2076]
 514              	.LVL47:
1305:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* En. common OUT EP Setup $ Xfer c
 515              		.loc 1 1305 18 is_stmt 0 view .LVU138
 516 0080 42F48032 		orr	r2, r2, #65536
 517 0084 C5F81C28 		str	r2, [r5, #2076]
ARM GAS  /tmp/ccEVxbcI.s 			page 34


1307:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_reg->DOEP[ep_log_nbr].TSIZx = (STM32F_FS_DOEPTSIZx_STUPCNT_3_PKT |
 518              		.loc 1 1307 18 is_stmt 1 view .LVU139
 519 0088 D5F81428 		ldr	r2, [r5, #2068]
 520 008c 42F00902 		orr	r2, r2, #9
 521 0090 C5F81428 		str	r2, [r5, #2068]
1308:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                   STM32F_FS_DOEPTSIZ0_BIT_PKTCNT    |
 522              		.loc 1 1308 18 view .LVU140
1308:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                   STM32F_FS_DOEPTSIZ0_BIT_PKTCNT    |
 523              		.loc 1 1308 48 is_stmt 0 view .LVU141
 524 0094 05EB4412 		add	r2, r5, r4, lsl #5
 525 0098 1049     		ldr	r1, .L31
 526              	.LVL48:
1308:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                   STM32F_FS_DOEPTSIZ0_BIT_PKTCNT    |
 527              		.loc 1 1308 48 view .LVU142
 528 009a C2F8101B 		str	r1, [r2, #2832]
1312:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 529              		.loc 1 1312 18 is_stmt 1 view .LVU143
 530 009e 5834     		adds	r4, r4, #88
 531              	.LVL49:
1312:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 532              		.loc 1 1312 18 is_stmt 0 view .LVU144
 533 00a0 6401     		lsls	r4, r4, #5
 534              	.LVL50:
1312:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 535              		.loc 1 1312 18 view .LVU145
 536 00a2 2A59     		ldr	r2, [r5, r4]
 537 00a4 42F00062 		orr	r2, r2, #134217728
 538 00a8 2A51     		str	r2, [r5, r4]
 539 00aa DFE7     		b	.L25
 540              	.LVL51:
 541              	.L26:
1331:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            (ep_type << 18u)              |      /* cfg EP type                     
 542              		.loc 1 1331 18 is_stmt 1 view .LVU146
1331:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            (ep_type << 18u)              |      /* cfg EP type                     
 543              		.loc 1 1331 58 is_stmt 0 view .LVU147
 544 00ac 43EA8040 		orr	r0, r3, r0, lsl #18
1331:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                            (ep_type << 18u)              |      /* cfg EP type                     
 545              		.loc 1 1331 26 view .LVU148
 546 00b0 40F08050 		orr	r0, r0, #268435456
 547 00b4 40F40040 		orr	r0, r0, #32768
 548              	.LVL52:
1336:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 549              		.loc 1 1336 18 is_stmt 1 view .LVU149
1336:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 550              		.loc 1 1336 47 is_stmt 0 view .LVU150
 551 00b8 04F15802 		add	r2, r4, #88
 552 00bc 5201     		lsls	r2, r2, #5
 553 00be A850     		str	r0, [r5, r2]
1338:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DAINTMSK, reg_val);         /* En. Device EPx OUT Interrupt    
 554              		.loc 1 1338 18 is_stmt 1 view .LVU151
1338:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  DEF_BIT_SET(p_reg->DAINTMSK, reg_val);         /* En. Device EPx OUT Interrupt    
 555              		.loc 1 1338 28 is_stmt 0 view .LVU152
 556 00c0 0122     		movs	r2, #1
 557 00c2 A240     		lsls	r2, r2, r4
 558              	.LVL53:
1339:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 559              		.loc 1 1339 18 is_stmt 1 view .LVU153
ARM GAS  /tmp/ccEVxbcI.s 			page 35


 560 00c4 D5F81C48 		ldr	r4, [r5, #2076]
 561              	.LVL54:
1339:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 562              		.loc 1 1339 18 is_stmt 0 view .LVU154
 563 00c8 44EA0244 		orr	r4, r4, r2, lsl #16
 564 00cc C5F81C48 		str	r4, [r5, #2076]
 565 00d0 CCE7     		b	.L25
 566              	.LVL55:
 567              	.L30:
1346:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              return;
 568              		.loc 1 1346 13 is_stmt 1 view .LVU155
1346:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              return;
 569              		.loc 1 1346 20 is_stmt 0 view .LVU156
 570 00d2 0623     		movs	r3, #6
 571              	.LVL56:
1346:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              return;
 572              		.loc 1 1346 20 view .LVU157
 573 00d4 059A     		ldr	r2, [sp, #20]
 574 00d6 1380     		strh	r3, [r2]	@ movhi
1347:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 575              		.loc 1 1347 14 is_stmt 1 view .LVU158
 576 00d8 CEE7     		b	.L20
 577              	.L32:
 578 00da 00BF     		.align	2
 579              	.L31:
 580 00dc 40000860 		.word	1611137088
 581              		.cfi_endproc
 582              	.LFE13:
 584              		.section	.text.USBD_DrvEP_Close,"ax",%progbits
 585              		.align	1
 586              		.syntax unified
 587              		.thumb
 588              		.thumb_func
 589              		.fpu fpv4-sp-d16
 591              	USBD_DrvEP_Close:
 592              	.LVL57:
 593              	.LFB14:
1354:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1355:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1356:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1357:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1358:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                         USBD_DrvEP_Close()
1359:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1360:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Close a device endpoint, and uninitialize/clear endpoint configuration in hardware.
1361:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1362:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1363:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1364:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1365:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1366:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1367:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1368:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : Typically, the endpoint close function clears the endpoint information in the devic
1369:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               controller. For some controllers, this may not be necessary.
1370:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1371:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1372:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1373:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvEP_Close (USBD_DRV    *p_drv,
ARM GAS  /tmp/ccEVxbcI.s 			page 36


1374:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                 CPU_INT08U   ep_addr)
1375:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 594              		.loc 1 1375 1 view -0
 595              		.cfi_startproc
 596              		@ args = 0, pretend = 0, frame = 0
 597              		@ frame_needed = 0, uses_anonymous_args = 0
 598              		@ link register save eliminated.
1376:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 599              		.loc 1 1376 5 view .LVU160
1377:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           reg_val;
 600              		.loc 1 1377 5 view .LVU161
1378:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 601              		.loc 1 1378 5 view .LVU162
1379:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1380:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1381:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)(p_drv->CfgPtr->BaseAddr);
 602              		.loc 1 1381 5 view .LVU163
 603              		.loc 1 1381 46 is_stmt 0 view .LVU164
 604 0000 8368     		ldr	r3, [r0, #8]
 605              		.loc 1 1381 54 view .LVU165
 606 0002 1B68     		ldr	r3, [r3]
 607              	.LVL58:
1382:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 608              		.loc 1 1382 5 is_stmt 1 view .LVU166
 609              		.loc 1 1382 16 is_stmt 0 view .LVU167
 610 0004 01F00F00 		and	r0, r1, #15
 611              	.LVL59:
1383:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_val    =  DEF_BIT_NONE;
 612              		.loc 1 1383 5 is_stmt 1 view .LVU168
1384:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1385:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1386:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP Closed", ep_addr);
 613              		.loc 1 1386 48 view .LVU169
1387:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1388:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (USBD_EP_IS_IN(ep_addr)) {                               /* ------------------- IN ENDPOINTS
 614              		.loc 1 1388 5 view .LVU170
 615              		.loc 1 1388 8 is_stmt 0 view .LVU171
 616 0008 CA09     		lsrs	r2, r1, #7
 617 000a 0FD0     		beq	.L34
1389:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Deactive the Endpoint           
1390:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_CLR(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_USBAEP);
 618              		.loc 1 1390 9 is_stmt 1 view .LVU172
 619 000c 00F14802 		add	r2, r0, #72
 620 0010 5201     		lsls	r2, r2, #5
 621 0012 9958     		ldr	r1, [r3, r2]
 622              	.LVL60:
 623              		.loc 1 1390 9 is_stmt 0 view .LVU173
 624 0014 21F40041 		bic	r1, r1, #32768
 625 0018 9950     		str	r1, [r3, r2]
1391:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_val = DEF_BIT(ep_log_nbr);
 626              		.loc 1 1391 9 is_stmt 1 view .LVU174
 627              		.loc 1 1391 17 is_stmt 0 view .LVU175
 628 001a 0122     		movs	r2, #1
 629 001c 8240     		lsls	r2, r2, r0
 630              	.LVL61:
 631              	.L35:
1392:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } else {                                                    /* ------------------ OUT ENDPOINTS
ARM GAS  /tmp/ccEVxbcI.s 			page 37


1393:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Deactive the Endpoint           
1394:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_CLR(p_reg->DOEP[ep_log_nbr].CTLx ,STM32F_FS_DxEPCTLx_BIT_USBAEP);
1395:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_val = (DEF_BIT(ep_log_nbr)  << 16u);
1396:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1397:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1398:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(p_reg->DAINTMSK, reg_val);                      /* Dis. EP interrupt               
 632              		.loc 1 1398 5 is_stmt 1 view .LVU176
 633 001e D3F81C18 		ldr	r1, [r3, #2076]
 634 0022 21EA0202 		bic	r2, r1, r2
 635              	.LVL62:
 636              		.loc 1 1398 5 is_stmt 0 view .LVU177
 637 0026 C3F81C28 		str	r2, [r3, #2076]
1399:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 638              		.loc 1 1399 1 view .LVU178
 639 002a 7047     		bx	lr
 640              	.LVL63:
 641              	.L34:
1394:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_val = (DEF_BIT(ep_log_nbr)  << 16u);
 642              		.loc 1 1394 9 is_stmt 1 view .LVU179
 643 002c 00F15802 		add	r2, r0, #88
 644 0030 5201     		lsls	r2, r2, #5
 645 0032 9958     		ldr	r1, [r3, r2]
 646              	.LVL64:
1394:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_val = (DEF_BIT(ep_log_nbr)  << 16u);
 647              		.loc 1 1394 9 is_stmt 0 view .LVU180
 648 0034 21F40041 		bic	r1, r1, #32768
 649 0038 9950     		str	r1, [r3, r2]
1395:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 650              		.loc 1 1395 9 is_stmt 1 view .LVU181
1395:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 651              		.loc 1 1395 20 is_stmt 0 view .LVU182
 652 003a 0122     		movs	r2, #1
 653 003c 8240     		lsls	r2, r2, r0
1395:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 654              		.loc 1 1395 17 view .LVU183
 655 003e 1204     		lsls	r2, r2, #16
 656              	.LVL65:
1395:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 657              		.loc 1 1395 17 view .LVU184
 658 0040 EDE7     		b	.L35
 659              		.cfi_endproc
 660              	.LFE14:
 662              		.section	.text.USBD_DrvEP_RxStart,"ax",%progbits
 663              		.align	1
 664              		.syntax unified
 665              		.thumb
 666              		.thumb_func
 667              		.fpu fpv4-sp-d16
 669              	USBD_DrvEP_RxStart:
 670              	.LVL66:
 671              	.LFB15:
1400:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1401:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1402:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1403:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1404:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        USBD_DrvEP_RxStart()
1405:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
ARM GAS  /tmp/ccEVxbcI.s 			page 38


1406:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Configure endpoint with buffer to receive data.
1407:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1408:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1409:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1410:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1411:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1412:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_buf       Pointer to data buffer.
1413:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1414:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               buf_len     Length of the buffer.
1415:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1416:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1417:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1418:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE   Receive successfully configured.
1419:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1420:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : Number of bytes that can be handled in one transfer.
1421:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1422:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1423:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1424:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1425:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1426:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT32U  USBD_DrvEP_RxStart (USBD_DRV    *p_drv,
1427:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                         CPU_INT08U   ep_addr,
1428:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                         CPU_INT08U  *p_buf,
1429:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                         CPU_INT32U   buf_len,
1430:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                         USBD_ERR    *p_err)
1431:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 672              		.loc 1 1431 1 is_stmt 1 view -0
 673              		.cfi_startproc
 674              		@ args = 4, pretend = 0, frame = 0
 675              		@ frame_needed = 0, uses_anonymous_args = 0
 676              		.loc 1 1431 1 is_stmt 0 view .LVU186
 677 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 678              	.LCFI9:
 679              		.cfi_def_cfa_offset 24
 680              		.cfi_offset 4, -24
 681              		.cfi_offset 5, -20
 682              		.cfi_offset 6, -16
 683              		.cfi_offset 7, -12
 684              		.cfi_offset 8, -8
 685              		.cfi_offset 14, -4
 686 0004 9E46     		mov	lr, r3
1432:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1433:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 687              		.loc 1 1433 5 is_stmt 1 view .LVU187
1434:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_phy_nbr;
 688              		.loc 1 1434 5 view .LVU188
1435:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U           ep_pkt_len;
 689              		.loc 1 1435 5 view .LVU189
1436:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U           pkt_cnt;
 690              		.loc 1 1436 5 view .LVU190
1437:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ctl_reg;
 691              		.loc 1 1437 5 view .LVU191
1438:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           tsiz_reg;
 692              		.loc 1 1438 5 view .LVU192
1439:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 693              		.loc 1 1439 5 view .LVU193
1440:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
ARM GAS  /tmp/ccEVxbcI.s 			page 39


 694              		.loc 1 1440 5 view .LVU194
1441:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1442:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1443:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)(p_drv->CfgPtr->BaseAddr);
 695              		.loc 1 1443 5 view .LVU195
 696              		.loc 1 1443 46 is_stmt 0 view .LVU196
 697 0006 8368     		ldr	r3, [r0, #8]
 698              	.LVL67:
 699              		.loc 1 1443 54 view .LVU197
 700 0008 1F68     		ldr	r7, [r3]
 701              	.LVL68:
1444:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
 702              		.loc 1 1444 5 is_stmt 1 view .LVU198
 703              		.loc 1 1444 16 is_stmt 0 view .LVU199
 704 000a C368     		ldr	r3, [r0, #12]
 705              	.LVL69:
1445:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 706              		.loc 1 1445 5 is_stmt 1 view .LVU200
 707              		.loc 1 1445 16 is_stmt 0 view .LVU201
 708 000c 01F00F05 		and	r5, r1, #15
 709              	.LVL70:
1446:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_phy_nbr =  USBD_EP_ADDR_TO_PHY(ep_addr);
 710              		.loc 1 1446 5 is_stmt 1 view .LVU202
 711              		.loc 1 1446 19 is_stmt 0 view .LVU203
 712 0010 C909     		lsrs	r1, r1, #7
 713              	.LVL71:
 714              		.loc 1 1446 16 view .LVU204
 715 0012 01EB4501 		add	r1, r1, r5, lsl #1
1447:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_pkt_len = (CPU_INT16U)DEF_MIN(buf_len, p_drv_data->EP_MaxPktSize[ep_phy_nbr]);
 716              		.loc 1 1447 5 is_stmt 1 view .LVU205
 717              		.loc 1 1447 30 is_stmt 0 view .LVU206
 718 0016 01F12000 		add	r0, r1, #32
 719              	.LVL72:
 720              		.loc 1 1447 30 view .LVU207
 721 001a 33F81040 		ldrh	r4, [r3, r0, lsl #1]
 722              		.loc 1 1447 18 view .LVU208
 723 001e 7445     		cmp	r4, lr
 724 0020 2CD9     		bls	.L40
 725              		.loc 1 1447 18 discriminator 1 view .LVU209
 726 0022 1FFA8EF0 		uxth	r0, lr
 727              	.L37:
 728              	.LVL73:
1448:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1449:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP FIFO RxStart", ep_addr);
 729              		.loc 1 1449 54 is_stmt 1 discriminator 4 view .LVU210
1450:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1451:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ctl_reg  = p_reg->DOEP[ep_log_nbr].CTLx;                    /* Read Control EP reg             
 730              		.loc 1 1451 5 discriminator 4 view .LVU211
 731              		.loc 1 1451 14 is_stmt 0 discriminator 4 view .LVU212
 732 0026 05F15806 		add	r6, r5, #88
 733 002a 7601     		lsls	r6, r6, #5
 734 002c 57F806C0 		ldr	ip, [r7, r6]
 735              	.LVL74:
1452:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg = p_reg->DOEP[ep_log_nbr].TSIZx;                   /* Read Transer EP reg             
 736              		.loc 1 1452 5 is_stmt 1 discriminator 4 view .LVU213
 737              		.loc 1 1452 14 is_stmt 0 discriminator 4 view .LVU214
 738 0030 07EB4516 		add	r6, r7, r5, lsl #5
ARM GAS  /tmp/ccEVxbcI.s 			page 40


 739 0034 D6F8106B 		ldr	r6, [r6, #2832]
 740              	.LVL75:
1453:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1454:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP transfer size and packe
1455:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(tsiz_reg, (STM32F_FS_DOEPTSIZx_XFRSIZ_MSK | STM32F_FS_DOEPTSIZx_PKTCNT_MSK));
 741              		.loc 1 1455 5 is_stmt 1 discriminator 4 view .LVU215
 742 0038 06F06046 		and	r6, r6, #-536870912
 743              	.LVL76:
1456:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1457:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (buf_len == 0u) {
 744              		.loc 1 1457 5 discriminator 4 view .LVU216
 745              		.loc 1 1457 8 is_stmt 0 discriminator 4 view .LVU217
 746 003c BEF1000F 		cmp	lr, #0
 747 0040 1ED1     		bne	.L38
1458:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         tsiz_reg |=  p_drv_data->EP_MaxPktSize[ep_phy_nbr];     /* Set transfer size to max pkt siz
 748              		.loc 1 1458 9 is_stmt 1 view .LVU218
 749              		.loc 1 1458 18 is_stmt 0 view .LVU219
 750 0042 3443     		orrs	r4, r4, r6
 751              	.LVL77:
1459:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         tsiz_reg |= (1u << 19u);                                /* Set packet count                
 752              		.loc 1 1459 9 is_stmt 1 view .LVU220
 753              		.loc 1 1459 18 is_stmt 0 view .LVU221
 754 0044 44F40024 		orr	r4, r4, #524288
 755              	.LVL78:
 756              	.L39:
1460:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } else {
1461:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         pkt_cnt   = (ep_pkt_len + (p_drv_data->EP_MaxPktSize[ep_phy_nbr] - 1u))
1462:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                   / p_drv_data->EP_MaxPktSize[ep_phy_nbr];
1463:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         tsiz_reg |= (pkt_cnt << 19u);                           /* Set packet count                
1464:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set transfer size               
1465:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         tsiz_reg |= pkt_cnt * p_drv_data->EP_MaxPktSize[ep_phy_nbr];
1466:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1467:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1468:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data->EP_AppBufPtr[ep_phy_nbr] = p_buf;
 757              		.loc 1 1468 5 is_stmt 1 view .LVU222
 758              		.loc 1 1468 42 is_stmt 0 view .LVU223
 759 0048 01F11806 		add	r6, r1, #24
 760 004c 43F82620 		str	r2, [r3, r6, lsl #2]
1469:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data->EP_AppBufLen[ep_phy_nbr] = ep_pkt_len;
 761              		.loc 1 1469 5 is_stmt 1 view .LVU224
 762              		.loc 1 1469 42 is_stmt 0 view .LVU225
 763 0050 01F14002 		add	r2, r1, #64
 764              	.LVL79:
 765              		.loc 1 1469 42 view .LVU226
 766 0054 23F81200 		strh	r0, [r3, r2, lsl #1]	@ movhi
 767              	.LVL80:
1470:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1471:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP NAK and Enable EP for r
1472:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ctl_reg |= STM32F_FS_DxEPCTLx_BIT_CNAK | STM32F_FS_DxEPCTLx_BIT_EPENA;
 768              		.loc 1 1472 5 is_stmt 1 view .LVU227
 769              		.loc 1 1472 13 is_stmt 0 view .LVU228
 770 0058 4CF00442 		orr	r2, ip, #-2080374784
 771              	.LVL81:
1473:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1474:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data->EP_PktXferLen[ep_phy_nbr] = 0u;
 772              		.loc 1 1474 5 is_stmt 1 view .LVU229
 773              		.loc 1 1474 43 is_stmt 0 view .LVU230
ARM GAS  /tmp/ccEVxbcI.s 			page 41


 774 005c 2831     		adds	r1, r1, #40
 775 005e 0026     		movs	r6, #0
 776 0060 23F81160 		strh	r6, [r3, r1, lsl #1]	@ movhi
1475:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DOEP[ep_log_nbr].TSIZx         = tsiz_reg;
 777              		.loc 1 1475 5 is_stmt 1 view .LVU231
 778              		.loc 1 1475 43 is_stmt 0 view .LVU232
 779 0064 07EB4513 		add	r3, r7, r5, lsl #5
 780              	.LVL82:
 781              		.loc 1 1475 43 view .LVU233
 782 0068 C3F8104B 		str	r4, [r3, #2832]
1476:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DOEP[ep_log_nbr].CTLx          = ctl_reg;
 783              		.loc 1 1476 5 is_stmt 1 view .LVU234
 784              		.loc 1 1476 43 is_stmt 0 view .LVU235
 785 006c 05F15803 		add	r3, r5, #88
 786 0070 5B01     		lsls	r3, r3, #5
 787 0072 FA50     		str	r2, [r7, r3]
1477:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1478:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****    *p_err = USBD_ERR_NONE;
 788              		.loc 1 1478 4 is_stmt 1 view .LVU236
 789              		.loc 1 1478 11 is_stmt 0 view .LVU237
 790 0074 069B     		ldr	r3, [sp, #24]
 791 0076 1E80     		strh	r6, [r3]	@ movhi
1479:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1480:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     return (ep_pkt_len);
 792              		.loc 1 1480 5 is_stmt 1 view .LVU238
1481:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 793              		.loc 1 1481 1 is_stmt 0 view .LVU239
 794 0078 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 795              	.LVL83:
 796              	.L40:
1447:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 797              		.loc 1 1447 18 view .LVU240
 798 007c 2046     		mov	r0, r4
 799 007e D2E7     		b	.L37
 800              	.LVL84:
 801              	.L38:
1461:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                   / p_drv_data->EP_MaxPktSize[ep_phy_nbr];
 802              		.loc 1 1461 9 is_stmt 1 view .LVU241
1461:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                   / p_drv_data->EP_MaxPktSize[ep_phy_nbr];
 803              		.loc 1 1461 33 is_stmt 0 view .LVU242
 804 0080 00EB040E 		add	lr, r0, r4
 805              	.LVL85:
1461:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                   / p_drv_data->EP_MaxPktSize[ep_phy_nbr];
 806              		.loc 1 1461 33 view .LVU243
 807 0084 0EF1FF3E 		add	lr, lr, #-1
1462:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         tsiz_reg |= (pkt_cnt << 19u);                           /* Set packet count                
 808              		.loc 1 1462 19 view .LVU244
 809 0088 BEFBF4FE 		udiv	lr, lr, r4
 810              	.LVL86:
1463:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set transfer size               
 811              		.loc 1 1463 9 is_stmt 1 view .LVU245
1463:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set transfer size               
 812              		.loc 1 1463 30 is_stmt 0 view .LVU246
 813 008c 1FFA8EF8 		uxth	r8, lr
1463:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set transfer size               
 814              		.loc 1 1463 18 view .LVU247
 815 0090 46EACE46 		orr	r6, r6, lr, lsl #19
ARM GAS  /tmp/ccEVxbcI.s 			page 42


 816              	.LVL87:
1465:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 817              		.loc 1 1465 9 is_stmt 1 view .LVU248
1465:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 818              		.loc 1 1465 29 is_stmt 0 view .LVU249
 819 0094 04FB08F4 		mul	r4, r4, r8
1465:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 820              		.loc 1 1465 18 view .LVU250
 821 0098 3443     		orrs	r4, r4, r6
 822              	.LVL88:
1465:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 823              		.loc 1 1465 18 view .LVU251
 824 009a D5E7     		b	.L39
 825              		.cfi_endproc
 826              	.LFE15:
 828              		.section	.text.USBD_DrvEP_Rx,"ax",%progbits
 829              		.align	1
 830              		.syntax unified
 831              		.thumb
 832              		.thumb_func
 833              		.fpu fpv4-sp-d16
 835              	USBD_DrvEP_Rx:
 836              	.LVL89:
 837              	.LFB16:
1482:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1483:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1484:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1485:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1486:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                           USBD_DrvEP_Rx()
1487:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1488:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Receive the specified amount of data from device endpoint.
1489:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1490:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1491:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1492:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1493:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1494:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_buf       Pointer to data buffer.
1495:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1496:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               buf_len     Length of the buffer.
1497:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1498:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1499:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1500:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE   Data successfully received.
1501:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1502:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : Number of octets received, if NO error(s).
1503:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1504:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               0,                         otherwise.
1505:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1506:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1507:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1508:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1509:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1510:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT32U  USBD_DrvEP_Rx (USBD_DRV    *p_drv,
1511:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    CPU_INT08U   ep_addr,
1512:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    CPU_INT08U  *p_buf,
1513:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    CPU_INT32U   buf_len,
1514:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    USBD_ERR    *p_err)
ARM GAS  /tmp/ccEVxbcI.s 			page 43


1515:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 838              		.loc 1 1515 1 is_stmt 1 view -0
 839              		.cfi_startproc
 840              		@ args = 4, pretend = 0, frame = 0
 841              		@ frame_needed = 0, uses_anonymous_args = 0
 842              		@ link register save eliminated.
 843              		.loc 1 1515 1 is_stmt 0 view .LVU253
 844 0000 10B4     		push	{r4}
 845              	.LCFI10:
 846              		.cfi_def_cfa_offset 4
 847              		.cfi_offset 4, -4
 848 0002 019A     		ldr	r2, [sp, #4]
 849              	.LVL90:
1516:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U         ep_phy_nbr;
 850              		.loc 1 1516 5 is_stmt 1 view .LVU254
1517:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U         xfer_len;
 851              		.loc 1 1517 5 view .LVU255
1518:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP  *p_drv_data;
 852              		.loc 1 1518 5 view .LVU256
1519:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1520:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1521:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     (void)p_buf;
 853              		.loc 1 1521 5 view .LVU257
1522:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1523:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP *)p_drv->DataPtr;
 854              		.loc 1 1523 5 view .LVU258
 855              		.loc 1 1523 16 is_stmt 0 view .LVU259
 856 0004 C068     		ldr	r0, [r0, #12]
 857              	.LVL91:
1524:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_phy_nbr =  USBD_EP_ADDR_TO_PHY(ep_addr);
 858              		.loc 1 1524 5 is_stmt 1 view .LVU260
 859              		.loc 1 1524 19 is_stmt 0 view .LVU261
 860 0006 01F00F04 		and	r4, r1, #15
 861 000a C909     		lsrs	r1, r1, #7
 862              	.LVL92:
 863              		.loc 1 1524 16 view .LVU262
 864 000c 01EB4401 		add	r1, r1, r4, lsl #1
 865              	.LVL93:
1525:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     xfer_len   =  p_drv_data->EP_PktXferLen[ep_phy_nbr];
 866              		.loc 1 1525 5 is_stmt 1 view .LVU263
 867              		.loc 1 1525 16 is_stmt 0 view .LVU264
 868 0010 2831     		adds	r1, r1, #40
 869              	.LVL94:
 870              		.loc 1 1525 16 view .LVU265
 871 0012 30F81100 		ldrh	r0, [r0, r1, lsl #1]
 872              	.LVL95:
1526:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1527:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP FIFO Rx", ep_addr);
 873              		.loc 1 1527 49 is_stmt 1 view .LVU266
1528:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1529:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (xfer_len > buf_len) {
 874              		.loc 1 1529 5 view .LVU267
 875              		.loc 1 1529 8 is_stmt 0 view .LVU268
 876 0016 9842     		cmp	r0, r3
 877 0018 07D9     		bls	.L43
1530:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_err = USBD_ERR_RX;
 878              		.loc 1 1530 8 is_stmt 1 view .LVU269
ARM GAS  /tmp/ccEVxbcI.s 			page 44


 879              		.loc 1 1530 15 is_stmt 0 view .LVU270
 880 001a 0221     		movs	r1, #2
 881              	.LVL96:
 882              		.loc 1 1530 15 view .LVU271
 883 001c 1180     		strh	r1, [r2]	@ movhi
 884              	.LVL97:
 885              	.L44:
1531:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } else {
1532:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_err = USBD_ERR_NONE;
1533:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1534:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1535:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     return (DEF_MIN(xfer_len, buf_len));
 886              		.loc 1 1535 5 is_stmt 1 view .LVU272
1536:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 887              		.loc 1 1536 1 is_stmt 0 view .LVU273
 888 001e 9842     		cmp	r0, r3
 889 0020 28BF     		it	cs
 890 0022 1846     		movcs	r0, r3
 891 0024 5DF8044B 		ldr	r4, [sp], #4
 892              	.LCFI11:
 893              		.cfi_remember_state
 894              		.cfi_restore 4
 895              		.cfi_def_cfa_offset 0
 896              	.LVL98:
 897              		.loc 1 1536 1 view .LVU274
 898 0028 7047     		bx	lr
 899              	.LVL99:
 900              	.L43:
 901              	.LCFI12:
 902              		.cfi_restore_state
1532:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 903              		.loc 1 1532 8 is_stmt 1 view .LVU275
1532:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 904              		.loc 1 1532 15 is_stmt 0 view .LVU276
 905 002a 0021     		movs	r1, #0
 906              	.LVL100:
1532:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 907              		.loc 1 1532 15 view .LVU277
 908 002c 1180     		strh	r1, [r2]	@ movhi
 909              	.LVL101:
1532:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 910              		.loc 1 1532 15 view .LVU278
 911 002e F6E7     		b	.L44
 912              		.cfi_endproc
 913              	.LFE16:
 915              		.section	.text.USBD_DrvEP_RxZLP,"ax",%progbits
 916              		.align	1
 917              		.syntax unified
 918              		.thumb
 919              		.thumb_func
 920              		.fpu fpv4-sp-d16
 922              	USBD_DrvEP_RxZLP:
 923              	.LVL102:
 924              	.LFB17:
1537:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1538:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1539:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
ARM GAS  /tmp/ccEVxbcI.s 			page 45


1540:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1541:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                         USBD_DrvEP_RxZLP()
1542:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1543:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Receive zero-length packet from endpoint.
1544:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1545:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1546:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1547:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1548:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1549:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1550:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1551:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE   Zero-length packet successfully received.
1552:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1553:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1554:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1555:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1556:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1557:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1558:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1559:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvEP_RxZLP (USBD_DRV    *p_drv,
1560:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                 CPU_INT08U   ep_addr,
1561:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                 USBD_ERR    *p_err)
1562:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 925              		.loc 1 1562 1 is_stmt 1 view -0
 926              		.cfi_startproc
 927              		@ args = 0, pretend = 0, frame = 0
 928              		@ frame_needed = 0, uses_anonymous_args = 0
 929              		@ link register save eliminated.
1563:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     (void)p_drv;
 930              		.loc 1 1563 5 view .LVU280
1564:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     (void)ep_addr;
 931              		.loc 1 1564 5 view .LVU281
1565:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1566:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1567:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP RxZLP", ep_addr);
 932              		.loc 1 1567 47 view .LVU282
1568:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1569:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****    *p_err = USBD_ERR_NONE;
 933              		.loc 1 1569 4 view .LVU283
 934              		.loc 1 1569 11 is_stmt 0 view .LVU284
 935 0000 0023     		movs	r3, #0
 936 0002 1380     		strh	r3, [r2]	@ movhi
1570:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 937              		.loc 1 1570 1 view .LVU285
 938 0004 7047     		bx	lr
 939              		.cfi_endproc
 940              	.LFE17:
 942              		.section	.text.USBD_DrvEP_Tx,"ax",%progbits
 943              		.align	1
 944              		.syntax unified
 945              		.thumb
 946              		.thumb_func
 947              		.fpu fpv4-sp-d16
 949              	USBD_DrvEP_Tx:
 950              	.LVL103:
 951              	.LFB18:
1571:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
ARM GAS  /tmp/ccEVxbcI.s 			page 46


1572:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1573:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1574:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1575:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                           USBD_DrvEP_Tx()
1576:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1577:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Configure endpoint with buffer to transmit data.
1578:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1579:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1580:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1581:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1582:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1583:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_buf       Pointer to buffer of data that will be transmitted.
1584:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1585:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               buf_len     Number of octets to transmit.
1586:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1587:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1588:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1589:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE   Transmit successfully configured.
1590:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1591:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : Number of octets transmitted, if NO error(s).
1592:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1593:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               0,                            otherwise.
1594:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1595:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1596:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1597:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1598:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1599:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_INT32U  USBD_DrvEP_Tx (USBD_DRV    *p_drv,
1600:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    CPU_INT08U   ep_addr,
1601:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    CPU_INT08U  *p_buf,
1602:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    CPU_INT32U   buf_len,
1603:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    USBD_ERR    *p_err)
1604:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 952              		.loc 1 1604 1 is_stmt 1 view -0
 953              		.cfi_startproc
 954              		@ args = 4, pretend = 0, frame = 0
 955              		@ frame_needed = 0, uses_anonymous_args = 0
 956              		@ link register save eliminated.
1605:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U         ep_phy_nbr;
 957              		.loc 1 1605 5 view .LVU287
1606:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U         ep_pkt_len;
 958              		.loc 1 1606 5 view .LVU288
1607:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP  *p_drv_data;
 959              		.loc 1 1607 5 view .LVU289
1608:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1609:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1610:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     (void)p_buf;
 960              		.loc 1 1610 5 view .LVU290
1611:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1612:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP *)p_drv->DataPtr;
 961              		.loc 1 1612 5 view .LVU291
 962              		.loc 1 1612 16 is_stmt 0 view .LVU292
 963 0000 C268     		ldr	r2, [r0, #12]
 964              	.LVL104:
1613:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_phy_nbr =  USBD_EP_ADDR_TO_PHY(ep_addr);
 965              		.loc 1 1613 5 is_stmt 1 view .LVU293
 966              		.loc 1 1613 19 is_stmt 0 view .LVU294
ARM GAS  /tmp/ccEVxbcI.s 			page 47


 967 0002 01F00F00 		and	r0, r1, #15
 968              	.LVL105:
 969              		.loc 1 1613 19 view .LVU295
 970 0006 C909     		lsrs	r1, r1, #7
 971              	.LVL106:
 972              		.loc 1 1613 16 view .LVU296
 973 0008 01EB4001 		add	r1, r1, r0, lsl #1
 974              	.LVL107:
1614:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_pkt_len = (CPU_INT16U)DEF_MIN(p_drv_data->EP_MaxPktSize[ep_phy_nbr], buf_len);
 975              		.loc 1 1614 5 is_stmt 1 view .LVU297
 976              		.loc 1 1614 30 is_stmt 0 view .LVU298
 977 000c 2031     		adds	r1, r1, #32
 978              	.LVL108:
 979              		.loc 1 1614 30 view .LVU299
 980 000e 32F81100 		ldrh	r0, [r2, r1, lsl #1]
 981              		.loc 1 1614 18 view .LVU300
 982 0012 9842     		cmp	r0, r3
 983 0014 00D3     		bcc	.L48
 984              		.loc 1 1614 18 discriminator 2 view .LVU301
 985 0016 98B2     		uxth	r0, r3
 986              	.L48:
 987              	.LVL109:
1615:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1616:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****    *p_err = USBD_ERR_NONE;
 988              		.loc 1 1616 4 is_stmt 1 discriminator 4 view .LVU302
 989              		.loc 1 1616 11 is_stmt 0 discriminator 4 view .LVU303
 990 0018 009B     		ldr	r3, [sp]
 991              	.LVL110:
 992              		.loc 1 1616 11 discriminator 4 view .LVU304
 993 001a 0022     		movs	r2, #0
 994              	.LVL111:
 995              		.loc 1 1616 11 discriminator 4 view .LVU305
 996 001c 1A80     		strh	r2, [r3]	@ movhi
 997              	.LVL112:
1617:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1618:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     return (ep_pkt_len);
 998              		.loc 1 1618 5 is_stmt 1 discriminator 4 view .LVU306
1619:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 999              		.loc 1 1619 1 is_stmt 0 discriminator 4 view .LVU307
 1000 001e 7047     		bx	lr
 1001              		.cfi_endproc
 1002              	.LFE18:
 1004              		.section	.text.USBD_DrvEP_Abort,"ax",%progbits
 1005              		.align	1
 1006              		.syntax unified
 1007              		.thumb
 1008              		.thumb_func
 1009              		.fpu fpv4-sp-d16
 1011              	USBD_DrvEP_Abort:
 1012              	.LVL113:
 1013              	.LFB21:
1620:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1621:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1622:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1623:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1624:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        USBD_DrvEP_TxStart()
1625:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
ARM GAS  /tmp/ccEVxbcI.s 			page 48


1626:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Transmit the specified amount of data to device endpoint.
1627:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1628:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1629:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1630:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1631:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1632:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_buf       Pointer to buffer of data that will be transmitted.
1633:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1634:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               buf_len     Number of octets to transmit.
1635:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1636:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1637:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1638:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE   Data successfully transmitted.
1639:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1640:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1641:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1642:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1643:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1644:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1645:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1646:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvEP_TxStart (USBD_DRV    *p_drv,
1647:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                   CPU_INT08U   ep_addr,
1648:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                   CPU_INT08U  *p_buf,
1649:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                   CPU_INT32U   buf_len,
1650:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                   USBD_ERR    *p_err)
1651:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
1652:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
1653:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ctl_reg;
1654:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           tsiz_reg;
1655:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
1656:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1657:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1658:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)(p_drv->CfgPtr->BaseAddr);
1659:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
1660:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1661:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ctl_reg  = p_reg->DIEP[ep_log_nbr].CTLx;                    /* Read EP control reg.            
1662:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg = p_reg->DIEP[ep_log_nbr].TSIZx;                   /* Read EP transfer reg            
1663:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1664:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(tsiz_reg, STM32F_FS_DIEPTSIZx_XFRSIZ_MSK);      /* Clear EP transfer size          
1665:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg |=  buf_len;                                       /* Transfer size                   
1666:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg |= (1u << 19u);                                    /* Packet count                    
1667:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1668:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP NAK mode & Enable EP tr
1669:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ctl_reg |= STM32F_FS_DxEPCTLx_BIT_CNAK | STM32F_FS_DxEPCTLx_BIT_EPENA;
1670:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1671:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DIEP[ep_log_nbr].TSIZx = tsiz_reg;
1672:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DIEP[ep_log_nbr].CTLx  = ctl_reg;
1673:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1674:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     STM32_TxFIFO_Wr(p_drv, ep_log_nbr, p_buf, buf_len);         /* Write to Tx FIFO of associated E
1675:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1676:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP_ARG("  Drv EP FIFO Tx Len:", ep_addr, buf_len);
1677:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1678:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     *p_err = USBD_ERR_NONE;
1679:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
1680:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1681:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1682:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
ARM GAS  /tmp/ccEVxbcI.s 			page 49


1683:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1684:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                         USBD_DrvEP_TxZLP()
1685:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1686:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Transmit zero-length packet from endpoint.
1687:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1688:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1689:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1690:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1691:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1692:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_err       Pointer to variable that will receive the return error code from this f
1693:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1694:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                               USBD_ERR_NONE   Zero-length packet successfully transmitted.
1695:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1696:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1697:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1698:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1699:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1700:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1701:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1702:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvEP_TxZLP (USBD_DRV    *p_drv,
1703:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                 CPU_INT08U   ep_addr,
1704:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                 USBD_ERR    *p_err)
1705:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
1706:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP TxZLP", ep_addr);
1707:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1708:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvEP_TxStart(              p_drv,
1709:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      ep_addr,
1710:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                        (CPU_INT08U *)0,
1711:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      0u,
1712:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      p_err);
1713:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
1714:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1715:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1716:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1717:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1718:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                         USBD_DrvEP_Abort()
1719:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1720:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Abort any pending transfer on endpoint.
1721:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1722:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1723:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1724:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint Address.
1725:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1726:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : DEF_OK,   if NO error(s).
1727:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1728:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               DEF_FAIL, otherwise.
1729:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1730:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1731:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1732:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1733:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1734:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_BOOLEAN  USBD_DrvEP_Abort (USBD_DRV    *p_drv,
1735:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                        CPU_INT08U   ep_addr)
1736:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 1014              		.loc 1 1736 1 is_stmt 1 view -0
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccEVxbcI.s 			page 50


 1017              		@ frame_needed = 0, uses_anonymous_args = 0
 1018              		@ link register save eliminated.
 1019              		.loc 1 1736 1 is_stmt 0 view .LVU309
 1020 0000 10B4     		push	{r4}
 1021              	.LCFI13:
 1022              		.cfi_def_cfa_offset 4
 1023              		.cfi_offset 4, -4
1737:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 1024              		.loc 1 1737 5 is_stmt 1 view .LVU310
1738:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           reg_to;
 1025              		.loc 1 1738 5 view .LVU311
1739:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 1026              		.loc 1 1739 5 view .LVU312
1740:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1741:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1742:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 1027              		.loc 1 1742 5 view .LVU313
 1028              		.loc 1 1742 45 is_stmt 0 view .LVU314
 1029 0002 8368     		ldr	r3, [r0, #8]
 1030              		.loc 1 1742 53 view .LVU315
 1031 0004 1B68     		ldr	r3, [r3]
 1032              	.LVL114:
1743:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 1033              		.loc 1 1743 5 is_stmt 1 view .LVU316
 1034              		.loc 1 1743 16 is_stmt 0 view .LVU317
 1035 0006 01F00F04 		and	r4, r1, #15
 1036              	.LVL115:
1744:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1745:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (USBD_EP_IS_IN(ep_addr) == DEF_YES) {                    /* ------------------- IN ENDPOINTS
 1037              		.loc 1 1745 5 is_stmt 1 view .LVU318
 1038              		.loc 1 1745 8 is_stmt 0 view .LVU319
 1039 000a CA09     		lsrs	r2, r1, #7
 1040 000c 3BD0     		beq	.L50
1746:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set Endpoint to NAK mode        
1747:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_SNAK);
 1041              		.loc 1 1747 9 is_stmt 1 view .LVU320
 1042 000e 2046     		mov	r0, r4
 1043              	.LVL116:
 1044              		.loc 1 1747 9 is_stmt 0 view .LVU321
 1045 0010 04F14802 		add	r2, r4, #72
 1046 0014 5201     		lsls	r2, r2, #5
 1047 0016 9958     		ldr	r1, [r3, r2]
 1048              	.LVL117:
 1049              		.loc 1 1747 9 view .LVU322
 1050 0018 41F00061 		orr	r1, r1, #134217728
 1051 001c 9950     		str	r1, [r3, r2]
1748:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1749:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to = STM32F_FS_REG_VAL_TO;                          /* Wait for IN EP NAK effective    
 1052              		.loc 1 1749 9 is_stmt 1 view .LVU323
 1053              	.LVL118:
1750:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_CLR(p_reg->DIEP[ep_log_nbr].INTx, STM32F_FS_DIEPINTx_BIT_INEPNE) == DEF_
 1054              		.loc 1 1750 9 view .LVU324
1749:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_CLR(p_reg->DIEP[ep_log_nbr].INTx, STM32F_FS_DIEPINTx_BIT_INEPNE) == DEF_
 1055              		.loc 1 1749 16 is_stmt 0 view .LVU325
 1056 001e 40F2FF32 		movw	r2, #1023
 1057              	.LVL119:
 1058              	.L51:
ARM GAS  /tmp/ccEVxbcI.s 			page 51


 1059              		.loc 1 1750 15 is_stmt 1 view .LVU326
 1060              		.loc 1 1750 17 is_stmt 0 view .LVU327
 1061 0022 03EB4011 		add	r1, r3, r0, lsl #5
 1062 0026 D1F80819 		ldr	r1, [r1, #2312]
 1063              		.loc 1 1750 15 view .LVU328
 1064 002a 11F0400F 		tst	r1, #64
 1065 002e 02D1     		bne	.L52
 1066              		.loc 1 1750 105 discriminator 1 view .LVU329
 1067 0030 0AB1     		cbz	r2, .L52
1751:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                (reg_to > 0u)) {
1752:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             reg_to--;
 1068              		.loc 1 1752 13 is_stmt 1 view .LVU330
 1069              		.loc 1 1752 19 is_stmt 0 view .LVU331
 1070 0032 013A     		subs	r2, r2, #1
 1071              	.LVL120:
 1072              		.loc 1 1752 19 view .LVU332
 1073 0034 F5E7     		b	.L51
 1074              	.L52:
1753:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1754:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1755:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS);
 1075              		.loc 1 1755 9 is_stmt 1 view .LVU333
 1076 0036 04F14802 		add	r2, r4, #72
 1077              	.LVL121:
 1078              		.loc 1 1755 9 is_stmt 0 view .LVU334
 1079 003a 5201     		lsls	r2, r2, #5
 1080 003c 9958     		ldr	r1, [r3, r2]
 1081 003e 41F08041 		orr	r1, r1, #1073741824
 1082 0042 9950     		str	r1, [r3, r2]
1756:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1757:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to = STM32F_FS_REG_VAL_TO;                          /* Wait for EP disable             
 1083              		.loc 1 1757 9 is_stmt 1 view .LVU335
 1084              	.LVL122:
1758:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS) == DEF_Y
 1085              		.loc 1 1758 9 view .LVU336
1757:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS) == DEF_Y
 1086              		.loc 1 1757 16 is_stmt 0 view .LVU337
 1087 0044 40F2FF31 		movw	r1, #1023
 1088              	.LVL123:
 1089              	.L54:
 1090              		.loc 1 1758 15 is_stmt 1 view .LVU338
 1091              		.loc 1 1758 17 is_stmt 0 view .LVU339
 1092 0048 00F14802 		add	r2, r0, #72
 1093 004c 5201     		lsls	r2, r2, #5
 1094 004e 9A58     		ldr	r2, [r3, r2]
 1095              		.loc 1 1758 15 view .LVU340
 1096 0050 12F0804F 		tst	r2, #1073741824
 1097 0054 02D0     		beq	.L55
 1098              		.loc 1 1758 104 discriminator 1 view .LVU341
 1099 0056 09B1     		cbz	r1, .L55
1759:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                (reg_to > 0u)) {
1760:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             reg_to--;
 1100              		.loc 1 1760 13 is_stmt 1 view .LVU342
 1101              		.loc 1 1760 19 is_stmt 0 view .LVU343
 1102 0058 0139     		subs	r1, r1, #1
 1103              	.LVL124:
 1104              		.loc 1 1760 19 view .LVU344
ARM GAS  /tmp/ccEVxbcI.s 			page 52


 1105 005a F5E7     		b	.L54
 1106              	.L55:
1761:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1762:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP Disable interrupt      
1763:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].INTx, STM32F_FS_DIEPINTx_BIT_EPDISD);
 1107              		.loc 1 1763 9 is_stmt 1 view .LVU345
 1108 005c 03EB4411 		add	r1, r3, r4, lsl #5
 1109              	.LVL125:
 1110              		.loc 1 1763 9 is_stmt 0 view .LVU346
 1111 0060 D1F80829 		ldr	r2, [r1, #2312]
 1112 0064 42F00202 		orr	r2, r2, #2
 1113 0068 C1F80829 		str	r2, [r1, #2312]
1764:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1765:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Flush EPx TX FIFO               
1766:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->GRSTCTL = STM32F_FS_GRSTCTL_BIT_TXFFLSH |  (ep_log_nbr << 6u);
 1114              		.loc 1 1766 9 is_stmt 1 view .LVU347
 1115              		.loc 1 1766 71 is_stmt 0 view .LVU348
 1116 006c A401     		lsls	r4, r4, #6
 1117              	.LVL126:
 1118              		.loc 1 1766 56 view .LVU349
 1119 006e 44F02004 		orr	r4, r4, #32
 1120              		.loc 1 1766 24 view .LVU350
 1121 0072 1C61     		str	r4, [r3, #16]
1767:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1768:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to = STM32F_FS_REG_VAL_TO;                          /* Wait for the flush completion   
 1122              		.loc 1 1768 9 is_stmt 1 view .LVU351
 1123              	.LVL127:
1769:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_TXFFLSH) == DEF_YES) &&
 1124              		.loc 1 1769 9 view .LVU352
1768:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_TXFFLSH) == DEF_YES) &&
 1125              		.loc 1 1768 16 is_stmt 0 view .LVU353
 1126 0074 40F2FF32 		movw	r2, #1023
 1127              	.LVL128:
 1128              	.L57:
 1129              		.loc 1 1769 15 is_stmt 1 view .LVU354
 1130              		.loc 1 1769 17 is_stmt 0 view .LVU355
 1131 0078 1969     		ldr	r1, [r3, #16]
 1132              		.loc 1 1769 15 view .LVU356
 1133 007a 11F0200F 		tst	r1, #32
 1134 007e 15D0     		beq	.L58
 1135              		.loc 1 1769 91 discriminator 1 view .LVU357
 1136 0080 A2B1     		cbz	r2, .L58
1770:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                (reg_to > 0u)) {
1771:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             reg_to--;
 1137              		.loc 1 1771 13 is_stmt 1 view .LVU358
 1138              		.loc 1 1771 19 is_stmt 0 view .LVU359
 1139 0082 013A     		subs	r2, r2, #1
 1140              	.LVL129:
 1141              		.loc 1 1771 19 view .LVU360
 1142 0084 F8E7     		b	.L57
 1143              	.LVL130:
 1144              	.L50:
1772:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1773:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1774:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } else {                                                    /* ------------------ OUT ENDPOINTS
1775:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1776:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_SNAK);
ARM GAS  /tmp/ccEVxbcI.s 			page 53


 1145              		.loc 1 1776 9 is_stmt 1 view .LVU361
 1146 0086 5834     		adds	r4, r4, #88
 1147              	.LVL131:
 1148              		.loc 1 1776 9 is_stmt 0 view .LVU362
 1149 0088 6401     		lsls	r4, r4, #5
 1150              	.LVL132:
 1151              		.loc 1 1776 9 view .LVU363
 1152 008a 1A59     		ldr	r2, [r3, r4]
 1153 008c 42F00062 		orr	r2, r2, #134217728
 1154 0090 1A51     		str	r2, [r3, r4]
1777:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1778:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Flush EPx RX FIFO               
1779:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_RXFFLSH);
 1155              		.loc 1 1779 9 is_stmt 1 view .LVU364
 1156 0092 1A69     		ldr	r2, [r3, #16]
 1157 0094 42F01002 		orr	r2, r2, #16
 1158 0098 1A61     		str	r2, [r3, #16]
1780:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1781:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to = STM32F_FS_REG_VAL_TO;                          /* Wait for the flush completion   
 1159              		.loc 1 1781 9 view .LVU365
 1160              	.LVL133:
1782:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_RXFFLSH) == DEF_YES) &&
 1161              		.loc 1 1782 9 view .LVU366
1781:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_RXFFLSH) == DEF_YES) &&
 1162              		.loc 1 1781 16 is_stmt 0 view .LVU367
 1163 009a 40F2FF32 		movw	r2, #1023
 1164              	.LVL134:
 1165              	.L60:
 1166              		.loc 1 1782 15 is_stmt 1 view .LVU368
 1167              		.loc 1 1782 17 is_stmt 0 view .LVU369
 1168 009e 1969     		ldr	r1, [r3, #16]
 1169              		.loc 1 1782 15 view .LVU370
 1170 00a0 11F0100F 		tst	r1, #16
 1171 00a4 02D0     		beq	.L58
 1172              		.loc 1 1782 91 discriminator 1 view .LVU371
 1173 00a6 0AB1     		cbz	r2, .L58
1783:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                (reg_to > 0u)) {
1784:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             reg_to--;
 1174              		.loc 1 1784 13 is_stmt 1 view .LVU372
 1175              		.loc 1 1784 19 is_stmt 0 view .LVU373
 1176 00a8 013A     		subs	r2, r2, #1
 1177              	.LVL135:
 1178              		.loc 1 1784 19 view .LVU374
 1179 00aa F8E7     		b	.L60
 1180              	.LVL136:
 1181              	.L58:
1785:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1786:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1787:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1788:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP Abort", ep_addr);
 1182              		.loc 1 1788 47 is_stmt 1 view .LVU375
1789:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1790:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     return (DEF_OK);
 1183              		.loc 1 1790 5 view .LVU376
1791:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 1184              		.loc 1 1791 1 is_stmt 0 view .LVU377
 1185 00ac 0120     		movs	r0, #1
ARM GAS  /tmp/ccEVxbcI.s 			page 54


 1186 00ae 5DF8044B 		ldr	r4, [sp], #4
 1187              	.LCFI14:
 1188              		.cfi_restore 4
 1189              		.cfi_def_cfa_offset 0
 1190 00b2 7047     		bx	lr
 1191              		.cfi_endproc
 1192              	.LFE21:
 1194              		.section	.text.USBD_DrvEP_Stall,"ax",%progbits
 1195              		.align	1
 1196              		.syntax unified
 1197              		.thumb
 1198              		.thumb_func
 1199              		.fpu fpv4-sp-d16
 1201              	USBD_DrvEP_Stall:
 1202              	.LVL137:
 1203              	.LFB22:
1792:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1793:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1794:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1795:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1796:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                         USBD_DrvEP_Stall()
1797:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1798:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Set or clear stall condition on endpoint.
1799:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1800:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1801:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1802:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_addr     Endpoint address.
1803:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1804:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               state       Endpoint stall state.
1805:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1806:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : DEF_OK,   if NO error(s).
1807:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1808:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               DEF_FAIL, otherwise.
1809:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1810:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1811:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1812:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1813:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1814:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  CPU_BOOLEAN  USBD_DrvEP_Stall (USBD_DRV     *p_drv,
1815:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                        CPU_INT08U    ep_addr,
1816:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                        CPU_BOOLEAN   state)
1817:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 1204              		.loc 1 1817 1 is_stmt 1 view -0
 1205              		.cfi_startproc
 1206              		@ args = 0, pretend = 0, frame = 0
 1207              		@ frame_needed = 0, uses_anonymous_args = 0
 1208              		@ link register save eliminated.
 1209              		.loc 1 1817 1 is_stmt 0 view .LVU379
 1210 0000 10B4     		push	{r4}
 1211              	.LCFI15:
 1212              		.cfi_def_cfa_offset 4
 1213              		.cfi_offset 4, -4
1818:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 1214              		.loc 1 1818 5 is_stmt 1 view .LVU380
1819:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ep_type;
 1215              		.loc 1 1819 5 view .LVU381
1820:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
ARM GAS  /tmp/ccEVxbcI.s 			page 55


 1216              		.loc 1 1820 5 view .LVU382
1821:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1822:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1823:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 1217              		.loc 1 1823 5 view .LVU383
 1218              		.loc 1 1823 45 is_stmt 0 view .LVU384
 1219 0002 8368     		ldr	r3, [r0, #8]
 1220              		.loc 1 1823 53 view .LVU385
 1221 0004 1868     		ldr	r0, [r3]
 1222              	.LVL138:
1824:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 1223              		.loc 1 1824 5 is_stmt 1 view .LVU386
 1224              		.loc 1 1824 16 is_stmt 0 view .LVU387
 1225 0006 01F00F03 		and	r3, r1, #15
 1226              	.LVL139:
1825:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1826:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP Stall", ep_addr);
 1227              		.loc 1 1826 47 is_stmt 1 view .LVU388
1827:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1828:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (USBD_EP_IS_IN(ep_addr) == DEF_YES) {                    /* ------------------- IN ENDPOINTS
 1228              		.loc 1 1828 5 view .LVU389
 1229              		.loc 1 1828 8 is_stmt 0 view .LVU390
 1230 000a C909     		lsrs	r1, r1, #7
 1231              	.LVL140:
 1232              		.loc 1 1828 8 view .LVU391
 1233 000c 2CD0     		beq	.L64
1829:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (state == DEF_SET) {
 1234              		.loc 1 1829 9 is_stmt 1 view .LVU392
 1235              		.loc 1 1829 12 is_stmt 0 view .LVU393
 1236 000e 012A     		cmp	r2, #1
 1237 0010 10D0     		beq	.L70
1830:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Disable Endpoint if enable for t
1831:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             if (DEF_BIT_IS_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPENA) == DEF_Y
1832:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS);
1833:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
1834:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set Stall bit                   
1835:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_STALL);
1836:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1837:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         } else {
1838:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ep_type = (p_reg->DIEP[ep_log_nbr].CTLx >> 18u) & DEF_BIT_FIELD(2u, 0u);
 1238              		.loc 1 1838 13 is_stmt 1 view .LVU394
 1239              		.loc 1 1838 47 is_stmt 0 view .LVU395
 1240 0012 03F14801 		add	r1, r3, #72
 1241 0016 4901     		lsls	r1, r1, #5
 1242 0018 4258     		ldr	r2, [r0, r1]
 1243              	.LVL141:
 1244              		.loc 1 1838 21 view .LVU396
 1245 001a C2F38142 		ubfx	r2, r2, #18, #2
 1246              	.LVL142:
1839:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Stall Bit                 
1840:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_STALL);
 1247              		.loc 1 1840 13 is_stmt 1 view .LVU397
 1248 001e 4458     		ldr	r4, [r0, r1]
 1249 0020 24F40014 		bic	r4, r4, #2097152
 1250 0024 4450     		str	r4, [r0, r1]
1841:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1842:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             if ((ep_type == USBD_EP_TYPE_INTR) ||
ARM GAS  /tmp/ccEVxbcI.s 			page 56


 1251              		.loc 1 1842 13 view .LVU398
 1252              		.loc 1 1842 48 is_stmt 0 view .LVU399
 1253 0026 023A     		subs	r2, r2, #2
 1254              	.LVL143:
 1255              		.loc 1 1842 16 view .LVU400
 1256 0028 012A     		cmp	r2, #1
 1257 002a 18D9     		bls	.L71
 1258              	.LVL144:
 1259              	.L67:
1843:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 (ep_type == USBD_EP_TYPE_BULK)) {
1844:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set DATA0 PID                   
1845:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_SD0PID);
1846:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
1847:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1848:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1849:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } else {                                                    /* ------------------- OUT ENDPOINT
1850:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (state == DEF_SET) {
1851:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set Stall bit                   
1852:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_STALL);
1853:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1854:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         } else {
1855:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ep_type = (p_reg->DOEP[ep_log_nbr].CTLx >> 18u) & DEF_BIT_FIELD(2u, 0u);
1856:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Stall Bit                 
1857:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->DOEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_STALL);
1858:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1859:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             if ((ep_type == USBD_EP_TYPE_INTR) || (ep_type == USBD_EP_TYPE_BULK)) {
1860:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set DATA0 PID                   
1861:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_SD0PID);
1862:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
1863:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1864:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1865:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1866:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     return (DEF_OK);
 1260              		.loc 1 1866 5 is_stmt 1 view .LVU401
1867:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 1261              		.loc 1 1867 1 is_stmt 0 view .LVU402
 1262 002c 0120     		movs	r0, #1
 1263              	.LVL145:
 1264              		.loc 1 1867 1 view .LVU403
 1265 002e 5DF8044B 		ldr	r4, [sp], #4
 1266              	.LCFI16:
 1267              		.cfi_remember_state
 1268              		.cfi_restore 4
 1269              		.cfi_def_cfa_offset 0
 1270 0032 7047     		bx	lr
 1271              	.LVL146:
 1272              	.L70:
 1273              	.LCFI17:
 1274              		.cfi_restore_state
1831:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS);
 1275              		.loc 1 1831 13 is_stmt 1 view .LVU404
1831:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS);
 1276              		.loc 1 1831 17 is_stmt 0 view .LVU405
 1277 0034 03F14802 		add	r2, r3, #72
 1278              	.LVL147:
1831:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS);
 1279              		.loc 1 1831 17 view .LVU406
ARM GAS  /tmp/ccEVxbcI.s 			page 57


 1280 0038 5201     		lsls	r2, r2, #5
 1281 003a 8258     		ldr	r2, [r0, r2]
1831:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_EPDIS);
 1282              		.loc 1 1831 16 view .LVU407
 1283 003c 002A     		cmp	r2, #0
 1284 003e 06DB     		blt	.L72
 1285              	.L66:
1835:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1286              		.loc 1 1835 13 is_stmt 1 view .LVU408
 1287 0040 4833     		adds	r3, r3, #72
 1288              	.LVL148:
1835:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1289              		.loc 1 1835 13 is_stmt 0 view .LVU409
 1290 0042 5B01     		lsls	r3, r3, #5
 1291              	.LVL149:
1835:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1292              		.loc 1 1835 13 view .LVU410
 1293 0044 C258     		ldr	r2, [r0, r3]
 1294 0046 42F40012 		orr	r2, r2, #2097152
 1295 004a C250     		str	r2, [r0, r3]
 1296 004c EEE7     		b	.L67
 1297              	.LVL150:
 1298              	.L72:
1832:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
 1299              		.loc 1 1832 17 is_stmt 1 view .LVU411
 1300 004e 03F14802 		add	r2, r3, #72
 1301 0052 5201     		lsls	r2, r2, #5
 1302 0054 8158     		ldr	r1, [r0, r2]
 1303 0056 41F08041 		orr	r1, r1, #1073741824
 1304 005a 8150     		str	r1, [r0, r2]
 1305 005c F0E7     		b	.L66
 1306              	.LVL151:
 1307              	.L71:
1845:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
 1308              		.loc 1 1845 17 view .LVU412
 1309 005e 4258     		ldr	r2, [r0, r1]
 1310              	.LVL152:
1845:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
 1311              		.loc 1 1845 17 is_stmt 0 view .LVU413
 1312 0060 42F08052 		orr	r2, r2, #268435456
 1313 0064 4250     		str	r2, [r0, r1]
 1314 0066 E1E7     		b	.L67
 1315              	.LVL153:
 1316              	.L64:
1850:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set Stall bit                   
 1317              		.loc 1 1850 9 is_stmt 1 view .LVU414
1850:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set Stall bit                   
 1318              		.loc 1 1850 12 is_stmt 0 view .LVU415
 1319 0068 012A     		cmp	r2, #1
 1320 006a 11D0     		beq	.L73
1855:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Stall Bit                 
 1321              		.loc 1 1855 13 is_stmt 1 view .LVU416
1855:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Stall Bit                 
 1322              		.loc 1 1855 47 is_stmt 0 view .LVU417
 1323 006c 03F15801 		add	r1, r3, #88
 1324 0070 4901     		lsls	r1, r1, #5
 1325 0072 4258     		ldr	r2, [r0, r1]
ARM GAS  /tmp/ccEVxbcI.s 			page 58


 1326              	.LVL154:
1855:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Stall Bit                 
 1327              		.loc 1 1855 21 view .LVU418
 1328 0074 C2F38142 		ubfx	r2, r2, #18, #2
 1329              	.LVL155:
1857:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1330              		.loc 1 1857 13 is_stmt 1 view .LVU419
 1331 0078 4458     		ldr	r4, [r0, r1]
 1332 007a 24F40014 		bic	r4, r4, #2097152
 1333 007e 4450     		str	r4, [r0, r1]
1859:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set DATA0 PID                   
 1334              		.loc 1 1859 13 view .LVU420
1859:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set DATA0 PID                   
 1335              		.loc 1 1859 48 is_stmt 0 view .LVU421
 1336 0080 023A     		subs	r2, r2, #2
 1337              	.LVL156:
1859:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set DATA0 PID                   
 1338              		.loc 1 1859 16 view .LVU422
 1339 0082 012A     		cmp	r2, #1
 1340 0084 D2D8     		bhi	.L67
1861:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
 1341              		.loc 1 1861 17 is_stmt 1 view .LVU423
 1342 0086 4258     		ldr	r2, [r0, r1]
 1343              	.LVL157:
1861:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
 1344              		.loc 1 1861 17 is_stmt 0 view .LVU424
 1345 0088 42F08052 		orr	r2, r2, #268435456
 1346 008c 4250     		str	r2, [r0, r1]
 1347 008e CDE7     		b	.L67
 1348              	.LVL158:
 1349              	.L73:
1852:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1350              		.loc 1 1852 13 is_stmt 1 view .LVU425
 1351 0090 5833     		adds	r3, r3, #88
 1352              	.LVL159:
1852:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1353              		.loc 1 1852 13 is_stmt 0 view .LVU426
 1354 0092 5B01     		lsls	r3, r3, #5
 1355              	.LVL160:
1852:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1356              		.loc 1 1852 13 view .LVU427
 1357 0094 C258     		ldr	r2, [r0, r3]
 1358              	.LVL161:
1852:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1359              		.loc 1 1852 13 view .LVU428
 1360 0096 42F40012 		orr	r2, r2, #2097152
 1361 009a C250     		str	r2, [r0, r3]
 1362 009c C6E7     		b	.L67
 1363              		.cfi_endproc
 1364              	.LFE22:
 1366              		.section	.text.STM32_RxFIFO_Rd,"ax",%progbits
 1367              		.align	1
 1368              		.syntax unified
 1369              		.thumb
 1370              		.thumb_func
 1371              		.fpu fpv4-sp-d16
 1373              	STM32_RxFIFO_Rd:
ARM GAS  /tmp/ccEVxbcI.s 			page 59


 1374              	.LVL162:
 1375              	.LFB24:
1868:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1869:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1870:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
1871:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1872:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        USBD_DrvISR_Handler()
1873:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1874:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : USB device Interrupt Service Routine (ISR) handler.
1875:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1876:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Argument(s) : p_drv       Pointer to device driver structure.
1877:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1878:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
1879:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
1880:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
1881:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
1882:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
1883:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1884:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  USBD_DrvISR_Handler (USBD_DRV  *p_drv)
1885:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
1886:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           int_stat;
1887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           otgint_stat;
1888:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
1889:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
1890:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1891:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1892:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
1893:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
1894:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     int_stat   =  p_reg->GINTSTS;                               /* Read global interrrupt status re
1895:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1896:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1897:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------ RX FIFO NON-EMPTY D
1898:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_RXFLVL) == DEF_YES) {
1899:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_RxFIFO_Rd(p_drv);
1900:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1901:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1902:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* --------------- IN ENDPOINT INTE
1903:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_IEPINT) == DEF_YES) {
1904:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_EP_InProcess(p_drv);
1905:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1906:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1907:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* -------------- OUT ENDPOINT INTE
1908:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_OEPINT) == DEF_YES) {
1909:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_EP_OutProcess(p_drv);
1910:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1912:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ---------------- USB RESET DETEC
1913:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_USBRST) == DEF_YES) {
1914:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_EventReset(p_drv);                                 /* Notify bus reset event.         
1915:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Enable Global OUT/IN EP interrup
1916:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ...and RX FIFO non-empty interru
1917:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_CLR(p_reg->DCTL, STM32F_FS_DCTL_BIT_RWUSIG);    /* Clear Remote wakeup signaling   
1918:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1919:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTMSK, (STM32F_FS_GINTMSK_BIT_OEPINT   |
1920:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GINTMSK_BIT_IEPINT   |
1921:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GINTMSK_BIT_RXFLVLM));
1922:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear USB bus reset interrupt   
ARM GAS  /tmp/ccEVxbcI.s 			page 60


1923:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_USBRST);
1924:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1925:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_DrvAddrSet(p_drv, 0u);
1926:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1927:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->GRXFSIZ     =  STM32F_FS_RXFIFO_SIZE;            /* Set Rx FIFO depth               
1928:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set EP0 to EP3 Tx FIFO depth    
1929:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXF0    = (STM32F_FS_TXFIFO_EP0_SIZE << 16u) | STM32F_FS_TXFIFO_EP0_START_ADDR;
1930:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[0] = (STM32F_FS_TXFIFO_EP1_SIZE << 16u) | STM32F_FS_TXFIFO_EP1_START_ADDR;
1931:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[1] = (STM32F_FS_TXFIFO_EP2_SIZE << 16u) | STM32F_FS_TXFIFO_EP2_START_ADDR;
1932:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[2] = (STM32F_FS_TXFIFO_EP3_SIZE << 16u) | STM32F_FS_TXFIFO_EP3_START_ADDR;
1933:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1934:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* --------- STM32F_OTG_FS EXTRA EP
1935:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (p_drv_data->DrvType != DRV_STM32F_FS) {             /* Set EP4 to EP5 Tx FIFO depth    
1936:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->DIEPTXFx[3] = (STM32F_FS_TXFIFO_EP4_SIZE << 16u) | STM32F_FS_TXFIFO_EP4_START_AD
1937:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->DIEPTXFx[4] = (STM32F_FS_TXFIFO_EP5_SIZE << 16u) | STM32F_FS_TXFIFO_EP5_START_AD
1938:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1939:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             if (p_drv_data->DrvType == DRV_XMC_OTG_FS) {        /* Set EP6 Tx FIFO depth           
1940:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 p_reg->DIEPTXFx[5] = (STM32F_FS_TXFIFO_EP6_SIZE << 16u) | STM32F_FS_TXFIFO_EP6_STAR
1941:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
1942:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1943:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1944:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1945:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------ ENUMERATION DONE DE
1946:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_ENUMDNE) == DEF_YES) {
1947:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(p_reg->DSTS, STM32F_FS_DSTS_ENUMSPD_FS_PHY_48MHZ) == DEF_YES) {
1948:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->DIEP[0].CTLx, STM32F_FS_DxEPCTL0_MPSIZ_64_MSK);
1949:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->GUSBCFG, STM32F_FS_GUSBCFG_TRDT_MASK);
1950:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->GUSBCFG |= (5 << 10);                        /* turn around time                
1951:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1952:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1953:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->DCTL, STM32F_FS_DCTL_BIT_CGINAK);
1954:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Enumeration done interrupt
1955:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_ENUMDNE);
1956:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1957:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1958:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------------ MODE MISMATCH
1959:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_MMIS) == DEF_YES) {
1960:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_MMIS);
1961:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1962:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1963:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* -------------- SESSION REQ DETEC
1964:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_SRQINT) == DEF_YES) {
1965:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1966:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_EventConn(p_drv);                                  /* Notify connect event.           
1967:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear all OTG interrupt sources.
1968:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_SRQINT);
1969:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1970:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1971:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------------ OTG INTERRUPT
1972:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_OTGINT) == DEF_YES) {
1973:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1974:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         otgint_stat = p_reg->GOTGINT;
1975:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(otgint_stat, STM32F_FS_GOTGINT_BIT_SEDET) == DEF_YES) {
1976:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventDisconn(p_drv);                           /* Notify disconnect event.        
1977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1978:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear all OTG interrupt sources.
1979:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GOTGINT, (STM32F_FS_GOTGINT_BIT_SEDET   |
ARM GAS  /tmp/ccEVxbcI.s 			page 61


1980:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GOTGINT_BIT_SRSSCHG |
1981:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GOTGINT_BIT_HNSSCHG |
1982:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GOTGINT_BIT_HNGDET  |
1983:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GOTGINT_BIT_ADTOCHG |
1984:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GOTGINT_BIT_DBCDNE));
1985:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1986:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1987:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ------------- EARLY SUSPEND DETE
1988:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_ESUSP) == DEF_YES) {
1989:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear the Early Suspend interrup
1990:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_ESUSP);
1991:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
1992:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
1993:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* --------------- USB SUSPEND DETE
1994:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_USBSUSP) == DEF_YES) {
1995:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(p_reg->DSTS, STM32F_FS_DSTS_BIT_SUSPSTS) == DEF_YES) {
1996:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventSuspend(p_drv);                           /* Notify Suspend Event            
1997:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
1998:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear USB Suspend interrupt     
1999:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_USBSUSP);
2000:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
2001:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2002:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- WAKE-UP DETECT
2003:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (DEF_BIT_IS_SET(int_stat, STM32F_FS_GINTSTS_BIT_WKUPINT) == DEF_YES) {
2004:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_EventResume(p_drv);                                /* Notify Resume Event             
2005:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2006:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_CLR(p_reg->PCGCR, (STM32F_FS_PCGCCTL_BIT_GATEHCLK |
2007:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    STM32F_FS_PCGCCTL_BIT_STPPCLK));
2008:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2009:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_CLR(p_reg->DCTL, STM32F_FS_DCTL_BIT_RWUSIG);    /* Clear Remote wakeup signaling   
2010:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Remote wakeup interrupt   
2011:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_WKUPINT);
2012:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
2013:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
2014:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2015:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2016:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
2017:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2018:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2019:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                           LOCAL FUNCTIONS
2020:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2021:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2022:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
2023:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2024:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
2025:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2026:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                          STM32_RxFIFO_Rd()
2027:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2028:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Handle Rx FIFO non-empty interrupt generated when a data OUT packet has been receiv
2029:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2030:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Arguments   : p_drv       Pointer to device driver structure.
2031:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2032:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
2033:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2034:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : (1) In the case where there is no user buffer to transfer the data to, discard the 
2035:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                   in the FIFO and avoid being a packet behind on subsequent transfers.
2036:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
ARM GAS  /tmp/ccEVxbcI.s 			page 62


2037:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
2038:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2039:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  STM32_RxFIFO_Rd (USBD_DRV  *p_drv)
2040:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 1376              		.loc 1 2040 1 is_stmt 1 view -0
 1377              		.cfi_startproc
 1378              		@ args = 0, pretend = 0, frame = 0
 1379              		@ frame_needed = 0, uses_anonymous_args = 0
 1380              		.loc 1 2040 1 is_stmt 0 view .LVU430
 1381 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1382              	.LCFI18:
 1383              		.cfi_def_cfa_offset 24
 1384              		.cfi_offset 4, -24
 1385              		.cfi_offset 5, -20
 1386              		.cfi_offset 6, -16
 1387              		.cfi_offset 7, -12
 1388              		.cfi_offset 8, -8
 1389              		.cfi_offset 14, -4
2041:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 1390              		.loc 1 2041 5 is_stmt 1 view .LVU431
2042:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_phy_nbr;
 1391              		.loc 1 2042 5 view .LVU432
2043:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           pkt_stat;
 1392              		.loc 1 2043 5 view .LVU433
2044:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           byte_rem;
 1393              		.loc 1 2044 5 view .LVU434
2045:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           word_cnt;
 1394              		.loc 1 2045 5 view .LVU435
2046:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT16U           byte_cnt;
 1395              		.loc 1 2046 5 view .LVU436
2047:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U          *p_data_buf;
 1396              		.loc 1 2047 5 view .LVU437
2048:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           reg_val;
 1397              		.loc 1 2048 5 view .LVU438
2049:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           i;
 1398              		.loc 1 2049 5 view .LVU439
2050:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           data;
 1399              		.loc 1 2050 5 view .LVU440
2051:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 1400              		.loc 1 2051 5 view .LVU441
2052:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 1401              		.loc 1 2052 5 view .LVU442
2053:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2054:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2055:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 1402              		.loc 1 2055 5 view .LVU443
 1403              		.loc 1 2055 45 is_stmt 0 view .LVU444
 1404 0004 8368     		ldr	r3, [r0, #8]
 1405              		.loc 1 2055 53 view .LVU445
 1406 0006 1B68     		ldr	r3, [r3]
 1407              	.LVL163:
2056:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
 1408              		.loc 1 2056 5 is_stmt 1 view .LVU446
 1409              		.loc 1 2056 16 is_stmt 0 view .LVU447
 1410 0008 C068     		ldr	r0, [r0, #12]
 1411              	.LVL164:
2057:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_val    =  p_reg->GRXSTSP;
ARM GAS  /tmp/ccEVxbcI.s 			page 63


 1412              		.loc 1 2057 5 is_stmt 1 view .LVU448
 1413              		.loc 1 2057 16 is_stmt 0 view .LVU449
 1414 000a 1A6A     		ldr	r2, [r3, #32]
 1415              	.LVL165:
2058:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr = (reg_val & STM32F_FS_GRXSTSx_EPNUM_MASK)  >>  0u;
 1416              		.loc 1 2058 5 is_stmt 1 view .LVU450
 1417              		.loc 1 2058 16 is_stmt 0 view .LVU451
 1418 000c 02F00306 		and	r6, r2, #3
 1419              	.LVL166:
2059:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_phy_nbr =  USBD_EP_ADDR_TO_PHY(USBD_EP_LOG_TO_ADDR_OUT(ep_log_nbr));
 1420              		.loc 1 2059 5 is_stmt 1 view .LVU452
 1421              		.loc 1 2059 16 is_stmt 0 view .LVU453
 1422 0010 7500     		lsls	r5, r6, #1
 1423              	.LVL167:
2060:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     byte_cnt   = (reg_val & STM32F_FS_GRXSTSx_BCNT_MASK)   >>  4u;
 1424              		.loc 1 2060 5 is_stmt 1 view .LVU454
 1425              		.loc 1 2060 16 is_stmt 0 view .LVU455
 1426 0012 C2F30A11 		ubfx	r1, r2, #4, #11
 1427              	.LVL168:
2061:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     pkt_stat   = (reg_val & STM32F_FS_GRXSTSx_PKTSTS_MASK) >> 17u;
 1428              		.loc 1 2061 5 is_stmt 1 view .LVU456
 1429              		.loc 1 2061 16 is_stmt 0 view .LVU457
 1430 0016 C2F34342 		ubfx	r2, r2, #17, #4
 1431              	.LVL169:
2062:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2063:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2064:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data->EP_PktXferLen[ep_phy_nbr] += byte_cnt;
 1432              		.loc 1 2064 5 is_stmt 1 view .LVU458
 1433              		.loc 1 2064 43 is_stmt 0 view .LVU459
 1434 001a 05F1280C 		add	ip, r5, #40
 1435 001e 30F81C40 		ldrh	r4, [r0, ip, lsl #1]
 1436 0022 0C44     		add	r4, r4, r1
 1437 0024 20F81C40 		strh	r4, [r0, ip, lsl #1]	@ movhi
2065:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2066:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Disable Rx FIFO non-empty       
2067:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_CLR(p_reg->GINTMSK, STM32F_FS_GINTMSK_BIT_RXFLVLM);
 1438              		.loc 1 2067 5 is_stmt 1 view .LVU460
 1439 0028 9C69     		ldr	r4, [r3, #24]
 1440 002a 24F01004 		bic	r4, r4, #16
 1441 002e 9C61     		str	r4, [r3, #24]
2068:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2069:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     switch (pkt_stat) {
 1442              		.loc 1 2069 5 view .LVU461
 1443 0030 022A     		cmp	r2, #2
 1444 0032 18D0     		beq	.L75
 1445 0034 062A     		cmp	r2, #6
 1446 0036 07D1     		bne	.L76
2070:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case STM32F_FS_GRXSTSx_PKTSTS_SETUP_RX:
2071:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              p_data_buf = &p_drv_data->EP_SetupBuf[0u];
 1447              		.loc 1 2071 14 view .LVU462
 1448              	.LVL170:
2072:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              if (byte_cnt == 8u) {                              /* Read Setup packet from Rx FIFO  
 1449              		.loc 1 2072 14 view .LVU463
 1450              		.loc 1 2072 17 is_stmt 0 view .LVU464
 1451 0038 0829     		cmp	r1, #8
 1452 003a 0BD0     		beq	.L91
 1453              	.LVL171:
ARM GAS  /tmp/ccEVxbcI.s 			page 64


 1454              	.L77:
2073:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_data_buf[0u] = *p_reg->DFIFO[ep_log_nbr].DATA;
2074:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_data_buf[1u] = *p_reg->DFIFO[ep_log_nbr].DATA;
2075:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
2076:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2077:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_SET(p_reg->DOEP[0u].CTLx, STM32F_FS_DxEPCTLx_BIT_SNAK);
 1455              		.loc 1 2077 14 is_stmt 1 view .LVU465
 1456 003c D3F8002B 		ldr	r2, [r3, #2816]
 1457 0040 42F00062 		orr	r2, r2, #134217728
 1458 0044 C3F8002B 		str	r2, [r3, #2816]
2078:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 1459              		.loc 1 2078 14 view .LVU466
 1460              	.LVL172:
 1461              	.L76:
2079:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2080:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2081:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case STM32F_FS_GRXSTSx_PKTSTS_OUT_RX:
2082:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].CTLx,          /* Put endpoint in NACK mode.      
2083:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          STM32F_FS_DxEPCTLx_BIT_SNAK);
2084:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2085:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              if ((byte_cnt                             >   0u) &&
2086:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  (p_drv_data->EP_AppBufPtr[ep_phy_nbr] != (CPU_INT08U *)0)) {
2087:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2088:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  byte_cnt =  DEF_MIN(byte_cnt, p_drv_data->EP_AppBufLen[ep_phy_nbr]);
2089:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  word_cnt = (byte_cnt / 4u);
2090:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2091:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Check app buffer alignement.    
2092:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if ((((CPU_INT32U)p_drv_data->EP_AppBufPtr[ep_phy_nbr]) % 4u) == 0u) {
2093:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = (CPU_INT32U *)p_drv_data->EP_AppBufPtr[ep_phy_nbr];
2094:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  } else {
2095:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = &p_drv_data->DataBuf[0u];     /* Use drv internal aligned buf if 
2096:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
2097:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2098:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Read OUT packet from Rx FIFO    
2099:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  for (i = 0u; i < word_cnt; i++) {
2100:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      *p_data_buf = *p_reg->DFIFO[ep_log_nbr].DATA;
2101:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                       p_data_buf++;
2102:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
2103:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  byte_rem = (byte_cnt - (word_cnt * 4u));
2105:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if (byte_rem > 0u) {                           /* Rd remaining data if byte_cnt no
2106:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
2107:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      for (i = 0u; i < byte_rem; i++) {
2109:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
2110:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
2111:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
2112:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2113:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Copy data to app buf if not alig
2114:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if ((((CPU_INT32U)p_drv_data->EP_AppBufPtr[ep_phy_nbr]) % 4u) != 0u) {
2115:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = &p_drv_data->DataBuf[0u];
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      for (i = 0u; i < byte_cnt; i++) {
2117:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
2118:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
2119:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
2120:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2121:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_drv_data->EP_AppBufPtr[ep_phy_nbr] = (CPU_INT08U *)0;
ARM GAS  /tmp/ccEVxbcI.s 			page 65


2122:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              } else {                                           /* See Note (1).                   
2123:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  word_cnt = (byte_cnt + 3u) / 4u;
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  for (i = 0u; i < word_cnt; i++) {
2125:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
2126:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
2127:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
2128:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
2129:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2130:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2131:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case STM32F_FS_GRXSTSx_PKTSTS_OUT_COMPL:
2132:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case STM32F_FS_GRXSTSx_PKTSTS_SETUP_COMPL:
2133:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case STM32F_FS_GRXSTSx_PKTSTS_OUT_NAK:
2134:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         default:
2135:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
2136:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
2137:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Enable Rx FIFO non-empty interru
2138:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     DEF_BIT_SET(p_reg->GINTMSK, STM32F_FS_GINTMSK_BIT_RXFLVLM);
 1462              		.loc 1 2138 5 view .LVU467
 1463 0048 9A69     		ldr	r2, [r3, #24]
 1464 004a 42F01002 		orr	r2, r2, #16
 1465 004e 9A61     		str	r2, [r3, #24]
2139:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2140:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 1466              		.loc 1 2140 1 is_stmt 0 view .LVU468
 1467 0050 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1468              	.LVL173:
 1469              	.L91:
2073:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_data_buf[1u] = *p_reg->DFIFO[ep_log_nbr].DATA;
 1470              		.loc 1 2073 18 is_stmt 1 view .LVU469
2073:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_data_buf[1u] = *p_reg->DFIFO[ep_log_nbr].DATA;
 1471              		.loc 1 2073 33 is_stmt 0 view .LVU470
 1472 0054 0136     		adds	r6, r6, #1
 1473              	.LVL174:
2073:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_data_buf[1u] = *p_reg->DFIFO[ep_log_nbr].DATA;
 1474              		.loc 1 2073 33 view .LVU471
 1475 0056 3603     		lsls	r6, r6, #12
 1476              	.LVL175:
2073:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_data_buf[1u] = *p_reg->DFIFO[ep_log_nbr].DATA;
 1477              		.loc 1 2073 33 view .LVU472
 1478 0058 9A59     		ldr	r2, [r3, r6]
 1479              	.LVL176:
2073:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  p_data_buf[1u] = *p_reg->DFIFO[ep_log_nbr].DATA;
 1480              		.loc 1 2073 33 view .LVU473
 1481 005a C0F89020 		str	r2, [r0, #144]
2074:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 1482              		.loc 1 2074 18 is_stmt 1 view .LVU474
2074:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 1483              		.loc 1 2074 33 is_stmt 0 view .LVU475
 1484 005e 9A59     		ldr	r2, [r3, r6]
 1485 0060 C0F89420 		str	r2, [r0, #148]
 1486 0064 EAE7     		b	.L77
 1487              	.LVL177:
 1488              	.L75:
2074:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 1489              		.loc 1 2074 33 view .LVU476
 1490 0066 2F46     		mov	r7, r5
2082:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          STM32F_FS_DxEPCTLx_BIT_SNAK);
ARM GAS  /tmp/ccEVxbcI.s 			page 66


 1491              		.loc 1 2082 14 is_stmt 1 view .LVU477
 1492 0068 3446     		mov	r4, r6
 1493 006a 06F15802 		add	r2, r6, #88
 1494              	.LVL178:
2082:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          STM32F_FS_DxEPCTLx_BIT_SNAK);
 1495              		.loc 1 2082 14 is_stmt 0 view .LVU478
 1496 006e 5201     		lsls	r2, r2, #5
 1497 0070 53F802C0 		ldr	ip, [r3, r2]
 1498 0074 4CF0006C 		orr	ip, ip, #134217728
 1499 0078 43F802C0 		str	ip, [r3, r2]
2085:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  (p_drv_data->EP_AppBufPtr[ep_phy_nbr] != (CPU_INT08U *)0)) {
 1500              		.loc 1 2085 14 is_stmt 1 view .LVU479
2085:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  (p_drv_data->EP_AppBufPtr[ep_phy_nbr] != (CPU_INT08U *)0)) {
 1501              		.loc 1 2085 17 is_stmt 0 view .LVU480
 1502 007c 0029     		cmp	r1, #0
 1503 007e 4FD0     		beq	.L78
2086:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1504              		.loc 1 2086 43 discriminator 1 view .LVU481
 1505 0080 05F11802 		add	r2, r5, #24
 1506 0084 50F822E0 		ldr	lr, [r0, r2, lsl #2]
2085:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  (p_drv_data->EP_AppBufPtr[ep_phy_nbr] != (CPU_INT08U *)0)) {
 1507              		.loc 1 2085 64 discriminator 1 view .LVU482
 1508 0088 BEF1000F 		cmp	lr, #0
 1509 008c 48D0     		beq	.L78
2088:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  word_cnt = (byte_cnt / 4u);
 1510              		.loc 1 2088 18 is_stmt 1 view .LVU483
2088:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  word_cnt = (byte_cnt / 4u);
 1511              		.loc 1 2088 30 is_stmt 0 view .LVU484
 1512 008e 05F14002 		add	r2, r5, #64
 1513 0092 30F81220 		ldrh	r2, [r0, r2, lsl #1]
2088:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  word_cnt = (byte_cnt / 4u);
 1514              		.loc 1 2088 27 view .LVU485
 1515 0096 9142     		cmp	r1, r2
 1516 0098 28BF     		it	cs
 1517 009a 1146     		movcs	r1, r2
 1518              	.LVL179:
2089:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1519              		.loc 1 2089 18 is_stmt 1 view .LVU486
2089:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1520              		.loc 1 2089 27 is_stmt 0 view .LVU487
 1521 009c C1F38708 		ubfx	r8, r1, #2, #8
 1522              	.LVL180:
2092:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = (CPU_INT32U *)p_drv_data->EP_AppBufPtr[ep_phy_nbr];
 1523              		.loc 1 2092 18 is_stmt 1 view .LVU488
2092:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = (CPU_INT32U *)p_drv_data->EP_AppBufPtr[ep_phy_nbr];
 1524              		.loc 1 2092 21 is_stmt 0 view .LVU489
 1525 00a0 1EF0030F 		tst	lr, #3
 1526 00a4 00D0     		beq	.L79
2095:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
 1527              		.loc 1 2095 22 is_stmt 1 view .LVU490
2095:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
 1528              		.loc 1 2095 33 is_stmt 0 view .LVU491
 1529 00a6 8646     		mov	lr, r0
 1530              	.LVL181:
 1531              	.L79:
2040:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 1532              		.loc 1 2040 1 discriminator 1 view .LVU492
ARM GAS  /tmp/ccEVxbcI.s 			page 67


 1533 00a8 4FF0000C 		mov	ip, #0
 1534              	.L80:
 1535              	.LVL182:
2099:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      *p_data_buf = *p_reg->DFIFO[ep_log_nbr].DATA;
 1536              		.loc 1 2099 31 is_stmt 1 discriminator 1 view .LVU493
2099:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      *p_data_buf = *p_reg->DFIFO[ep_log_nbr].DATA;
 1537              		.loc 1 2099 18 is_stmt 0 discriminator 1 view .LVU494
 1538 00ac E045     		cmp	r8, ip
 1539 00ae 07D9     		bls	.L92
2100:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                       p_data_buf++;
 1540              		.loc 1 2100 22 is_stmt 1 discriminator 3 view .LVU495
2100:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                       p_data_buf++;
 1541              		.loc 1 2100 34 is_stmt 0 discriminator 3 view .LVU496
 1542 00b0 621C     		adds	r2, r4, #1
 1543 00b2 1203     		lsls	r2, r2, #12
 1544 00b4 9A58     		ldr	r2, [r3, r2]
 1545 00b6 4EF8042B 		str	r2, [lr], #4
 1546              	.LVL183:
2101:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
 1547              		.loc 1 2101 23 is_stmt 1 discriminator 3 view .LVU497
2099:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      *p_data_buf = *p_reg->DFIFO[ep_log_nbr].DATA;
 1548              		.loc 1 2099 45 discriminator 3 view .LVU498
2099:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      *p_data_buf = *p_reg->DFIFO[ep_log_nbr].DATA;
 1549              		.loc 1 2099 46 is_stmt 0 discriminator 3 view .LVU499
 1550 00ba 0CF1010C 		add	ip, ip, #1
 1551              	.LVL184:
2099:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      *p_data_buf = *p_reg->DFIFO[ep_log_nbr].DATA;
 1552              		.loc 1 2099 46 discriminator 3 view .LVU500
 1553 00be F5E7     		b	.L80
 1554              	.L92:
2104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if (byte_rem > 0u) {                           /* Rd remaining data if byte_cnt no
 1555              		.loc 1 2104 18 is_stmt 1 view .LVU501
2104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if (byte_rem > 0u) {                           /* Rd remaining data if byte_cnt no
 1556              		.loc 1 2104 39 is_stmt 0 view .LVU502
 1557 00c0 CAB2     		uxtb	r2, r1
2104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if (byte_rem > 0u) {                           /* Rd remaining data if byte_cnt no
 1558              		.loc 1 2104 51 view .LVU503
 1559 00c2 4FEA8808 		lsl	r8, r8, #2
 1560              	.LVL185:
2104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if (byte_rem > 0u) {                           /* Rd remaining data if byte_cnt no
 1561              		.loc 1 2104 51 view .LVU504
 1562 00c6 5FFA88F8 		uxtb	r8, r8
2104:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  if (byte_rem > 0u) {                           /* Rd remaining data if byte_cnt no
 1563              		.loc 1 2104 27 view .LVU505
 1564 00ca A2EB0808 		sub	r8, r2, r8
 1565              	.LVL186:
2105:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1566              		.loc 1 2105 18 is_stmt 1 view .LVU506
2105:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1567              		.loc 1 2105 21 is_stmt 0 view .LVU507
 1568 00ce 18F0FF08 		ands	r8, r8, #255
 1569              	.LVL187:
2105:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1570              		.loc 1 2105 21 view .LVU508
 1571 00d2 0CD0     		beq	.L82
2106:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1572              		.loc 1 2106 22 is_stmt 1 view .LVU509
ARM GAS  /tmp/ccEVxbcI.s 			page 68


2106:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1573              		.loc 1 2106 27 is_stmt 0 view .LVU510
 1574 00d4 0136     		adds	r6, r6, #1
 1575              	.LVL188:
2106:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1576              		.loc 1 2106 27 view .LVU511
 1577 00d6 3603     		lsls	r6, r6, #12
 1578 00d8 9E59     		ldr	r6, [r3, r6]
 1579              	.LVL189:
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
 1580              		.loc 1 2108 22 is_stmt 1 view .LVU512
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
 1581              		.loc 1 2108 29 is_stmt 0 view .LVU513
 1582 00da 0022     		movs	r2, #0
 1583              	.LVL190:
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
 1584              		.loc 1 2108 22 view .LVU514
 1585 00dc 05E0     		b	.L83
 1586              	.LVL191:
 1587              	.L84:
2109:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1588              		.loc 1 2109 26 is_stmt 1 discriminator 3 view .LVU515
2109:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1589              		.loc 1 2109 84 is_stmt 0 discriminator 3 view .LVU516
 1590 00de D400     		lsls	r4, r2, #3
2109:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1591              		.loc 1 2109 77 discriminator 3 view .LVU517
 1592 00e0 26FA04F4 		lsr	r4, r6, r4
2109:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1593              		.loc 1 2109 56 discriminator 3 view .LVU518
 1594 00e4 0EF80240 		strb	r4, [lr, r2]
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
 1595              		.loc 1 2108 49 is_stmt 1 discriminator 3 view .LVU519
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
 1596              		.loc 1 2108 50 is_stmt 0 discriminator 3 view .LVU520
 1597 00e8 0132     		adds	r2, r2, #1
 1598              	.LVL192:
 1599              	.L83:
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
 1600              		.loc 1 2108 35 is_stmt 1 discriminator 1 view .LVU521
2108:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          ((CPU_INT08U *)p_data_buf)[i] = (CPU_INT08U)((data >> (8u * i)) & 0xFFu);
 1601              		.loc 1 2108 22 is_stmt 0 discriminator 1 view .LVU522
 1602 00ea 9045     		cmp	r8, r2
 1603 00ec F7D8     		bhi	.L84
 1604              	.LVL193:
 1605              	.L82:
2114:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = &p_drv_data->DataBuf[0u];
 1606              		.loc 1 2114 18 is_stmt 1 view .LVU523
2114:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = &p_drv_data->DataBuf[0u];
 1607              		.loc 1 2114 60 is_stmt 0 view .LVU524
 1608 00ee 05F11802 		add	r2, r5, #24
 1609 00f2 50F82220 		ldr	r2, [r0, r2, lsl #2]
2114:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      p_data_buf = &p_drv_data->DataBuf[0u];
 1610              		.loc 1 2114 21 view .LVU525
 1611 00f6 12F0030F 		tst	r2, #3
 1612 00fa 0CD0     		beq	.L85
2115:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      for (i = 0u; i < byte_cnt; i++) {
ARM GAS  /tmp/ccEVxbcI.s 			page 69


 1613              		.loc 1 2115 22 is_stmt 1 view .LVU526
2115:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      for (i = 0u; i < byte_cnt; i++) {
 1614              		.loc 1 2115 33 is_stmt 0 view .LVU527
 1615 00fc 8446     		mov	ip, r0
 1616              	.LVL194:
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
 1617              		.loc 1 2116 22 is_stmt 1 view .LVU528
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
 1618              		.loc 1 2116 29 is_stmt 0 view .LVU529
 1619 00fe 0022     		movs	r2, #0
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
 1620              		.loc 1 2116 22 view .LVU530
 1621 0100 07E0     		b	.L86
 1622              	.LVL195:
 1623              	.L87:
2117:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1624              		.loc 1 2117 26 is_stmt 1 discriminator 3 view .LVU531
2117:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1625              		.loc 1 2117 50 is_stmt 0 discriminator 3 view .LVU532
 1626 0102 07F11804 		add	r4, r7, #24
 1627 0106 50F82440 		ldr	r4, [r0, r4, lsl #2]
2117:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1628              		.loc 1 2117 94 discriminator 3 view .LVU533
 1629 010a 1CF80260 		ldrb	r6, [ip, r2]	@ zero_extendqisi2
2117:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      }
 1630              		.loc 1 2117 66 discriminator 3 view .LVU534
 1631 010e A654     		strb	r6, [r4, r2]
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
 1632              		.loc 1 2116 49 is_stmt 1 discriminator 3 view .LVU535
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
 1633              		.loc 1 2116 50 is_stmt 0 discriminator 3 view .LVU536
 1634 0110 0132     		adds	r2, r2, #1
 1635              	.LVL196:
 1636              	.L86:
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
 1637              		.loc 1 2116 35 is_stmt 1 discriminator 1 view .LVU537
2116:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                          p_drv_data->EP_AppBufPtr[ep_phy_nbr][i] = ((CPU_INT08U *)p_data_buf)[i];
 1638              		.loc 1 2116 22 is_stmt 0 discriminator 1 view .LVU538
 1639 0112 9142     		cmp	r1, r2
 1640 0114 F5D8     		bhi	.L87
 1641              	.LVL197:
 1642              	.L85:
2121:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              } else {                                           /* See Note (1).                   
 1643              		.loc 1 2121 18 is_stmt 1 view .LVU539
2121:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              } else {                                           /* See Note (1).                   
 1644              		.loc 1 2121 55 is_stmt 0 view .LVU540
 1645 0116 1835     		adds	r5, r5, #24
 1646              	.LVL198:
2121:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              } else {                                           /* See Note (1).                   
 1647              		.loc 1 2121 55 view .LVU541
 1648 0118 0022     		movs	r2, #0
 1649 011a 40F82520 		str	r2, [r0, r5, lsl #2]
 1650 011e 93E7     		b	.L76
 1651              	.LVL199:
 1652              	.L78:
2123:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  for (i = 0u; i < word_cnt; i++) {
 1653              		.loc 1 2123 18 is_stmt 1 view .LVU542
ARM GAS  /tmp/ccEVxbcI.s 			page 70


2123:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  for (i = 0u; i < word_cnt; i++) {
 1654              		.loc 1 2123 39 is_stmt 0 view .LVU543
 1655 0120 0331     		adds	r1, r1, #3
 1656              	.LVL200:
2123:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  for (i = 0u; i < word_cnt; i++) {
 1657              		.loc 1 2123 45 view .LVU544
 1658 0122 8808     		lsrs	r0, r1, #2
 1659              	.LVL201:
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1660              		.loc 1 2124 18 is_stmt 1 view .LVU545
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1661              		.loc 1 2124 25 is_stmt 0 view .LVU546
 1662 0124 0021     		movs	r1, #0
 1663              	.LVL202:
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1664              		.loc 1 2124 18 view .LVU547
 1665 0126 03E0     		b	.L88
 1666              	.LVL203:
 1667              	.L89:
2125:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
 1668              		.loc 1 2125 22 is_stmt 1 discriminator 3 view .LVU548
2125:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                  }
 1669              		.loc 1 2125 27 is_stmt 0 discriminator 3 view .LVU549
 1670 0128 621C     		adds	r2, r4, #1
 1671 012a 1203     		lsls	r2, r2, #12
 1672 012c 9A58     		ldr	r2, [r3, r2]
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1673              		.loc 1 2124 45 is_stmt 1 discriminator 3 view .LVU550
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1674              		.loc 1 2124 46 is_stmt 0 discriminator 3 view .LVU551
 1675 012e 0131     		adds	r1, r1, #1
 1676              	.LVL204:
 1677              	.L88:
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1678              		.loc 1 2124 31 is_stmt 1 discriminator 1 view .LVU552
2124:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      data = *p_reg->DFIFO[ep_log_nbr].DATA;
 1679              		.loc 1 2124 18 is_stmt 0 discriminator 1 view .LVU553
 1680 0130 C2B2     		uxtb	r2, r0
 1681 0132 9142     		cmp	r1, r2
 1682 0134 F8D3     		bcc	.L89
 1683 0136 87E7     		b	.L76
 1684              		.cfi_endproc
 1685              	.LFE24:
 1687              		.section	.text.STM32_EP_InProcess,"ax",%progbits
 1688              		.align	1
 1689              		.syntax unified
 1690              		.thumb
 1691              		.thumb_func
 1692              		.fpu fpv4-sp-d16
 1694              	STM32_EP_InProcess:
 1695              	.LVL205:
 1696              	.LFB27:
2141:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2142:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
2143:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2144:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                          STM32_TxFIFO_Wr()
2145:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
ARM GAS  /tmp/ccEVxbcI.s 			page 71


2146:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Writes a packet into the Tx FIFO associated with the Endpoint.
2147:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2148:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Arguments   : p_drv       Pointer to device driver structure.
2149:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2150:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_log_nbr  Endpoint logical number.
2151:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2152:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               p_buf       Pointer to buffer of data that will be transmitted.
2153:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2154:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *               ep_pkt_len  Number of octets to transmit.
2155:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2156:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
2157:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2158:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
2159:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2160:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
2161:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2162:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  STM32_TxFIFO_Wr (USBD_DRV    *p_drv,
2163:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                CPU_INT08U   ep_log_nbr,
2164:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                CPU_INT08U  *p_buf,
2165:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                CPU_INT16U   ep_pkt_len)
2166:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
2167:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           nbr_words;
2168:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           i;
2169:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           words_avail;
2170:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U          *p_data_buf;
2171:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
2172:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
2173:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_SR_ALLOC();
2174:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2175:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2176:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
2177:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
2178:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     nbr_words  = (ep_pkt_len + 3u) / 4u;
2179:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2180:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     do {
2181:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Read available words in the EP T
2182:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         words_avail = p_reg->DIEP[ep_log_nbr].DTXFSTSx & 0x0000FFFFu;
2183:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } while (words_avail < nbr_words);                          /* Check if there are enough words 
2184:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_CRITICAL_ENTER();
2186:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (((CPU_INT32U)p_buf % 4u) == 0u) {                       /* Check app buffer alignement.    
2187:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf = (CPU_INT32U *)p_buf;
2188:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } else {
2189:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf = &p_drv_data->DataBuf[0u];                  /* Use drv internal aligned buf if 
2190:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         for (i = 0u; i < ep_pkt_len; i++) {
2192:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
2193:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
2194:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
2195:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2196:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     for (i = 0u; i < nbr_words; i++) {
2197:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_reg->DFIFO[ep_log_nbr].DATA = *p_data_buf;
2198:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf++;
2199:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
2200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_CRITICAL_EXIT();
2201:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
2202:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
ARM GAS  /tmp/ccEVxbcI.s 			page 72


2203:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
2204:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2205:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        STM32_EP_OutProcess()
2206:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2207:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Process OUT interrupts on associated EP.
2208:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2209:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Arguments   : p_drv       Pointer to device driver structure.
2210:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2211:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
2212:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2213:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
2214:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2215:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
2216:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2217:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  STM32_EP_OutProcess (USBD_DRV  *p_drv)
2218:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
2219:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2220:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ep_int_stat;
2221:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           dev_ep_int;
2222:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ep_log_nbr;
2223:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
2224:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
2225:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2226:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2227:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
2228:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
2229:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     dev_ep_int =  p_reg->DAINT >> 16u;                          /* Read all Device OUT Endpoint int
2230:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2231:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while (dev_ep_int != DEF_BIT_NONE) {
2232:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_log_nbr  = (CPU_INT08U)(31u - CPU_CntLeadZeros32(dev_ep_int & 0x0000FFFFu));
2233:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DOEP[ep_log_nbr].INTx;            /* Read OUT EP interrupt status    
2234:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2235:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Check if EP transfer completed o
2236:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(ep_int_stat, STM32F_FS_DOEPINTx_BIT_XFRC)) {
2237:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EP_RxCmpl(p_drv, ep_log_nbr);
2238:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP transfer complete inter
2239:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].INTx, STM32F_FS_DOEPINTx_BIT_XFRC);
2240:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
2241:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Check if EP Setup phase done int
2242:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(ep_int_stat, STM32F_FS_DOEPINTx_BIT_STUP)) {
2243:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventSetup(p_drv, (void *)&p_drv_data->EP_SetupBuf[0u]);
2244:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP0 SETUP complete interru
2245:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].INTx, STM32F_FS_DOEPINTx_BIT_STUP);
2246:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2247:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Re-enable EP for next setup pkt.
2248:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_SET(p_reg->DOEP[0u].CTLx, STM32F_FS_DxEPCTLx_BIT_EPENA);
2249:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
2250:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2251:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->DOEP[ep_log_nbr].CTLx, STM32F_FS_DxEPCTLx_BIT_SNAK);
2252:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2253:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         dev_ep_int = p_reg->DAINT >> 16u;                       /* Read all Device OUT Endpoint int
2254:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
2255:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
2256:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2257:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** /*
2258:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2259:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *                                        STM32_EP_InProcess()
ARM GAS  /tmp/ccEVxbcI.s 			page 73


2260:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2261:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Description : Process IN interrupts on associated EP.
2262:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2263:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Arguments   : p_drv       Pointer to device driver structure.
2264:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2265:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Return(s)   : none.
2266:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** *
2267:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** * Note(s)     : none.
2268:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** ***************************************************************************************************
2269:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** */
2270:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2271:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** static  void  STM32_EP_InProcess (USBD_DRV  *p_drv)
2272:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** {
 1697              		.loc 1 2272 1 is_stmt 1 view -0
 1698              		.cfi_startproc
 1699              		@ args = 0, pretend = 0, frame = 0
 1700              		@ frame_needed = 0, uses_anonymous_args = 0
 1701              		.loc 1 2272 1 is_stmt 0 view .LVU555
 1702 0000 70B5     		push	{r4, r5, r6, lr}
 1703              	.LCFI19:
 1704              		.cfi_def_cfa_offset 16
 1705              		.cfi_offset 4, -16
 1706              		.cfi_offset 5, -12
 1707              		.cfi_offset 6, -8
 1708              		.cfi_offset 14, -4
 1709 0002 0646     		mov	r6, r0
2273:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 1710              		.loc 1 2273 5 is_stmt 1 view .LVU556
2274:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ep_int_stat;
 1711              		.loc 1 2274 5 view .LVU557
2275:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           dev_ep_int;
 1712              		.loc 1 2275 5 view .LVU558
2276:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 1713              		.loc 1 2276 5 view .LVU559
2277:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2278:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2279:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 1714              		.loc 1 2279 5 view .LVU560
 1715              		.loc 1 2279 45 is_stmt 0 view .LVU561
 1716 0004 8368     		ldr	r3, [r0, #8]
 1717              		.loc 1 2279 53 view .LVU562
 1718 0006 1D68     		ldr	r5, [r3]
 1719              	.LVL206:
2280:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     dev_ep_int = (p_reg->DAINT & 0x0000FFFFu);                   /* Read all Device IN Endpoint int
 1720              		.loc 1 2280 5 is_stmt 1 view .LVU563
 1721              		.loc 1 2280 24 is_stmt 0 view .LVU564
 1722 0008 D5F81808 		ldr	r0, [r5, #2072]
 1723              	.LVL207:
 1724              		.loc 1 2280 16 view .LVU565
 1725 000c 80B2     		uxth	r0, r0
 1726              	.LVL208:
2281:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2282:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while (dev_ep_int != DEF_BIT_NONE) {
 1727              		.loc 1 2282 5 is_stmt 1 view .LVU566
 1728              		.loc 1 2282 11 is_stmt 0 view .LVU567
 1729 000e 0EE0     		b	.L94
 1730              	.LVL209:
ARM GAS  /tmp/ccEVxbcI.s 			page 74


 1731              	.L99:
2283:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_log_nbr  = (CPU_INT08U)(31u - CPU_CntLeadZeros32(dev_ep_int & 0x0000FFFFu));
2284:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DIEP[ep_log_nbr].INTx;             /* Read IN EP interrupt status    
2285:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2286:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Check if EP transfer completed i
2287:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(ep_int_stat, STM32F_FS_DIEPINTx_BIT_XFRC)) {
2288:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EP_TxCmpl(p_drv, ep_log_nbr);
 1732              		.loc 1 2288 13 is_stmt 1 view .LVU568
 1733 0010 2146     		mov	r1, r4
 1734 0012 3046     		mov	r0, r6
 1735 0014 FFF7FEFF 		bl	USBD_EP_TxCmpl
 1736              	.LVL210:
2289:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP transfer complete inter
2290:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_SET(p_reg->DIEP[ep_log_nbr].INTx, STM32F_FS_DIEPINTx_BIT_XFRC);
 1737              		.loc 1 2290 13 view .LVU569
 1738 0018 05EB4414 		add	r4, r5, r4, lsl #5
 1739              	.LVL211:
 1740              		.loc 1 2290 13 is_stmt 0 view .LVU570
 1741 001c D4F80839 		ldr	r3, [r4, #2312]
 1742 0020 43F00103 		orr	r3, r3, #1
 1743 0024 C4F80839 		str	r3, [r4, #2312]
 1744              	.L95:
2291:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
2292:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
2293:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         dev_ep_int = (p_reg->DAINT & 0x0000FFFFu);             /* Read all Device IN Endpoint inter
 1745              		.loc 1 2293 9 is_stmt 1 view .LVU571
 1746              		.loc 1 2293 28 is_stmt 0 view .LVU572
 1747 0028 D5F81808 		ldr	r0, [r5, #2072]
 1748              		.loc 1 2293 20 view .LVU573
 1749 002c 80B2     		uxth	r0, r0
 1750              	.LVL212:
 1751              	.L94:
2282:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_log_nbr  = (CPU_INT08U)(31u - CPU_CntLeadZeros32(dev_ep_int & 0x0000FFFFu));
 1752              		.loc 1 2282 11 is_stmt 1 view .LVU574
 1753 002e 68B1     		cbz	r0, .L98
2283:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DIEP[ep_log_nbr].INTx;             /* Read IN EP interrupt status    
 1754              		.loc 1 2283 9 view .LVU575
2283:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DIEP[ep_log_nbr].INTx;             /* Read IN EP interrupt status    
 1755              		.loc 1 2283 42 is_stmt 0 view .LVU576
 1756 0030 FFF7FEFF 		bl	CPU_CntLeadZeros32
 1757              	.LVL213:
2283:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DIEP[ep_log_nbr].INTx;             /* Read IN EP interrupt status    
 1758              		.loc 1 2283 23 view .LVU577
 1759 0034 C4B2     		uxtb	r4, r0
2283:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DIEP[ep_log_nbr].INTx;             /* Read IN EP interrupt status    
 1760              		.loc 1 2283 21 view .LVU578
 1761 0036 C4F11F04 		rsb	r4, r4, #31
 1762 003a E4B2     		uxtb	r4, r4
 1763              	.LVL214:
2284:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1764              		.loc 1 2284 9 is_stmt 1 view .LVU579
2284:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1765              		.loc 1 2284 21 is_stmt 0 view .LVU580
 1766 003c 05EB4413 		add	r3, r5, r4, lsl #5
 1767 0040 D3F80839 		ldr	r3, [r3, #2312]
 1768              	.LVL215:
2287:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EP_TxCmpl(p_drv, ep_log_nbr);
ARM GAS  /tmp/ccEVxbcI.s 			page 75


 1769              		.loc 1 2287 9 is_stmt 1 view .LVU581
2287:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EP_TxCmpl(p_drv, ep_log_nbr);
 1770              		.loc 1 2287 12 is_stmt 0 view .LVU582
 1771 0044 13F0010F 		tst	r3, #1
 1772 0048 EED0     		beq	.L95
 1773 004a E1E7     		b	.L99
 1774              	.LVL216:
 1775              	.L98:
2294:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
2295:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 1776              		.loc 1 2295 1 view .LVU583
 1777 004c 70BD     		pop	{r4, r5, r6, pc}
 1778              		.loc 1 2295 1 view .LVU584
 1779              		.cfi_endproc
 1780              	.LFE27:
 1782              		.section	.text.STM32_EP_OutProcess,"ax",%progbits
 1783              		.align	1
 1784              		.syntax unified
 1785              		.thumb
 1786              		.thumb_func
 1787              		.fpu fpv4-sp-d16
 1789              	STM32_EP_OutProcess:
 1790              	.LVL217:
 1791              	.LFB26:
2218:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1792              		.loc 1 2218 1 is_stmt 1 view -0
 1793              		.cfi_startproc
 1794              		@ args = 0, pretend = 0, frame = 0
 1795              		@ frame_needed = 0, uses_anonymous_args = 0
2218:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1796              		.loc 1 2218 1 is_stmt 0 view .LVU586
 1797 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1798              	.LCFI20:
 1799              		.cfi_def_cfa_offset 24
 1800              		.cfi_offset 4, -24
 1801              		.cfi_offset 5, -20
 1802              		.cfi_offset 6, -16
 1803              		.cfi_offset 7, -12
 1804              		.cfi_offset 8, -8
 1805              		.cfi_offset 14, -4
 1806 0004 0646     		mov	r6, r0
2220:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           dev_ep_int;
 1807              		.loc 1 2220 5 is_stmt 1 view .LVU587
2221:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ep_log_nbr;
 1808              		.loc 1 2221 5 view .LVU588
2222:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 1809              		.loc 1 2222 5 view .LVU589
2223:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 1810              		.loc 1 2223 5 view .LVU590
2224:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1811              		.loc 1 2224 5 view .LVU591
2227:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
 1812              		.loc 1 2227 5 view .LVU592
2227:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
 1813              		.loc 1 2227 45 is_stmt 0 view .LVU593
 1814 0006 8368     		ldr	r3, [r0, #8]
2227:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv_data = (USBD_DRV_DATA_EP   *)p_drv->DataPtr;
ARM GAS  /tmp/ccEVxbcI.s 			page 76


 1815              		.loc 1 2227 53 view .LVU594
 1816 0008 1D68     		ldr	r5, [r3]
 1817              	.LVL218:
2228:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     dev_ep_int =  p_reg->DAINT >> 16u;                          /* Read all Device OUT Endpoint int
 1818              		.loc 1 2228 5 is_stmt 1 view .LVU595
2228:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     dev_ep_int =  p_reg->DAINT >> 16u;                          /* Read all Device OUT Endpoint int
 1819              		.loc 1 2228 16 is_stmt 0 view .LVU596
 1820 000a C768     		ldr	r7, [r0, #12]
 1821              	.LVL219:
2229:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1822              		.loc 1 2229 5 is_stmt 1 view .LVU597
2229:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1823              		.loc 1 2229 24 is_stmt 0 view .LVU598
 1824 000c D5F81808 		ldr	r0, [r5, #2072]
 1825              	.LVL220:
2229:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1826              		.loc 1 2229 16 view .LVU599
 1827 0010 000C     		lsrs	r0, r0, #16
 1828              	.LVL221:
2231:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_log_nbr  = (CPU_INT08U)(31u - CPU_CntLeadZeros32(dev_ep_int & 0x0000FFFFu));
 1829              		.loc 1 2231 5 is_stmt 1 view .LVU600
2231:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_log_nbr  = (CPU_INT08U)(31u - CPU_CntLeadZeros32(dev_ep_int & 0x0000FFFFu));
 1830              		.loc 1 2231 11 is_stmt 0 view .LVU601
 1831 0012 28E0     		b	.L101
 1832              	.LVL222:
 1833              	.L107:
2237:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP transfer complete inter
 1834              		.loc 1 2237 13 is_stmt 1 view .LVU602
 1835 0014 2146     		mov	r1, r4
 1836 0016 3046     		mov	r0, r6
 1837 0018 FFF7FEFF 		bl	USBD_EP_RxCmpl
 1838              	.LVL223:
2239:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 1839              		.loc 1 2239 13 view .LVU603
 1840 001c 05EB4412 		add	r2, r5, r4, lsl #5
 1841 0020 D2F8083B 		ldr	r3, [r2, #2824]
 1842 0024 43F00103 		orr	r3, r3, #1
 1843 0028 C2F8083B 		str	r3, [r2, #2824]
 1844 002c 28E0     		b	.L102
 1845              	.L108:
2243:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear EP0 SETUP complete interru
 1846              		.loc 1 2243 13 view .LVU604
 1847 002e 07F19001 		add	r1, r7, #144
 1848 0032 3046     		mov	r0, r6
 1849 0034 FFF7FEFF 		bl	USBD_EventSetup
 1850              	.LVL224:
2245:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1851              		.loc 1 2245 13 view .LVU605
 1852 0038 05EB4412 		add	r2, r5, r4, lsl #5
 1853 003c D2F8083B 		ldr	r3, [r2, #2824]
 1854 0040 43F00803 		orr	r3, r3, #8
 1855 0044 C2F8083B 		str	r3, [r2, #2824]
2248:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 1856              		.loc 1 2248 13 view .LVU606
 1857 0048 D5F8003B 		ldr	r3, [r5, #2816]
 1858 004c 43F00043 		orr	r3, r3, #-2147483648
 1859 0050 C5F8003B 		str	r3, [r5, #2816]
ARM GAS  /tmp/ccEVxbcI.s 			page 77


 1860              	.L103:
2251:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1861              		.loc 1 2251 9 view .LVU607
 1862 0054 5834     		adds	r4, r4, #88
 1863              	.LVL225:
2251:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1864              		.loc 1 2251 9 is_stmt 0 view .LVU608
 1865 0056 6401     		lsls	r4, r4, #5
 1866              	.LVL226:
2251:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1867              		.loc 1 2251 9 view .LVU609
 1868 0058 2B59     		ldr	r3, [r5, r4]
 1869 005a 43F00063 		orr	r3, r3, #134217728
 1870 005e 2B51     		str	r3, [r5, r4]
2253:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 1871              		.loc 1 2253 9 is_stmt 1 view .LVU610
2253:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 1872              		.loc 1 2253 27 is_stmt 0 view .LVU611
 1873 0060 D5F81808 		ldr	r0, [r5, #2072]
2253:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 1874              		.loc 1 2253 20 view .LVU612
 1875 0064 000C     		lsrs	r0, r0, #16
 1876              	.LVL227:
 1877              	.L101:
2231:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_log_nbr  = (CPU_INT08U)(31u - CPU_CntLeadZeros32(dev_ep_int & 0x0000FFFFu));
 1878              		.loc 1 2231 11 is_stmt 1 view .LVU613
 1879 0066 78B1     		cbz	r0, .L106
2232:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DOEP[ep_log_nbr].INTx;            /* Read OUT EP interrupt status    
 1880              		.loc 1 2232 9 view .LVU614
2232:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DOEP[ep_log_nbr].INTx;            /* Read OUT EP interrupt status    
 1881              		.loc 1 2232 42 is_stmt 0 view .LVU615
 1882 0068 FFF7FEFF 		bl	CPU_CntLeadZeros32
 1883              	.LVL228:
2232:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         ep_int_stat =  p_reg->DOEP[ep_log_nbr].INTx;            /* Read OUT EP interrupt status    
 1884              		.loc 1 2232 23 view .LVU616
 1885 006c C0F11F04 		rsb	r4, r0, #31
 1886 0070 E4B2     		uxtb	r4, r4
 1887              	.LVL229:
2233:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1888              		.loc 1 2233 9 is_stmt 1 view .LVU617
2233:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1889              		.loc 1 2233 21 is_stmt 0 view .LVU618
 1890 0072 05EB4413 		add	r3, r5, r4, lsl #5
 1891 0076 D3F8088B 		ldr	r8, [r3, #2824]
 1892              	.LVL230:
2236:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EP_RxCmpl(p_drv, ep_log_nbr);
 1893              		.loc 1 2236 9 is_stmt 1 view .LVU619
2236:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EP_RxCmpl(p_drv, ep_log_nbr);
 1894              		.loc 1 2236 12 is_stmt 0 view .LVU620
 1895 007a 18F0010F 		tst	r8, #1
 1896 007e C9D1     		bne	.L107
 1897              	.L102:
2242:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventSetup(p_drv, (void *)&p_drv_data->EP_SetupBuf[0u]);
 1898              		.loc 1 2242 9 is_stmt 1 view .LVU621
2242:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventSetup(p_drv, (void *)&p_drv_data->EP_SetupBuf[0u]);
 1899              		.loc 1 2242 12 is_stmt 0 view .LVU622
 1900 0080 18F0080F 		tst	r8, #8
ARM GAS  /tmp/ccEVxbcI.s 			page 78


 1901 0084 E6D0     		beq	.L103
 1902 0086 D2E7     		b	.L108
 1903              	.LVL231:
 1904              	.L106:
2255:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1905              		.loc 1 2255 1 view .LVU623
 1906 0088 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
2255:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1907              		.loc 1 2255 1 view .LVU624
 1908              		.cfi_endproc
 1909              	.LFE26:
 1911              		.section	.text.USBD_DrvISR_Handler,"ax",%progbits
 1912              		.align	1
 1913              		.syntax unified
 1914              		.thumb
 1915              		.thumb_func
 1916              		.fpu fpv4-sp-d16
 1918              	USBD_DrvISR_Handler:
 1919              	.LVL232:
 1920              	.LFB23:
1885:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           int_stat;
 1921              		.loc 1 1885 1 is_stmt 1 view -0
 1922              		.cfi_startproc
 1923              		@ args = 0, pretend = 0, frame = 0
 1924              		@ frame_needed = 0, uses_anonymous_args = 0
1885:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           int_stat;
 1925              		.loc 1 1885 1 is_stmt 0 view .LVU626
 1926 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1927              	.LCFI21:
 1928              		.cfi_def_cfa_offset 24
 1929              		.cfi_offset 3, -24
 1930              		.cfi_offset 4, -20
 1931              		.cfi_offset 5, -16
 1932              		.cfi_offset 6, -12
 1933              		.cfi_offset 7, -8
 1934              		.cfi_offset 14, -4
 1935 0002 0646     		mov	r6, r0
1886:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           otgint_stat;
 1936              		.loc 1 1886 5 is_stmt 1 view .LVU627
1887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 1937              		.loc 1 1887 5 view .LVU628
1888:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 1938              		.loc 1 1888 5 view .LVU629
1889:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1939              		.loc 1 1889 5 view .LVU630
1892:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 1940              		.loc 1 1892 5 view .LVU631
1892:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 1941              		.loc 1 1892 16 is_stmt 0 view .LVU632
 1942 0004 C768     		ldr	r7, [r0, #12]
 1943              	.LVL233:
1893:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     int_stat   =  p_reg->GINTSTS;                               /* Read global interrrupt status re
 1944              		.loc 1 1893 5 is_stmt 1 view .LVU633
1893:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     int_stat   =  p_reg->GINTSTS;                               /* Read global interrrupt status re
 1945              		.loc 1 1893 45 is_stmt 0 view .LVU634
 1946 0006 8368     		ldr	r3, [r0, #8]
1893:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     int_stat   =  p_reg->GINTSTS;                               /* Read global interrrupt status re
ARM GAS  /tmp/ccEVxbcI.s 			page 79


 1947              		.loc 1 1893 53 view .LVU635
 1948 0008 1C68     		ldr	r4, [r3]
 1949              	.LVL234:
1894:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1950              		.loc 1 1894 5 is_stmt 1 view .LVU636
1894:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 1951              		.loc 1 1894 16 is_stmt 0 view .LVU637
 1952 000a 6569     		ldr	r5, [r4, #20]
 1953              	.LVL235:
1898:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_RxFIFO_Rd(p_drv);
 1954              		.loc 1 1898 5 is_stmt 1 view .LVU638
1898:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_RxFIFO_Rd(p_drv);
 1955              		.loc 1 1898 8 is_stmt 0 view .LVU639
 1956 000c 15F0100F 		tst	r5, #16
 1957 0010 48D1     		bne	.L125
 1958              	.LVL236:
 1959              	.L110:
1903:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_EP_InProcess(p_drv);
 1960              		.loc 1 1903 5 is_stmt 1 view .LVU640
1903:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_EP_InProcess(p_drv);
 1961              		.loc 1 1903 8 is_stmt 0 view .LVU641
 1962 0012 15F4802F 		tst	r5, #262144
 1963 0016 48D1     		bne	.L126
 1964              	.L111:
1908:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_EP_OutProcess(p_drv);
 1965              		.loc 1 1908 5 is_stmt 1 view .LVU642
1908:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         STM32_EP_OutProcess(p_drv);
 1966              		.loc 1 1908 8 is_stmt 0 view .LVU643
 1967 0018 15F4002F 		tst	r5, #524288
 1968 001c 49D1     		bne	.L127
 1969              	.L112:
1913:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_EventReset(p_drv);                                 /* Notify bus reset event.         
 1970              		.loc 1 1913 5 is_stmt 1 view .LVU644
1913:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_EventReset(p_drv);                                 /* Notify bus reset event.         
 1971              		.loc 1 1913 8 is_stmt 0 view .LVU645
 1972 001e 15F4805F 		tst	r5, #4096
 1973 0022 4AD1     		bne	.L128
 1974              	.L113:
1946:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(p_reg->DSTS, STM32F_FS_DSTS_ENUMSPD_FS_PHY_48MHZ) == DEF_YES) {
 1975              		.loc 1 1946 5 is_stmt 1 view .LVU646
1946:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(p_reg->DSTS, STM32F_FS_DSTS_ENUMSPD_FS_PHY_48MHZ) == DEF_YES) {
 1976              		.loc 1 1946 8 is_stmt 0 view .LVU647
 1977 0024 15F4005F 		tst	r5, #8192
 1978 0028 0FD0     		beq	.L114
1947:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->DIEP[0].CTLx, STM32F_FS_DxEPCTL0_MPSIZ_64_MSK);
 1979              		.loc 1 1947 9 is_stmt 1 view .LVU648
1947:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->DIEP[0].CTLx, STM32F_FS_DxEPCTL0_MPSIZ_64_MSK);
 1980              		.loc 1 1947 13 is_stmt 0 view .LVU649
 1981 002a D4F80838 		ldr	r3, [r4, #2056]
 1982 002e 03F00603 		and	r3, r3, #6
1947:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->DIEP[0].CTLx, STM32F_FS_DxEPCTL0_MPSIZ_64_MSK);
 1983              		.loc 1 1947 12 view .LVU650
 1984 0032 062B     		cmp	r3, #6
 1985 0034 79D0     		beq	.L129
 1986              	.L115:
1953:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Enumeration done interrupt
 1987              		.loc 1 1953 9 is_stmt 1 view .LVU651
ARM GAS  /tmp/ccEVxbcI.s 			page 80


 1988 0036 D4F80438 		ldr	r3, [r4, #2052]
 1989 003a 43F48073 		orr	r3, r3, #256
 1990 003e C4F80438 		str	r3, [r4, #2052]
1955:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 1991              		.loc 1 1955 9 view .LVU652
 1992 0042 6369     		ldr	r3, [r4, #20]
 1993 0044 43F40053 		orr	r3, r3, #8192
 1994 0048 6361     		str	r3, [r4, #20]
 1995              	.L114:
1959:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_MMIS);
 1996              		.loc 1 1959 5 view .LVU653
1959:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         DEF_BIT_SET(p_reg->GINTSTS, STM32F_FS_GINTSTS_BIT_MMIS);
 1997              		.loc 1 1959 8 is_stmt 0 view .LVU654
 1998 004a 15F0020F 		tst	r5, #2
 1999 004e 03D0     		beq	.L116
1960:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2000              		.loc 1 1960 9 is_stmt 1 view .LVU655
 2001 0050 6369     		ldr	r3, [r4, #20]
 2002 0052 43F00203 		orr	r3, r3, #2
 2003 0056 6361     		str	r3, [r4, #20]
 2004              	.L116:
1964:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2005              		.loc 1 1964 5 view .LVU656
1964:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2006              		.loc 1 1964 8 is_stmt 0 view .LVU657
 2007 0058 15F0804F 		tst	r5, #1073741824
 2008 005c 76D1     		bne	.L130
 2009              	.L117:
1972:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2010              		.loc 1 1972 5 is_stmt 1 view .LVU658
1972:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2011              		.loc 1 1972 8 is_stmt 0 view .LVU659
 2012 005e 15F0040F 		tst	r5, #4
 2013 0062 09D0     		beq	.L118
1974:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(otgint_stat, STM32F_FS_GOTGINT_BIT_SEDET) == DEF_YES) {
 2014              		.loc 1 1974 9 is_stmt 1 view .LVU660
1974:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(otgint_stat, STM32F_FS_GOTGINT_BIT_SEDET) == DEF_YES) {
 2015              		.loc 1 1974 21 is_stmt 0 view .LVU661
 2016 0064 6368     		ldr	r3, [r4, #4]
 2017              	.LVL237:
1975:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventDisconn(p_drv);                           /* Notify disconnect event.        
 2018              		.loc 1 1975 9 is_stmt 1 view .LVU662
1975:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventDisconn(p_drv);                           /* Notify disconnect event.        
 2019              		.loc 1 1975 12 is_stmt 0 view .LVU663
 2020 0066 13F0040F 		tst	r3, #4
 2021 006a 77D1     		bne	.L131
 2022              	.LVL238:
 2023              	.L119:
1979:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GOTGINT_BIT_SRSSCHG |
 2024              		.loc 1 1979 9 is_stmt 1 view .LVU664
 2025 006c 6368     		ldr	r3, [r4, #4]
 2026 006e 43F46023 		orr	r3, r3, #917504
 2027 0072 43F44173 		orr	r3, r3, #772
 2028 0076 6360     		str	r3, [r4, #4]
 2029              	.L118:
1988:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear the Early Suspend interrup
 2030              		.loc 1 1988 5 view .LVU665
ARM GAS  /tmp/ccEVxbcI.s 			page 81


1988:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear the Early Suspend interrup
 2031              		.loc 1 1988 8 is_stmt 0 view .LVU666
 2032 0078 15F4806F 		tst	r5, #1024
 2033 007c 03D0     		beq	.L120
1990:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2034              		.loc 1 1990 9 is_stmt 1 view .LVU667
 2035 007e 6369     		ldr	r3, [r4, #20]
 2036 0080 43F48063 		orr	r3, r3, #1024
 2037 0084 6361     		str	r3, [r4, #20]
 2038              	.L120:
1994:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(p_reg->DSTS, STM32F_FS_DSTS_BIT_SUSPSTS) == DEF_YES) {
 2039              		.loc 1 1994 5 view .LVU668
1994:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         if (DEF_BIT_IS_SET(p_reg->DSTS, STM32F_FS_DSTS_BIT_SUSPSTS) == DEF_YES) {
 2040              		.loc 1 1994 8 is_stmt 0 view .LVU669
 2041 0086 15F4006F 		tst	r5, #2048
 2042 008a 08D0     		beq	.L121
1995:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventSuspend(p_drv);                           /* Notify Suspend Event            
 2043              		.loc 1 1995 9 is_stmt 1 view .LVU670
1995:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventSuspend(p_drv);                           /* Notify Suspend Event            
 2044              		.loc 1 1995 13 is_stmt 0 view .LVU671
 2045 008c D4F80838 		ldr	r3, [r4, #2056]
1995:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             USBD_EventSuspend(p_drv);                           /* Notify Suspend Event            
 2046              		.loc 1 1995 12 view .LVU672
 2047 0090 13F0010F 		tst	r3, #1
 2048 0094 66D1     		bne	.L132
 2049              	.L122:
1999:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2050              		.loc 1 1999 9 is_stmt 1 view .LVU673
 2051 0096 6369     		ldr	r3, [r4, #20]
 2052 0098 43F40063 		orr	r3, r3, #2048
 2053 009c 6361     		str	r3, [r4, #20]
 2054              	.L121:
2003:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_EventResume(p_drv);                                /* Notify Resume Event             
 2055              		.loc 1 2003 5 view .LVU674
2003:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         USBD_EventResume(p_drv);                                /* Notify Resume Event             
 2056              		.loc 1 2003 8 is_stmt 0 view .LVU675
 2057 009e 002D     		cmp	r5, #0
 2058 00a0 64DB     		blt	.L133
 2059              	.L109:
2013:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2060              		.loc 1 2013 1 view .LVU676
 2061 00a2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2062              	.LVL239:
 2063              	.L125:
1899:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2064              		.loc 1 1899 9 is_stmt 1 view .LVU677
 2065 00a4 FFF7FEFF 		bl	STM32_RxFIFO_Rd
 2066              	.LVL240:
1899:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2067              		.loc 1 1899 9 is_stmt 0 view .LVU678
 2068 00a8 B3E7     		b	.L110
 2069              	.L126:
1904:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2070              		.loc 1 1904 9 is_stmt 1 view .LVU679
 2071 00aa 3046     		mov	r0, r6
 2072 00ac FFF7FEFF 		bl	STM32_EP_InProcess
 2073              	.LVL241:
ARM GAS  /tmp/ccEVxbcI.s 			page 82


 2074 00b0 B2E7     		b	.L111
 2075              	.L127:
1909:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2076              		.loc 1 1909 9 view .LVU680
 2077 00b2 3046     		mov	r0, r6
 2078 00b4 FFF7FEFF 		bl	STM32_EP_OutProcess
 2079              	.LVL242:
 2080 00b8 B1E7     		b	.L112
 2081              	.L128:
1914:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Enable Global OUT/IN EP interrup
 2082              		.loc 1 1914 9 view .LVU681
 2083 00ba 3046     		mov	r0, r6
 2084 00bc FFF7FEFF 		bl	USBD_EventReset
 2085              	.LVL243:
1917:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2086              		.loc 1 1917 9 view .LVU682
 2087 00c0 D4F80438 		ldr	r3, [r4, #2052]
 2088 00c4 23F00103 		bic	r3, r3, #1
 2089 00c8 C4F80438 		str	r3, [r4, #2052]
1919:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      STM32F_FS_GINTMSK_BIT_IEPINT   |
 2090              		.loc 1 1919 9 view .LVU683
 2091 00cc A369     		ldr	r3, [r4, #24]
 2092 00ce 43F44023 		orr	r3, r3, #786432
 2093 00d2 43F01003 		orr	r3, r3, #16
 2094 00d6 A361     		str	r3, [r4, #24]
1923:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2095              		.loc 1 1923 9 view .LVU684
 2096 00d8 6369     		ldr	r3, [r4, #20]
 2097 00da 43F48053 		orr	r3, r3, #4096
 2098 00de 6361     		str	r3, [r4, #20]
1925:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2099              		.loc 1 1925 9 view .LVU685
 2100 00e0 0021     		movs	r1, #0
 2101 00e2 3046     		mov	r0, r6
 2102 00e4 FFF7FEFF 		bl	USBD_DrvAddrSet
 2103              	.LVL244:
1927:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set EP0 to EP3 Tx FIFO depth    
 2104              		.loc 1 1927 9 view .LVU686
1927:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Set EP0 to EP3 Tx FIFO depth    
 2105              		.loc 1 1927 28 is_stmt 0 view .LVU687
 2106 00e8 8023     		movs	r3, #128
 2107 00ea 6362     		str	r3, [r4, #36]
1929:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[0] = (STM32F_FS_TXFIFO_EP1_SIZE << 16u) | STM32F_FS_TXFIFO_EP1_START_ADDR;
 2108              		.loc 1 1929 9 is_stmt 1 view .LVU688
1929:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[0] = (STM32F_FS_TXFIFO_EP1_SIZE << 16u) | STM32F_FS_TXFIFO_EP1_START_ADDR;
 2109              		.loc 1 1929 28 is_stmt 0 view .LVU689
 2110 00ec 03F58013 		add	r3, r3, #1048576
 2111 00f0 A362     		str	r3, [r4, #40]
1930:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[1] = (STM32F_FS_TXFIFO_EP2_SIZE << 16u) | STM32F_FS_TXFIFO_EP2_START_ADDR;
 2112              		.loc 1 1930 9 is_stmt 1 view .LVU690
1930:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[1] = (STM32F_FS_TXFIFO_EP2_SIZE << 16u) | STM32F_FS_TXFIFO_EP2_START_ADDR;
 2113              		.loc 1 1930 28 is_stmt 0 view .LVU691
 2114 00f2 03F11013 		add	r3, r3, #1048592
 2115 00f6 C4F80431 		str	r3, [r4, #260]
1931:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[2] = (STM32F_FS_TXFIFO_EP3_SIZE << 16u) | STM32F_FS_TXFIFO_EP3_START_ADDR;
 2116              		.loc 1 1931 9 is_stmt 1 view .LVU692
1931:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEPTXFx[2] = (STM32F_FS_TXFIFO_EP3_SIZE << 16u) | STM32F_FS_TXFIFO_EP3_START_ADDR;
ARM GAS  /tmp/ccEVxbcI.s 			page 83


 2117              		.loc 1 1931 28 is_stmt 0 view .LVU693
 2118 00fa 2033     		adds	r3, r3, #32
 2119 00fc C4F80831 		str	r3, [r4, #264]
1932:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2120              		.loc 1 1932 9 is_stmt 1 view .LVU694
1932:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2121              		.loc 1 1932 28 is_stmt 0 view .LVU695
 2122 0100 2033     		adds	r3, r3, #32
 2123 0102 C4F80C31 		str	r3, [r4, #268]
1935:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->DIEPTXFx[3] = (STM32F_FS_TXFIFO_EP4_SIZE << 16u) | STM32F_FS_TXFIFO_EP4_START_AD
 2124              		.loc 1 1935 9 is_stmt 1 view .LVU696
1935:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->DIEPTXFx[3] = (STM32F_FS_TXFIFO_EP4_SIZE << 16u) | STM32F_FS_TXFIFO_EP4_START_AD
 2125              		.loc 1 1935 23 is_stmt 0 view .LVU697
 2126 0106 B7F89830 		ldrh	r3, [r7, #152]
1935:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->DIEPTXFx[3] = (STM32F_FS_TXFIFO_EP4_SIZE << 16u) | STM32F_FS_TXFIFO_EP4_START_AD
 2127              		.loc 1 1935 12 view .LVU698
 2128 010a 002B     		cmp	r3, #0
 2129 010c 8AD0     		beq	.L113
1936:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->DIEPTXFx[4] = (STM32F_FS_TXFIFO_EP5_SIZE << 16u) | STM32F_FS_TXFIFO_EP5_START_AD
 2130              		.loc 1 1936 13 is_stmt 1 view .LVU699
1936:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->DIEPTXFx[4] = (STM32F_FS_TXFIFO_EP5_SIZE << 16u) | STM32F_FS_TXFIFO_EP5_START_AD
 2131              		.loc 1 1936 32 is_stmt 0 view .LVU700
 2132 010e 214B     		ldr	r3, .L134
 2133 0110 C4F81031 		str	r3, [r4, #272]
1937:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2134              		.loc 1 1937 13 is_stmt 1 view .LVU701
1937:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2135              		.loc 1 1937 32 is_stmt 0 view .LVU702
 2136 0114 2033     		adds	r3, r3, #32
 2137 0116 C4F81431 		str	r3, [r4, #276]
1939:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 p_reg->DIEPTXFx[5] = (STM32F_FS_TXFIFO_EP6_SIZE << 16u) | STM32F_FS_TXFIFO_EP6_STAR
 2138              		.loc 1 1939 13 is_stmt 1 view .LVU703
1939:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 p_reg->DIEPTXFx[5] = (STM32F_FS_TXFIFO_EP6_SIZE << 16u) | STM32F_FS_TXFIFO_EP6_STAR
 2139              		.loc 1 1939 27 is_stmt 0 view .LVU704
 2140 011a B7F89830 		ldrh	r3, [r7, #152]
1939:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                 p_reg->DIEPTXFx[5] = (STM32F_FS_TXFIFO_EP6_SIZE << 16u) | STM32F_FS_TXFIFO_EP6_STAR
 2141              		.loc 1 1939 16 view .LVU705
 2142 011e 032B     		cmp	r3, #3
 2143 0120 80D1     		bne	.L113
1940:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
 2144              		.loc 1 1940 17 is_stmt 1 view .LVU706
1940:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             }
 2145              		.loc 1 1940 36 is_stmt 0 view .LVU707
 2146 0122 1D4B     		ldr	r3, .L134+4
 2147 0124 C4F81831 		str	r3, [r4, #280]
 2148 0128 7CE7     		b	.L113
 2149              	.L129:
1948:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             DEF_BIT_CLR(p_reg->GUSBCFG, STM32F_FS_GUSBCFG_TRDT_MASK);
 2150              		.loc 1 1948 13 is_stmt 1 view .LVU708
 2151 012a D4F80039 		ldr	r3, [r4, #2304]
 2152 012e 23F00303 		bic	r3, r3, #3
 2153 0132 C4F80039 		str	r3, [r4, #2304]
1949:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             p_reg->GUSBCFG |= (5 << 10);                        /* turn around time                
 2154              		.loc 1 1949 13 view .LVU709
 2155 0136 E368     		ldr	r3, [r4, #12]
 2156 0138 23F0FF73 		bic	r3, r3, #33423360
 2157 013c 23F4FE33 		bic	r3, r3, #130048
ARM GAS  /tmp/ccEVxbcI.s 			page 84


 2158 0140 E360     		str	r3, [r4, #12]
1950:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2159              		.loc 1 1950 13 view .LVU710
1950:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2160              		.loc 1 1950 28 is_stmt 0 view .LVU711
 2161 0142 E368     		ldr	r3, [r4, #12]
 2162 0144 43F4A053 		orr	r3, r3, #5120
 2163 0148 E360     		str	r3, [r4, #12]
 2164 014a 74E7     		b	.L115
 2165              	.L130:
1966:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear all OTG interrupt sources.
 2166              		.loc 1 1966 9 is_stmt 1 view .LVU712
 2167 014c 3046     		mov	r0, r6
 2168 014e FFF7FEFF 		bl	USBD_EventConn
 2169              	.LVL245:
1968:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2170              		.loc 1 1968 9 view .LVU713
 2171 0152 6369     		ldr	r3, [r4, #20]
 2172 0154 43F08043 		orr	r3, r3, #1073741824
 2173 0158 6361     		str	r3, [r4, #20]
 2174 015a 80E7     		b	.L117
 2175              	.LVL246:
 2176              	.L131:
1976:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2177              		.loc 1 1976 13 view .LVU714
 2178 015c 3046     		mov	r0, r6
 2179 015e FFF7FEFF 		bl	USBD_EventDisconn
 2180              	.LVL247:
1976:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2181              		.loc 1 1976 13 is_stmt 0 view .LVU715
 2182 0162 83E7     		b	.L119
 2183              	.L132:
1996:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2184              		.loc 1 1996 13 is_stmt 1 view .LVU716
 2185 0164 3046     		mov	r0, r6
 2186 0166 FFF7FEFF 		bl	USBD_EventSuspend
 2187              	.LVL248:
 2188 016a 94E7     		b	.L122
 2189              	.L133:
2004:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2190              		.loc 1 2004 9 view .LVU717
 2191 016c 3046     		mov	r0, r6
 2192 016e FFF7FEFF 		bl	USBD_EventResume
 2193              	.LVL249:
2006:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                    STM32F_FS_PCGCCTL_BIT_STPPCLK));
 2194              		.loc 1 2006 9 view .LVU718
 2195 0172 D4F8003E 		ldr	r3, [r4, #3584]
 2196 0176 23F00303 		bic	r3, r3, #3
 2197 017a C4F8003E 		str	r3, [r4, #3584]
2009:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Clear Remote wakeup interrupt   
 2198              		.loc 1 2009 9 view .LVU719
 2199 017e D4F80438 		ldr	r3, [r4, #2052]
 2200 0182 23F00103 		bic	r3, r3, #1
 2201 0186 C4F80438 		str	r3, [r4, #2052]
2011:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2202              		.loc 1 2011 9 view .LVU720
 2203 018a 6369     		ldr	r3, [r4, #20]
ARM GAS  /tmp/ccEVxbcI.s 			page 85


 2204 018c 43F00043 		orr	r3, r3, #-2147483648
 2205 0190 6361     		str	r3, [r4, #20]
2013:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2206              		.loc 1 2013 1 is_stmt 0 view .LVU721
 2207 0192 86E7     		b	.L109
 2208              	.L135:
 2209              		.align	2
 2210              	.L134:
 2211 0194 F0002000 		.word	2097392
 2212 0198 30012000 		.word	2097456
 2213              		.cfi_endproc
 2214              	.LFE23:
 2216              		.section	.text.STM32_TxFIFO_Wr,"ax",%progbits
 2217              		.align	1
 2218              		.syntax unified
 2219              		.thumb
 2220              		.thumb_func
 2221              		.fpu fpv4-sp-d16
 2223              	STM32_TxFIFO_Wr:
 2224              	.LVL250:
 2225              	.LFB25:
2166:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           nbr_words;
 2226              		.loc 1 2166 1 is_stmt 1 view -0
 2227              		.cfi_startproc
 2228              		@ args = 0, pretend = 0, frame = 0
 2229              		@ frame_needed = 0, uses_anonymous_args = 0
2166:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           nbr_words;
 2230              		.loc 1 2166 1 is_stmt 0 view .LVU723
 2231 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2232              	.LCFI22:
 2233              		.cfi_def_cfa_offset 32
 2234              		.cfi_offset 3, -32
 2235              		.cfi_offset 4, -28
 2236              		.cfi_offset 5, -24
 2237              		.cfi_offset 6, -20
 2238              		.cfi_offset 7, -16
 2239              		.cfi_offset 8, -12
 2240              		.cfi_offset 9, -8
 2241              		.cfi_offset 14, -4
 2242 0004 1546     		mov	r5, r2
2167:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           i;
 2243              		.loc 1 2167 5 is_stmt 1 view .LVU724
2168:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           words_avail;
 2244              		.loc 1 2168 5 view .LVU725
2169:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U          *p_data_buf;
 2245              		.loc 1 2169 5 view .LVU726
2170:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 2246              		.loc 1 2170 5 view .LVU727
2171:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 2247              		.loc 1 2171 5 view .LVU728
2172:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_SR_ALLOC();
 2248              		.loc 1 2172 5 view .LVU729
2173:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2249              		.loc 1 2173 5 view .LVU730
 2250              	.LVL251:
2176:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 2251              		.loc 1 2176 5 view .LVU731
ARM GAS  /tmp/ccEVxbcI.s 			page 86


2176:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg      = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;
 2252              		.loc 1 2176 16 is_stmt 0 view .LVU732
 2253 0006 D0F80C90 		ldr	r9, [r0, #12]
 2254              	.LVL252:
2177:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     nbr_words  = (ep_pkt_len + 3u) / 4u;
 2255              		.loc 1 2177 5 is_stmt 1 view .LVU733
2177:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     nbr_words  = (ep_pkt_len + 3u) / 4u;
 2256              		.loc 1 2177 45 is_stmt 0 view .LVU734
 2257 000a 8268     		ldr	r2, [r0, #8]
 2258              	.LVL253:
2177:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     nbr_words  = (ep_pkt_len + 3u) / 4u;
 2259              		.loc 1 2177 53 view .LVU735
 2260 000c 1668     		ldr	r6, [r2]
 2261              	.LVL254:
2178:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2262              		.loc 1 2178 5 is_stmt 1 view .LVU736
2178:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2263              		.loc 1 2178 30 is_stmt 0 view .LVU737
 2264 000e 9846     		mov	r8, r3
 2265 0010 0333     		adds	r3, r3, #3
 2266              	.LVL255:
2178:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2267              		.loc 1 2178 16 view .LVU738
 2268 0012 9C08     		lsrs	r4, r3, #2
 2269              	.LVL256:
 2270              	.L137:
2180:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* Read available words in the EP T
 2271              		.loc 1 2180 5 is_stmt 1 discriminator 1 view .LVU739
2182:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } while (words_avail < nbr_words);                          /* Check if there are enough words 
 2272              		.loc 1 2182 9 discriminator 1 view .LVU740
2182:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } while (words_avail < nbr_words);                          /* Check if there are enough words 
 2273              		.loc 1 2182 46 is_stmt 0 discriminator 1 view .LVU741
 2274 0014 0F46     		mov	r7, r1
 2275 0016 06EB4113 		add	r3, r6, r1, lsl #5
 2276 001a D3F81839 		ldr	r3, [r3, #2328]
2182:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     } while (words_avail < nbr_words);                          /* Check if there are enough words 
 2277              		.loc 1 2182 21 discriminator 1 view .LVU742
 2278 001e 9BB2     		uxth	r3, r3
 2279              	.LVL257:
2183:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2280              		.loc 1 2183 13 is_stmt 1 discriminator 1 view .LVU743
2183:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2281              		.loc 1 2183 5 is_stmt 0 discriminator 1 view .LVU744
 2282 0020 9C42     		cmp	r4, r3
 2283 0022 F7D8     		bhi	.L137
2185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (((CPU_INT32U)p_buf % 4u) == 0u) {                       /* Check app buffer alignement.    
 2284              		.loc 1 2185 5 is_stmt 1 view .LVU745
2185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (((CPU_INT32U)p_buf % 4u) == 0u) {                       /* Check app buffer alignement.    
 2285              		.loc 1 2185 5 view .LVU746
2185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (((CPU_INT32U)p_buf % 4u) == 0u) {                       /* Check app buffer alignement.    
 2286              		.loc 1 2185 5 view .LVU747
 2287 0024 4020     		movs	r0, #64
 2288              	.LVL258:
2185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (((CPU_INT32U)p_buf % 4u) == 0u) {                       /* Check app buffer alignement.    
 2289              		.loc 1 2185 5 is_stmt 0 view .LVU748
 2290 0026 FFF7FEFF 		bl	CPU_SR_Save
 2291              	.LVL259:
ARM GAS  /tmp/ccEVxbcI.s 			page 87


2185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (((CPU_INT32U)p_buf % 4u) == 0u) {                       /* Check app buffer alignement.    
 2292              		.loc 1 2185 5 is_stmt 1 view .LVU749
2185:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     if (((CPU_INT32U)p_buf % 4u) == 0u) {                       /* Check app buffer alignement.    
 2293              		.loc 1 2185 5 view .LVU750
2186:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf = (CPU_INT32U *)p_buf;
 2294              		.loc 1 2186 5 view .LVU751
2186:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf = (CPU_INT32U *)p_buf;
 2295              		.loc 1 2186 8 is_stmt 0 view .LVU752
 2296 002a 15F0030F 		tst	r5, #3
 2297 002e 08D0     		beq	.L138
2189:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2298              		.loc 1 2189 9 is_stmt 1 view .LVU753
2189:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2299              		.loc 1 2189 20 is_stmt 0 view .LVU754
 2300 0030 4946     		mov	r1, r9
 2301              	.LVL260:
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
 2302              		.loc 1 2191 9 is_stmt 1 view .LVU755
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
 2303              		.loc 1 2191 16 is_stmt 0 view .LVU756
 2304 0032 0023     		movs	r3, #0
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
 2305              		.loc 1 2191 9 view .LVU757
 2306 0034 02E0     		b	.L139
 2307              	.LVL261:
 2308              	.L140:
2192:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2309              		.loc 1 2192 13 is_stmt 1 discriminator 3 view .LVU758
2192:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2310              		.loc 1 2192 50 is_stmt 0 discriminator 3 view .LVU759
 2311 0036 EA5C     		ldrb	r2, [r5, r3]	@ zero_extendqisi2
2192:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         }
 2312              		.loc 1 2192 43 discriminator 3 view .LVU760
 2313 0038 CA54     		strb	r2, [r1, r3]
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
 2314              		.loc 1 2191 38 is_stmt 1 discriminator 3 view .LVU761
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
 2315              		.loc 1 2191 39 is_stmt 0 discriminator 3 view .LVU762
 2316 003a 0133     		adds	r3, r3, #1
 2317              	.LVL262:
 2318              	.L139:
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
 2319              		.loc 1 2191 22 is_stmt 1 discriminator 1 view .LVU763
2191:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****             ((CPU_INT08U *)p_data_buf)[i] = p_buf[i];
 2320              		.loc 1 2191 9 is_stmt 0 discriminator 1 view .LVU764
 2321 003c 9845     		cmp	r8, r3
 2322 003e FAD8     		bhi	.L140
2189:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2323              		.loc 1 2189 20 view .LVU765
 2324 0040 4D46     		mov	r5, r9
 2325              	.LVL263:
 2326              	.L138:
2189:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2327              		.loc 1 2189 20 discriminator 1 view .LVU766
 2328 0042 0022     		movs	r2, #0
 2329 0044 05E0     		b	.L141
 2330              	.LVL264:
ARM GAS  /tmp/ccEVxbcI.s 			page 88


 2331              	.L142:
2197:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf++;
 2332              		.loc 1 2197 8 is_stmt 1 discriminator 3 view .LVU767
2197:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf++;
 2333              		.loc 1 2197 41 is_stmt 0 discriminator 3 view .LVU768
 2334 0046 55F8041B 		ldr	r1, [r5], #4
 2335              	.LVL265:
2197:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_data_buf++;
 2336              		.loc 1 2197 39 discriminator 3 view .LVU769
 2337 004a 7B1C     		adds	r3, r7, #1
 2338 004c 1B03     		lsls	r3, r3, #12
 2339 004e F150     		str	r1, [r6, r3]
2198:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2340              		.loc 1 2198 9 is_stmt 1 discriminator 3 view .LVU770
 2341              	.LVL266:
2196:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_reg->DFIFO[ep_log_nbr].DATA = *p_data_buf;
 2342              		.loc 1 2196 33 discriminator 3 view .LVU771
2196:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_reg->DFIFO[ep_log_nbr].DATA = *p_data_buf;
 2343              		.loc 1 2196 34 is_stmt 0 discriminator 3 view .LVU772
 2344 0050 0132     		adds	r2, r2, #1
 2345              	.LVL267:
 2346              	.L141:
2196:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_reg->DFIFO[ep_log_nbr].DATA = *p_data_buf;
 2347              		.loc 1 2196 18 is_stmt 1 discriminator 1 view .LVU773
2196:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_reg->DFIFO[ep_log_nbr].DATA = *p_data_buf;
 2348              		.loc 1 2196 5 is_stmt 0 discriminator 1 view .LVU774
 2349 0052 A242     		cmp	r2, r4
 2350 0054 F7D3     		bcc	.L142
2200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2351              		.loc 1 2200 5 is_stmt 1 view .LVU775
2200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2352              		.loc 1 2200 5 view .LVU776
2200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2353              		.loc 1 2200 5 view .LVU777
 2354 0056 FFF7FEFF 		bl	CPU_SR_Restore
 2355              	.LVL268:
2200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2356              		.loc 1 2200 5 view .LVU778
2200:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2357              		.loc 1 2200 5 view .LVU779
2201:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2358              		.loc 1 2201 1 is_stmt 0 view .LVU780
 2359 005a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
2201:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2360              		.loc 1 2201 1 view .LVU781
 2361              		.cfi_endproc
 2362              	.LFE25:
 2364              		.section	.text.USBD_DrvEP_TxStart,"ax",%progbits
 2365              		.align	1
 2366              		.syntax unified
 2367              		.thumb
 2368              		.thumb_func
 2369              		.fpu fpv4-sp-d16
 2371              	USBD_DrvEP_TxStart:
 2372              	.LVL269:
 2373              	.LFB19:
1651:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
ARM GAS  /tmp/ccEVxbcI.s 			page 89


 2374              		.loc 1 1651 1 is_stmt 1 view -0
 2375              		.cfi_startproc
 2376              		@ args = 4, pretend = 0, frame = 0
 2377              		@ frame_needed = 0, uses_anonymous_args = 0
1651:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_log_nbr;
 2378              		.loc 1 1651 1 is_stmt 0 view .LVU783
 2379 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2380              	.LCFI23:
 2381              		.cfi_def_cfa_offset 24
 2382              		.cfi_offset 3, -24
 2383              		.cfi_offset 4, -20
 2384              		.cfi_offset 5, -16
 2385              		.cfi_offset 6, -12
 2386              		.cfi_offset 7, -8
 2387              		.cfi_offset 14, -4
1652:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           ctl_reg;
 2388              		.loc 1 1652 5 is_stmt 1 view .LVU784
1653:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           tsiz_reg;
 2389              		.loc 1 1653 5 view .LVU785
1654:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 2390              		.loc 1 1654 5 view .LVU786
1655:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2391              		.loc 1 1655 5 view .LVU787
1658:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 2392              		.loc 1 1658 5 view .LVU788
1658:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 2393              		.loc 1 1658 46 is_stmt 0 view .LVU789
 2394 0002 8468     		ldr	r4, [r0, #8]
1658:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     ep_log_nbr =  USBD_EP_ADDR_TO_LOG(ep_addr);
 2395              		.loc 1 1658 54 view .LVU790
 2396 0004 2668     		ldr	r6, [r4]
 2397              	.LVL270:
1659:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2398              		.loc 1 1659 5 is_stmt 1 view .LVU791
1659:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2399              		.loc 1 1659 16 is_stmt 0 view .LVU792
 2400 0006 01F00F01 		and	r1, r1, #15
 2401              	.LVL271:
1661:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg = p_reg->DIEP[ep_log_nbr].TSIZx;                   /* Read EP transfer reg            
 2402              		.loc 1 1661 5 is_stmt 1 view .LVU793
1661:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg = p_reg->DIEP[ep_log_nbr].TSIZx;                   /* Read EP transfer reg            
 2403              		.loc 1 1661 14 is_stmt 0 view .LVU794
 2404 000a 01F14805 		add	r5, r1, #72
 2405 000e 6D01     		lsls	r5, r5, #5
 2406 0010 7759     		ldr	r7, [r6, r5]
 2407              	.LVL272:
1662:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2408              		.loc 1 1662 5 is_stmt 1 view .LVU795
1662:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2409              		.loc 1 1662 14 is_stmt 0 view .LVU796
 2410 0012 06EB411C 		add	ip, r6, r1, lsl #5
 2411 0016 DCF81049 		ldr	r4, [ip, #2320]
 2412              	.LVL273:
1664:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg |=  buf_len;                                       /* Transfer size                   
 2413              		.loc 1 1664 5 is_stmt 1 view .LVU797
 2414 001a E40C     		lsrs	r4, r4, #19
 2415              	.LVL274:
ARM GAS  /tmp/ccEVxbcI.s 			page 90


1664:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg |=  buf_len;                                       /* Transfer size                   
 2416              		.loc 1 1664 5 is_stmt 0 view .LVU798
 2417 001c E404     		lsls	r4, r4, #19
 2418              	.LVL275:
1665:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg |= (1u << 19u);                                    /* Packet count                    
 2419              		.loc 1 1665 5 is_stmt 1 view .LVU799
1665:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     tsiz_reg |= (1u << 19u);                                    /* Packet count                    
 2420              		.loc 1 1665 14 is_stmt 0 view .LVU800
 2421 001e 1C43     		orrs	r4, r4, r3
 2422              	.LVL276:
1666:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2423              		.loc 1 1666 5 is_stmt 1 view .LVU801
1666:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2424              		.loc 1 1666 14 is_stmt 0 view .LVU802
 2425 0020 44F40024 		orr	r4, r4, #524288
 2426              	.LVL277:
1669:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2427              		.loc 1 1669 5 is_stmt 1 view .LVU803
1669:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2428              		.loc 1 1669 13 is_stmt 0 view .LVU804
 2429 0024 47F00447 		orr	r7, r7, #-2080374784
 2430              	.LVL278:
1671:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DIEP[ep_log_nbr].CTLx  = ctl_reg;
 2431              		.loc 1 1671 5 is_stmt 1 view .LVU805
1671:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DIEP[ep_log_nbr].CTLx  = ctl_reg;
 2432              		.loc 1 1671 35 is_stmt 0 view .LVU806
 2433 0028 CCF81049 		str	r4, [ip, #2320]
1672:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2434              		.loc 1 1672 5 is_stmt 1 view .LVU807
1672:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2435              		.loc 1 1672 35 is_stmt 0 view .LVU808
 2436 002c 7751     		str	r7, [r6, r5]
1674:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2437              		.loc 1 1674 5 is_stmt 1 view .LVU809
 2438 002e 9BB2     		uxth	r3, r3
 2439              	.LVL279:
1674:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2440              		.loc 1 1674 5 is_stmt 0 view .LVU810
 2441 0030 FFF7FEFF 		bl	STM32_TxFIFO_Wr
 2442              	.LVL280:
1676:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2443              		.loc 1 1676 67 is_stmt 1 view .LVU811
1678:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2444              		.loc 1 1678 5 view .LVU812
1678:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2445              		.loc 1 1678 12 is_stmt 0 view .LVU813
 2446 0034 069B     		ldr	r3, [sp, #24]
 2447 0036 0022     		movs	r2, #0
 2448 0038 1A80     		strh	r2, [r3]	@ movhi
1679:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2449              		.loc 1 1679 1 view .LVU814
 2450 003a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
1679:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2451              		.loc 1 1679 1 view .LVU815
 2452              		.cfi_endproc
 2453              	.LFE19:
 2455              		.section	.text.USBD_DrvEP_TxZLP,"ax",%progbits
ARM GAS  /tmp/ccEVxbcI.s 			page 91


 2456              		.align	1
 2457              		.syntax unified
 2458              		.thumb
 2459              		.thumb_func
 2460              		.fpu fpv4-sp-d16
 2462              	USBD_DrvEP_TxZLP:
 2463              	.LVL281:
 2464              	.LFB20:
1705:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP TxZLP", ep_addr);
 2465              		.loc 1 1705 1 is_stmt 1 view -0
 2466              		.cfi_startproc
 2467              		@ args = 0, pretend = 0, frame = 0
 2468              		@ frame_needed = 0, uses_anonymous_args = 0
1705:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DBG_DRV_EP("  Drv EP TxZLP", ep_addr);
 2469              		.loc 1 1705 1 is_stmt 0 view .LVU817
 2470 0000 00B5     		push	{lr}
 2471              	.LCFI24:
 2472              		.cfi_def_cfa_offset 4
 2473              		.cfi_offset 14, -4
 2474 0002 83B0     		sub	sp, sp, #12
 2475              	.LCFI25:
 2476              		.cfi_def_cfa_offset 16
1706:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2477              		.loc 1 1706 47 is_stmt 1 view .LVU818
1708:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      ep_addr,
 2478              		.loc 1 1708 5 view .LVU819
 2479 0004 0092     		str	r2, [sp]
 2480 0006 0023     		movs	r3, #0
 2481 0008 1A46     		mov	r2, r3
 2482              	.LVL282:
1708:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                      ep_addr,
 2483              		.loc 1 1708 5 is_stmt 0 view .LVU820
 2484 000a FFF7FEFF 		bl	USBD_DrvEP_TxStart
 2485              	.LVL283:
1713:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2486              		.loc 1 1713 1 view .LVU821
 2487 000e 03B0     		add	sp, sp, #12
 2488              	.LCFI26:
 2489              		.cfi_def_cfa_offset 4
 2490              		@ sp needed
 2491 0010 5DF804FB 		ldr	pc, [sp], #4
 2492              		.cfi_endproc
 2493              	.LFE20:
 2495              		.section	.text.USBD_DrvHandlerInit,"ax",%progbits
 2496              		.align	1
 2497              		.syntax unified
 2498              		.thumb
 2499              		.thumb_func
 2500              		.fpu fpv4-sp-d16
 2502              	USBD_DrvHandlerInit:
 2503              	.LVL284:
 2504              	.LFB4:
 834:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_nbr;
 2505              		.loc 1 834 1 is_stmt 1 view -0
 2506              		.cfi_startproc
 2507              		@ args = 0, pretend = 0, frame = 16
 2508              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccEVxbcI.s 			page 92


 834:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT08U           ep_nbr;
 2509              		.loc 1 834 1 is_stmt 0 view .LVU823
 2510 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2511              	.LCFI27:
 2512              		.cfi_def_cfa_offset 20
 2513              		.cfi_offset 4, -20
 2514              		.cfi_offset 5, -16
 2515              		.cfi_offset 6, -12
 2516              		.cfi_offset 7, -8
 2517              		.cfi_offset 14, -4
 2518 0002 85B0     		sub	sp, sp, #20
 2519              	.LCFI28:
 2520              		.cfi_def_cfa_offset 40
 2521 0004 0746     		mov	r7, r0
 2522 0006 0E46     		mov	r6, r1
 2523 0008 1546     		mov	r5, r2
 835:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_INT32U           reg_to;
 2524              		.loc 1 835 5 is_stmt 1 view .LVU824
 836:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_REG32            ctrl_reg;
 2525              		.loc 1 836 5 view .LVU825
 837:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     CPU_SIZE_T           reqd_octets;
 2526              		.loc 1 837 5 view .LVU826
 838:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     LIB_ERR              lib_mem_err;
 2527              		.loc 1 838 5 view .LVU827
 839:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_STM32F_FS_REG  *p_reg;
 2528              		.loc 1 839 5 view .LVU828
 840:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_BSP_API    *p_bsp_api;
 2529              		.loc 1 840 5 view .LVU829
 841:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DRV_DATA_EP    *p_drv_data;
 2530              		.loc 1 841 5 view .LVU830
 842:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2531              		.loc 1 842 5 view .LVU831
 846:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                    sizeof(CPU_ALIGN),
 2532              		.loc 1 846 5 view .LVU832
 846:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                    sizeof(CPU_ALIGN),
 2533              		.loc 1 846 38 is_stmt 0 view .LVU833
 2534 000a 0DF10603 		add	r3, sp, #6
 2535 000e 02AA     		add	r2, sp, #8
 2536              	.LVL285:
 846:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                    sizeof(CPU_ALIGN),
 2537              		.loc 1 846 38 view .LVU834
 2538 0010 0421     		movs	r1, #4
 2539              	.LVL286:
 846:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                    sizeof(CPU_ALIGN),
 2540              		.loc 1 846 38 view .LVU835
 2541 0012 9C20     		movs	r0, #156
 2542              	.LVL287:
 846:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                    sizeof(CPU_ALIGN),
 2543              		.loc 1 846 38 view .LVU836
 2544 0014 FFF7FEFF 		bl	Mem_HeapAlloc
 2545              	.LVL288:
 850:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_err = USBD_ERR_ALLOC;
 2546              		.loc 1 850 5 is_stmt 1 view .LVU837
 850:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****        *p_err = USBD_ERR_ALLOC;
 2547              		.loc 1 850 8 is_stmt 0 view .LVU838
 2548 0018 B0B1     		cbz	r0, .L177
 2549 001a 0446     		mov	r4, r0
ARM GAS  /tmp/ccEVxbcI.s 			page 93


 855:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2550              		.loc 1 855 5 is_stmt 1 view .LVU839
 2551 001c 9C21     		movs	r1, #156
 2552 001e FFF7FEFF 		bl	Mem_Clr
 2553              	.LVL289:
 857:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv->DataPtr      = p_drv_data;                           /* Store drv internal data ptr.    
 2554              		.loc 1 857 5 view .LVU840
 857:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_drv->DataPtr      = p_drv_data;                           /* Store drv internal data ptr.    
 2555              		.loc 1 857 25 is_stmt 0 view .LVU841
 2556 0022 A4F89860 		strh	r6, [r4, #152]	@ movhi
 858:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2557              		.loc 1 858 5 is_stmt 1 view .LVU842
 858:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2558              		.loc 1 858 25 is_stmt 0 view .LVU843
 2559 0026 FC60     		str	r4, [r7, #12]
 860:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg     = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;  /* Get USB ctrl reg ref.           
 2560              		.loc 1 860 5 is_stmt 1 view .LVU844
 860:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg     = (USBD_STM32F_FS_REG *)p_drv->CfgPtr->BaseAddr;  /* Get USB ctrl reg ref.           
 2561              		.loc 1 860 15 is_stmt 0 view .LVU845
 2562 0028 3B69     		ldr	r3, [r7, #16]
 2563              	.LVL290:
 861:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2564              		.loc 1 861 5 is_stmt 1 view .LVU846
 861:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2565              		.loc 1 861 44 is_stmt 0 view .LVU847
 2566 002a BA68     		ldr	r2, [r7, #8]
 861:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2567              		.loc 1 861 52 view .LVU848
 2568 002c 1468     		ldr	r4, [r2]
 2569              	.LVL291:
 863:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_bsp_api->Init(p_drv);                                 /* Call board/chip specific device 
 2570              		.loc 1 863 5 is_stmt 1 view .LVU849
 863:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_bsp_api->Init(p_drv);                                 /* Call board/chip specific device 
 2571              		.loc 1 863 18 is_stmt 0 view .LVU850
 2572 002e 1B68     		ldr	r3, [r3]
 2573              	.LVL292:
 863:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_bsp_api->Init(p_drv);                                 /* Call board/chip specific device 
 2574              		.loc 1 863 8 view .LVU851
 2575 0030 0BB1     		cbz	r3, .L151
 864:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ... initialization function.    
 2576              		.loc 1 864 9 is_stmt 1 view .LVU852
 2577 0032 3846     		mov	r0, r7
 2578 0034 9847     		blx	r3
 2579              	.LVL293:
 2580              	.L151:
 869:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2581              		.loc 1 869 5 view .LVU853
 2582 0036 A368     		ldr	r3, [r4, #8]
 2583 0038 23F00103 		bic	r3, r3, #1
 2584 003c A360     		str	r3, [r4, #8]
 872:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_FS:
 2585              		.loc 1 872 5 view .LVU854
 2586 003e 012E     		cmp	r6, #1
 2587 0040 05D9     		bls	.L178
 2588              	.L152:
 886:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_CLR(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_AHBIDL)) &&
 2589              		.loc 1 886 5 view .LVU855
ARM GAS  /tmp/ccEVxbcI.s 			page 94


 2590              	.LVL294:
 887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2591              		.loc 1 887 5 view .LVU856
 886:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_CLR(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_AHBIDL)) &&
 2592              		.loc 1 886 12 is_stmt 0 view .LVU857
 2593 0042 40F2FF33 		movw	r3, #1023
 887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2594              		.loc 1 887 11 view .LVU858
 2595 0046 08E0     		b	.L153
 2596              	.LVL295:
 2597              	.L177:
 851:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         return;
 2598              		.loc 1 851 8 is_stmt 1 view .LVU859
 851:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         return;
 2599              		.loc 1 851 15 is_stmt 0 view .LVU860
 2600 0048 0423     		movs	r3, #4
 2601 004a 2B80     		strh	r3, [r5]	@ movhi
 852:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2602              		.loc 1 852 9 is_stmt 1 view .LVU861
 2603 004c 91E0     		b	.L148
 2604              	.LVL296:
 2605              	.L178:
 876:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 2606              		.loc 1 876 14 view .LVU862
 2607 004e E368     		ldr	r3, [r4, #12]
 2608 0050 43F08003 		orr	r3, r3, #128
 2609 0054 E360     		str	r3, [r4, #12]
 877:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2610              		.loc 1 877 14 view .LVU863
 2611 0056 F4E7     		b	.L152
 2612              	.LVL297:
 2613              	.L155:
 889:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2614              		.loc 1 889 9 view .LVU864
 889:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2615              		.loc 1 889 15 is_stmt 0 view .LVU865
 2616 0058 013B     		subs	r3, r3, #1
 2617              	.LVL298:
 2618              	.L153:
 887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2619              		.loc 1 887 11 is_stmt 1 view .LVU866
 887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2620              		.loc 1 887 13 is_stmt 0 view .LVU867
 2621 005a 2269     		ldr	r2, [r4, #16]
 887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2622              		.loc 1 887 11 view .LVU868
 2623 005c 002A     		cmp	r2, #0
 2624 005e 01DB     		blt	.L154
 887:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2625              		.loc 1 887 75 discriminator 1 view .LVU869
 2626 0060 002B     		cmp	r3, #0
 2627 0062 F9D1     		bne	.L155
 2628              	.L154:
 892:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_FS:
 2629              		.loc 1 892 5 is_stmt 1 view .LVU870
 2630 0064 66B9     		cbnz	r6, .L156
 895:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              reg_to = STM32F_FS_REG_VAL_TO;                     /* Check all necessary logic is res
ARM GAS  /tmp/ccEVxbcI.s 			page 95


 2631              		.loc 1 895 14 view .LVU871
 2632 0066 2369     		ldr	r3, [r4, #16]
 2633              	.LVL299:
 895:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              reg_to = STM32F_FS_REG_VAL_TO;                     /* Check all necessary logic is res
 2634              		.loc 1 895 14 is_stmt 0 view .LVU872
 2635 0068 43F00203 		orr	r3, r3, #2
 2636 006c 2361     		str	r3, [r4, #16]
 896:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_HSRST)) &&
 2637              		.loc 1 896 14 is_stmt 1 view .LVU873
 2638              	.LVL300:
 897:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                     (reg_to > 0u)) {
 2639              		.loc 1 897 14 view .LVU874
 896:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_HSRST)) &&
 2640              		.loc 1 896 21 is_stmt 0 view .LVU875
 2641 006e 40F2FF33 		movw	r3, #1023
 2642              	.LVL301:
 2643              	.L157:
 897:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                     (reg_to > 0u)) {
 2644              		.loc 1 897 20 is_stmt 1 view .LVU876
 897:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                     (reg_to > 0u)) {
 2645              		.loc 1 897 22 is_stmt 0 view .LVU877
 2646 0072 2269     		ldr	r2, [r4, #16]
 897:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                     (reg_to > 0u)) {
 2647              		.loc 1 897 20 view .LVU878
 2648 0074 12F0020F 		tst	r2, #2
 2649 0078 02D0     		beq	.L156
 897:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                     (reg_to > 0u)) {
 2650              		.loc 1 897 83 discriminator 1 view .LVU879
 2651 007a 0BB1     		cbz	r3, .L156
 899:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 2652              		.loc 1 899 18 is_stmt 1 view .LVU880
 899:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 2653              		.loc 1 899 24 is_stmt 0 view .LVU881
 2654 007c 013B     		subs	r3, r3, #1
 2655              	.LVL302:
 899:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              }
 2656              		.loc 1 899 24 view .LVU882
 2657 007e F8E7     		b	.L157
 2658              	.L156:
 908:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2659              		.loc 1 908 5 is_stmt 1 view .LVU883
 2660 0080 2369     		ldr	r3, [r4, #16]
 2661              	.LVL303:
 908:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2662              		.loc 1 908 5 is_stmt 0 view .LVU884
 2663 0082 43F00103 		orr	r3, r3, #1
 2664 0086 2361     		str	r3, [r4, #16]
 910:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_CSRST)) &&
 2665              		.loc 1 910 5 is_stmt 1 view .LVU885
 2666              	.LVL304:
 911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2667              		.loc 1 911 5 view .LVU886
 910:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_CSRST)) &&
 2668              		.loc 1 910 12 is_stmt 0 view .LVU887
 2669 0088 40F2FF33 		movw	r3, #1023
 911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2670              		.loc 1 911 11 view .LVU888
ARM GAS  /tmp/ccEVxbcI.s 			page 96


 2671 008c 00E0     		b	.L159
 2672              	.LVL305:
 2673              	.L161:
 913:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2674              		.loc 1 913 9 is_stmt 1 view .LVU889
 913:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2675              		.loc 1 913 15 is_stmt 0 view .LVU890
 2676 008e 013B     		subs	r3, r3, #1
 2677              	.LVL306:
 2678              	.L159:
 911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2679              		.loc 1 911 11 is_stmt 1 view .LVU891
 911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2680              		.loc 1 911 13 is_stmt 0 view .LVU892
 2681 0090 2269     		ldr	r2, [r4, #16]
 911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2682              		.loc 1 911 11 view .LVU893
 2683 0092 12F0010F 		tst	r2, #1
 2684 0096 01D0     		beq	.L160
 911:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2685              		.loc 1 911 74 discriminator 1 view .LVU894
 2686 0098 002B     		cmp	r3, #0
 2687 009a F8D1     		bne	.L161
 2688              	.L160:
 916:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->GCCFG = STM32F_FS_GCCFG_BIT_PWRDWN;
 2689              		.loc 1 916 5 is_stmt 1 view .LVU895
 916:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->GCCFG = STM32F_FS_GCCFG_BIT_PWRDWN;
 2690              		.loc 1 916 8 is_stmt 0 view .LVU896
 2691 009c 032E     		cmp	r6, #3
 2692 009e 02D0     		beq	.L162
 917:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2693              		.loc 1 917 9 is_stmt 1 view .LVU897
 917:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2694              		.loc 1 917 22 is_stmt 0 view .LVU898
 2695 00a0 4FF48033 		mov	r3, #65536
 2696              	.LVL307:
 917:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2697              		.loc 1 917 22 view .LVU899
 2698 00a4 A363     		str	r3, [r4, #56]
 2699              	.L162:
 920:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     reg_to = STM32F_FS_REG_FMOD_TO;                             /* Wait at least 25ms before the ch
 2700              		.loc 1 920 5 is_stmt 1 view .LVU900
 2701 00a6 E368     		ldr	r3, [r4, #12]
 2702 00a8 43F08043 		orr	r3, r3, #1073741824
 2703 00ac E360     		str	r3, [r4, #12]
 921:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while (reg_to > 0u) {
 2704              		.loc 1 921 5 view .LVU901
 2705              	.LVL308:
 922:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to--;
 2706              		.loc 1 922 5 view .LVU902
 921:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while (reg_to > 0u) {
 2707              		.loc 1 921 12 is_stmt 0 view .LVU903
 2708 00ae 324B     		ldr	r3, .L181
 2709              	.LVL309:
 2710              	.L163:
 922:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         reg_to--;
 2711              		.loc 1 922 11 is_stmt 1 view .LVU904
ARM GAS  /tmp/ccEVxbcI.s 			page 97


 2712 00b0 0BB1     		cbz	r3, .L179
 923:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2713              		.loc 1 923 9 view .LVU905
 923:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2714              		.loc 1 923 15 is_stmt 0 view .LVU906
 2715 00b2 013B     		subs	r3, r3, #1
 2716              	.LVL310:
 923:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2717              		.loc 1 923 15 view .LVU907
 2718 00b4 FCE7     		b	.L163
 2719              	.L179:
 926:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         case DRV_STM32F_FS:
 2720              		.loc 1 926 5 is_stmt 1 view .LVU908
 2721 00b6 9EB1     		cbz	r6, .L165
 2722 00b8 012E     		cmp	r6, #1
 2723 00ba 16D0     		beq	.L166
 2724              	.LVL311:
 2725              	.L167:
 947:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2726              		.loc 1 947 5 view .LVU909
 947:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2727              		.loc 1 947 18 is_stmt 0 view .LVU910
 2728 00bc 0023     		movs	r3, #0
 2729 00be C4F8003E 		str	r3, [r4, #3584]
 949:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                   STM32F_FS_DCFG_DSPD_FULLSPEED;
 2730              		.loc 1 949 5 is_stmt 1 view .LVU911
 949:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                   STM32F_FS_DCFG_DSPD_FULLSPEED;
 2731              		.loc 1 949 17 is_stmt 0 view .LVU912
 2732 00c2 0323     		movs	r3, #3
 2733 00c4 C4F80038 		str	r3, [r4, #2048]
 952:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      STM32F_FS_GRSTCTL_FLUSH_TXFIFO_ALL;
 2734              		.loc 1 952 5 is_stmt 1 view .LVU913
 952:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                      STM32F_FS_GRSTCTL_FLUSH_TXFIFO_ALL;
 2735              		.loc 1 952 20 is_stmt 0 view .LVU914
 2736 00c8 4FF48463 		mov	r3, #1056
 2737 00cc 2361     		str	r3, [r4, #16]
 955:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_TXFFLSH)) &&
 2738              		.loc 1 955 5 is_stmt 1 view .LVU915
 2739              	.LVL312:
 956:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2740              		.loc 1 956 5 view .LVU916
 955:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_TXFFLSH)) &&
 2741              		.loc 1 955 12 is_stmt 0 view .LVU917
 2742 00ce 40F2FF33 		movw	r3, #1023
 2743              	.LVL313:
 2744              	.L168:
 956:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2745              		.loc 1 956 11 is_stmt 1 view .LVU918
 956:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2746              		.loc 1 956 13 is_stmt 0 view .LVU919
 2747 00d2 2269     		ldr	r2, [r4, #16]
 956:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2748              		.loc 1 956 11 view .LVU920
 2749 00d4 12F0200F 		tst	r2, #32
 2750 00d8 10D0     		beq	.L169
 956:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2751              		.loc 1 956 76 discriminator 1 view .LVU921
ARM GAS  /tmp/ccEVxbcI.s 			page 98


 2752 00da 7BB1     		cbz	r3, .L169
 958:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2753              		.loc 1 958 9 is_stmt 1 view .LVU922
 958:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2754              		.loc 1 958 15 is_stmt 0 view .LVU923
 2755 00dc 013B     		subs	r3, r3, #1
 2756              	.LVL314:
 958:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2757              		.loc 1 958 15 view .LVU924
 2758 00de F8E7     		b	.L168
 2759              	.L165:
 928:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 2760              		.loc 1 928 14 is_stmt 1 view .LVU925
 928:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 2761              		.loc 1 928 27 is_stmt 0 view .LVU926
 2762 00e0 A36B     		ldr	r3, [r4, #56]
 2763              	.LVL315:
 928:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              break;
 2764              		.loc 1 928 27 view .LVU927
 2765 00e2 43F40013 		orr	r3, r3, #2097152
 2766 00e6 A363     		str	r3, [r4, #56]
 929:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2767              		.loc 1 929 14 is_stmt 1 view .LVU928
 2768 00e8 E8E7     		b	.L167
 2769              	.LVL316:
 2770              	.L166:
 934:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_SET(p_reg->GOTGCTL, (STM32F_FS_GOTGCTL_BIT_BVALOEN  |
 2771              		.loc 1 934 14 view .LVU929
 2772 00ea A36B     		ldr	r3, [r4, #56]
 2773              	.LVL317:
 934:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****              DEF_BIT_SET(p_reg->GOTGCTL, (STM32F_FS_GOTGCTL_BIT_BVALOEN  |
 2774              		.loc 1 934 14 is_stmt 0 view .LVU930
 2775 00ec 23F40013 		bic	r3, r3, #2097152
 2776 00f0 A363     		str	r3, [r4, #56]
 935:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                           STM32F_FS_GOTGCTL_BIT_BVALOVAL));
 2777              		.loc 1 935 14 is_stmt 1 view .LVU931
 2778 00f2 2368     		ldr	r3, [r4]
 2779 00f4 43F0C003 		orr	r3, r3, #192
 2780 00f8 2360     		str	r3, [r4]
 937:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2781              		.loc 1 937 14 view .LVU932
 2782 00fa DFE7     		b	.L167
 2783              	.LVL318:
 2784              	.L169:
 962:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2785              		.loc 1 962 5 view .LVU933
 2786 00fc 2369     		ldr	r3, [r4, #16]
 2787              	.LVL319:
 962:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2788              		.loc 1 962 5 is_stmt 0 view .LVU934
 2789 00fe 43F01003 		orr	r3, r3, #16
 2790 0102 2361     		str	r3, [r4, #16]
 964:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_RXFFLSH)) &&
 2791              		.loc 1 964 5 is_stmt 1 view .LVU935
 2792              	.LVL320:
 965:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2793              		.loc 1 965 5 view .LVU936
ARM GAS  /tmp/ccEVxbcI.s 			page 99


 964:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     while ((DEF_BIT_IS_SET(p_reg->GRSTCTL, STM32F_FS_GRSTCTL_BIT_RXFFLSH)) &&
 2794              		.loc 1 964 12 is_stmt 0 view .LVU937
 2795 0104 40F2FF33 		movw	r3, #1023
 2796              	.LVL321:
 2797              	.L171:
 965:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2798              		.loc 1 965 11 is_stmt 1 view .LVU938
 965:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2799              		.loc 1 965 13 is_stmt 0 view .LVU939
 2800 0108 2269     		ldr	r2, [r4, #16]
 965:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2801              		.loc 1 965 11 view .LVU940
 2802 010a 12F0100F 		tst	r2, #16
 2803 010e 02D0     		beq	.L172
 965:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****            (reg_to > 0u)) {
 2804              		.loc 1 965 76 discriminator 1 view .LVU941
 2805 0110 0BB1     		cbz	r3, .L172
 967:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2806              		.loc 1 967 9 is_stmt 1 view .LVU942
 967:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2807              		.loc 1 967 15 is_stmt 0 view .LVU943
 2808 0112 013B     		subs	r3, r3, #1
 2809              	.LVL322:
 967:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2810              		.loc 1 967 15 view .LVU944
 2811 0114 F8E7     		b	.L171
 2812              	.L172:
 970:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DOEPMSK  = DEF_BIT_NONE;                             /* Dis. interrupts for the Device O
 2813              		.loc 1 970 5 is_stmt 1 view .LVU945
 970:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DOEPMSK  = DEF_BIT_NONE;                             /* Dis. interrupts for the Device O
 2814              		.loc 1 970 21 is_stmt 0 view .LVU946
 2815 0116 0023     		movs	r3, #0
 2816              	.LVL323:
 970:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DOEPMSK  = DEF_BIT_NONE;                             /* Dis. interrupts for the Device O
 2817              		.loc 1 970 21 view .LVU947
 2818 0118 C4F81038 		str	r3, [r4, #2064]
 971:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DAINTMSK = DEF_BIT_NONE;                             /* Dis. interrupts foo all Device E
 2819              		.loc 1 971 5 is_stmt 1 view .LVU948
 971:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     p_reg->DAINTMSK = DEF_BIT_NONE;                             /* Dis. interrupts foo all Device E
 2820              		.loc 1 971 21 is_stmt 0 view .LVU949
 2821 011c C4F81438 		str	r3, [r4, #2068]
 972:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2822              		.loc 1 972 5 is_stmt 1 view .LVU950
 972:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2823              		.loc 1 972 21 is_stmt 0 view .LVU951
 2824 0120 C4F81C38 		str	r3, [r4, #2076]
 974:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                STM32F_FS_DxEPCTLx_BIT_SNAK;
 2825              		.loc 1 974 5 is_stmt 1 view .LVU952
 974:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                STM32F_FS_DxEPCTLx_BIT_SNAK;
 2826              		.loc 1 974 14 is_stmt 0 view .LVU953
 2827 0124 4FF09042 		mov	r2, #1207959552
 2828 0128 0392     		str	r2, [sp, #12]
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
 2829              		.loc 1 977 5 is_stmt 1 view .LVU954
 2830              	.LVL324:
 2831              	.L174:
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
ARM GAS  /tmp/ccEVxbcI.s 			page 100


 2832              		.loc 1 977 23 discriminator 1 view .LVU955
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
 2833              		.loc 1 977 5 is_stmt 0 discriminator 1 view .LVU956
 2834 012a 0F2B     		cmp	r3, #15
 2835 012c 18D8     		bhi	.L180
 979:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEP[ep_nbr].TSIZx = DEF_BIT_NONE;
 2836              		.loc 1 979 9 is_stmt 1 discriminator 3 view .LVU957
 979:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEP[ep_nbr].TSIZx = DEF_BIT_NONE;
 2837              		.loc 1 979 35 is_stmt 0 discriminator 3 view .LVU958
 2838 012e 0399     		ldr	r1, [sp, #12]
 2839 0130 03F14802 		add	r2, r3, #72
 2840 0134 5201     		lsls	r2, r2, #5
 2841 0136 A150     		str	r1, [r4, r2]
 980:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEP[ep_nbr].INTx  = 0x000000FFu;                /* Clear any pending Interrupt     
 2842              		.loc 1 980 9 is_stmt 1 discriminator 3 view .LVU959
 980:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DIEP[ep_nbr].INTx  = 0x000000FFu;                /* Clear any pending Interrupt     
 2843              		.loc 1 980 35 is_stmt 0 discriminator 3 view .LVU960
 2844 0138 04EB4311 		add	r1, r4, r3, lsl #5
 2845 013c 0026     		movs	r6, #0
 2846 013e C1F81069 		str	r6, [r1, #2320]
 981:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2847              		.loc 1 981 9 is_stmt 1 discriminator 3 view .LVU961
 981:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2848              		.loc 1 981 35 is_stmt 0 discriminator 3 view .LVU962
 2849 0142 FF22     		movs	r2, #255
 2850 0144 C1F80829 		str	r2, [r1, #2312]
 984:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DOEP[ep_nbr].TSIZx = DEF_BIT_NONE;
 2851              		.loc 1 984 9 is_stmt 1 discriminator 3 view .LVU963
 984:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DOEP[ep_nbr].TSIZx = DEF_BIT_NONE;
 2852              		.loc 1 984 35 is_stmt 0 discriminator 3 view .LVU964
 2853 0148 039F     		ldr	r7, [sp, #12]
 2854 014a 03F15800 		add	r0, r3, #88
 2855 014e 4001     		lsls	r0, r0, #5
 2856 0150 2750     		str	r7, [r4, r0]
 985:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DOEP[ep_nbr].INTx  = 0x000000FFu;                /* Clear any pending Interrupt     
 2857              		.loc 1 985 9 is_stmt 1 discriminator 3 view .LVU965
 985:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****         p_reg->DOEP[ep_nbr].INTx  = 0x000000FFu;                /* Clear any pending Interrupt     
 2858              		.loc 1 985 35 is_stmt 0 discriminator 3 view .LVU966
 2859 0152 C1F8106B 		str	r6, [r1, #2832]
 986:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2860              		.loc 1 986 9 is_stmt 1 discriminator 3 view .LVU967
 986:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     }
 2861              		.loc 1 986 35 is_stmt 0 discriminator 3 view .LVU968
 2862 0156 C1F8082B 		str	r2, [r1, #2824]
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
 2863              		.loc 1 977 51 is_stmt 1 discriminator 3 view .LVU969
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
 2864              		.loc 1 977 57 is_stmt 0 discriminator 3 view .LVU970
 2865 015a 0133     		adds	r3, r3, #1
 2866              	.LVL325:
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
 2867              		.loc 1 977 57 discriminator 3 view .LVU971
 2868 015c DBB2     		uxtb	r3, r3
 2869              	.LVL326:
 977:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****                                                                 /* ----------------- IN ENDPOINT RE
 2870              		.loc 1 977 57 discriminator 3 view .LVU972
 2871 015e E4E7     		b	.L174
ARM GAS  /tmp/ccEVxbcI.s 			page 101


 2872              	.L180:
 989:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2873              		.loc 1 989 5 is_stmt 1 view .LVU973
 989:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2874              		.loc 1 989 20 is_stmt 0 view .LVU974
 2875 0160 0022     		movs	r2, #0
 2876 0162 A261     		str	r2, [r4, #24]
 991:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2877              		.loc 1 991 5 is_stmt 1 view .LVU975
 2878 0164 D4F80038 		ldr	r3, [r4, #2048]
 2879              	.LVL327:
 991:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2880              		.loc 1 991 5 is_stmt 0 view .LVU976
 2881 0168 23F4FE63 		bic	r3, r3, #2032
 2882 016c C4F80038 		str	r3, [r4, #2048]
 993:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2883              		.loc 1 993 4 is_stmt 1 view .LVU977
 993:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2884              		.loc 1 993 11 is_stmt 0 view .LVU978
 2885 0170 2A80     		strh	r2, [r5]	@ movhi
 2886              	.LVL328:
 2887              	.L148:
 994:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2888              		.loc 1 994 1 view .LVU979
 2889 0172 05B0     		add	sp, sp, #20
 2890              	.LCFI29:
 2891              		.cfi_def_cfa_offset 20
 2892              		@ sp needed
 2893 0174 F0BD     		pop	{r4, r5, r6, r7, pc}
 2894              	.LVL329:
 2895              	.L182:
 994:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2896              		.loc 1 994 1 view .LVU980
 2897 0176 00BF     		.align	2
 2898              	.L181:
 2899 0178 FFFF0700 		.word	524287
 2900              		.cfi_endproc
 2901              	.LFE4:
 2903              		.section	.text.USBD_DrvSTM32F_FS_Init,"ax",%progbits
 2904              		.align	1
 2905              		.syntax unified
 2906              		.thumb
 2907              		.thumb_func
 2908              		.fpu fpv4-sp-d16
 2910              	USBD_DrvSTM32F_FS_Init:
 2911              	.LVL330:
 2912              	.LFB0:
 778:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_STM32F_FS, p_err);
 2913              		.loc 1 778 1 is_stmt 1 view -0
 2914              		.cfi_startproc
 2915              		@ args = 0, pretend = 0, frame = 0
 2916              		@ frame_needed = 0, uses_anonymous_args = 0
 778:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_STM32F_FS, p_err);
 2917              		.loc 1 778 1 is_stmt 0 view .LVU982
 2918 0000 08B5     		push	{r3, lr}
 2919              	.LCFI30:
 2920              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccEVxbcI.s 			page 102


 2921              		.cfi_offset 3, -8
 2922              		.cfi_offset 14, -4
 2923 0002 0A46     		mov	r2, r1
 779:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2924              		.loc 1 779 5 is_stmt 1 view .LVU983
 2925 0004 0021     		movs	r1, #0
 2926              	.LVL331:
 779:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2927              		.loc 1 779 5 is_stmt 0 view .LVU984
 2928 0006 FFF7FEFF 		bl	USBD_DrvHandlerInit
 2929              	.LVL332:
 780:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2930              		.loc 1 780 1 view .LVU985
 2931 000a 08BD     		pop	{r3, pc}
 2932              		.cfi_endproc
 2933              	.LFE0:
 2935              		.section	.text.USBD_DrvSTM32F_OTG_FS_Init,"ax",%progbits
 2936              		.align	1
 2937              		.syntax unified
 2938              		.thumb
 2939              		.thumb_func
 2940              		.fpu fpv4-sp-d16
 2942              	USBD_DrvSTM32F_OTG_FS_Init:
 2943              	.LVL333:
 2944              	.LFB1:
 785:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_STM32F_OTG_FS, p_err);
 2945              		.loc 1 785 1 is_stmt 1 view -0
 2946              		.cfi_startproc
 2947              		@ args = 0, pretend = 0, frame = 0
 2948              		@ frame_needed = 0, uses_anonymous_args = 0
 785:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_STM32F_OTG_FS, p_err);
 2949              		.loc 1 785 1 is_stmt 0 view .LVU987
 2950 0000 08B5     		push	{r3, lr}
 2951              	.LCFI31:
 2952              		.cfi_def_cfa_offset 8
 2953              		.cfi_offset 3, -8
 2954              		.cfi_offset 14, -4
 2955 0002 0A46     		mov	r2, r1
 786:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2956              		.loc 1 786 5 is_stmt 1 view .LVU988
 2957 0004 0121     		movs	r1, #1
 2958              	.LVL334:
 786:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2959              		.loc 1 786 5 is_stmt 0 view .LVU989
 2960 0006 FFF7FEFF 		bl	USBD_DrvHandlerInit
 2961              	.LVL335:
 787:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2962              		.loc 1 787 1 view .LVU990
 2963 000a 08BD     		pop	{r3, pc}
 2964              		.cfi_endproc
 2965              	.LFE1:
 2967              		.section	.text.USBD_DrvEFM32_OTG_FS_Init,"ax",%progbits
 2968              		.align	1
 2969              		.syntax unified
 2970              		.thumb
 2971              		.thumb_func
 2972              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccEVxbcI.s 			page 103


 2974              	USBD_DrvEFM32_OTG_FS_Init:
 2975              	.LVL336:
 2976              	.LFB2:
 792:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_EFM32_OTG_FS, p_err);
 2977              		.loc 1 792 1 is_stmt 1 view -0
 2978              		.cfi_startproc
 2979              		@ args = 0, pretend = 0, frame = 0
 2980              		@ frame_needed = 0, uses_anonymous_args = 0
 792:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_EFM32_OTG_FS, p_err);
 2981              		.loc 1 792 1 is_stmt 0 view .LVU992
 2982 0000 08B5     		push	{r3, lr}
 2983              	.LCFI32:
 2984              		.cfi_def_cfa_offset 8
 2985              		.cfi_offset 3, -8
 2986              		.cfi_offset 14, -4
 2987 0002 0A46     		mov	r2, r1
 793:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2988              		.loc 1 793 5 is_stmt 1 view .LVU993
 2989 0004 0221     		movs	r1, #2
 2990              	.LVL337:
 793:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 2991              		.loc 1 793 5 is_stmt 0 view .LVU994
 2992 0006 FFF7FEFF 		bl	USBD_DrvHandlerInit
 2993              	.LVL338:
 794:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 2994              		.loc 1 794 1 view .LVU995
 2995 000a 08BD     		pop	{r3, pc}
 2996              		.cfi_endproc
 2997              	.LFE2:
 2999              		.section	.text.USBD_DrvXMC_OTG_FS_Init,"ax",%progbits
 3000              		.align	1
 3001              		.syntax unified
 3002              		.thumb
 3003              		.thumb_func
 3004              		.fpu fpv4-sp-d16
 3006              	USBD_DrvXMC_OTG_FS_Init:
 3007              	.LVL339:
 3008              	.LFB3:
 799:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_XMC_OTG_FS, p_err);
 3009              		.loc 1 799 1 is_stmt 1 view -0
 3010              		.cfi_startproc
 3011              		@ args = 0, pretend = 0, frame = 0
 3012              		@ frame_needed = 0, uses_anonymous_args = 0
 799:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c ****     USBD_DrvHandlerInit(p_drv, DRV_XMC_OTG_FS, p_err);
 3013              		.loc 1 799 1 is_stmt 0 view .LVU997
 3014 0000 08B5     		push	{r3, lr}
 3015              	.LCFI33:
 3016              		.cfi_def_cfa_offset 8
 3017              		.cfi_offset 3, -8
 3018              		.cfi_offset 14, -4
 3019 0002 0A46     		mov	r2, r1
 800:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 3020              		.loc 1 800 5 is_stmt 1 view .LVU998
 3021 0004 0321     		movs	r1, #3
 3022              	.LVL340:
 800:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** }
 3023              		.loc 1 800 5 is_stmt 0 view .LVU999
ARM GAS  /tmp/ccEVxbcI.s 			page 104


 3024 0006 FFF7FEFF 		bl	USBD_DrvHandlerInit
 3025              	.LVL341:
 801:bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.c **** 
 3026              		.loc 1 801 1 view .LVU1000
 3027 000a 08BD     		pop	{r3, pc}
 3028              		.cfi_endproc
 3029              	.LFE3:
 3031              		.global	USBD_DrvAPI_XMC_OTG_FS
 3032              		.global	USBD_DrvAPI_EFM32_OTG_FS
 3033              		.global	USBD_DrvAPI_STM32F_OTG_FS
 3034              		.global	USBD_DrvAPI_STM32F_FS
 3035              		.section	.rodata.USBD_DrvAPI_EFM32_OTG_FS,"a"
 3036              		.align	2
 3039              	USBD_DrvAPI_EFM32_OTG_FS:
 3040 0000 00000000 		.word	USBD_DrvEFM32_OTG_FS_Init
 3041 0004 00000000 		.word	USBD_DrvEFM32_OTG_FS_Start
 3042 0008 00000000 		.word	USBD_DrvStop
 3043 000c 00000000 		.word	USBD_DrvAddrSet
 3044 0010 00000000 		.word	0
 3045 0014 00000000 		.word	0
 3046 0018 00000000 		.word	0
 3047 001c 00000000 		.word	USBD_DrvFrameNbrGet
 3048 0020 00000000 		.word	USBD_DrvEP_Open
 3049 0024 00000000 		.word	USBD_DrvEP_Close
 3050 0028 00000000 		.word	USBD_DrvEP_RxStart
 3051 002c 00000000 		.word	USBD_DrvEP_Rx
 3052 0030 00000000 		.word	USBD_DrvEP_RxZLP
 3053 0034 00000000 		.word	USBD_DrvEP_Tx
 3054 0038 00000000 		.word	USBD_DrvEP_TxStart
 3055 003c 00000000 		.word	USBD_DrvEP_TxZLP
 3056 0040 00000000 		.word	USBD_DrvEP_Abort
 3057 0044 00000000 		.word	USBD_DrvEP_Stall
 3058 0048 00000000 		.word	USBD_DrvISR_Handler
 3059              		.section	.rodata.USBD_DrvAPI_STM32F_FS,"a"
 3060              		.align	2
 3063              	USBD_DrvAPI_STM32F_FS:
 3064 0000 00000000 		.word	USBD_DrvSTM32F_FS_Init
 3065 0004 00000000 		.word	USBD_DrvSTM32F_FS_Start
 3066 0008 00000000 		.word	USBD_DrvStop
 3067 000c 00000000 		.word	USBD_DrvAddrSet
 3068 0010 00000000 		.word	0
 3069 0014 00000000 		.word	0
 3070 0018 00000000 		.word	0
 3071 001c 00000000 		.word	USBD_DrvFrameNbrGet
 3072 0020 00000000 		.word	USBD_DrvEP_Open
 3073 0024 00000000 		.word	USBD_DrvEP_Close
 3074 0028 00000000 		.word	USBD_DrvEP_RxStart
 3075 002c 00000000 		.word	USBD_DrvEP_Rx
 3076 0030 00000000 		.word	USBD_DrvEP_RxZLP
 3077 0034 00000000 		.word	USBD_DrvEP_Tx
 3078 0038 00000000 		.word	USBD_DrvEP_TxStart
 3079 003c 00000000 		.word	USBD_DrvEP_TxZLP
 3080 0040 00000000 		.word	USBD_DrvEP_Abort
 3081 0044 00000000 		.word	USBD_DrvEP_Stall
 3082 0048 00000000 		.word	USBD_DrvISR_Handler
 3083              		.section	.rodata.USBD_DrvAPI_STM32F_OTG_FS,"a"
 3084              		.align	2
ARM GAS  /tmp/ccEVxbcI.s 			page 105


 3087              	USBD_DrvAPI_STM32F_OTG_FS:
 3088 0000 00000000 		.word	USBD_DrvSTM32F_OTG_FS_Init
 3089 0004 00000000 		.word	USBD_DrvSTM32F_OTG_FS_Start
 3090 0008 00000000 		.word	USBD_DrvStop
 3091 000c 00000000 		.word	USBD_DrvAddrSet
 3092 0010 00000000 		.word	0
 3093 0014 00000000 		.word	0
 3094 0018 00000000 		.word	0
 3095 001c 00000000 		.word	USBD_DrvFrameNbrGet
 3096 0020 00000000 		.word	USBD_DrvEP_Open
 3097 0024 00000000 		.word	USBD_DrvEP_Close
 3098 0028 00000000 		.word	USBD_DrvEP_RxStart
 3099 002c 00000000 		.word	USBD_DrvEP_Rx
 3100 0030 00000000 		.word	USBD_DrvEP_RxZLP
 3101 0034 00000000 		.word	USBD_DrvEP_Tx
 3102 0038 00000000 		.word	USBD_DrvEP_TxStart
 3103 003c 00000000 		.word	USBD_DrvEP_TxZLP
 3104 0040 00000000 		.word	USBD_DrvEP_Abort
 3105 0044 00000000 		.word	USBD_DrvEP_Stall
 3106 0048 00000000 		.word	USBD_DrvISR_Handler
 3107              		.section	.rodata.USBD_DrvAPI_XMC_OTG_FS,"a"
 3108              		.align	2
 3111              	USBD_DrvAPI_XMC_OTG_FS:
 3112 0000 00000000 		.word	USBD_DrvXMC_OTG_FS_Init
 3113 0004 00000000 		.word	USBD_DrvXMC_OTG_FS_Start
 3114 0008 00000000 		.word	USBD_DrvStop
 3115 000c 00000000 		.word	USBD_DrvAddrSet
 3116 0010 00000000 		.word	0
 3117 0014 00000000 		.word	0
 3118 0018 00000000 		.word	0
 3119 001c 00000000 		.word	USBD_DrvFrameNbrGet
 3120 0020 00000000 		.word	USBD_DrvEP_Open
 3121 0024 00000000 		.word	USBD_DrvEP_Close
 3122 0028 00000000 		.word	USBD_DrvEP_RxStart
 3123 002c 00000000 		.word	USBD_DrvEP_Rx
 3124 0030 00000000 		.word	USBD_DrvEP_RxZLP
 3125 0034 00000000 		.word	USBD_DrvEP_Tx
 3126 0038 00000000 		.word	USBD_DrvEP_TxStart
 3127 003c 00000000 		.word	USBD_DrvEP_TxZLP
 3128 0040 00000000 		.word	USBD_DrvEP_Abort
 3129 0044 00000000 		.word	USBD_DrvEP_Stall
 3130 0048 00000000 		.word	USBD_DrvISR_Handler
 3131              		.text
 3132              	.Letext0:
 3133              		.file 2 "rtos/uC-CPU/ARM-Cortex-M/ARMv7-M/GNU/cpu.h"
 3134              		.file 3 "rtos/uC-LIB/lib_def.h"
 3135              		.file 4 "rtos/uC-USB-Device/Class/HID/../../Source/usbd_core.h"
 3136              		.file 5 "bsp/STMicroelectronics/rtos/usbd_drv_stm32f_fs.h"
 3137              		.file 6 "rtos/uC-CPU/cpu_core.h"
 3138              		.file 7 "rtos/uC-LIB/lib_mem.h"
ARM GAS  /tmp/ccEVxbcI.s 			page 106


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_drv_stm32f_fs.c
     /tmp/ccEVxbcI.s:18     .text.USBD_DrvHandlerStart:0000000000000000 $t
     /tmp/ccEVxbcI.s:25     .text.USBD_DrvHandlerStart:0000000000000000 USBD_DrvHandlerStart
     /tmp/ccEVxbcI.s:100    .text.USBD_DrvHandlerStart:0000000000000044 $d
     /tmp/ccEVxbcI.s:105    .text.USBD_DrvSTM32F_FS_Start:0000000000000000 $t
     /tmp/ccEVxbcI.s:111    .text.USBD_DrvSTM32F_FS_Start:0000000000000000 USBD_DrvSTM32F_FS_Start
     /tmp/ccEVxbcI.s:137    .text.USBD_DrvSTM32F_OTG_FS_Start:0000000000000000 $t
     /tmp/ccEVxbcI.s:143    .text.USBD_DrvSTM32F_OTG_FS_Start:0000000000000000 USBD_DrvSTM32F_OTG_FS_Start
     /tmp/ccEVxbcI.s:169    .text.USBD_DrvEFM32_OTG_FS_Start:0000000000000000 $t
     /tmp/ccEVxbcI.s:175    .text.USBD_DrvEFM32_OTG_FS_Start:0000000000000000 USBD_DrvEFM32_OTG_FS_Start
     /tmp/ccEVxbcI.s:201    .text.USBD_DrvXMC_OTG_FS_Start:0000000000000000 $t
     /tmp/ccEVxbcI.s:207    .text.USBD_DrvXMC_OTG_FS_Start:0000000000000000 USBD_DrvXMC_OTG_FS_Start
     /tmp/ccEVxbcI.s:233    .text.USBD_DrvStop:0000000000000000 $t
     /tmp/ccEVxbcI.s:239    .text.USBD_DrvStop:0000000000000000 USBD_DrvStop
     /tmp/ccEVxbcI.s:297    .text.USBD_DrvAddrSet:0000000000000000 $t
     /tmp/ccEVxbcI.s:303    .text.USBD_DrvAddrSet:0000000000000000 USBD_DrvAddrSet
     /tmp/ccEVxbcI.s:337    .text.USBD_DrvFrameNbrGet:0000000000000000 $t
     /tmp/ccEVxbcI.s:343    .text.USBD_DrvFrameNbrGet:0000000000000000 USBD_DrvFrameNbrGet
     /tmp/ccEVxbcI.s:373    .text.USBD_DrvEP_Open:0000000000000000 $t
     /tmp/ccEVxbcI.s:379    .text.USBD_DrvEP_Open:0000000000000000 USBD_DrvEP_Open
     /tmp/ccEVxbcI.s:580    .text.USBD_DrvEP_Open:00000000000000dc $d
     /tmp/ccEVxbcI.s:585    .text.USBD_DrvEP_Close:0000000000000000 $t
     /tmp/ccEVxbcI.s:591    .text.USBD_DrvEP_Close:0000000000000000 USBD_DrvEP_Close
     /tmp/ccEVxbcI.s:663    .text.USBD_DrvEP_RxStart:0000000000000000 $t
     /tmp/ccEVxbcI.s:669    .text.USBD_DrvEP_RxStart:0000000000000000 USBD_DrvEP_RxStart
     /tmp/ccEVxbcI.s:829    .text.USBD_DrvEP_Rx:0000000000000000 $t
     /tmp/ccEVxbcI.s:835    .text.USBD_DrvEP_Rx:0000000000000000 USBD_DrvEP_Rx
     /tmp/ccEVxbcI.s:916    .text.USBD_DrvEP_RxZLP:0000000000000000 $t
     /tmp/ccEVxbcI.s:922    .text.USBD_DrvEP_RxZLP:0000000000000000 USBD_DrvEP_RxZLP
     /tmp/ccEVxbcI.s:943    .text.USBD_DrvEP_Tx:0000000000000000 $t
     /tmp/ccEVxbcI.s:949    .text.USBD_DrvEP_Tx:0000000000000000 USBD_DrvEP_Tx
     /tmp/ccEVxbcI.s:1005   .text.USBD_DrvEP_Abort:0000000000000000 $t
     /tmp/ccEVxbcI.s:1011   .text.USBD_DrvEP_Abort:0000000000000000 USBD_DrvEP_Abort
     /tmp/ccEVxbcI.s:1195   .text.USBD_DrvEP_Stall:0000000000000000 $t
     /tmp/ccEVxbcI.s:1201   .text.USBD_DrvEP_Stall:0000000000000000 USBD_DrvEP_Stall
     /tmp/ccEVxbcI.s:1367   .text.STM32_RxFIFO_Rd:0000000000000000 $t
     /tmp/ccEVxbcI.s:1373   .text.STM32_RxFIFO_Rd:0000000000000000 STM32_RxFIFO_Rd
     /tmp/ccEVxbcI.s:1688   .text.STM32_EP_InProcess:0000000000000000 $t
     /tmp/ccEVxbcI.s:1694   .text.STM32_EP_InProcess:0000000000000000 STM32_EP_InProcess
     /tmp/ccEVxbcI.s:1783   .text.STM32_EP_OutProcess:0000000000000000 $t
     /tmp/ccEVxbcI.s:1789   .text.STM32_EP_OutProcess:0000000000000000 STM32_EP_OutProcess
     /tmp/ccEVxbcI.s:1912   .text.USBD_DrvISR_Handler:0000000000000000 $t
     /tmp/ccEVxbcI.s:1918   .text.USBD_DrvISR_Handler:0000000000000000 USBD_DrvISR_Handler
     /tmp/ccEVxbcI.s:2211   .text.USBD_DrvISR_Handler:0000000000000194 $d
     /tmp/ccEVxbcI.s:2217   .text.STM32_TxFIFO_Wr:0000000000000000 $t
     /tmp/ccEVxbcI.s:2223   .text.STM32_TxFIFO_Wr:0000000000000000 STM32_TxFIFO_Wr
     /tmp/ccEVxbcI.s:2365   .text.USBD_DrvEP_TxStart:0000000000000000 $t
     /tmp/ccEVxbcI.s:2371   .text.USBD_DrvEP_TxStart:0000000000000000 USBD_DrvEP_TxStart
     /tmp/ccEVxbcI.s:2456   .text.USBD_DrvEP_TxZLP:0000000000000000 $t
     /tmp/ccEVxbcI.s:2462   .text.USBD_DrvEP_TxZLP:0000000000000000 USBD_DrvEP_TxZLP
     /tmp/ccEVxbcI.s:2496   .text.USBD_DrvHandlerInit:0000000000000000 $t
     /tmp/ccEVxbcI.s:2502   .text.USBD_DrvHandlerInit:0000000000000000 USBD_DrvHandlerInit
     /tmp/ccEVxbcI.s:2899   .text.USBD_DrvHandlerInit:0000000000000178 $d
     /tmp/ccEVxbcI.s:2904   .text.USBD_DrvSTM32F_FS_Init:0000000000000000 $t
     /tmp/ccEVxbcI.s:2910   .text.USBD_DrvSTM32F_FS_Init:0000000000000000 USBD_DrvSTM32F_FS_Init
     /tmp/ccEVxbcI.s:2936   .text.USBD_DrvSTM32F_OTG_FS_Init:0000000000000000 $t
ARM GAS  /tmp/ccEVxbcI.s 			page 107


     /tmp/ccEVxbcI.s:2942   .text.USBD_DrvSTM32F_OTG_FS_Init:0000000000000000 USBD_DrvSTM32F_OTG_FS_Init
     /tmp/ccEVxbcI.s:2968   .text.USBD_DrvEFM32_OTG_FS_Init:0000000000000000 $t
     /tmp/ccEVxbcI.s:2974   .text.USBD_DrvEFM32_OTG_FS_Init:0000000000000000 USBD_DrvEFM32_OTG_FS_Init
     /tmp/ccEVxbcI.s:3000   .text.USBD_DrvXMC_OTG_FS_Init:0000000000000000 $t
     /tmp/ccEVxbcI.s:3006   .text.USBD_DrvXMC_OTG_FS_Init:0000000000000000 USBD_DrvXMC_OTG_FS_Init
     /tmp/ccEVxbcI.s:3111   .rodata.USBD_DrvAPI_XMC_OTG_FS:0000000000000000 USBD_DrvAPI_XMC_OTG_FS
     /tmp/ccEVxbcI.s:3039   .rodata.USBD_DrvAPI_EFM32_OTG_FS:0000000000000000 USBD_DrvAPI_EFM32_OTG_FS
     /tmp/ccEVxbcI.s:3087   .rodata.USBD_DrvAPI_STM32F_OTG_FS:0000000000000000 USBD_DrvAPI_STM32F_OTG_FS
     /tmp/ccEVxbcI.s:3063   .rodata.USBD_DrvAPI_STM32F_FS:0000000000000000 USBD_DrvAPI_STM32F_FS
     /tmp/ccEVxbcI.s:3036   .rodata.USBD_DrvAPI_EFM32_OTG_FS:0000000000000000 $d
     /tmp/ccEVxbcI.s:3060   .rodata.USBD_DrvAPI_STM32F_FS:0000000000000000 $d
     /tmp/ccEVxbcI.s:3084   .rodata.USBD_DrvAPI_STM32F_OTG_FS:0000000000000000 $d
     /tmp/ccEVxbcI.s:3108   .rodata.USBD_DrvAPI_XMC_OTG_FS:0000000000000000 $d
                           .group:0000000000000000 wm4.0.0f5aa60db9403f389c005f20ecce4286
                           .group:0000000000000000 wm4.usbd_core.h.42.d0f6b126d3befd3546f8a4cae986d0a5
                           .group:0000000000000000 wm4.cpu_def.h.46.baa122a2898bdc40bb50d1f21ead1515
                           .group:0000000000000000 wm4.cpu_cfg.h.45.38a6a562da8b04490c382a226238c57e
                           .group:0000000000000000 wm4.cpu.h.171.3cb15ee3ccb812cbfdf76d1fbfb9eda0
                           .group:0000000000000000 wm4.lib_def.h.66.6ab2a012067a8e1f4289db5765835062
                           .group:0000000000000000 wm4.cpu_core.h.51.bda0b8f45c33e87ce41267758624493c
                           .group:0000000000000000 wm4.lib_cfg.h.40.b2958733f73e73af70f675ca0f89303e
                           .group:0000000000000000 wm4.lib_mem.h.121.89b942a057fb20091baad8bf6b28b1e6
                           .group:0000000000000000 wm4.usbd_cfg.h.48.0c6a80b26779ed3e26907144d5186f9c
                           .group:0000000000000000 wm4.usbd_core.h.97.cd0da30c6a7cd4f210b1364f9143aa0a

UNDEFINED SYMBOLS
USBD_EP_TxCmpl
CPU_CntLeadZeros32
USBD_EP_RxCmpl
USBD_EventSetup
USBD_EventReset
USBD_EventConn
USBD_EventDisconn
USBD_EventSuspend
USBD_EventResume
CPU_SR_Save
CPU_SR_Restore
Mem_HeapAlloc
Mem_Clr
